const _0x27c6=['position','query','orientedBoundingBox','size','enablePan','uninstallDivisionFloorEvent','button','\x22的对象楼层分户必需参数:{\x22floorHeight\x22:','id为\x22','create','App','setClippingPlanes','Pick','LevelPickOperation','createBuildObj','SingleClick','listener','cursor','userData','#db6400','scale','enableRotate','<div\x20id\x20=\x20\x22pointBoard\x22\x20style\x20=\x20\x22z-index:\x2010;\x20font-size:\x2013px;\x20color:#f0f0f0;position\x20:absolute;padding:0\x203px;background:rgba(0,0,0,0.5)\x22><span\x20class\x20=\x20\x22uint\x22></span><span\x20class\x20=\x20\x22floor\x22>F','style','cameraTarget','template','forEach','dealBuildingData','color','floorIndex','UIAnchor','#div3d','height','build','parent','min','camera','EventTag','target','floorInfo','calcFloor','yAngle','srcElem','pickable','divisionFloorEvent','MouseMove','getElementById','renderOrder','右键回退','app','default','current','\x22的对象缺少楼层分户必需参数:{\x22floorHeight\x22:[]}]','type\x20为\x20\x22DivideBuilding\x22\x20的对象缺少id','createMenuState','createCard','off','room','pickedPosition','visible','toString','pointer','Shape','floorHeight','clearClippingPlanes','keys','floorPosY','pauseEvent','radiusFactor','roof','boundingBox','max','</span></div>','length','direction','EventType','countFloorPosY','campusDivision','remove','reduce','test','find','status','cameraEvent','cameraPos','push','floors','xAngle','floorCamera','enableZoom','pickedObj','pivot','element','opacity','defaultEvent','resumeEvent','selectFooor','log','Facade','randomStr','楼层移动','init','type','getTime','}]参数不规范','division-box-','regionPolygon','css','楼层点击'];(function(_0x30d51f,_0x27c6f4){const _0x31d2bc=function(_0x26f01e){while(--_0x26f01e){_0x30d51f['push'](_0x30d51f['shift']());}};_0x31d2bc(++_0x27c6f4);}(_0x27c6,0x19c));const _0x31d2=function(_0x30d51f,_0x27c6f4){_0x30d51f=_0x30d51f-0x0;let _0x31d2bc=_0x27c6[_0x30d51f];return _0x31d2bc;};const _0x5b0e6a=_0x31d2;class DivisionFloor{constructor(){const _0x29cd30=_0x31d2;this[_0x29cd30('0x10')]();}['init'](){const _0x4aaf12=_0x31d2;this['app']=THING[_0x4aaf12('0x22')][_0x4aaf12('0x4b')],this[_0x4aaf12('0x6c')]=this[_0x4aaf12('0x49')][_0x4aaf12('0x3c')][_0x4aaf12('0x18')],this[_0x4aaf12('0x30')]=this[_0x4aaf12('0x49')][_0x4aaf12('0x3c')][_0x4aaf12('0x3e')],this[_0x4aaf12('0xe')]=_0x4aaf12('0x14')+new Date()[_0x4aaf12('0x12')]()[_0x4aaf12('0x54')](),this['floorInfo']={},this[_0x4aaf12('0x28')]={},this[_0x4aaf12('0x6a')]=![],this[_0x4aaf12('0x9')]=['floorClick','roomClick','floorLevelBack'],this['regionPolygon']=null,this[_0x4aaf12('0xb')]=![],this[_0x4aaf12('0x4e')]=!![];}[_0x5b0e6a('0x44')](_0x51f817){const _0x754cc8=_0x5b0e6a;var _0x10b8ae=this,_0xc3c5a5,_0x481280,_0xa27540=[];_0x10b8ae[_0x754cc8('0x49')]['on']('MouseMove',function(_0x4a672a){const _0x2fb5ff=_0x754cc8;if(!_0x4a672a['pickedObj'])return;_0x4a672a[_0x2fb5ff('0x5')][_0x2fb5ff('0x11')]==_0x2fb5ff('0xd')&&(_0x4a672a[_0x2fb5ff('0x5')]=_0x4a672a[_0x2fb5ff('0x5')][_0x2fb5ff('0x3a')]),_0x10b8ae['floorInfo']&&($(_0x2fb5ff('0x37'))[_0x2fb5ff('0x16')]('cursor',_0x2fb5ff('0x55')),_0xc3c5a5=Object[_0x2fb5ff('0x59')](_0x10b8ae[_0x2fb5ff('0x3f')])[_0x2fb5ff('0x69')](_0x23b2f8=>_0x23b2f8==_0x4a672a['pickedObj']['id'])),_0xc3c5a5?(_0x481280=_0x10b8ae[_0x2fb5ff('0x40')](_0x4a672a[_0x2fb5ff('0x52')][0x1],_0x10b8ae[_0x2fb5ff('0x3f')][_0xc3c5a5][_0x2fb5ff('0x5a')],0x0),_0x10b8ae[_0x2fb5ff('0x65')](_0x10b8ae['app'][_0x2fb5ff('0x19')]('#'+_0xc3c5a5)[0x0],_0x10b8ae[_0x2fb5ff('0x3f')][_0xc3c5a5]['floorHeight'][_0x481280],_0x10b8ae[_0x2fb5ff('0x3f')][_0xc3c5a5][_0x2fb5ff('0x5a')][_0x481280-0x1],_0x481280,_0xc3c5a5)):(_0x10b8ae[_0x2fb5ff('0x15')]&&(_0x10b8ae['regionPolygon']['destroy'](),_0x10b8ae[_0x2fb5ff('0x15')]=null),$('#div3d')[_0x2fb5ff('0x16')](_0x2fb5ff('0x29'),'default'));},_0x754cc8('0xf')),_0x10b8ae['app']['on']('SingleClick',function(_0x5bf076){const _0x52459b=_0x754cc8;if(!_0xc3c5a5||_0x5bf076['button']==0x2||_0x5bf076[_0x52459b('0x1e')]==0x1)return;_0x10b8ae[_0x52459b('0x49')][_0x52459b('0x5b')]('MouseMove','*','楼层移动'),_0x10b8ae[_0x52459b('0xb')]=!![];if(_0x51f817[_0x52459b('0x1')]){_0x51f817[_0x52459b('0x1')]['visible']=!![];const _0x5443dd={};_0x5443dd[_0x52459b('0x38')]=_0x51f817[_0x52459b('0x5e')][_0x52459b('0x3b')][0x1]-_0x51f817['floors'][_0x481280-0x1]['boundingBox'][_0x52459b('0x3b')][0x1]+0.4,_0x5443dd[_0x52459b('0x62')]=[0x0,0x1,0x0];const _0x58cefd={};_0x58cefd[_0x52459b('0x38')]=_0x51f817[_0x52459b('0x1')][_0x481280-0x1][_0x52459b('0x5e')][_0x52459b('0x5f')][0x1]-_0x51f817[_0x52459b('0x5e')][_0x52459b('0x3b')][0x1]-0.5,_0x58cefd[_0x52459b('0x62')]=[0x0,-0x1,0x0],_0xa27540=[_0x5443dd,_0x58cefd];}else{const _0x1dc695={};_0x1dc695['height']=_0x51f817[_0x52459b('0x5e')][_0x52459b('0x3b')][0x1]-_0x10b8ae[_0x52459b('0x15')][_0x52459b('0x5e')]['min'][0x1]+0.4,_0x1dc695['direction']=[0x0,0x1,0x0];const _0x277f59={};_0x277f59[_0x52459b('0x38')]=_0x10b8ae[_0x52459b('0x15')][_0x52459b('0x5e')]['max'][0x1]-_0x51f817[_0x52459b('0x5e')][_0x52459b('0x3b')][0x1]-0.4,_0x277f59[_0x52459b('0x62')]=[0x0,-0x1,0x0],_0xa27540=[_0x1dc695,_0x277f59];}_0x10b8ae['app'][_0x52459b('0x5b')](THING[_0x52459b('0x63')]['Pick'],'*',THING[_0x52459b('0x3d')]['LevelPickOperation']),_0x51f817[_0x52459b('0x23')](_0xa27540),_0x10b8ae[_0x52459b('0x15')][_0x52459b('0x53')]=![],_0x10b8ae['app']['pauseEvent'](_0x52459b('0x27'),'*','楼层点击');},_0x754cc8('0x17')),_0x10b8ae[_0x754cc8('0x49')]['on'](_0x754cc8('0x27'),function(_0x6ff932){const _0x545c19=_0x754cc8;if(!_0xc3c5a5||_0x6ff932[_0x545c19('0x1e')]==0x0||_0x6ff932[_0x545c19('0x1e')]==0x1)return;_0x10b8ae[_0x545c19('0xb')]==!![]?(_0x10b8ae['app'][_0x545c19('0xa')](_0x545c19('0x45'),'*',_0x545c19('0xf')),_0x10b8ae[_0x545c19('0x49')][_0x545c19('0xa')](_0x545c19('0x27'),'*',_0x545c19('0x17')),_0x10b8ae[_0x545c19('0xb')]=![]):setTimeout(function(){const _0x2728b6=_0x545c19;_0x10b8ae[_0x2728b6('0x1d')](),_0x10b8ae[_0x2728b6('0x49')][_0x2728b6('0xa')](THING[_0x2728b6('0x63')][_0x2728b6('0x27')],'*','右键物体创建菜单');},0xc8),_0x10b8ae[_0x545c19('0x6b')](!![]),_0x10b8ae['campusDivision'](_0x10b8ae[_0x545c19('0x49')][_0x545c19('0x19')]('#'+_0xc3c5a5)[0x0],_0x10b8ae['floorInfo'][_0xc3c5a5][_0x545c19('0x57')][_0x481280],_0x10b8ae[_0x545c19('0x3f')][_0xc3c5a5]['floorPosY'][_0x481280-0x1],_0x481280,_0xc3c5a5),_0x51f817[_0x545c19('0x58')]();},_0x754cc8('0x48')),_0x10b8ae[_0x754cc8('0x33')](_0x51f817);}[_0x5b0e6a('0x40')](_0x73b9ba,_0x3b7800,_0x2e3397){const _0x46e12a=_0x5b0e6a;let _0x19f34a=_0x3b7800[_0x2e3397];if(_0x73b9ba-_0x19f34a<0x0||_0x2e3397>=_0x3b7800[_0x46e12a('0x61')]-0x1)return _0x2e3397;return _0x2e3397++,this['calcFloor'](_0x73b9ba,_0x3b7800,_0x2e3397);}[_0x5b0e6a('0x65')](_0x143c92,_0xf98da6,_0x2dd300,_0x2e3f49,_0xfc13e8){const _0x30c52a=_0x5b0e6a;var _0xd601a1=this;let _0x1e5c2b=[];_0x143c92[_0x30c52a('0x2f')]['outlineColor']=null,_0x143c92[_0x30c52a('0x1a')]['points'][_0x30c52a('0x32')]((_0x142c0d,_0x493cde)=>{const _0x17cfe7=_0x30c52a;_0x493cde<0x4&&_0x1e5c2b[_0x17cfe7('0x0')](_0x142c0d);});_0x2dd300+_0xf98da6>_0x143c92[_0x30c52a('0x1a')][_0x30c52a('0x1b')][0x1]&&(_0xf98da6=_0x143c92[_0x30c52a('0x39')][_0x30c52a('0x1a')][_0x30c52a('0x1b')][0x1]-_0x2dd300);let _0x56a9b0=[_0x1e5c2b[0x0],_0x1e5c2b[0x1],_0x1e5c2b[0x3],_0x1e5c2b[0x2]];_0xd601a1[_0x30c52a('0x15')]&&_0xd601a1['regionPolygon']['destroy']();const _0x3597df={};_0x3597df[_0x30c52a('0x34')]=_0x30c52a('0x2b'),_0x3597df[_0x30c52a('0x8')]=0.8,_0xd601a1[_0x30c52a('0x15')]=_0xd601a1[_0x30c52a('0x49')][_0x30c52a('0x21')]({'type':_0x30c52a('0x56'),'id':_0xd601a1[_0x30c52a('0xe')],'points':_0x56a9b0,'height':_0xf98da6,'style':_0x3597df}),_0xd601a1['regionPolygon'][_0x30c52a('0x2f')][_0x30c52a('0x47')]=0x3e8,_0xd601a1['regionPolygon'][_0x30c52a('0x43')]=![],_0xd601a1[_0x30c52a('0x15')][_0x30c52a('0x18')]=[_0xd601a1[_0x30c52a('0x15')][_0x30c52a('0x18')][0x0],_0x2dd300,_0xd601a1[_0x30c52a('0x15')][_0x30c52a('0x18')][0x2]],_0xd601a1[_0x30c52a('0x15')][_0x30c52a('0x2c')]=[1.02,0x1,1.02];let _0x318e28=[(_0x1e5c2b[0x3][0x0]+_0x1e5c2b[0x2][0x0])/0x2,_0x2dd300+_0xf98da6/0x3,(_0x1e5c2b[0x3][0x2]+_0x1e5c2b[0x2][0x2])/0x2];_0xd601a1[_0x30c52a('0x4f')]({'parent':_0xd601a1['regionPolygon'],'type':'floor','buildNo':_0xfc13e8,'floorIndex':_0x2e3f49,'position':_0x318e28});}[_0x5b0e6a('0x4f')](_0x29e23e){const _0x4a9cd8=_0x5b0e6a;let _0x2db52c=this;$('#pointBoard')&&$('#pointBoard')[_0x4a9cd8('0x66')]();;let _0x29944c=_0x29e23e[_0x4a9cd8('0x3a')],_0x295892=_0x29e23e[_0x4a9cd8('0x35')];_0x29e23e[_0x4a9cd8('0x11')]=='floor'&&(this[_0x4a9cd8('0x31')]=_0x4a9cd8('0x2e')+_0x295892+_0x4a9cd8('0x60'));$(_0x4a9cd8('0x37'))['append'](this[_0x4a9cd8('0x31')]),this['srcElem']=document[_0x4a9cd8('0x46')]('pointBoard');const _0x23bb16={};_0x23bb16[_0x4a9cd8('0x11')]=_0x4a9cd8('0x36'),_0x23bb16[_0x4a9cd8('0x3a')]=_0x29944c,_0x23bb16[_0x4a9cd8('0x7')]=this[_0x4a9cd8('0x42')];let _0x235e6a=_0x23bb16;_0x29e23e[_0x4a9cd8('0x18')]?_0x235e6a[_0x4a9cd8('0x18')]=_0x29e23e[_0x4a9cd8('0x18')]:null,_0x29e23e[_0x4a9cd8('0x6')]?_0x235e6a[_0x4a9cd8('0x6')]=_0x29e23e[_0x4a9cd8('0x6')]:null,this['ui']=_0x2db52c[_0x4a9cd8('0x49')][_0x4a9cd8('0x21')](_0x235e6a);}[_0x5b0e6a('0x6b')](_0x1b1051){const _0x4d023d=_0x5b0e6a;this[_0x4d023d('0x49')][_0x4d023d('0x3c')][_0x4d023d('0x1c')]=_0x1b1051,this[_0x4d023d('0x49')][_0x4d023d('0x3c')][_0x4d023d('0x2d')]=_0x1b1051,this[_0x4d023d('0x49')][_0x4d023d('0x3c')][_0x4d023d('0x4')]=_0x1b1051;}['dealBuildingData'](_0x3a752e){const _0x2a141b=_0x5b0e6a;var _0x2e0ffa=this;try{if(!_0x3a752e['id'])return console[_0x2a141b('0xc')](_0x2a141b('0x4d'));if(!_0x3a752e[_0x2a141b('0x2a')]['floorHeight'])return console[_0x2a141b('0xc')](_0x2a141b('0x20')+_0x3a752e['id']+_0x2a141b('0x4c'));let _0x5bc4f3=[],_0xabbc26=[];_0x3a752e[_0x2a141b('0x1')]?_0x3a752e['floors'][_0x2a141b('0x32')](_0x4e1e41=>{const _0x2e1e08=_0x2a141b;_0x4e1e41[_0x2e1e08('0x5d')][_0x2e1e08('0x53')]=![],_0xabbc26[_0x2e1e08('0x0')](_0x4e1e41[_0x2e1e08('0x1b')][0x1]);}):(_0x5bc4f3=_0x3a752e[_0x2a141b('0x2a')]['floorHeight'],_0xabbc26=_0x5bc4f3['split'](','));if(_0xabbc26[_0x2a141b('0x61')]<0x1)return;const _0x38a024={};_0x38a024['id']=_0x3a752e['id'],_0x38a024[_0x2a141b('0x57')]=[0x0],_0x38a024['room']={};let _0x17ba96=_0x38a024,_0x50f23c=/^\s+$/g;for(let _0x14e263=0x0;_0x14e263<_0xabbc26[_0x2a141b('0x61')];_0x14e263++){if(isNaN(Number(_0xabbc26[_0x14e263]))==!![]||_0x50f23c[_0x2a141b('0x68')](_0xabbc26[_0x14e263])==!![])return console['log'](_0x2a141b('0x20')+_0x3a752e['id']+_0x2a141b('0x1f')+_0x5bc4f3+_0x2a141b('0x13'));_0x17ba96[_0x2a141b('0x57')][_0x2a141b('0x0')](Number(_0xabbc26[_0x14e263]));}_0x2e0ffa['createBuildObj'](_0x17ba96);}catch(_0x3cb3c0){console[_0x2a141b('0xc')](_0x3cb3c0);}}[_0x5b0e6a('0x26')](_0x299ea6){const _0x3d3085=_0x5b0e6a;var _0x50ef81=this;if(_0x299ea6==null&&_0x299ea6['id']==null)return;const _0x535ed4={};_0x535ed4[_0x3d3085('0x2')]=0xf,_0x535ed4[_0x3d3085('0x41')]=0x2d,_0x535ed4[_0x3d3085('0x5c')]=0x1,_0x535ed4['time']=0x1f4,_0x50ef81[_0x3d3085('0x3f')][_0x299ea6['id']]={'floorHeight':_0x299ea6['floorHeight'],'floorPosY':[],'room':_0x299ea6[_0x3d3085('0x51')],'roomPosX':{},'floorCamera':_0x299ea6[_0x3d3085('0x3')]?_0x299ea6[_0x3d3085('0x3')]:_0x535ed4},_0x50ef81['countFloorPosY'](_0x299ea6['id']);}[_0x5b0e6a('0x64')](_0xb3da2b){const _0x45f79a=_0x5b0e6a;var _0x8a0340=this;_0x8a0340['floorInfo'][_0xb3da2b][_0x45f79a('0x5a')]=[],_0x8a0340[_0x45f79a('0x3f')][_0xb3da2b][_0x45f79a('0x57')][_0x45f79a('0x67')](function(_0x465642,_0x194386,_0x4f4abe){const _0x250f04=_0x45f79a;let _0x2b616e=_0x465642+_0x194386;return _0x8a0340[_0x250f04('0x3f')][_0xb3da2b]['floorPosY'][_0x250f04('0x0')](_0x2b616e),_0x465642+_0x194386;},0x0);}[_0x5b0e6a('0x1d')](){const _0x5ae5a9=_0x5b0e6a;var _0x1a748c=this;_0x1a748c[_0x5ae5a9('0x15')]!=null&&(_0x1a748c[_0x5ae5a9('0x15')]['destroy'](),_0x1a748c['regionPolygon']=null),_0x1a748c['app'][_0x5ae5a9('0x50')](_0x5ae5a9('0x45'),null,'楼层移动'),_0x1a748c[_0x5ae5a9('0x49')][_0x5ae5a9('0x50')](_0x5ae5a9('0x27'),null,_0x5ae5a9('0x17')),_0x1a748c[_0x5ae5a9('0x49')][_0x5ae5a9('0x50')](_0x5ae5a9('0x27'),null,_0x5ae5a9('0x48')),_0x1a748c['app']['resumeEvent'](THING[_0x5ae5a9('0x63')][_0x5ae5a9('0x24')],'*',THING['EventTag'][_0x5ae5a9('0x25')]),$('#div3d')['css'](_0x5ae5a9('0x29'),_0x5ae5a9('0x4a'));}}