const _0x5aaf=['parent','changeVerticalOffsetDistance','isOpen','getSceneAuthor','expandFloorInfoTips','showFloor','true','active','sceneCard','error','MouseWheel','bussiness_groundClearance','location','addClass','切换层级时改变右键菜单状态','expand','#expandFloorDataDetails\x20.tj-value','app','verticalDistance','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22context-menu-item-text\x22>楼层选择</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22context-menu-item\x20','hiddenInfoTips','text','.context-menu-item','level','localPosition','click','pickable','countVerticalOffsetDistance','divisionFloorEvent','menuContent','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22context-menu-item-text\x22>楼层展开</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22context-menu-item\x20startSelectFloor\x20disable\x22\x20data-id=\x22','name','pathname','Floor','none','initFloorEvent','isActive','banContextMenu','滑动滚轮改变楼层纵向间距','expendFloorToMarker','关闭楼层展开','visible','SingleClick','verticalExpand','关闭室内','#autoRotate','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22context-menu-item-text\x22>','block','function','addFloorPos','pauseEvent','floorExpandDistanceHtml','startFloatAnimation','hiddenFloor','determineObjectType','vertical','success','fail','keepTime','#expandFloorInfoTips','fadeOut','removeClass','width','EnterLevel','remove','hasClass','size','clientX','forEach','map','rightClickExpendFloor','top','empty','.Floor','facade','showFloorJson','.infoContainer','contextMenuHtml','startContextMenu','<div\x20class=\x22context-menu-item\x20saveTpProject\x22\x20data-type=\x22saveToProject\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22context-menu-item-text\x22>生成项目</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','disable','floors','css','complete','query','current','close','右键物体创建菜单','isRemove','fadeIn','roof','addcontextMenu','EventType','initEvent','picker','Campus','纵向按下Shift键','#expandFloorDataDetails','savePreToProject','#div2d','wheelState','App','display','data-id','buildInitPos','\x22\x20data-id=\x22','KeyDown','button','trigger','indexOf','off','expandState','\x22\x20class=\x22context-menu\x22\x20style=\x22display:block\x22></div>\x20','.context-menu\x20.context-menu-item','menuId','#verticalExpansion','createInfoTips','boundingBox','startSelectFloor','clientHeight','center','setAttribute','isEabled','selectState','append','.Building','type','Facade','userData','resumeEvent','contextMenu','getCurrentMap','getPermission','left','picked','saveTpProject','object','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','/pre/','false','length','position','tempObj','init','tip','undefined','.context-menu'];(function(_0x3d6448,_0x5aafe1){const _0x4e554e=function(_0x1dfd29){while(--_0x1dfd29){_0x3d6448['push'](_0x3d6448['shift']());}};_0x4e554e(++_0x5aafe1);}(_0x5aaf,0x1b5));const _0x4e55=function(_0x3d6448,_0x5aafe1){_0x3d6448=_0x3d6448-0x0;let _0x4e554e=_0x5aaf[_0x3d6448];return _0x4e554e;};const _0x2ff92d=_0x4e55;class ContextMenu{constructor(){this['init']();}[_0x2ff92d('0x0')](){const _0x2a8851=_0x2ff92d;this[_0x2a8851('0x15')]=THING[_0x2a8851('0x69')]['current'],typeof CMAP!='undefined'&&(this[_0x2a8851('0x49')]=CMAP[_0x2a8851('0x87')]()),this[_0x2a8851('0x76')]=_0x2a8851('0x86'),this[_0x2a8851('0x73')]=![],this[_0x2a8851('0x7f')]=![],this[_0x2a8851('0x21')]=null,this[_0x2a8851('0x92')]=null,this['isActive']=![],this['isEabled']=!![],this['showFloorJson']={},this[_0x2a8851('0x61')](),this[_0x2a8851('0x51')](),this[_0x2a8851('0x3a')]();}[_0x2ff92d('0x61')](){const _0x2a6ea6=_0x2ff92d;var _0x470fa3=this;_0x470fa3[_0x2a6ea6('0x15')]['on'](THING['EventType'][_0x2a6ea6('0x43')],'*',function(){const _0x1ec76c=_0x2a6ea6;if(_0x470fa3[_0x1ec76c('0x15')]['level'][_0x1ec76c('0x59')][_0x1ec76c('0x82')]==_0x1ec76c('0x63')){for(let _0x13c4bf in _0x470fa3[_0x1ec76c('0x4f')]){_0x470fa3[_0x1ec76c('0x4f')][_0x13c4bf][_0x1ec76c('0x55')][_0x1ec76c('0x2d')]=!![];}setTimeout(function(){const _0x4f5fd6=_0x1ec76c;_0x470fa3[_0x4f5fd6('0x7e')]=!![];},0x12c);}else _0x470fa3[_0x1ec76c('0x7e')]=![];},'ContextMenuLevelToCampus');}[_0x2ff92d('0x3a')](){const _0x1799fe=_0x2ff92d;var _0x32019a=this;$(document)['on'](_0x1799fe('0x1d'),function(_0x40701d){const _0x288a42=_0x1799fe;$(_0x288a42('0x3'))[_0x288a42('0x90')]>0x0&&($('.context-menu')['empty'](),_0x32019a['tempObj']=null);}),_0x32019a[_0x1799fe('0x15')]['on'](THING[_0x1799fe('0x60')][_0x1799fe('0x2e')],function(_0x431b1f){const _0x480fe7=_0x1799fe;$(_0x480fe7('0x3'))['css'](_0x480fe7('0x6a'),_0x480fe7('0x26'));if(_0x32019a['map']!=null){}else{if(_0x32019a[_0x480fe7('0x15')]['level']['current']['type']!=_0x480fe7('0x63')){_0x32019a[_0x480fe7('0x92')]=null;return;}}if(_0x431b1f[_0x480fe7('0x6f')]==0x2){if(_0x32019a[_0x480fe7('0x28')]==!![]||_0x32019a[_0x480fe7('0x7e')]==![])return;if(_0x431b1f[_0x480fe7('0x8a')]==!![]){if(_0x431b1f[_0x480fe7('0x8c')]==null){$(_0x480fe7('0x3'))[_0x480fe7('0x4c')](),_0x32019a[_0x480fe7('0x92')]=null,_0x32019a[_0x480fe7('0x5f')](),_0x32019a[_0x480fe7('0x52')]();return;};let _0x58a4e6=_0x431b1f['object'];if($('.context-menu-item')['length']>0x0&&$('.context-menu-item')['attr'](_0x480fe7('0x6b'))==_0x58a4e6['id']){$(_0x480fe7('0x3'))[_0x480fe7('0x56')]('display',_0x480fe7('0x33')),_0x32019a['tempObj']=_0x58a4e6;return;}_0x58a4e6[_0x480fe7('0x82')]==_0x480fe7('0x83')&&(_0x58a4e6=_0x58a4e6[_0x480fe7('0x4')]),_0x58a4e6[_0x480fe7('0x82')]=='Floor'&&(_0x58a4e6=_0x58a4e6['parent']),$(_0x480fe7('0x3'))[_0x480fe7('0x4c')](),_0x32019a[_0x480fe7('0x92')]=_0x58a4e6,_0x32019a[_0x480fe7('0x5f')](_0x58a4e6[_0x480fe7('0x82')],_0x58a4e6['id']),_0x32019a['startContextMenu']();}else $('.context-menu')[_0x480fe7('0x4c')](),_0x32019a['tempObj']=null,_0x32019a[_0x480fe7('0x5f')](),_0x32019a[_0x480fe7('0x52')]();if($(_0x480fe7('0x75'))[_0x480fe7('0x90')]>0x0){let _0x1207b0=_0x431b1f[_0x480fe7('0x47')],_0x525297=_0x431b1f['clientY'];$(_0x480fe7('0x3'))[_0x480fe7('0x56')](_0x480fe7('0x6a'),_0x480fe7('0x33'));let _0x16f2b7=$(_0x480fe7('0x3'))[0x0]['clientWidth'],_0x282ba6=$('.context-menu')[0x0][_0x480fe7('0x7b')];_0x1207b0=_0x1207b0+_0x16f2b7>$(window)[_0x480fe7('0x42')]()?_0x1207b0-_0x16f2b7:_0x1207b0,_0x525297=_0x525297+_0x282ba6>$(window)['height']()?_0x525297-_0x282ba6:_0x525297;const _0x209fa5={};_0x209fa5[_0x480fe7('0x89')]=_0x1207b0+'px',_0x209fa5[_0x480fe7('0x4b')]=_0x525297+'px',$(_0x480fe7('0x3'))[_0x480fe7('0x56')](_0x209fa5);}}else $(_0x480fe7('0x3'))[_0x480fe7('0x4c')](),_0x32019a[_0x480fe7('0x92')]=null;},_0x1799fe('0x5b')),this[_0x1799fe('0x49')]==null&&(_0x32019a[_0x1799fe('0x15')]['pauseEvent'](THING['EventType'][_0x1799fe('0x2e')],null,_0x1799fe('0x5b')),_0x32019a[_0x1799fe('0x15')]['on'](THING['EventType']['LevelFlyEnd'],function(_0x13a698){const _0x3b542e=_0x1799fe;_0x13a698[_0x3b542e('0x8c')][_0x3b542e('0x82')]==_0x3b542e('0x63')?(_0x32019a[_0x3b542e('0x15')]['resumeEvent'](THING[_0x3b542e('0x60')][_0x3b542e('0x2e')],null,_0x3b542e('0x5b')),_0x32019a[_0x3b542e('0x7e')]=!![]):(_0x32019a[_0x3b542e('0x7e')]=![],_0x32019a['app'][_0x3b542e('0x36')](THING[_0x3b542e('0x60')][_0x3b542e('0x2e')],null,_0x3b542e('0x5b')));},_0x1799fe('0x12')));}[_0x2ff92d('0x52')](){const _0x105bbb=_0x2ff92d;var _0x54bdf6=this;$(_0x105bbb('0x1a'))['on']('click',function(){const _0xbe7248=_0x105bbb;$(_0xbe7248('0x3'))[_0xbe7248('0x56')](_0xbe7248('0x6a'),_0xbe7248('0x26')),_0x54bdf6['clickContextMenu'](this);});}['clickContextMenu'](_0x3a931e){const _0x16c62d=_0x2ff92d;var _0x489e3f=this;if($(_0x3a931e)[_0x16c62d('0x45')](_0x16c62d('0x54')))return;if($(_0x3a931e)[_0x16c62d('0x45')]('expandFloor')){if(_0x489e3f[_0x16c62d('0x92')]==null)return;let _0x4bbf47=_0x489e3f[_0x16c62d('0x92')],_0x4b95ad=_0x4bbf47[_0x16c62d('0x84')]['sceneCard'];$(_0x16c62d('0x31'))['hasClass'](_0x16c62d('0xb'))&&$(_0x16c62d('0x31'))[_0x16c62d('0x70')](_0x16c62d('0x1d'));if(_0x4bbf47[_0x16c62d('0x84')][_0x16c62d('0x13')]==_0x16c62d('0xa'))return;_0x4bbf47['type']==_0x16c62d('0x25')&&(_0x4bbf47=_0x4bbf47[_0x16c62d('0x4')]);_0x4bbf47[_0x16c62d('0x82')]==_0x16c62d('0x83')&&(_0x4bbf47=_0x4bbf47[_0x16c62d('0x4')]);sceneBuildTopCardClass!=null&&sceneBuildTopCardClass['stopFloatAnimation'](_0x4bbf47);let _0x9f50da=_0x4bbf47[_0x16c62d('0x55')];_0x9f50da[_0x16c62d('0x2d')]=!![];for(let _0x3de24d=0x0;_0x3de24d<_0x9f50da['length'];_0x3de24d++){let _0x2932c8=_0x9f50da[_0x3de24d],_0x35488b=_0x2932c8[_0x16c62d('0x5e')];_0x35488b['visible']=![];}if(_0x9f50da[_0x16c62d('0x90')]>0x1){const _0x3a2ec3={};_0x3a2ec3['id']='expandFloorInfoTips',_0x3a2ec3[_0x16c62d('0x82')]=_0x16c62d('0x1'),_0x3a2ec3[_0x16c62d('0x19')]='按住【Shift+鼠标滚轮】可以调节楼层展开间距！',_0x3a2ec3[_0x16c62d('0x3e')]='10000',_0x3a2ec3[_0x16c62d('0x5c')]=![];let _0x2cf334=_0x3a2ec3;infoTipsClass[_0x16c62d('0x78')](_0x2cf334);}if(_0x4bbf47['facade']!=null){floorsTopCardClass!=null&&(floorsTopCardClass[_0x16c62d('0x27')](_0x4bbf47),floorsTopCardClass['rightClickExpendFloor']());if(_0x9f50da['length']>=0x1){if(_0x4b95ad!=null){_0x4bbf47[_0x16c62d('0x4e')][_0x16c62d('0x44')](_0x4b95ad);let _0x7a33d=_0x4bbf47[_0x16c62d('0x55')][_0x4bbf47[_0x16c62d('0x55')][_0x16c62d('0x90')]-0x1];_0x7a33d['add']({'object':_0x4b95ad,'localPosition':[0x0,_0x7a33d[_0x16c62d('0x46')][0x1]+0xa,0x0]});}_0x4bbf47[_0x16c62d('0x4e')]['fadeOut']({'time':0x320,'complete':function(){const _0x185867=_0x16c62d;_0x489e3f[_0x185867('0x28')]=!![],_0x489e3f[_0x185867('0x73')]=!![],_0x4bbf47[_0x185867('0x84')][_0x185867('0x13')]=_0x185867('0xa'),_0x4bbf47['userData'][_0x185867('0x6c')]=_0x4bbf47[_0x185867('0x91')],_0x4bbf47[_0x185867('0x91')]=[_0x4bbf47['position'][0x0],_0x4bbf47[_0x185867('0x91')][0x1]+0.1,_0x4bbf47[_0x185867('0x91')][0x2]];if(_0x9f50da['length']>0x1){if(_0x4bbf47[_0x185867('0x84')][_0x185867('0xf')]!=null){let _0x4ab9d6=parseFloat(_0x4bbf47['userData'][_0x185867('0xf')]);_0x4bbf47[_0x185867('0x91')]=[_0x4bbf47['position'][0x0],_0x4ab9d6,_0x4bbf47[_0x185867('0x91')][0x2]];}sceneExpandFloorClass[_0x185867('0x35')](_0x4bbf47),sceneExpandFloorClass[_0x185867('0x2f')](_0x4bbf47,'vertical'),sceneExpandFloorClass[_0x185867('0x5')](_0x4bbf47),$(_0x185867('0x77'))['addClass']('active'),$(_0x185867('0x65'))[_0x185867('0x90')]>0x0?$(_0x185867('0x65'))[_0x185867('0x56')](_0x185867('0x6a'),_0x185867('0x33')):sceneExpandFloorClass[_0x185867('0x37')](),$(_0x185867('0x14'))['text'](sceneExpandFloorClass['verticalDistance']);}}});}else _0x4bbf47['facade'][_0x16c62d('0x40')]({'time':0x320,'complete':function(){const _0xf53477=_0x16c62d;_0x489e3f['isActive']=!![],_0x4bbf47[_0xf53477('0x84')][_0xf53477('0x13')]=_0xf53477('0xa');}});}else floorsTopCardClass!=null&&(floorsTopCardClass['initFloorEvent'](_0x4bbf47),floorsTopCardClass[_0x16c62d('0x4a')]()),_0x489e3f[_0x16c62d('0x28')]=!![],_0x489e3f[_0x16c62d('0x73')]=!![],_0x4bbf47[_0x16c62d('0x84')][_0x16c62d('0x13')]=_0x16c62d('0xa'),_0x4bbf47['position']=[_0x4bbf47['position'][0x0],_0x4bbf47[_0x16c62d('0x91')][0x1]+0.1,_0x4bbf47[_0x16c62d('0x91')][0x2]],_0x9f50da['length']>0x1&&($(_0x16c62d('0x77'))[_0x16c62d('0x11')](_0x16c62d('0xb')),sceneExpandFloorClass[_0x16c62d('0x35')](_0x4bbf47),sceneExpandFloorClass['verticalExpand'](_0x4bbf47,_0x16c62d('0x3b')),sceneExpandFloorClass[_0x16c62d('0x5')](_0x4bbf47),$('#expandFloorDataDetails')[_0x16c62d('0x90')]>0x0?$(_0x16c62d('0x65'))[_0x16c62d('0x56')]('display','block'):sceneExpandFloorClass[_0x16c62d('0x37')](),$(_0x16c62d('0x14'))[_0x16c62d('0x19')](sceneExpandFloorClass[_0x16c62d('0x16')]));_0x489e3f[_0x16c62d('0x15')][_0x16c62d('0x62')]['pickedResultFunc']=function(_0x4a7a2f){const _0x11e754=_0x16c62d;if(_0x4a7a2f[_0x11e754('0x82')]==_0x11e754('0x25'))return _0x4a7a2f;},_0x489e3f['app'][_0x16c62d('0x58')](_0x16c62d('0x4d'))[_0x16c62d('0x48')](_0x228b71=>{const _0xada870=_0x16c62d;_0x228b71[_0xada870('0x1e')]=!![];}),_0x489e3f[_0x16c62d('0x15')]['on'](THING[_0x16c62d('0x60')][_0x16c62d('0x2e')],function(_0x33f596){const _0x246eae=_0x16c62d;_0x33f596[_0x246eae('0x6f')]==0x2&&_0x4bbf47[_0x246eae('0x84')][_0x246eae('0x13')]==_0x246eae('0xa')&&($(_0x246eae('0x3f'))[_0x246eae('0x56')](_0x246eae('0x6a'),_0x246eae('0x26')),infoTipsClass[_0x246eae('0x18')](_0x246eae('0x8')),$(_0x246eae('0x50'))[_0x246eae('0x41')]('moveTips'),_0x489e3f['app']['pauseEvent'](THING[_0x246eae('0x60')][_0x246eae('0x2e')],null,_0x246eae('0x5b')),_0x489e3f[_0x246eae('0x15')][_0x246eae('0x72')](THING['EventType'][_0x246eae('0x6e')],null,_0x246eae('0x64')),_0x4bbf47[_0x246eae('0x82')]=='Floor'&&(_0x4bbf47=_0x4bbf47[_0x246eae('0x4')]),_0x489e3f[_0x246eae('0x28')]=![],_0x489e3f[_0x246eae('0x73')]=![],_0x4bbf47['userData'][_0x246eae('0x13')]=_0x246eae('0x8f'),$('#verticalExpansion')[_0x246eae('0x41')](_0x246eae('0xb')),$(_0x246eae('0x65'))[_0x246eae('0x44')](),sceneExpandFloorClass[_0x246eae('0x2f')](_0x4bbf47,_0x246eae('0x5a'),0xc8,function(){const _0x4940fd=_0x246eae;sceneBuildTopCardClass!=null&&sceneBuildTopCardClass['startFloatAnimation'](_0x4bbf47[_0x4940fd('0x84')][_0x4940fd('0xc')]);if(_0x4bbf47[_0x4940fd('0x4e')]!=null){_0x489e3f[_0x4940fd('0x4f')][_0x4bbf47['id']]!=null?_0x4bbf47[_0x4940fd('0x55')][_0x4940fd('0x2d')]=!![]:_0x4bbf47[_0x4940fd('0x55')][_0x4940fd('0x2d')]=![];_0x4bbf47[_0x4940fd('0x91')]=[_0x4bbf47[_0x4940fd('0x91')][0x0],_0x4bbf47[_0x4940fd('0x91')][0x1]-0.1,_0x4bbf47[_0x4940fd('0x91')][0x2]];floorsTopCardClass!=null&&floorsTopCardClass[_0x4940fd('0x2b')](_0x4bbf47);_0x4bbf47[_0x4940fd('0x84')][_0x4940fd('0xf')]!=null&&(_0x4bbf47['position']=_0x4bbf47[_0x4940fd('0x84')]['buildInitPos']);const _0x485317={};_0x485317['time']=0x5dc,_0x485317[_0x4940fd('0x57')]=function(){const _0x36a3ef=_0x4940fd;_0x489e3f[_0x36a3ef('0x15')][_0x36a3ef('0x72')](THING[_0x36a3ef('0x60')][_0x36a3ef('0x2e')],null,_0x36a3ef('0x2c')),setTimeout(function(){const _0xfc201=_0x36a3ef;_0x489e3f[_0xfc201('0x15')]['resumeEvent'](THING[_0xfc201('0x60')][_0xfc201('0x2e')],null,_0xfc201('0x5b'));},0x1f4);},_0x4bbf47['facade'][_0x4940fd('0x5d')](_0x485317);if(_0x4b95ad!=null){let _0x434d28=_0x4bbf47[_0x4940fd('0x55')][_0x4bbf47[_0x4940fd('0x55')][_0x4940fd('0x90')]-0x1];_0x434d28[_0x4940fd('0x44')](_0x4b95ad);const _0x1afc76={};_0x1afc76[_0x4940fd('0x8c')]=_0x4b95ad,_0x1afc76['localPosition']=[0x0,0x1,0x0];let _0x4c018d=_0x1afc76;_0x4c018d['localPosition']=[_0x4bbf47[_0x4940fd('0x79')]['center'][0x0]-_0x4bbf47[_0x4940fd('0x91')][0x0],_0x4bbf47[_0x4940fd('0x46')][0x1]+0xf,_0x4bbf47['boundingBox'][_0x4940fd('0x7c')][0x2]-_0x4bbf47['position'][0x2]];if(_0x4bbf47[_0x4940fd('0x84')][_0x4940fd('0xf')]!=null){let _0x534142=parseFloat(_0x4bbf47[_0x4940fd('0x84')][_0x4940fd('0xf')]);_0x4c018d['localPosition']=[_0x4bbf47[_0x4940fd('0x79')][_0x4940fd('0x7c')][0x0]-_0x4bbf47[_0x4940fd('0x91')][0x0],_0x4bbf47['size'][0x1]+_0x534142+0xa,_0x4bbf47[_0x4940fd('0x79')][_0x4940fd('0x7c')][0x2]-_0x4bbf47[_0x4940fd('0x91')][0x2]];}_0x4bbf47[_0x4940fd('0x4e')]['add'](_0x4c018d);}}else floorsTopCardClass!=null&&floorsTopCardClass[_0x4940fd('0x2b')](_0x4bbf47),_0x4bbf47['floors'][_0x4940fd('0x48')](_0x5ca57a=>{const _0x4dcb0a=_0x4940fd;_0x5ca57a[_0x4dcb0a('0x5e')]['visible']=!![];}),_0x4bbf47[_0x4940fd('0x91')]=[_0x4bbf47[_0x4940fd('0x91')][0x0],_0x4bbf47[_0x4940fd('0x91')][0x1]-0.1,_0x4bbf47[_0x4940fd('0x91')][0x2]],_0x489e3f[_0x4940fd('0x15')][_0x4940fd('0x72')](THING['EventType']['SingleClick'],null,_0x4940fd('0x2c')),setTimeout(function(){const _0x24f36c=_0x4940fd;_0x489e3f[_0x24f36c('0x15')][_0x24f36c('0x85')](THING[_0x24f36c('0x60')][_0x24f36c('0x2e')],null,'右键物体创建菜单');},0x1f4);setTimeout(function(){const _0x23860b=_0x4940fd;_0x489e3f[_0x23860b('0x15')]['picker']['pickedResultFunc']=function(_0x3f5371){const _0x40e9cc=_0x23860b;if(_0x3f5371[_0x40e9cc('0x82')]==_0x40e9cc('0x25'))return _0x3f5371[_0x40e9cc('0x4')];return _0x3f5371;};},0x1f4);}));},_0x16c62d('0x2c'));}else{if($(_0x3a931e)[_0x16c62d('0x45')](_0x16c62d('0x9'))){if(_0x489e3f[_0x16c62d('0x92')]==null)return;let _0x247d5b=_0x489e3f[_0x16c62d('0x92')];_0x247d5b['type']==_0x16c62d('0x25')&&(_0x247d5b=_0x247d5b[_0x16c62d('0x4')]),_0x247d5b[_0x16c62d('0x82')]==_0x16c62d('0x83')&&(_0x247d5b=_0x247d5b['parent']),setTimeout(function(){const _0x1a0414=_0x16c62d;_0x247d5b[_0x1a0414('0x55')][_0x1a0414('0x2d')]=!![],_0x489e3f[_0x1a0414('0x4f')][_0x247d5b['id']]==null&&(_0x489e3f['showFloorJson'][_0x247d5b['id']]=_0x247d5b),$(_0x3a931e)[_0x1a0414('0x41')](_0x1a0414('0x9'))[_0x1a0414('0x11')](_0x1a0414('0x39'));},0xa);}else{if($(_0x3a931e)[_0x16c62d('0x45')](_0x16c62d('0x39'))){if(_0x489e3f[_0x16c62d('0x92')]==null)return;let _0x2caa3c=_0x489e3f[_0x16c62d('0x92')];_0x2caa3c[_0x16c62d('0x82')]==_0x16c62d('0x25')&&(_0x2caa3c=_0x2caa3c[_0x16c62d('0x4')]),_0x2caa3c[_0x16c62d('0x82')]==_0x16c62d('0x83')&&(_0x2caa3c=_0x2caa3c[_0x16c62d('0x4')]),setTimeout(function(){const _0x34b928=_0x16c62d;_0x2caa3c[_0x34b928('0x55')]['visible']=![],delete _0x489e3f[_0x34b928('0x4f')][_0x2caa3c['id']],$(_0x3a931e)[_0x34b928('0x41')](_0x34b928('0x39'))[_0x34b928('0x11')](_0x34b928('0x9'));},0xa);}else{if($(_0x3a931e)[_0x16c62d('0x45')](_0x16c62d('0x7a'))){if(_0x489e3f[_0x16c62d('0x92')]==null)return;let _0x492a33=_0x489e3f['tempObj'];_0x492a33[_0x16c62d('0x82')]==_0x16c62d('0x25')&&(_0x492a33=_0x492a33['parent']),_0x492a33[_0x16c62d('0x82')]==_0x16c62d('0x83')&&(_0x492a33=_0x492a33[_0x16c62d('0x4')]),_0x489e3f[_0x16c62d('0x28')]=!![],_0x489e3f[_0x16c62d('0x7f')]=!![],_0x489e3f[_0x16c62d('0x15')][_0x16c62d('0x36')](THING['EventType'][_0x16c62d('0x2e')],_0x16c62d('0x81'),_0x16c62d('0x5b')),divisionFloorClass[_0x16c62d('0x20')](_0x492a33);}else $(_0x3a931e)[_0x16c62d('0x45')](_0x16c62d('0x8b'))&&(typeof preAlertClass!=_0x16c62d('0x2')&&typeof PreConfig!=_0x16c62d('0x2')&&typeof PreConfig['getPermission']=='function'&&typeof PreConfig[_0x16c62d('0x7')]==_0x16c62d('0x34')&&(PreConfig[_0x16c62d('0x88')]()==!![]&&PreConfig[_0x16c62d('0x7')]()==!![]&&preAlertClass['fileNamedDialog']({},function(_0x546449,_0x5e9bc8){const _0x4f1cf1=_0x16c62d,_0x1d95f2={};_0x1d95f2[_0x4f1cf1('0x23')]=_0x546449,_0x1d95f2[_0x4f1cf1('0x6')]=_0x5e9bc8;const _0x4bf2da={};_0x4bf2da[_0x4f1cf1('0x3c')]=function(){},_0x4bf2da[_0x4f1cf1('0x3d')]=function(){},_0x4bf2da[_0x4f1cf1('0xd')]=function(){},_0x4bf2da[_0x4f1cf1('0x57')]=function(){},PreConfig[_0x4f1cf1('0x66')]('project',_0x1d95f2,_0x4bf2da);})));}}}}[_0x2ff92d('0x29')](){}['resetContextMenu'](_0x4851b1){const _0x44f511=_0x2ff92d;var _0x9a62ae=this;_0x9a62ae[_0x44f511('0x28')]=![],_0x9a62ae[_0x44f511('0x73')]=![],_0x4851b1[_0x44f511('0x84')][_0x44f511('0x13')]='false';if(_0x4851b1[_0x44f511('0x82')]=='Building'&&_0x4851b1[_0x44f511('0x55')][_0x44f511('0x90')]>0x0){_0x9a62ae[_0x44f511('0x15')][_0x44f511('0x72')](THING[_0x44f511('0x60')][_0x44f511('0x6e')],null,_0x44f511('0x64')),_0x9a62ae[_0x44f511('0x15')][_0x44f511('0x72')](THING[_0x44f511('0x60')][_0x44f511('0xe')],null,_0x44f511('0x2a')),_0x9a62ae[_0x44f511('0x15')][_0x44f511('0x85')](THING[_0x44f511('0x60')][_0x44f511('0x2e')],null,'右键物体创建菜单'),_0x9a62ae[_0x44f511('0x15')]['off'](THING[_0x44f511('0x60')][_0x44f511('0x2e')],null,_0x44f511('0x2c')),$(_0x44f511('0x3f'))[_0x44f511('0x56')](_0x44f511('0x6a'),'none'),infoTipsClass[_0x44f511('0x18')]('expandFloorInfoTips'),$(_0x44f511('0x50'))['removeClass']('moveTips');let _0x3771d7=_0x4851b1[_0x44f511('0x55')];sceneExpandFloorClass[_0x44f511('0x68')]=!![],sceneExpandFloorClass[_0x44f511('0x16')]=0x3;for(let _0x34eb25=0x1;_0x34eb25<_0x3771d7[_0x44f511('0x90')];_0x34eb25++){let _0x4a06b4=_0x3771d7[_0x34eb25],_0x464039=sceneExpandFloorClass[_0x44f511('0x1f')](_0x4a06b4,_0x3771d7);_0x4a06b4[_0x44f511('0x7d')](_0x44f511('0x16'),_0x464039);}$(_0x44f511('0x65'))[_0x44f511('0x44')]();if(_0x4851b1[_0x44f511('0x4e')]!=null){floorsTopCardClass!=null&&floorsTopCardClass[_0x44f511('0x2b')](_0x4851b1);_0x4851b1[_0x44f511('0x4e')][_0x44f511('0x5d')]();_0x4851b1['userData']['bussiness_groundClearance']!=null&&(_0x4851b1[_0x44f511('0x91')]=_0x4851b1['userData'][_0x44f511('0x6c')]);_0x9a62ae[_0x44f511('0x4f')][_0x4851b1['id']]!=null?_0x3771d7[_0x44f511('0x2d')]=!![]:_0x3771d7[_0x44f511('0x2d')]=![];if(_0x4851b1[_0x44f511('0x84')][_0x44f511('0xc')]!=null){let _0x1c8d28=_0x4851b1[_0x44f511('0x55')][_0x4851b1['floors'][_0x44f511('0x90')]-0x1];_0x1c8d28['remove'](_0x4851b1[_0x44f511('0x84')]['sceneCard']);const _0x15ba35={};_0x15ba35[_0x44f511('0x8c')]=_0x4851b1['userData'][_0x44f511('0xc')],_0x15ba35['localPosition']=[0x0,0x1,0x0];let _0x1bb34f=_0x15ba35;_0x1bb34f['localPosition']=[_0x4851b1[_0x44f511('0x79')][_0x44f511('0x7c')][0x0]-_0x4851b1['position'][0x0],_0x4851b1[_0x44f511('0x46')][0x1]+0xf,_0x4851b1[_0x44f511('0x79')][_0x44f511('0x7c')][0x2]-_0x4851b1[_0x44f511('0x91')][0x2]];if(_0x4851b1[_0x44f511('0x84')]['bussiness_groundClearance']!=null){let _0x9971ba=parseFloat(_0x4851b1[_0x44f511('0x84')][_0x44f511('0xf')]);_0x1bb34f[_0x44f511('0x1c')]=[_0x4851b1[_0x44f511('0x79')][_0x44f511('0x7c')][0x0]-_0x4851b1[_0x44f511('0x91')][0x0],_0x4851b1[_0x44f511('0x46')][0x1]+_0x9971ba+0xa,_0x4851b1['boundingBox'][_0x44f511('0x7c')][0x2]-_0x4851b1[_0x44f511('0x91')][0x2]];}_0x4851b1['facade']['add'](_0x1bb34f);}}else floorsTopCardClass!=null&&floorsTopCardClass[_0x44f511('0x2b')](_0x4851b1);_0x4851b1[_0x44f511('0x91')]=[_0x4851b1[_0x44f511('0x91')][0x0],_0x4851b1[_0x44f511('0x91')][0x1]-0.1,_0x4851b1[_0x44f511('0x91')][0x2]],setTimeout(function(){const _0x2a948f=_0x44f511;_0x9a62ae[_0x2a948f('0x15')][_0x2a948f('0x62')]['pickedResultFunc']=function(_0x2c4037){const _0x190a98=_0x2a948f;if(_0x2c4037[_0x190a98('0x82')]=='Floor')return _0x2c4037[_0x190a98('0x4')];return _0x2c4037;};},0x1f4),sceneBuildTopCardClass!=null&&sceneBuildTopCardClass[_0x44f511('0x38')](_0x4851b1[_0x44f511('0x84')]['sceneCard']);}}['contextMenuHtml'](){const _0x56232c=_0x2ff92d;var _0x5d566e=this;let _0x49aa81='<div\x20id=\x22'+_0x5d566e[_0x56232c('0x76')]+_0x56232c('0x74');$(_0x56232c('0x67'))[_0x56232c('0x80')]($(_0x49aa81));}[_0x2ff92d('0x5f')](_0x41a25e,_0x33bbf2){const _0x21df87=_0x2ff92d;var _0x453c3d=this;if(_0x453c3d[_0x21df87('0x15')][_0x21df87('0x1b')][_0x21df87('0x59')]!=null&&_0x453c3d['app'][_0x21df87('0x1b')]['current'][_0x21df87('0x82')]==_0x21df87('0x63')&&_0x41a25e=='Building'&&_0x33bbf2!=null){let _0x2a293e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22context-menu-item\x20expandFloor\x22\x20data-id=\x22'+_0x33bbf2+_0x21df87('0x22')+_0x33bbf2+(_0x21df87('0x17')+(_0x453c3d[_0x21df87('0x4f')][_0x33bbf2]==null?_0x21df87('0x9'):_0x21df87('0x39'))+_0x21df87('0x6d'))+_0x33bbf2+(_0x21df87('0x32')+(_0x453c3d[_0x21df87('0x4f')][_0x33bbf2]==null?'加载室内':_0x21df87('0x30'))+_0x21df87('0x8d'));$('.context-menu')[_0x21df87('0x80')]($(_0x2a293e));}if(window[_0x21df87('0x10')][_0x21df87('0x24')][_0x21df87('0x71')](_0x21df87('0x8e'))==0x0&&typeof PreConfig!='undefined'&&typeof PreConfig['getPermission']==_0x21df87('0x34')&&typeof PreConfig[_0x21df87('0x7')]==_0x21df87('0x34')){if(PreConfig[_0x21df87('0x88')]()==!![]&&PreConfig['getSceneAuthor']()==!![]){let _0x5a98d2=_0x21df87('0x53');$(_0x21df87('0x3'))['append']($(_0x5a98d2));}}}}