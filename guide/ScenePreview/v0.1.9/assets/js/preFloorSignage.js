var _0x2b8b=['EnterLevel','arc','size','prelink','floors','object','mouseLeaveOfFloor','getContext','32px\x20sans-serif','getPermission','lineWidth','position','Marker','Building','isAuthor','rgba(250,\x20100,\x200,\x200.3)','forEach','userDateKey','markerdblclick','rgb(255,\x20255,\x20255)','location','center','scale','query','#floorSignage','level','canvas','outlineColor','MouseEnter','strokeStyle','beginPath','Thing','rgba(250,\x20100,\x200,0.9)','font','orientedBoundingBox','picker','mouseEnterOfFloor','split','firstFloorPos','inheritVisible','fillText','userData','preLink','style','enterBuildingCreateMarker','pop','rightBackToCampusEvent','floorSignage','type','EventType','init','version','createFloorSignageCanvas','expendFloorToMarker','pickedResultFunc','Campus','DBLClick','create','height','createMarker','width','adminPermissions','change','.Floor','firstFloorSize','fill','selfForward','fillStyle','mouseEnterMarker','button','mouseLeaveOfMarker','app','stroke','Facade','parent','visible','hidden','getSceneAuthor','initSelectEvent','length','pathname','MouseLeave','.Building'];(function(_0x3281a1,_0x2b8b25){var _0x3f826b=function(_0x2cab2d){while(--_0x2cab2d){_0x3281a1['push'](_0x3281a1['shift']());}};_0x3f826b(++_0x2b8b25);}(_0x2b8b,0x19f));var _0x3f82=function(_0x3281a1,_0x2b8b25){_0x3281a1=_0x3281a1-0x0;var _0x3f826b=_0x2b8b[_0x3281a1];return _0x3f826b;};var _0x4e4371=_0x3f82;class PreFloorSignage{constructor(){var _0x1f02c9=_0x3f82;this[_0x1f02c9('0x32')]();}['init'](){var _0x36b20d=_0x3f82;this[_0x36b20d('0x33')]='v0.1.4',this[_0x36b20d('0x47')]=THING['App']['current'],this[_0x36b20d('0x11')]='marker-floor-signage',this[_0x36b20d('0x3a')]=3.4,this['building']=building,this[_0x36b20d('0x40')]=null,this[_0x36b20d('0x26')]=null,this['adminPermissions']=PreConfig[_0x36b20d('0x9')](),this[_0x36b20d('0xe')]=PreConfig[_0x36b20d('0x4d')](),this[_0x36b20d('0x50')]=window[_0x36b20d('0x14')][_0x36b20d('0x50')],this[_0x36b20d('0x3')]=this[_0x36b20d('0x50')][_0x36b20d('0x25')]('/')[_0x36b20d('0x2d')]();var _0xa96406={};_0xa96406[_0x36b20d('0x2a')]=this[_0x36b20d('0x3')],this['reqDatas']=_0xa96406,this[_0x36b20d('0x4e')]();}['initSelectEvent'](){var _0x578d6b=_0x3f82;if(this[_0x578d6b('0x3d')]!=!![]||this['isAuthor']!=!![])return;var _0x3670cb=this;_0x3670cb['create'](),_0x3670cb['hidden']();}[_0x4e4371('0x39')](){var _0x1f6e9a=_0x4e4371,_0x30e46c=this;_0x30e46c[_0x1f6e9a('0x47')]['on'](THING['EventType'][_0x1f6e9a('0x0')],_0x1f6e9a('0x52'),function(_0x1d8dc1){var _0x6cc87e=_0x1f6e9a;_0x30e46c['initFloorEvent'](_0x1d8dc1[_0x6cc87e('0x5')]);},_0x1f6e9a('0x2c')),this['mouseEnterMarker']();}['show'](){var _0xafdb6d=this;}[_0x4e4371('0x4c')](){var _0x2f6645=_0x4e4371,_0x352403=this;this[_0x2f6645('0x2e')]();}['destroy'](){var _0x2b1f0d=this;}['initFloorEvent'](_0x2debde){var _0x4409ab=_0x4e4371,_0x4d64cf=this;let _0x5dad83=_0x2debde[_0x4409ab('0x4')];if(_0x5dad83[_0x4409ab('0x4f')]>0x0){let _0x2d1afc=0x0;_0x5dad83[_0x4409ab('0x10')](_0x18f62b=>{var _0x3afff7=_0x4409ab;let _0x304cea=_0x18f62b,_0x45e0ed=_0x304cea[_0x3afff7('0x29')][_0x4d64cf['userDateKey']];if(_0x45e0ed!=null){_0x45e0ed[_0x3afff7('0x4b')]=!![],_0x45e0ed['scale']=[_0x4d64cf[_0x3afff7('0x3a')],_0x4d64cf['height'],_0x4d64cf[_0x3afff7('0x3a')]];return;}_0x304cea[_0x3afff7('0x29')]['floorOfIndex']=++_0x2d1afc,_0x2d1afc==0x1&&(_0x4d64cf[_0x3afff7('0x40')]=_0x304cea[_0x3afff7('0x22')][_0x3afff7('0x2')],_0x4d64cf[_0x3afff7('0x26')]=_0x304cea[_0x3afff7('0xb')]),_0x4d64cf[_0x3afff7('0x3b')](_0x304cea,_0x304cea[_0x3afff7('0x29')]['floorOfIndex'],_0x2d1afc);});}}[_0x4e4371('0x3b')](_0x51df9e,_0x386778,_0x25d9b1){var _0xcc93f0=_0x4e4371,_0x92da1b=this;if(_0x51df9e[_0xcc93f0('0x42')][0x0]>=0x0)var _0x3ed86f=_0x92da1b['firstFloorPos'][0x0]+_0x92da1b['firstFloorSize'][0x0]*0.5+0x5;else{if(_0x51df9e[_0xcc93f0('0x42')][0x0]<=0x0)var _0x3ed86f=_0x92da1b[_0xcc93f0('0x26')][0x0]-_0x92da1b['firstFloorSize'][0x0]*0.5-0x5;}var _0x1fa378=_0x92da1b[_0xcc93f0('0x26')][0x2],_0x105622={};_0x105622[_0xcc93f0('0x30')]=_0xcc93f0('0xc'),_0x105622['id']=_0xcc93f0('0x2f')+_0x25d9b1,_0x105622['position']=[_0x3ed86f,_0x51df9e['position'][0x1]+0.64*1.2+0.5,_0x1fa378],_0x105622[_0xcc93f0('0x1a')]=_0x92da1b[_0xcc93f0('0x34')](_0x386778),_0x105622[_0xcc93f0('0x4a')]=_0x51df9e,_0x105622['scale']=[_0x92da1b['height'],_0x92da1b[_0xcc93f0('0x3a')],_0x92da1b[_0xcc93f0('0x3a')]],_0x105622[_0xcc93f0('0x27')]=!![];let _0x4594a3=this[_0xcc93f0('0x47')][_0xcc93f0('0x39')](_0x105622);_0x4594a3['on'](THING['EventType'][_0xcc93f0('0x1c')],function(_0x5c0977){var _0x31f199=_0xcc93f0,_0x38fa1d=_0x5c0977['object'][_0x31f199('0x4a')];_0x38fa1d[_0x31f199('0x2b')][_0x31f199('0x1b')]='#FF8000',_0x5c0977['object'][_0x31f199('0x16')]=[4.4,4.4,4.4];},'mouseEnterOfMarker')['on'](THING[_0xcc93f0('0x31')][_0xcc93f0('0x51')],function(_0x1d988a){var _0x21c19b=_0xcc93f0,_0x38eb6f=_0x1d988a[_0x21c19b('0x5')][_0x21c19b('0x4a')];_0x1d988a['object'][_0x21c19b('0x16')]=[_0x92da1b[_0x21c19b('0x3a')],_0x92da1b[_0x21c19b('0x3a')],_0x92da1b['height']],_0x38eb6f[_0x21c19b('0x2b')][_0x21c19b('0x1b')]=null;},_0xcc93f0('0x46'))['on'](THING[_0xcc93f0('0x31')][_0xcc93f0('0x38')],function(_0x74ddfc){var _0x359a34=_0xcc93f0;let _0x387090=_0x74ddfc['object'],_0x9a3f1f=_0x387090[_0x359a34('0x4a')];_0x92da1b[_0x359a34('0x47')][_0x359a34('0x19')][_0x359a34('0x3e')](_0x9a3f1f);},_0xcc93f0('0x12')),_0x51df9e[_0xcc93f0('0x29')][_0x92da1b[_0xcc93f0('0x11')]]=_0x4594a3;}['createFloorSignageCanvas'](_0x53d6fa){var _0x79e280=_0x4e4371,_0x3e6d4d=this;let _0x5796dd=document['createElement'](_0x79e280('0x1a'));_0x5796dd[_0x79e280('0x3c')]=0x40,_0x5796dd[_0x79e280('0x3a')]=0x40;const _0x484995=_0x5796dd[_0x79e280('0x7')]('2d');return _0x484995[_0x79e280('0x43')]=_0x79e280('0xf'),_0x484995[_0x79e280('0x1e')](),_0x484995[_0x79e280('0x1')](0x20,0x20,0x20,0x0,Math['PI']*0x2),_0x484995[_0x79e280('0x41')](),_0x484995[_0x79e280('0x1d')]=_0x79e280('0x20'),_0x484995[_0x79e280('0xa')]=0x4,_0x484995[_0x79e280('0x1e')](),_0x484995[_0x79e280('0x1')](0x20,0x20,0x1e,0x0,Math['PI']*0x2),_0x484995[_0x79e280('0x48')](),_0x484995['fillStyle']=_0x79e280('0x13'),_0x484995[_0x79e280('0x21')]=_0x79e280('0x8'),_0x484995['textAlign']=_0x79e280('0x15'),_0x484995[_0x79e280('0x28')](_0x53d6fa,0x20,0x2a),_0x5796dd;}[_0x4e4371('0x44')](){var _0x24792f=_0x4e4371,_0x1023cf=this;_0x1023cf[_0x24792f('0x47')]['on'](THING[_0x24792f('0x31')][_0x24792f('0x1c')],_0x24792f('0x3f'),function(_0x6dd309){var _0x3eba40=_0x24792f,_0x2a0c99=_0x6dd309['object'];_0x2a0c99[_0x3eba40('0x2b')]['outlineColor']='#FF8000',_0x2a0c99[_0x3eba40('0x29')][_0x1023cf[_0x3eba40('0x11')]]!=null&&(_0x2a0c99[_0x3eba40('0x29')][_0x1023cf['userDateKey']]['scale']=[3.4,3.4,3.4]);},_0x24792f('0x24')),_0x1023cf[_0x24792f('0x47')]['on'](THING[_0x24792f('0x31')]['MouseLeave'],_0x24792f('0x3f'),function(_0x5cdefb){var _0x1ddbb2=_0x24792f,_0x81c789=_0x5cdefb[_0x1ddbb2('0x5')];_0x81c789[_0x1ddbb2('0x2b')][_0x1ddbb2('0x1b')]=null,_0x81c789['userData'][_0x1023cf[_0x1ddbb2('0x11')]]!=null&&(_0x81c789['userData'][_0x1023cf[_0x1ddbb2('0x11')]][_0x1ddbb2('0x16')]=[_0x1023cf[_0x1ddbb2('0x3a')],_0x1023cf[_0x1ddbb2('0x3a')],_0x1023cf[_0x1ddbb2('0x3a')]]);},_0x24792f('0x6'));}[_0x4e4371('0x2e')](){var _0x13b997=_0x4e4371,_0x30c626=this;_0x30c626[_0x13b997('0x47')]['on'](THING[_0x13b997('0x31')]['SingleClick'],function(_0x5b2d86){var _0x4d69a9=_0x13b997;if(_0x5b2d86[_0x4d69a9('0x45')]==0x2&&_0x30c626['app']['level']['current'][_0x4d69a9('0x30')]==_0x4d69a9('0x37')){var _0x563389=_0x30c626[_0x4d69a9('0x47')][_0x4d69a9('0x17')](/floorSignage/);if(_0x563389[_0x4d69a9('0x4f')]>0x0)for(let _0x11a86d=0x0;_0x11a86d<_0x563389[_0x4d69a9('0x4f')];_0x11a86d++){let _0xe480fd=_0x11a86d+0x1;_0x30c626[_0x4d69a9('0x47')]['query'](_0x4d69a9('0x18')+_0xe480fd)['length']>0x0&&(_0x30c626['app'][_0x4d69a9('0x17')]('#floorSignage'+_0xe480fd)[0x0]['visible']=![]);}}},_0x13b997('0x2e'));}['rightClickExpendFloor'](){var _0x4dd533=this;setTimeout(function(){var _0x354aa4=_0x3f82;_0x4dd533[_0x354aa4('0x47')][_0x354aa4('0x23')][_0x354aa4('0x36')]=function(_0xe94c04){var _0x5ede50=_0x354aa4;if(_0xe94c04[_0x5ede50('0x30')]==_0x5ede50('0x49')||_0xe94c04[_0x5ede50('0x30')]==_0x5ede50('0x1f')||_0xe94c04[_0x5ede50('0x30')]==_0x5ede50('0xd')||_0xe94c04[_0x5ede50('0x30')]=='Marker'||_0xe94c04[_0x5ede50('0x30')]=='Floor')return _0xe94c04;};},0x7d0);}[_0x4e4371('0x35')](_0x43cadd){var _0x9aff85=_0x4e4371,_0x1466b4=this;let _0x8238ee=_0x43cadd[_0x9aff85('0x4')];_0x8238ee[_0x9aff85('0x4f')]>0x0&&_0x8238ee[_0x9aff85('0x10')](_0x3ce7d5=>{var _0x1472a7=_0x9aff85;let _0x8c8c4c=_0x3ce7d5,_0x58be87=_0x8c8c4c[_0x1472a7('0x29')][_0x1466b4['userDateKey']];_0x58be87!=null&&(_0x58be87[_0x1472a7('0x4b')]=![]);});}}