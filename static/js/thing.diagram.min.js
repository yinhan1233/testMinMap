!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DIAGRAM=e():t.DIAGRAM=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=236)}([function(t,e,n){"use strict";(function(t,i){n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return l})),function(){var e;function n(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:n(t)}}function o(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var r,s="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)r=Object.setPrototypeOf;else{var l;t:{var c={};try{c.__proto__={a:!0},l=c.a;break t}catch(t){}l=!1}r=l?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var h=r;function d(t,e){if(t.prototype=s(e.prototype),t.prototype.constructor=t,h)h(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(e,n);i&&Object.defineProperty(t,n,i)}else t[n]=e[n];t.zA=e.prototype}var u=void 0!==t&&null!=t?t:self,f="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},p="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function g(t,e){if(e){var n=u;t=t.split(".");for(var i=0;i<t.length-1;i++){var a=t[i];a in n||(n[a]={}),n=n[a]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&p(n,t,{writable:!0,value:e})}}g("Object.assign",(function(t){return t||f})),g("Array.prototype.fill",(function(t){return t||function(t,e,n){var i=this.length||0;for(0>e&&(e=Math.max(0,i+e)),(null==n||n>i)&&(n=i),0>(n=Number(n))&&(n=Math.max(0,i+n)),e=Number(e||0);e<n;e++)this[e]=t;return this}}));var m="object"==typeof globalThis&&globalThis||"object"==typeof t&&t.global===t&&t||"object"==typeof self&&self.self===self&&self||{};function y(){}function v(t,e){var n=-1;return function(){var i=this,a=arguments;-1!==n&&m.clearTimeout(n),n=w((function(){n=-1,t.apply(i,a)}),e)}}function w(t,e){return m.setTimeout(t,e)}function x(t){return m.document.createElement(t)}function b(t){throw Error(t)}function S(t,e){t="The object is frozen, so its properties cannot be set: "+t.toString(),void 0!==e&&(t+="  to value: "+e),b(t)}function k(t,e,n,i){n=null===n?"*":"string"==typeof n?n:"function"==typeof n&&"string"==typeof n.className?n.className:"",void 0!==i&&(n+="."+i),b(n+" is not in the range "+e+": "+t)}function P(t){m.console&&m.console.log(t)}function M(t){return"object"==typeof t&&null!==t}function _(t){return Array.isArray(t)||m.NodeList&&t instanceof m.NodeList||m.HTMLCollection&&t instanceof m.HTMLCollection}function L(t){return Array.prototype.slice.call(t)}function T(t,e,n){Array.isArray(t)?e>=t.length?t.push(n):t.splice(e,0,n):b("Cannot insert an object into an HTMLCollection or NodeList: "+n+" at "+e)}function O(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):b("Cannot remove an object from an HTMLCollection or NodeList at "+e)}function A(){var t=z.pop();return void 0===t?[]:t}function E(t){t.length=0,z.push(t)}function C(t){if("function"==typeof t){if(t.className)return t.className;if(t.name)return t.name;var e=t.toString();if(""!==(e=e.substring(9,e.indexOf("(")).trim()))return t._className=e}else if(M(t)&&t.constructor)return C(t.constructor);return typeof t}function N(t){var e=t;return M(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()}function B(t,e){if(t.hasOwnProperty(e))return!0;for(t=Object.getPrototypeOf(t);t&&t!==Function;){if(t.hasOwnProperty(e))return!0;var n=t.lA;if(n&&n[e])return!0;t=Object.getPrototypeOf(t)}return!1}function j(t,e,n){Object.defineProperty(bn.prototype,t,{get:e,set:n})}function D(t){for(var e=[],n=0;256>n;n++)e["0123456789abcdef".charAt(n>>4)+"0123456789abcdef".charAt(15&n)]=String.fromCharCode(n);t.length%2&&(t="0"+t),n=[];for(var i=0,a=0;a<t.length;a+=2)n[i++]=e[t.substr(a,2)];for(t=""===(t=n.join(""))?"0":t,e=[],n=0;256>n;n++)e[n]=n;for(n=i=0;256>n;n++)i=(i+e[n]+119)%256,a=e[n],e[n]=e[i],e[i]=a;i=n=0;for(var o="",r=0;r<t.length;r++)i=(i+e[n=(n+1)%256])%256,a=e[n],e[n]=e[i],e[i]=a,o+=String.fromCharCode(t.charCodeAt(r)^e[(e[n]+e[i])%256]);return o}void 0===m.requestAnimationFrame&&(void 0===m.setImmediate?m.requestAnimationFrame=function(t){m.setTimeout(t,0)}:m.requestAnimationFrame=m.setImmediate);var F=void 0!==m.navigator&&0<m.navigator.userAgent.indexOf("Trident/7"),R=void 0!==m.navigator&&0<m.navigator.userAgent.indexOf("Edge/"),I=void 0!==m.navigator&&void 0!==m.navigator.platform&&null!==m.navigator.platform.match(/(iPhone|iPod|iPad|Mac)/i),z=[];function H(t,e,n){tt(this),this.j=t,this.va=e,this.m=n}function V(t,e){return null==e||""===e?null:t[e]}function G(){this.Jv=[]}function U(){}Object.freeze([]),y.className="Util",y.Dx="32ab5ff3b26f42dc0ed90f21462913b5",y.adym="gojs.net",y.vfo="28e644fdb26e",y.className="Util",H.prototype.toString=function(){return"EnumValue."+this.va},u.Object.defineProperties(H.prototype,{classType:{get:function(){return this.j}},name:{get:function(){return this.va}},value:{get:function(){return this.m}}}),H.className="EnumValue",G.prototype.toString=function(){return this.Jv.join("")},G.prototype.add=function(t){""!==t&&this.Jv.push(t)},G.className="StringBuilder",U.className="PropertyCollection";var W={nA:!1,sA:!1,pA:!1,rA:!1,xA:!1,vA:!1,Rw:!1,oA:null,trace:function(t){m.console&&m.console.log(t)},qA:function(t,e,n,i){t.strokeStyle="red",t.fillStyle="red",t.font="8px sans-serif",t.beginPath(),t.moveTo(-10,0),t.lineTo(10,0),t.moveTo(0,-10),t.lineTo(0,10),t.stroke(),t.setTransform(1,0,0,1,0,0),t.scale(n,n),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),t.lineWidth=2,t.beginPath(),t.moveTo(i.left,i.top+20),t.lineTo(i.left,i.top),t.lineTo(i.left+20,i.top),t.moveTo(i.right,i.bottom-20),t.lineTo(i.right,i.bottom),t.lineTo(i.right-20,i.bottom),t.stroke(),t.fillText("DB: "+Math.round(i.x)+", "+Math.round(i.y)+", "+Math.round(i.width)+", "+Math.round(i.height),i.left,i.top-5)},mA:function(t){var e,n={};for(e in t){if(n.x=e,"licenseKey"!==n.x){var i=t[n.x];if(void 0!==i.prototype){n.Gl=Object.getOwnPropertyNames(i.prototype);for(var a={Lj:0};a.Lj<n.Gl.length;(a={Lj:a.Lj}).Lj++){var o=Object.getOwnPropertyDescriptor(i.prototype,n.Gl[a.Lj]);void 0!==o.get&&void 0===o.set&&Object.defineProperty(i.prototype,n.Gl[a.Lj],{set:function(t,e){return function(){throw Error("Property "+t.Gl[e.Lj]+" of "+t.x+" is read-only.")}}(n,a)})}}}n={Gl:n.Gl,x:n.x}}}};function q(){}q.prototype.reset=function(){},q.prototype.next=function(){return!1},q.prototype.ud=function(){return!1},q.prototype.first=function(){return null},q.prototype.any=function(){return!1},q.prototype.all=function(){return!0},q.prototype.each=function(){return this},q.prototype.map=function(){return this},q.prototype.filter=function(){return this},q.prototype.Xd=function(){},q.prototype.toString=function(){return"EmptyIterator"},u.Object.defineProperties(q.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),q.prototype.first=q.prototype.first,q.prototype.hasNext=q.prototype.ud,q.prototype.next=q.prototype.next,q.prototype.reset=q.prototype.reset;var Y;function X(t){this.key=-1,this.value=t}function K(t){this.xb=t,this.cf=null,t.Pa=null,this.na=t.Ia,this.Wa=-1}function Z(t){this.xb=t,t.yg=null,this.na=t.Ia,this.Wa=t.s.length}function $(t){tt(this),this._isFrozen=!1,this.s=[],this.Ia=0,this.yg=this.Pa=null,"string"==typeof t&&b("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),void 0!==t&&this.addAll(t)}function J(t){this.Xf=t,t.Pa=null,this.na=t.Ia,this.ra=null}function Q(t){tt(this),this._isFrozen=!1,this.Pb={},this.Ob=0,this.Pa=null,this.Ia=0,this.Ye=this.ea=null,"string"==typeof t&&b("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),void 0!==t&&this.addAll(t)}function tt(t){t.__gohashid=lt++}function et(t){var e=t.__gohashid;return void 0===e&&(e=lt++,t.__gohashid=e),e}function nt(t){return t.__gohashid}q.className="EmptyIterator",Y=new q,X.prototype.reset=function(){this.key=-1},X.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},X.prototype.ud=function(){return this.next()},X.prototype.first=function(){return this.key=0,this.value},X.prototype.any=function(t){return this.key=-1,t(this.value)},X.prototype.all=function(t){return this.key=-1,t(this.value)},X.prototype.each=function(t){return this.key=-1,t(this.value),this},X.prototype.map=function(t){return new X(t(this.value))},X.prototype.filter=function(t){return t(this.value)?new X(this.value):Y},X.prototype.Xd=function(){this.value=null},X.prototype.toString=function(){return"SingletonIterator("+this.value+")"},u.Object.defineProperties(X.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),X.prototype.first=X.prototype.first,X.prototype.hasNext=X.prototype.ud,X.prototype.next=X.prototype.next,X.prototype.reset=X.prototype.reset,X.className="SingletonIterator",K.prototype.reset=function(){var t=this.xb;t.Pa=null,this.na=t.Ia,this.Wa=-1},K.prototype.next=function(){var t=this.xb;if(t.Ia!==this.na&&0>this.key)return!1;var e=(t=t.s).length,n=++this.Wa,i=this.cf;if(null!==i)for(;n<e;){var a=t[n];if(i(a))return this.key=this.Wa=n,this.value=a,!0;n++}else{if(n<e)return this.key=n,this.value=t[n],!0;this.Xd()}return!1},K.prototype.ud=function(){return this.next()},K.prototype.first=function(){var t=this.xb;this.na=t.Ia,this.Wa=0;var e=(t=t.s).length,n=this.cf;if(null!==n){for(var i=0;i<e;){var a=t[i];if(n(a))return this.key=this.Wa=i,this.value=a;i++}return null}return 0<e?(t=t[0],this.key=0,this.value=t):null},K.prototype.any=function(t){var e=this.xb;e.Pa=null,this.Wa=-1;for(var n=(e=e.s).length,i=this.cf,a=0;a<n;a++){var o=e[a];if((null===i||i(o))&&t(o))return!0}return!1},K.prototype.all=function(t){var e=this.xb;e.Pa=null,this.Wa=-1;for(var n=(e=e.s).length,i=this.cf,a=0;a<n;a++){var o=e[a];if((null===i||i(o))&&!t(o))return!1}return!0},K.prototype.each=function(t){var e=this.xb;e.Pa=null,this.Wa=-1;for(var n=(e=e.s).length,i=this.cf,a=0;a<n;a++){var o=e[a];(null===i||i(o))&&t(o)}return this},K.prototype.map=function(t){var e=this.xb;e.Pa=null,this.Wa=-1;for(var n=[],i=(e=e.s).length,a=this.cf,o=0;o<i;o++){var r=e[o];(null===a||a(r))&&n.push(t(r))}return(t=new $).s=n,t.sb(),t.iterator},K.prototype.filter=function(t){var e=this.xb;e.Pa=null,this.Wa=-1;for(var n=[],i=(e=e.s).length,a=this.cf,o=0;o<i;o++){var r=e[o];(null===a||a(r))&&t(r)&&n.push(r)}return(t=new $).s=n,t.sb(),t.iterator},K.prototype.Xd=function(){this.key=-1,this.value=null,this.na=-1,this.cf=null,this.xb.Pa=this},K.prototype.toString=function(){return"ListIterator@"+this.Wa+"/"+this.xb.count},u.Object.defineProperties(K.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.cf},set:function(t){this.cf=t}},count:{get:function(){var t=this.cf;if(null!==t){for(var e=0,n=this.xb.s,i=n.length,a=0;a<i;a++)t(n[a])&&e++;return e}return this.xb.s.length}}}),K.prototype.first=K.prototype.first,K.prototype.hasNext=K.prototype.ud,K.prototype.next=K.prototype.next,K.prototype.reset=K.prototype.reset,K.className="ListIterator",Z.prototype.reset=function(){var t=this.xb;t.yg=null,this.na=t.Ia,this.Wa=t.s.length},Z.prototype.next=function(){var t=this.xb;if(t.Ia!==this.na&&0>this.key)return!1;var e=--this.Wa;return 0<=e?(this.key=e,this.value=t.s[e],!0):(this.Xd(),!1)},Z.prototype.ud=function(){return this.next()},Z.prototype.first=function(){var t=this.xb;this.na=t.Ia;var e=t.s;return this.Wa=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},Z.prototype.any=function(t){var e=this.xb;e.yg=null;var n=(e=e.s).length;for(this.Wa=n,--n;0<=n;n--)if(t(e[n]))return!0;return!1},Z.prototype.all=function(t){var e=this.xb;e.yg=null;var n=(e=e.s).length;for(this.Wa=n,--n;0<=n;n--)if(!t(e[n]))return!1;return!0},Z.prototype.each=function(t){var e=this.xb;e.yg=null;var n=(e=e.s).length;for(this.Wa=n,--n;0<=n;n--)t(e[n]);return this},Z.prototype.map=function(t){var e=this.xb;e.yg=null;var n=[],i=(e=e.s).length;for(this.Wa=i,--i;0<=i;i--)n.push(t(e[i]));return(t=new $).s=n,t.sb(),t.iterator},Z.prototype.filter=function(t){var e=this.xb;e.yg=null;var n=[],i=(e=e.s).length;for(this.Wa=i,--i;0<=i;i--){var a=e[i];t(a)&&n.push(a)}return(t=new $).s=n,t.sb(),t.iterator},Z.prototype.Xd=function(){this.key=-1,this.value=null,this.na=-1,this.xb.yg=this},Z.prototype.toString=function(){return"ListIteratorBackwards("+this.Wa+"/"+this.xb.count+")"},u.Object.defineProperties(Z.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.xb.s.length}}}),Z.prototype.first=Z.prototype.first,Z.prototype.hasNext=Z.prototype.ud,Z.prototype.next=Z.prototype.next,Z.prototype.reset=Z.prototype.reset,Z.className="ListIteratorBackwards",(e=$.prototype).sb=function(){var t=this.Ia;999999999<++t&&(t=0),this.Ia=t},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return this._isFrozen=!1,this},e.toString=function(){return"List()#"+nt(this)},e.add=function(t){return null===t||(this._isFrozen&&S(this,t),this.s.push(t),this.sb()),this},e.push=function(t){this.add(t)},e.addAll=function(t){if(null===t)return this;this._isFrozen&&S(this);var e=this.s;if(_(t))for(var n=t.length,i=0;i<n;i++)e.push(t[i]);else for(t=t.iterator;t.next();)e.push(t.value);return this.sb(),this},e.clear=function(){this._isFrozen&&S(this),this.s.length=0,this.sb()},e.contains=function(t){return null!==t&&-1!==this.s.indexOf(t)},e.has=function(t){return this.contains(t)},e.indexOf=function(t){return null===t?-1:this.s.indexOf(t)},e.K=function(t){var e=this.s;return(0>t||t>=e.length)&&k(t,"0 <= i < length",$,"elt:i"),e[t]},e.get=function(t){return this.K(t)},e.Vc=function(t,e){var n=this.s;(0>t||t>=n.length)&&k(t,"0 <= i < length",$,"setElt:i"),this._isFrozen&&S(this,t),n[t]=e},e.set=function(t,e){this.Vc(t,e)},e.first=function(){var t=this.s;return 0===t.length?null:t[0]},e.fc=function(){var t=this.s,e=t.length;return 0<e?t[e-1]:null},e.pop=function(){this._isFrozen&&S(this);var t=this.s;return 0<t.length?t.pop():null},$.prototype.any=function(t){for(var e=this.s,n=e.length,i=0;i<n;i++)if(t(e[i]))return!0;return!1},$.prototype.all=function(t){for(var e=this.s,n=e.length,i=0;i<n;i++)if(!t(e[i]))return!1;return!0},$.prototype.each=function(t){for(var e=this.s,n=e.length,i=0;i<n;i++)t(e[i]);return this},$.prototype.map=function(t){for(var e=new $,n=[],i=this.s,a=i.length,o=0;o<a;o++)n.push(t(i[o]));return e.s=n,e.sb(),e},$.prototype.filter=function(t){for(var e=new $,n=[],i=this.s,a=i.length,o=0;o<a;o++){var r=i[o];t(r)&&n.push(r)}return e.s=n,e.sb(),e},(e=$.prototype).Cb=function(t,e){0>t&&k(t,">= 0",$,"insertAt:i"),this._isFrozen&&S(this,t);var n=this.s;t>=n.length?n.push(e):n.splice(t,0,e),this.sb()},e.remove=function(t){if(null===t)return!1;this._isFrozen&&S(this,t);var e=this.s;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.sb(),!0)},e.delete=function(t){return this.remove(t)},e.mb=function(t){var e=this.s;(0>t||t>=e.length)&&k(t,"0 <= i < length",$,"removeAt:i"),this._isFrozen&&S(this,t),t===e.length-1?e.pop():e.splice(t,1),this.sb()},e.removeRange=function(t,e){var n=this.s,i=n.length;if(0>t)t=0;else if(t>=i)return this;if(0>e)return this;if(e>=i&&(e=i-1),t>e)return this;this._isFrozen&&S(this);for(var a=t,o=e+1;o<i;)n[a++]=n[o++];return n.length=i-(e-t+1),this.sb(),this},$.prototype.copy=function(){var t=new $,e=this.s;return 0<e.length&&(t.s=Array.prototype.slice.call(e)),t},(e=$.prototype).Ea=function(){for(var t=this.s,e=this.count,n=Array(e),i=0;i<e;i++)n[i]=t[i];return n},e.lv=function(){for(var t=new Q,e=this.s,n=this.count,i=0;i<n;i++)t.add(e[i]);return t},e.sort=function(t){return this._isFrozen&&S(this),this.s.sort(t),this.sb(),this},e.ri=function(t,e,n){var i=this.s,a=i.length;void 0===e&&(e=0),void 0===n&&(n=a),this._isFrozen&&S(this);var o=n-e;if(1>=o)return this;if((0>e||e>=a-1)&&k(e,"0 <= from < length",$,"sortRange:from"),2===o)return 0<t(n=i[e],a=i[e+1])&&(i[e]=a,i[e+1]=n,this.sb()),this;if(0===e)if(n>=a)i.sort(t);else for((e=i.slice(0,n)).sort(t),t=0;t<n;t++)i[t]=e[t];else if(n>=a)for((n=i.slice(e)).sort(t),t=e;t<a;t++)i[t]=n[t-e];else for((a=i.slice(e,n)).sort(t),t=e;t<n;t++)i[t]=a[t-e];return this.sb(),this},e.reverse=function(){return this._isFrozen&&S(this),this.s.reverse(),this.sb(),this},u.Object.defineProperties($.prototype,{_dataArray:{get:function(){return this.s}},count:{get:function(){return this.s.length}},size:{get:function(){return this.s.length}},length:{get:function(){return this.s.length}},iterator:{get:function(){if(0>=this.s.length)return Y;var t=this.Pa;return null!==t?(t.reset(),t):new K(this)}},iteratorBackwards:{get:function(){if(0>=this.s.length)return Y;var t=this.yg;return null!==t?(t.reset(),t):new Z(this)}}}),$.prototype.reverse=$.prototype.reverse,$.prototype.sortRange=$.prototype.ri,$.prototype.sort=$.prototype.sort,$.prototype.toSet=$.prototype.lv,$.prototype.toArray=$.prototype.Ea,$.prototype.removeRange=$.prototype.removeRange,$.prototype.removeAt=$.prototype.mb,$.prototype.delete=$.prototype.delete,$.prototype.remove=$.prototype.remove,$.prototype.insertAt=$.prototype.Cb,$.prototype.pop=$.prototype.pop,$.prototype.last=$.prototype.fc,$.prototype.first=$.prototype.first,$.prototype.set=$.prototype.set,$.prototype.setElt=$.prototype.Vc,$.prototype.get=$.prototype.get,$.prototype.elt=$.prototype.K,$.prototype.indexOf=$.prototype.indexOf,$.prototype.has=$.prototype.has,$.prototype.contains=$.prototype.contains,$.prototype.clear=$.prototype.clear,$.prototype.addAll=$.prototype.addAll,$.prototype.push=$.prototype.push,$.prototype.add=$.prototype.add,$.prototype.thaw=$.prototype.ja,$.prototype.freeze=$.prototype.freeze,$.className="List",J.prototype.reset=function(){var t=this.Xf;t.Pa=null,this.na=t.Ia,this.ra=null},J.prototype.next=function(){var t=this.Xf;if(t.Ia!==this.na&&null===this.key)return!1;var e=this.ra;return null!==(e=null===e?t.ea:e.sa)?(this.ra=e,this.value=e.value,this.key=e.key,!0):(this.Xd(),!1)},J.prototype.ud=function(){return this.next()},J.prototype.first=function(){var t=this.Xf;if(this.na=t.Ia,null!==(t=t.ea)){this.ra=t;var e=t.value;return this.key=t.key,this.value=e}return null},J.prototype.any=function(t){var e=this.Xf;for(this.ra=e.Pa=null,e=e.ea;null!==e;){if(t(e.value))return!0;e=e.sa}return!1},J.prototype.all=function(t){var e=this.Xf;for(this.ra=e.Pa=null,e=e.ea;null!==e;){if(!t(e.value))return!1;e=e.sa}return!0},J.prototype.each=function(t){var e=this.Xf;for(this.ra=e.Pa=null,e=e.ea;null!==e;)t(e.value),e=e.sa;return this},J.prototype.map=function(t){var e=this.Xf;e.Pa=null;var n=new $;for(e=e.ea;null!==e;)n.add(t(e.value)),e=e.sa;return n.iterator},J.prototype.filter=function(t){var e=this.Xf;e.Pa=null;var n=new $;for(e=e.ea;null!==e;){var i=e.value;t(i)&&n.add(i),e=e.sa}return n.iterator},J.prototype.Xd=function(){this.value=this.key=null,this.na=-1,this.Xf.Pa=this},J.prototype.toString=function(){return null!==this.ra?"SetIterator@"+this.ra.value:"SetIterator"},u.Object.defineProperties(J.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.Xf.Ob}}}),J.prototype.first=J.prototype.first,J.prototype.hasNext=J.prototype.ud,J.prototype.next=J.prototype.next,J.prototype.reset=J.prototype.reset,J.className="SetIterator",(e=Q.prototype).sb=function(){var t=this.Ia;999999999<++t&&(t=0),this.Ia=t},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return this._isFrozen=!1,this},e.toString=function(){return"Set()#"+nt(this)},e.add=function(t){if(null===t)return this;this._isFrozen&&S(this,t);var e=t;return M(t)&&(e=et(t)),void 0===this.Pb[e]&&(this.Ob++,t=new ut(t,t),this.Pb[e]=t,null===(e=this.Ye)?this.ea=t:(t.$k=e,e.sa=t),this.Ye=t,this.sb()),this},e.addAll=function(t){if(null===t)return this;if(this._isFrozen&&S(this),_(t))for(var e=t.length,n=0;n<e;n++)this.add(t[n]);else for(t=t.iterator;t.next();)this.add(t.value);return this},e.contains=function(t){if(null===t)return!1;var e=t;return(!M(t)||void 0!==(e=nt(t)))&&void 0!==this.Pb[e]},e.has=function(t){return this.contains(t)},e.zy=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(!this.contains(t.value))return!1;return!0},e.Ay=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(this.contains(t.value))return!0;return!1},e.first=function(){var t=this.ea;return null===t?null:t.value},Q.prototype.any=function(t){for(var e=this.ea;null!==e;){if(t(e.value))return!0;e=e.sa}return!1},Q.prototype.all=function(t){for(var e=this.ea;null!==e;){if(!t(e.value))return!1;e=e.sa}return!0},Q.prototype.each=function(t){for(var e=this.ea;null!==e;)t(e.value),e=e.sa;return this},Q.prototype.map=function(t){for(var e=new Q,n=this.ea;null!==n;)e.add(t(n.value)),n=n.sa;return e},Q.prototype.filter=function(t){for(var e=new Q,n=this.ea;null!==n;){var i=n.value;t(i)&&e.add(i),n=n.sa}return e},(e=Q.prototype).remove=function(t){if(null===t)return!1;this._isFrozen&&S(this,t);var e=t;if(M(t)&&void 0===(e=nt(t)))return!1;if(void 0===(t=this.Pb[e]))return!1;var n=t.sa,i=t.$k;return null!==n&&(n.$k=i),null!==i&&(i.sa=n),this.ea===t&&(this.ea=n),this.Ye===t&&(this.Ye=i),delete this.Pb[e],this.Ob--,this.sb(),!0},e.delete=function(t){return this.remove(t)},e.Ko=function(t){if(null===t)return this;if(this._isFrozen&&S(this),_(t))for(var e=t.length,n=0;n<e;n++)this.remove(t[n]);else for(t=t.iterator;t.next();)this.remove(t.value);return this},e.Wz=function(t){if(null===t||0===this.count)return this;this._isFrozen&&S(this);var e=new Q;e.addAll(t),t=[];for(var n=this.iterator;n.next();){var i=n.value;e.contains(i)||t.push(i)}return this.Ko(t),this},e.clear=function(){this._isFrozen&&S(this),this.Pb={},this.Ob=0,null!==this.Pa&&this.Pa.reset(),this.Ye=this.ea=null,this.sb()},Q.prototype.copy=function(){var t,e=new Q,n=this.Pb;for(t in n)e.add(n[t].value);return e},Q.prototype.Ea=function(){var t,e=Array(this.Ob),n=this.Pb,i=0;for(t in n)e[i]=n[t].value,i++;return e},Q.prototype.kv=function(){var t,e=new $,n=this.Pb;for(t in n)e.add(n[t].value);return e},u.Object.defineProperties(Q.prototype,{count:{get:function(){return this.Ob}},size:{get:function(){return this.Ob}},iterator:{get:function(){if(0>=this.Ob)return Y;var t=this.Pa;return null!==t?(t.reset(),t):new J(this)}}}),Q.prototype.toList=Q.prototype.kv,Q.prototype.toArray=Q.prototype.Ea,Q.prototype.clear=Q.prototype.clear,Q.prototype.retainAll=Q.prototype.Wz,Q.prototype.removeAll=Q.prototype.Ko,Q.prototype.delete=Q.prototype.delete,Q.prototype.remove=Q.prototype.remove,Q.prototype.first=Q.prototype.first,Q.prototype.containsAny=Q.prototype.Ay,Q.prototype.containsAll=Q.prototype.zy,Q.prototype.has=Q.prototype.has,Q.prototype.contains=Q.prototype.contains,Q.prototype.addAll=Q.prototype.addAll,Q.prototype.add=Q.prototype.add,Q.prototype.thaw=Q.prototype.ja,Q.prototype.freeze=Q.prototype.freeze;var it,at,ot,rt,st,lt=1;function ct(t){this.la=t,this.na=t.Ia,this.ra=null}function ht(t){Q.call(this),tt(this),this._isFrozen=!0,this.la=t}function dt(t){this.la=t,t.Xe=null,this.na=t.Ia,this.ra=null}function ut(t,e){this.key=t,this.value=e,this.$k=this.sa=null}function ft(t){this.la=t,t.Pa=null,this.na=t.Ia,this.ra=null}function pt(t){tt(this),this._isFrozen=!1,this.Pb={},this.Ob=0,this.Xe=this.Pa=null,this.Ia=0,this.Ye=this.ea=null,"string"==typeof t&&b("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),void 0!==t&&this.addAll(t)}function gt(t,e){void 0===t?this.y=this.x=0:"number"==typeof t&&"number"==typeof e?(this.x=t,this.y=e):b("Invalid arguments to Point constructor: "+t+", "+e),this._isFrozen=!1}function mt(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var a=0;""===t[e];)e++;return(i=t[e++])&&(a=parseFloat(i)),new gt(n,a)}return new gt}function yt(t){return t.x.toString()+" "+t.y.toString()}function vt(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var n=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n}function wt(t,e){return e.Ld(t),t}function xt(t,e,n,i,a,o){var r=a-n,s=o-i,l=r*r+s*s,c=-(n-=t)*r-(i-=e)*s;return 0>=c||c>=l?(r=a-t,s=o-e,Math.min(n*n+i*i,r*r+s*s)):(t=r*i-s*n)*t/l}function bt(t,e,n,i){return(t=n-t)*t+(e=i-e)*e}function St(t,e,n,i){return e=i-e,0===(t=n-t)?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(i=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?i=0>e?i+180:180-i:0>e&&(i=360-i),i)}Q.className="Set",Q.uniqueHash=tt,Q.hashIdUnique=et,Q.hashId=nt,ct.prototype.reset=function(){this.na=this.la.Ia,this.ra=null},ct.prototype.next=function(){var t=this.la;if(t.Ia!==this.na&&null===this.key)return!1;var e=this.ra;return null!==(e=null===e?t.ea:e.sa)?(this.ra=e,this.value=this.key=t=e.key,!0):(this.Xd(),!1)},ct.prototype.ud=function(){return this.next()},ct.prototype.first=function(){var t=this.la;return this.na=t.Ia,null!==(t=t.ea)?(this.ra=t,this.value=this.key=t=t.key):null},ct.prototype.any=function(t){var e=this.la;for(this.ra=null,e=e.ea;null!==e;){if(t(e.key))return!0;e=e.sa}return!1},ct.prototype.all=function(t){var e=this.la;for(this.ra=null,e=e.ea;null!==e;){if(!t(e.key))return!1;e=e.sa}return!0},ct.prototype.each=function(t){var e=this.la;for(this.ra=null,e=e.ea;null!==e;)t(e.key),e=e.sa;return this},ct.prototype.map=function(t){var e=this.la;this.ra=null;var n=new $;for(e=e.ea;null!==e;)n.add(t(e.key)),e=e.sa;return n.iterator},ct.prototype.filter=function(t){var e=this.la;this.ra=null;var n=new $;for(e=e.ea;null!==e;){var i=e.key;t(i)&&n.add(i),e=e.sa}return n.iterator},ct.prototype.Xd=function(){this.value=this.key=null,this.na=-1},ct.prototype.toString=function(){return null!==this.ra?"MapKeySetIterator@"+this.ra.value:"MapKeySetIterator"},u.Object.defineProperties(ct.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.la.Ob}}}),ct.prototype.first=ct.prototype.first,ct.prototype.hasNext=ct.prototype.ud,ct.prototype.next=ct.prototype.next,ct.prototype.reset=ct.prototype.reset,ct.className="MapKeySetIterator",d(ht,Q),(e=ht.prototype).freeze=function(){return this},e.ja=function(){return this},e.toString=function(){return"MapKeySet("+this.la.toString()+")"},e.add=function(){b("This Set is read-only: "+this.toString())},e.contains=function(t){return this.la.contains(t)},e.has=function(t){return this.contains(t)},e.remove=function(){b("This Set is read-only: "+this.toString())},e.delete=function(t){return this.remove(t)},e.clear=function(){b("This Set is read-only: "+this.toString())},e.first=function(){var t=this.la.ea;return null!==t?t.key:null},ht.prototype.any=function(t){for(var e=this.la.ea;null!==e;){if(t(e.key))return!0;e=e.sa}return!1},ht.prototype.all=function(t){for(var e=this.la.ea;null!==e;){if(!t(e.key))return!1;e=e.sa}return!0},ht.prototype.each=function(t){for(var e=this.la.ea;null!==e;)t(e.key),e=e.sa;return this},ht.prototype.map=function(t){for(var e=new Q,n=this.la.ea;null!==n;)e.add(t(n.key)),n=n.sa;return e},ht.prototype.filter=function(t){for(var e=new Q,n=this.la.ea;null!==n;){var i=n.key;t(i)&&e.add(i),n=n.sa}return e},ht.prototype.copy=function(){return new ht(this.la)},ht.prototype.lv=function(){var t,e=new Q,n=this.la.Pb;for(t in n)e.add(n[t].key);return e},ht.prototype.Ea=function(){var t,e=this.la.Pb,n=Array(this.la.Ob),i=0;for(t in e)n[i]=e[t].key,i++;return n},ht.prototype.kv=function(){var t,e=new $,n=this.la.Pb;for(t in n)e.add(n[t].key);return e},u.Object.defineProperties(ht.prototype,{count:{get:function(){return this.la.Ob}},size:{get:function(){return this.la.Ob}},iterator:{get:function(){return 0>=this.la.Ob?Y:new ct(this.la)}}}),ht.prototype.toList=ht.prototype.kv,ht.prototype.toArray=ht.prototype.Ea,ht.prototype.toSet=ht.prototype.lv,ht.prototype.first=ht.prototype.first,ht.prototype.clear=ht.prototype.clear,ht.prototype.delete=ht.prototype.delete,ht.prototype.remove=ht.prototype.remove,ht.prototype.has=ht.prototype.has,ht.prototype.contains=ht.prototype.contains,ht.prototype.add=ht.prototype.add,ht.prototype.thaw=ht.prototype.ja,ht.prototype.freeze=ht.prototype.freeze,ht.className="MapKeySet",dt.prototype.reset=function(){var t=this.la;t.Xe=null,this.na=t.Ia,this.ra=null},dt.prototype.next=function(){var t=this.la;if(t.Ia!==this.na&&null===this.key)return!1;var e=this.ra;return null!==(e=null===e?t.ea:e.sa)?(this.ra=e,this.value=e.value,this.key=e.key,!0):(this.Xd(),!1)},dt.prototype.ud=function(){return this.next()},dt.prototype.first=function(){var t=this.la;if(this.na=t.Ia,null!==(t=t.ea)){this.ra=t;var e=t.value;return this.key=t.key,this.value=e}return null},dt.prototype.any=function(t){var e=this.la;for(this.ra=e.Xe=null,e=e.ea;null!==e;){if(t(e.value))return!0;e=e.sa}return!1},dt.prototype.all=function(t){var e=this.la;for(this.ra=e.Xe=null,e=e.ea;null!==e;){if(!t(e.value))return!1;e=e.sa}return!0},dt.prototype.each=function(t){var e=this.la;for(this.ra=e.Xe=null,e=e.ea;null!==e;)t(e.value),e=e.sa;return this},dt.prototype.map=function(t){var e=this.la;this.ra=e.Xe=null;var n=new $;for(e=e.ea;null!==e;)n.add(t(e.value)),e=e.sa;return n.iterator},dt.prototype.filter=function(t){var e=this.la;this.ra=e.Xe=null;var n=new $;for(e=e.ea;null!==e;){var i=e.value;t(i)&&n.add(i),e=e.sa}return n.iterator},dt.prototype.Xd=function(){this.value=this.key=null,this.na=-1,this.la.Xe=this},dt.prototype.toString=function(){return null!==this.ra?"MapValueSetIterator@"+this.ra.value:"MapValueSetIterator"},u.Object.defineProperties(dt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.la.Ob}}}),dt.prototype.first=dt.prototype.first,dt.prototype.hasNext=dt.prototype.ud,dt.prototype.next=dt.prototype.next,dt.prototype.reset=dt.prototype.reset,dt.className="MapValueSetIterator",ut.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},ut.className="KeyValuePair",ft.prototype.reset=function(){var t=this.la;t.Pa=null,this.na=t.Ia,this.ra=null},ft.prototype.next=function(){var t=this.la;if(t.Ia!==this.na&&null===this.key)return!1;var e=this.ra;return null!==(e=null===e?t.ea:e.sa)?(this.ra=e,this.key=e.key,this.value=e.value,!0):(this.Xd(),!1)},ft.prototype.ud=function(){return this.next()},ft.prototype.first=function(){var t=this.la;return this.na=t.Ia,null!==(t=t.ea)?(this.ra=t,this.key=t.key,this.value=t.value,t):null},ft.prototype.any=function(t){var e=this.la;for(this.ra=e.Pa=null,e=e.ea;null!==e;){if(t(e))return!0;e=e.sa}return!1},ft.prototype.all=function(t){var e=this.la;for(this.ra=e.Pa=null,e=e.ea;null!==e;){if(!t(e))return!1;e=e.sa}return!0},ft.prototype.each=function(t){var e=this.la;for(this.ra=e.Pa=null,e=e.ea;null!==e;)t(e),e=e.sa;return this},ft.prototype.map=function(t){var e=this.la;this.ra=e.Pa=null;var n=new $;for(e=e.ea;null!==e;)n.add(t(e)),e=e.sa;return n.iterator},ft.prototype.filter=function(t){var e=this.la;this.ra=e.Pa=null;var n=new $;for(e=e.ea;null!==e;)t(e)&&n.add(e),e=e.sa;return n.iterator},ft.prototype.Xd=function(){this.value=this.key=null,this.na=-1,this.la.Pa=this},ft.prototype.toString=function(){return null!==this.ra?"MapIterator@"+this.ra:"MapIterator"},u.Object.defineProperties(ft.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.la.Ob}}}),ft.prototype.first=ft.prototype.first,ft.prototype.hasNext=ft.prototype.ud,ft.prototype.next=ft.prototype.next,ft.prototype.reset=ft.prototype.reset,ft.className="MapIterator",(e=pt.prototype).sb=function(){var t=this.Ia;999999999<++t&&(t=0),this.Ia=t},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return this._isFrozen=!1,this},e.toString=function(){return"Map()#"+nt(this)},e.add=function(t,e){this._isFrozen&&S(this,t);var n=t;M(t)&&(n=et(t));var i=this.Pb[n];return void 0===i?(this.Ob++,t=new ut(t,e),this.Pb[n]=t,null===(n=this.Ye)?this.ea=t:(t.$k=n,n.sa=t),this.Ye=t,this.sb()):i.value=e,this},e.set=function(t,e){return this.add(t,e)},e.addAll=function(t){if(null===t)return this;if(_(t))for(var e=t.length,n=0;n<e;n++){var i=t[n];this.add(i.key,i.value)}else if(t instanceof pt)for(t=t.iterator;t.next();)this.add(t.key,t.value);else for(t=t.iterator;t.next();)e=t.value,this.add(e.key,e.value);return this},e.first=function(){return this.ea},pt.prototype.any=function(t){for(var e=this.ea;null!==e;){if(t(e))return!0;e=e.sa}return!1},pt.prototype.all=function(t){for(var e=this.ea;null!==e;){if(!t(e))return!1;e=e.sa}return!0},pt.prototype.each=function(t){for(var e=this.ea;null!==e;)t(e),e=e.sa;return this},pt.prototype.map=function(t){for(var e=new pt,n=this.ea;null!==n;)e.add(n.key,t(n)),n=n.sa;return e},pt.prototype.filter=function(t){for(var e=new pt,n=this.ea;null!==n;)t(n)&&e.add(n.key,n.value),n=n.sa;return e},(e=pt.prototype).contains=function(t){var e=t;return(!M(t)||void 0!==(e=nt(t)))&&void 0!==this.Pb[e]},e.has=function(t){return this.contains(t)},e.I=function(t){var e=t;return M(t)&&void 0===(e=nt(t))||void 0===(t=this.Pb[e])?null:t.value},e.get=function(t){return this.I(t)},e.remove=function(t){if(null===t)return!1;this._isFrozen&&S(this,t);var e=t;if(M(t)&&void 0===(e=nt(t)))return!1;if(void 0===(t=this.Pb[e]))return!1;var n=t.sa,i=t.$k;return null!==n&&(n.$k=i),null!==i&&(i.sa=n),this.ea===t&&(this.ea=n),this.Ye===t&&(this.Ye=i),delete this.Pb[e],this.Ob--,this.sb(),!0},e.delete=function(t){return this.remove(t)},e.clear=function(){this._isFrozen&&S(this),this.Pb={},this.Ob=0,null!==this.Pa&&this.Pa.reset(),null!==this.Xe&&this.Xe.reset(),this.Ye=this.ea=null,this.sb()},pt.prototype.copy=function(){var t,e=new pt,n=this.Pb;for(t in n){var i=n[t];e.add(i.key,i.value)}return e},pt.prototype.Ea=function(){var t,e=this.Pb,n=Array(this.Ob),i=0;for(t in e){var a=e[t];n[i]=new ut(a.key,a.value),i++}return n},pt.prototype.Cf=function(){return new ht(this)},u.Object.defineProperties(pt.prototype,{count:{get:function(){return this.Ob}},size:{get:function(){return this.Ob}},iterator:{get:function(){if(0>=this.count)return Y;var t=this.Pa;return null!==t?(t.reset(),t):new ft(this)}},iteratorKeys:{get:function(){return 0>=this.count?Y:new ct(this)}},iteratorValues:{get:function(){if(0>=this.count)return Y;var t=this.Xe;return null!==t?(t.reset(),t):new dt(this)}}}),pt.prototype.toKeySet=pt.prototype.Cf,pt.prototype.toArray=pt.prototype.Ea,pt.prototype.clear=pt.prototype.clear,pt.prototype.delete=pt.prototype.delete,pt.prototype.remove=pt.prototype.remove,pt.prototype.get=pt.prototype.get,pt.prototype.getValue=pt.prototype.I,pt.prototype.has=pt.prototype.has,pt.prototype.contains=pt.prototype.contains,pt.prototype.first=pt.prototype.first,pt.prototype.addAll=pt.prototype.addAll,pt.prototype.set=pt.prototype.set,pt.prototype.add=pt.prototype.add,pt.prototype.thaw=pt.prototype.ja,pt.prototype.freeze=pt.prototype.freeze,pt.className="Map",gt.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this},gt.prototype.h=function(t,e){return this.x=t,this.y=e,this},gt.prototype.kg=function(t,e){return this.x=t,this.y=e,this},gt.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},gt.prototype.copy=function(){var t=new gt;return t.x=this.x,t.y=this.y,t},(e=gt.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},e.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return Object.isFrozen(this)&&b("cannot thaw constant: "+this),this._isFrozen=!1,this},e.toString=function(){return"Point("+this.x+","+this.y+")"},e.C=function(t){return t instanceof gt&&(this.x===t.x&&this.y===t.y)},e.bi=function(t,e){return this.x===t&&this.y===e},e.$a=function(t){return Ue.B(this.x,t.x)&&Ue.B(this.y,t.y)},e.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.je=function(t){return this.x-=t.x,this.y-=t.y,this},e.offset=function(t,e){return this.x+=t,this.y+=e,this},gt.prototype.rotate=function(t){if(0===t)return this;var e=this.x,n=this.y;if(0===e&&0===n)return this;if(360<=t?t-=360:0>t&&(t+=360),90===t){t=0;var i=1}else 180===t?(t=-1,i=0):270===t?(t=0,i=-1):(i=t*Math.PI/180,t=Math.cos(i),i=Math.sin(i));return this.x=t*e-i*n,this.y=i*e+t*n,this},(e=gt.prototype).scale=function(t,e){return this.x*=t,this.y*=e,this},e.rf=function(t){var e=t.x-this.x;return e*e+(t=t.y-this.y)*t},e.td=function(t,e){return(t-=this.x)*t+(e-=this.y)*e},e.normalize=function(){var t=this.x,e=this.y,n=Math.sqrt(t*t+e*e);return 0<n&&(this.x=t/n,this.y=e/n),this},e.Ya=function(t){return vt(t.x-this.x,t.y-this.y)},e.direction=function(t,e){return vt(t-this.x,e-this.y)},e.yy=function(t,e){return Ue.rl(t.x,t.y,e.x,e.y,this.x,this.y)},e.Mz=function(t,e,n,i){return Ue.fh(t,e,n,i,this.x,this.y,this),this},e.Nz=function(t,e){return Ue.fh(t.x,t.y,e.x,e.y,this.x,this.y,this),this},e.aA=function(t,e,n,i){return Ue.so(this.x,this.y,t,e,n,i,this),this},e.bA=function(t,e){return Ue.so(this.x,this.y,t.x,t.y,e.width,e.height,this),this},e.oi=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},e.pi=function(t,e,n,i,a){return this.x=t+a.x*n+a.offsetX,this.y=e+a.y*i+a.offsetY,this},e.transform=function(t){return t.Fa(this),this},e.v=function(){return isFinite(this.x)&&isFinite(this.y)},gt.alloc=function(){var t=At.pop();return void 0===t?new gt:t},gt.allocAt=function(t,e){var n=At.pop();return void 0===n?new gt(t,e):(n.x=t,n.y=e,n)},gt.free=function(t){At.push(t)},gt.prototype.isReal=gt.prototype.v,gt.prototype.setSpot=gt.prototype.pi,gt.prototype.setRectSpot=gt.prototype.oi,gt.prototype.snapToGridPoint=gt.prototype.bA,gt.prototype.snapToGrid=gt.prototype.aA,gt.prototype.projectOntoLineSegmentPoint=gt.prototype.Nz,gt.prototype.projectOntoLineSegment=gt.prototype.Mz,gt.intersectingLineSegments=function(t,e,n,i,a,o,r,s){return Ue.yl(t,e,n,i,a,o,r,s)},gt.prototype.compareWithLineSegmentPoint=gt.prototype.yy,gt.compareWithLineSegment=function(t,e,n,i,a,o){return Ue.rl(t,e,n,i,a,o)},gt.prototype.direction=gt.prototype.direction,gt.prototype.directionPoint=gt.prototype.Ya,gt.prototype.normalize=gt.prototype.normalize,gt.prototype.distanceSquared=gt.prototype.td,gt.prototype.distanceSquaredPoint=gt.prototype.rf,gt.prototype.scale=gt.prototype.scale,gt.prototype.rotate=gt.prototype.rotate,gt.prototype.offset=gt.prototype.offset,gt.prototype.subtract=gt.prototype.je,gt.prototype.add=gt.prototype.add,gt.prototype.equalsApprox=gt.prototype.$a,gt.prototype.equalTo=gt.prototype.bi,gt.prototype.equals=gt.prototype.C,gt.prototype.set=gt.prototype.set,gt.prototype.setTo=gt.prototype.kg;var kt,Pt,Mt,_t,Lt,Tt,Ot,At=[];function Et(t,e){void 0===t?this.height=this.width=0:"number"==typeof t&&(0<=t||isNaN(t))&&"number"==typeof e&&(0<=e||isNaN(e))?(this.width=t,this.height=e):b("Invalid arguments to Size constructor: "+t+", "+e),this._isFrozen=!1}function Ct(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var a=0;""===t[e];)e++;return(i=t[e++])&&(a=parseFloat(i)),new Et(n,a)}return new Et}function Nt(t){return t.width.toString()+" "+t.height.toString()}gt.className="Point",gt.parse=mt,gt.stringify=yt,gt.distanceLineSegmentSquared=xt,gt.distanceSquared=bt,gt.direction=St,gt.Origin=it=new gt(0,0).ha(),gt.InfiniteTopLeft=at=new gt(-1/0,-1/0).ha(),gt.InfiniteBottomRight=ot=new gt(1/0,1/0).ha(),gt.SixPoint=rt=new gt(6,6).ha(),gt.NoPoint=st=new gt(NaN,NaN).ha(),gt.parse=mt,gt.stringify=yt,gt.distanceLineSegmentSquared=xt,gt.distanceSquared=bt,gt.direction=St,Et.prototype.assign=function(t){return this.width=t.width,this.height=t.height,this},Et.prototype.h=function(t,e){return this.width=t,this.height=e,this},Et.prototype.kg=function(t,e){return this.width=t,this.height=e,this},Et.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},Et.prototype.copy=function(){var t=new Et;return t.width=this.width,t.height=this.height,t},(e=Et.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},e.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return Object.isFrozen(this)&&b("cannot thaw constant: "+this),this._isFrozen=!1,this},e.toString=function(){return"Size("+this.width+","+this.height+")"},e.C=function(t){return t instanceof Et&&(this.width===t.width&&this.height===t.height)},e.bi=function(t,e){return this.width===t&&this.height===e},e.$a=function(t){return Ue.B(this.width,t.width)&&Ue.B(this.height,t.height)},e.vc=function(t,e){return t=this.width+t,this.width=0<=t?t:0,e=this.height+e,this.height=0<=e?e:0,this},e.v=function(){return isFinite(this.width)&&isFinite(this.height)},Et.alloc=function(){var t=Bt.pop();return void 0===t?new Et:t},Et.free=function(t){Bt.push(t)},Et.prototype.isReal=Et.prototype.v,Et.prototype.inflate=Et.prototype.vc,Et.prototype.equalsApprox=Et.prototype.$a,Et.prototype.equalTo=Et.prototype.bi,Et.prototype.equals=Et.prototype.C,Et.prototype.set=Et.prototype.set,Et.prototype.setTo=Et.prototype.kg;var Bt=[];function jt(t,e,n,i){void 0===t?this.height=this.width=this.y=this.x=0:"number"==typeof t&&"number"==typeof e&&"number"==typeof n&&(0<=n||isNaN(n))&&"number"==typeof i&&(0<=i||isNaN(i))?(this.x=t,this.y=e,this.width=n,this.height=i):t instanceof gt?(n=t.x,t=t.y,e instanceof gt?(i=e.x,e=e.y,this.x=Math.min(n,i),this.y=Math.min(t,e),this.width=Math.abs(n-i),this.height=Math.abs(t-e)):e instanceof Et?(this.x=n,this.y=t,this.width=e.width,this.height=e.height):b("Incorrect second argument supplied to Rect constructor "+e)):b("Invalid arguments to Rect constructor: "+t+", "+e+", "+n+", "+i),this._isFrozen=!1}function Dt(t,e,n){t.width=e,t.height=n}function Ft(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var a=0;""===t[e];)e++;(i=t[e++])&&(a=parseFloat(i));for(var o=0;""===t[e];)e++;(i=t[e++])&&(o=parseFloat(i));for(var r=0;""===t[e];)e++;return(i=t[e++])&&(r=parseFloat(i)),new jt(n,a,o,r)}return new jt}function Rt(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}function It(t,e){return Ue.ca(t.x,e.x)&&Ue.ca(t.y,e.y)&&Ue.ca(t.width,e.width)&&Ue.ca(t.height,e.height)}function zt(t,e,n,i,a){var o=t.width;return n+a<=-o?(t.x+=o/2,t.width=0):(t.x-=a,t.width+=n+a),e+i<=-(n=t.height)?(t.y+=n/2,t.height=0):(t.y-=e,t.height+=e+i),t}function Ht(t,e,n,i,a){var o=Math.max(t.x,e),r=Math.max(t.y,n);return e=Math.min(t.x+t.width,e+i),n=Math.min(t.y+t.height,n+a),t.x=o,t.y=r,t.width=Math.max(0,e-o),t.height=Math.max(0,n-r),t}function Vt(t,e){var n=t.width,i=t.x,a=e.x-10;return!(i>e.width+10+10+a||a>n+i)&&(n=t.height,t=t.y,i=e.y-10,!(t>e.height+10+10+i||i>n+t))}function Gt(t,e,n,i,a){var o=Math.min(t.x,e),r=Math.min(t.y,n);return e=Math.max(t.x+t.width,e+i),n=Math.max(t.y+t.height,n+a),t.x=o,t.y=r,t.width=e-o,t.height=n-r,t}function Ut(t,e,n,i,a,o,r,s){return void 0===r&&(r=0),void 0===s&&(s=0),t<=a&&a+r<=t+n&&e<=o&&o+s<=e+i}function Wt(t,e,n,i,a,o,r,s){return!(t>r+a||a>n+t)&&!(e>s+o||o>i+e)}Et.className="Size",Et.parse=Ct,Et.stringify=Nt,Et.ZeroSize=kt=new Et(0,0).ha(),Et.OneSize=Pt=new Et(1,1).ha(),Et.SixSize=Mt=new Et(6,6).ha(),Et.EightSize=_t=new Et(8,8).ha(),Et.TenSize=Lt=new Et(10,10).ha(),Et.InfiniteSize=Tt=new Et(1/0,1/0).ha(),Et.NoSize=Ot=new Et(NaN,NaN).ha(),Et.parse=Ct,Et.stringify=Nt,(e=jt.prototype).assign=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.h=function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},e.kg=function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},e.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.Wc=function(t){return this.x=t.x,this.y=t.y,this},e.$z=function(t){return this.width=t.width,this.height=t.height,this},jt.prototype.copy=function(){var t=new jt;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},(e=jt.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},e.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return Object.isFrozen(this)&&b("cannot thaw constant: "+this),this._isFrozen=!1,this},e.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},e.C=function(t){return t instanceof jt&&(this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height)},e.bi=function(t,e,n,i){return this.x===t&&this.y===e&&this.width===n&&this.height===i},e.$a=function(t){return Ue.B(this.x,t.x)&&Ue.B(this.y,t.y)&&Ue.B(this.width,t.width)&&Ue.B(this.height,t.height)},e.ba=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},e.Ee=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},e.contains=function(t,e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),this.x<=t&&t+n<=this.x+this.width&&this.y<=e&&e+i<=this.y+this.height},e.offset=function(t,e){return this.x+=t,this.y+=e,this},e.vc=function(t,e){return zt(this,e,t,e,t)},e.fo=function(t){return zt(this,t.top,t.right,t.bottom,t.left)},e.jv=function(t){return zt(this,-t.top,-t.right,-t.bottom,-t.left)},e.oz=function(t,e,n,i){return zt(this,t,e,n,i)},e.ix=function(t){return Ht(this,t.x,t.y,t.width,t.height)},e.Fu=function(t,e,n,i){return Ht(this,t,e,n,i)},e.Sc=function(t){return this.Gu(t.x,t.y,t.width,t.height)},e.Gu=function(t,e,n,i){var a=this.width,o=this.x;return!(1/0!==a&&1/0!==n&&(a+=o,n+=t,isNaN(n)||isNaN(a)||o>n||t>a))&&(t=this.height,n=this.y,!(1/0!==t&&1/0!==i&&(t+=n,i+=e,isNaN(i)||isNaN(t)||n>i||e>t)))},e.Me=function(t){return Gt(this,t.x,t.y,0,0)},e.Xc=function(t){return Gt(this,t.x,t.y,t.width,t.height)},e.nv=function(t,e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),Gt(this,t,e,n,i)},e.pi=function(t,e,n){return this.x=t-n.offsetX-n.x*this.width,this.y=e-n.offsetY-n.y*this.height,this},e.v=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.vz=function(){return 0===this.width&&0===this.height},jt.alloc=function(){var t=Xt.pop();return void 0===t?new jt:t},jt.allocAt=function(t,e,n,i){var a=Xt.pop();return void 0===a?new jt(t,e,n,i):a.h(t,e,n,i)},jt.free=function(t){Xt.push(t)},u.Object.defineProperties(jt.prototype,{left:{get:function(){return this.x},set:function(t){this.x=t}},top:{get:function(){return this.y},set:function(t){this.y=t}},right:{get:function(){return this.x+this.width},set:function(t){this.x+=t-(this.x+this.width)}},bottom:{get:function(){return this.y+this.height},set:function(t){this.y+=t-(this.y+this.height)}},position:{get:function(){return new gt(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},size:{get:function(){return new Et(this.width,this.height)},set:function(t){this.width=t.width,this.height=t.height}},center:{get:function(){return new gt(this.x+this.width/2,this.y+this.height/2)},set:function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),jt.prototype.isEmpty=jt.prototype.vz,jt.prototype.isReal=jt.prototype.v,jt.intersectsLineSegment=function(t,e,n,i,a,o,r,s){return Ue.jx(t,e,n,i,a,o,r,s)},jt.prototype.setSpot=jt.prototype.pi,jt.prototype.union=jt.prototype.nv,jt.prototype.unionRect=jt.prototype.Xc,jt.prototype.unionPoint=jt.prototype.Me,jt.prototype.intersects=jt.prototype.Gu,jt.prototype.intersectsRect=jt.prototype.Sc,jt.prototype.intersect=jt.prototype.Fu,jt.prototype.intersectRect=jt.prototype.ix,jt.prototype.grow=jt.prototype.oz,jt.prototype.subtractMargin=jt.prototype.jv,jt.prototype.addMargin=jt.prototype.fo,jt.prototype.inflate=jt.prototype.vc,jt.prototype.offset=jt.prototype.offset,jt.prototype.contains=jt.prototype.contains,jt.prototype.containsRect=jt.prototype.Ee,jt.prototype.containsPoint=jt.prototype.ba,jt.prototype.equalsApprox=jt.prototype.$a,jt.prototype.equalTo=jt.prototype.bi,jt.prototype.equals=jt.prototype.C,jt.prototype.setSize=jt.prototype.$z,jt.prototype.setPoint=jt.prototype.Wc,jt.prototype.set=jt.prototype.set,jt.prototype.setTo=jt.prototype.kg;var qt,Yt,Xt=[];function Kt(t,e,n,i){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===n?(this.top=t,this.right=e,this.bottom=t,this.left=e):void 0!==i?(this.top=t,this.right=e,this.bottom=n,this.left=i):b("Invalid arguments to Margin constructor: "+t+", "+e+", "+n+", "+i),this._isFrozen=!1}function Zt(t){if("string"==typeof t){t=t.split(" ");for(var e=0,n=NaN;""===t[e];)e++;var i=t[e++];if(i&&(n=parseFloat(i)),isNaN(n))return new Kt;for(var a=NaN;""===t[e];)e++;if((i=t[e++])&&(a=parseFloat(i)),isNaN(a))return new Kt(n);for(var o=NaN;""===t[e];)e++;if((i=t[e++])&&(o=parseFloat(i)),isNaN(o))return new Kt(n,a);for(var r=NaN;""===t[e];)e++;return(i=t[e++])&&(r=parseFloat(i)),isNaN(r)?new Kt(n,a):new Kt(n,a,o,r)}return new Kt}function $t(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}jt.className="Rect",jt.parse=Ft,jt.stringify=Rt,jt.contains=Ut,jt.intersects=Wt,jt.ZeroRect=qt=new jt(0,0,0,0).ha(),jt.NoRect=Yt=new jt(NaN,NaN,NaN,NaN).ha(),jt.parse=Ft,jt.stringify=Rt,jt.contains=Ut,jt.intersects=Wt,Kt.prototype.assign=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},Kt.prototype.kg=function(t,e,n,i){return this.top=t,this.right=e,this.bottom=n,this.left=i,this},Kt.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},Kt.prototype.copy=function(){var t=new Kt;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},(e=Kt.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},e.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return Object.isFrozen(this)&&b("cannot thaw constant: "+this),this._isFrozen=!1,this},e.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},e.C=function(t){return t instanceof Kt&&(this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left)},e.bi=function(t,e,n,i){return this.top===t&&this.right===e&&this.bottom===n&&this.left===i},e.$a=function(t){return Ue.B(this.top,t.top)&&Ue.B(this.right,t.right)&&Ue.B(this.bottom,t.bottom)&&Ue.B(this.left,t.left)},e.v=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},Kt.alloc=function(){var t=De.pop();return void 0===t?new Kt:t},Kt.free=function(t){De.push(t)},Kt.prototype.isReal=Kt.prototype.v,Kt.prototype.equalsApprox=Kt.prototype.$a,Kt.prototype.equalTo=Kt.prototype.bi,Kt.prototype.equals=Kt.prototype.C,Kt.prototype.set=Kt.prototype.set,Kt.prototype.setTo=Kt.prototype.kg;var Jt,Qt,te,ee,ne,ie,ae,oe,re,se,le,ce,he,de,ue,fe,pe,ge,me,ye,ve,we,xe,be,Se,ke,Pe,Me,_e,Le,Te,Oe,Ae,Ee,Ce,Ne,Be,je,De=[];function Fe(t,e,n,i){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.offsetX=n,this.offsetY=i),this._isFrozen=!1}function Re(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function Ie(t){if("string"==typeof t){if("None"===(t=t.trim()))return te;if("TopLeft"===t)return ee;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return ne;if("TopRight"===t)return ie;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return ae;if("Center"===t)return oe;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return re;if("BottomLeft"===t)return se;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return le;if("BottomRight"===t)return ce;if("TopSide"===t)return he;if("LeftSide"===t)return de;if("RightSide"===t)return ue;if("BottomSide"===t)return fe;if("TopBottomSides"===t)return pe;if("LeftRightSides"===t)return ge;if("TopLeftSides"===t)return me;if("TopRightSides"===t)return ye;if("BottomLeftSides"===t)return ve;if("BottomRightSides"===t)return we;if("NotTopSide"===t)return xe;if("NotLeftSide"===t)return be;if("NotRightSide"===t)return Se;if("NotBottomSide"===t)return ke;if("AllSides"===t)return Pe;if("Default"===t)return Me;t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];void 0!==i&&0<i.length&&(n=parseFloat(i));for(var a=0;""===t[e];)e++;void 0!==(i=t[e++])&&0<i.length&&(a=parseFloat(i));for(var o=0;""===t[e];)e++;void 0!==(i=t[e++])&&0<i.length&&(o=parseFloat(i));for(var r=0;""===t[e];)e++;return void 0!==(i=t[e++])&&0<i.length&&(r=parseFloat(i)),new Fe(n,a,o,r)}return new Fe}function ze(t){return t.pb()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}Kt.className="Margin",Kt.parse=Zt,Kt.stringify=$t,Kt.ZeroMargin=Jt=new Kt(0,0,0,0).ha(),Kt.TwoMargin=Qt=new Kt(2,2,2,2).ha(),Kt.parse=Zt,Kt.stringify=$t,Fe.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},Fe.prototype.kg=function(t,e,n,i){return this.x=t,this.y=e,this.offsetX=n,this.offsetY=i,this},Fe.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},Fe.prototype.copy=function(){var t=new Fe;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},(e=Fe.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},e.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return Object.isFrozen(this)&&b("cannot thaw constant: "+this),this._isFrozen=!1,this},e.toString=function(){return this.pb()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.C(te)?"None":this.C(ee)?"TopLeft":this.C(ne)?"Top":this.C(ie)?"TopRight":this.C(ae)?"Left":this.C(oe)?"Center":this.C(re)?"Right":this.C(se)?"BottomLeft":this.C(le)?"Bottom":this.C(ce)?"BottomRight":this.C(he)?"TopSide":this.C(de)?"LeftSide":this.C(ue)?"RightSide":this.C(fe)?"BottomSide":this.C(pe)?"TopBottomSides":this.C(ge)?"LeftRightSides":this.C(me)?"TopLeftSides":this.C(ye)?"TopRightSides":this.C(ve)?"BottomLeftSides":this.C(we)?"BottomRightSides":this.C(xe)?"NotTopSide":this.C(be)?"NotLeftSide":this.C(Se)?"NotRightSide":this.C(ke)?"NotBottomSide":this.C(Pe)?"AllSides":this.C(Me)?"Default":"None"},e.C=function(t){return t instanceof Fe&&((this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY)},e.Pu=function(){return new Fe(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},e.xf=function(t){if(!this.Uc())return!1;if(!t.Uc())if(t.C(_e))t=de;else if(t.C(Le))t=ue;else if(t.C(Te))t=he;else{if(!t.C(Oe))return!1;t=fe}return t=t.offsetY,(this.offsetY&t)===t},e.pb=function(){return!isNaN(this.x)&&!isNaN(this.y)},e.Fc=function(){return isNaN(this.x)||isNaN(this.y)},e.Uc=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},e.Xr=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},e.Sb=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY},Fe.alloc=function(){var t=He.pop();return void 0===t?new Fe:t},Fe.free=function(t){He.push(t)},Fe.prototype.isDefault=Fe.prototype.Sb,Fe.prototype.isNone=Fe.prototype.Xr,Fe.prototype.isSide=Fe.prototype.Uc,Fe.prototype.isNoSpot=Fe.prototype.Fc,Fe.prototype.isSpot=Fe.prototype.pb,Fe.prototype.includesSide=Fe.prototype.xf,Fe.prototype.opposite=Fe.prototype.Pu,Fe.prototype.equals=Fe.prototype.C,Fe.prototype.set=Fe.prototype.set,Fe.prototype.setTo=Fe.prototype.kg;var He=[];function Ve(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}Fe.className="Spot",Fe.parse=Ie,Fe.stringify=ze,Fe.None=te=Re(new Fe(0,0,0,0),0).ha(),Fe.Default=Me=Re(new Fe(0,0,-1,0),-1).ha(),Fe.TopLeft=ee=new Fe(0,0,0,0).ha(),Fe.TopCenter=ne=new Fe(.5,0,0,0).ha(),Fe.TopRight=ie=new Fe(1,0,0,0).ha(),Fe.LeftCenter=ae=new Fe(0,.5,0,0).ha(),Fe.Center=oe=new Fe(.5,.5,0,0).ha(),Fe.RightCenter=re=new Fe(1,.5,0,0).ha(),Fe.BottomLeft=se=new Fe(0,1,0,0).ha(),Fe.BottomCenter=le=new Fe(.5,1,0,0).ha(),Fe.BottomRight=ce=new Fe(1,1,0,0).ha(),Fe.MiddleTop=Ae=ne,Fe.MiddleLeft=Ee=ae,Fe.MiddleRight=Ce=re,Fe.MiddleBottom=Ne=le,Fe.Top=Te=ne,Fe.Left=_e=ae,Fe.Right=Le=re,Fe.Bottom=Oe=le,Fe.TopSide=he=Re(new Fe(0,0,1,1),1).ha(),Fe.LeftSide=de=Re(new Fe(0,0,1,2),1).ha(),Fe.RightSide=ue=Re(new Fe(0,0,1,4),1).ha(),Fe.BottomSide=fe=Re(new Fe(0,0,1,8),1).ha(),Fe.TopBottomSides=pe=Re(new Fe(0,0,1,9),1).ha(),Fe.LeftRightSides=ge=Re(new Fe(0,0,1,6),1).ha(),Fe.TopLeftSides=me=Re(new Fe(0,0,1,3),1).ha(),Fe.TopRightSides=ye=Re(new Fe(0,0,1,5),1).ha(),Fe.BottomLeftSides=ve=Re(new Fe(0,0,1,10),1).ha(),Fe.BottomRightSides=we=Re(new Fe(0,0,1,12),1).ha(),Fe.NotTopSide=xe=Re(new Fe(0,0,1,14),1).ha(),Fe.NotLeftSide=be=Re(new Fe(0,0,1,13),1).ha(),Fe.NotRightSide=Se=Re(new Fe(0,0,1,11),1).ha(),Fe.NotBottomSide=ke=Re(new Fe(0,0,1,7),1).ha(),Fe.AllSides=Pe=Re(new Fe(0,0,1,15),1).ha(),Be=new Fe(.156,.156).ha(),je=new Fe(.844,.844).ha(),Fe.parse=Ie,Fe.stringify=ze,Ve.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},Ve.prototype.setTransform=function(t,e,n,i,a,o){return this.m11=t,this.m12=e,this.m21=n,this.m22=i,this.dx=a,this.dy=o,this},Ve.prototype.copy=function(){var t=new Ve;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},Ve.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},Ve.prototype.C=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy},Ve.prototype.Vr=function(){return 0===this.dx&&0===this.dy&&1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22},Ve.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},Ve.prototype.multiply=function(t){var e=this.m11*t.m11+this.m21*t.m12,n=this.m12*t.m11+this.m22*t.m12,i=this.m11*t.m21+this.m21*t.m22,a=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=e,this.m12=n,this.m21=i,this.m22=a,this},Ve.prototype.Nu=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),n=t.m22*e,i=-t.m12*e,a=-t.m21*e,o=t.m11*e,r=e*(t.m21*t.dy-t.m22*t.dx);return t=e*(t.m12*t.dx-t.m11*t.dy),e=this.m11*n+this.m21*i,n=this.m12*n+this.m22*i,i=this.m11*a+this.m21*o,a=this.m12*a+this.m22*o,this.dx=this.m11*r+this.m21*t+this.dx,this.dy=this.m12*r+this.m22*t+this.dy,this.m11=e,this.m12=n,this.m21=i,this.m22=a,this},Ve.prototype.Ur=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,n=-this.m21*t,i=this.m11*t,a=t*(this.m21*this.dy-this.m22*this.dx),o=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=n,this.m22=i,this.dx=a,this.dy=o,this},Ve.prototype.rotate=function(t,e,n){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;if(this.translate(e,n),90===t){t=0;var i=1}else 180===t?(t=-1,i=0):270===t?(t=0,i=-1):(i=t*Math.PI/180,t=Math.cos(i),i=Math.sin(i));var a=this.m12*t+this.m22*i,o=this.m11*-i+this.m21*t,r=this.m12*-i+this.m22*t;return this.m11=this.m11*t+this.m21*i,this.m12=a,this.m21=o,this.m22=r,this.translate(-e,-n),this},(e=Ve.prototype).translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},e.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},e.Fa=function(t){var e=t.x,n=t.y;return t.h(e*this.m11+n*this.m21+this.dx,e*this.m12+n*this.m22+this.dy)},e.Ld=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),n=t.x,i=t.y;return t.h(n*this.m22*e+i*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),n*-this.m12*e+i*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},e.Fw=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),n=1.25*t.x,i=1.2*t.y;return t.h(n*this.m22*e+i*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),n*-this.m12*e+i*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},e.So=function(t){var e=t.x,n=t.y,i=e+t.width,a=n+t.height,o=this.m11,r=this.m12,s=this.m21,l=this.m22,c=this.dx,h=this.dy,d=e*o+n*s+c,u=e*r+n*l+h,f=i*o+n*s+c,p=i*r+n*l+h;return n=e*o+a*s+c,e=e*r+a*l+h,o=i*o+a*s+c,i=i*r+a*l+h,a=Math.min(d,f),d=Math.max(d,f),f=Math.min(u,p),u=Math.max(u,p),a=Math.min(a,n),d=Math.max(d,n),f=Math.min(f,e),u=Math.max(u,e),a=Math.min(a,o),d=Math.max(d,o),f=Math.min(f,i),u=Math.max(u,i),t.h(a,f,d-a,u-f),t},Ve.alloc=function(){var t=Ge.pop();return void 0===t?new Ve:t},Ve.free=function(t){Ge.push(t)},Ve.prototype.transformRect=Ve.prototype.So,Ve.prototype.transformPoint=Ve.prototype.Fa,Ve.prototype.scale=Ve.prototype.scale,Ve.prototype.translate=Ve.prototype.translate,Ve.prototype.rotate=Ve.prototype.rotate,Ve.prototype.invert=Ve.prototype.Ur,Ve.prototype.multiplyInverted=Ve.prototype.Nu,Ve.prototype.multiply=Ve.prototype.multiply,Ve.prototype.reset=Ve.prototype.reset,Ve.prototype.isIdentity=Ve.prototype.Vr,Ve.prototype.equals=Ve.prototype.C,Ve.prototype.setTransform=Ve.prototype.setTransform,Ve.prototype.set=Ve.prototype.set;var Ge=[];Ve.className="Transform",Ve.xF="54a702f3e53909c447824c6706603faf4c";var Ue={jA:"7da71ca0ad381e90",ng:(Math.sqrt(2)-1)/3*4,yv:null,sqrt:function(t){if(0>=t)return 0;var e=Ue.yv;if(null===e){e=[];for(var n=0;2e3>=n;n++)e[n]=Math.sqrt(n);Ue.yv=e}return 1>t?2e3>=(n=1/t)?1/e[0|n]:Math.sqrt(t):2e3>=t?e[0|t]:Math.sqrt(t)},B:function(t,e){return.5>(t-=e)&&-.5<t},ca:function(t,e){return 5e-8>(t-=e)&&-5e-8<t},Tb:function(t,e,n,i,a,o,r){if(0>=a&&(a=1e-6),t<n)var s=t,l=n;else s=n,l=t;if(e<i)var c=e,h=i;else c=i,h=e;if(t===n)return c<=r&&r<=h&&t-a<=o&&o<=t+a;if(e===i)return s<=o&&o<=l&&e-a<=r&&r<=e+a;if(l+=a,(s-=a)<=o&&o<=l&&(h+=a,(c-=a)<=r&&r<=h))if(l-s>h-c){if(!(t-n>a||n-t>a))return!0;if((o=(i-e)/(n-t)*(o-t)+e)-a<=r&&r<=o+a)return!0}else{if(!(e-i>a||i-e>a))return!0;if((r=(n-t)/(i-e)*(r-e)+t)-a<=o&&o<=r+a)return!0}return!1},Br:function(t,e,n,i,a,o,r,s,l,c,h,d){if(Ue.Tb(t,e,r,s,d,n,i)&&Ue.Tb(t,e,r,s,d,a,o))return Ue.Tb(t,e,r,s,d,c,h);var u=(t+n)/2,f=(e+i)/2,p=(n+a)/2,g=(i+o)/2,m=((i=(u+p)/2)+(p=(p+(a=(a+r)/2))/2))/2,y=((n=(f+g)/2)+(g=(g+(o=(o+s)/2))/2))/2;return Ue.Br(t,e,u,f,i,n,m,y,l,c,h,d)||Ue.Br(m,y,p,g,a,o,r,s,l,c,h,d)},Gw:function(t,e,n,i,a,o,r,s,l){var c=(n+a)/2,h=(i+o)/2;return l.h((((t+n)/2+c)/2+(c+(a+r)/2)/2)/2,(((e+i)/2+h)/2+(h+(o+s)/2)/2)/2),l},ty:function(t,e,n,i,a,o,r,s){var l=(n+a)/2,c=(i+o)/2;return St(((t+n)/2+l)/2,((e+i)/2+c)/2,(l+(a+r)/2)/2,(c+(o+s)/2)/2)},pl:function(t,e,n,i,a,o,r,s,l,c){if(Ue.Tb(t,e,r,s,l,n,i)&&Ue.Tb(t,e,r,s,l,a,o))Gt(c,t,e,0,0),Gt(c,r,s,0,0);else{var h=(t+n)/2,d=(e+i)/2,u=(n+a)/2,f=(i+o)/2,p=((i=(h+u)/2)+(u=(u+(a=(a+r)/2))/2))/2,g=((n=(d+f)/2)+(f=(f+(o=(o+s)/2))/2))/2;Ue.pl(t,e,h,d,i,n,p,g,l,c),Ue.pl(p,g,u,f,a,o,r,s,l,c)}return c},De:function(t,e,n,i,a,o,r,s,l,c){if(Ue.Tb(t,e,r,s,l,n,i)&&Ue.Tb(t,e,r,s,l,a,o))0===c.length&&(c.push(t),c.push(e)),c.push(r),c.push(s);else{var h=(t+n)/2,d=(e+i)/2,u=(n+a)/2,f=(i+o)/2,p=((i=(h+u)/2)+(u=(u+(a=(a+r)/2))/2))/2,g=((n=(d+f)/2)+(f=(f+(o=(o+s)/2))/2))/2;Ue.De(t,e,h,d,i,n,p,g,l,c),Ue.De(p,g,u,f,a,o,r,s,l,c)}return c},Su:function(t,e,n,i,a,o,r,s,l,c){if(Ue.Tb(t,e,a,o,c,n,i))return Ue.Tb(t,e,a,o,c,s,l);var h=(t+n)/2,d=(e+i)/2,u=(h+(n=(n+a)/2))/2,f=(d+(i=(i+o)/2))/2;return Ue.Su(t,e,h,d,u,f,r,s,l,c)||Ue.Su(u,f,n,i,a,o,r,s,l,c)},yA:function(t,e,n,i,a,o,r){return r.h(((t+n)/2+(n+a)/2)/2,((e+i)/2+(i+o)/2)/2),r},Ru:function(t,e,n,i,a,o,r,s){if(Ue.Tb(t,e,a,o,r,n,i))Gt(s,t,e,0,0),Gt(s,a,o,0,0);else{var l=(t+n)/2,c=(e+i)/2,h=(l+(n=(n+a)/2))/2,d=(c+(i=(i+o)/2))/2;Ue.Ru(t,e,l,c,h,d,r,s),Ue.Ru(h,d,n,i,a,o,r,s)}return s},Go:function(t,e,n,i,a,o,r,s){if(Ue.Tb(t,e,a,o,r,n,i))0===s.length&&(s.push(t),s.push(e)),s.push(a),s.push(o);else{var l=(t+n)/2,c=(e+i)/2,h=(l+(n=(n+a)/2))/2,d=(c+(i=(i+o)/2))/2;Ue.Go(t,e,l,c,h,d,r,s),Ue.Go(h,d,n,i,a,o,r,s)}return s},io:function(t,e,n,i,a,o,r,s,l,c,h,d,u,f){if(Ue.Tb(t,e,r,s,u,n,i)&&Ue.Tb(t,e,r,s,u,a,o))return!!Ue.yl(t,e,r,s,l,c,h,d)&&(0!=(u=(t-r)*(c-d)-(e-s)*(l-h))&&(f.h(((t*s-e*r)*(l-h)-(t-r)*(l*d-c*h))/u,((t*s-e*r)*(c-d)-(e-s)*(l*d-c*h))/u),!0));var p=(t+n)/2,g=(e+i)/2,m=(n+a)/2,y=(i+o)/2,v=((i=(p+m)/2)+(m=(m+(a=(a+r)/2))/2))/2,w=((n=(g+y)/2)+(y=(y+(o=(o+s)/2))/2))/2,x=1/0,b=!1,S=0,k=0;return Ue.io(t,e,p,g,i,n,v,w,l,c,h,d,u,f)&&((t=(f.x-l)*(f.x-l)+(f.y-c)*(f.y-c))<x&&(x=t,b=!0,S=f.x,k=f.y)),Ue.io(v,w,m,y,a,o,r,s,l,c,h,d,u,f)&&(f.x-l)*(f.x-l)+(f.y-c)*(f.y-c)<x&&(b=!0,S=f.x,k=f.y),b&&(f.x=S,f.y=k),b},jo:function(t,e,n,i,a,o,r,s,l,c,h,d,u){var f=0;if(Ue.Tb(t,e,r,s,u,n,i)&&Ue.Tb(t,e,r,s,u,a,o)){if(0===(u=(t-r)*(c-d)-(e-s)*(l-h)))return f;var p=((t*s-e*r)*(l-h)-(t-r)*(l*d-c*h))/u,g=((t*s-e*r)*(c-d)-(e-s)*(l*d-c*h))/u;if(p>=h)return f;if((l>h?l-h:h-l)<(c>d?c-d:d-c)){if(e<s?(l=e,t=s):(l=s,t=e),g<l||g>t)return f}else if(t<r?(l=t,t=r):l=r,p<l||p>t)return f;0<u?f++:0>u&&f--}else{g=(e+i)/2;var m=(n+a)/2,y=(i+o)/2,v=((i=((p=(t+n)/2)+m)/2)+(m=(m+(a=(a+r)/2))/2))/2,w=((n=(g+y)/2)+(y=(y+(o=(o+s)/2))/2))/2;f+=Ue.jo(t,e,p,g,i,n,v,w,l,c,h,d,u),f+=Ue.jo(v,w,m,y,a,o,r,s,l,c,h,d,u)}return f},fh:function(t,e,n,i,a,o,r){return Ue.ca(t,n)?(e<i?(n=e,e=i):n=i,o<n?(r.h(t,n),!1):o>e?(r.h(t,e),!1):(r.h(t,o),!0)):Ue.ca(e,i)?(t<n?(i=t,t=n):i=n,a<i?(r.h(i,e),!1):a>t?(r.h(t,e),!1):(r.h(a,e),!0)):-5e-6>(a=((t-a)*(t-n)+(e-o)*(e-i))/((n-t)*(n-t)+(i-e)*(i-e)))?(r.h(t,e),!1):1.000005<a?(r.h(n,i),!1):(r.h(t+a*(n-t),e+a*(i-e)),!0)},Je:function(t,e,n,i,a,o,r,s,l){return Ue.B(t,n)&&Ue.B(e,i)?(l.h(t,e),!1):Ue.ca(a,r)?Ue.ca(t,n)?(Ue.fh(t,e,n,i,a,o,l),!1):Ue.fh(t,e,n,i,a,(i-e)/(n-t)*(a-t)+e,l):(s=(s-o)/(r-a),Ue.ca(t,n)?(n=s*(t-a)+o,e<i?(a=e,e=i):a=i,n<a?(l.h(t,a),!1):n>e?(l.h(t,e),!1):(l.h(t,n),!0)):(r=(i-e)/(n-t),Ue.ca(s,r)?(Ue.fh(t,e,n,i,a,o,l),!1):(a=(r*t-s*a+o-e)/(r-s),Ue.ca(r,0)?(t<n?(i=t,t=n):i=n,a<i?(l.h(i,e),!1):a>t?(l.h(t,e),!1):(l.h(a,e),!0)):Ue.fh(t,e,n,i,a,r*(a-t)+e,l))))},wA:function(t,e,n,i,a){return Ue.Je(n.x,n.y,i.x,i.y,t.x,t.y,e.x,e.y,a)},uA:function(t,e,n,i,a,o,r,s,l,c){function h(n,i){var a=(n-t)*(n-t)+(i-e)*(i-e);a<d&&(d=a,l.h(n,i))}var d=1/0;h(l.x,l.y);var u=0,f=0,p=0,g=0;if(a<r?(u=a,f=r):(u=r,f=a),o<s?(p=a,g=r):(p=r,g=a),u=(f-u)/2+c,c=(g-p)/2+c,a=(a+r)/2,o=(o+s)/2,0===u||0===c)return l;if(.5>(n>t?n-t:t-n)){if(0>(u=1-(n-a)*(n-a)/(u*u)))return l;i=-c*(u=Math.sqrt(u))+o,h(n,c*u+o),h(n,i)}else{if(0>(u=(s=2*(n=(i-e)/(n-t))*(e-n*t)/(c*c)-2*n*o/(c*c)-2*a/(u*u))*s-4*(i=1/(u*u)+n*n/(c*c))*(2*n*t*o/(c*c)-2*e*o/(c*c)+o*o/(c*c)+a*a/(u*u)-1+(e-n*t)*(e-n*t)/(c*c))))return l;h(c=(-s+(u=Math.sqrt(u)))/(2*i),n*c-n*t+e),h(u=(-s-u)/(2*i),n*u-n*t+e)}return l},wf:function(t,e,n,i,a,o,r,s,l){var c=1e21,h=t,d=e;if(Ue.Je(t,e,t,i,a,o,r,s,l)){var u=(l.x-a)*(l.x-a)+(l.y-o)*(l.y-o);u<c&&(c=u,h=l.x,d=l.y)}return Ue.Je(n,e,n,i,a,o,r,s,l)&&((u=(l.x-a)*(l.x-a)+(l.y-o)*(l.y-o))<c&&(c=u,h=l.x,d=l.y)),Ue.Je(t,e,n,e,a,o,r,s,l)&&((e=(l.x-a)*(l.x-a)+(l.y-o)*(l.y-o))<c&&(c=e,h=l.x,d=l.y)),Ue.Je(t,i,n,i,a,o,r,s,l)&&((t=(l.x-a)*(l.x-a)+(l.y-o)*(l.y-o))<c&&(c=t,h=l.x,d=l.y)),l.h(h,d),1e21>c},tA:function(t,e,n,i,a,o,r,s,l){return r=a-r,0===(n=t-n)||0===r?0===n?a=(e=(o-s)/r)*(s=t)+(o-e*a):a=(o=(e-i)/n)*(s=a)+(e-o*t):a=(i=(e-i)/n)*(s=(o-(s=(o-s)/r)*a-(t=e-i*t))/(i-s))+t,l.h(s,a),l},Sr:function(t,e,n){return Ue.jx(t.x,t.y,t.width,t.height,e.x,e.y,n.x,n.y)},jx:function(t,e,n,i,a,o,r,s){var l=t+n,c=e+i;return a===r?(o<s?(r=o,o=s):r=s,t<=a&&a<=l&&r<=c&&o>=e):o===s?(a<r?(s=a,a=r):s=r,e<=o&&o<=c&&s<=l&&a>=t):!!(Ut(t,e,n,i,a,o)||Ut(t,e,n,i,r,s)||Ue.yl(t,e,l,e,a,o,r,s)||Ue.yl(l,e,l,c,a,o,r,s)||Ue.yl(l,c,t,c,a,o,r,s)||Ue.yl(t,c,t,e,a,o,r,s))},yl:function(t,e,n,i,a,o,r,s){return 0>=Ue.rl(t,e,n,i,a,o)*Ue.rl(t,e,n,i,r,s)&&0>=Ue.rl(a,o,r,s,t,e)*Ue.rl(a,o,r,s,n,i)},rl:function(t,e,n,i,a,o){return n-=t,0===(o=(t=a-t)*(i-=e)-(e=o-e)*n)&&(0<(o=t*n+e*i)&&(0>(o=(t-n)*n+(e-i)*i)&&(o=0))),o},Eo:function(t){return 0>t&&(t+=360),360<=t&&(t-=360),t},Mw:function(t,e,n,i,a,o){var r=Math.PI;o||(i*=r/180,a*=r/180);var s=i>a?-1:1;o=[];var l=r/2,c=i;if(1e-5>(i=Math.min(2*r,Math.abs(a-i))))return l=c+s*Math.min(i,l),s=t+n*Math.cos(c),c=e+n*Math.sin(c),t+=n*Math.cos(l),e+=n*Math.sin(l),n=(s+t)/2,l=(c+e)/2,o.push([s,c,n,l,n,l,t,e]),o;for(;1e-5<i;)a=c+s*Math.min(i,l),o.push(Ue.Cy(n,c,a,t,e)),i-=Math.abs(a-c),c=a;return o},Cy:function(t,e,n,i,a){var o=(n-e)/2,r=t*Math.cos(o),s=t*Math.sin(o),l=-s,c=r*r+l*l,h=c+r*r+l*s;return s=r-(c=4/3*(Math.sqrt(2*c*h)-h)/(r*s-l*r))*l,l=-(r=l+c*r),c=o+e,o=Math.cos(c),c=Math.sin(c),[i+t*Math.cos(e),a+t*Math.sin(e),i+s*o-r*c,a+s*c+r*o,i+s*o-l*c,a+s*c+l*o,i+t*Math.cos(n),a+t*Math.sin(n)]},so:function(t,e,n,i,a,o,r){var s=n=Math.floor((t-n)/a)*a+n;return n+a-t<a/2&&(s=n+a),t=i=Math.floor((e-i)/o)*o+i,i+o-e<o/2&&(t=i+o),r.h(s,t),r},Xw:function(t,e){var n,i=Math.max(t,e);t=Math.min(t,e);do{e=i%t,i=n=t,t=e}while(0<e);return n},Hy:function(t,e,n,i){var a=0>n,o=0>i;if(t<e)var r=1,s=0;else r=0,s=1;var l=0===r?t:e,c=0===r?n:i;return(0===r?a:o)&&(c=-c),n=0===(r=s)?n:i,(0===r?a:o)&&(n=-n),Ue.Iy(l,0===r?t:e,c,n,0,0)},Iy:function(t,e,n,i,a,o){if(0<i)if(0<n){a=t*t,t*=n;var r=e*i,s=-(o=e*e)+r,l=-o+Math.sqrt(t*t+r*r);e=s;for(var c=0;9999999999>c&&((e=.5*(s+l))!==s&&e!==l);++c){var h=t/(e+a),d=r/(e+o);if(0<(h=h*h+d*d-1))s=e;else{if(!(0>h))break;l=e}}n=a*n/(e+a)-n,i=o*i/(e+o)-i,n=Math.sqrt(n*n+i*i)}else n=Math.abs(i-e);else(o=t*n)<(i=t*t-e*e)?(i=o/i,o=e*Math.sqrt(Math.abs(1-i*i)),n=t*i-n,n=Math.sqrt(n*n+o*o)):n=Math.abs(n-t);return n},Oe:new U,dm:new U,Df:new U,Ef:0,em:100};function We(t){tt(this),this.o=2,void 0===t&&(t=We.m),this.qa=t,this.yc=this.xc=this.hd=this.gd=0,t===We.m?this.Yd=new $:(null===We.W&&(We.W=(new $).freeze()),this.Yd=We.W),this.Ep=this.Yd.Ia,this.lp=(new jt).freeze(),this.gm=this.fk=null,this.hm=NaN,this.Yf=ee,this.Zf=ce,this.Fk=this.Gk=NaN,this.Kf=sr}function qe(t,e){return t.type===We.j&&e.type===We.m&&!!(1===e.figures.count&&(e=e.figures.K(0),1===e.segments.count&&Ue.B(t.startX,e.startX)&&Ue.B(t.startY,e.startY)&&(e=e.segments.K(0),e.type===on&&Ue.B(t.endX,e.endX)&&Ue.B(t.endY,e.endY))))}function Ye(t,e,n){switch(t.type){case We.j:case We.u:case We.F:n?e.h(t.gd,t.hd,0,0):Gt(e,t.gd,t.hd,0,0),Gt(e,t.xc,t.yc,0,0);break;case We.m:var i=t.figures;t=i.s,i=i.length;for(var a=0;a<i;a++){var o=t[a];n&&0===a?e.h(o.startX,o.startY,0,0):Gt(e,o.startX,o.startY,0,0);for(var r=o.segments.s,s=r.length,l=o.startX,c=o.startY,h=0;h<s;h++){var d=r[h];switch(d.type){case on:case an:Gt(e,l=d.endX,c=d.endY,0,0);break;case rn:Ue.pl(l,c,d.point1X,d.point1Y,d.point2X,d.point2Y,d.endX,d.endY,.5,e),l=d.endX,c=d.endY;break;case sn:Ue.Ru(l,c,d.point1X,d.point1Y,d.endX,d.endY,.5,e),l=d.endX,c=d.endY;break;case ln:case cn:var u=d.type===ln?en(d,o):nn(d,o,l,c),f=u.length;if(0===f){Gt(e,l=d.type===ln?d.centerX:d.endX,c=d.type===ln?d.centerY:d.endY,0,0);break}d=null;for(var p=0;p<f;p++)d=u[p],Ue.pl(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],.5,e);null!==d&&(l=d[6],c=d[7]);break;default:b("Unknown Segment type: "+d.type)}}}break;default:b("Unknown Geometry type: "+t.type)}}function Xe(t,e,n,i,a){var o=e.x;e=e.y;for(var r,s,l,c,h=t.bounds.x-20,d=0,u=t.figures.s,f=u.length,p=0;p<f;p++){var g=u[p];if(g.isFilled){if(i&&g.ba(o,e,n))return!0;for(var m=g.segments,y=r=g.startX,v=s=g.startY,w=m.s,x=0;x<=m.length;x++){var S=void 0;if(x!==m.length){var k=(S=w[x]).type;t=S.endX,c=S.endY}else k=on,t=y,c=v;switch(k){case an:if(y=Ke(o,e,h,e,r,s,y,v),isNaN(y))return!0;d+=y,y=t,v=c;break;case on:if(r=Ke(o,e,h,e,r,s,t,c),isNaN(r))return!0;d+=r;break;case rn:d+=l=Ue.jo(r,s,S.point1X,S.point1Y,S.point2X,S.point2Y,t,c,h,e,o,e,.5);break;case sn:d+=l=Ue.jo(r,s,(r+2*S.point1X)/3,(s+2*S.point1Y)/3,(2*S.point1X+t)/3,(2*S.point1Y+c)/3,t,c,h,e,o,e,.5);break;case ln:case cn:var P=(k=S.type===ln?en(S,g):nn(S,g,r,s)).length;if(0===P){if(r=Ke(o,e,h,e,r,s,S.type===ln?S.centerX:S.endX,S.type===ln?S.centerY:S.endY),isNaN(r))return!0;d+=r;break}S=null;for(var M=0;M<P;M++){if(S=k[M],0===M){if(l=Ke(o,e,h,e,r,s,S[0],S[1]),isNaN(l))return!0;d+=l}d+=l=Ue.jo(S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],h,e,o,e,.5)}null!==S&&(t=S[6],c=S[7]);break;default:b("Unknown Segment type: "+S.type)}r=t,s=c}if(0!==d)return!0;d=0}else if(g.ba(o,e,a?n:n+2))return!0}return 0!==d}function Ke(t,e,n,i,a,o,r,s){if(Ue.Tb(a,o,r,s,.05,t,e))return NaN;var l=(t-n)*(o-s);if(0===l)return 0;var c=((t*i-e*n)*(a-r)-(t-n)*(a*s-o*r))/l;if(e=(t*i-e*n)*(o-s)/l,c>=t)return 0;if((a>r?a-r:r-a)<(o>s?o-s:s-o)){if(o<s){if(e<o||e>s)return 0}else if(e<s||e>o)return 0}else if(a<r){if(c<a||c>r)return 0}else if(c<r||c>a)return 0;return 0<l?1:-1}function Ze(t,e,n,i){for(var a=(t=t.figures.s).length,o=0;o<a;o++)if(t[o].ba(e,n,i))return!0;return!1}function $e(t){if(null===t.fk){var e=t.fk=[],n=t.gm=[],i=[],a=[];if(t.type===We.j)i.push(t.startX),i.push(t.startY),i.push(t.endX),i.push(t.endY),e.push(i),a.push(Math.sqrt((t.startX-t.endX)*(t.startX-t.endX)+(t.startY-t.endY)*(t.startY-t.endY))),n.push(a);else if(t.type===We.u)i.push(t.startX),i.push(t.startY),i.push(t.endX),i.push(t.startY),i.push(t.endX),i.push(t.endY),i.push(t.startX),i.push(t.endY),i.push(t.startX),i.push(t.startY),e.push(i),a.push(Math.abs(t.startX-t.endX)),a.push(Math.abs(t.startY-t.endY)),a.push(Math.abs(t.startX-t.endX)),a.push(Math.abs(t.startY-t.endY)),n.push(a);else if(t.type===We.F){var o=new Qe;o.startX=t.endX,o.startY=(t.startY+t.endY)/2;var r=new tn(ln);if(r.startAngle=0,r.sweepAngle=360,r.centerX=(t.startX+t.endX)/2,r.centerY=(t.startY+t.endY)/2,r.radiusX=Math.abs(t.startX-t.endX)/2,r.radiusY=Math.abs(t.startY-t.endY)/2,o.add(r),0===(a=(t=en(r,o)).length))i.push(r.centerX),i.push(r.centerY);else{r=o.startX,o=o.startY;for(var s=0;s<a;s++){var l=t[s];Ue.De(r,o,l[2],l[3],l[4],l[5],l[6],l[7],.5,i),r=l[6],o=l[7]}}e.push(i),n.push(Je(i))}else for(t=t.figures.iterator;t.next();){a=t.value,(i=[]).push(a.startX),i.push(a.startY),s=r=a.startX,l=o=a.startY;for(var c=a.segments.s,h=c.length,d=0;d<h;d++){var u=c[d];switch(u.type){case an:4<=i.length&&(e.push(i),n.push(Je(i))),(i=[]).push(u.endX),i.push(u.endY),s=r=u.endX,l=o=u.endY;break;case on:i.push(u.endX),i.push(u.endY),r=u.endX,o=u.endY;break;case rn:Ue.De(r,o,u.point1X,u.point1Y,u.point2X,u.point2Y,u.endX,u.endY,.5,i),r=u.endX,o=u.endY;break;case sn:Ue.Go(r,o,u.point1X,u.point1Y,u.endX,u.endY,.5,i),r=u.endX,o=u.endY;break;case ln:var f=en(u,a),p=f.length;if(0===p){i.push(u.centerX),i.push(u.centerY),r=u.centerX,o=u.centerY;break}for(var g=0;g<p;g++){var m=f[g];Ue.De(r,o,m[2],m[3],m[4],m[5],m[6],m[7],.5,i),r=m[6],o=m[7]}break;case cn:if(p=(f=nn(u,a,r,o)).length,g=u.endX,m=u.endY,0===p){i.push(g),i.push(m),r=g,o=m;break}for(g=0;g<p;g++)m=f[g],Ue.De(r,o,m[2],m[3],m[4],m[5],m[6],m[7],.5,i),r=m[6],o=m[7];break;default:b("Segment not of valid type: "+u.type)}u.isClosed&&(i.push(s),i.push(l))}4<=i.length&&(e.push(i),n.push(Je(i)))}}}function Je(t){for(var e=[],n=0,i=0,a=t.length,o=0;o<a;o+=2){var r=t[o],s=t[o+1];0!==o&&e.push(Math.sqrt(bt(n,i,r,s))),n=r,i=s}return e}function Qe(t,e,n,i){tt(this),void 0===n&&(n=!0),void 0===i&&(i=!0),this.o=2|(n?4:0)|(i?8:0),this.gd=void 0!==t?t:0,this.hd=void 0!==e?e:0,this.dl=new $,this.Pq=this.dl.Ia,this.Kv=null}function tn(t,e,n,i,a,o,r,s){tt(this),void 0===t&&(t=on),this.qa=t,this.o=2,this.xc=void 0!==e?e:0,this.yc=void 0!==n?n:0,void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===r&&(r=0),t===cn?(0>(t=o%360)&&(t+=360),this.Be=t,this.Oh=0,this.Ph=Math.max(i,0),this.Gg=Math.max(a,0),"boolean"==typeof r?r&&(this.isLargeArc=!0):"number"==typeof r&&r&&(this.isLargeArc=!0),s&&(this.isClockwiseArc=!0)):(this.Be=i,this.Oh=a,t===ln&&(o=Math.max(o,0)),this.Ph=o,"number"==typeof r?(t===ln&&(r=Math.max(r,0)),this.Gg=r):this.Gg=0),this.Ud=null}function en(t,e){if(null!==t.Ud&&!1===e._isInvalidBounds)return t.Ud;var n=t.radiusX,i=t.radiusY;if(void 0===i&&(i=n),0===n||0===i)return t.Ud=[],t.Ud;e=t.Be;var a=t.Oh,o=Ue.Mw(0,0,n<i?n:i,t.startAngle,t.startAngle+t.sweepAngle,!1);if(n!==i){var r=Ve.alloc();r.reset(),n<i?r.scale(1,i/n):r.scale(n/i,1),We.Ga(o,r),Ve.free(r)}for(n=o.length,i=0;i<n;i++)(r=o[i])[0]+=e,r[1]+=a,r[2]+=e,r[3]+=a,r[4]+=e,r[5]+=a,r[6]+=e,r[7]+=a;return t.Ud=o,t.Ud}function nn(t,e,n,i){function a(t,e,n,i){return(t*i<e*n?-1:1)*Math.acos((t*n+e*i)/(Math.sqrt(t*t+e*e)*Math.sqrt(n*n+i*i)))}if(null!==t.Ud&&!1===e._isInvalidBounds)return t.Ud;if(0===t.radiusX||0===t.radiusY)return t.Ud=[],t.Ud;e=t.Ph;var o=t.Gg;0===e&&(e=1e-4),0===o&&(o=1e-4);var r=Math.PI/180*t.Be,s=t.isLargeArc,l=t.isClockwiseArc,c=t.xc,h=t.yc,d=Math.cos(r),u=Math.sin(r),f=d*(n-c)/2+u*(i-h)/2,p=f*f/(e*e)+(r=-u*(n-c)/2+d*(i-h)/2)*r/(o*o);return 1<p&&(e*=Math.sqrt(p),o*=Math.sqrt(p)),p=(s===l?-1:1)*Math.sqrt((e*e*o*o-e*e*r*r-o*o*f*f)/(e*e*r*r+o*o*f*f)),isNaN(p)&&(p=0),s=p*e*r/o,p=p*-o*f/e,isNaN(s)&&(s=0),isNaN(p)&&(p=0),n=(n+c)/2+d*s-u*p,i=(i+h)/2+u*s+d*p,h=a(1,0,(f-s)/e,(r-p)/o),r=a(d=(f-s)/e,c=(r-p)/o,f=(-f-s)/e,s=(-r-p)/o),-1>=(f=(d*f+c*s)/(Math.sqrt(d*d+c*c)*Math.sqrt(f*f+s*s)))?r=Math.PI:1<=f&&(r=0),!l&&0<r&&(r-=2*Math.PI),l&&0>r&&(r+=2*Math.PI),l=e>o?1:e/o,f=e>o?o/e:1,e=Ue.Mw(0,0,e>o?e:o,h,h+r,!0),(o=Ve.alloc()).reset(),o.translate(n,i),o.rotate(t.Be,0,0),o.scale(l,f),We.Ga(e,o),Ve.free(o),t.Ud=e,t.Ud}Ue.za=Ue.jA,We.prototype.copy=function(){var t=new We;if(t.o=-2&this.o,t.qa=this.qa,t.gd=this.gd,t.hd=this.hd,t.xc=this.xc,t.yc=this.yc,this.qa===We.m){for(var e=this.Yd.s,n=t.Yd,i=0;i<e.length;i++)n.add(e[i].copy());t.Yd=n}else t.Yd=this.Yd;return t.Ep=this.Ep,t.lp.assign(this.lp),t.fk=this.fk,t.gm=this.gm,t.hm=this.hm,t.Yf=this.Yf.J(),t.Zf=this.Zf.J(),t.Gk=this.Gk,t.Fk=this.Fk,t.Kf=this.Kf,t},We.prototype.ha=function(){return this.freeze(),Object.freeze(this),this},We.prototype.freeze=function(){if(this._isFrozen=!0,this.type!==We.m)return this;var t=this.figures;t.freeze();for(var e=(t=t.s).length,n=0;n<e;n++)t[n].freeze();return this},We.prototype.ja=function(){if(Object.isFrozen(this)&&b("cannot thaw constant: "+this),this._isFrozen=!1,this.type!==We.m)return this;var t=this.figures;t.ja();for(var e=(t=t.s).length,n=0;n<e;n++)t[n].ja();return this},We.prototype.$a=function(t){if(!(t instanceof We))return!1;if(this.type!==t.type)return this.type===We.j&&t.type===We.m?qe(this,t):t.type===We.j&&this.type===We.m&&qe(t,this);if(this.type===We.m){var e=this.figures.s;t=t.figures.s;var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(!e[i].$a(t[i]))return!1;return!0}return Ue.B(this.startX,t.startX)&&Ue.B(this.startY,t.startY)&&Ue.B(this.endX,t.endX)&&Ue.B(this.endY,t.endY)},We.ga=function(t){return t.toString()},We.prototype.ob=function(t){t.classType===We&&(this.type=t)},We.prototype.toString=function(t){switch(void 0===t&&(t=-1),this.type){case We.j:return 0>t?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t)+"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);case We.u:var e=new jt(this.startX,this.startY,0,0);return e.nv(this.endX,this.endY,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case We.F:if((e=new jt(this.startX,this.startY,0,0)).nv(this.endX,this.endY,0,0),0>t)return"M"+(t=e.left.toString()+" "+(e.y+e.height/2).toString())+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+e.right.toString()+" "+(e.y+e.height/2).toString()+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+t;var n=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t);return"M"+n+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t)+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+n;case We.m:e="";for(var i=(n=this.figures.s).length,a=0;a<i;a++){var o=n[a];0<a&&(e+=" x "),o.isFilled&&(e+="F "),e+=o.toString(t)}return e;default:return this.type.toString()}},We.hb=function(t){for(var e=(t=t.split(/[Xx]/)).length,n="",i=0;i<e;i++){var a=t[i];n=null!==a.match(/[Ff]/)?0===i?n+a:n+"X"+(" "===a[0]?"":" ")+a:n+(0===i?"":"X ")+"F"+(" "===a[0]?"":" ")+a}return n},We.parse=function(t,e){function n(){return g>=x-1||null!==c[g+1].match(b)}function i(){return g++,c[g]}function a(t){var e=parseFloat(i()),n=parseFloat(i());m===m.toLowerCase()&&(e=w.x+e,n=w.y+n),t.h(e,n)}function o(){return a(w),w}function r(){return a(v),v}function s(){var t=y.toLowerCase();return"c"!==t&&"s"!==t&&"q"!==t&&"t"!==t?w:new gt(2*w.x-v.x,2*w.y-v.y)}void 0===e&&(e=!1);var l=/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,c=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/,/gm," ")).replace(l,"$1 $2")).replace(l,"$1 $2")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^s])/gm,"$1 $2")).replace(/([^s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/[\s\r\t\n]+/gm," ")).replace(/^\s+|\s+$/g,"")).split(" ");for(t=0;t<c.length;t++){var h=c[t];if(null!==h.match(/(\.[0-9]*)(\.)/gm)){l=A();for(var d="",u=!1,f=0;f<h.length;f++){var p=h[f];"."!==p||u?"."===p?(l.push(d),d="."):d+=p:(u=!0,d+=p)}for(l.push(d),c.splice(t,1),h=0;h<l.length;h++)c.splice(t+h,0,l[h]);t+=l.length-1,E(l)}}var g=-1,m="",y="";l=new gt(0,0);var v=new gt(0,0),w=new gt(0,0),x=c.length;t=Yc(null),d=h=!1,u=!0,f=null;for(var b=/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/;!(g>=x-1);)if(y=m,""!==(m=i()))switch(m.toUpperCase()){case"X":u=!0,d=h=!1;break;case"M":for(f=o(),null===t.pc||!0===u?(Vc(t,f.x,f.y,h,!d),u=!1):t.moveTo(f.x,f.y),l.assign(w);!n();)f=o(),t.lineTo(f.x,f.y);break;case"L":for(;!n();)f=o(),t.lineTo(f.x,f.y);break;case"H":for(;!n();)w=new gt((m===m.toLowerCase()?w.x:0)+parseFloat(i()),w.y),t.lineTo(w.x,w.y);break;case"V":for(;!n();)w=new gt(w.x,(m===m.toLowerCase()?w.y:0)+parseFloat(i())),t.lineTo(w.x,w.y);break;case"C":for(;!n();){a(f=new gt),p=r();var S=o();Uc(t,f.x,f.y,p.x,p.y,S.x,S.y)}break;case"S":for(;!n();)f=s(),p=r(),S=o(),Uc(t,f.x,f.y,p.x,p.y,S.x,S.y);break;case"Q":for(;!n();)f=r(),p=o(),Wc(t,f.x,f.y,p.x,p.y);break;case"T":for(;!n();)v=f=s(),p=o(),Wc(t,f.x,f.y,p.x,p.y);break;case"B":for(;!n();){f=parseFloat(i()),p=parseFloat(i()),S=parseFloat(i());var k=parseFloat(i()),P=parseFloat(i()),M=P,_=!1;n()||(M=parseFloat(i()),n()||(_=0!==parseFloat(i()))),m===m.toLowerCase()&&(S+=w.x,k+=w.y),t.arcTo(f,p,S,k,P,M,_)}break;case"A":for(;!n();)f=Math.abs(parseFloat(i())),p=Math.abs(parseFloat(i())),S=parseFloat(i()),P=k=!1,_=M=0,1===(M=i()).length?(k=!!parseFloat(M),P=!!parseFloat(i()),M=parseFloat(i())):2===M.length?(k=!!parseFloat(M[0]),P=!!parseFloat(M[1]),M=parseFloat(i())):(k=!!parseFloat(M[0]),P=!!parseFloat(M[1]),M=parseFloat(M.slice(2))),_=parseFloat(i()),m===m.toLowerCase()&&(M=w.x+M,_=w.y+_),w.h(M,_),qc(t,f,p,S,k,P,M,_);break;case"Z":Gc(t),w.assign(l);break;case"F":for(f="",p=1;c[g+p];)if(null!==c[g+p].match(/[Uu]/))p++;else{if(null!==c[g+p].match(b)){f=c[g+p];break}p++}f.match(/[Mm]/)?h=!0:0<t.pc.segments.length&&(t.pc.isFilled=!0);break;case"U":for(f="",p=1;c[g+p];)if(null!==c[g+p].match(/[Ff]/))p++;else{if(null!==c[g+p].match(b)){f=c[g+p];break}p++}f.match(/[Mm]/)?d=!0:t.Xl(!1)}if(l=t.Mr,Xc=t,e)for(e=l.figures.iterator;e.next();)e.value.isFilled=!0;return l},We.Ga=function(t,e){for(var n=t.length,i=gt.alloc(),a=0;a<n;a++){var o=t[a];i.x=o[0],i.y=o[1],e.Fa(i),o[0]=i.x,o[1]=i.y,i.x=o[2],i.y=o[3],e.Fa(i),o[2]=i.x,o[3]=i.y,i.x=o[4],i.y=o[5],e.Fa(i),o[4]=i.x,o[5]=i.y,i.x=o[6],i.y=o[7],e.Fa(i),o[6]=i.x,o[7]=i.y}gt.free(i)},We.prototype.Ku=function(){if(this._isInvalidBounds)return!0;if(this.type===We.m){if(this.Ep!==this.figures.Ia)return!0;for(var t=this.figures.s,e=t.length,n=0;n<e;n++)if(t[n].Ku())return!0}return!1},We.prototype.computeBounds=function(){if(this._isInvalidBounds=!1,this.gm=this.fk=null,this.hm=NaN,this.type===We.m){this.Ep=this.figures.Ia;for(var t=this.figures.s,e=t.length,n=0;n<e;n++){var i=t[n];i._isInvalidBounds=!1;var a=i.segments;i.Pq=a.Ia,a=(i=a.s).length;for(var o=0;o<a;o++){var r=i[o];r._isInvalidBounds=!1,r.Ud=null}}}(t=this.lp).ja(),isNaN(this.Gk)||isNaN(this.Fk)?t.h(0,0,0,0):t.h(0,0,this.Gk,this.Fk),Ye(this,t,!1),Gt(t,0,0,0,0),t.freeze()},We.prototype.Lw=function(){var t=new jt;return Ye(this,t,!0),t},We.prototype.normalize=function(){this._isFrozen&&S(this);var t=this.Lw();return this.offset(-t.x,-t.y),new gt(-t.x,-t.y)},We.prototype.offset=function(t,e){return this._isFrozen&&S(this),this.transform(1,0,0,1,t,e),this},We.prototype.scale=function(t,e){return this._isFrozen&&S(this),this.transform(t,0,0,e,0,0),this},We.prototype.rotate=function(t,e,n){this._isFrozen&&S(this),void 0===e&&(e=0),void 0===n&&(n=0);var i=Ve.alloc();return i.reset(),i.rotate(t,e,n),this.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),Ve.free(i),this},(e=We.prototype).transform=function(t,e,n,i,a,o){switch(this.type){case We.j:case We.u:case We.F:var r=this.gd,s=this.hd;this.gd=r*t+s*n+a,this.hd=r*e+s*i+o,r=this.xc,s=this.yc,this.xc=r*t+s*n+a,this.yc=r*e+s*i+o;break;case We.m:for(var l=this.figures.s,c=l.length,h=0;h<c;h++){var d=l[h];r=d.startX,s=d.startY,d.startX=r*t+s*n+a,d.startY=r*e+s*i+o;for(var u=(d=d.segments.s).length,f=0;f<u;f++){var p=d[f];switch(p.type){case on:case an:r=p.endX,s=p.endY,p.endX=r*t+s*n+a,p.endY=r*e+s*i+o;break;case rn:r=p.point1X,s=p.point1Y,p.point1X=r*t+s*n+a,p.point1Y=r*e+s*i+o,r=p.point2X,s=p.point2Y,p.point2X=r*t+s*n+a,p.point2Y=r*e+s*i+o,r=p.endX,s=p.endY,p.endX=r*t+s*n+a,p.endY=r*e+s*i+o;break;case sn:r=p.point1X,s=p.point1Y,p.point1X=r*t+s*n+a,p.point1Y=r*e+s*i+o,r=p.endX,s=p.endY,p.endX=r*t+s*n+a,p.endY=r*e+s*i+o;break;case ln:r=p.centerX,s=p.centerY,p.centerX=r*t+s*n+a,p.centerY=r*e+s*i+o,0!==e&&(0>(r=180*Math.atan2(e,t)/Math.PI)&&(r+=360),p.startAngle+=r),0>t&&(p.startAngle=180-p.startAngle,p.sweepAngle=-p.sweepAngle),0>i&&(p.startAngle=-p.startAngle,p.sweepAngle=-p.sweepAngle),p.radiusX*=Math.sqrt(t*t+n*n),void 0!==p.radiusY&&(p.radiusY*=Math.sqrt(e*e+i*i));break;case cn:if(r=p.endX,s=p.endY,p.endX=r*t+s*n+a,p.endY=r*e+s*i+o,0===p.radiusX||0===p.radiusY)break;0!==e&&(0>(r=180*Math.atan2(e,t)/Math.PI)&&(r+=360),p.xAxisRotation+=r),0>t&&(p.xAxisRotation=180-p.xAxisRotation,p.isClockwiseArc=!p.isClockwiseArc),0>i&&(p.xAxisRotation=-p.xAxisRotation,p.isClockwiseArc=!p.isClockwiseArc),p.radiusX*=Math.sqrt(t*t+n*n),p.radiusY*=Math.sqrt(e*e+i*i);break;default:b("Unknown Segment type: "+p.type)}}}}return this._isInvalidBounds=!0,this},e.ba=function(t,e){void 0===e&&(e=0);var n=this.gd,i=this.hd,a=this.xc,o=this.yc;switch(this.type){case We.j:return Ue.Tb(n,i,a,o,e,t.x,t.y);case We.u:var r=jt.allocAt(Math.min(n,a)-e,Math.min(i,o)-e,Math.abs(a-n)+2*e,Math.abs(o-i)+2*e);return t=r.ba(t),jt.free(r),t;case We.F:r=Math.min(n,a)-e;var s=Math.min(i,o)-e;return n=(Math.abs(a-n)+2*e)/2,e=(Math.abs(o-i)+2*e)/2,0>=n||0>=e?!1:1>=(r=t.x-(r+n))*r/(n*n)+(s=t.y-(s+e))*s/(e*e);case We.m:return Xe(this,t,e,!0,!1);default:return!1}},e.Au=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new gt),this.type===We.j)return e.h(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),e;for(var n=this.flattenedSegments,i=this.flattenedLengths,a=n.length,o=this.flattenedTotalLength*t,r=0,s=0;s<a;s++){var l=i[s],c=l.length;for(t=0;t<c;t++){var h=l[t];if(r+h>=o)return i=o-r,i=0===h?0:i/h,s=(n=n[s])[2*t],a=n[2*t+1],e.h(s+(n[2*t+2]-s)*i,a+(n[2*t+3]-a)*i),e;r+=h}}return e},e.Yw=function(t){if(0>t?t=0:1<t&&(t=1),this.type===We.j)return 180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI;for(var e=this.flattenedSegments,n=this.flattenedLengths,i=e.length,a=this.flattenedTotalLength*t,o=0,r=0;r<i;r++){var s=n[r],l=s.length;for(t=0;t<l;t++){var c=s[t];if(o+c>=a)return e=(a=e[r])[2*t],n=a[2*t+1],i=a[2*t+2],t=a[2*t+3],1>Math.abs(i-e)&&1>Math.abs(t-n)?0:1>Math.abs(i-e)?0<=t-n?90:270:1>Math.abs(t-n)?0<=i-e?0:180:180*Math.atan2(t-n,i-e)/Math.PI;o+=c}}return NaN},e.Bu=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=[]),e.length=3,this.type===We.j)return e[0]=this.startX+t*(this.endX-this.startX),e[1]=this.startY+t*(this.endY-this.startY),e[2]=180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI,e;for(var n=this.flattenedSegments,i=this.flattenedLengths,a=n.length,o=this.flattenedTotalLength*t,r=0,s=0;s<a;s++){var l=i[s],c=l.length;for(t=0;t<c;t++){var h=l[t];if(r+h>=o)return i=o-r,i=0===h?0:i/h,n=(h=n[s])[2*t],s=h[2*t+1],a=h[2*t+2],t=h[2*t+3],e[0]=n+(a-n)*i,e[1]=s+(t-s)*i,e[2]=1>Math.abs(a-n)&&1>Math.abs(t-s)?0:1>Math.abs(a-n)?0<=t-s?90:270:1>Math.abs(t-s)?0<=a-n?0:180:180*Math.atan2(t-s,a-n)/Math.PI,e;r+=h}}return e},e.Zw=function(t){if(this.type===We.j){var e=this.startX,n=this.startY,i=this.endX,a=this.endY;if(e!==i||n!==a){var o=t.x;if(t=t.y,e===i){if(n<a){var r=n;i=a}else r=a,i=n;return t<=r?r===n?0:1:t>=i?i===n?0:1:Math.abs(t-n)/(i-r)}if(n===a)return e<i?r=e:(r=i,i=e),o<=r?r===e?0:1:o>=i?i===e?0:1:Math.abs(o-e)/(i-r);r=(i-e)*(i-e)+(a-n)*(a-n);var s=gt.alloc();return Ue.fh(e,n,i,a,o,t,s),t=s.x,o=s.y,gt.free(s),Math.sqrt(((t-e)*(t-e)+(o-n)*(o-n))/r)}}else{if(this.type!==We.u){e=this.flattenedSegments,n=this.flattenedLengths,o=this.flattenedTotalLength,i=gt.alloc(),a=1/0,s=r=0,y=e.length;for(var l=v=0,c=0;c<y;c++)for(var h=e[c],d=n[c],u=h.length,f=0;f<u;f+=2){var p=h[f],g=h[f+1];if(0!==f){Ue.fh(v,l,p,g,t.x,t.y,i);var m=(i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y);m<a&&(a=m,r=s,r+=Math.sqrt((i.x-v)*(i.x-v)+(i.y-l)*(i.y-l))),s+=d[(f-2)/2]}v=p,l=g}return gt.free(i),0>(t=r/o)?0:1<t?1:t}r=this.startX,s=this.startY;var y=this.endX;if(a=this.endY,r!==y||s!==a){o=2*(e=y-r)+2*(n=a-s),i=t.x,t=t.y,i=Math.min(Math.max(i,r),y),t=Math.min(Math.max(t,s),a),r=Math.abs(i-r),y=Math.abs(i-y),s=Math.abs(t-s),a=Math.abs(t-a);var v=Math.min(r,y,s,a);if(v===s)return i/o;if(v===y)return(e+t)/o;if(v===a)return(2*e+n-i)/o;if(v===r)return(2*e+2*n-t)/o}}return 0},e.add=function(t){return this.Yd.add(t),this},e.Yl=function(t,e,n,i,a,o,r,s){return this._isFrozen&&S(this),this.Yf=new Fe(t,e,a,o).freeze(),this.Zf=new Fe(n,i,r,s).freeze(),this},u.Object.defineProperties(We.prototype,{_isFrozen:{get:function(){return 0!=(1&this.o)},set:function(t){this.o=t?1|this.o:-2&this.o}},_isInvalidBounds:{get:function(){return 0!=(2&this.o)},set:function(t){this.o=t?2|this.o:-3&this.o}},flattenedSegments:{get:function(){return $e(this),this.fk}},flattenedLengths:{get:function(){return $e(this),this.gm}},flattenedTotalLength:{get:function(){var t=this.hm;if(isNaN(t)){if(this.type===We.j){t=Math.abs(this.endX-this.startX);var e=Math.abs(this.endY-this.startY);t=Math.sqrt(t*t+e*e)}else if(this.type===We.u)t=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else for(var n=(e=this.flattenedLengths).length,i=t=0;i<n;i++)for(var a=e[i],o=a.length,r=0;r<o;r++)t+=a[r];this.hm=t}return t}},type:{get:function(){return this.qa},set:function(t){this.qa!==t&&(this._isFrozen&&S(this,t),this.qa=t,t===We.m?this.Yd=new $:(null===We.W&&(We.W=(new $).freeze()),this.Yd=We.W),this._isInvalidBounds=!0)}},startX:{get:function(){return this.gd},set:function(t){this.gd!==t&&(this._isFrozen&&S(this,t),this.gd=t,this._isInvalidBounds=!0)}},startY:{get:function(){return this.hd},set:function(t){this.hd!==t&&(this._isFrozen&&S(this,t),this.hd=t,this._isInvalidBounds=!0)}},endX:{get:function(){return this.xc},set:function(t){this.xc!==t&&(this._isFrozen&&S(this,t),this.xc=t,this._isInvalidBounds=!0)}},endY:{get:function(){return this.yc},set:function(t){this.yc!==t&&(this._isFrozen&&S(this,t),this.yc=t,this._isInvalidBounds=!0)}},figures:{get:function(){return this.Yd},set:function(t){this.Yd!==t&&(this._isFrozen&&S(this,t),this.Yd=t,this._isInvalidBounds=!0)}},spot1:{get:function(){return this.Yf},set:function(t){this._isFrozen&&S(this,t),this.Yf=t.J()}},spot2:{get:function(){return this.Zf},set:function(t){this._isFrozen&&S(this,t),this.Zf=t.J()}},defaultStretch:{get:function(){return this.Kf},set:function(t){this._isFrozen&&S(this,t),this.Kf=t}},bounds:{get:function(){return this.Ku()&&this.computeBounds(),this.lp}}}),We.prototype.setSpots=We.prototype.Yl,We.prototype.add=We.prototype.add,We.prototype.getFractionForPoint=We.prototype.Zw,We.prototype.getPointAndAngleAlongPath=We.prototype.Bu,We.prototype.getAngleAlongPath=We.prototype.Yw,We.prototype.getPointAlongPath=We.prototype.Au,We.prototype.containsPoint=We.prototype.ba,We.prototype.transform=We.prototype.transform,We.prototype.rotate=We.prototype.rotate,We.prototype.scale=We.prototype.scale,We.prototype.offset=We.prototype.offset,We.prototype.normalize=We.prototype.normalize,We.prototype.computeBoundsWithoutOrigin=We.prototype.Lw,We.prototype.equalsApprox=We.prototype.$a,We.className="Geometry",We.j=new H(We,"Line",0),We.u=new H(We,"Rectangle",1),We.F=new H(We,"Ellipse",2),We.m=new H(We,"Path",3),We.W=null,We.cb="UuBbMmZzLlHhVvCcSsQqTtAaFfXx",We.className="Geometry",We.stringify=We.ga,We.fillPath=We.hb,We.parse=We.parse,We.Line=We.j,We.Rectangle=We.u,We.Ellipse=We.F,We.Path=We.m,Qe.prototype.copy=function(){var t=new Qe;t.o=-2&this.o,t.gd=this.gd,t.hd=this.hd;for(var e=this.dl.s,n=e.length,i=t.dl,a=0;a<n;a++){var o=e[a].copy();i.add(o)}return t.Pq=this.Pq,t.Kv=this.Kv,t},(e=Qe.prototype).$a=function(t){if(!(t instanceof Qe&&Ue.B(this.startX,t.startX)&&Ue.B(this.startY,t.startY)))return!1;var e=this.segments.s;t=t.segments.s;var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(!e[i].$a(t[i]))return!1;return!0},e.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t),n=this.segments.s,i=n.length,a=0;a<i;a++)e+=" "+n[a].toString(t);return e},e.freeze=function(){this._isFrozen=!0;var t=this.segments;t.freeze();var e=t.s;t=t.length;for(var n=0;n<t;n++)e[n].freeze();return this},e.ja=function(){this._isFrozen=!1;var t=this.segments;t.ja();for(var e=(t=t.s).length,n=0;n<e;n++)t[n].ja();return this},e.Ku=function(){if(this._isInvalidBounds)return!0;var t=this.segments;if(this.Pq!==t.Ia)return!0;for(var e=(t=t.s).length,n=0;n<e;n++)if(t[n]._isInvalidBounds)return!0;return!1},e.add=function(t){return this.dl.add(t),this},e.ba=function(t,e,n){for(var i=this.startX,a=this.startY,o=i,r=a,s=this.segments.s,l=s.length,c=0;c<l;c++){var h=s[c];switch(h.type){case an:o=h.endX,r=h.endY,i=h.endX,a=h.endY;break;case on:if(Ue.Tb(i,a,h.endX,h.endY,n,t,e))return!0;i=h.endX,a=h.endY;break;case rn:if(Ue.Br(i,a,h.point1X,h.point1Y,h.point2X,h.point2Y,h.endX,h.endY,.5,t,e,n))return!0;i=h.endX,a=h.endY;break;case sn:if(Ue.Su(i,a,h.point1X,h.point1Y,h.endX,h.endY,.5,t,e,n))return!0;i=h.endX,a=h.endY;break;case ln:case cn:var d=h.type===ln?en(h,this):nn(h,this,i,a),u=d.length,f=h.type===ln?h.centerX:h.endX,p=h.type===ln?h.centerY:h.endY;if(0===u){if(Ue.Tb(i,a,f,p,n,t,e))return!0;i=f,a=p;break}for(f=null,p=0;p<u;p++)if(f=d[p],0===p&&Ue.Tb(i,a,f[0],f[1],n,t,e)||Ue.Br(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],.5,t,e,n))return!0;null!==f&&(i=f[6],a=f[7]);break;default:b("Unknown Segment type: "+h.type)}if(h.isClosed&&(i!==o||a!==r)&&Ue.Tb(i,a,o,r,n,t,e))return!0}return!1},u.Object.defineProperties(Qe.prototype,{_isFrozen:{get:function(){return 0!=(1&this.o)},set:function(t){this.o=t?1|this.o:-2&this.o}},_isInvalidBounds:{get:function(){return 0!=(2&this.o)},set:function(t){this.o=t?2|this.o:-3&this.o}},isFilled:{get:function(){return 0!=(4&this.o)},set:function(t){this._isFrozen&&S(this,t),this.o=t?4|this.o:-5&this.o}},isShadowed:{get:function(){return 0!=(8&this.o)},set:function(t){this._isFrozen&&S(this,t),this.o=t?8|this.o:-9&this.o}},startX:{get:function(){return this.gd},set:function(t){this._isFrozen&&S(this,t),this.gd=t,this._isInvalidBounds=!0}},startY:{get:function(){return this.hd},set:function(t){this._isFrozen&&S(this,t),this.hd=t,this._isInvalidBounds=!0}},segments:{get:function(){return this.dl},set:function(t){this._isFrozen&&S(this,t),this.dl=t,this._isInvalidBounds=!0}}}),Qe.prototype.add=Qe.prototype.add,Qe.prototype.equalsApprox=Qe.prototype.$a,Qe.className="PathFigure",tn.prototype.copy=function(){var t=new tn;return t.qa=this.qa,t.o=-2&this.o,t.xc=this.xc,t.yc=this.yc,t.Be=this.Be,t.Oh=this.Oh,t.Ph=this.Ph,t.Gg=this.Gg,t},(e=tn.prototype).$a=function(t){if(!(t instanceof tn)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case an:case on:return Ue.B(this.endX,t.endX)&&Ue.B(this.endY,t.endY);case rn:return Ue.B(this.endX,t.endX)&&Ue.B(this.endY,t.endY)&&Ue.B(this.point1X,t.point1X)&&Ue.B(this.point1Y,t.point1Y)&&Ue.B(this.point2X,t.point2X)&&Ue.B(this.point2Y,t.point2Y);case sn:return Ue.B(this.endX,t.endX)&&Ue.B(this.endY,t.endY)&&Ue.B(this.point1X,t.point1X)&&Ue.B(this.point1Y,t.point1Y);case ln:return Ue.B(this.startAngle,t.startAngle)&&Ue.B(this.sweepAngle,t.sweepAngle)&&Ue.B(this.centerX,t.centerX)&&Ue.B(this.centerY,t.centerY)&&Ue.B(this.radiusX,t.radiusX)&&Ue.B(this.radiusY,t.radiusY);case cn:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&Ue.B(this.xAxisRotation,t.xAxisRotation)&&Ue.B(this.endX,t.endX)&&Ue.B(this.endY,t.endY)&&Ue.B(this.radiusX,t.radiusX)&&Ue.B(this.radiusY,t.radiusY);default:return!1}},e.ob=function(t){t.classType===tn&&(this.type=t)},e.toString=function(t){switch(void 0===t&&(t=-1),this.type){case an:t=0>t?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case on:t=0>t?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case rn:t=0>t?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.point2X.toFixed(t)+" "+this.point2Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case sn:t=0>t?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case ln:t=0>t?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(t)+" "+this.sweepAngle.toFixed(t)+" "+this.centerX.toFixed(t)+" "+this.centerY.toFixed(t)+" "+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t);break;case cn:t=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.xAxisRotation.toFixed(t)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;default:t=this.type.toString()}return t+(this.isClosed?"z":"")},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return this._isFrozen=!1,this},e.close=function(){return this.isClosed=!0,this},u.Object.defineProperties(tn.prototype,{_isFrozen:{get:function(){return 0!=(1&this.o)},set:function(t){this.o=t?1|this.o:-2&this.o}},_isInvalidBounds:{get:function(){return 0!=(2&this.o)},set:function(t){this.o=t?2|this.o:-3&this.o}},isClosed:{get:function(){return 0!=(8&this.o)},set:function(t){this.isClosed!==t&&(this.o=t?8|this.o:-9&this.o,this._isInvalidBounds=!0)}},type:{get:function(){return this.qa},set:function(t){this._isFrozen&&S(this,t),this.qa=t,this._isInvalidBounds=!0}},endX:{get:function(){return this.xc},set:function(t){this._isFrozen&&S(this,t),this.xc=t,this._isInvalidBounds=!0}},endY:{get:function(){return this.yc},set:function(t){this._isFrozen&&S(this,t),this.yc=t,this._isInvalidBounds=!0}},point1X:{get:function(){return this.Be},set:function(t){this._isFrozen&&S(this,t),this.Be=t,this._isInvalidBounds=!0}},point1Y:{get:function(){return this.Oh},set:function(t){this._isFrozen&&S(this,t),this.Oh=t,this._isInvalidBounds=!0}},point2X:{get:function(){return this.Ph},set:function(t){this._isFrozen&&S(this,t),this.Ph=t,this._isInvalidBounds=!0}},point2Y:{get:function(){return this.Gg},set:function(t){this._isFrozen&&S(this,t),this.Gg=t,this._isInvalidBounds=!0}},centerX:{get:function(){return this.Be},set:function(t){this._isFrozen&&S(this,t),this.Be=t,this._isInvalidBounds=!0}},centerY:{get:function(){return this.Oh},set:function(t){this._isFrozen&&S(this,t),this.Oh=t,this._isInvalidBounds=!0}},radiusX:{get:function(){return this.Ph},set:function(t){0>t&&k(t,">= zero",tn,"radiusX"),this._isFrozen&&S(this,t),this.Ph=t,this._isInvalidBounds=!0}},radiusY:{get:function(){return this.Gg},set:function(t){0>t&&k(t,">= zero",tn,"radiusY"),this._isFrozen&&S(this,t),this.Gg=t,this._isInvalidBounds=!0}},startAngle:{get:function(){return this.xc},set:function(t){this._isFrozen&&S(this,t),0>(t%=360)&&(t+=360),this.xc=t,this._isInvalidBounds=!0}},sweepAngle:{get:function(){return this.yc},set:function(t){this._isFrozen&&S(this,t),360<t&&(t=360),-360>t&&(t=-360),this.yc=t,this._isInvalidBounds=!0}},isClockwiseArc:{get:function(){return 0!=(4&this.o)},set:function(t){this._isFrozen&&S(this,t),this.o=t?4|this.o:-5&this.o,this._isInvalidBounds=!0}},isLargeArc:{get:function(){return 0!=(16&this.o)},set:function(t){this._isFrozen&&S(this,t),this.o=t?16|this.o:-17&this.o,this._isInvalidBounds=!0}},xAxisRotation:{get:function(){return this.Be},set:function(t){this._isFrozen&&S(this,t),0>(t%=360)&&(t+=360),this.Be=t,this._isInvalidBounds=!0}}}),tn.prototype.equalsApprox=tn.prototype.$a;var an=new H(tn,"Move",0),on=new H(tn,"Line",1),rn=new H(tn,"Bezier",2),sn=new H(tn,"QuadraticBezier",3),ln=new H(tn,"Arc",4),cn=new H(tn,"SvgArc",4);function hn(){this.H=null,this.cu=new gt(0,0).freeze(),this.Os=new gt(0,0).freeze(),this.ep=this.qq=0,this.fp=1,this.yh="",this.vr=this.xp=!1,this.vp=this.hp=0,this.og=this.Pp=this.Vp=!1,this.Cp=null,this.qr=0,this.sd=this.lr=null}function dn(){this.H=null,this.va="",this.zq=this.hr=null}function un(){this.nm=pn,this.df=this.pq="",this.sn=this.tn=this.yn=this.zn=this.xn=this.H=this.ac=null}tn.className="PathSegment",tn.Move=an,tn.Line=on,tn.Bezier=rn,tn.QuadraticBezier=sn,tn.Arc=ln,tn.SvgArc=cn,hn.prototype.copy=function(){var t=new hn;return this.clone(t)},hn.prototype.clone=function(t){return t.H=this.H,t.cu.assign(this.viewPoint),t.Os.assign(this.documentPoint),t.qq=this.qq,t.ep=this.ep,t.fp=this.fp,t.yh=this.yh,t.xp=this.xp,t.vr=this.vr,t.hp=this.hp,t.vp=this.vp,t.Vp=this.Vp,t.Pp=this.Pp,t.og=this.og,t.Cp=this.Cp,t.qr=this.qr,t.lr=this.lr,t.sd=this.sd,t},hn.prototype.toString=function(){var t="^";return 0!==this.modifiers&&(t+="M:"+this.modifiers),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.clickCount&&(t+="C:"+this.clickCount),0!==this.delta&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),null!==this.documentPoint&&(t+="@"+this.documentPoint.toString()),t},hn.prototype.vo=function(t,e){var n=this.diagram;return null===n||Ua(n,this.event,t,e),e},hn.prototype.iz=function(t,e){var n=this.diagram;return null===n||(Ua(n,this.event,t,e),e.assign(n.rs(e))),e},u.Object.defineProperties(hn.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},viewPoint:{get:function(){return this.cu},set:function(t){this.cu.assign(t)}},documentPoint:{get:function(){return this.Os},set:function(t){this.Os.assign(t)}},modifiers:{get:function(){return this.qq},set:function(t){this.qq=t}},button:{get:function(){return this.ep},set:function(t){if(this.ep=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.fp},set:function(t){this.fp=t}},key:{get:function(){return this.yh},set:function(t){this.yh=t}},down:{get:function(){return this.xp},set:function(t){this.xp=t}},up:{get:function(){return this.vr},set:function(t){this.vr=t}},clickCount:{get:function(){return this.hp},set:function(t){this.hp=t}},delta:{get:function(){return this.vp},set:function(t){this.vp=t}},isMultiTouch:{get:function(){return this.Vp},set:function(t){this.Vp=t}},handled:{get:function(){return this.Pp},set:function(t){this.Pp=t}},bubbles:{get:function(){return this.og},set:function(t){this.og=t}},event:{get:function(){return this.Cp},set:function(t){this.Cp=t}},isTouchEvent:{get:function(){var t=m.TouchEvent,e=this.event;return!!(t&&e instanceof t)||(t=m.PointerEvent)&&e instanceof t&&("touch"===e.pointerType||"pen"===e.pointerType)}},timestamp:{get:function(){return this.qr},set:function(t){this.qr=t}},targetDiagram:{get:function(){return this.lr},set:function(t){this.lr=t}},targetObject:{get:function(){return this.sd},set:function(t){this.sd=t}},control:{get:function(){return 0!=(1&this.modifiers)},set:function(t){this.modifiers=t?1|this.modifiers:-2&this.modifiers}},shift:{get:function(){return 0!=(4&this.modifiers)},set:function(t){this.modifiers=t?4|this.modifiers:-5&this.modifiers}},alt:{get:function(){return 0!=(2&this.modifiers)},set:function(t){this.modifiers=t?2|this.modifiers:-3&this.modifiers}},meta:{get:function(){return 0!=(8&this.modifiers)},set:function(t){this.modifiers=t?8|this.modifiers:-9&this.modifiers}},left:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(1&this.buttons):0===this.button},set:function(t){this.buttons=t?1|this.buttons:-2&this.buttons}},right:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(2&this.buttons):2===this.button},set:function(t){this.buttons=t?2|this.buttons:-3&this.buttons}},middle:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(4&this.buttons):1===this.button},set:function(t){this.buttons=t?4|this.buttons:-5&this.buttons}}}),hn.prototype.getMultiTouchDocumentPoint=hn.prototype.iz,hn.prototype.getMultiTouchViewPoint=hn.prototype.vo,hn.className="InputEvent",dn.prototype.copy=function(){var t=new dn;return t.H=this.H,t.va=this.va,t.hr=this.hr,t.zq=this.zq,t},dn.prototype.toString=function(){var t="*"+this.name;return null!==this.subject&&(t+=":"+this.subject.toString()),null!==this.parameter&&(t+="("+this.parameter.toString()+")"),t},u.Object.defineProperties(dn.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},name:{get:function(){return this.va},set:function(t){this.va=t}},subject:{get:function(){return this.hr},set:function(t){this.hr=t}},parameter:{get:function(){return this.zq},set:function(t){this.zq=t}}}),dn.className="DiagramEvent",un.prototype.clear=function(){this.sn=this.tn=this.yn=this.zn=this.xn=this.H=this.ac=null},un.prototype.copy=function(){var t=new un;t.nm=this.nm,t.pq=this.pq,t.df=this.df,t.ac=this.ac,t.H=this.H,t.xn=this.xn;var e=this.zn;return t.zn=M(e)&&"function"==typeof e.J?e.J():e,e=this.yn,t.yn=M(e)&&"function"==typeof e.J?e.J():e,e=this.tn,t.tn=M(e)&&"function"==typeof e.J?e.J():e,e=this.sn,t.sn=M(e)&&"function"==typeof e.J?e.J():e,t},un.prototype.ob=function(t){t.classType===un&&(this.change=t)},un.prototype.toString=function(){var t="";return t=this.change===fn?t+"* ":this.change===pn?t+(null!==this.model?"!m":"!d"):t+(null!==this.model?"!m":"!d")+this.change,this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",this.change===fn?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=N(this.object)),null!==this.oldValue&&(t+="  old: "+N(this.oldValue)),null!==this.oldParam&&(t+=" "+this.oldParam),null!==this.newValue&&(t+="  new: "+N(this.newValue)),null!==this.newParam&&(t+=" "+this.newParam)),t},un.prototype.I=function(t){return t?this.oldValue:this.newValue},un.prototype.kz=function(t){return t?this.oldParam:this.newParam},un.prototype.canUndo=function(){return null!==this.model||null!==this.diagram},un.prototype.undo=function(){this.canUndo()&&(null!==this.model?this.model.changeState(this,!0):null!==this.diagram&&this.diagram.changeState(this,!0))},un.prototype.canRedo=function(){return null!==this.model||null!==this.diagram},un.prototype.redo=function(){this.canRedo()&&(null!==this.model?this.model.changeState(this,!1):null!==this.diagram&&this.diagram.changeState(this,!1))},u.Object.defineProperties(un.prototype,{model:{get:function(){return this.ac},set:function(t){this.ac=t}},diagram:{get:function(){return this.H},set:function(t){this.H=t}},change:{get:function(){return this.nm},set:function(t){this.nm=t}},modelChange:{get:function(){return this.pq},set:function(t){this.pq=t}},propertyName:{get:function(){return this.df},set:function(t){this.df=t}},isTransactionFinished:{get:function(){return this.nm===fn&&("CommittedTransaction"===this.df||"FinishedUndo"===this.df||"FinishedRedo"===this.df)}},object:{get:function(){return this.xn},set:function(t){this.xn=t}},oldValue:{get:function(){return this.zn},set:function(t){this.zn=t}},oldParam:{get:function(){return this.yn},set:function(t){this.yn=t}},newValue:{get:function(){return this.tn},set:function(t){this.tn=t}},newParam:{get:function(){return this.sn},set:function(t){this.sn=t}}}),un.prototype.redo=un.prototype.redo,un.prototype.canRedo=un.prototype.canRedo,un.prototype.undo=un.prototype.undo,un.prototype.canUndo=un.prototype.canUndo,un.prototype.getParam=un.prototype.kz,un.prototype.getValue=un.prototype.I,un.prototype.clear=un.prototype.clear;var fn=new H(un,"Transaction",-1),pn=new H(un,"Property",0),gn=new H(un,"Insert",1),mn=new H(un,"Remove",2);function yn(){this.m=(new $).freeze(),this.va="",this.j=!1}function vn(){this.ut=new Q,this.Ad=!1,this.u=(new $).freeze(),this.se=-1,this.m=999,this.ue=!1,this.qp=null,this.Vh=0,this.j=!1,this.xe=(new $).freeze(),this.Vk=new $,this.Ws=!0,this.ft=this.Tp=this.it=this.ht=!1}function wn(t,e,n){if(t.isUndoingRedoing)return!1;t.checksTransactionLevel&&1>t.transactionLevel&&P("Ending transaction without having started a transaction: "+n);var i=1===t.transactionLevel,a=t.currentTransaction;i&&e&&(t.isInternalTransaction||t.Kb("CommittingTransaction",n,a));var o=0;if(0<t.transactionLevel&&(t.Vh--,t.isEnabled)){var r=t.xe.count;0<r&&(""===n&&(n=t.xe.K(0)),t.xe.ja(),t.xe.mb(r-1),t.xe.freeze()),0<(r=t.Vk.count)&&(o=t.Vk.K(r-1),t.Vk.mb(r-1))}if(i){if(e){if(t.Tp=!1,null===a&&""!==n&&(a=t.currentTransaction),t.isEnabled&&null!==a){for(a.isComplete||(a.isComplete=!0,a.name=n),(e=t.history).ja(),i=e.count-1;i>t.historyIndex;i--)null!==(o=e.K(i))&&o.clear(),e.mb(i),t.Tp=!0;0<=(i=t.maxHistoryLength)&&(0===i?e.clear():e.count>=i&&(null!==(o=e.K(0))&&o.clear(),e.mb(0),t.se--)),0===i||0!==e.count&&e.get(e.count-1)===a||(e.add(a),t.se++),e.freeze()}t.isInternalTransaction||t.Kb("CommittedTransaction",n,a)}else{t.ue=!0;try{t.isEnabled&&null!==a&&(a.isComplete=!0,a.undo())}finally{t.isInternalTransaction||t.Kb("RolledBackTransaction",n,a),t.ue=!1}null!==a&&a.clear()}return t.qp=null,t.isPendingClear&&t.clear(),t.isPendingClear=!1,t.isPendingUnmodified=!1,!0}if(t.isEnabled&&!e&&null!==a){for(t=o,a=(n=a.changes).count-1;a>=t;a--)null!==(e=n.K(a))&&e.undo(),n.ja(),n.mb(a);n.freeze()}return!1}function xn(){tt(this),this.H=ma,this.va="",this.Ad=!0,this.hb=!1,this.xi=null,this.gy=new hn,this.yr=-1}function bn(){xn.call(this),this.name="ToolManager",this.cb=new $,this.nb=new $,this.Db=new $,this.F=this.W=850,this.m=new Et(2,2).ha(),this.Ga=5e3,this.ga=Pn,this.u=Ln,this.pp=this.j=null,this.uj=-1}function Sn(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.isActive?t.holdDelay:t.hoverDelay,e.lastInput)}un.className="ChangedEvent",un.Transaction=fn,un.Property=pn,un.Insert=gn,un.Remove=mn,yn.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(void 0!==t&&0<t){t=this.changes.count;for(var n=0;n<t;n++){var i=this.changes.K(n);null!==i&&(e+="\n  "+i.toString())}}return e},yn.prototype.clear=function(){var t=this.changes;t.ja();for(var e=t.count-1;0<=e;e--){var n=t.K(e);null!==n&&n.clear()}t.clear(),t.freeze()},yn.prototype.canUndo=function(){return this.isComplete},yn.prototype.undo=function(){if(this.canUndo())for(var t=this.changes.count-1;0<=t;t--){var e=this.changes.K(t);null!==e&&e.undo()}},yn.prototype.canRedo=function(){return this.isComplete},yn.prototype.redo=function(){if(this.canRedo())for(var t=this.changes.count,e=0;e<t;e++){var n=this.changes.K(e);null!==n&&n.redo()}},yn.prototype.Uj=function(){if(this.isComplete){var t=this.changes;t.ja();for(var e=new pt,n=0;n<t.count;n++){var i=t.K(n);if(null!==i&&i.change===pn&&i.object){var a=e.get(i.object);a||(a=new pt,e.set(i.object,a));var o=a.get(i.propertyName);null===o?a.set(i.propertyName,-1):(0<o&&t.Vc(o,null),a.set(i.propertyName,n))}}for(n=e=0;n<t.count;n++)null!==(i=t.K(n))&&(n>e&&t.Vc(e,i),e++);for(;t.length>e;)t.pop();t.freeze()}},u.Object.defineProperties(yn.prototype,{changes:{get:function(){return this.m}},name:{get:function(){return this.va},set:function(t){this.va=t}},isComplete:{get:function(){return this.j},set:function(t){this.j=t}}}),yn.prototype.optimize=yn.prototype.Uj,yn.prototype.redo=yn.prototype.redo,yn.prototype.canRedo=yn.prototype.canRedo,yn.prototype.undo=yn.prototype.undo,yn.prototype.canUndo=yn.prototype.canUndo,yn.prototype.clear=yn.prototype.clear,yn.className="Transaction",vn.prototype.toString=function(t){var e="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;e+="[";for(var n=this.nestedTransactionNames.count,i=0;i<n;i++)0<i&&(e+=" "),e+=this.nestedTransactionNames.K(i);if(e+="]",void 0!==t&&0<t)for(n=this.history.count,i=0;i<n;i++)e+="\n "+this.history.K(i).toString(t-1);return e},vn.prototype.clear=function(){var t=this.history;t.ja();for(var e=t.count-1;0<=e;e--){var n=t.K(e);null!==n&&n.clear()}t.clear(),this.se=-1,t.freeze(),this.ue=!1,this.qp=null,this.Vh=0,this.xe.ja(),this.xe.clear(),this.xe.freeze(),this.Vk.clear(),this.ft=this.Tp=this.it=this.ht=!1},vn.prototype.copyProperties=function(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.checksTransactionLevel=t.checksTransactionLevel},(e=vn.prototype).Bw=function(t){this.ut.add(t)},e.yx=function(t){this.ut.remove(t)},e.Da=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.isUndoingRedoing)return!1;!0===this.Ws&&(this.Ws=!1,this.Vh++,this.isInternalTransaction||this.Kb("StartingFirstTransaction",t,this.currentTransaction),0<this.Vh&&this.Vh--),this.isEnabled&&(this.xe.ja(),this.xe.add(t),this.xe.freeze(),null===this.currentTransaction?this.Vk.add(0):this.Vk.add(this.currentTransaction.changes.count)),this.Vh++;var e=1===this.transactionLevel;return e&&(this.isInternalTransaction||this.Kb("StartedTransaction",t,this.currentTransaction)),e},e.eb=function(t){return void 0===t&&(t=""),wn(this,!0,t)},e.Bf=function(){return wn(this,!1,"")},vn.prototype.canUndo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToUndo;return!(null===t||!t.canUndo())},vn.prototype.undo=function(){if(this.canUndo()){var t=this.transactionToUndo;try{this.ue=!0,this.Kb("StartingUndo","Undo",t),this.se--,t.undo()}catch(t){P("undo error: "+t.toString())}finally{this.Kb("FinishedUndo","Undo",t),this.ue=!1}}},vn.prototype.canRedo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToRedo;return!(null===t||!t.canRedo())},vn.prototype.redo=function(){if(this.canRedo()){var t=this.transactionToRedo;try{this.ue=!0,this.Kb("StartingRedo","Redo",t),this.se++,t.redo()}catch(t){P("redo error: "+t.toString())}finally{this.Kb("FinishedRedo","Redo",t),this.ue=!1}}},vn.prototype.Kb=function(t,e,n){void 0===n&&(n=null);var i=new un;for(i.change=fn,i.propertyName=t,i.object=n,i.oldValue=e,t=this.models;t.next();)e=t.value,i.model=e,e.Cr(i)},vn.prototype.Eu=function(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){var e=this.currentTransaction;null===e&&(this.qp=e=new yn);var n=t.copy();(e=e.changes).ja(),e.add(n),e.freeze(),this.checksTransactionLevel&&0>=this.transactionLevel&&!this.Ws&&(null!==(t=t.diagram)&&!1===t.ji||P("Change not within a transaction: "+n.toString()))}},vn.prototype.skipsEvent=function(t){if(null===t||0>t.change.value)return!0;if(null===(t=t.object))return!1;if(void 0!==t.layer){if(null!==(t=t.layer)&&t.isTemporary)return!0}else if(t.isTemporary)return!0;return!1},u.Object.defineProperties(vn.prototype,{models:{get:function(){return this.ut.iterator}},isEnabled:{get:function(){return this.Ad},set:function(t){this.Ad=t}},transactionToUndo:{get:function(){return 0<=this.historyIndex&&this.historyIndex<=this.history.count-1?this.history.K(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.K(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.ue}},history:{get:function(){return this.u}},maxHistoryLength:{get:function(){return this.m},set:function(t){this.m=t}},historyIndex:{get:function(){return this.se}},currentTransaction:{get:function(){return this.qp}},transactionLevel:{get:function(){return this.Vh}},isInTransaction:{get:function(){return 0<this.Vh}},checksTransactionLevel:{get:function(){return this.j},set:function(t){this.j=t}},nestedTransactionNames:{get:function(){return this.xe}},isPendingClear:{get:function(){return this.ht},set:function(t){this.ht=t}},isPendingUnmodified:{get:function(){return this.it},set:function(t){this.it=t}},isInternalTransaction:{get:function(){return this.ft},set:function(t){this.ft=t}},isJustDiscarded:{get:function(){return this.Tp}}}),vn.prototype.handleChanged=vn.prototype.Eu,vn.prototype.redo=vn.prototype.redo,vn.prototype.undo=vn.prototype.undo,vn.prototype.canUndo=vn.prototype.canUndo,vn.prototype.rollbackTransaction=vn.prototype.Bf,vn.prototype.commitTransaction=vn.prototype.eb,vn.prototype.startTransaction=vn.prototype.Da,vn.prototype.removeModel=vn.prototype.yx,vn.prototype.addModel=vn.prototype.Bw,vn.prototype.clear=vn.prototype.clear,vn.className="UndoManager",xn.prototype.toString=function(){return""!==this.name?this.name+" Tool":C(this.constructor)},xn.prototype.updateAdornments=function(){},xn.prototype.canStart=function(){return this.isEnabled},xn.prototype.doStart=function(){},xn.prototype.doActivate=function(){this.isActive=!0},xn.prototype.doDeactivate=function(){this.isActive=!1},xn.prototype.doStop=function(){},xn.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},xn.prototype.stopTool=function(){var t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")},xn.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},xn.prototype.doMouseMove=function(){},xn.prototype.doMouseUp=function(){this.stopTool()},xn.prototype.doMouseWheel=function(){},xn.prototype.canStartMultiTouch=function(){return!0},xn.prototype.standardPinchZoomStart=function(){var t=this.diagram,e=t.lastInput,n=e.vo(0,gt.allocAt(NaN,NaN)),i=e.vo(1,gt.allocAt(NaN,NaN));if(n.v()&&i.v()&&(this.doCancel(),t.xl("hasGestureZoom"))){t.fw=t.scale;var a=i.x-n.x,o=i.y-n.y;t.nw=Math.sqrt(a*a+o*o),e.bubbles=!1}gt.free(n),gt.free(i)},xn.prototype.standardPinchZoomMove=function(){var t=this.diagram,e=t.lastInput,n=e.vo(0,gt.allocAt(NaN,NaN)),i=e.vo(1,gt.allocAt(NaN,NaN));if(n.v()&&i.v()&&(this.doCancel(),t.xl("hasGestureZoom"))){var a=i.x-n.x,o=i.y-n.y;o=Math.sqrt(a*a+o*o)/t.nw,a=new gt((Math.min(i.x,n.x)+Math.max(i.x,n.x))/2,(Math.min(i.y,n.y)+Math.max(i.y,n.y))/2),o*=t.fw;var r=t.commandHandler;if(o!==t.scale&&r.canResetZoom(o)){var s=t.zoomPoint;t.zoomPoint=a,r.resetZoom(o),t.zoomPoint=s}e.bubbles=!1}gt.free(n),gt.free(i)},xn.prototype.doKeyDown=function(){"Esc"===this.diagram.lastInput.key&&this.doCancel()},xn.prototype.doKeyUp=function(){},xn.prototype.Da=function(t){return void 0===t&&(t=this.name),this.transactionResult=null,this.diagram.Da(t)},xn.prototype.stopTransaction=function(){var t=this.diagram;return null===this.transactionResult?t.Bf():t.eb(this.transactionResult)},xn.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.lastInput,n=t.vl(e.documentPoint,!1);if(null!==n){if(I?e.meta:e.control){for(t.P("ChangingSelection",t.selection),e=n;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!e.isSelected),t.P("ChangedSelection",t.selection)}else if(e.shift){if(!n.isSelected){for(t.P("ChangingSelection",t.selection),e=n;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!0),t.P("ChangedSelection",t.selection)}}else if(!n.isSelected){for(e=n;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&t.select(e)}}else!e.left||(I?e.meta:e.control)||e.shift||t.clearSelection()}},xn.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(t){return!t.layer.isTemporary});var n=this.diagram,i=n.lastInput;return t=n.ec(i.documentPoint,t,e),i.targetObject=t,function(t,e,n){if(e.handled=!1,null===t||t.yf()){var i=0;e.left?i=1===e.clickCount?1:2===e.clickCount?2:1:e.right&&1===e.clickCount&&(i=3);var a="ObjectSingleClicked";if(null!==t){switch(i){case 1:a="ObjectSingleClicked";break;case 2:a="ObjectDoubleClicked";break;case 3:a="ObjectContextClicked"}0!==i&&n.P(a,t)}else{switch(i){case 1:a="BackgroundSingleClicked";break;case 2:a="BackgroundDoubleClicked";break;case 3:a="BackgroundContextClicked"}0!==i&&n.P(a)}if(null!==t)for(;null!==t;){switch(n=null,i){case 1:n=t.click;break;case 2:n=t.doubleClick?t.doubleClick:t.click;break;case 3:n=t.contextClick}if(null!==n&&(n(e,t),e.handled))break;t=t.panel}else{switch(t=null,i){case 1:t=n.click;break;case 2:t=n.doubleClick?n.doubleClick:n.click;break;case 3:t=n.contextClick}null!==t&&t(e)}}}(t,i,n),i.handled},xn.prototype.standardMouseOver=function(){var t=this.diagram,e=t.lastInput;if(!0!==t.animationManager.zb){var n=t.skipsUndoManager;t.skipsUndoManager=!0;var i=t.viewportBounds.ba(e.documentPoint)?t.ec(e.documentPoint,null,null):null;e.targetObject=i;var a=!1;if(i!==t.pk){var o=t.pk,r=o;for(t.pk=i,this.doCurrentObjectChanged(o,i),e.handled=!1;null!==o;){var s=o.mouseLeave;if(null!==s){if(i===o)break;if(null!==i&&i.jg(o))break;if(s(e,o,i),a=!0,e.handled)break}o=o.panel}for(o=r,e.handled=!1;null!==i;){if(null!==(r=i.mouseEnter)){if(o===i)break;if(null!==o&&o.jg(i))break;if(r(e,i,o),a=!0,e.handled)break}i=i.panel}i=t.pk}if(null!==i){for(o=i,r="";null!==o&&""===(r=o.cursor);)o=o.panel;for(t.currentCursor=r,e.handled=!1,o=i;null!==o&&(null===(i=o.mouseOver)||(i(e,o),a=!0,!e.handled));)o=o.panel}else t.currentCursor="",null!==(i=t.mouseOver)&&(i(e),a=!0);a&&t.Mb(),t.skipsUndoManager=n}},xn.prototype.doCurrentObjectChanged=function(){},xn.prototype.standardMouseWheel=function(){var t=this.diagram,e=t.lastInput,n=e.delta;if(0!==n&&t.documentBounds.v()){var i=t.commandHandler,a=t.toolManager.mouseWheelBehavior;if(null!==i&&(a===Mn&&!e.shift||a===Pn&&e.control))(0<n?i.canIncreaseZoom():i.canDecreaseZoom())&&(a=t.zoomPoint,t.zoomPoint=e.viewPoint,0<n?i.increaseZoom():i.decreaseZoom(),t.zoomPoint=a),e.bubbles=!1;else if(a===Mn&&e.shift||a===Pn&&!e.control){i=t.position.copy();var o=0<n?n:-n,r=e.event,s=r.deltaMode;if(a=r.deltaX,r=r.deltaY,(F||R)&&(s=1,0<a&&(a=3),0>a&&(a=-3),0<r&&(r=3),0>r&&(r=-3)),void 0===s||void 0===a||void 0===r||0===a&&0===r||e.shift)!e.shift&&t.allowVerticalScroll?(o=3*o*t.scrollVerticalLineChange,0<n?t.scroll("pixel","up",o):t.scroll("pixel","down",o)):e.shift&&t.allowHorizontalScroll&&(o=3*o*t.scrollHorizontalLineChange,0<n?t.scroll("pixel","left",o):t.scroll("pixel","right",o));else{switch(s){case 0:n="pixel";break;case 1:n="line";break;case 2:n="page";break;default:n="pixel"}0!==a&&t.allowHorizontalScroll&&(0<(a*=t.scrollHorizontalLineChange/16)?t.scroll(n,"left",-a):t.scroll(n,"right",a)),0!==r&&t.allowVerticalScroll&&(0<(r*=t.scrollVerticalLineChange/16)?t.scroll(n,"up",-r):t.scroll(n,"down",r))}t.position.C(i)||(e.bubbles=!1)}}},xn.prototype.standardWaitAfter=function(t,e){void 0===e&&(e=this.diagram.lastInput),this.cancelWaitAfter();var n=this,i=e.clone(this.gy);this.yr=w((function(){n.doWaitAfter(i)}),t)},xn.prototype.cancelWaitAfter=function(){-1!==this.yr&&m.clearTimeout(this.yr),this.yr=-1},xn.prototype.doWaitAfter=function(){},xn.prototype.findToolHandleAt=function(t,e){return null===(t=this.diagram.ec(t,(function(t){for(;null!==t&&!(t.panel instanceof vh);)t=t.panel;return t})))?null:t.part.category===e?t:null},xn.prototype.isBeyondDragSize=function(t,e){var n=this.diagram;void 0===t&&(t=n.firstInput.viewPoint),void 0===e&&(e=n.lastInput.viewPoint);var i=n.toolManager.dragSize,a=i.width;return i=i.height,n.firstInput.isTouchEvent&&(a+=6,i+=6),Math.abs(e.x-t.x)>a||Math.abs(e.y-t.y)>i},u.Object.defineProperties(xn.prototype,{diagram:{get:function(){return this.H},set:function(t){t instanceof ka&&(this.H=t)}},name:{get:function(){return this.va},set:function(t){this.va=t}},isEnabled:{get:function(){return this.Ad},set:function(t){this.Ad=t}},isActive:{get:function(){return this.hb},set:function(t){this.hb=t}},transactionResult:{get:function(){return this.xi},set:function(t){this.xi=t}}}),xn.prototype.startTransaction=xn.prototype.Da,xn.className="Tool",d(bn,xn),bn.prototype.initializeStandardTools=function(){},bn.prototype.updateAdornments=function(t){var e=this.currentToolTip;if(e instanceof vh&&this.pp===t){var n=e.adornedObject;(null!==t?n.part===t:null===n)?this.showToolTip(e,n):this.hideToolTip()}},bn.prototype.doMouseDown=function(){var t=this.diagram,e=t.lastInput;if(e.isTouchEvent&&this.gestureBehavior===Tn&&(e.bubbles=!1),e.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===On)return void(e.bubbles=!0);if(this.gestureBehavior===Tn)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomStart()}for(var n=this.mouseDownTools.length,i=0;i<n;i++){var a=this.mouseDownTools.K(i);if(a.diagram=this.diagram,a.canStart())return t.doFocus(),t.currentTool=a,void(t.currentTool===a&&(a.isActive||a.doActivate(),a.doMouseDown()))}1===t.lastInput.button&&(this.mouseWheelBehavior===Pn?this.mouseWheelBehavior=Mn:this.mouseWheelBehavior===Mn&&(this.mouseWheelBehavior=Pn)),this.doActivate(),this.standardWaitAfter(this.holdDelay,e)},bn.prototype.doMouseMove=function(){var t=this.diagram,e=t.lastInput;if(e.isMultiTouch){if(this.gestureBehavior===On)return void(e.bubbles=!0);if(this.gestureBehavior===Tn)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomMove()}if(this.isActive)for(var n=this.mouseMoveTools.length,i=0;i<n;i++){var a=this.mouseMoveTools.K(i);if(a.diagram=this.diagram,a.canStart())return t.doFocus(),t.currentTool=a,void(t.currentTool===a&&(a.isActive||a.doActivate(),a.doMouseMove()))}Sn(this,t),null===(t=e.event)||"pointermove"!==t.type&&t.cancelable||(e.bubbles=!0)},bn.prototype.doCurrentObjectChanged=function(t,e){null===(t=this.currentToolTip)||null!==e&&t instanceof vh&&(e===t||e.jg(t))||this.hideToolTip()},bn.prototype.doWaitAfter=function(t){var e=this.diagram;e.Ha&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!e.lastInput.handled&&((t=t.copy()).button=2,t.buttons=2,e.lastInput=t,e.Wt=!0,e.doMouseUp()))},bn.prototype.doMouseHover=function(){var t=this.diagram,e=t.lastInput;null===e.targetObject&&(e.targetObject=t.ec(e.documentPoint,null,null));var n=e.targetObject;if(null!==n)for(e.handled=!1;null!==n&&(null===(t=this.isActive?n.mouseHold:n.mouseHover)||(t(e,n),!e.handled));)n=n.panel;else null!==(n=this.isActive?t.mouseHold:t.mouseHover)&&n(e)},bn.prototype.doToolTip=function(){var t=this.diagram,e=t.lastInput;if(null===e.targetObject&&(e.targetObject=t.ec(e.documentPoint,null,null)),null!==(e=e.targetObject)){if(!((t=this.currentToolTip)instanceof vh)||e!==t&&!e.jg(t)){for(;null!==e;){if(null!==(t=e.toolTip))return void this.showToolTip(t,e);e=e.panel}this.hideToolTip()}}else null!==(e=t.toolTip)?this.showToolTip(e,null):this.hideToolTip()},bn.prototype.showToolTip=function(t,e){var n=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof vh){t.layerName="Tool",t.selectable=!1,t.scale=1/n.scale,t.category="ToolTip",null!==t.placeholder&&(t.placeholder.scale=n.scale);var i=t.diagram;null!==i&&i!==n&&i.remove(t),n.add(t),null!==e?t.adornedObject=e:t.data=n.model,t.Za(),this.positionToolTip(t,e)}else t instanceof yi&&t!==this.currentToolTip&&t.show(e,n,this);if(this.currentToolTip=t,-1!==this.uj&&(m.clearTimeout(this.uj),this.uj=-1),0<(t=this.toolTipDuration)&&1/0!==t){var a=this;this.uj=w((function(){a.hideToolTip()}),t)}},bn.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.diagram,n=e.lastInput.documentPoint.copy(),i=t.measuredBounds,a=e.viewportBounds;e.lastInput.isTouchEvent&&(n.x-=i.width),n.x+i.width>a.right&&(n.x-=i.width+5/e.scale),n.x<a.x&&(n.x=a.x),n.y=n.y+20/e.scale+i.height>a.bottom?n.y-(i.height+5/e.scale):n.y+20/e.scale,n.y<a.y&&(n.y=a.y),t.position=n}},bn.prototype.hideToolTip=function(){-1!==this.uj&&(m.clearTimeout(this.uj),this.uj=-1);var t=this.diagram,e=this.currentToolTip;null!==e&&(e instanceof vh?(t.remove(e),null!==this.pp&&this.pp.Af(e.category),e.data=null,e.adornedObject=null):e instanceof yi&&null!==e.hide&&e.hide(t,this),this.currentToolTip=null)},bn.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.diagram;if(this.isActive)for(var e=this.mouseUpTools.length,n=0;n<e;n++){var i=this.mouseUpTools.K(n);if(i.diagram=this.diagram,i.canStart())return t.doFocus(),t.currentTool=i,void(t.currentTool===i&&(i.isActive||i.doActivate(),i.doMouseUp()))}t.doFocus(),this.doDeactivate()},bn.prototype.doMouseWheel=function(){this.standardMouseWheel()},bn.prototype.doKeyDown=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyDown()},bn.prototype.doKeyUp=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyUp()},bn.prototype.findTool=function(t){for(var e=this.mouseDownTools.length,n=0;n<e;n++){var i=this.mouseDownTools.K(n);if(i.name===t)return i}for(e=this.mouseMoveTools.length,n=0;n<e;n++)if((i=this.mouseMoveTools.K(n)).name===t)return i;for(e=this.mouseUpTools.length,n=0;n<e;n++)if((i=this.mouseUpTools.K(n)).name===t)return i;return null},bn.prototype.replaceTool=function(t,e){null!==e&&(e.diagram=this.diagram);for(var n=this.mouseDownTools.length,i=0;i<n;i++){var a=this.mouseDownTools.K(i);if(a.name===t)return null!==e?this.mouseDownTools.Vc(i,e):this.mouseDownTools.mb(i),a}for(n=this.mouseMoveTools.length,i=0;i<n;i++)if((a=this.mouseMoveTools.K(i)).name===t)return null!==e?this.mouseMoveTools.Vc(i,e):this.mouseMoveTools.mb(i),a;for(n=this.mouseUpTools.length,i=0;i<n;i++)if((a=this.mouseUpTools.K(i)).name===t)return null!==e?this.mouseUpTools.Vc(i,e):this.mouseUpTools.mb(i),a;return null},bn.prototype.gb=function(t,e,n){null!==e&&(e.name=t,e.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,e):null!==e&&n.add(e)},u.Object.defineProperties(bn.prototype,{mouseWheelBehavior:{get:function(){return this.ga},set:function(t){this.ga=t}},gestureBehavior:{get:function(){return this.u},set:function(t){this.u=t}},currentToolTip:{get:function(){return this.j},set:function(t){this.j=t,this.pp=null!==t&&t instanceof vh?t.adornedPart:null}},mouseDownTools:{get:function(){return this.cb}},mouseMoveTools:{get:function(){return this.nb}},mouseUpTools:{get:function(){return this.Db}},hoverDelay:{get:function(){return this.W},set:function(t){this.W=t}},holdDelay:{get:function(){return this.F},set:function(t){this.F=t}},dragSize:{get:function(){return this.m},set:function(t){this.m=t.J()}},toolTipDuration:{get:function(){return this.Ga},set:function(t){this.Ga=t}}}),bn.prototype.replaceStandardTool=bn.prototype.gb;var kn,Pn=new H(bn,"WheelScroll",0),Mn=new H(bn,"WheelZoom",1),_n=new H(bn,"WheelNone",2),Ln=new H(bn,"GestureZoom",3),Tn=new H(bn,"GestureCancel",4),On=new H(bn,"GestureNone",5);function An(){xn.call(this),this.name="Dragging",this.u=this.ww=this.nb=!0,this.m=this.Ga=this.W=this.Ce=null,this.Gm=this.Db=!1,this.hl=new gt(NaN,NaN),this.br=new gt,this.cb=!0,this.vk=100,this.tg=[],this.le=(new Q).freeze(),this.ga=new wr,this.hn=null,this.F="copy",this.Hc="",this.Ic="no-drop"}function En(t,e){if(t.dragsLink){var n=t.diagram;n.allowRelink&&(n.model.Nj()&&1===e.count&&e.first()instanceof Ih?(t.draggedLink=e.first(),t.draggedLink.canRelinkFrom()&&t.draggedLink.canRelinkTo()&&t.draggedLink.zj(),t.Ce=n.toolManager.findTool("Relinking"),null===t.Ce&&(t.Ce=new ni,t.Ce.diagram=n),t.Ce.originalLink=t.draggedLink):(t.draggedLink=null,t.Ce=null))}}function Cn(t){var e=t.diagram,n=e.skipsUndoManager;e.skipsUndoManager=!0,zn(t,e.lastInput,null),e.skipsUndoManager=n,t.tg.length=0}function Nn(){var t=Xn;jn(t),Rn(t);var e=t.diagram;t.hl.v()&&(e.position=t.hl),e.lg()}function Bn(t,e){if(null===t.copiedParts){var n=t.diagram;if((!e||!n.isReadOnly&&!n.isModelReadOnly)&&null!==t.draggedParts){var i=n.undoManager;for(i.isEnabled&&i.isInTransaction?null!==i.currentTransaction&&0<i.currentTransaction.changes.count&&(n.undoManager.Bf(),n.Da("Drag")):Rn(t),n.skipsUndoManager=!e,n.partManager.addsToTemporaryLayer=!e,t.startPoint=n.firstInput.documentPoint,e=t.copiesEffectiveCollection?t.draggedParts.Cf():n.selection,e=n.Ej(e,n,!0),n=new pt,i=t.draggedParts.iterator;i.next();){var a=i.key;if(a.Tc()&&a.canCopy()){var o=e.I(a);null!==o&&(o.location=a.location,o.Za(),n.add(o,t.Fd(o.location)))}}for(e=e.iterator;e.next();)(i=e.value)instanceof Ih&&i.canCopy()&&n.add(i,t.Fd());t.copiedParts=n,En(t,n.Cf()),null!==t.draggedLink&&(e=(n=t.draggedLink).routeBounds,Vh(n,t.startPoint.x-(e.x+e.width/2),t.startPoint.y-(e.y+e.height/2))),t.doUpdateCursor(null,!0)}}}function jn(t){var e=t.diagram;if(null!==t.copiedParts){if(e.js(t.copiedParts.Cf(),!1),t.copiedParts=null,null!==t.draggedParts)for(var n=t.draggedParts.iterator;n.next();)n.key instanceof Ih&&(n.value.point=new gt(0,0));t.doUpdateCursor(null,!0)}e.skipsUndoManager=!1,e.partManager.addsToTemporaryLayer=!1,t.startPoint=e.firstInput.documentPoint}function Dn(t){if(null!==t.draggedLink){if(t.dragsLink&&null!==t.Ce){var e=t.Ce;e.diagram.remove(e.temporaryFromNode),e.diagram.remove(e.temporaryToNode),t.Ce.originalLink=null}t.draggedLink=null,t.Ce=null}}function Fn(t,e,n){var i=t.diagram,a=t.startPoint,o=gt.alloc();o.assign(i.lastInput.documentPoint),t.moveParts(e,o.je(a),n),gt.free(o),!0===i.Ge("temporaryPixelRatio")&&null===i.Rh&&30<i.Ew&&(La(i),i.Jo())}function Rn(t){if(null!==t.draggedParts){for(var e=t.diagram,n=t.draggedParts.iterator;n.next();){var i=n.key;i.Tc()&&(i.location=n.value.point)}for(n=t.draggedParts.iterator;n.next();)if((i=n.key)instanceof Ih&&i.suspendsRouting){var a=n.value.point;t.draggedParts.add(i,t.Fd()),Vh(i,-a.x,-a.y)}e.nd()}}function In(t,e){var n=t.diagram;t.dragsLink&&(null!==t.draggedLink&&(t.draggedLink.fromNode=null,t.draggedLink.toNode=null),Gn(t,!1));var i=t.findDragOverObject(e),a=n.lastInput;a.targetObject=i,t.doUpdateCursor(i,!1);var o=n.skipsUndoManager,r=!1;try{if(n.skipsUndoManager=!0,r=zn(t,a,i),!t.isActive&&null===Xn)return;var s=null!==i?i.part:null;if(null===s||n.handlesDragDropForTopLevelParts&&s.isTopLevel&&!(s instanceof jh)){var l=n.mouseDragOver;null!==l&&(l(a),r=!0)}if(!t.isActive&&null===Xn)return;if(t.doDragOver(e,i),!t.isActive&&null===Xn)return}finally{n.skipsUndoManager=o,r&&n.nd()}t.hn=i,n.isReadOnly||!n.allowMove&&!n.allowCopy||!n.allowHorizontalScroll&&!n.allowVerticalScroll||n.Gr(a.viewPoint)}function zn(t,e,n){var i=!1,a=t.tg.length,o=0<a?t.tg[0]:null;if(n===o)return!1;e.handled=!1;for(var r=0;r<a;r++){var s=t.tg[r],l=s.mouseDragLeave;if(null!==l&&(l(e,s,n),i=!0,e.handled))break}if(t.tg.length=0,!t.isActive&&null===Xn||null===n)return i;for(e.handled=!1,a=n;null!==a;)t.tg.push(a),a=Hn(a);for(a=t.tg.length,n=0;n<a&&(null===(s=(r=t.tg[n]).mouseDragEnter)||(s(e,r,o),i=!0,!e.handled));n++);return i}function Hn(t){var e=t.panel;return null!==e?e:t instanceof $c&&!(t instanceof jh)&&(null!==(t=t.containingGroup)&&t.handlesDragDropForMembers)?t:null}function Vn(t,e,n){var i=t.Ce;if(null===i)return null;var a=t.diagram.hg(e,i.portGravity,(function(t){return i.findValidLinkablePort(t,n)}));t=gt.alloc();var o=1/0,r=null;for(a=a.iterator;a.next();){var s=a.value;if(null!==s.part){var l=s.ia(oe,t);(l=e.rf(l))<o&&(r=s,o=l)}}return gt.free(t),r}function Gn(t,e){var n=t.draggedLink;if(null!==n&&!(2>n.pointsCount)){var i=t.diagram;if(!i.isReadOnly){var a=t.Ce;if(null!==a){var o=null,r=null;null===n.fromNode&&(null!==(o=Vn(t,n.i(0),!1))&&(r=o.part));var s=null,l=null;null===n.toNode&&(null!==(s=Vn(t,n.i(n.pointsCount-1),!0))&&(l=s.part)),a.isValidLink(r,o,l,s)?e?(n.defaultFromPoint=n.i(0),n.defaultToPoint=n.i(n.pointsCount-1),n.suspendsRouting=!1,n.fromNode=r,null!==o&&(n.fromPortId=o.portId),n.toNode=l,null!==s&&(n.toPortId=s.portId),n.fromPort!==i.tx&&i.P("LinkRelinked",n,i.tx),n.toPort!==i.ux&&i.P("LinkRelinked",n,i.ux)):ii(a,r,o,l,s):ii(a,null,null,null,null)}}}}function Un(t,e){var n=t.diagram;t.dragsLink&&Gn(t,!0),Cn(t);var i=t.findDragOverObject(e),a=n.lastInput;if(a.targetObject=i,null!==i){a.handled=!1;for(var o=i;null!==o;){var r=o.mouseDrop;if(null!==r&&(r(a,o),a.handled))break;Wn(t,a,o),o=Hn(o)}}else null!==(o=n.mouseDrop)&&o(a);if(t.isActive||null!==Xn){for(a=(t.copiedParts||t.draggedParts).iterator;a.next();)(o=a.key)instanceof xh&&o.linksConnected.each((function(t){t.suspendsRouting=!1}));if(t.doDropOnto(e,i),t.isActive||null!==Xn){for(t=jt.alloc(),e=n.selection.iterator;e.next();)(i=e.value)instanceof xh&&qn(n,i,t);jt.free(t)}}}function Wn(t,e,n){t=t.diagram,n=n.part,!t.handlesDragDropForTopLevelParts||!n.isTopLevel||n instanceof jh||null!==(n=t.mouseDrop)&&n(e)}function qn(t,e,n){var i=!1;if(e.getAvoidableRect(n),t.viewportBounds.Ee(n)&&(i=!0),0!==(t=t.yu(n,(function(t){return t.part}),(function(t){return t instanceof Ih}),!0,(function(t){return t instanceof Ih}),i)).count)for(t=t.iterator;t.next();)!(n=t.value).Md(e)&&n.isAvoiding&&n.ab()}function Yn(t,e,n,i){if(null===t.copiedParts){var a=t.diagram;if(!a.isReadOnly&&!a.isModelReadOnly){a.skipsUndoManager=!n,a.partManager.addsToTemporaryLayer=!n,t.startPoint=i.documentPoint,n=a.Ej(e,a,!0);var o=jt.alloc();a=i=1/0;for(var r=-1/0,s=-1/0,l=e.iterator;l.next();){var c=l.value;if(c.isVisible()){var h=c.location;c=h.x,h=h.y,isNaN(c)||isNaN(h)||(c<i&&(i=c),h<a&&(a=h),c>r&&(r=c),h>s&&(s=h))}}for(1/0===i?o.h(0,0,0,0):o.h(i,a,r-i,s-a),i=o.x+o.width/2,a=o.y+o.height/2,jt.free(o),o=t.br,r=new pt,s=gt.alloc(),l=e.iterator;l.next();)(c=l.value)instanceof Ih&&c.canCopy()&&(null!==(h=n.I(c))&&(h.points=c.points,Vh(h,o.x-i,o.y-a),h.suspendsRouting=!0,r.add(h,t.Fd())));for(e=e.iterator;e.next();)(c=e.value).Tc()&&c.canCopy()&&(null!==(l=n.I(c))&&(c=c.location,s.h(o.x-(i-c.x),o.y-(a-c.y)),l.location=s,l.Za(),r.add(l,t.Fd(s))));gt.free(s),t.copiedParts=r,En(t,r.Cf()),null!==t.draggedLink&&(e=(n=t.draggedLink).routeBounds,Vh(n,t.startPoint.x-(e.x+e.width/2),t.startPoint.y-(e.y+e.height/2))),t.doUpdateCursor(null,!0)}}}bn.className="ToolManager",bn.WheelScroll=Pn,bn.WheelZoom=Mn,bn.WheelNone=_n,bn.GestureZoom=Ln,bn.GestureCancel=Tn,bn.GestureNone=On,d(An,xn),An.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.isTouchEvent&&e.timestamp-t.firstInput.timestamp<this.vk))&&null!==this.findDraggablePart()},An.prototype.findDraggablePart=function(){var t=this.diagram;if(null===(t=t.vl(t.firstInput.documentPoint,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.containingGroup;return null!==t&&(t.canMove()||t.canCopy())?t:null},An.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.vl(t.firstInput.documentPoint,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.containingGroup;this.currentPart=e,null===this.currentPart||this.currentPart.isSelected||(t.P("ChangingSelection",t.selection),e=t.lastInput,(I?e.meta:e.control)||e.shift||t.clearSelection(!0),this.currentPart.isSelected=!0,t.P("ChangedSelection",t.selection))}}},An.prototype.doActivate=function(){var t=this.diagram;this.hn=null,null===this.currentPart&&this.standardMouseSelect();var e=this.currentPart;null!==e&&(e.canMove()||e.canCopy())&&(t.lu(!0),Xn=null,this.isActive=!0,this.hl.set(t.position),En(this,t.selection),this.tg.length=0,t.animationManager.wc(),this.draggedParts=this.computeEffectiveCollection(t.selection,this.dragOptions),this.ww=this.diagram.layout.isRealtime,this.diagram.layout.isRealtime=!1,t.os=!0,!0===t.Ge("temporaryPixelRatio")&&30<t.Ew&&La(t),lo(t,this.draggedParts),this.Da("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&(this.isDragOutStarted=!0,this.Gm=!1,Xn=this,Kn=this.diagram,this.doSimulatedDragOut()))},An.prototype.computeEffectiveCollection=function(t,e){return this.diagram.commandHandler.computeEffectiveCollection(t,e)},An.prototype.Fd=function(t){return void 0===t?new rr(it):this.isGridSnapEnabled?new rr(new gt(Math.round(1e3*t.x)/1e3,Math.round(1e3*t.y)/1e3)):new rr(t.copy())},An.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;if(this.diagram.layout.isRealtime=this.ww,t.lu(!1),t.lg(),Cn(this),co(t,this.draggedParts),this.draggedParts=this.currentPart=this.hn=null,this.Gm=this.isDragOutStarted=!1,0<kn.count){for(var e=kn,n=e.length,i=0;i<n;i++){var a=e.K(i);Dn(a),jn(a),Cn(a),a.diagram.lg()}e.clear()}Dn(this),this.hl.h(NaN,NaN),null!==Kn&&(Kn.currentCursor=""),Xn=Kn=null,jn(this),t.isMouseCaptured=!1,t.currentCursor="",t.os=!1,this.stopTransaction(),Ta(t,!0)},An.prototype.stopTransaction=function(){var t=this.diagram,e=xn.prototype.stopTransaction.call(this);return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.Uj(),e},An.prototype.doCancel=function(){jn(this),Rn(this);var t=this.diagram;this.hl.v()&&(t.position=this.hl),this.stopTool()},An.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput;this.isActive&&("Esc"===e.key?this.doCancel():e.key!==t.previousInput.key&&this.doMouseMove())},An.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()},An.prototype.moveParts=function(t,e,n){void 0===n&&(n=!1);var i=this.diagram;null!==i&&oo(i,t,e,this.dragOptions,n)},An.prototype.findDragOverObject=function(t){var e=this;return Ra(this.diagram,t,null,(function(t){return null===t?t=!0:t=!!(null===(t=t.part)||t instanceof vh||t.layer.isTemporary||e.draggedParts&&e.draggedParts.contains(t)||e.copiedParts&&e.copiedParts.contains(t)),!t}))},An.prototype.doUpdateCursor=function(t,e){var n=this.diagram;(e||this.hn!==t)&&(!this.diagram.currentTool.isActive||this.mayCopy()?n.currentCursor=this.copyCursor:this.mayMove()?n.currentCursor=this.moveCursor:this.mayDragOut()&&(n.currentCursor=this.nodropCursor))},An.prototype.doDragOver=function(){},An.prototype.doDropOnto=function(){},An.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;this.simulatedMouseMove(e.event,e.documentPoint,e.targetDiagram)||null===this.currentPart||null===this.draggedParts||(this.mayCopy()?(Bn(this,!1),lo(t,this.copiedParts),Fn(this,this.copiedParts,!1),co(t,this.copiedParts)):this.mayMove()?(jn(this),Fn(this,this.draggedParts,!0)):this.mayDragOut()?(Bn(this,!1),Fn(this,this.copiedParts,!1)):jn(this),In(this,t.lastInput.documentPoint))}},An.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;if(!this.simulatedMouseUp(e.event,e.documentPoint,e.targetDiagram)){e=!1;var n=this.mayCopy();if(n&&null!==this.copiedParts?(jn(this),Bn(this,!0),lo(t,this.copiedParts),Fn(this,this.copiedParts,!1),co(t,this.copiedParts),null!==this.copiedParts&&(t.P("ChangingSelection",t.selection),t.clearSelection(!0),this.copiedParts.iteratorKeys.each((function(t){t.isSelected=!0})))):(e=!0,jn(this),this.mayMove()&&(Fn(this,this.draggedParts,!0),In(this,t.lastInput.documentPoint))),this.Gm=!0,Un(this,t.lastInput.documentPoint),this.isActive){var i=n?this.copiedParts.Cf():this.draggedParts.Cf();this.copiedParts=null,e&&function(t){if(null!==t.draggedParts)for(var e=t.draggedParts.iterator;e.next();){var n=e.key;n instanceof xh&&(null===(n=n.containingGroup)||null===n.placeholder||t.draggedParts.contains(n)||n.placeholder.w())}}(this),t.Va(),co(t,this.draggedParts),this.transactionResult=n?"Copy":"Move",t.P(n?"SelectionCopied":"SelectionMoved",i)}this.stopTool(),n&&t.P("ChangedSelection",t.selection)}}},An.prototype.simulatedMouseMove=function(t,e,n){if(null===Xn)return!1;var i=Xn.diagram;n instanceof ka||(n=null);var a=Kn;return n!==a&&(null!==a&&a!==i&&(a.lg(),Xn.isDragOutStarted=!1,null!==(a=a.toolManager.findTool("Dragging"))&&a.doSimulatedDragLeave()),Kn=n,null!==n&&n!==i&&(Nn(),null!==(a=n.toolManager.findTool("Dragging"))&&(kn.contains(a)||kn.add(a),a.doSimulatedDragEnter())),this.doUpdateCursor(null,!0)),!(null===n||n===i||!n.allowDrop||n.isReadOnly||!n.allowInsert)&&(null!==(i=n.toolManager.findTool("Dragging"))&&(null!==t&&(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=n.getMouse(t)),n.lastInput.documentPoint=e,n.lastInput.viewPoint=n.Ro(e),n.lastInput.down=!1,n.lastInput.up=!1,i.doSimulatedDragOver()),!0)},An.prototype.simulatedMouseUp=function(t,e,n){if(null===Xn)return!1;var i=Kn,a=Xn.diagram;if(null===n)return Xn.doCancel(),!0;if(n!==i){var o=i.toolManager.findTool("Dragging");if(null!==i&&i!==a&&null!==o)return i.lg(),Xn.isDragOutStarted=!1,o.doSimulatedDragLeave(),!1;Kn=n,null!==(i=n.toolManager.findTool("Dragging"))&&(Nn(),kn.contains(i)||kn.add(i),i.doSimulatedDragEnter())}return n!==this.diagram&&(null!==t?(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=n.getMouse(t)):null===e&&(e=new gt),n.lastInput.documentPoint=e,n.lastInput.viewPoint=n.Ro(e),n.lastInput.down=!1,n.lastInput.up=!0,null!==(t=n.toolManager.findTool("Dragging"))&&t.doSimulatedDrop(),null!==(t=Xn)&&(n=t.mayCopy(),t.transactionResult=n?"Copy":"Move",t.stopTool()),!0)},An.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||(I?!t.lastInput.alt:!t.lastInput.control))return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},An.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},An.prototype.mayMove=function(){var t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canMove())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canMove())},An.prototype.computeBorder=function(t,e,n){return this.Gm||null===this.draggedParts||this.draggedParts.contains(t)?null:n.assign(e)},An.prototype.hz=function(){return Xn},An.prototype.mayDragIn=function(){var t=this.diagram;if(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)return!1;return null!==Xn&&Xn.diagram.model.dataFormat===t.model.dataFormat},An.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.diagram;t.animationManager.wc(),qa(t),t.animationManager.wc(),null!==(t=Xn)&&(t.diagram.os=!1),this.doUpdateCursor(null,!0)}},An.prototype.doSimulatedDragLeave=function(){null!==Xn&&Xn.doSimulatedDragOut(),this.doCancel()},An.prototype.doSimulatedDragOver=function(){var t=this.diagram;t.animationManager.lm=!0;var e=Xn;if(null!==e&&null!==e.draggedParts){if(!this.mayDragIn())return;Yn(this,e.draggedParts.Cf(),!1,t.firstInput),Fn(this,this.copiedParts,!1),In(this,t.lastInput.documentPoint)}t.animationManager.lm=!1},An.prototype.doSimulatedDrop=function(){var t=this.diagram,e=Xn;if(null!==e){var n=e.diagram;if(e.Gm=!0,jn(this),!this.mayDragIn())return;t.animationManager.lm=!0,t.P("ChangingSelection",t.selection),this.Da("Drop"),Yn(this,e.draggedParts.Cf(),!0,t.lastInput),Fn(this,this.copiedParts,!1),null!==this.copiedParts&&(t.clearSelection(!0),this.copiedParts.iteratorKeys.each((function(t){t.isSelected=!0}))),Un(this,t.lastInput.documentPoint),t.Va(),e=t.selection,null!==this.copiedParts?this.transactionResult="ExternalCopy":e=new Q,this.copiedParts=null,t.doFocus(),t.P("ExternalObjectsDropped",e,n),this.stopTransaction(),t.P("ChangedSelection",t.selection)}t.animationManager.lm=!1},An.prototype.doSimulatedDragOut=function(){var t=this.diagram;t.os=!1,this.mayCopy()||this.mayMove()?t.currentCursor="":t.currentCursor=this.nodropCursor,this.hn=null},An.prototype.computeMove=function(t,e,n,i){return null!==(n=this.diagram)?n.computeMove(t,e,this.dragOptions,i):new gt},u.Object.defineProperties(An.prototype,{isCopyEnabled:{get:function(){return this.nb},set:function(t){this.nb=t}},copiesEffectiveCollection:{get:function(){return this.u},set:function(t){this.u=t}},dragOptions:{get:function(){return this.ga},set:function(t){this.ga=t}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(t){this.dragOptions.isGridSnapEnabled=t}},isComplexRoutingRealtime:{get:function(){return this.cb},set:function(t){this.cb=t}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(t){this.dragOptions.isGridSnapRealtime=t}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(t){this.dragOptions.gridSnapCellSize.C(t)||(t=t.J(),this.dragOptions.gridSnapCellSize=t)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(t){this.dragOptions.gridSnapCellSpot.C(t)||(t=t.J(),this.dragOptions.gridSnapCellSpot=t)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(t){this.dragOptions.gridSnapOrigin.C(t)||(t=t.J(),this.dragOptions.gridSnapOrigin=t)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(t){this.dragOptions.dragsLink=t}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(t){this.dragOptions.dragsTree=t}},copyCursor:{get:function(){return this.F},set:function(t){this.F=t}},moveCursor:{get:function(){return this.Hc},set:function(t){this.Hc=t}},nodropCursor:{get:function(){return this.Ic},set:function(t){this.Ic=t}},currentPart:{get:function(){return this.W},set:function(t){this.W=t}},copiedParts:{get:function(){return this.m},set:function(t){this.m=t}},draggedParts:{get:function(){return this.Ga},set:function(t){this.Ga=t}},draggingParts:{get:function(){return null!==this.copiedParts?this.copiedParts.Cf():null!==this.draggedParts?this.draggedParts.Cf():this.le}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(t){this.diagram.draggedLink=t}},isDragOutStarted:{get:function(){return this.Db},set:function(t){this.Db=t}},startPoint:{get:function(){return this.br},set:function(t){this.br.C(t)||this.br.assign(t)}},delay:{get:function(){return this.vk},set:function(t){this.vk=t}}}),An.prototype.getDraggingSource=An.prototype.hz;var Xn=null,Kn=null;function Zn(){xn.call(this),this.le=100,this.Ga=!1,this.u="pointer";var t=new Ih,e=new Gl;e.isPanelMain=!0,e.stroke="blue",t.add(e),(e=new Gl).toArrow="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.layerName="Tool",this.vi=t,t=new xh,(e=new Gl).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=Pt,t.add(e),t.selectable=!1,t.layerName="Tool",this.ui=t,this.j=e,t=new xh,(e=new Gl).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=Pt,t.add(e),t.selectable=!1,t.layerName="Tool",this.wi=t,this.m=e,this.Ic=this.Hc=this.nb=this.cb=this.Db=null,this.ga=!0,this.Wo=new pt,this.Ff=this.bj=this.Gf=null}function $n(t,e,n,i,a){if(e===n)return!0;if(null===e||null===n)return!1;for(var o=e.linksConnected;o.next();){var r=o.value;if(r!==i&&(!a||r.isTreeLink)&&r.toNode===e&&((r=r.fromNode)!==e&&$n(t,r,n,i,a)))return!0}return!1}function Jn(){Zn.call(this),this.name="Linking",this.W={},this.F=null,this.L=Qn,this.Qd=null}An.className="DraggingTool",kn=new $,j("draggingTool",(function(){return this.findTool("Dragging")}),(function(t){this.gb("Dragging",t,this.mouseMoveTools)})),bn.prototype.doCancel=function(){null!==Xn&&Xn.doCancel(),xn.prototype.doCancel.call(this)},d(Zn,xn),Zn.prototype.doStop=function(){this.diagram.lg(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},Zn.prototype.copyPortProperties=function(t,e,n,i,a){if(null!==t&&null!==e&&null!==n&&null!==i){var o=e.uf(),r=Et.alloc();r.width=e.naturalBounds.width*o,r.height=e.naturalBounds.height*o,i.desiredSize=r,Et.free(r),a?(i.toSpot=e.toSpot,i.toEndSegmentLength=e.toEndSegmentLength):(i.fromSpot=e.fromSpot,i.fromEndSegmentLength=e.fromEndSegmentLength),n.locationSpot=oe,o=gt.alloc(),n.location=e.ia(oe,o),gt.free(o),i.angle=e.fi(),null!==this.portTargeted&&this.portTargeted(t,e,n,i,a)}},Zn.prototype.setNoTargetPortProperties=function(t,e,n){null!==e&&(e.desiredSize=Pt,e.fromSpot=te,e.toSpot=te),null!==t&&(t.location=this.diagram.lastInput.documentPoint),null!==this.portTargeted&&this.portTargeted(null,null,t,e,n)},Zn.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},Zn.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort&&this.targetPort.part instanceof xh){var e=this.targetPort.part;this.isForwards?this.copyPortProperties(e,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(e,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.Gr(t.lastInput.viewPoint)}},Zn.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var n=t.part;if(!(n instanceof xh))return null;for(;null!==t;){var i=e?t.toLinkable:t.fromLinkable;if(!0===i&&(null!==t.portId||t instanceof xh)&&(e?this.isValidTo(n,t):this.isValidFrom(n,t)))return t;if(!1===i)break;t=t.panel}return null},Zn.prototype.findTargetPort=function(t){var e=this.diagram,n=e.lastInput.documentPoint,i=this.portGravity;0>=i&&(i=.1);var a=this,o=e.hg(n,i,(function(e){return a.findValidLinkablePort(e,t)}),null,!0);for(i=1/0,e=null,o=o.iterator;o.next();){var r=o.value,s=r.part;if(s instanceof xh){var l=r.ia(oe,gt.alloc()),c=n.x-l.x,h=n.y-l.y;gt.free(l),(l=c*c+h*h)<i&&(null!==(c=this.validPortsCache.I(r))?c&&(e=r,i=l):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,s,r)||!t&&this.isValidLink(s,r,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(r,!0),e=r,i=l):this.validPortsCache.add(r,!1))}}return null!==e&&((n=e.part)instanceof xh&&(null===n.layer||n.layer.allowLink))?e:null},Zn.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.fromLinkable))return!1;var n=e.fromMaxLinks;if(1/0>n){if(null!==this.originalLink&&t===this.originalFromNode&&e===this.originalFromPort)return!0;if(null===(e=e.portId)&&(e=""),t.ro(e).count>=n)return!1}return!0},Zn.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.toLinkable))return!1;var n=e.toMaxLinks;if(1/0>n){if(null!==this.originalLink&&t===this.originalToNode&&e===this.originalToPort)return!0;if(null===(e=e.portId)&&(e=""),t.Kd(e).count>=n)return!1}return!0},Zn.prototype.isInSameNode=function(t,e){return null!==t&&null!==e&&(t===e||(t=t.part,e=e.part,null!==t&&t===e))},Zn.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var n=t.part;if(!(n instanceof xh))return!1;null===(t=t.portId)&&(t="");var i=e.part;if(!(i instanceof xh))return!1;for(null===(e=e.portId)&&(e=""),e=i.Kd(e);e.next();)if((i=e.value).fromNode===n&&i.fromPortId===t)return!0;return!1},Zn.prototype.isValidLink=function(t,e,n,i){if(!this.isValidFrom(t,e)||!this.isValidTo(n,i)||!(null===e||null===i||(e.fromLinkableSelfNode&&i.toLinkableSelfNode||!this.isInSameNode(e,i))&&(e.fromLinkableDuplicates&&i.toLinkableDuplicates||!this.isLinked(e,i)))||null!==this.originalLink&&(null!==t&&this.isLabelDependentOnLink(t,this.originalLink)||null!==n&&this.isLabelDependentOnLink(n,this.originalLink))||null!==t&&null!==n&&(null===t.data&&null!==n.data||null!==t.data&&null===n.data)||!this.isValidCycle(t,n,this.originalLink))return!1;if(null!==t){var a=t.linkValidation;if(null!==a&&!a(t,e,n,i,this.originalLink))return!1}return!(null!==n&&null!==(a=n.linkValidation)&&!a(t,e,n,i,this.originalLink))&&(null===(a=this.linkValidation)||a(t,e,n,i,this.originalLink))},Zn.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var n=t.labeledLink;if(null===n)return!1;if(n===e)return!0;var i=new Q;return i.add(t),function t(e,n,i,a){if(n===i)return!0;var o=n.fromNode;return!(null===o||!o.isLinkLabel||(a.add(o),!t(e,o.labeledLink,i,a)))||!(null===(n=n.toNode)||!n.isLinkLabel||(a.add(n),!t(e,n.labeledLink,i,a)))}(this,n,e,i)},Zn.prototype.isValidCycle=function(t,e,n){if(void 0===n&&(n=null),null===t||null===e)return this.isUnconnectedLinkValid;var i=this.diagram.validCycle;if(i!==Ho){if(i===Wo){if(null!==(i=n||this.temporaryLink)&&!i.isTreeLink)return!0;for(i=e.linksConnected;i.next();){var a=i.value;if(a!==n&&a.isTreeLink&&a.toNode===e)return!1}return!$n(this,t,e,n,!0)}if(i===qo){if(null!==(i=n||this.temporaryLink)&&!i.isTreeLink)return!0;for(i=t.linksConnected;i.next();)if((a=i.value)!==n&&a.isTreeLink&&a.fromNode===t)return!1;return!$n(this,t,e,n,!0)}if(i===Vo)return t===e?t=!0:((i=new Q).add(e),t=function t(e,n,i,a,o){if(i===a)return!0;if(null===i||null===a||n.contains(i))return!1;n.add(i);for(var r=i.linksConnected;r.next();){var s=r.value;if(s!==o&&s.toNode===i&&((s=s.fromNode)!==i&&t(e,n,s,a,o)))return!0}return!1}(this,i,t,e,n)),!t;if(i===Go)return!$n(this,t,e,n,!1);if(i===Uo)return t===e?t=!0:((i=new Q).add(e),t=function t(e,n,i,a,o){if(i===a)return!0;if(null===i||null===a||n.contains(i))return!1;n.add(i);for(var r=i.linksConnected;r.next();){var s=r.value;if(s!==o){var l=s.fromNode;if(s=s.toNode,(l=l===i?s:l)!==i&&t(e,n,l,a,o))return!0}}return!1}(this,i,t,e,n)),!t}return!0},u.Object.defineProperties(Zn.prototype,{portGravity:{get:function(){return this.le},set:function(t){0<=t&&(this.le=t)}},isUnconnectedLinkValid:{get:function(){return this.Ga},set:function(t){this.Ga=t}},linkingCursor:{get:function(){return this.u},set:function(t){this.u=t}},temporaryLink:{get:function(){return this.vi},set:function(t){this.vi=t}},temporaryFromNode:{get:function(){return this.ui},set:function(t){(this.ui=t)&&(this.j=t.port)}},temporaryFromPort:{get:function(){return this.j},set:function(t){if(null!==this.j){var e=this.j.panel;if(null!==e){var n=e.R.indexOf(this.j);e.mb(n),e.Cb(n,t)}}this.j=t}},temporaryToNode:{get:function(){return this.wi},set:function(t){(this.wi=t)&&(this.m=t.port)}},temporaryToPort:{get:function(){return this.m},set:function(t){if(null!==this.m){var e=this.m.panel;if(null!==e){var n=e.R.indexOf(this.m);e.mb(n),e.Cb(n,t)}}this.m=t}},originalLink:{get:function(){return this.Db},set:function(t){this.Db=t}},originalFromNode:{get:function(){return this.cb},set:function(t){this.cb=t}},originalFromPort:{get:function(){return this.nb},set:function(t){this.nb=t}},originalToNode:{get:function(){return this.Hc},set:function(t){this.Hc=t}},originalToPort:{get:function(){return this.Ic},set:function(t){this.Ic=t}},isForwards:{get:function(){return this.ga},set:function(t){this.ga=t}},validPortsCache:{get:function(){return this.Wo}},targetPort:{get:function(){return this.Gf},set:function(t){this.Gf=t}},linkValidation:{get:function(){return this.bj},set:function(t){this.bj=t}},portTargeted:{get:function(){return this.Ff},set:function(t){this.Ff=t}}}),Zn.className="LinkingBaseTool",d(Jn,Zn),Jn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.Wr()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},Jn.prototype.findLinkablePort=function(){var t=this.diagram,e=this.startObject;if(null===e&&(e=t.ec(t.firstInput.documentPoint,null,null)),null===e)return null;if(!((t=e.part)instanceof xh))return null;var n=this.direction;if(n===Qn||n===ti){var i=this.findValidLinkablePort(e,!1);if(null!==i||this.startObject===t&&(i=t.port,this.findValidLinkablePort(i,!1)))return this.isForwards=!0,i}return(n===Qn||n===ei)&&(null!==(e=this.findValidLinkablePort(e,!0))||this.startObject===t&&(e=t.port,this.findValidLinkablePort(e,!0)))?(this.isForwards=!1,e):null},Jn.prototype.doActivate=function(){var t=this.diagram,e=this.findLinkablePort();null===e?this.stopTool():(this.Da(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards?(null===this.temporaryToNode||this.temporaryToNode.location.v()||(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=e,(e=this.originalFromPort.part)instanceof xh&&(this.originalFromNode=e),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(null===this.temporaryFromNode||this.temporaryFromNode.location.v()||(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=e,(e=this.originalToPort.part)instanceof xh&&(this.originalToNode=e),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.ab(),t.add(this.temporaryLink)),this.isActive=!0)},Jn.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()},Jn.prototype.doStop=function(){Zn.prototype.doStop.call(this),this.startObject=null},Jn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,e=this.transactionResult=null,n=null,i=null,a=null,o=null;try{var r=this.targetPort=this.findTargetPort(this.isForwards);if(null!==r){var s=r.part;s instanceof xh&&(this.isForwards?(null!==this.originalFromNode&&(e=this.originalFromNode,n=this.originalFromPort),i=s,a=r):(e=s,n=r,null!==this.originalToNode&&(i=this.originalToNode,a=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(e=this.originalFromNode,n=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(i=this.originalToNode,a=this.originalToPort);null!==e||null!==i?null!==(o=this.insertLink(e,n,i,a))?(null===r&&(this.isForwards?o.defaultToPoint=t.lastInput.documentPoint:o.defaultFromPoint=t.lastInput.documentPoint),t.allowSelect&&(t.P("ChangingSelection",t.selection),t.clearSelection(!0),o.isSelected=!0),this.transactionResult=this.name,t.P("LinkDrawn",o)):this.doNoLink(e,n,i,a):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),o&&t.allowSelect&&t.P("ChangedSelection",t.selection)}}},Jn.prototype.isNewTreeLink=function(){var t=this.archetypeLinkData;if(null===t)return!0;if(t instanceof Ih)return t.isTreeLink;var e=this.diagram;return null===e||(t=e.partManager.getLinkCategoryForData(t),null===(e=e.partManager.findLinkTemplateForCategory(t))||e.isTreeLink)},Jn.prototype.insertLink=function(t,e,n,i){return this.diagram.partManager.insertLink(t,e,n,i)},Jn.prototype.doNoLink=function(){},u.Object.defineProperties(Jn.prototype,{archetypeLinkData:{get:function(){return this.W},set:function(t){this.W=t}},archetypeLabelNodeData:{get:function(){return this.F},set:function(t){this.F=t}},direction:{get:function(){return this.L},set:function(t){this.L=t}},startObject:{get:function(){return this.Qd},set:function(t){this.Qd=t}}});var Qn=new H(Jn,"Either",0),ti=new H(Jn,"ForwardsOnly",0),ei=new H(Jn,"BackwardsOnly",0);function ni(){Zn.call(this),this.name="Relinking";var t=new Gl;t.figure="Diamond",t.desiredSize=_t,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=0,this.W=t,(t=new Gl).figure="Diamond",t.desiredSize=_t,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=-1,this.Qd=t,this.F=null,this.iw=new jt}function ii(t,e,n,i,a){null!==e?(t.copyPortProperties(e,n,t.temporaryFromNode,t.temporaryFromPort,!1),t.diagram.add(t.temporaryFromNode)):t.diagram.remove(t.temporaryFromNode),null!==i?(t.copyPortProperties(i,a,t.temporaryToNode,t.temporaryToPort,!0),t.diagram.add(t.temporaryToNode)):t.diagram.remove(t.temporaryToNode)}function ai(){xn.call(this),this.name="LinkReshaping";var t=new Gl;t.figure="Rectangle",t.desiredSize=Mt,t.fill="lightblue",t.stroke="dodgerblue",this.m=t,(t=new Gl).figure="Diamond",t.desiredSize=_t,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="move",this.u=t,this.F=3,this.vs=this.j=null,this.jw=new gt,this.xq=new $}function oi(t,e,n,i,a,o){return o?Math.abs(e.y-n.y)<t.resegmentingDistance&&Math.abs(n.y-i.y)<t.resegmentingDistance&&Math.abs(i.y-a.y)<t.resegmentingDistance:Math.abs(e.x-n.x)<t.resegmentingDistance&&Math.abs(n.x-i.x)<t.resegmentingDistance&&Math.abs(i.x-a.x)<t.resegmentingDistance}Jn.className="LinkingTool",Jn.Either=Qn,Jn.ForwardsOnly=ti,Jn.BackwardsOnly=ei,d(ni,Zn),ni.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Ih){var e="RelinkFrom",n=null;if(t.isSelected&&!this.diagram.isReadOnly){var i=t.selectionObject;null!==i&&t.canRelinkFrom()&&t.actualBounds.v()&&t.isVisible()&&i.actualBounds.v()&&i.zf()&&(null===(n=t.Hj(e))&&(n=this.makeAdornment(i,!1),t.Tg(e,n)))}null===n&&t.Af(e),e="RelinkTo",n=null,t.isSelected&&!this.diagram.isReadOnly&&(null!==(i=t.selectionObject)&&t.canRelinkTo()&&t.actualBounds.v()&&t.isVisible()&&i.actualBounds.v()&&i.zf()&&(null===(n=t.Hj(e))?(n=this.makeAdornment(i,!0),t.Tg(e,n)):n.w())),null===n&&t.Af(e)}},ni.prototype.makeAdornment=function(t,e){var n=new vh;return n.type=cl.Link,null!==(e=e?this.toHandleArchetype:this.fromHandleArchetype)&&n.add(e.copy()),n.adornedObject=t,n},ni.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.Wr()||!t.lastInput.left)return!1;var e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null!==e},ni.prototype.doActivate=function(){var t=this.diagram;if(null===this.originalLink){var e=this.handle;if(null===e&&(null===(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"))&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo"))),null===e)return;var n=e.part;if(!(n instanceof vh&&n.adornedPart instanceof Ih))return;this.handle=e,this.isForwards=null===n||"RelinkTo"===n.category,this.originalLink=n.adornedPart}this.Da(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.iw.set(this.originalLink.actualBounds),null!==this.originalLink&&0<this.originalLink.pointsCount&&(null===this.originalLink.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=kt),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=this.originalLink.i(0))),null===this.originalLink.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=kt),null!==this.temporaryToNode&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.ab(),t.add(this.temporaryLink)),this.isActive=!0},ni.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.adjusting=t.adjusting,e.corner=t.corner;var n=t.curve;n!==pd&&n!==fd||(n=dd),e.curve=n,e.curviness=t.curviness,e.isTreeLink=t.isTreeLink,e.points=t.points,e.routing=t.routing,e.smoothness=t.smoothness,e.fromSpot=t.fromSpot,e.fromEndSegmentLength=t.fromEndSegmentLength,e.fromShortLength=t.fromShortLength,e.toSpot=t.toSpot,e.toEndSegmentLength=t.toEndSegmentLength,e.toShortLength=t.toShortLength}},ni.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()},ni.prototype.doStop=function(){Zn.prototype.doStop.call(this),this.handle=null},ni.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;this.transactionResult=null;var e=this.originalFromNode,n=this.originalFromPort,i=this.originalToNode,a=this.originalToPort,o=this.originalLink;try{if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort){var r=this.targetPort.part;r instanceof xh&&(this.isForwards?(i=r,a=this.targetPort):(e=r,n=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?a=i=null:n=e=null:o=null;null!==o?(this.reconnectLink(o,this.isForwards?i:e,this.isForwards?a:n,this.isForwards),null===this.targetPort&&(this.isForwards?o.defaultToPoint=t.lastInput.documentPoint:o.defaultFromPoint=t.lastInput.documentPoint,o.ab()),this.transactionResult=this.name,t.P("LinkRelinked",o,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.Ao(this.iw)}finally{this.stopTool()}}},ni.prototype.reconnectLink=function(t,e,n,i){return n=null!==n&&null!==n.portId?n.portId:"",i?(t.toNode=e,t.toPortId=n):(t.fromNode=e,t.fromPortId=n),!0},ni.prototype.doNoRelink=function(){},u.Object.defineProperties(ni.prototype,{fromHandleArchetype:{get:function(){return this.W},set:function(t){this.W=t}},toHandleArchetype:{get:function(){return this.Qd},set:function(t){this.Qd=t}},handle:{get:function(){return this.F},set:function(t){if(null!==t&&!(t.part instanceof vh))throw Error("new handle is not in an Adornment: "+t);this.F=t}}}),ni.className="RelinkingTool",j("linkingTool",(function(){return this.findTool("Linking")}),(function(t){this.gb("Linking",t,this.mouseMoveTools)})),j("relinkingTool",(function(){return this.findTool("Relinking")}),(function(t){this.gb("Relinking",t,this.mouseDownTools)})),d(ai,xn),ai.prototype.Cu=function(t){return t&&0!==t.reshapingBehavior.value?t.reshapingBehavior:ri},ai.prototype.Wl=function(t,e){t.reshapingBehavior=e},ai.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Ih){var e=null;if(t.isSelected&&!this.diagram.isReadOnly){var n=t.path;null!==n&&t.canReshape()&&t.actualBounds.v()&&t.isVisible()&&n.actualBounds.v()&&n.zf()&&(null===(e=t.Hj(this.name))||e.ew!==t.pointsCount||e.yw!==t.resegmentable)&&(null!==(e=this.makeAdornment(n))&&(e.ew=t.pointsCount,e.yw=t.resegmentable,t.Tg(this.name,e)))}null===e&&t.Af(this.name)}},ai.prototype.makeAdornment=function(t){var e=t.part,n=e.pointsCount,i=e.isOrthogonal,a=null;if(null!==e.points&&1<n){(a=new vh).type=cl.Link,n=e.firstPickIndex;var o=e.lastPickIndex,r=i?1:0;if(e.resegmentable&&e.computeCurve()!==ud)for(var s=n+r;s<o-r;s++){var l=this.makeResegmentHandle(t,s);null!==l&&(l.segmentIndex=s,l.segmentFraction=.5,l.fromMaxLinks=999,a.add(l))}for(r=n+1;r<o;r++)if(null!==(s=this.makeHandle(t,r))){if(s.segmentIndex=r,r!==n)if(r===n+1&&i){l=e.i(n);var c=e.i(n+1);Ue.B(l.x,c.x)&&Ue.B(l.y,c.y)&&(c=e.i(n-1)),Ue.B(l.x,c.x)?(this.Wl(s,li),s.cursor="n-resize"):Ue.B(l.y,c.y)&&(this.Wl(s,si),s.cursor="w-resize")}else r===o-1&&i?(l=e.i(o-1),c=e.i(o),Ue.B(l.x,c.x)&&Ue.B(l.y,c.y)&&(l=e.i(o+1)),Ue.B(l.x,c.x)?(this.Wl(s,li),s.cursor="n-resize"):Ue.B(l.y,c.y)&&(this.Wl(s,si),s.cursor="w-resize")):r!==o&&(this.Wl(s,ci),s.cursor="move");a.add(s)}a.adornedObject=t}return a},ai.prototype.makeHandle=function(){var t=this.handleArchetype;return null===t?null:t.copy()},ai.prototype.makeResegmentHandle=function(){var t=this.midHandleArchetype;return null===t?null:t.copy()},ai.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowReshape||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},ai.prototype.doActivate=function(){var t=this.diagram;if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle){var e=this.handle.part.adornedPart;if(e instanceof Ih){if(this.vs=e,t.isMouseCaptured=!0,this.Da(this.name),e.resegmentable&&999===this.handle.fromMaxLinks){var n=e.points.copy(),i=this.getResegmentingPoint();if(n.Cb(this.handle.segmentIndex+1,i),e.isOrthogonal&&n.Cb(this.handle.segmentIndex+1,i),e.points=n,e.Rb(),e.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),null===this.handle)return void this.doDeactivate()}this.jw=e.i(this.handle.segmentIndex),this.xq=e.points.copy(),this.isActive=!0}}},ai.prototype.doDeactivate=function(){this.stopTransaction(),this.vs=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},ai.prototype.stopTransaction=function(){var t=this.diagram,e=xn.prototype.stopTransaction.call(this);return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.Uj(),e},ai.prototype.doCancel=function(){var t=this.adornedLink;null!==t&&(t.points=this.xq),this.stopTool()},ai.prototype.getResegmentingPoint=function(){return this.handle.ia(oe)},ai.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeReshape(t.lastInput.documentPoint),this.reshape(t))},ai.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.computeReshape(t.lastInput.documentPoint);if(this.reshape(e),null!==(e=this.adornedLink)&&e.resegmentable){var n=this.handle.segmentIndex,i=e.i(n-1),a=e.i(n),o=e.i(n+1);if(e.isOrthogonal){if(n>e.firstPickIndex+1&&n<e.lastPickIndex-1){var r=e.i(n-2);if(Math.abs(i.x-a.x)<this.resegmentingDistance&&Math.abs(i.y-a.y)<this.resegmentingDistance&&(oi(this,r,i,a,o,!0)||oi(this,r,i,a,o,!1))){var s=e.points.copy();oi(this,r,i,a,o,!0)?(s.Vc(n-2,new gt(r.x,(o.y+r.y)/2)),s.Vc(n+1,new gt(o.x,(o.y+r.y)/2))):(s.Vc(n-2,new gt((o.x+r.x)/2,r.y)),s.Vc(n+1,new gt((o.x+r.x)/2,o.y))),s.mb(n),s.mb(n-1),e.points=s,e.Rb()}else r=e.i(n+2),Math.abs(a.x-o.x)<this.resegmentingDistance&&Math.abs(a.y-o.y)<this.resegmentingDistance&&(oi(this,i,a,o,r,!0)||oi(this,i,a,o,r,!1))&&(s=e.points.copy(),oi(this,i,a,o,r,!0)?(s.Vc(n-1,new gt(i.x,(i.y+r.y)/2)),s.Vc(n+2,new gt(r.x,(i.y+r.y)/2))):(s.Vc(n-1,new gt((i.x+r.x)/2,i.y)),s.Vc(n+2,new gt((i.x+r.x)/2,r.y))),s.mb(n+1),s.mb(n),e.points=s,e.Rb())}}else r=gt.alloc(),Ue.fh(i.x,i.y,o.x,o.y,a.x,a.y,r)&&r.rf(a)<this.resegmentingDistance*this.resegmentingDistance&&((i=e.points.copy()).mb(n),e.points=i,e.Rb()),gt.free(r)}t.Va(),this.transactionResult=this.name,t.P("LinkReshaped",this.adornedLink,this.xq)}this.stopTool()},ai.prototype.reshape=function(t){var e=this.adornedLink;e.jh();var n=this.handle.segmentIndex,i=this.Cu(this.handle);if(e.isOrthogonal)if(n===e.firstPickIndex+1)n=e.firstPickIndex+1,i===li?(e.M(n,e.i(n-1).x,t.y),e.M(n+1,e.i(n+2).x,t.y)):i===si&&(e.M(n,t.x,e.i(n-1).y),e.M(n+1,t.x,e.i(n+2).y));else if(n===e.lastPickIndex-1)n=e.lastPickIndex-1,i===li?(e.M(n-1,e.i(n-2).x,t.y),e.M(n,e.i(n+1).x,t.y)):i===si&&(e.M(n-1,t.x,e.i(n-2).y),e.M(n,t.x,e.i(n+1).y));else{i=n;var a=e.i(i),o=e.i(i-1),r=e.i(i+1);Ue.B(o.x,a.x)&&Ue.B(a.y,r.y)?(Ue.B(o.x,e.i(i-2).x)&&!Ue.B(o.y,e.i(i-2).y)?(e.l(i,t.x,o.y),n++,i++):e.M(i-1,t.x,o.y),Ue.B(r.y,e.i(i+2).y)&&!Ue.B(r.x,e.i(i+2).x)?e.l(i+1,r.x,t.y):e.M(i+1,r.x,t.y)):Ue.B(o.y,a.y)&&Ue.B(a.x,r.x)?(Ue.B(o.y,e.i(i-2).y)&&!Ue.B(o.x,e.i(i-2).x)?(e.l(i,o.x,t.y),n++,i++):e.M(i-1,o.x,t.y),Ue.B(r.x,e.i(i+2).x)&&!Ue.B(r.y,e.i(i+2).y)?e.l(i+1,t.x,r.y):e.M(i+1,t.x,r.y)):Ue.B(o.x,a.x)&&Ue.B(a.x,r.x)?(Ue.B(o.x,e.i(i-2).x)&&!Ue.B(o.y,e.i(i-2).y)?(e.l(i,t.x,o.y),n++,i++):e.M(i-1,t.x,o.y),Ue.B(r.x,e.i(i+2).x)&&!Ue.B(r.y,e.i(i+2).y)?e.l(i+1,t.x,r.y):e.M(i+1,t.x,r.y)):Ue.B(o.y,a.y)&&Ue.B(a.y,r.y)&&(Ue.B(o.y,e.i(i-2).y)&&!Ue.B(o.x,e.i(i-2).x)?(e.l(i,o.x,t.y),n++,i++):e.M(i-1,o.x,t.y),Ue.B(r.y,e.i(i+2).y)&&!Ue.B(r.x,e.i(i+2).x)?e.l(i+1,r.x,t.y):e.M(i+1,r.x,t.y)),e.M(n,t.x,t.y)}else e.M(n,t.x,t.y),i=e.fromNode,a=e.fromPort,null!==i&&(null!==(o=i.findVisibleNode())&&o!==i&&(a=(i=o).port)),1===n&&e.computeSpot(!0,a).Fc()&&(o=a.ia(oe,gt.alloc()),i=e.getLinkPointFromPoint(i,a,o,t,!0,gt.alloc()),e.M(0,i.x,i.y),gt.free(o),gt.free(i)),i=e.toNode,a=e.toPort,null!==i&&(null!==(o=i.findVisibleNode())&&o!==i&&(a=(i=o).port)),n===e.pointsCount-2&&e.computeSpot(!1,a).Fc()&&(n=a.ia(oe,gt.alloc()),t=e.getLinkPointFromPoint(i,a,n,t,!1,gt.alloc()),e.M(e.pointsCount-1,t.x,t.y),gt.free(n),gt.free(t));e.pf()},ai.prototype.computeReshape=function(t){var e=this.adornedLink,n=this.handle.segmentIndex;switch(this.Cu(this.handle)){case ci:return t;case li:return new gt(e.i(n).x,t.y);case si:return new gt(t.x,e.i(n).y);default:case ri:return e.i(n)}},u.Object.defineProperties(ai.prototype,{handleArchetype:{get:function(){return this.m},set:function(t){this.m=t}},midHandleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.j},set:function(t){if(null!==t&&!(t.part instanceof vh))throw Error("new handle is not in an Adornment: "+t);this.j=t}},adornedLink:{get:function(){return this.vs}},resegmentingDistance:{get:function(){return this.F},set:function(t){this.F=t}},originalPoint:{get:function(){return this.jw}},originalPoints:{get:function(){return this.xq}}}),ai.prototype.setReshapingBehavior=ai.prototype.Wl,ai.prototype.getReshapingBehavior=ai.prototype.Cu;var ri=new H(ai,"None",0),si=new H(ai,"Horizontal",1),li=new H(ai,"Vertical",2),ci=new H(ai,"All",3);function hi(){xn.call(this),this.name="Resizing",this.m=new Et(1,1).freeze(),this.j=new Et(9999,9999).freeze(),this.pg=new Et(NaN,NaN).freeze(),this.W=!1,this.ga=!0,this.me=null;var t=new Gl;t.alignmentFocus=oe,t.figure="Rectangle",t.desiredSize=Mt,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.F=t,this.u=null,this.wq=new gt,this.hw=new Et,this.An=new gt,this.Us=new Et(0,0),this.Ts=new Et(1/0,1/0),this.Ss=new Et(1,1)}function di(){xn.call(this),this.name="Rotating",this.ga=45,this.W=2,this.An=new gt,this.me=null;var t=new Gl;t.figure="Ellipse",t.desiredSize=_t,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.m=t,this.j=null,this.gw=0,this.Jq=new gt(NaN,NaN),this.u=0,this.F=50}function ui(){xn.call(this),this.name="ClickSelecting"}function fi(){xn.call(this),this.name="Action",this.bk=null}function pi(){xn.call(this),this.name="ClickCreating",this.Li=null,this.m=!0,this.j=!1,this.Rv=new gt(0,0)}function gi(){xn.call(this),this.name="DragSelecting",this.vk=175,this.m=!1;var t=new $c;t.layerName="Tool",t.selectable=!1;var e=new Gl;e.name="SHAPE",e.figure="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.j=t}function mi(){xn.call(this),this.name="Panning",this.Ct=new gt,this.ey=new gt,this.og=!1;var t=this;this.ow=function(){var e=t.diagram;null!==e&&e.removeEventListener(m.document,"scroll",t.ow,!1),t.stopTool()}}function yi(){this.F=this.u=this.j=this.m=null}function vi(t,e,n){this.text=t,this.Kw=e,this.visible=n}function wi(){xn.call(this),this.name="ContextMenu",this.m=this.Js=this.j=null,this.cw=new gt,this.Ls=null,this.gt=!1;var t=this;this.Zt=function(){t.stopTool()}}function xi(t){return t.preventDefault(),!1}function bi(t){var e=t.diagram;if(t.isActive){var n=t.currentContextMenu;if(null!==n){if(!(n instanceof yi)){var i=e.ec(e.lastInput.documentPoint,null,null);null!==i&&i.jg(n)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.currentTool=t,t.doMouseUp())}}else t.canStart()&&(Si(t,!0),t.isActive||t.stopTool())}function Si(t,e,n){if(void 0===n&&(n=null),!t.gt&&(t.gt=!0,e&&t.standardMouseSelect(),e=t.standardMouseClick(),t.gt=!1,!e)){if(t.isActive=!0,e=ki,null===n&&(n=t.findObjectWithContextMenu()),null!==n){var i=n.contextMenu;null!==i?(t.currentObject=n instanceof Tr?n:null,t.showContextMenu(i,t.currentObject)):null!==e&&t.showContextMenu(e,t.currentObject)}else null!==e&&t.showContextMenu(e,null);t.currentContextMenu instanceof vh&&!t.currentContextMenu.visible&&t.stopTool()}}ai.className="LinkReshapingTool",ai.None=ri,ai.Horizontal=si,ai.Vertical=li,ai.All=ci,j("linkReshapingTool",(function(){return this.findTool("LinkReshaping")}),(function(t){this.gb("LinkReshaping",t,this.mouseDownTools)})),d(hi,xn),hi.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Ih)){if(t.isSelected&&!this.diagram.isReadOnly){var e=t.resizeObject,n=t.Hj(this.name);if(null!==e&&t.canResize()&&t.actualBounds.v()&&t.isVisible()&&e.actualBounds.v()&&e.zf()&&(null!==n&&n.adornedObject===e||(n=this.makeAdornment(e)),null!==n))return e=e.fi(),fh(t)&&this.updateResizeHandles(n,e),void t.Tg(this.name,n)}t.Af(this.name)}},hi.prototype.makeAdornment=function(t){var e=t.part.resizeAdornmentTemplate;if(null===e){(e=new vh).type=cl.Spot,e.locationSpot=oe;var n=new Rh;n.isPanelMain=!0,e.add(n),e.add(this.makeHandle(t,ee)),e.add(this.makeHandle(t,ie)),e.add(this.makeHandle(t,ce)),e.add(this.makeHandle(t,se)),e.add(this.makeHandle(t,Ae)),e.add(this.makeHandle(t,Ce)),e.add(this.makeHandle(t,Ne)),e.add(this.makeHandle(t,Ee))}else if(Pl(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},hi.prototype.makeHandle=function(t,e){return null===(t=this.handleArchetype)?null:((t=t.copy()).alignment=e,t)},hi.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.Sb()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var n=t.alignment;if(n.Fc()&&(n=oe),0>=n.x)e=0>=n.y?e+225:1<=n.y?e+135:e+180;else if(1<=n.x)0>=n.y?e+=315:1<=n.y&&(e+=45);else if(0>=n.y)e+=270;else{if(!(1<=n.y))break t;e+=90}0>e?e+=360:360<=e&&(e-=360),t.cursor=22.5>e?"e-resize":67.5>e?"se-resize":112.5>e?"s-resize":157.5>e?"sw-resize":202.5>e?"w-resize":247.5>e?"nw-resize":292.5>e?"n-resize":337.5>e?"ne-resize":"e-resize"}else if(t instanceof cl)for(t=t.elements;t.next();)this.updateResizeHandles(t.value,e)},hi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowResize||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},hi.prototype.doActivate=function(){var t=this.diagram;null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle&&(this.adornedObject=this.handle.part.adornedObject,null!==this.adornedObject&&(t.isMouseCaptured=!0,t.animationManager.wc(),this.Da(this.name),this.wq.set(this.adornedObject.ia(this.handle.alignment.Pu())),this.An.set(this.adornedObject.part.location),this.hw.set(this.adornedObject.desiredSize),this.Ss=this.computeCellSize(),this.Us=this.computeMinSize(),this.Ts=this.computeMaxSize(),this.isActive=!0))},hi.prototype.doDeactivate=function(){var t=this.diagram;this.stopTransaction(),this.me=this.handle=null,this.isActive=t.isMouseCaptured=!1},hi.prototype.stopTransaction=function(){var t=this.diagram,e=xn.prototype.stopTransaction.call(this);return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.Uj(),e},hi.prototype.doCancel=function(){null!==this.adornedObject&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},hi.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive){var e=this.Us,n=this.Ts,i=this.Ss,a=this.adornedObject.Or(t.lastInput.documentPoint,gt.alloc()),o=this.computeReshape();e=this.computeResize(a,this.handle.alignment,e,n,i,o),this.resize(e),t.nd(),gt.free(a)}},hi.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.Us,n=this.Ts,i=this.Ss,a=this.adornedObject.Or(t.lastInput.documentPoint,gt.alloc()),o=this.computeReshape();e=this.computeResize(a,this.handle.alignment,e,n,i,o),this.resize(e),gt.free(a),t.Va(),this.transactionResult=this.name,t.P("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},hi.prototype.resize=function(t){var e=this.diagram,n=this.adornedObject;if(null!==n){if(n.desiredSize=t.size,(t=n.part).Za(),n=n.ia(this.handle.alignment.Pu()),t instanceof jh){var i=new $;if(i.add(t),!this.dragsMembers&&null===t.placeholder){var a=new wr;a.dragsMembers=!1}e.moveParts(i,this.oppositePoint.copy().je(n),!0,a)}else t.location=t.location.copy().je(n).add(this.oppositePoint);e.nd()}},hi.prototype.computeResize=function(t,e,n,i,a,o){e.Fc()&&(e=oe);var r=this.adornedObject.naturalBounds,s=r.x,l=r.y,c=r.x+r.width,h=r.y+r.height,d=1;if(!o){d=r.width;var u=r.height;0>=d&&(d=1),0>=u&&(u=1),d=u/d}return u=gt.alloc(),Ue.so(t.x,t.y,s,l,a.width,a.height,u),t=r.copy(),0>=e.x?0>=e.y?(t.x=Math.max(u.x,c-i.width),t.x=Math.min(t.x,c-n.width),t.width=Math.max(c-t.x,n.width),t.y=Math.max(u.y,h-i.height),t.y=Math.min(t.y,h-n.height),t.height=Math.max(h-t.y,n.height),o||(1<=t.height/t.width?(t.height=Math.max(Math.min(d*t.width,i.height),n.height),t.width=t.height/d):(t.width=Math.max(Math.min(t.height/d,i.width),n.width),t.height=d*t.width),t.x=c-t.width,t.y=h-t.height)):1<=e.y?(t.x=Math.max(u.x,c-i.width),t.x=Math.min(t.x,c-n.width),t.width=Math.max(c-t.x,n.width),t.height=Math.max(Math.min(u.y-l,i.height),n.height),o||(1<=t.height/t.width?(t.height=Math.max(Math.min(d*t.width,i.height),n.height),t.width=t.height/d):(t.width=Math.max(Math.min(t.height/d,i.width),n.width),t.height=d*t.width),t.x=c-t.width)):(t.x=Math.max(u.x,c-i.width),t.x=Math.min(t.x,c-n.width),t.width=c-t.x,o||(t.height=Math.max(Math.min(d*t.width,i.height),n.height),t.width=t.height/d,t.y=l+.5*(h-l-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(u.x-s,i.width),n.width),t.y=Math.max(u.y,h-i.height),t.y=Math.min(t.y,h-n.height),t.height=Math.max(h-t.y,n.height),o||(1<=t.height/t.width?(t.height=Math.max(Math.min(d*t.width,i.height),n.height),t.width=t.height/d):(t.width=Math.max(Math.min(t.height/d,i.width),n.width),t.height=d*t.width),t.y=h-t.height)):1<=e.y?(t.width=Math.max(Math.min(u.x-s,i.width),n.width),t.height=Math.max(Math.min(u.y-l,i.height),n.height),o||(1<=t.height/t.width?(t.height=Math.max(Math.min(d*t.width,i.height),n.height),t.width=t.height/d):(t.width=Math.max(Math.min(t.height/d,i.width),n.width),t.height=d*t.width))):(t.width=Math.max(Math.min(u.x-s,i.width),n.width),o||(t.height=Math.max(Math.min(d*t.width,i.height),n.height),t.width=t.height/d,t.y=l+.5*(h-l-t.height))):0>=e.y?(t.y=Math.max(u.y,h-i.height),t.y=Math.min(t.y,h-n.height),t.height=h-t.y,o||(t.width=Math.max(Math.min(t.height/d,i.width),n.width),t.height=d*t.width,t.x=s+.5*(c-s-t.width))):1<=e.y&&(t.height=Math.max(Math.min(u.y-l,i.height),n.height),o||(t.width=Math.max(Math.min(t.height/d,i.width),n.width),t.height=d*t.width,t.x=s+.5*(c-s-t.width))),gt.free(u),t},hi.prototype.computeReshape=function(){var t=lr;return this.adornedObject instanceof Gl&&(t=ql(this.adornedObject)),!(t===cr||this.diagram.lastInput.shift)},hi.prototype.computeMinSize=function(){var t=this.adornedObject.minSize.copy(),e=this.minSize;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},hi.prototype.computeMaxSize=function(){var t=this.adornedObject.maxSize.copy(),e=this.maxSize;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},hi.prototype.computeCellSize=function(){var t=new Et(NaN,NaN),e=this.adornedObject.part;return null!==e&&(e=e.resizeCellSize,!isNaN(e.width)&&0<e.width&&(t.width=e.width),!isNaN(e.height)&&0<e.height&&(t.height=e.height)),e=this.cellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height),e=this.diagram,(isNaN(t.width)||isNaN(t.height))&&e&&(null!==(e=e.grid)&&e.visible&&this.isGridSnapEnabled&&(e=e.gridCellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height))),(isNaN(t.width)||0===t.width||1/0===t.width)&&(t.width=1),(isNaN(t.height)||0===t.height||1/0===t.height)&&(t.height=1),t},u.Object.defineProperties(hi.prototype,{handleArchetype:{get:function(){return this.F},set:function(t){this.F=t}},handle:{get:function(){return this.u},set:function(t){if(null!==t&&!(t.part instanceof vh))throw Error("new handle is not in an Adornment: "+t);this.u=t}},adornedObject:{get:function(){return this.me},set:function(t){if(null!==t&&t.part instanceof vh)throw Error("new handle must not be in an Adornment: "+t);this.me=t}},minSize:{get:function(){return this.m},set:function(t){if(!this.m.C(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.m.h(e,t)}}},maxSize:{get:function(){return this.j},set:function(t){if(!this.j.C(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.j.h(e,t)}}},cellSize:{get:function(){return this.pg},set:function(t){this.pg.C(t)||this.pg.assign(t)}},isGridSnapEnabled:{get:function(){return this.W},set:function(t){this.W=t}},dragsMembers:{get:function(){return this.ga},set:function(t){this.ga=t}},oppositePoint:{get:function(){return this.wq},set:function(t){this.wq.C(t)||this.wq.assign(t)}},originalDesiredSize:{get:function(){return this.hw}},originalLocation:{get:function(){return this.An}}}),hi.className="ResizingTool",j("resizingTool",(function(){return this.findTool("Resizing")}),(function(t){this.gb("Resizing",t,this.mouseDownTools)})),d(di,xn),di.prototype.updateAdornments=function(t){if(null!==t){if(t.eh()){var e=t.rotateObject;if(e===t||e===t.path||e.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly&&(null!==(e=t.rotateObject)&&t.canRotate()&&t.actualBounds.v()&&t.isVisible()&&e.actualBounds.v()&&e.zf())){var n=t.Hj(this.name);if(null!==n&&n.adornedObject===e||(n=this.makeAdornment(e)),null!==n)return n.angle=e.fi(),null===n.placeholder&&(n.location=this.computeAdornmentLocation(e)),void t.Tg(this.name,n)}t.Af(this.name)}},di.prototype.makeAdornment=function(t){var e=t.part.rotateAdornmentTemplate;if(null===e){(e=new vh).type=cl.Position,e.locationSpot=oe;var n=this.handleArchetype;null!==n&&e.add(n.copy())}else if(Pl(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},di.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowRotate||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},di.prototype.doActivate=function(){var t=this.diagram;if(null===this.adornedObject){if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null===this.handle)return;this.adornedObject=this.handle.part.adornedObject}null!==this.adornedObject&&(t.isMouseCaptured=!0,t.delaysLayout=!0,this.Da(this.name),this.gw=this.adornedObject.angle,this.Jq=this.computeRotationPoint(this.adornedObject),this.An=this.adornedObject.part.location.copy(),this.isActive=!0)},di.prototype.computeRotationPoint=function(t){var e=t.part,n=e.locationObject;return e.rotationSpot.pb()?t.ia(e.rotationSpot):t===e||t===n?n.ia(e.locationSpot):t.ia(oe)},di.prototype.computeAdornmentLocation=function(t){var e=this.rotationPoint;e.v()||(e=this.computeRotationPoint(t)),e=t.Or(e);var n=this.handleAngle;0>n?n+=360:360<=n&&(n-=360),n=Math.round(45*Math.round(n/45));var i=this.handleDistance;return 0===n?e.x=t.naturalBounds.width+i:45===n?(e.x=t.naturalBounds.width+i,e.y=t.naturalBounds.height+i):90===n?e.y=t.naturalBounds.height+i:135===n?(e.x=-i,e.y=t.naturalBounds.height+i):180===n?e.x=-i:225===n?(e.x=-i,e.y=-i):270===n?e.y=-i:315===n&&(e.x=t.naturalBounds.width+i,e.y=-i),t.ia(e)},di.prototype.doDeactivate=function(){var t=this.diagram;this.stopTransaction(),this.me=this.handle=null,this.Jq=new gt(NaN,NaN),this.isActive=t.isMouseCaptured=!1},di.prototype.stopTransaction=function(){var t=this.diagram,e=xn.prototype.stopTransaction.call(this);return e&&null!==t.undoManager.transactionToUndo&&t.undoManager.transactionToUndo.Uj(),e},di.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},di.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeRotate(t.lastInput.documentPoint),this.rotate(t))},di.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){t.delaysLayout=!1;var e=this.computeRotate(t.lastInput.documentPoint);this.rotate(e),t.Va(),this.transactionResult=this.name,t.P("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},di.prototype.rotate=function(t){var e=this.adornedObject;if(null!==e){e.angle=t,(e=e.part).Za();var n=e.locationObject,i=e.rotateObject;(n===i||n.jg(i))&&(n=this.An.copy(),e.location=n.je(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint)),this.diagram.nd()}},di.prototype.computeRotate=function(t){t=this.rotationPoint.Ya(t)-this.handleAngle;var e=this.adornedObject.panel;null!==e&&(t-=e.fi()),360<=t?t-=360:0>t&&(t+=360),e=Math.min(Math.abs(this.snapAngleMultiple),180);var n=Math.min(Math.abs(this.snapAngleEpsilon),e/2);return!this.diagram.lastInput.shift&&0<e&&0<n&&(t%e<n?t=Math.floor(t/e)*e:t%e>e-n&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},u.Object.defineProperties(di.prototype,{handleArchetype:{get:function(){return this.m},set:function(t){this.m=t}},handle:{get:function(){return this.j},set:function(t){if(null!==t&&!(t.part instanceof vh))throw Error("new handle is not in an Adornment: "+t);this.j=t}},adornedObject:{get:function(){return this.me},set:function(t){if(null!==t&&t.part instanceof vh)throw Error("new handle must not be in an Adornment: "+t);this.me=t}},snapAngleMultiple:{get:function(){return this.ga},set:function(t){this.ga=t}},snapAngleEpsilon:{get:function(){return this.W},set:function(t){this.W=t}},originalAngle:{get:function(){return this.gw}},rotationPoint:{get:function(){return this.Jq},set:function(t){this.Jq=t.copy()}},handleAngle:{get:function(){return this.u},set:function(t){this.u=t}},handleDistance:{get:function(){return this.F},set:function(t){this.F=t}}}),di.className="RotatingTool",j("rotatingTool",(function(){return this.findTool("Rotating")}),(function(t){this.gb("Rotating",t,this.mouseDownTools)})),d(ui,xn),ui.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},ui.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},ui.className="ClickSelectingTool",d(fi,xn),fi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram,e=t.lastInput,n=t.ec(e.documentPoint,(function(t){for(;null!==t.panel&&!t.isActionable;)t=t.panel;return t}));return null!==n&&(!!n.isActionable&&(this.bk=n,t.pk=t.ec(e.documentPoint,null,null),!0))},fi.prototype.doMouseDown=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.bk;null!==e&&(t.targetObject=e,null!==e.actionDown&&e.actionDown(t,e))}else this.canStart()&&this.doActivate()},fi.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.bk;null!==e&&(t.targetObject=e,null!==e.actionMove&&e.actionMove(t,e))}},fi.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.bk;if(null===e)return;t.targetObject=e,null!==e.actionUp&&e.actionUp(t,e),this.standardMouseClick((function(t){for(;null!==t.panel&&(!t.isActionable||t!==e);)t=t.panel;return t}),(function(t){return t===e}))}this.stopTool()},fi.prototype.doCancel=function(){var t=this.diagram.lastInput,e=this.bk;null!==e&&(t.targetObject=e,null!==e.actionCancel&&e.actionCancel(t,e),this.stopTool())},fi.prototype.doStop=function(){this.bk=null},fi.className="ActionTool",d(pi,xn),pi.prototype.canStart=function(){if(!this.isEnabled||null===this.archetypeNodeData)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(1===t.lastInput.clickCount&&(this.Rv=t.lastInput.viewPoint.copy()),2!==t.lastInput.clickCount||this.isBeyondDragSize(this.Rv))return!1}else if(1!==t.lastInput.clickCount)return!1;return t.currentTool===this||null===t.vl(t.lastInput.documentPoint,!0)},pi.prototype.doMouseUp=function(){var t=this.diagram;this.isActive&&this.insertPart(t.lastInput.documentPoint),this.stopTool()},pi.prototype.insertPart=function(t){var e=this.diagram,n=this.archetypeNodeData;if(null===n)return null;var i=null;try{if(e.P("ChangingSelection",e.selection),this.Da(this.name),n instanceof $c)n.Tc()&&(Pl(n),null!==(i=n.copy())&&e.add(i));else if(null!==n){var a=e.model.copyNodeData(n);M(a)&&(e.model.lf(a),i=e.Ec(a))}if(null!==i){var o=gt.allocAt(t.x,t.y);this.isGridSnapEnabled&&so(this.diagram,i,t,o),i.location=o,e.allowSelect&&(e.clearSelection(!0),i.isSelected=!0),gt.free(o)}e.Va(),this.transactionResult=this.name,e.P("PartCreated",i)}finally{this.stopTransaction(),e.P("ChangedSelection",e.selection)}return i},u.Object.defineProperties(pi.prototype,{archetypeNodeData:{get:function(){return this.Li},set:function(t){this.Li=t}},isDoubleClick:{get:function(){return this.m},set:function(t){this.m=t}},isGridSnapEnabled:{get:function(){return this.j},set:function(t){this.j=t}}}),pi.className="ClickCreatingTool",d(gi,xn),gi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.timestamp-t.firstInput.timestamp<this.delay||null!==t.vl(e.documentPoint,!0)))},gi.prototype.doActivate=function(){var t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,t.add(this.box),this.doMouseMove()},gi.prototype.doDeactivate=function(){var t=this.diagram;t.lg(),t.remove(this.box),t.skipsUndoManager=!1,this.isActive=t.isMouseCaptured=!1},gi.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive&&null!==this.box){var e=this.computeBoxBounds(),n=this.box.fb("SHAPE");null===n&&(n=this.box.vb());var i=Et.alloc().h(e.width,e.height);n.desiredSize=i,this.box.Ul(e.x,e.y,!1),Et.free(i),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.Gr(t.lastInput.viewPoint)}},gi.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;t.remove(this.box);try{t.currentCursor="wait",t.P("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.P("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()},gi.prototype.computeBoxBounds=function(){var t=this.diagram;return new jt(t.firstInput.documentPoint,t.lastInput.documentPoint)},gi.prototype.selectInRect=function(t){var e=this.diagram,n=e.lastInput;if(t=e.Ww(t,this.isPartialInclusion),I?n.meta:n.control)if(n.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected&&(e.isSelected=!1);else for(t=t.iterator;t.next();)(e=t.value).isSelected=!e.isSelected;else if(n.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0);else{for(n=new $,e=e.selection.iterator;e.next();){var i=e.value;t.contains(i)||n.add(i)}for(e=n.iterator;e.next();)e.value.isSelected=!1;for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0)}},u.Object.defineProperties(gi.prototype,{delay:{get:function(){return this.vk},set:function(t){this.vk=t}},isPartialInclusion:{get:function(){return this.m},set:function(t){this.m=t}},box:{get:function(){return this.j},set:function(t){this.j=t}}}),gi.className="DragSelectingTool",d(mi,xn),mi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())},mi.prototype.doActivate=function(){var t=this.diagram;this.og?(t.lastInput.bubbles=!0,t.addEventListener(m.document,"scroll",this.ow,!1)):(t.currentCursor="move",t.isMouseCaptured=!0,this.Ct.assign(t.position)),this.isActive=!0},mi.prototype.doDeactivate=function(){var t=this.diagram;t.currentCursor="",this.isActive=t.isMouseCaptured=!1},mi.prototype.doCancel=function(){var t=this.diagram;t.position=this.Ct,t.isMouseCaptured=!1,this.stopTool()},mi.prototype.doMouseMove=function(){this.move()},mi.prototype.doMouseUp=function(){this.move(),this.stopTool()},mi.prototype.move=function(){var t=this.diagram;if(this.isActive&&t)if(this.og)t.lastInput.bubbles=!0;else{var e=t.position,n=t.firstInput.documentPoint,i=t.lastInput.documentPoint,a=e.x+n.x-i.x;n=e.y+n.y-i.y,t.allowHorizontalScroll||(a=e.x),t.allowVerticalScroll||(n=e.y),t.position=this.ey.h(a,n)}},u.Object.defineProperties(mi.prototype,{bubbles:{get:function(){return this.og},set:function(t){this.og=t}},originalPosition:{get:function(){return this.Ct}}}),mi.className="PanningTool",j("clickCreatingTool",(function(){return this.findTool("ClickCreating")}),(function(t){this.gb("ClickCreating",t,this.mouseUpTools)})),j("clickSelectingTool",(function(){return this.findTool("ClickSelecting")}),(function(t){this.gb("ClickSelecting",t,this.mouseUpTools)})),j("panningTool",(function(){return this.findTool("Panning")}),(function(t){this.gb("Panning",t,this.mouseMoveTools)})),j("dragSelectingTool",(function(){return this.findTool("DragSelecting")}),(function(t){this.gb("DragSelecting",t,this.mouseMoveTools)})),j("actionTool",(function(){return this.findTool("Action")}),(function(t){this.gb("Action",t,this.mouseDownTools)})),u.Object.defineProperties(yi.prototype,{mainElement:{get:function(){return this.u},set:function(t){this.u=t}},show:{get:function(){return this.m},set:function(t){this.m!==t&&(this.m=t)}},hide:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}},valueFunction:{get:function(){return this.F},set:function(t){this.F=t}}}),yi.className="HTMLInfo",vi.className="ContextMenuButtonInfo",d(wi,xn),wi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(this.isBeyondDragSize()||!t.lastInput.right||1<t.lastInput.clickCount)&&!!(t.lastInput.isTouchEvent&&null!==this.defaultTouchContextMenu||null!==this.findObjectWithContextMenu())},wi.prototype.doStart=function(){this.cw.set(this.diagram.firstInput.documentPoint)},wi.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},wi.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.diagram,n=e.lastInput,i=null;if(t instanceof ka||(i=t instanceof Tr?t:e.ec(n.documentPoint,null,(function(t){return!t.layer.isTemporary}))),null!==i){for(t=i;null!==t;){if(null!==t.contextMenu)return t;t=t.panel}if(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return i.part}else if(null!==e.contextMenu)return e;return null},wi.prototype.doActivate=function(){},wi.prototype.doMouseDown=function(){if(xn.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof vh){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&bi(this)},wi.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof vh){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}bi(this)},wi.prototype.doMouseMove=function(){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},wi.prototype.showContextMenu=function(t,e){var n=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof vh){t.layerName="Tool",t.selectable=!1,t.scale=1/n.scale,t.category=this.name,null!==t.placeholder&&(t.placeholder.scale=n.scale);var i=t.diagram;null!==i&&i!==n&&i.remove(t),n.add(t),null!==e?t.adornedObject=e:t.data=n.model,t.Za(),this.positionContextMenu(t,e)}else t instanceof yi&&t.show(e,n,this);this.currentContextMenu=t},wi.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.diagram,n=e.lastInput.documentPoint.copy(),i=t.measuredBounds,a=e.viewportBounds;e.lastInput.isTouchEvent&&(n.x-=i.width),n.x+i.width>a.right&&(n.x-=i.width+5/e.scale),n.x<a.x&&(n.x=a.x),n.y+i.height>a.bottom&&(n.y-=i.height+5/e.scale),n.y<a.y&&(n.y=a.y),t.position=n}},wi.prototype.hideContextMenu=function(){var t=this.diagram,e=this.currentContextMenu;null!==e&&(e instanceof vh?(t.remove(e),null!==this.Js&&this.Js.Af(e.category),e.data=null,e.adornedObject=null):e instanceof yi&&(null!==e.hide?e.hide(t,this):null!==e.mainElement&&(e.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())},wi.prototype.showDefaultContextMenu=function(){var t=this.diagram;null===this.Ls&&(this.Ls=function(t){var e=new $;return e.add(new vi("Copy",(function(t){t.commandHandler.copySelection()}),(function(t){return t.commandHandler.canCopySelection()}))),e.add(new vi("Cut",(function(t){t.commandHandler.cutSelection()}),(function(t){return t.commandHandler.canCutSelection()}))),e.add(new vi("Delete",(function(t){t.commandHandler.deleteSelection()}),(function(t){return t.commandHandler.canDeleteSelection()}))),e.add(new vi("Paste",(function(e){e.commandHandler.pasteSelection(t.mouseDownPoint)}),(function(e){return e.commandHandler.canPasteSelection(t.mouseDownPoint)}))),e.add(new vi("Select All",(function(t){t.commandHandler.selectAll()}),(function(t){return t.commandHandler.canSelectAll()}))),e.add(new vi("Undo",(function(t){t.commandHandler.undo()}),(function(t){return t.commandHandler.canUndo()}))),e.add(new vi("Redo",(function(t){t.commandHandler.redo()}),(function(t){return t.commandHandler.canRedo()}))),e.add(new vi("Scroll To Part",(function(t){t.commandHandler.scrollToPart()}),(function(t){return t.commandHandler.canScrollToPart()}))),e.add(new vi("Zoom To Fit",(function(t){t.commandHandler.zoomToFit()}),(function(t){return t.commandHandler.canZoomToFit()}))),e.add(new vi("Reset Zoom",(function(t){t.commandHandler.resetZoom()}),(function(t){return t.commandHandler.canResetZoom()}))),e.add(new vi("Group Selection",(function(t){t.commandHandler.groupSelection()}),(function(t){return t.commandHandler.canGroupSelection()}))),e.add(new vi("Ungroup Selection",(function(t){t.commandHandler.ungroupSelection()}),(function(t){return t.commandHandler.canUngroupSelection()}))),e.add(new vi("Edit Text",(function(t){t.commandHandler.editTextBlock()}),(function(t){return t.commandHandler.canEditTextBlock()}))),e}(this)),_i.innerHTML="",Mi.addEventListener("pointerdown",this.Zt,!1);var e=this,n=x("ul");n.className="goCXul",_i.appendChild(n),n.innerHTML="";for(var i=this.Ls.iterator;i.next();){var a=i.value,o=a.visible;if("function"==typeof a.Kw&&("function"!=typeof o||o(t))){(o=x("li")).className="goCXli";var r=x("a");r.className="goCXa",r.href="#",r.Qx=a.Kw,r.addEventListener("pointerdown",(function(n){return this.Qx(t),e.stopTool(),n.preventDefault(),!1}),!1),r.textContent=a.text,o.appendChild(r),n.appendChild(o)}}_i.style.display="block",Mi.style.display="block"},wi.prototype.hideDefaultContextMenu=function(){if(null!==this.currentContextMenu&&this.currentContextMenu===ki){_i.style.display="none",Mi.style.display="none";var t=this.diagram;null!==t&&t.removeEventListener(Mi,"pointerdown",this.Zt,!1),this.currentContextMenu=null}},u.Object.defineProperties(wi.prototype,{currentContextMenu:{get:function(){return this.j},set:function(t){this.j=t,this.Js=t instanceof vh?t.adornedPart:null}},defaultTouchContextMenu:{get:function(){return!1===Pi&&null===ki&&jo&&function(t){var e=new yi;e.show=function(t,e,n){n.showDefaultContextMenu()},e.hide=function(t,e){e.hideDefaultContextMenu()},ki=e,t.Zt=function(){t.stopTool()},e=x("div");var n=x("div");e.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",n.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var i=x("style");m.document.getElementsByTagName("head")[0].appendChild(i),i.sheet.insertRule(".goCXul { list-style: none; }",0),i.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),i.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),null!==(i=t.diagram)&&(i.addEventListener(e,"contextmenu",xi,!1),i.addEventListener(e,"selectstart",xi,!1),i.addEventListener(n,"contextmenu",xi,!1)),e.className="goCXforeground",n.className="goCXbackground",m.document.body&&(m.document.body.appendChild(e),m.document.body.appendChild(n)),_i=e,Mi=n,Pi=!0}(this),ki},set:function(t){null===t&&(Pi=!0),ki=t}},currentObject:{get:function(){return this.m},set:function(t){this.m=t}},mouseDownPoint:{get:function(){return this.cw}}});var ki=null,Pi=!1,Mi=null,_i=null;function Li(){xn.call(this),this.name="TextEditing",this.Sh=new ec,this.ga=null,this.W=Bi,this.qj=null,this.na=Di,this.u=1,this.F=!0,this.m=null,this.j=new yi,this.Ms=null,function(t,e){if(jo){var n=x("textarea");t.Ms=n,n.addEventListener("input",(function(){if(null!==t.textBlock){var e=t.qx(this.value);this.style.width=20+e.measuredBounds.width*this.cA+"px",this.rows=e.lineCount}}),!1),n.addEventListener("keydown",(function(e){if(null!==t.textBlock){var n=e.key;"Enter"===n?(!1===t.textBlock.isMultiline&&e.preventDefault(),t.acceptText(Ci)):"Tab"===n?(t.acceptText(Ei),e.preventDefault()):"Escape"===n&&(t.doCancel(),null!==t.diagram&&t.diagram.doFocus())}}),!1),n.addEventListener("focus",(function(){if(null!==t.currentTextEditor&&t.state!==Di){var e=t.Ms;t.na===Fi&&(t.na=Ri),"function"==typeof e.select&&t.selectsTextOnActivate&&(e.select(),e.setSelectionRange(0,9999))}}),!1),n.addEventListener("blur",(function(){if(null!==t.currentTextEditor&&t.state!==Di){var e=t.Ms;"function"==typeof e.focus&&e.focus(),"function"==typeof e.select&&t.selectsTextOnActivate&&(e.select(),e.setSelectionRange(0,9999))}}),!1),e.valueFunction=function(){return n.value},e.mainElement=n,e.show=function(t,e,i){if(t instanceof ec&&i instanceof Li)if(i.state===zi)n.style.border="3px solid red",n.focus();else{var a=t.ia(oe),o=e.position,r=e.scale,s=t.uf()*r;s<i.minimumEditorScale&&(s=i.minimumEditorScale);var l=t.naturalBounds.width*s+6,c=t.naturalBounds.height*s+2,h=(a.x-o.x)*r;a=(a.y-o.y)*r,o=t.verticalAlignment,r=(t.lineHeight+t.spacingAbove+t.spacingBelow)*t.lineCount*s,c=o.y*c-o.y*r+o.offsetY-(.5*c-.5*r)-r/2,n.value=t.text,e.div.style.font=t.font,n.style.position="absolute",n.style.zIndex="100",n.style.font="inherit",n.style.fontSize=100*s+"%",n.style.lineHeight="normal",n.style.width=l+"px",n.style.left=(h-l/2|0)-1+"px",n.style.top=(a+c|0)-1+"px",n.style.textAlign=t.textAlign,n.style.margin="0",n.style.padding="1px",n.style.border="0",n.style.outline="none",n.style.whiteSpace="pre-wrap",n.style.overflow="hidden",n.rows=t.lineCount,n.cA=s,n.className="goTXarea",e.div.appendChild(n),n.focus(),i.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))}},e.hide=function(t){t.div.removeChild(n)}}}(this,this.j)}function Ti(t){var e=t.textBlock,n=t.diagram,i=t.currentTextEditor;if(null!==e&&null!==i){var a=e.text,o="";null!==i.valueFunction&&(o=i.valueFunction()),t.isValidText(e,a,o)?(t.Da(t.name),t.na=Hi,t.transactionResult=t.name,e.text=o,t.doSuccess(a,o),null!==n&&n.P("TextEdited",e,a),t.stopTransaction(),t.stopTool(),null!==n&&n.doFocus()):(t.na=zi,t.doError(a,o))}}wi.className="ContextMenuTool",j("contextMenuTool",(function(){return this.findTool("ContextMenu")}),(function(t){this.gb("ContextMenu",t,this.mouseUpTools)})),d(Li,xn),Li.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||t.isReadOnly||Vi&&Vi!==this&&(Vi.acceptText(Ai),Vi&&Vi!==this)||!t.lastInput.left||this.isBeyondDragSize())return!1;var e=t.ec(t.lastInput.documentPoint);return!!(null!==e&&e instanceof ec&&e.editable&&e.part.canEdit())&&!(null===(e=e.part)||this.starting===Bi&&!e.isSelected||this.starting===ji&&2>t.lastInput.clickCount)},Li.prototype.doStart=function(){Vi=this,null!==this.textBlock&&this.doActivate()},Li.prototype.doActivate=function(){if(!this.isActive){var t=this.diagram;if(null!==t){var e=this.textBlock;if(null===e&&(e=t.ec(t.lastInput.documentPoint)),null!==e&&e instanceof ec&&(this.textBlock=e,null!==e.part)){t.animationManager.wc(),this.isActive=!0,this.na=Fi;var n=this.defaultTextEditor;null!==e.textEditor&&(n=e.textEditor),this.Sh=this.textBlock.copy();var i=new jt(this.textBlock.ia(ee),this.textBlock.ia(ce));t.av(i),n.show(e,t,this),this.currentTextEditor=n}}}},Li.prototype.doCancel=function(){this.stopTool()},Li.prototype.doMouseUp=function(){this.canStart()&&this.doActivate()},Li.prototype.doMouseDown=function(){this.isActive&&this.acceptText(Ai)},Li.prototype.acceptText=function(t){switch(t){case Ai:this.na===Hi?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():this.na!==Fi&&this.na!==zi&&this.na!==Ri||(this.na=Ii,Ti(this));break;case Oi:case Ci:case Ei:Ci===t&&!0===this.textBlock.isMultiline||this.na!==Fi&&this.na!==zi&&this.na!==Ri||(this.na=Ii,Ti(this))}},Li.prototype.doError=function(t,e){var n=this.textBlock;null!==n.errorFunction&&n.errorFunction(this,t,e),(t=this.currentTextEditor)&&t.show(n,this.diagram,this)},Li.prototype.doSuccess=function(t,e){var n=this.textBlock;null!==n.textEdited&&n.textEdited(n,t,e)},Li.prototype.doDeactivate=function(){var t=this.diagram;null!==t&&(this.na=Di,null!==this.currentTextEditor&&this.currentTextEditor.hide(t,this),this.textBlock=null,this.isActive=!1)},Li.prototype.doStop=function(){Vi=null},Li.prototype.isValidText=function(t,e,n){var i=this.textValidation;return!(null!==i&&!i(t,e,n))&&!(null!==(i=t.textValidation)&&!i(t,e,n))},Li.prototype.qx=function(t){var e=this.Sh;return e.text=t,e.measure(this.textBlock.zh,1/0),e},u.Object.defineProperties(Li.prototype,{textBlock:{get:function(){return this.ga},set:function(t){this.ga=t}},currentTextEditor:{get:function(){return this.m},set:function(t){this.m=t}},defaultTextEditor:{get:function(){return this.j},set:function(t){this.j=t}},starting:{get:function(){return this.W},set:function(t){this.W=t}},textValidation:{get:function(){return this.qj},set:function(t){this.qj=t}},minimumEditorScale:{get:function(){return this.u},set:function(t){this.u=t}},selectsTextOnActivate:{get:function(){return this.F},set:function(t){this.F=t}},state:{get:function(){return this.na},set:function(t){this.na!==t&&(this.na=t)}}}),Li.prototype.measureTemporaryTextBlock=Li.prototype.qx;var Oi=new H(Li,"LostFocus",0),Ai=new H(Li,"MouseDown",1),Ei=new H(Li,"Tab",2),Ci=new H(Li,"Enter",3),Ni=new H(Li,"SingleClick",0),Bi=new H(Li,"SingleClickSelected",1),ji=new H(Li,"DoubleClick",2),Di=new H(Li,"StateNone",0),Fi=new H(Li,"StateActive",1),Ri=new H(Li,"StateEditing",2),Ii=new H(Li,"StateValidating",3),zi=new H(Li,"StateInvalid",4),Hi=new H(Li,"StateValidated",5),Vi=null;function Gi(t){ea||(Qi(),ea=!0),this.H=ma,this.Ck=this.zb=this.Xp=this.$b=!1,this.uw=!0,this.Dk=na,this.lm=!1,this.wh=this.Ad=!0,this.ug=600,this.Hv=this.sw=!1,this.Sd=new Q,this.Wd=new oa,this.Wd.Rd=this,this.yi=new Q,this.Vt=new Q,this.rr=new Q,this.cl=new Q,t&&Object.assign(this,t)}function Ui(t,e){t.Ad&&t.canStart(e)&&(t.Sd.add(e),t.defaultAnimation.isAnimating&&t.wc(),Ya(t.H),t.zb=!0)}function Wi(t){if(t.Ad&&t.zb){var e=t.Wd,n=t.H,i=t.Sd.contains("Model");i&&(t.Ck=!0,t.Dk===na?(e.isViewportUnconstrained=!0,e.rc.clear(),e.add(n,"position",n.position.copy().offset(0,-200),n.position),e.add(n,"opacity",0,1)):t.Dk===aa&&e.rc.clear(),t.uw=!(t.Dk!==ia||!n.Jt.C(n.pa)),n.P("InitialAnimationStarting",t)),i&&!t.wh||0===e.rc.count?(t.Sd.clear(),t.zb=!1,e.rc.clear(),ra(e,n),t.Ck=!1,n.N()):(t.Sd.clear(),n.cg=!1,i=e.rc.get(n),n.autoScale!==Ro&&null!==i&&(delete i.start.scale,delete i.end.scale),m.requestAnimationFrame((function(){!1===t.zb||e.$b||(n.Ge("temporaryPixelRatio")&&La(n),Oa(n),t.zb=!1,e.start(),e.$b&&(Xi(t),n.Va(),ha(e,0),qa(n,!0),Ki(t),n.P("AnimationStarting",t)))})))}}function qi(t){return t.Sd.contains("Trigger")&&1===t.Sd.count}function Yi(t,e,n,i){t.isTicking||qi(t)||e instanceof Ih&&(null!==e.fromNode||null!==e.toNode)||t.Wd.add(e,"position",n,i,!1)}function Xi(t){if(!t.Xp){var e=t.H;t.sw=e.skipsUndoManager,t.Hv=e.skipsModelSourceBindings,e.skipsUndoManager=!0,e.skipsModelSourceBindings=!0,t.Xp=!0}}function Ki(t){var e=t.H;e.skipsUndoManager=t.sw,e.skipsModelSourceBindings=t.Hv,t.Xp=!1}function Zi(t,e,n){!t.zb||e.C(n)||qi(t)||(t.H.ji||(e=n.copy()),sa(t.Wd,t.H,"position",e,n))}function $i(t,e){for(e=e.findLinksConnected();e.next();){var n=e.value;n.ef=n.points.copy(),t.cl.add(n)}}function Ji(t,e,n,i,a){null===t&&(t=[0,0,0,0]),null===e&&(e=[0,0,0,0]);var o=t[0],r=t[1],s=t[2];t=t[3];var l=e[0],c=e[1],h=e[2];return e=e[3],0===s||100===s?(o=l,r=c):0!==h&&100!==h||(l=o,c=r),180<Math.abs(l-o)&&(l>o?o+=360:l+=360),"hsla("+(o=a(n,o,l-o,i)%360)+", "+(r=a(n,r,c-r,i))+"%, "+(s=a(n,s,h-s,i))+"%, "+(n=a(n,t,e-t,i))+")"}function Qi(){function t(t,e,n,i,a,o){t.position=new gt(i(a,e.x,n.x-e.x,o),i(a,e.y,n.y-e.y,o))}var e=new pt;e.add("position:diagram",t),e.add("position",t),e.add("position:part",(function(t,e,n,i,a,o){a<o?t.Ul(i(a,e.x,n.x-e.x,o),i(a,e.y,n.y-e.y,o),!1):t.position=new gt(i(a,e.x,n.x-e.x,o),i(a,e.y,n.y-e.y,o))})),e.add("location",(function(t,e,n,i,a,o){a<o?t.Ul(i(a,e.x,n.x-e.x,o),i(a,e.y,n.y-e.y,o),!0):t.location=new gt(i(a,e.x,n.x-e.x,o),i(a,e.y,n.y-e.y,o))})),e.add("position:placeholder",(function(t,e,n,i,a,o){a<o?t.Ul(i(a,e.x,n.x-e.x,o),i(a,e.y,n.y-e.y,o),!1):t.position=new gt(i(a,e.x,n.x-e.x,o),i(a,e.y,n.y-e.y,o))})),e.add("position:nodeCollapse",(function(t,e,n,i,a,o){var r=t.actualBounds,s=n.actualBounds;n=s.x+s.width/2-r.width/2,r=s.y+s.height/2-r.height/2,a<o?t.Ul(i(a,e.x,n-e.x,o),i(a,e.y,r-e.y,o),!1):t.position=new gt(i(a,e.x,n-e.x,o),i(a,e.y,r-e.y,o))})),e.add("desiredSize",(function(t,e,n,i,a,o){t.desiredSize=new jt(i(a,e.width,n.width-e.width,o),i(a,e.height,n.height-e.height,o))})),e.add("width",(function(t,e,n,i,a,o){t.width=i(a,e,n-e,o)})),e.add("height",(function(t,e,n,i,a,o){t.height=i(a,e,n-e,o)})),e.add("fill",(function(t,e,n,i,a,o){t.fill=Ji(e,n,a,o,i)})),e.add("stroke",(function(t,e,n,i,a,o){t.stroke=Ji(e,n,a,o,i)})),e.add("strokeWidth",(function(t,e,n,i,a,o){t.strokeWidth=i(a,e,n-e,o)})),e.add("strokeDashOffset",(function(t,e,n,i,a,o){t.strokeDashOffset=i(a,e,n-e,o)})),e.add("background",(function(t,e,n,i,a,o){t.background=Ji(e,n,a,o,i)})),e.add("areaBackground",(function(t,e,n,i,a,o){t.areaBackground=Ji(e,n,a,o,i)})),e.add("opacity",(function(t,e,n,i,a,o){t.opacity=i(a,e,n-e,o)})),e.add("scale",(function(t,e,n,i,a,o){t.scale=i(a,e,n-e,o)})),e.add("angle",(function(t,e,n,i,a,o){t.angle=i(a,e,n-e,o)})),ta=e}Li.className="TextEditingTool",Li.LostFocus=Oi,Li.MouseDown=Ai,Li.Tab=Ei,Li.Enter=Ci,Li.SingleClick=Ni,Li.SingleClickSelected=Bi,Li.DoubleClick=ji,Li.StateNone=Di,Li.StateActive=Fi,Li.StateEditing=Ri,Li.StateValidating=Ii,Li.StateInvalid=zi,Li.StateValidated=Hi,j("textEditingTool",(function(){return this.findTool("TextEditing")}),(function(t){this.gb("TextEditing",t,this.mouseUpTools)})),Gi.prototype.Le=function(t){this.H=t},Gi.prototype.canStart=function(){return!0},(e=Gi.prototype).fs=function(t){return this.Wd.fs(t)},e.Iu=function(t){return this.Wd.Iu(t)},e.wc=function(t){var e=this.Wd;if(!0===this.zb&&(this.Ck=this.zb=!1,this.Sd.clear(),0<e.rc.count&&this.H.Mb()),this.$b){if(e.tl(!0),e.rc.clear(),ra(e,null),!0===t)for(t=this.yi.Ea(),e=0;e<t.length;e++)t[e].tl(!0)}else e.rc.clear(),ra(e,this.H)},e.tl=function(t){t===this.defaultAnimation&&this.defaultAnimation.rc.clear(),this.yi.remove(t),0===this.yi.count&&(this.$b=!1,this.H.Mb()),t===this.defaultAnimation&&(this.defaultAnimation.rc.clear(),this.H.P("AnimationFinished",this))},e.xj=function(t,e){this.zb&&(this.Sd.contains("Expand Tree")||this.Sd.contains("Expand SubGraph"))&&(this.Wd.xj(t,e),$i(this,t))},e.vj=function(t,e){this.zb&&(this.Sd.contains("Collapse Tree")||this.Sd.contains("Collapse SubGraph"))&&(this.Wd.vj(t,e),sa(this.Wd,e,"position",e.position,e.position),$i(this,t))},u.Object.defineProperties(Gi.prototype,{animationReasons:{get:function(){return this.Sd}},isEnabled:{get:function(){return this.Ad},set:function(t){(this.Ad=t)&&this.yi.each((function(t){t.isAnimating||1/0!==t.runCount||t.start()}))}},duration:{get:function(){return this.ug},set:function(t){1>t&&k(t,">= 1",Gi,"duration"),this.ug=t}},isAnimating:{get:function(){return this.$b}},isTicking:{get:function(){return this.Xp}},isInitial:{get:function(){return this.wh},set:function(t){this.wh=t}},defaultAnimation:{get:function(){return this.Wd}},activeAnimations:{get:function(){return this.yi}},initialAnimationStyle:{get:function(){return this.Dk},set:function(t){this.Dk=t}}}),Gi.prototype.stopAnimation=Gi.prototype.wc;var ta=null,ea=!1,na=new H(Gi,"Default",1),ia=new H(Gi,"AnimateLocations",2),aa=new H(Gi,"None",3);function oa(t){this.au=this.rw=this.Rd=this.H=null,this.Lk=this.$b=this.j=!1,this.Km=this.Gd=0,this.op=this.Rs=da,this.Kk=this.Kn=!1,this.It=1,this.Gt=0,this.yd=this.ug=NaN,this.Lv=0,this.Lm=null,this.m=it,this.rc=new pt,this.yt=new pt,this.ml=new Q,this.zt=new Q,this.Iv=Yo,t&&Object.assign(this,t)}function ra(t,e){if(t.yt.clear(),t.Kk=!1,t.Gt=0,t.yd=NaN,0<t.ml.count&&t.ml.clear(),0<t.zt.count&&t.zt.clear(),null!==e)for(t=e.links;t.next();)t.value.ef=null}function sa(t,e,n,i,a,o){var r=t.rc;if(e instanceof ka&&"position"===n&&(n="position:diagram"),"fill"!==n&&"stroke"!==n&&"background"!==n&&"areaBackground"!==n||(Ps(i),Ms(),i=[Gs.j,Gs.u,Gs.m,Gs.F],Ps(a),Ms(),a=[Gs.j,Gs.u,Gs.m,Gs.F]),r.contains(e)){var s=r.I(e),l=s.start,c=s.end;void 0===l[n]&&(l[n]=la(i)),c[n]=la(a)}else c={},(l={})[n]=la(i),c[n]=la(a),s=l.position,e instanceof Tr&&s instanceof gt&&!s.v()&&e.diagram.animationManager.Sd.contains("Expand SubGraph")&&s.assign(c.position),s=new fa(l,c,o),r.add(e,s);(r=l[n])instanceof gt&&!r.v()&&r.assign(t.m),o&&0===n.indexOf("position:")&&e instanceof $c?s.tu.location=la(e.location):o&&(s.tu[n]=la(i))}function la(t){return t instanceof gt||t instanceof Et?t.copy():t}function ca(t,e){if(!t.Lk||e){var n=t.Rd;if(!1!==t.$b){var i=+new Date,a=i>t.Km?t.yd:i-t.Gd;e&&((a=t.Lv)<t.yd?(t.Gd=+new Date-a,t.Km=t.Gd+t.yd):a=t.yd),Xi(n),ha(t,a),qa(t.H,!0),Ki(n),i>t.Km&&(t.Kn&&!t.Kk?(t.Gd=+new Date,t.Km=t.Gd+t.yd,t.Kk=!0):t.tl(!1))}}}function ha(t,e){for(var n=t.yd,i=t.rc.iterator,a=t.Kk;i.next();){var o=i.key;if(!(o instanceof Tr&&null===o.diagram)){var r=i.value,s=a?r.end:r.start;r=a?r.start:r.end;var l,c=ta;for(l in r)"position"===l&&(r["position:placeholder"]||r["position:nodeCollapse"])||null===c.get(l)||c.get(l)(o,s[l],r[l],t.op,e,n,t)}}}function da(t,e,n,i){return 1>(t/=i/2)?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function ua(t,e,n,i){return t===i?e+n:n*(1-Math.pow(2,-10*t/i))+e}function fa(t,e,n){this.start=t,this.end=e,this.tu={},this.nu=n,this.Vu=!1}function pa(t,e,n){this.sd=null,this.df=t,this.Vn=n||ya,this.gk=null,void 0!==e&&(this.gk=e,void 0===n&&(this.Vn=va))}Gi.className="AnimationManager",Gi.defineAnimationEffect=function(t,e){ea||(Qi(),ea=!0),ta.add(t,e)},Gi.Default=na,Gi.AnimateLocations=ia,Gi.None=aa,oa.prototype.suspend=function(){this.Lk=!0},oa.prototype.advanceTo=function(t,e){e&&(this.Lk=!1),this.Kn&&t>=this.yd&&(this.Kk=!0,t-=this.yd),this.Lv=t,ca(this,!0),Xi(this.Rd),qa(this.H),Ki(this.Rd),this.H.redraw()},(e=oa.prototype).start=function(){if(0===this.rc.count||this.$b)return this;for(var t=this.H,e=this.rc.iterator;e.next();){var n=e.value.end,i=e.key;if(n["position:placeholder"]){var a=i.findVisibleNode();if(a instanceof jh&&null!==a.placeholder){var o=a.placeholder;a=o.ia(ee),o=o.padding,a.x+=o.left,a.y+=o.top,n["position:placeholder"]=a}}null===t&&(i instanceof ka?t=i:i instanceof Tr&&(t=i.diagram))}return null===t?this:(this.H=t,this.Rd=t.animationManager,!1===(e=this.Rd).isEnabled||(this.yd=isNaN(this.ug)?e.duration:this.ug,this.op=this.Rs,e.Ck&&e.Dk===na&&this===e.defaultAnimation&&(this.op=ua,this.yd=isNaN(this.ug)?600===e.duration?900:e.duration:this.ug),this.Iv=t.scrollMode,this.isViewportUnconstrained&&(t.nj=Xo),Xi(e),this.ml.each((function(e){e.data=null,t.add(e)})),Ki(e),this.$b=!0,this.Gd=+new Date,this.Km=this.Gd+this.yd,function(t,e){function n(){if(0<a.rr.count&&(i.addAll(a.rr),a.rr.clear(),a.$b=!0),!1!==a.$b&&0!==i.count){a.Vt.addAll(i);for(var t=a.Vt.iterator;t.next();){var e=t.value;if(!1!==e.$b){t:if(0<e.ml.count)var o=!0;else{for(o=e.rc.iterator;o.next();){var r=o.key;if(r instanceof Tr&&null!==r.diagram||r instanceof ka){o=!0;break t}}o=!1}o?ca(e,!1):e.Lk=!0}}a.Vt.clear(),!1!==a.$b&&(Xi(a),qa(a.H),Ki(a)),m.requestAnimationFrame(n)}}var i=t.yi,a=t;t.$b?t.rr.add(e):(t.$b=!0,i.add(e),m.requestAnimationFrame((function(){n()})))}(e,this)),this)},e.oy=function(t,e){return t.Tc()?(this.ml.add(t),this.H=e,this):this},e.add=function(t,e,n,i,a){if("position"===e&&n.C(i))return this;if(null===this.H&&(t instanceof ka?this.H=t:t instanceof Tr&&null!==t.diagram&&(this.H=t.diagram)),t instanceof $c){if(!t.isAnimated)return this;"position"===e&&(e="position:part")}return sa(this,t,e,n,i,a),this},e.fs=function(t){return!!this.$b&&(null!==(t=this.rc.I(t))&&t.Vu)},e.Iu=function(t){return!!this.$b&&(null!==(t=this.rc.I(t))&&(t.start.position||t.start.location))},e.stop=function(){return this.$b?(this.tl(!0),this):this},e.tl=function(t){if(null!==this.au&&this.au.Mn.remove(this.rw),this.$b){var e=this.H,n=this.Rd;this.Lk=this.$b=n.Ck=!1,Xi(n);for(var i=this.rc,a=this.ml.iterator;a.next();)e.remove(a.value);for(a=this.zt.iterator;a.next();)a.value.w();a=this.Kn,i=i.iterator;for(var o=ta;i.next();){var r,s=i.key,l=i.value,c=a?l.end:l.start,h=a?l.start:l.end,d=l.tu;for(r in h)if(null!==o.get(r)){var u=r;!l.nu||"position:nodeCollapse"!==u&&"position:placeholder"!==u||(u="position"),o.get(u)(s,c[r],void 0!==d[r]?d[r]:l.nu?c[r]:h[r],this.op,this.yd,this.yd,this)}l.nu&&void 0!==d.location&&s instanceof $c&&(s.location=d.location),l.Vu&&s instanceof $c&&s.Ub(!1)}if(e.$r.clear(),Ta(e,!1),e.Va(),e.N(),qa(e,!0),n.defaultAnimation===this){for(r=n.cl.iterator;r.next();)null!==(a=r.value).ef&&(a.points=a.ef,a.ef=null);n.cl.clear()}qa(e,!0),this.isViewportUnconstrained&&(e.scrollMode=this.Iv),Ki(n),this.Gt++,!t&&this.It>this.Gt?(this.Kk=!1,this.start()):(this.Lm&&this.Lm(this),ra(this,null),n.tl(this),e.Mb())}},e.xj=function(t,e){var n=e.actualBounds,i=null;if(e instanceof jh&&(i=e.placeholder),null!==i?(n=i.ia(ee),i=i.padding,n.x+=i.left,n.y+=i.top,this.add(t,"position",n,t.position,!1)):this.add(t,"position",new gt(n.x+n.width/2,n.y+n.height/2),t.position,!1),this.add(t,"scale",.01,t.scale,!1),t instanceof jh)for(t=t.memberParts;t.next();)(i=t.value)instanceof xh&&this.xj(i,e)},e.vj=function(t,e){if(t.isVisible()){var n=null;if(e instanceof jh&&(n=e.placeholder),null!==n?this.add(t,"position:placeholder",t.position,n,!0):this.add(t,"position:nodeCollapse",t.position,e,!0),this.add(t,"scale",t.scale,.01,!0),(n=this.rc).contains(t)&&(n.I(t).Vu=!0),t instanceof jh)for(t=t.memberParts;t.next();)(n=t.value)instanceof xh&&this.vj(n,e)}},e.lz=function(t){var e=this.yt.get(t);return null===e&&(e={},this.yt.add(t,e)),e},u.Object.defineProperties(oa.prototype,{duration:{get:function(){return this.ug},set:function(t){1>t&&k(t,">= 1",oa,"duration"),this.ug=t}},reversible:{get:function(){return this.Kn},set:function(t){this.Kn=t}},runCount:{get:function(){return this.It},set:function(t){0<t?this.It=t:b("Animation.runCount value must be a positive integer.")}},finished:{get:function(){return this.Lm},set:function(t){this.Lm!==t&&(this.Lm=t)}},easing:{get:function(){return this.Rs},set:function(t){this.Rs=t}},isViewportUnconstrained:{get:function(){return this.j},set:function(t){this.j=t}},isAnimating:{get:function(){return this.$b}}}),oa.prototype.getTemporaryState=oa.prototype.lz,oa.prototype.stop=oa.prototype.stop,oa.prototype.add=oa.prototype.add,oa.prototype.addTemporaryPart=oa.prototype.oy,oa.className="Animation",oa.EaseLinear=function(t,e,n,i){return n*t/i+e},oa.EaseInOutQuad=da,oa.EaseInQuad=function(t,e,n,i){return n*(t/=i)*t+e},oa.EaseOutQuad=function(t,e,n,i){return-n*(t/=i)*(t-2)+e},oa.EaseInExpo=function(t,e,n,i){return 0===t?e:n*Math.pow(2,10*(t/i-1))+e},oa.EaseOutExpo=ua,fa.className="AnimationState",pa.prototype.copy=function(){var t=new pa(this.df);t.Vn=this.Vn;var e=this.gk;if(null!==e){var n={};void 0!==e.duration&&(n.duration=e.duration),void 0!==e.finished&&(n.finished=e.finished),void 0!==e.easing&&(n.easing=e.easing),t.gk=n}return t},u.Object.defineProperties(pa.prototype,{propertyName:{get:function(){return this.df},set:function(t){this.df=t}},animationSettings:{get:function(){return this.gk},set:function(t){this.gk=t}},startCondition:{get:function(){return this.Vn},set:function(t){this.Vn=t}}});var ga,ma,ya=new H(pa,"Default",1),va=new H(pa,"Immediate",2),wa=new H(pa,"Bundled",3);function xa(t){tt(this),this.H=null,this.Ma=new $,this.va="",this.tb=1,this.m=!1,this.j=this.Nh=this.u=this.Ii=this.Hi=this.Gi=this.Fi=this.Di=this.Ei=this.Ci=this.Ki=this.Bi=this.Ji=this.Ai=this.zi=!0,this.Bn=[],t&&Object.assign(this,t)}function ba(t,e){var n=1;return 1!==t.tb&&(n=e.globalAlpha,e.globalAlpha=n*t.tb),n}function Sa(t,e,n){if(e=function(t,e,n){var i=n.zOrder;if(isNaN(i))return e;var a=(t=t.Ma).count;if(1>=a)return e;if(0>e&&(e=t.indexOf(n)),0>e)return-1;for(var o=e-1,r=NaN;0<=o&&(r=t.K(o).zOrder,isNaN(r));)o--;for(var s=e+1,l=NaN;s<a&&(l=t.K(s).zOrder,isNaN(l));)s++;if(!isNaN(r)&&r>i)for(;;){if(-1===o||r<=i){if(++o===e)break;return t.mb(e),t.Cb(o,n),o}for(r=NaN;0<=--o&&(r=t.K(o).zOrder,isNaN(r)););}else if(!isNaN(l)&&l<i)for(;;){if(s===a||l>=i){if(--s===e)break;return t.mb(e),t.Cb(s,n),s}for(l=NaN;++s<a&&(l=t.K(s).zOrder,isNaN(l)););}return e}(t,e,n),n instanceof jh&&null!==n&&isNaN(n.zOrder)){if(0!==n.memberParts.count){for(var i=-1,a=t.Ma.s,o=a.length,r=0;r<o;r++){var s=a[r];if(s===n&&(e=r,0<=i))break;if(0>i&&s.containingGroup===n&&(i=r,0<=e))break}!(0>i)&&i<e&&((a=t.Ma).mb(e),a.Cb(i,n))}null!==(n=n.containingGroup)&&Sa(t,-1,n)}}function ka(t,e){if(nr||(function(){if(jo){var t=m.document.createElement("canvas"),e=t.getContext("2d"),n=D("7ca11abfd022028846");e[n]=D("398c3597c01238");for(var i=["5da73c80a36455d6038e4972187c3cae51fd22",y.Dx+"4ae6247590da4bb21c324ba3a84e385776",Ve.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",Ue.za],a=1;5>a;a++)e[D("7ca11abfd7330390")](D(i[a-1]),10,15*a);for(e[n]=D("39f046ebb36e4b"),n=1;5>n;n++)e[D("7ca11abfd7330390")](D(i[n-1]),10,15*n);4===i.length&&"5"===i[0][0]&&"7"===i[3][0]||(Ve.prototype.Ld=Ve.prototype.Fw),er=t}}(),nr=!0),tt(this),ma=this,this.wb=!0,this.La=null,this.Aa=this.Ba=0,this.Ha=null,jo){var n=this,i=function(){n.removeEventListener(m.document,"DOMContentLoaded",i,!1),n.setRTL()};null!==m.document.body?this.setRTL():n.addEventListener(m.document,"DOMContentLoaded",i,!1)}this.bl=null,No.add("Model",Mu);var a=this;return this.Db=function(t){var e=a.partManager;if(t.model===e.diagram.model&&e.diagram.$){e.diagram.$=!1;try{var n=t.change;""===t.modelChange&&n===pn&&e.updateDataBindings(t.object,t.propertyName)}finally{e.diagram.$=!0}}},this.Hc=function(t){a.partManager.doModelChanged(t)},this.Nt=this.Qt=null,Pa(this),this.model=sf(),this.Mg=!0,Aa(this),this.layout=new Yd,this.Mg=!1,this.Xj=this.Yj=this.Wj=this.Vj=this.Iz=this.Rj=this.sv=null,this.Jo=function(){},this.preventDefault=null,this.Ym=!1,this.vh=new ir,void 0!==t&&("string"==typeof t||m.Element&&t instanceof Element?or(this,t):e=t),this.wb=!1,e&&this.Vl(e),this}function Pa(t){t.Rd=new Gi,t.Rd.Le(t),t.Ab=17,t.kw=!1,t.$m=!1,t.Ht="default",t.Ua=new $,t.Yx=new pt,t.Ax(),t.zx(),t.tb=1,t.pa=new gt(NaN,NaN).freeze(),t.Jt=new gt(NaN,NaN),t.xa=1,t.sp=1,t.bt=new gt(NaN,NaN).freeze(),t.ct=NaN,t.tt=1e-4,t.pt=100,t.Bb=new Ve,t.eu=new gt(NaN,NaN).freeze(),t.Xs=new jt(NaN,NaN,NaN,NaN).freeze(),t.mj=new Kt(0,0,0,0).freeze(),t.nj=Yo,t.Tt=!1,t.Et=null,t.Lt=null,t.nh=Ro,t.lk=Me,t.wg=Ro,t.Rp=Me,t.at=ee,t.dt=ee,t.bd=!0,t.Wm=!1,t.te=new Q,t.th=new pt,t.Fm=!0,t.Yo=250,t.hk=-1,t.$o=new Kt(16,16,16,16).freeze(),t.cg=!1,t.wk=!1,t.Nm=!0,t.Fp=new hn,t.Fp.diagram=t,t.Hg=new hn,t.Hg.diagram=t,t.Yi=new hn,t.Yi.diagram=t,t.qg=null,t.bf=null,t.Wt=!1,function(t){function e(t){var e=t.toLowerCase(),a=new $;n.add(t,a),n.add(e,a),i.add(t,t),i.add(e,t)}var n=new pt,i=new pt;e("InitialAnimationStarting"),e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("GainedFocus"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("LostFocus"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),e("InvalidateDraw"),t.Nv=n,t.Mv=i}(t),t.Uh=new Q,t.kt=!0,t.$t=Ko,t.Vv=!1,t.bu=Ho,t.Ks="auto",t.rp="auto",t.oh=null,t.uh=null,t.qh=null,t.Jh=null,t.Hh=null,t.Gh=null,t.vt=null,t.Eh=null,t.$s=!1,t.Fh=null,t.Ih=null,t.Th=null,t.rh=null,t.wt=!1,t.Dt={},t.Zk=[null,null],t.Mg=!1,t.mw=!1,t.Ut=!1,t.Ns=!1,t.Xv=!0,t.cd=!1,t.Vi=!1,t.xw=!0,t.se=-2,t.Fg=new pt,t.Fn=new $,t.xg=!1,t.Ad=!0,t.ws=!0,t.zi=!0,t.Ai=!0,t.xs=!1,t.ys=!0,t.Ji=!0,t.Bi=!0,t.Ki=!0,t.As=!0,t.Ci=!0,t.Ei=!0,t.Di=!0,t.Fi=!0,t.Gi=!0,t.Hi=!0,t.Ii=!0,t.Bs=!0,t.Ds=!0,t.Wv=!1,t.Jk=!1,t.Tm=!0,t.Um=!0,t.zs=!0,t.Cs=!0,t.Ot=16,t.St=16,t.Nq=!1,t.Mt=!1,t.Rt=0,t.Pt=0,t.ub=new Kt(5).freeze(),t.lw=(new Q).freeze(),t.qt=999999999,t.Tv=(new Q).freeze(),t.Si=!0,t.Ti=!0,t.Ui=!0,t.We=!1,t.Of=!1,t.mh=!0,t.Qf=!1,t.Xx=new Q,t.Uv=new Q,t.Qh=null,t.Fv=new Et(8,8),t.Gv=999,t.fw=1,t.nw=0,t.kd={scale:1,position:new gt,bounds:new jt,Hw:new Et,sx:new Et,lx:!1},t.vw=new jt(NaN,NaN,NaN,NaN).freeze(),t.Zn=new Et(NaN,NaN).freeze(),t.wp=new jt(NaN,NaN,NaN,NaN).freeze(),t.lt=!1,t.Dg=new pt;var e=new xh,n=new ec;n.bind(new pf("text","",N)),e.add(n),t.Tx=e,t.Dg.add("",e),e=new xh,(n=new ec).stroke="brown",n.bind(new pf("text","",N)),e.add(n),t.Dg.add("Comment",e),(e=new xh).selectable=!1,e.avoidable=!1,(n=new Gl).figure="Ellipse",n.fill="black",n.stroke=null,n.desiredSize=new Et(3,3).ha(),e.add(n),t.Dg.add("LinkLabel",e),t.Ri=new pt,(e=new jh).selectionObjectName="GROUPPANEL",e.type=cl.Vertical,(n=new ec).font="bold 12pt sans-serif",n.bind(new pf("text","",N)),e.add(n),(n=new cl(cl.Auto)).name="GROUPPANEL";var i=new Gl;i.figure="Rectangle",i.fill="rgba(128,128,128,0.2)",i.stroke="black",n.add(i),(i=new Rh).padding=new Kt(5,5,5,5).ha(),n.add(i),e.add(n),t.Rx=e,t.Ri.add("",e),t.Ch=new pt,e=new Ih,(n=new Gl).isPanelMain=!0,e.add(n),(n=new Gl).toArrow="Standard",n.fill="black",n.stroke=null,n.strokeWidth=0,e.add(n),t.Sx=e,t.Ch.add("",e),e=new Ih,(n=new Gl).isPanelMain=!0,n.stroke="brown",e.add(n),t.Ch.add("Comment",e),(e=new vh).type=cl.Auto,(n=new Gl).fill=null,n.stroke="dodgerblue",n.strokeWidth=3,e.add(n),(n=new Rh).margin=new Kt(1.5,1.5,1.5,1.5).ha(),e.add(n),t.xt=e,t.Zs=e,(e=new vh).type=cl.Link,(n=new Gl).isPanelMain=!0,n.fill=null,n.stroke="dodgerblue",n.strokeWidth=3,e.add(n),t.nt=e,t.Zd=null,t.Op=!1,t.pk=null,t.partManager=new Mu,t.toolManager=new bn,t.toolManager.initializeStandardTools(),t.defaultTool=t.toolManager,t.currentTool=t.defaultTool,t.Ps=null,t.Em=new wr,t.At=null,t.Bt=null,t.jr=!1,t.commandHandler=_a(),t.kr=!1,t.Hp=null,t.Ip=st,t.tw=!1,t.kc=1,t.Rh=null,t.nq=1,t.rq=0,t.dw=[0,0,0,0,0],t.sq=0,t.Yp=1,t.Zv=0,t.$v=new gt,t.hy=500,t.Zo=new gt,t.jt=!1}function Ma(t,e){t.animationManager.wc(!0),t.lw=(new Q).freeze(),t.Tv=(new Q).freeze();var n=t.skipsUndoManager,i=null!==t.ac&&void 0!==t.ac;i&&(t.skipsUndoManager=!0);var a=null;null!==t.Zd&&(null!==(a=t.Zd.part)&&t.remove(a));var o=[],r=t.Ua.length;if(e){for(e=0;e<r;e++)for(var s=t.Ua.s[e].parts;s.next();){var l=s.value;l!==a&&null===l.data&&o.push(l)}for(e=0;e<o.length;e++)t.remove(o[e])}for(e=0;e<r;e++)t.Ua.s[e].clear();return t.partManager.clear(),t.te.clear(),t.th.clear(),t.Uh.clear(),t.pk=null,t.Fn.clear(),Bc(),t.Fg.clear(),z=[],null!==a&&(t.add(a),t.partManager.parts.remove(a)),i&&(t.skipsUndoManager=n),o}function _a(){return null}function La(t){30<t.rq&&(t.Rh=1)}function Ta(t,e){null!==t.Rh&&(t.Rh=null,e&&t.Jo(),W&&W.Rw||(t.rq=0,t.dw=[0,0,0,0,0],t.sq=0))}function Oa(t){if(null!==t.Ha){var e=t.La;if(null!==e&&0!==e.clientWidth&&0!==e.clientHeight){t.kw||t.setScrollWidth();var n=t.Of?t.Ab:0,i=t.We?t.Ab:0,a=t.kc;t.kc=t.computePixelRatio(),t.kc!==a&&(t.Wm=!0,t.Mb()),e.clientWidth===t.Ba+n&&e.clientHeight===t.Aa+i||(t.Ti=!0,t.bd=!0,null!==(e=t.layout)&&e.isViewportSized&&t.autoScale===Ro&&(t.wk=!0,e.D()),t.cd||t.Mb())}}}function Aa(t){var e=new xa;e.name="Background",t.ol(e),(e=new xa).name="",t.ol(e),(e=new xa).name="Foreground",t.ol(e),(e=new xa).name="Adornment",e.isTemporary=!0,e.isInDocumentBounds=!1,t.ol(e),(e=new xa).name="Tool",e.isTemporary=!0,e.isInDocumentBounds=!0,t.ol(e),(e=new xa).name="Grid",e.allowSelect=!1,e.pickable=!1,e.isTemporary=!0,e.isInDocumentBounds=!1,t.Aw(e,t.Ij("Background"))}function Ea(t){var e=new cl(cl.Grid);e.name="GRID";var n=new Gl;return n.figure="LineH",n.stroke="lightgray",n.strokeWidth=.5,n.interval=1,e.add(n),(n=new Gl).figure="LineH",n.stroke="gray",n.strokeWidth=.5,n.interval=5,e.add(n),(n=new Gl).figure="LineH",n.stroke="gray",n.strokeWidth=1,n.interval=10,e.add(n),(n=new Gl).figure="LineV",n.stroke="lightgray",n.strokeWidth=.5,n.interval=1,e.add(n),(n=new Gl).figure="LineV",n.stroke="gray",n.strokeWidth=.5,n.interval=5,e.add(n),(n=new Gl).figure="LineV",n.stroke="gray",n.strokeWidth=1,n.interval=10,e.add(n),(n=new $c).add(e),n.layerName="Grid",n.zOrder=0,n.isInDocumentBounds=!1,n.isAnimated=!1,n.pickable=!1,n.locationObjectName="GRID",t.add(n),t.partManager.parts.remove(n),e.visible=!1,e}function Ca(){this.H.Mt?this.H.Mt=!1:this.H.isEnabled?this.H.Nw(this):no(this.H)}function Na(t){this.H.isEnabled?(this.H.Rt=t.target.scrollTop,this.H.Pt=t.target.scrollLeft):no(this.H)}function Ba(t,e){if(t.fixedBounds.v())return e.assign(t.fixedBounds),e.fo(t.ub),e;for(var n=!0,i=t.Ua.s,a=i.length,o=0;o<a;o++){var r=i[o];if(r.visible&&r.isInDocumentBounds)for(var s=(r=r.Ma.s).length,l=0;l<s;l++){var c=r[l];c.isInDocumentBounds&&c.isVisible()&&((c=c.actualBounds).v()&&(n?(n=!1,e.assign(c)):e.Xc(c)))}}return n&&e.h(0,0,0,0),e.fo(t.ub),e}function ja(t,e){if((e||t.Qf)&&!t.wb&&null!==t.Ha&&t.documentBounds.v()){if(e){var n=t.initialPosition;if(n.v())return void(t.position=n);(n=gt.alloc()).oi(t.documentBounds,t.initialDocumentSpot);var i=t.viewportBounds;i=jt.allocAt(0,0,i.width,i.height);var a=gt.alloc();a.oi(i,t.initialViewportSpot),a.h(n.x-a.x,n.y-a.y),t.position=a,jt.free(i),gt.free(a),gt.free(n)}t.wb=!0,n=t.nh,e&&t.wg!==Ro&&(n=t.wg);var o=n!==Ro?Da(t,n):t.scale;n=t.pa.x,i=t.pa.y,a=t.Ba/o;var r=t.Aa/o,s=t.lk,l=t.Rp;e&&!s.pb()&&(l.pb()||l.Sb())&&(s=l.Sb()?oe:l),Fa(t,t.documentBounds,a,r,s,e),e=t.scale,t.scale=o,t.wb=!1,Ja(t),Wa(t,!0,!1),o=t.viewportBounds,Ue.B(o.x,n)&&Ue.B(o.y,i)&&Ue.B(o.width,a)&&Ue.B(o.height,r)||t.onViewportBoundsChanged(new jt(n,i,a,r),o,e,!1)}}function Da(t,e){var n=t.sp;if(null===t.Ha)return n;t.Za();var i=t.documentBounds;if(!i.v())return n;var a=i.width;i=i.height;var o=t.Ba+(t.Of?t.Ab:0),r=t.Aa+(t.We?t.Ab:0),s=o/a,l=r/i;return e===Io?((e=Math.min(l,s))>n&&(e=n),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):e===zo?((e=l>s?(r-t.Ab)/i:(o-t.Ab)/a)>n&&(e=n),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):t.scale}function Fa(t,e,n,i,a,o){var r=gt.allocAt(t.pa.x,t.pa.y),s=r.x,l=r.y;if(null!==t.Hp){var c=gt.alloc();s=(c=t.Hp.ia(ee,c)).x-t.Ip.x/t.scale,l=c.y-t.Ip.y/t.scale,a=te,gt.free(c)}(o||t.scrollMode===Yo)&&(a.pb()&&(n>e.width&&(s=e.x+(a.x*e.width+a.offsetX)-(a.x*n-a.offsetX)),i>e.height&&(l=e.y+(a.y*e.height+a.offsetY)-(a.y*i-a.offsetY))),a=t.mj,o=n-e.width,n<e.width+a.left+a.right?(s=Math.min(s+n/2,e.right+Math.max(o,a.right)-n/2),s=Math.max(s,e.left-Math.max(o,a.left)+n/2),s-=n/2):s>e.left?s=e.left:s<e.right-n&&(s=e.right-n),n=i-e.height,i<e.height+a.top+a.bottom?(l=Math.min(l+i/2,e.bottom+Math.max(n,a.bottom)-i/2),l=Math.max(l,e.top-Math.max(n,a.top)+i/2),l-=i/2):l>e.top?l=e.top:l<e.bottom-i&&(l=e.bottom-i)),r.x=isFinite(s)?s:-t.ub.left,r.y=isFinite(l)?l:-t.ub.top,null!==t.positionComputation&&(e=t.positionComputation(t,r),r.x=e.x,r.y=e.y),Zi(t.Rd,t.pa,r),t.pa.h(r.x,r.y),wo(t),gt.free(r)}function Ra(t,e,n,i){for(void 0===n&&(n=null),void 0===i&&(i=null),Ya(t),t=t.Ua.iteratorBackwards;t.next();){var a=t.value;if(a.visible&&!a.isTemporary&&null!==(a=a.ec(e,n,i)))return a}return null}function Ia(t,e,n){var i=t.Hg;return t.Hg=t.Yi,t.Yi=i,i.diagram=t,i.event=e,n?Ga(t,e,i):(i.viewPoint=t.Hg.viewPoint,i.documentPoint=t.Hg.documentPoint),t=0,e.ctrlKey&&(t+=1),e.altKey&&(t+=2),e.shiftKey&&(t+=4),e.metaKey&&(t+=8),i.modifiers=t,i.button=e.button,void 0!==e.buttons&&(i.buttons=e.buttons),I&&0===e.button&&e.ctrlKey&&(i.button=2),i.down=!1,i.up=!1,i.clickCount=1,i.delta=0,i.handled=!1,i.bubbles=!1,i.timestamp=e.timeStamp,i.isMultiTouch=!1,i.targetDiagram=za(e,e.target),i.targetObject=null,i}function za(t,e){return null===e?null:(e=e.H)?e:((e=t.path)||"function"!=typeof t.composedPath||(e=t.composedPath()),e&&e[0]&&e[0].H?e[0].H:null)}function Ha(t,e,n,i,a,o){var r=t.Hg;return t.Hg=t.Yi,t.Yi=r,r.diagram=t,r.clickCount=1,t=r.delta=0,e.ctrlKey&&(t+=1),e.altKey&&(t+=2),e.shiftKey&&(t+=4),e.metaKey&&(t+=8),r.modifiers=t,r.event=e,r.timestamp=e.timeStamp,r.button=e.button,r.buttons=e.buttons,I&&0===e.button&&e.ctrlKey&&(r.button=2),r.down=n,r.up=i,r.handled=!1,r.bubbles=a,r.isMultiTouch=o,r}function Va(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),!1!==e.cancelable&&e.preventDefault(),e.cancelBubble=!0,!1)}function Ga(t,e,n){var i=t.Ha,a=t.Ba,o=t.Aa,r=0,s=0;null!==i&&(i=i.getBoundingClientRect(),r=e.clientX-a/i.width*i.left,s=e.clientY-o/i.height*i.top),n.viewPoint.h(r,s),null!==t.Bb?(e=gt.allocAt(r,s),t.Bb.Ld(e),n.documentPoint.assign(e),gt.free(e)):n.documentPoint.h(r,s)}function Ua(t,e,n,i){if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;e=e.targetTouches[n]}else{if(null===t.Zk[0])return;e=t.Zk[n]}null!==(n=t.Ha)&&(n=n.getBoundingClientRect(),i.h(e.clientX-t.Ba/n.width*n.left,e.clientY-t.Aa/n.height*n.top))}function Wa(t,e,n){t.animationManager.defaultAnimation.isAnimating||t.wb||!t.Ti||no(t)||(e&&Ya(t),n&&ja(t,!1))}function qa(t,e){if(!t.cd&&(t.cg=!1,null!==t.La||t.Zn.v())){t.cd=!0;var n=t.animationManager,i=t.Fn;if(!n.isAnimating&&0!==i.length){for(var a=i.s,o=a.length,r=0;r<o;r++){var s=a[r];qr(s,!1),s.w()}i.clear()}0<(i=t.Uv).count&&(i.each((function(t){t.rv()})),i.clear()),a=i=!1,n.defaultAnimation.isAnimating&&(a=!0,i=t.skipsUndoManager,t.skipsUndoManager=!0),n.zb||Oa(t),Wa(t,!1,!0),null!==t.Zd&&(t.Zd.visible&&!t.Op&&(po(t),t.Op=!0),!t.Zd.visible&&t.Op&&(t.Op=!1)),Ya(t),o=!1,t.Qf&&!t.mh||(t.Qf?ko(t,!t.wk):(t.Da("Initial Layout"),!1===n.isEnabled&&n.wc(),ko(t,!1)),o=!0),t.wk=!1,Ya(t),t.Ut||function(t){t.cd||Ya(t),t.Za()}(t),Wa(t,!0,!1),r=!1,o?((n=jt.alloc()).assign(t.viewportBounds),t.Qf||(r=t.Qf=!0,t.skipsUndoManager||(t.undoManager.isPendingClear=!0),t.undoManager.isPendingUnmodified=!0,function(t){var e=t.xa;if(t.wg!==Ro)t.scale=Da(t,t.wg);else if(t.nh!==Ro)t.scale=Da(t,t.nh);else{var n=t.initialScale;isFinite(n)&&0<n&&(t.scale=n)}t.xa!==e&&(Ja(t),Wa(t,!0,!1)),ja(t,!0),e=t.Ua.s,t.Pd(e,e.length,t,t.viewportBounds),t.P("InitialLayoutCompleted"),t.Jt.assign(t.pa),po(t)}(t)),t.P("LayoutCompleted"),n.C(t.viewportBounds)||Wa(t,!0,!1),jt.free(n)):n.Ck&&n.uw&&(t.wg!==Ro?t.scale=Da(t,t.wg):t.nh!==Ro?t.scale=Da(t,t.nh):(n=t.initialScale,isFinite(n)&&0<n&&(t.scale=n)),ja(t,!0)),o&&r&&t.eb("Initial Layout"),t.Er(),Ya(t),e||t.tc(t.Zb),a&&(t.skipsUndoManager=i),t.cd=!1}}function Ya(t){if(0!==t.te.count&&(t.cd||!t.animationManager.isTicking)){for(var e=0;23>e;e++){var n=t.te.iterator;if(null===n||0===t.te.count)break;t.te=new Q,t.rv(n,t.te)}t.nodes.each((function(t){t instanceof jh&&0!=(65536&t.U)!=!1&&(t.U=65536^t.U)}))}}function Xa(t,e){for(var n=A(),i=A(),a=e.memberParts;a.next();){var o=a.value;o.isVisible()&&(o instanceof jh?(Wr(o)||Yr(o)||hh(o))&&Xa(t,o):o instanceof Ih?o.fromNode===e||o.toNode===e?i.push(o):n.push(o):(o.measure(1/0,1/0),o.arrange()))}for(t=n.length,a=0;a<t;a++)(o=n[a]).measure(1/0,1/0),o.arrange();for(E(n),e.measure(1/0,1/0),e.arrange(),t=i.length,e=0;e<t;e++)(n=i[e]).measure(1/0,1/0),n.arrange();E(i)}function Ka(t,e,n,i,a,o,r,s,l,c){if(null!==t.La){null===t.Ha&&b("No canvas specified"),void 0===r&&(r=null),void 0===s&&(s=null),void 0===l&&(l=!1),void 0===c&&(c=!1),to(t),t.Zb.Oc(!0),Qa(t),t.Vi=!0;var h=t.xa;t.xa=a;var d=t.Ua.s,u=d.length;try{var f=new jt(o.x,o.y,i.width/a,i.height/a),p=f.copy();p.fo(n),po(t,p),Ya(t),t.Pd(d,u,t,f),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,i.width,i.height),null!==s&&""!==s&&(e.fillStyle=s,e.fillRect(0,0,i.width,i.height));var g=t.kc;e.scale(g,g);var m=Ve.alloc();m.reset(),m.translate(n.left,n.top),m.scale(a),0===o.x&&0===o.y||m.translate(-o.x,-o.y),e.setTransform(m.m11,m.m12,m.m21,m.m22,m.dx,m.dy),e.Pc(),Ve.free(m),Za(t,e),e.globalAlpha=t.tb;var y=t.Ij("Grid");if(r){var v=new Q,w=r.iterator;for(w.reset();w.next();){var x=w.value;x instanceof $c&&(c||x.layer!==y)&&v.add(x)}for(c=0;c<u;c++){var S=d[c];y=e;var k=t;if(S.visible&&0!==S.tb&&(l||!S.isTemporary)){var P=S.Ma.s,M=P.length;if(0!==M){var _=ba(S,y),L=S.Bn;L.length=0;var T=k.scale,O=jt.alloc();for(n=0;n<M;n++){var A=P[n];v.contains(A)&&S.$h(y,A,k,L,T,O,!1)}jt.free(O),y.globalAlpha=_}}}}else for(v=0;v<u;v++)(k=d[v])===y?c&&k.tc(e,t,!0):k.tc(e,t,l);t.Vi=!1,t.vh&&ar(t.vh,t)&&t.Qs()}finally{t.xa=h,t.Zb.Oc(!0),Qa(t),t.Pd(d,u,t,t.viewportBounds),po(t)}}}function Za(t,e){null!==(t=t.Ig)&&(void 0!==t.imageSmoothingEnabled&&e.Ex(!!t.imageSmoothingEnabled),null!=(t=t.defaultFont)&&(e.font=t))}function $a(t,e){var n,i=t instanceof cl,a=t instanceof ka;for(n in e){""===n&&b("Setting properties requires non-empty property names");var o=t,r=n;if(i||a){var s=n.indexOf(".");if(0<s){var l=n.substring(0,s);i?o=t.fb(l):null==(o=t[l])&&(o=t.toolManager[l]),M(o)?r=n.substr(s+1):b("Unable to find object named: "+l+" in "+t.toString()+" when trying to set property: "+n)}}if("_"!==r[0]&&!B(o,r)){if(a&&"ModelChanged"===r){t.Cw(e[r]);continue}if(a&&"Changed"===r){t.Ug(e[r]);continue}if(a&&B(t.toolManager,r))o=t.toolManager;else{if(a&&Mo(t,r)){t.wj(r,e[r]);continue}if(t instanceof Vu&&"Changed"===r){t.Ug(e[r]);continue}b('Trying to set undefined property "'+r+'" on object: '+o.toString())}}o[r]=e[n],"_"===r[0]&&o instanceof Tr&&o.zw(r)}}function Ja(t){!1===t.Ti&&(t.Ti=!0)}function Qa(t){!1===t.Ui&&(t.Ui=!0)}function to(t){!1!==t.Wm&&(t.Wm=!1,eo(t,t.Ba,t.Aa))}function eo(t,e,n){wo(t);var i=t.kc;t.Ha.resize(e*i,n*i,e,n)&&(t.bd=!0,t.Zb.Oc(!0))}function no(t){var e=t.Ha;if(null===e||t.Zn.v())return!0;var n=t.Ba,i=t.Aa,a=t.viewportBounds;if(!t.viewportBounds.v())return!0;var o=a.x,r=a.y,s=a.width,l=a.height,c=t.Qt,h=t.Nt,d=t.La,u=!1,f=t.Of?t.Ab:0,p=t.We?t.Ab:0,g=d.clientWidth||n+f,m=d.clientHeight||i+p;if(g===n+f&&m===i+p||(t.Of=!1,t.We=!1,p=f=0,t.Ba=g,t.Aa=m,u=t.Wm=!0,wo(t)),!(u||t.Of||t.We||t.Tm||t.Um))return!0;t.Ti=!1;var y=t.documentBounds,v=0,w=0,x=0,b=0;d=a.width;var S=a.height,k=t.mj;t.contentAlignment.pb()?(y.width>d&&(v=k.left,w=k.right),y.height>S&&(x=k.top,b=k.bottom)):(v=k.left,w=k.right,x=k.top,b=k.bottom),k=y.width+v+w;var P=y.height+x+b;v=y.x-v;var M=a.x;w=y.right+w;var _=a.right+f;x=y.y-x;var L=a.y;y=y.bottom+b,b=a.bottom+p;var T="1px",O="1px";if(g=k>g/(a=t.scale),m=P>m/a,t.scrollMode===Yo&&(g||m)&&(g&&t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(g=1,v+1<M&&(g=Math.max((M-v)*a+t.Ba,g)),w>_+1&&(g=Math.max((w-_)*a+t.Ba,g)),d+f+1<k&&(g=Math.max((k-d)*a+t.Ba,g)),T=g.toString()+"px"),m&&t.hasVerticalScrollbar&&t.allowVerticalScroll&&(g=1,x+1<L&&(g=Math.max((L-x)*a+t.Aa,g)),y>b+1&&(g=Math.max((y-b)*a+t.Aa,g)),S+p+1<P&&(g=Math.max((P-S)*a+t.Aa,g)),O=g.toString()+"px")),m="1px"!==O,(g="1px"!==T)&&m||!g&&!m||(m&&(_-=t.Ab),g&&(b-=t.Ab),k<d+f||!t.hasHorizontalScrollbar||!t.allowHorizontalScroll||(f=1,v+1<M&&(f=Math.max((M-v)*a+t.Ba,f)),w>_+1&&(f=Math.max((w-_)*a+t.Ba,f)),d+1<k&&(f=Math.max((k-d)*a+t.Ba,f)),T=f.toString()+"px"),g="1px"!==T,f=t.Aa,g!==t.We&&(f=g?t.Aa-t.Ab:t.Aa+t.Ab),P<S+p||!t.hasVerticalScrollbar||!t.allowVerticalScroll||(p=1,x+1<L&&(p=Math.max((L-x)*a+f,p)),y>b+1&&(p=Math.max((y-b)*a+f,p)),S+1<P&&(p=Math.max((P-S)*a+f,p)),O=p.toString()+"px"),m="1px"!==O),t.Nq&&g===t.We&&m===t.Of)return n===t.Ba&&i===t.Aa||t.nd(),!1;if(g!==t.We&&(t.Aa="1px"===T?t.Aa+t.Ab:Math.max(t.Aa-t.Ab,1),u=!0),t.We=g,h.style.width=T,m!==t.Of&&(t.Ba="1px"===O?t.Ba+t.Ab:Math.max(t.Ba-t.Ab,1),u=!0,t.$m&&(p=gt.alloc(),m?(e.style.left=t.Ab+"px",t.position=p.h(t.pa.x+t.Ab/t.scale,t.pa.y)):(e.style.left="0px",t.position=p.h(t.pa.x-t.Ab/t.scale,t.pa.y)),gt.free(p))),u&&wo(t),t.Of=m,h.style.height=O,t.Mt=!0,u&&(t.Wm=!0),e=c.scrollLeft,t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(d+1<k?e=(t.position.x-v)*a:v+1<M?e=c.scrollWidth-c.clientWidth:w>_+1&&(e=t.position.x*a)),t.$m)switch(t.Ht){case"negative":e=-(c.scrollWidth-e-c.clientWidth);break;case"reverse":e=c.scrollWidth-e-c.clientWidth}return c.scrollLeft=e,t.hasVerticalScrollbar&&t.allowVerticalScroll&&(S+1<P?c.scrollTop=(t.position.y-x)*a:x+1<L?c.scrollTop=c.scrollHeight-c.clientHeight:y>b+1&&(c.scrollTop=t.position.y*a)),g=t.Ba,m=t.Aa,c.style.width=g+(t.Of?t.Ab:0)+"px",c.style.height=m+(t.We?t.Ab:0)+"px",n===g&&i===m&&!t.animationManager.zb||(n=jt.allocAt(o,r,s,l),t.onViewportBoundsChanged(n,t.viewportBounds,a,u),jt.free(n),!1)}function io(t,e,n){var i=e.layer;null!==i&&i.diagram===t&&(e.isSelected=!1,e.isHighlighted=!1,e.D(2),n&&e.Fj(),0<=(n=i.lc(-1,e,!1))&&t.bb(mn,"parts",i,e,null,n,null),null!==(t=e.layerChanged)&&t(e,i,null))}function ao(t,e,n,i,a,o){if(!e.contains(n)&&(void 0===o&&(o=!1),!i||o||n.canMove()||n.canCopy()))if(void 0===a&&(a=ro(t)),n instanceof xh){if(e.add(n,t.Fd(a,n,n.location)),n instanceof jh&&(null!==n.placeholder||a.dragsMembers))for(o=n.memberParts;o.next();)ao(t,e,o.value,i,a,a.groupsAlwaysMove);for(o=n.linksConnected;o.next();){var r=o.value;if(!e.contains(r)){var s=r.fromNode,l=r.toNode;null!==s&&e.contains(s)&&null!==l&&e.contains(l)&&ao(t,e,r,i,a)}}if(a.dragsTree)for(n=n.zu();n.next();)ao(t,e,n.value,i,a)}else if(n instanceof Ih)for(e.add(n,t.Fd(a,n)),n=n.labelNodes;n.next();)ao(t,e,n.value,i,a);else n instanceof vh||e.add(n,t.Fd(a,n,n.location))}function oo(t,e,n,i,a){if(null!==e&&0!==e.count){var o=gt.alloc(),r=gt.alloc();r.assign(n),isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),(n=t.jr)||lo(t,e);for(var s=A(),l=A(),c=e.iterator,h=gt.alloc();c.next();){var d=c.key,u=c.value;if(d.Tc()){var f=ho(t,d,e);null!==f?s.push(new vr(d,u,f)):a&&!d.canMove()||(f=u.point,o.assign(f),t.computeMove(d,o.add(r),i,h),d.location=h,void 0===u.shifted&&(u.shifted=new gt),u.shifted.assign(h.je(f)))}else c.key instanceof Ih&&l.push(c.ra)}for(gt.free(h),a=s.length,c=0;c<a;c++)d=s[c],o.assign(d.info.point),void 0===d.Du.shifted&&(d.Du.shifted=new gt),d.node.location=o.add(d.Du.shifted);for(a=gt.alloc(),c=gt.alloc(),d=l.length,u=0;u<d;u++){var p=l[u];if((f=p.key)instanceof Ih)if(f.suspendsRouting){f.ef=null,h=f.fromNode;var g=f.toNode;if(null!==t.draggedLink&&i.dragsLink)if(g=p.value.point,null===f.dragComputation)e.add(f,t.Fd(i,f,r)),Vh(f,r.x-g.x,r.y-g.y);else{p=gt.allocAt(0,0),(h=f.i(0))&&h.v()&&p.assign(h);var m=h=gt.alloc().assign(p).add(r);i.isGridSnapEnabled&&(i.isGridSnapRealtime||t.lastInput.up)&&so(t,f,h,m=gt.alloc(),i),h.assign(f.dragComputation(f,h,m)).je(p),e.add(f,t.Fd(i,f,h)),Vh(f,h.x-g.x,h.y-g.y),gt.free(p),gt.free(h),m!==h&&gt.free(m)}else null!==h&&(a.assign(h.location),null!==(m=e.I(h))&&a.je(m.point)),null!==g&&(c.assign(g.location),null!==(m=e.I(g))&&c.je(m.point)),null!==h&&null!==g?a.$a(c)?(h=p.value.point,(g=o).assign(a),g.je(h),e.add(f,t.Fd(i,f,a)),Vh(f,g.x,g.y)):(f.suspendsRouting=!1,f.ab()):(p=p.value.point,h=null!==h?a:null!==g?c:r,e.add(f,t.Fd(i,f,h)),Vh(f,h.x-p.x,h.y-p.y))}else null!==f.fromNode&&null!==f.toNode||(h=p.value.point,e.add(f,t.Fd(i,f,r)),Vh(f,r.x-h.x,r.y-h.y))}gt.free(o),gt.free(r),gt.free(a),gt.free(c),E(s),E(l),n||(Ya(t),co(t,e))}}function ro(t){var e=t.toolManager.findTool("Dragging");return null!==e?e.dragOptions:t.Em}function so(t,e,n,i,a){if(void 0===a&&(a=ro(t)),i.assign(n),null!==e){var o=t.grid;t=(e=a.gridSnapCellSize).width,e=e.height;var r=a.gridSnapOrigin,s=r.x;if(r=r.y,a=a.gridSnapCellSpot,null!==o){var l=o.gridCellSize;isNaN(t)&&(t=l.width),isNaN(e)&&(e=l.height),o=o.gridOrigin,isNaN(s)&&(s=o.x),isNaN(r)&&(r=o.y)}(o=gt.allocAt(0,0)).pi(0,0,t,e,a),Ue.so(n.x,n.y,s+o.x,r+o.y,t,e,i),gt.free(o)}}function lo(t,e){if(null!==e)for(t.jr=!0,t=e.iterator;t.next();)(e=t.key)instanceof Ih&&(e.suspendsRouting=!0)}function co(t,e){if(null!==e){for(e=e.iterator;e.next();){var n=e.key;n instanceof Ih&&(n.suspendsRouting=!1,Xh(n)&&n.ab())}t.jr=!1}}function ho(t,e,n){if(null!==(e=e.containingGroup)){if(null!==(t=ho(t,e,n)))return t;if(null!==(t=n.I(e)))return t}return null}function uo(t,e,n){if(null!==e.diagram&&e.diagram!==t&&b("Cannot share a Layer with another Diagram: "+e+" of "+e.diagram),null===n?null!==e.diagram&&b("Cannot add an existing Layer to this Diagram again: "+e):(n.diagram!==t&&b("Existing Layer must be in this Diagram: "+n+" not in "+n.diagram),e===n&&b("Cannot move a Layer before or after itself: "+e)),e.diagram!==t){e=e.name,n=(t=t.Ua).count;for(var i=0;i<n;i++)t.K(i).name===e&&b("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function fo(t,e,n){var i=t.animationManager;if(t.wb||t.cd)t.xa=n,wo(t),i.zb&&(qi(i)||i.Wd.add(i.H,"scale",e,t.xa));else if(null===t.Ha)t.xa=n,wo(t);else{t.wb=!0;var a=t.viewportBounds.copy(),o=t.Ba,r=t.Aa;a.width=t.Ba/e,a.height=t.Aa/e;var s=t.zoomPoint.x,l=t.zoomPoint.y,c=t.contentAlignment;isNaN(s)&&(c.Uc()?c.xf(de)?s=0:c.xf(ue)&&(s=o-1):s=c.pb()?c.x*(o-1):o/2),isNaN(l)&&(c.Uc()?c.xf(he)?l=0:c.xf(fe)&&(l=r-1):l=c.pb()?c.y*(r-1):r/2),null===t.scaleComputation||t.animationManager.defaultAnimation.isAnimating||(n=t.scaleComputation(t,n)),n<t.minScale&&(n=t.minScale),n>t.maxScale&&(n=t.maxScale),o=gt.allocAt(t.pa.x+s/e-s/n,t.pa.y+l/e-l/n),t.position=o,gt.free(o),t.xa=n,wo(t),t.onViewportBoundsChanged(a,t.viewportBounds,e,!1),t.wb=!1,ja(t,!1),i.zb&&(qi(i)||i.Wd.add(i.H,"scale",e,t.xa)),t.N(),Ja(t)}}function po(t,e){var n=t.Zd;if(null!==n&&n.visible){for(var i=Et.alloc(),a=1,o=1,r=n.R.s,s=r.length,l=0;l<s;l++){var c=r[l],h=Math.abs(c.interval);2>h||(fl(c.figure)?o=o*h/Ue.Xw(o,h):a=a*h/Ue.Xw(a,h))}if(r=n.gridCellSize,i.h(o*r.width,a*r.height),void 0!==e)a=e.width,o=e.height,t=e.x,r=e.y;else{if(e=jt.alloc(),t=t.viewportBounds,e.h(t.x,t.y,t.width,t.height),!e.v())return void jt.free(e);a=e.width,o=e.height,t=e.x,r=e.y,jt.free(e)}n.width=a+2*i.width,n.height=o+2*i.height,e=gt.alloc(),Ue.so(t,r,0,0,i.width,i.height,e),e.offset(-i.width,-i.height),Et.free(i),n.part.location=e,gt.free(e)}}function go(t){var e=t.isModified;t.xw!==e&&(t.xw=e,t.P("Modified"))}function mo(t,e){for(var n=(e=e.R.s).length,i=0;i<n;i++)yo(t,e[i])}function yo(t,e){if(e instanceof Nc){var n=e.element;if(null!==n&&n instanceof HTMLImageElement){n.sg instanceof Q&&n.sg.add(t);var i=e.vg;if(null!==i&&!0===i.Up&&null!==e.diagram&&e.diagram.Fn.add(e),n.Pm)if(n=n.getAttribute("src")||"",null===(i=t.Fg.I(n)))(i=[]).push(e),t.Fg.add(n,i);else{for(t=0;t<i.length;t++)if(i[t]===e)return;i.push(e)}}}}function vo(t,e){if(e instanceof Nc){var n=e.element;if(null!==n&&n instanceof HTMLImageElement&&n.Pm){var i=n.getAttribute("src")||"",a=t.Fg.I(i);if(null!==a)for(var o=0;o<a.length;o++)if(a[o]===e){a.splice(o,1),0===a.length&&(t.Fg.remove(i),n.fq&&n.removeEventListener("load",n.fq),n.Bp&&n.removeEventListener("error",n.Bp),delete n.fq,delete n.Bp,n.sg instanceof Q&&n.sg.remove(t),Bc(i));break}}}}function wo(t){var e=t.pa,n=t.xa;t.vw.h(e.x,e.y,Math.max(t.Ba,0)/n,Math.max(t.Aa,0)/n),Qa(t)}function xo(t,e){t.Si=!1;var n=t.wp;n.C(e)||(n=n.copy(),t.wp.assign(e),ja(t,!1),t.P("DocumentBoundsChanged",void 0,n),Ja(t),t.N())}function bo(t,e){for(var n=t.Uh.iterator;n.next();)So(t,n.value,e);t.layout&&(e?t.layout.isValidLayout=!1:t.layout.D())}function So(t,e,n){if(null!==e){for(var i=e.Uk.iterator;i.next();)So(t,i.value,n);null!==e.layout&&(n?e.layout.isValidLayout=!1:e.layout.D())}}function ko(t,e){if(t.mh&&!t.Ns){var n=t.$;t.$=!0;var i=t.undoManager.transactionLevel,a=t.layout,o=t.animationManager;try{0===i&&(t.undoManager.isInternalTransaction=!0,t.Da("Layout")),1>=i&&!o.defaultAnimation.isAnimating&&!o.zb&&(e||Ui(o,"Layout")),t.mh=!1;for(var r=t.Uh.iterator;r.next();)Po(t,r.value,e,i);a.isValidLayout||(!e||a.isRealtime||null===a.isRealtime||0===i?(a.doLayout(t),Ya(t),a.isValidLayout=!0):t.mh=!0)}finally{e=t.undoManager.isInternalTransaction,0===i&&(t.eb("Layout"),t.undoManager.isInternalTransaction=!1),!e||0!==i&&1!==i||Wi(o),t.$=n}}}function Po(t,e,n,i){if(null!==e){for(var a=e.Uk.iterator;a.next();)Po(t,a.value,n,i);null===(a=e.layout)||a.isValidLayout||(!n||a.isRealtime||0===i?(e.gh=!e.location.v(),a.doLayout(e),e.D(32),Xa(t,e),a.isValidLayout=!0):t.mh=!0)}}function Mo(t,e){var n=t.Mv.I(e);return null!==n?n:t.Mv.I(e.toLowerCase())}function _o(t,e){var n=t.Nv.I(e);return null!==n||null!==(n=t.Nv.I(e.toLowerCase()))?n:void b("Unknown DiagramEvent name: "+e)}function Lo(t){if(t.animationManager.isTicking)return!1;var e=t.currentTool;return e!==t.toolManager.findTool("Dragging")||(!t.jr||e.isComplexRoutingRealtime)}function To(t,e,n,i){var a=t.Qh;if(null===a&&(t.Qh=a=new Ad(t.avoidanceCellSize)),a.Tr||a.group!==n||a.Hx!==i){if(a.mx=Math.max(a.ps+1,Math.floor(t.avoidanceLimit/t.avoidanceCellSize.width)),a.nx=Math.max(a.ps+1,Math.floor(t.avoidanceLimit/t.avoidanceCellSize.height)),null!==n&&(n=function t(e,n){return n.avoidable&&!n.isLinkLabel?n:null!==n.containingGroup?t(e,n.containingGroup):null}(t,n)),null===n){e=jt.alloc(),t.computeOccupiedArea(e),e.vc(100,100),a.initialize(e);for(var o=t.nodes;o.next();){var r=o.value,s=r.layer;null!==s&&s.visible&&!s.isTemporary&&Oo(t,r,i,e)}jt.free(e)}else{for(0<n.memberParts.count&&((e=t.computePartsBounds(n.memberParts,!1)).vc(20,20),a.initialize(e)),e=jt.alloc(),o=n.memberParts;o.next();)(r=o.value)instanceof xh&&Oo(t,r,i,e);jt.free(e)}a.group=n,a.Hx=i,a.Tr=!1}else e&&Nd(a);return a}function Oo(t,e,n,i){if(e!==n&&e.isVisible())if(e.avoidable&&!e.isLinkLabel){e=e.getAvoidableRect(i),t=t.Qh;var a=e.x,o=e.y;if(Ed(t,a,o))for(n=(o-t.Ed)/t.oc|0,i=Math.min((a+e.width-t.Dd)/t.nc|0,t.Wh),e=Math.min((o+e.height-t.Ed)/t.oc|0,t.Xh),a=(a-t.Dd)/t.nc|0;a<=i;a++)if((o=t.Xb[a]).fill)o.fill(Rd,n,e+1);else for(var r=n;r<=e;r++)o[r]=Rd}else if(e instanceof jh)for(e=e.memberParts;e.next();)(a=e.value)instanceof xh&&Oo(t,a,n,i)}function Ao(t,e){null===t.Qh||t.Qh.Tr||void 0!==e&&(!e.avoidable||e.isLinkLabel)||(t.Qh.Tr=!0)}function Eo(t,e,n){function i(){var t=+new Date;for(o=!0,r.reset();r.next();)if(!r.value[0].Pk){o=!1;break}o||t-c>l?e(n,a,s):m.requestAnimationFrame(i)}for(var a=n.callback,o=!0,r=t.Fg.iterator;r.next();)if(!r.value[0].Pk){o=!1;break}if("function"!=typeof a||o)return e(n,a,t);var s=t,l=n.callbackTimeout||300,c=+new Date;return m.requestAnimationFrame((function(){i()})),null}function Co(t,e,n,i){if(t.animationManager.wc(),t.nd(),null===t.Ha)return null;"object"!=typeof e&&b("properties argument must be an Object.");var a=e.size||null,o=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(o="NaN");var r=e.maxSize;void 0===e.maxSize&&(r="SVG"===n?new Et(1/0,1/0):new Et(2e3,2e3));var s=e.position||null,l=e.parts||null,c=void 0===e.padding?1:e.padding,h=e.background||null,d=e.omitTemporary;void 0===d&&(d=!0);var u=e.document||document,f=e.elementFinished||null,p=e.showTemporary;void 0===p&&(p=!d),void 0===(e=e.showGrid)&&(e=p),null!==a&&isNaN(a.width)&&isNaN(a.height)&&(a=null),"number"==typeof c?c=new Kt(c):c instanceof Kt||b("MakeImage padding must be a Margin or a number."),c.left=Math.max(c.left,0),c.right=Math.max(c.right,0),c.top=Math.max(c.top,0),c.bottom=Math.max(c.bottom,0),t.Zb.Oc(!0);var g=(d=new ps(null,u)).context;if(!(a||o||l||s))return d.width=t.Ba+Math.ceil(c.left+c.right),d.height=t.Aa+Math.ceil(c.top+c.bottom),"SVG"===n?null===i?null:(i.resize(d.width,d.height,d.width,d.height),i.ownerDocument=u,i.po=f,Ka(t,i.context,c,new Et(d.width,d.height),t.xa,t.pa,l,h,p,e),i.context):(t.Fm=!1,Ka(t,g,c,new Et(d.width,d.height),t.xa,t.pa,l,h,p,e),t.Fm=!0,d.context);var m=t.sp,y=t.documentBounds.copy();if(y.jv(t.ub),p)for(var v=t.Ua.s,w=v.length,x=0;x<w;x++){var S=v[x];if(S.visible&&S.isTemporary)for(var k=(S=S.Ma.s).length,P=0;P<k;P++){var M=S[P];M.isInDocumentBounds&&M.isVisible()&&((M=M.actualBounds).v()&&y.Xc(M))}}if(v=new gt(y.x,y.y),null!==l){for(w=new jt(0,0,0,0),x=!0,(S=l.iterator).reset();S.next();)(k=S.value)instanceof $c&&(null!==(P=k.layer)&&!P.visible||null!==P&&!p&&P.isTemporary||!k.isVisible()||(k=k.actualBounds).v()&&(x?(x=!1,w.assign(k)):w.Xc(k)));y.width=w.width,y.height=w.height,v.x=w.x,v.y=w.y}return null!==s&&s.v()&&(v=s,o||(o=m)),w=s=0,null!==c&&(s=c.left+c.right,w=c.top+c.bottom),x=S=0,null!==a&&(S=a.width,x=a.height,isFinite(S)&&(S=Math.max(0,S-s)),isFinite(x)&&(x=Math.max(0,x-w))),null!==a&&null!==o?("NaN"===o&&(o=m),a.v()?(a=S,y=x):isNaN(x)?(a=S,y=y.height*o):(a=y.width*o,y=x)):null!==a?a.v()?(o=Math.min(S/y.width,x/y.height),a=S,y=x):isNaN(x)?(o=S/y.width,a=S,y=y.height*o):(o=x/y.height,a=y.width*o,y=x):null!==o?"NaN"===o&&r.v()?(o=Math.min((r.width-s)/y.width,(r.height-w)/y.height))>m?(o=m,a=y.width,y=y.height):(a=r.width,y=r.height):(a=y.width*o,y=y.height*o):(o=m,a=y.width,y=y.height),null!==c?(a+=s,y+=w):c=new Kt(0),null!==r&&(m=r.width,r=r.height,isNaN(m)&&(m=2e3),isNaN(r)&&(r=2e3),isFinite(m)&&(a=Math.min(a,m)),isFinite(r)&&(y=Math.min(y,r))),d.width=Math.ceil(a),d.height=Math.ceil(y),"SVG"===n?null===i?null:(i.resize(d.width,d.height,d.width,d.height),i.ownerDocument=u,i.po=f,Ka(t,i.context,c,new Et(Math.ceil(a),Math.ceil(y)),o,v,l,h,p,e),i.context):(t.Fm=!1,Ka(t,g,c,new Et(Math.ceil(a),Math.ceil(y)),o,v,l,h,p,e),t.Fm=!0,d.context)}pa.className="AnimationTrigger",pa.Default=ya,pa.Immediate=va,pa.Bundled=wa,(e=xa.prototype).clear=function(){this.Ma.clear(),this.Bn.length=0},e.Le=function(t){this.H=t},e.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var n=0,i=0,a=0,o=0,r=0,s=this.Ma.iterator;s.next();){var l=s.value;l instanceof jh?a++:l instanceof xh?i++:l instanceof Ih?o++:l instanceof vh?r++:n++}if(s="",0<n&&(s+=n+" Parts "),0<i&&(s+=i+" Nodes "),0<a&&(s+=a+" Groups "),0<o&&(s+=o+" Links "),0<r&&(s+=r+" Adornments "),1<t)for(t=this.Ma.iterator;t.next();)s+="\n    "+(n=t.value).toString(),null!==(i=n.data)&&nt(i)&&(s+=" #"+nt(i)),n instanceof xh?s+=" "+N(i):n instanceof Ih&&(s+=" "+N(n.fromNode)+" "+N(n.toNode));return e+" "+this.Ma.count+": "+s},e.ec=function(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!1===this.Nh)return null;var i=!1;null!==this.diagram&&this.diagram.viewportBounds.ba(t)&&(i=!0);for(var a=gt.alloc(),o=this.Ma.s,r=o.length;r--;){var s=o[r];if((!0!==i||!1!==fh(s))&&s.isVisible()&&(a.assign(t),wt(a,s.ge),null!==(s=s.ec(a,e,n))&&(null!==e&&(s=e(s)),null!==s&&(null===n||n(s)))))return gt.free(a),s}return gt.free(a),null},e.di=function(t,e,n,i){if(void 0===e&&(e=null),void 0===n&&(n=null),i instanceof $||i instanceof Q||(i=new Q),!1===this.Nh)return i;var a=!1;null!==this.diagram&&this.diagram.viewportBounds.ba(t)&&(a=!0);for(var o=gt.alloc(),r=this.Ma.s,s=r.length;s--;){var l=r[s];if((!0!==a||!1!==fh(l))&&l.isVisible()){o.assign(t),wt(o,l.ge);var c=l;l.di(o,e,n,i)&&(null!==e&&(c=e(c)),null===c||null!==n&&!n(c)||i.add(c))}}return gt.free(o),i},e.tf=function(t,e,n,i,a){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),a instanceof $||a instanceof Q||(a=new Q),!1===this.Nh)return a;var o=!1;null!==this.diagram&&this.diagram.viewportBounds.Ee(t)&&(o=!0);for(var r=this.Ma.s,s=r.length;s--;){var l=r[s];if((!0!==o||!1!==fh(l))&&l.isVisible()){var c=l;l.tf(t,e,n,i,a)&&(null!==e&&(c=e(c)),null===c||null!==n&&!n(c)||a.add(c))}}return a},e.yu=function(t,e,n,i,a,o,r){if(!1===this.Nh)return a;for(var s=this.Ma.s,l=s.length;l--;){var c=s[l];if((!0!==r||!1!==fh(c))&&o(c)&&c.isVisible()){var h=c;c.tf(t,e,n,i,a)&&(null!==e&&(h=e(h)),null===h||null!==n&&!n(h)||a.add(h))}}return a},e.hg=function(t,e,n,i,a,o){if(void 0===n&&(n=null),void 0===i&&(i=null),void 0===a&&(a=!0),!1!==a&&!0!==a&&((a instanceof $||a instanceof Q)&&(o=a),a=!0),o instanceof $||o instanceof Q||(o=new Q),!1===this.Nh)return o;var r=!1;null!==this.diagram&&this.diagram.viewportBounds.ba(t)&&(r=!0);for(var s=gt.alloc(),l=gt.alloc(),c=this.Ma.s,h=c.length;h--;){var d=c[h];if((!0!==r||!1!==fh(d))&&d.isVisible()){s.assign(t),wt(s,d.ge),l.h(t.x+e,t.y),wt(l,d.ge);var u=d;d.hg(s,l,n,i,a,o)&&(null!==n&&(u=n(u)),null===u||null!==i&&!i(u)||o.add(u))}}return gt.free(s),gt.free(l),o},e.Pd=function(t,e){if(this.visible){var n=this.Ma.s,i=n.length;if(0!==i){t=A();for(var a=A(),o=0;o<i;o++){var r=n[o];if(r.aw=o,r instanceof Ih){if(!1===r.xd)continue}else if(r instanceof vh&&null!==r.adornedPart)continue;var s=r.actualBounds;r.isVisible()&&Vt(s,e)?(r.Pd(!0),t.push(r)):(r.Pd(!1),null!==r.adornments&&0<r.adornments.count&&a.push(r))}for(e=0;e<t.length;e++)for(Qc(n=t[e]),n=n.adornments;n.next();)(i=n.value).measure(1/0,1/0),i.arrange(),i.Pd(!0);for(e=0;e<a.length;e++)Qc(a[e]);E(t),E(a)}}},e.tc=function(t,e,n){if(this.visible&&0!==this.tb&&(void 0===n&&(n=!0),n||!this.isTemporary)){var i=(n=this.Ma.s).length;if(0!==i){var a=ba(this,t),o=this.Bn;o.length=0;for(var r=e.scale,s=jt.alloc(),l=0;l<i;l++)this.$h(t,n[l],e,o,r,s,!0);jt.free(s),t.globalAlpha=a}}},e.$h=function(t,e,n,i,a,o,r){if(!r||fh(e)){if(null!==i&&e instanceof Ih&&(e.isOrthogonal&&i.push(e),!1===e.xd))return;for(r=!1,i=e.containingGroup;null!==i;)r?null!==i.ib&&o.ix(i.ib):null!==i.ib&&(r=!0,o.assign(i.ib)),i=i.containingGroup;var s=e.actualBounds;if(i=!1,r&&e.isVisible()){if(!o.Sc(s))return;i=!o.Ee(s)}i&&(t.save(),t.beginPath(),t.rect(o.x,o.y,o.width,o.height),t.clip()),s.width*a>n.nq||s.height*a>n.nq?e.tc(t,n):(a=e.actualBounds,o=e.naturalBounds,0===a.width||0===a.height||isNaN(a.x)||isNaN(a.y)||!e.isVisible()||(n=e.transform,null!==e.areaBackground&&(Br(e,t,e.areaBackground,!0,!0,o,a),t.fillRect(a.x,a.y,a.width,a.height)),null===e.areaBackground&&null===e.background&&(Br(e,t,"rgba(0,0,0,0.3)",!0,!1,o,a),t.fillRect(a.x,a.y,a.width,a.height)),null!==e.background&&(t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),Br(e,t,e.background,!0,!1,o,a),t.fillRect(0,0,o.width/2,o.height/2),n.Vr()||(e=1/(n.m11*n.m22-n.m12*n.m21),t.transform(n.m22*e,-n.m12*e,-n.m21*e,n.m11*e,e*(n.m21*n.dy-n.m22*n.dx),e*(n.m12*n.dx-n.m11*n.dy)))))),i&&(t.restore(),t.Oc(!0))}},e.g=function(t,e,n,i,a){var o=this.diagram;null!==o&&o.bb(pn,t,this,e,n,i,a)},e.ii=function(t,e,n){var i=this.Ma;if(e.Ah=this,t>=i.count)t=i.count;else if(i.K(t)===e)return-1;return i.Cb(t,e),e.yo(n),null!==(i=this.diagram)&&(n?i.N():i.ii(e)),Sa(this,t,e),t},e.lc=function(t,e,n){if(!n&&e.layer!==this&&null!==e.layer)return e.layer.lc(t,e,n);var i=this.Ma;if(0>t||t>=i.length){if(0>(t=i.indexOf(e)))return-1}else if(i.K(t)!==e&&0>(t=i.indexOf(e)))return-1;return e.zo(n),i.mb(t),null!==(i=this.diagram)&&(n?i.N():i.lc(e)),e.Ah=null,t},u.Object.defineProperties(xa.prototype,{parts:{get:function(){return this.Ma.iterator}},partsBackwards:{get:function(){return this.Ma.iteratorBackwards}},diagram:{get:function(){return this.H}},name:{get:function(){return this.va},set:function(t){var e=this.va;if(e!==t){var n=this.diagram;if(null!==n)for(""===e&&b("Cannot rename default Layer to: "+t),n=n.layers;n.next();)n.value.name===t&&b("Layer.name is already present in this diagram: "+t);for(this.va=t,this.g("name",e,t),t=this.Ma.iterator;t.next();)t.value.layerName=this.va}}},opacity:{get:function(){return this.tb},set:function(t){var e=this.tb;e!==t&&((0>t||1<t)&&k(t,"0 <= value <= 1",xa,"opacity"),this.tb=t,this.g("opacity",e,t),null!==(t=this.diagram)&&t.N())}},isTemporary:{get:function(){return this.m},set:function(t){var e=this.m;e!==t&&((this.m=t)&&(this.isInDocumentBounds=!1),this.g("isTemporary",e,t))}},visible:{get:function(){return this.u},set:function(t){var e=this.u;if(e!==t){for(this.u=t,this.g("visible",e,t),e=this.Ma.iterator;e.next();)e.value.Ub(t);null!==(t=this.diagram)&&t.N()}}},pickable:{get:function(){return this.Nh},set:function(t){var e=this.Nh;e!==t&&(this.Nh=t,this.g("pickable",e,t))}},isInDocumentBounds:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t,null!==this.diagram&&this.diagram.Va())}},allowCopy:{get:function(){return this.zi},set:function(t){var e=this.zi;e!==t&&(this.zi=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.Ai},set:function(t){var e=this.Ai;e!==t&&(this.Ai=t,this.g("allowDelete",e,t))}},allowTextEdit:{get:function(){return this.Ji},set:function(t){var e=this.Ji;e!==t&&(this.Ji=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.Bi},set:function(t){var e=this.Bi;e!==t&&(this.Bi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.Ki},set:function(t){var e=this.Ki;e!==t&&(this.Ki=t,this.g("allowUngroup",e,t))}},allowLink:{get:function(){return this.Ci},set:function(t){var e=this.Ci;e!==t&&(this.Ci=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.Ei},set:function(t){var e=this.Ei;e!==t&&(this.Ei=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.Di},set:function(t){var e=this.Di;e!==t&&(this.Di=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.Fi},set:function(t){var e=this.Fi;e!==t&&(this.Fi=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.Gi},set:function(t){var e=this.Gi;e!==t&&(this.Gi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.Hi},set:function(t){var e=this.Hi;e!==t&&(this.Hi=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.Ii},set:function(t){var e=this.Ii;e!==t&&(this.Ii=t,this.g("allowSelect",e,t))}}}),xa.prototype.findObjectsNear=xa.prototype.hg,xa.prototype.findObjectsIn=xa.prototype.tf,xa.prototype.findObjectsAt=xa.prototype.di,xa.prototype.findObjectAt=xa.prototype.ec,xa.className="Layer",ka.prototype.clear=function(){this.animationManager.wc(),this.model.clear(),Do=null,Fo="",Ma(this,!1),this.Fn.clear(),Bc(),this.Fg.clear(),this.Qh=null,this.Va(),this.Za(),this.N()},ka.prototype.reset=function(){this.clear(),this.wb=!0,Pa(this),wo(this),this.Mg=!0,Aa(this),this.layout=new Yd,this.Mg=!1,this.model=sf(),this.model.undoManager=new vn,this.wb=this.Ym=!1,this.N()},ka.prototype.setRTL=function(t){null===(t=void 0===t?this.div:t)&&(t=m.document.body);var e=x("div");e.dir="rtl",e.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",e.textContent="A",t.appendChild(e);var n="reverse";0<e.scrollLeft?n="default":(e.scrollLeft=1,0===e.scrollLeft&&(n="negative")),t.removeChild(e),this.Ht=n},ka.prototype.setScrollWidth=function(t){null===(t=void 0===t?this.div:t)&&(t=m.document.body);var e=0;if(jo){var n=Bo;e=ga,null===n&&((n=Bo=x("p")).style.width="100%",n.style.height="200px",n.style.boxSizing="content-box",(e=ga=x("div")).style.position="absolute",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.boxSizing="content-box",e.appendChild(n)),e.style.overflow="hidden",t.appendChild(e);var i=n.offsetWidth;e.style.overflow="scroll",i===(n=n.offsetWidth)&&(n=e.clientWidth),t.removeChild(e),0!==(e=i-n)||I||(e=11)}this.Ab=e,this.kw=!0},ka.prototype.ob=function(t){t.classType===ka&&(this.autoScale=t)},ka.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.div&&this.div.id&&(e=this.div.id),e='Diagram "'+e+'"',0>=t)return e;for(var n=this.Ua.iterator;n.next();)e+="\n  "+n.value.toString(t-1);return e},ka.prototype.addEventListener=function(t,e,n,i){t.addEventListener(e,n,{capture:i,passive:!1})},ka.prototype.removeEventListener=function(t,e,n,i){t.removeEventListener(e,n,{capture:i})},ka.prototype.computePixelRatio=function(){return null!==this.Rh?this.Rh:m.devicePixelRatio||1},ka.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},ka.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},ka.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},ka.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},ka.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},ka.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},ka.prototype.doFocus=function(){this.focus()},ka.prototype.focus=function(){if(this.Ha)if(this.scrollsPageOnFocus)this.Ha.focus();else{var t=m.scrollX||m.pageXOffset,e=m.scrollY||m.pageYOffset;this.Ha.focus(),m.scrollTo(t,e)}},ka.prototype.wy=function(){this.H.P("GainedFocus")},ka.prototype.vy=function(){this.H.P("LostFocus")},ka.prototype.Nw=function(t){if(null!==this.Ha){var e=this.Qt,n=this.Nt;this.Nq=!0;var i=this.documentBounds,a=this.viewportBounds,o=this.mj,r=i.x-o.left,s=i.y-o.top,l=i.width+o.left+o.right,c=i.height+o.top+o.bottom,h=i.right+o.right;o=i.bottom+o.bottom;var d=a.x;i=a.y;var u=a.width,f=a.height,p=a.right,g=a.bottom;a=this.scale;var m=t.scrollLeft;if(this.$m)switch(this.Ht){case"negative":m=m+t.scrollWidth-t.clientWidth;break;case"reverse":m=t.scrollWidth-m-t.clientWidth}var y=m;u<l||f<c?(m=gt.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.Pt!==y&&(m.x=y/a+r,this.Pt=y),this.allowVerticalScroll&&this.Rt!==t.scrollTop&&(m.y=t.scrollTop/a+s,this.Rt=t.scrollTop),this.position=m,gt.free(m),this.Ti=this.Nq=!1):(m=gt.alloc(),t.$x&&this.allowHorizontalScroll&&(r<d&&(this.position=m.h(y+r,this.position.y)),h>p&&(this.position=m.h(-(e.scrollWidth-this.Ba)+y-this.Ba/a+h,this.position.y))),t.ay&&this.allowVerticalScroll&&(s<i&&(this.position=m.h(this.position.x,t.scrollTop+s)),o>g&&(this.position=m.h(this.position.x,-(e.scrollHeight-this.Aa)+t.scrollTop-this.Aa/a+o))),gt.free(m),Qa(this),this.Ti=this.Nq=!1,i=this.documentBounds,a=this.viewportBounds,h=i.right,p=a.right,o=i.bottom,g=a.bottom,r=i.x,d=a.x,s=i.y,i=a.y,u>=l&&r>=d&&h<=p&&(n.style.width="1px"),f>=c&&s>=i&&o<=g&&(n.style.height="1px"))}},ka.prototype.computeBounds=function(t){return void 0===t&&(t=new jt),Ya(this),Ba(this,t)},ka.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);var n=null;if(_(t))for(var i=0;i<t.length;i++){var a=t[i];!e&&a instanceof Ih||(a.Za(),null===n?n=a.actualBounds.copy():n.Xc(a.actualBounds))}else for(t=t.iterator;t.next();)i=t.value,!e&&i instanceof Ih||(i.Za(),null===n?n=i.actualBounds.copy():n.Xc(i.actualBounds));return null===n?new jt(NaN,NaN,0,0):n},ka.prototype.zoomToFit=function(){var t=this.nj;this.nj=Yo,this.scale=Da(this,Io),t!==Yo&&(ja(this,!1),Fa(this,this.documentBounds,this.Ba/this.xa,this.Aa/this.xa,this.lk,!1)),this.nj=t},(e=ka.prototype).kA=function(t,e){void 0===e&&(e=Io);var n=t.width,i=t.height;if(!(0===n||0===i||isNaN(n)&&isNaN(i))){var a=1;if(e===Io||e===zo)if(isNaN(n))a=this.viewportBounds.height*this.scale/i;else if(isNaN(i))a=this.viewportBounds.width*this.scale/n;else{a=this.Ba;var o=this.Aa;a=e===zo?o/i>a/n?(o-(this.We?this.Ab:0))/i:(a-(this.Of?this.Ab:0))/n:Math.min(o/i,a/n)}this.scale=a,this.position=new gt(t.x,t.y)}},e.py=function(t,e){this.Za();var n=this.documentBounds,i=this.viewportBounds;this.position=new gt(n.x+(t.x*n.width+t.offsetX)-(e.x*i.width-e.offsetX),n.y+(t.y*n.height+t.offsetY)-(e.y*i.height-e.offsetY))},e.gz=function(t){if(t instanceof Tr){this.Hp=t;var e=gt.alloc();this.Ip=this.Ro(t.ia(ee,e)),gt.free(e)}else this.Hp=null,this.Ip=st},e.vl=function(t,e){if(void 0===e&&(e=!0),e){if((t=Ra(this,t,(function(t){return t.part}),(function(t){return t.canSelect()})))instanceof $c)return t}else if((t=Ra(this,t,(function(t){return t.part})))instanceof $c)return t;return null},e.ec=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),Ya(this);for(var i=this.Ua.iteratorBackwards;i.next();){var a=i.value;if(a.visible&&null!==(a=a.ec(t,e,n)))return a}return null},e.Uy=function(t,e,n){return void 0===e&&(e=!0),function(t,e,n,i,a){for(void 0===n&&(n=null),void 0===i&&(i=null),a instanceof $||a instanceof Q||(a=new Q),Ya(t),t=t.Ua.iteratorBackwards;t.next();){var o=t.value;o.visible&&!o.isTemporary&&o.di(e,n,i,a)}return a}(this,t,(function(t){return t.part}),e?function(t){return t instanceof $c&&t.canSelect()}:null,n)},e.di=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),i instanceof $||i instanceof Q||(i=new Q),Ya(this);for(var a=this.Ua.iteratorBackwards;a.next();){var o=a.value;o.visible&&o.di(t,e,n,i)}return i},e.Ww=function(t,e,n,i){return void 0===e&&(e=!1),void 0===n&&(n=!0),function(t,e,n,i,a){var o=null;for(void 0===o&&(o=null),void 0===n&&(n=null),void 0===i&&(i=!1),a instanceof $||a instanceof Q||(a=new Q),Ya(t),t=t.Ua.iteratorBackwards;t.next();){var r=t.value;r.visible&&!r.isTemporary&&r.tf(e,o,n,i,a)}return a}(this,t,(function(t){return t instanceof $c&&(!n||t.canSelect())}),e,i)},e.tf=function(t,e,n,i,a){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),a instanceof $||a instanceof Q||(a=new Q),Ya(this);for(var o=this.Ua.iteratorBackwards;o.next();){var r=o.value;r.visible&&r.tf(t,e,n,i,a)}return a},e.yu=function(t,e,n,i,a,o){var r=new Q;Ya(this);for(var s=this.Ua.iteratorBackwards;s.next();){var l=s.value;l.visible&&l.yu(t,e,n,i,r,a,o)}return r},e.Vy=function(t,e,n,i,a){return void 0===n&&(n=!0),void 0===i&&(i=!0),function(t,e,n,i,a,o){var r=null;void 0===r&&(r=null),void 0===i&&(i=null),void 0===a&&(a=!0),!1!==a&&!0!==a&&((a instanceof $||a instanceof Q)&&(o=a),a=!0);for(o instanceof $||o instanceof Q||(o=new Q),Ya(t),t=t.Ua.iteratorBackwards;t.next();){var s=t.value;s.visible&&!s.isTemporary&&s.hg(e,n,r,i,a,o)}return o}(this,t,e,(function(t){return t instanceof $c&&(!i||t.canSelect())}),n,a)},e.hg=function(t,e,n,i,a,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===a&&(a=!0),!1!==a&&!0!==a&&((a instanceof $||a instanceof Q)&&(o=a),a=!0),o instanceof $||o instanceof Q||(o=new Q),Ya(this);for(var r=this.Ua.iteratorBackwards;r.next();){var s=r.value;s.visible&&s.hg(t,e,n,i,a,o)}return o},ka.prototype.acceptEvent=function(t){return Ia(this,t,t instanceof MouseEvent)},ka.prototype.yz=function(t){var e=this.H;if(!this.H.isEnabled)return!1;var n=Ia(e,t,!1);switch(n.key=String.fromCharCode(t.which),n.down=!0,t.which){case 8:n.key="Backspace";break;case 33:n.key="PageUp";break;case 34:n.key="PageDown";break;case 35:n.key="End";break;case 36:n.key="Home";break;case 37:n.key="Left";break;case 38:n.key="Up";break;case 39:n.key="Right";break;case 40:n.key="Down";break;case 45:n.key="Insert";break;case 46:n.key="Del";break;case 48:n.key="0";break;case 187:case 61:case 107:n.key="Add";break;case 189:case 173:case 109:n.key="Subtract";break;case 27:n.key="Esc"}return e.doKeyDown(),Va(n,t)},ka.prototype.zz=function(t){var e=this.H;if(!e.isEnabled)return!1;var n=Ia(e,t,!1);switch(n.key=String.fromCharCode(t.which),n.up=!0,t.which){case 8:n.key="Backspace";break;case 33:n.key="PageUp";break;case 34:n.key="PageDown";break;case 35:n.key="End";break;case 36:n.key="Home";break;case 37:n.key="Left";break;case 38:n.key="Up";break;case 39:n.key="Right";break;case 40:n.key="Down";break;case 45:n.key="Insert";break;case 46:n.key="Del"}return e.doKeyUp(),Va(n,t)},ka.prototype.Jy=function(t){var e=this.H;if(!e.isEnabled)return!1;var n=Ia(e,t,!0);return null!==e.mouseEnter&&e.mouseEnter(n),Va(n,t)},ka.prototype.Ky=function(t){var e=this.H;if(!e.isEnabled)return!1;var n=Ia(e,t,!0);return null!==e.mouseLeave&&e.mouseLeave(n),Va(n,t)},ka.prototype.getMouse=function(t){var e=this.Ha;if(null===e)return new gt(0,0);var n=e.getBoundingClientRect();return e=t.clientX-this.Ba/n.width*n.left,t=t.clientY-this.Aa/n.height*n.top,null!==this.Bb?wt(new gt(e,t),this.Bb):new gt(e,t)},ka.prototype.Va=function(){this.Si||(this.Si=!0,this.Mb(!0))},ka.prototype.redraw=function(){this.wb||this.cd||(this.N(),Ja(this),this.nd())},(e=ka.prototype).xz=function(){return this.cg},e.Ey=function(t){void 0===t&&(t=null);var e=this.animationManager,n=e.isEnabled;e.wc(),e.isEnabled=!1,qa(this),this.Qf=!1,this.Jt=new gt(NaN,NaN),e.isEnabled=n,this.cd=!0;var i=this;null!==t&&w((function(){i.cd=!1,Ui(e,"Model"),t(i)}),1)},e.Mb=function(t){if(void 0===t&&(t=!1),!0!==this.cg&&!(this.wb||!1===t&&this.cd)){this.cg=!0;var e=this;m.requestAnimationFrame((function(){e.cg&&e.nd()}))}},e.nd=function(){this.Nm&&!this.cg||(this.Nm&&(this.Nm=!1),qa(this))},e.rv=function(t,e){for(t.reset();t.next();){var n=t.value;!n.Tc()||n instanceof jh||(n.mi()?(n.measure(1/0,1/0),n.arrange()):e.add(n))}for(t.reset();t.next();)(n=t.value)instanceof jh&&n.isVisible()&&Xa(this,n);for(t.reset();t.next();)(n=t.value)instanceof Ih&&n.isVisible()&&(n.mi()?(n.measure(1/0,1/0),n.arrange()):e.add(n));for(t.reset();t.next();)(n=t.value)instanceof vh&&n.isVisible()&&(n.mi()?(n.measure(1/0,1/0),n.arrange()):e.add(n))},e.Pd=function(t,e,n,i){if(this.Ui||this.animationManager.isAnimating)for(var a=0;a<e;a++)t[a].Pd(n,i)},e.tc=function(t,e){if(null!==this.La){null===this.Ha&&b("No canvas specified");var n=this.animationManager;if(!n.zb&&(!n.isAnimating||n.isTicking)){var i=new Date;if(to(this),"0"!==this.La.style.opacity){var a=t!==this.Zb,o=this.Ua.s,r=o.length,s=this;if(this.Pd(o,r,s,s.viewportBounds),a)t.Oc(!0),Qa(this);else if(!this.bd&&void 0===e&&!n.isAnimating)return;r=this.pa;var l=this.xa,c=Math.round(r.x*l)/l,h=Math.round(r.y*l)/l;for((n=this.Bb).reset(),1!==l&&n.scale(l),0===r.x&&0===r.y||n.translate(-c,-h),l=this.kc,t.setTransform(l,0,0,l,0,0),t.clearRect(0,0,this.Ba,this.Aa),1!==this.tb&&(t.globalAlpha=this.tb),Za(this,t),c=void 0!==e?function(n){if(n.visible&&0!==n.tb){var i=n.Ma.s,a=i.length;if(0!==a){var o=ba(n,t),r=n.Bn;r.length=0;for(var l=s.scale,c=jt.alloc(),h=0;h<a;h++){var d=i[h];e.contains(d)||n.$h(t,d,s,r,l,c,!0)}jt.free(c),t.globalAlpha=o}}}:function(e){e.tc(t,s)},r=o.length,h=0;h<r;h++)t.setTransform(l,0,0,l,0,0),t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),t.Pc(),c(o[h]);if(o=!1,this.vh?ar(this.vh,this)&&(o=this.Qs()):o=!0,o&&(Ve.prototype.Ld=Ve.prototype.Fw),a?(this.Zb.Oc(!0),Qa(this)):this.bd=this.Ui=!1,o=+new Date-+i,a=W&&W.Rw,i=this.dw,a||null===this.Rh){for(i[this.sq]=o,this.sq=(this.sq+1)%i.length,n=o=0;n<i.length;n++)o+=i[n];this.rq=o/i.length}if(1!==this.tb&&(t.globalAlpha=1),a)for(t.setTransform(1,0,0,1,0,0),a=0;a<i.length;a++)t.fillText(i[a].toString(),20,150+20*a)}}}this.drawWaterMark&&this.drawWaterMark()},e.Ge=function(t){return this.Ig[t]},e.Fx=function(t,e){"minDrawingLength"===t&&(this.nq=e),this.Ig[t]=e,this.redraw()},e.Ax=function(){this.Ig=new U,this.Ig.drawShadows=!0,this.Ig.textGreeking=!0,this.Ig.viewportOptimizations=!I&&!F,this.Ig.temporaryPixelRatio=!0,this.Ig.pictureRatioOptimization=!0,this.nq=this.Ig.minDrawingLength=1},e.xl=function(t){return this.Vm[t]},e.Zz=function(t,e){this.Vm[t]=e},e.zx=function(){this.Vm=new U,this.Vm.extraTouchArea=10,this.Vm.extraTouchThreshold=10,this.Vm.hasGestureZoom=!0},e.set=function(t){return Object.assign(this,t),this},e.ku=function(t){return this.Vl(t)},e.Vl=function(t){return $a(this,t),this},e.Er=function(){if(0===this.undoManager.transactionLevel&&0!==this.th.count){for(;0<this.th.count;){var t=this.th;for(this.th=new pt,t=t.iterator;t.next();){var e=t.key;e.Ao(t.value),e.mc()}}this.N()}},e.N=function(t){if(void 0===t)this.bd=!0,this.Mb();else{var e=this.viewportBounds;t.v()&&e.Sc(t)&&(this.bd=!0,this.Mb())}this.P("InvalidateDraw")},ka.prototype.invalidateViewport=function(t,e){if(!0!==this.bd){this.bd=!0;var n=!0===this.Ge("temporaryPixelRatio");if(!0===this.Ge("viewportOptimizations")&&this.scrollMode!==Xo&&this.mj.bi(0,0,0,0)&&e.width===t.width&&e.height===t.height){var i=this.scale,a=Math.max(t.x,e.x),o=Math.max(t.y,e.y);if(i=jt.allocAt(a,o,Math.max(0,Math.min(t.x+t.width,e.x+e.width)-a)*i,Math.max(0,Math.min(t.y+t.height,e.y+e.height)-o)*i),!this.kr&&0<i.width&&0<i.height){if(!(this.cd||(this.cg=!1,null===this.La||(this.cd=!0,this.Er(),this.documentBounds.v()||(a=jt.alloc(),xo(this,this.computeBounds(a)),jt.free(a)),a=this.Ha,null===a||a instanceof ss)))){var r=this.kc;o=this.Ba*r;var s=this.Aa*r,l=this.scale*r,c=Math.round(Math.round(e.x*l)-Math.round(t.x*l));e=Math.round(Math.round(e.y*l)-Math.round(t.y*l)),l=this.Ov,t=this.Ux,l.width!==o&&(l.width=o),l.height!==s&&(l.height=s),t.clearRect(0,0,o,s),l=190*r;var h=70*r,d=Math.max(c,0),u=Math.max(e,0),f=Math.floor(o-d),p=Math.floor(s-u);t.drawImage(a.Sa,d,u,f,p,0,0,f,p),ar(this.vh,this)&&t.clearRect(0,0,l,h),a=A(),t=A(),p=Math.abs(c),f=Math.abs(e);var g=0===d?0:o-p;d=gt.allocAt(g,0),p=gt.allocAt(p+g,s),t.push(new jt(Math.min(d.x,p.x),Math.min(d.y,p.y),Math.abs(d.x-p.x),Math.abs(d.y-p.y)));var m=this.Bb;if(m.reset(),m.scale(r,r),1!==this.xa&&m.scale(this.xa),(0!==(r=this.pa).x||0!==r.y)&&isFinite(r.x)&&isFinite(r.y)&&m.translate(-r.x,-r.y),wt(d,m),wt(p,m),a.push(new jt(Math.min(d.x,p.x),Math.min(d.y,p.y),Math.abs(d.x-p.x),Math.abs(d.y-p.y))),g=0===u?0:s-f,d.h(0,g),p.h(o,f+g),t.push(new jt(Math.min(d.x,p.x),Math.min(d.y,p.y),Math.abs(d.x-p.x),Math.abs(d.y-p.y))),wt(d,m),wt(p,m),a.push(new jt(Math.min(d.x,p.x),Math.min(d.y,p.y),Math.abs(d.x-p.x),Math.abs(d.y-p.y))),ar(this.vh,this)&&(o=0<c?0:-c,s=0<e?0:-e,d.h(o,s),p.h(l+o,h+s),t.push(new jt(Math.min(d.x,p.x),Math.min(d.y,p.y),Math.abs(d.x-p.x),Math.abs(d.y-p.y))),wt(d,m),wt(p,m),a.push(new jt(Math.min(d.x,p.x),Math.min(d.y,p.y),Math.abs(d.x-p.x),Math.abs(d.y-p.y)))),gt.free(d),gt.free(p),Wa(this,!1,!0),null===this.La&&b("No div specified"),null===this.Ha&&b("No canvas specified"),!this.animationManager.zb&&(o=this.Zb,this.bd)){for(to(this),s=this.kc,o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,this.Ba*s,this.Aa*s),o.drawImage(this.Ov.Sa,0<c?0:Math.round(-c),0<e?0:Math.round(-e)),c=this.pa,r=this.xa,l=Math.round(c.x*r)/r,h=Math.round(c.y*r)/r,(e=this.Bb).reset(),1!==r&&e.scale(r),0===c.x&&0===c.y||e.translate(-l,-h),o.save(),o.beginPath(),c=t.length,r=0;r<c;r++)0!==(l=t[r]).width&&0!==l.height&&o.rect(Math.floor(l.x),Math.floor(l.y),Math.ceil(l.width),Math.ceil(l.height));for(o.clip(),o.setTransform(s,0,0,s,0,0),o.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),o.Pc(),c=(e=this.Ua.s).length,this.Pd(e,c,this,this.viewportBounds),Za(this,o),o.globalAlpha=this.tb,s=0;s<c;s++)if(l=a,(r=e[s]).visible&&0!==r.tb){h=ba(r,o),(u=r.Bn).length=0,d=this.scale,f=jt.alloc(),m=(p=r.Ma.s).length,g=l.length;for(var y=0;y<m;y++){var v=p[y],w=ih(v,v.actualBounds);t:{for(var x=2/d,S=4/d,k=0;k<g;k++){var P=l[k];if(0!==P.width&&0!==P.height&&w.Gu(P.x-x,P.y-x,P.width+S,P.height+S)){w=!0;break t}}w=!1}w&&r.$h(o,v,this,u,d,f,!0)}jt.free(f),o.globalAlpha=h}o.restore(),o.Oc(!0),this.vh&&ar(this.vh,this)&&this.Qs(),this.bd=this.Ui=!1,this.Jo()}E(a),E(t),this.cd=!1}}else this.nd();jt.free(i),n&&(La(this),this.nd(),Ta(this,!0))}else n?(La(this),this.nd(),Ta(this,!0)):this.nd()}},(e=ka.prototype).add=function(t){var e=t.diagram;if(e!==this&&(null!==e&&b("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),null===(e=this.Ij(t.layerName))&&(e=this.Ij("")),null===e&&b('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer!==e)){var n=e.ii(99999999,t,t.diagram===this);0<=n&&this.bb(gn,"parts",e,null,t,null,n),e.isTemporary||this.Va(),t.D(1),null!==(n=t.layerChanged)&&n(t,null,e)}},e.ii=function(t){this.partManager.ii(t);var e=this;gl(t,(function(t){mo(e,t)})),(t instanceof vh||t instanceof jh&&null!==t.placeholder)&&t.w(),null!==t.data&&gl(t,(function(t){Au(e.partManager,t)})),!0!==Yr(t)&&!0!==hh(t)||this.te.add(t),lh(t,!0,this),gh(t)?(t.actualBounds.v()&&this.N(ih(t,t.actualBounds)),this.Va()):t.isVisible()&&t.actualBounds.v()&&this.N(ih(t,t.actualBounds)),this.Mb()},e.lc=function(t){t.zj(),this.partManager.lc(t);var e=this;null!==t.data&&gl(t,(function(t){Eu(e.partManager,t,e)})),this.te.remove(t),gh(t)?(t.actualBounds.v()&&this.N(ih(t,t.actualBounds)),this.Va()):t.isVisible()&&t.actualBounds.v()&&this.N(ih(t,t.actualBounds)),this.Mb()},e.remove=function(t){io(this,t,!0)},e.js=function(t,e){if(void 0===e&&(e=!1),_(t))for(var n=t.length,i=0;i<n;i++){var a=t[i];e&&!a.canDelete()||this.remove(a)}else for((n=new Q).addAll(t),t=n.iterator;t.next();)n=t.value,e&&!n.canDelete()||this.remove(n)},e.Ej=function(t,e,n){return void 0===n&&(n=!1),this.partManager.Ej(t,e,n)},ka.prototype.moveParts=function(t,e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=ro(this)),null!==this.toolManager){var a=new pt;if(null!==t)if(_(t))for(var o=0;o<t.length;o++)ao(this,a,t[o],n,i);else for(t=t.iterator;t.next();)ao(this,a,t.value,n,i);else{for(t=this.parts;t.next();)ao(this,a,t.value,n,i);for(t=this.nodes;t.next();)ao(this,a,t.value,n,i);for(t=this.links;t.next();)ao(this,a,t.value,n,i)}oo(this,a,e,i,n)}},ka.prototype.computeMove=function(t,e,n,i){if(void 0===i&&(i=new gt),i.assign(e),null===t)return i;var a=e,o=n.isGridSnapEnabled;o&&(n.isGridSnapRealtime||this.lastInput.up)&&so(this,t,e,a=gt.alloc(),n),n=null!==t.dragComputation?t.dragComputation(t,e,a):a;var r=t.minLocation,s=r.x;isNaN(s)&&(s=o?Math.round(1e3*t.location.x)/1e3:t.location.x),r=r.y,isNaN(r)&&(r=o?Math.round(1e3*t.location.y)/1e3:t.location.y);var l=t.maxLocation,c=l.x;return isNaN(c)&&(c=o?Math.round(1e3*t.location.x)/1e3:t.location.x),l=l.y,isNaN(l)&&(l=o?Math.round(1e3*t.location.y)/1e3:t.location.y),i.h(Math.max(s,Math.min(n.x,c)),Math.max(r,Math.min(n.y,l))),a!==e&&gt.free(a),i},(e=ka.prototype).Fd=function(t,e,n){if(void 0===n)return new rr(it);var i=t.isGridSnapEnabled;return t.groupsSnapMembers||null===e.containingGroup||(i=!1),new rr(i?new gt(Math.round(1e3*n.x)/1e3,Math.round(1e3*n.y)/1e3):n.copy())},e.ol=function(t){uo(this,t,null),t.Le(this);var e=this.Ua,n=e.count-1;if(!t.isTemporary)for(;0<=n&&e.K(n).isTemporary;)n--;return e.Cb(n+1,t),null!==this.ac&&this.bb(gn,"layers",this,null,t,null,n+1),this.N(),this.Va(),this},e.Aw=function(t,e){uo(this,t,e),t.Le(this);var n=this.Ua,i=n.indexOf(t);0<=i&&(n.remove(t),null!==this.ac&&this.bb(mn,"layers",this,t,null,i,null));var a,o=n.count;for(a=0;a<o;a++)if(n.K(a)===e){n.Cb(a,t);break}return null!==this.ac&&this.bb(gn,"layers",this,null,t,null,a),this.N(),0>i&&this.Va(),this},e.jy=function(t,e){uo(this,t,e),t.Le(this);var n=this.Ua,i=n.indexOf(t);0<=i&&(n.remove(t),null!==this.ac&&this.bb(mn,"layers",this,t,null,i,null));var a,o=n.count;for(a=0;a<o;a++)if(n.K(a)===e){n.Cb(a+1,t);break}return null!==this.ac&&this.bb(gn,"layers",this,null,t,null,a+1),this.N(),0>i&&this.Va(),this},e.Rz=function(t){if(t.diagram!==this&&b("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),""!==t.name){var e=this.Ua,n=e.indexOf(t);if(e.remove(t)){for(e=t.Ma.copy().iterator;e.next();){var i=e.value,a=i.layerName;a!==t.name?i.layerName=a:i.layerName=""}null!==this.ac&&this.bb(mn,"layers",this,t,null,n,null),this.N(),this.Va()}}},e.Ij=function(t){for(var e=this.layers;e.next();){var n=e.value;if(n.name===t)return n}return null},e.Cw=function(t){return null===this.bf&&(this.bf=new $),this.bf.add(t),this.model.Ug(t),this},e.Tz=function(t){null!==this.bf&&(this.bf.remove(t),0===this.bf.count&&(this.bf=null)),this.model.$j(t)},e.Ug=function(t){return null===this.qg&&(this.qg=new $),this.qg.add(t),this},e.$j=function(t){null!==this.qg&&(this.qg.remove(t),0===this.qg.count&&(this.qg=null))},e.Cr=function(t){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.Eu(t),t.change!==fn&&(this.isModified=!0),null!==this.qg)for(var e=this.qg,n=e.length,i=0;i<n;i++)e.K(i)(t)},e.bb=function(t,e,n,i,a,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var s=new un;s.diagram=this,s.change=t,s.propertyName=e,s.object=n,s.oldValue=i,s.oldParam=o,s.newValue=a,s.newParam=r,this.Cr(s)},e.g=function(t,e,n,i,a){this.bb(pn,t,this,e,n,i,a)},ka.prototype.changeState=function(t,e){if(null!==t&&t.diagram===this){var n=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var i=t.change;if(i===pn){var a=t.object;if(df(a,t.propertyName,t.I(e)),a instanceof Tr){var o=a.part;null!==o&&o.Rb()}this.isModified=!0}else if(i===gn){var r=t.object,s=t.newParam,l=t.newValue;if(r instanceof cl)if("number"==typeof s&&l instanceof Tr){e?r.lc(s):r.Cb(s,l);var c=r.part;null!==c&&c.Rb()}else"number"==typeof s&&l instanceof Rl&&(l.isRow?bl(r,s,e?void 0:l):Sl(r,s,e?void 0:l));else if(r instanceof xa){var h=!0===t.oldParam;"number"==typeof s&&l instanceof $c&&(e?(l.isSelected=!1,l.isHighlighted=!1,l.Rb(),r.lc(h?s:-1,l,h)):r.ii(s,l,h))}else r instanceof ka?"number"==typeof s&&l instanceof xa&&(e?this.Ua.mb(s):(l.Le(this),this.Ua.Cb(s,l))):b("unknown ChangedEvent.Insert object: "+t.toString());this.isModified=!0}else if(i===mn){var d=t.object,u=t.oldParam,f=t.oldValue;if(d instanceof cl)"number"==typeof u&&f instanceof Tr?e?d.Cb(u,f):d.lc(u):"number"==typeof u&&f instanceof Rl&&(f.isRow?bl(d,u,e?f:void 0):Sl(d,u,e?f:void 0));else if(d instanceof xa){var p=!0===t.newParam;"number"==typeof u&&f instanceof $c&&(e?0>d.Ma.indexOf(f)&&d.ii(u,f,p):(f.isSelected=!1,f.isHighlighted=!1,f.Rb(),d.lc(p?u:-1,f,p)))}else d instanceof ka?"number"==typeof u&&f instanceof xa&&(e?(f.Le(this),this.Ua.Cb(u,f)):this.Ua.mb(u)):b("unknown ChangedEvent.Remove object: "+t.toString());this.isModified=!0}else i!==fn&&b("unknown ChangedEvent: "+t.toString())}finally{this.skipsModelSourceBindings=n}}},ka.prototype.Da=function(t){return this.undoManager.Da(t)},ka.prototype.eb=function(t){return this.undoManager.eb(t)},ka.prototype.Bf=function(){return this.undoManager.Bf()},ka.prototype.commit=function(t,e){void 0===e&&(e="");var n=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.Da(e);var i=!1;try{t(this),i=!0}finally{i?this.undoManager.eb(e):this.undoManager.Bf(),this.skipsUndoManager=n}},ka.prototype.updateAllTargetBindings=function(t){this.partManager.updateAllTargetBindings(t)},ka.prototype.Uo=function(){this.partManager.Uo()},ka.prototype.onViewportBoundsChanged=function(t,e,n,i){if(!t.C(e)){void 0===i&&(i=!1),i||Ja(this),Qa(this);var a=this.layout;null===a||!a.isViewportSized||this.autoScale!==Ro||i||t.width===e.width&&t.height===e.height||a.D(),a=this.currentTool,!0===this.Jk&&a instanceof bn&&(this.lastInput.documentPoint=this.rs(this.lastInput.viewPoint),Sn(a,this)),this.wb||this.invalidateViewport(t,e),po(this),this.kd.scale=n,this.kd.position.x=t.x,this.kd.position.y=t.y,this.kd.bounds.assign(t),this.kd.Hw.width=Math.round(t.width*n),this.kd.Hw.height=Math.round(t.height*n),this.kd.sx.width=this.Ba,this.kd.sx.height=this.Aa,this.kd.lx=i,this.P("ViewportBoundsChanged",this.kd,t),this.isVirtualized&&this.links.each((function(t){t.isAvoiding&&t.actualBounds.Sc(e)&&t.ab()}))}},ka.prototype.clearSelection=function(t){void 0===t&&(t=!1);var e=this.selection;if(0!==e.count){t||this.P("ChangingSelection",e);for(var n=e.Ea(),i=n.length,a=0;a<i;a++)n[a].isSelected=!1;e.ja(),e.clear(),e.freeze(),t||this.P("ChangedSelection",e)}},ka.prototype.select=function(t){null!==t&&t.diagram===this&&(!t.isSelected||1<this.selection.count)&&(this.P("ChangingSelection",this.selection),this.clearSelection(!0),t.isSelected=!0,this.P("ChangedSelection",this.selection))},ka.prototype.Yz=function(t){if(this.P("ChangingSelection",this.selection),this.clearSelection(!0),_(t))for(var e=t.length,n=0;n<e;n++){var i=t[n];i instanceof $c||b("Diagram.selectCollection given something that is not a Part: "+i),i.isSelected=!0}else for(t=t.iterator;t.next();)(e=t.value)instanceof $c||b("Diagram.selectCollection given something that is not a Part: "+e),e.isSelected=!0;this.P("ChangedSelection",this.selection)},ka.prototype.clearHighlighteds=function(){var t=this.highlighteds;if(0<t.count){for(var e=t.Ea(),n=e.length,i=0;i<n;i++)e[i].isHighlighted=!1;t.ja(),t.clear(),t.freeze()}},(e=ka.prototype).qz=function(t){null!==t&&t.diagram===this&&(!t.isHighlighted||1<this.highlighteds.count)&&(this.clearHighlighteds(),t.isHighlighted=!0)},e.rz=function(t){t=(new Q).addAll(t);for(var e=this.highlighteds.copy().Ko(t).iterator;e.next();)e.value.isHighlighted=!1;for(t=t.iterator;t.next();)(e=t.value)instanceof $c||b("Diagram.highlightCollection given something that is not a Part: "+e),e.isHighlighted=!0},e.scroll=function(t,e,n){void 0===n&&(n=1);var i="up"===e||"down"===e,a=0;if("pixel"===t)a=n;else if("line"===t)a=n*(i?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if("page"===t)t=i?this.viewportBounds.height:this.viewportBounds.width,0!==(t*=this.scale)&&(a=n*Math.max(t-(i?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if("document"===t)return a=this.documentBounds,n=this.viewportBounds,i=gt.alloc(),"up"===e?this.position=i.h(n.x,a.y):"left"===e?this.position=i.h(a.x,n.y):"down"===e?this.position=i.h(n.x,a.bottom-n.height):"right"===e&&(this.position=i.h(a.right-n.width,n.y)),void gt.free(i);b("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}a/=this.scale,n=this.position.copy(),"up"===e?n.y=this.position.y-a:"down"===e?n.y=this.position.y+a:"left"===e?n.x=this.position.x-a:"right"===e?n.x=this.position.x+a:b("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=n},e.av=function(t){var e=this.viewportBounds;e.Ee(t)||((t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t)},e.Dr=function(t){var e=this.viewportBounds;(t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t},e.Ro=function(t){var e=this.Bb;e.reset(),1!==this.xa&&e.scale(this.xa);var n=this.pa;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&e.translate(-n.x,-n.y),t.copy().transform(this.Bb)},e.gA=function(t){var e=this.Bb,n=t.x,i=t.y,a=n+t.width,o=i+t.height,r=e.m11,s=e.m12,l=e.m21,c=e.m22,h=e.dx,d=e.dy,u=n*r+i*l+h;e=n*s+i*c+d;var f=a*r+i*l+h;return t=a*s+i*c+d,i=n*r+o*l+h,n=n*s+o*c+d,r=a*r+o*l+h,a=a*s+o*c+d,o=Math.min(u,f),u=Math.max(u,f),f=Math.min(e,t),e=Math.max(e,t),o=Math.min(o,i),u=Math.max(u,i),f=Math.min(f,n),e=Math.max(e,n),o=Math.min(o,r),u=Math.max(u,r),new jt(o,f=Math.min(f,a),u-o,(e=Math.max(e,a))-f)},e.rs=function(t){var e=this.Bb;e.reset(),1!==this.xa&&e.scale(this.xa);var n=this.pa;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&e.translate(-n.x,-n.y),wt(t.copy(),this.Bb)},ka.prototype.doModelChanged=function(t){var e=this;if(t.model===this.model){var n=t.change,i=t.propertyName;if(n===fn&&"S"===i[0])if("StartingFirstTransaction"===i){var a=this;(t=this.toolManager).mouseDownTools.each((function(t){t.diagram=a})),t.mouseMoveTools.each((function(t){t.diagram=a})),t.mouseUpTools.each((function(t){t.diagram=a})),this.cd||this.Qf||(this.wk=!0,this.Nm&&(this.cg=!0))}else"StartingUndo"===i||"StartingRedo"===i?((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.wc(),this.P("ChangingSelection",this.selection)):"StartedTransaction"===i&&((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.wc());else if(this.$){this.$=!1;try{if(""===t.modelChange&&n===fn){"FinishedUndo"!==i&&"FinishedRedo"!==i||(this.P("ChangedSelection",this.selection),Ya(this));var o=this.animationManager;"RolledBackTransaction"===i&&o.wc(),this.wk=!0,this.Er(),this.nd(),0!==this.undoManager.transactionLevel&&1!==this.undoManager.transactionLevel||Wi(o),"CommittedTransaction"===i&&this.undoManager.isJustDiscarded&&(this.se=Math.min(this.se,this.undoManager.historyIndex-1)),"CommittedTransaction"!==i&&"RolledBackTransaction"!==i||!this.undoManager.isPendingUnmodified||setTimeout((function(){e.isModified=!1}),1);var r=t.isTransactionFinished;if(r&&(go(this),this.$r.clear(),function(t){for(t=t.yi.iterator;t.next();)t.value.Lk=!1}(this.animationManager)),!this.wt&&r&&this.lastInput.targetDiagram){this.wt=!0;var s=this;w((function(){s.currentTool.standardMouseOver(),s.wt=!1}),10)}}}finally{this.$=!0}}}},ka.prototype.Od=function(){this.partManager.Od()},ka.prototype.vj=function(t,e){this.Rd.vj(t,e)},ka.prototype.xj=function(t,e){this.Rd.xj(t,e)},ka.prototype.findPartForKey=function(t){return this.partManager.findPartForKey(t)},ka.prototype.Lb=function(t){return this.partManager.Lb(t)},ka.prototype.findLinkForKey=function(t){return this.partManager.findLinkForKey(t)},(e=ka.prototype).Ec=function(t){return this.partManager.Ec(t)},e.ci=function(t){return this.partManager.ci(t)},e.Dc=function(t){return this.partManager.Dc(t)},e.Kr=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.partManager.Kr.apply(this.partManager,e instanceof Array?e:o(a(e)))},e.Jr=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.partManager.Jr.apply(this.partManager,e instanceof Array?e:o(a(e)))},e.Za=function(){if(this.Si){var t=jt.alloc();xo(this,this.computeBounds(t)),jt.free(t)}},e.$y=function(){for(var t=new Q,e=this.nodes;e.next();){var n=e.value;n.isTopLevel&&t.add(n)}for(e=this.links;e.next();)(n=e.value).isTopLevel&&t.add(n);return t.iterator},e.Zy=function(){return this.Uh.iterator},e.Bz=function(t){Ya(this),t&&bo(this,!0),this.cd?ko(this,!1):(this.wk=!0,qa(this))},e.fz=function(){for(var t=new $,e=this.nodes;e.next();){var n=e.value;n.isTopLevel&&null===n.$g()&&t.add(n)}return t.iterator},e.wj=function(t,e){return null!==(t=_o(this,t))&&t.add(e),this},e.Il=function(t,e){null!==(t=_o(this,t))&&t.remove(e)},e.P=function(t,e,n){var i=_o(this,t),a=new dn;if(a.diagram=this,null!==(t=Mo(this,t))&&(a.name=t),void 0!==e&&(a.subject=e),void 0!==n&&(a.parameter=n),1===(e=i.length))i.K(0)(a);else if(0!==e)for(i=i.Ea(),n=0;n<e;n++)(0,i[n])(a)},e.Pj=function(t,e){return To(this,!1,null,e||null).Pj(t.x,t.y,t.width,t.height)},ka.prototype.computeOccupiedArea=function(t){return this.isVirtualized?this.viewportBounds.copy():this.Si?Ba(this,t):t.assign(this.documentBounds)},ka.prototype.Gr=function(t){this.Zo.assign(t),this.computeAutoScrollPosition(this.Zo).$a(this.position)?this.lg():function t(e){-1===e.hk&&(e.hk=w((function(){if(-1!==e.hk&&(e.lg(),null!==e.lastInput.event)){var n=e.computeAutoScrollPosition(e.Zo);n.$a(e.position)||(e.position=n,e.lastInput.documentPoint=e.rs(e.Zo),e.doMouseMove(),e.Si=!0,n=jt.alloc(),e.computeBounds(n),n.Xc(e.documentBounds),xo(e,n),jt.free(n),e.bd=!0,e.nd(),t(e))}}),e.Yo))}(this)},ka.prototype.lg=function(){-1!==this.hk&&(m.clearTimeout(this.hk),this.hk=-1)},ka.prototype.computeAutoScrollPosition=function(t){var e=this.position,n=this.$o;if(0>=n.top&&0>=n.left&&0>=n.right&&0>=n.bottom)return e;var i=this.viewportBounds,a=this.scale;i=jt.allocAt(0,0,i.width*a,i.height*a);var o=gt.allocAt(0,0);if(t.x>=i.x&&t.x<i.x+n.left&&this.allowHorizontalScroll){var r=Math.max(this.scrollHorizontalLineChange,1);r|=0,o.x-=r,t.x<i.x+n.left/2&&(o.x-=r),t.x<i.x+n.left/4&&(o.x-=4*r)}else t.x<=i.x+i.width&&t.x>i.x+i.width-n.right&&this.allowHorizontalScroll&&(r=Math.max(this.scrollHorizontalLineChange,1),r|=0,o.x+=r,t.x>i.x+i.width-n.right/2&&(o.x+=r),t.x>i.x+i.width-n.right/4&&(o.x+=4*r));return t.y>=i.y&&t.y<i.y+n.top&&this.allowVerticalScroll?(r=Math.max(this.scrollVerticalLineChange,1),r|=0,o.y-=r,t.y<i.y+n.top/2&&(o.y-=r),t.y<i.y+n.top/4&&(o.y-=4*r)):t.y<=i.y+i.height&&t.y>i.y+i.height-n.bottom&&this.allowVerticalScroll&&(r=Math.max(this.scrollVerticalLineChange,1),r|=0,o.y+=r,t.y>i.y+i.height-n.bottom/2&&(o.y+=r),t.y>i.y+i.height-n.bottom/4&&(o.y+=4*r)),o.$a(it)||(e=new gt(e.x+o.x/a,e.y+o.y/a)),jt.free(i),gt.free(o),e},(e=ka.prototype).cs=function(){return null},e.Mu=function(){return null},e.ny=function(t,e){this.Yx.add(t,e)},e.lu=function(t){(this.tw=t)||this.nodes.each((function(t){t instanceof jh&&(t.Dp=null)}))},e.Dz=function(t){return jo?(void 0===t&&(t={}),t.returnType="Image",this.ox(t)):null},e.ox=function(t){return void 0===t&&(t={}),Eo(this,this.Ez,t)},e.Ez=function(t,e,n){var i=Co(n,t,"canvas",null);if(null===i)return null;var a=null;if(null!==(n=i.Z.canvas))switch(a=t.returnType,a=void 0===a?"string":a.toLowerCase(),a){case tr+"data":a=i.getImageData(0,0,n.width,n.height);break;case tr:(i=(t.document||document).createElement("img")).src=n.toDataURL(t.type,t.details),a=i;break;case"blob":return"function"!=typeof e&&b('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),"function"==typeof n.toBlob?(n.toBlob(e,t.type,t.details),"toBlob"):"function"==typeof n.msToBlob?(e(n.msToBlob()),"msToBlob"):(e(null),null);default:a=n.toDataURL(t.type,t.details)}return"function"==typeof e?(e(a),null):a},u.Object.defineProperties(ka.prototype,{div:{get:function(){return this.La},set:function(t){if(this.La!==t){var e=this.La;null!==e?(e.H=void 0,e.goDiagram=void 0,e.go=void 0,e.innerHTML="",null!==this.Ha&&(e=this.Ha.Sa,this.removeEventListener(e,"pointermove",this.Wj,!1),this.removeEventListener(e,"pointerdown",this.Vj,!1),this.removeEventListener(e,"pointerup",this.Yj,!1),this.removeEventListener(e,"pointerout",this.Xj,!1),this.Ha.Pw()),this.bl&&(this.bl.disconnect(),this.bl=null),null!==(e=this.toolManager)&&(e.mouseDownTools.each((function(t){t.cancelWaitAfter()})),e.mouseMoveTools.each((function(t){t.cancelWaitAfter()})),e.mouseUpTools.each((function(t){t.cancelWaitAfter()}))),e.cancelWaitAfter(),this.currentTool.doCancel(),this.Ha=null,this.removeEventListener(m,"resize",this.sv,!1),this.removeEventListener(m,"wheel",this.Rj,!0),ma===this&&(ma=null)):this.Qf=!1,this.La=null,null!==t&&((e=t.H)&&(e.div=null),or(this,t),this.redraw())}}},Ew:{get:function(){return this.rq}},ji:{get:function(){return this.Qf}},draggedLink:{get:function(){return this.Ps},set:function(t){this.Ps!==t&&(this.Ps=t,null!==t&&(this.At=t.fromPort,this.Bt=t.toPort))}},tx:{get:function(){return this.At},set:function(t){this.At=t}},ux:{get:function(){return this.Bt},set:function(t){this.Bt=t}},animationManager:{get:function(){return this.Rd}},undoManager:{get:function(){return this.ac.undoManager}},skipsUndoManager:{get:function(){return this.Mg},set:function(t){this.Mg=t,this.ac.skipsUndoManager=t}},delaysLayout:{get:function(){return this.Ns},set:function(t){this.Ns=t}},opacity:{get:function(){return this.tb},set:function(t){var e=this.tb;e!==t&&((0>t||1<t)&&k(t,"0 <= value <= 1",ka,"opacity"),this.tb=t,this.g("opacity",e,t),this.N())}},validCycle:{get:function(){return this.bu},set:function(t){var e=this.bu;e!==t&&(this.bu=t,this.g("validCycle",e,t))}},layers:{get:function(){return this.Ua.iterator}},isModelReadOnly:{get:function(){var t=this.ac;return null!==t&&t.isReadOnly},set:function(t){var e=this.ac;null!==e&&(e.isReadOnly=t)}},isReadOnly:{get:function(){return this.xg},set:function(t){var e=this.xg;e!==t&&(this.xg=t,this.g("isReadOnly",e,t))}},isEnabled:{get:function(){return this.Ad},set:function(t){var e=this.Ad;e!==t&&(this.Ad=t,this.g("isEnabled",e,t))}},allowClipboard:{get:function(){return this.ws},set:function(t){var e=this.ws;e!==t&&(this.ws=t,this.g("allowClipboard",e,t))}},allowCopy:{get:function(){return this.zi},set:function(t){var e=this.zi;e!==t&&(this.zi=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.Ai},set:function(t){var e=this.Ai;e!==t&&(this.Ai=t,this.g("allowDelete",e,t))}},allowDragOut:{get:function(){return this.xs},set:function(t){var e=this.xs;e!==t&&(this.xs=t,this.g("allowDragOut",e,t))}},allowDrop:{get:function(){return this.ys},set:function(t){var e=this.ys;e!==t&&(this.ys=t,this.g("allowDrop",e,t))}},allowTextEdit:{get:function(){return this.Ji},set:function(t){var e=this.Ji;e!==t&&(this.Ji=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.Bi},set:function(t){var e=this.Bi;e!==t&&(this.Bi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.Ki},set:function(t){var e=this.Ki;e!==t&&(this.Ki=t,this.g("allowUngroup",e,t))}},allowInsert:{get:function(){return this.As},set:function(t){var e=this.As;e!==t&&(this.As=t,this.g("allowInsert",e,t))}},allowLink:{get:function(){return this.Ci},set:function(t){var e=this.Ci;e!==t&&(this.Ci=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.Ei},set:function(t){var e=this.Ei;e!==t&&(this.Ei=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.Di},set:function(t){var e=this.Di;e!==t&&(this.Di=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.Fi},set:function(t){var e=this.Fi;e!==t&&(this.Fi=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.Gi},set:function(t){var e=this.Gi;e!==t&&(this.Gi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.Hi},set:function(t){var e=this.Hi;e!==t&&(this.Hi=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.Ii},set:function(t){var e=this.Ii;e!==t&&(this.Ii=t,this.g("allowSelect",e,t))}},allowUndo:{get:function(){return this.Bs},set:function(t){var e=this.Bs;e!==t&&(this.Bs=t,this.g("allowUndo",e,t))}},allowZoom:{get:function(){return this.Ds},set:function(t){var e=this.Ds;e!==t&&(this.Ds=t,this.g("allowZoom",e,t))}},hasVerticalScrollbar:{get:function(){return this.Um},set:function(t){var e=this.Um;e!==t&&(this.Um=t,Ja(this),this.N(),this.g("hasVerticalScrollbar",e,t),ja(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.Tm},set:function(t){var e=this.Tm;e!==t&&(this.Tm=t,Ja(this),this.N(),this.g("hasHorizontalScrollbar",e,t),ja(this,!1))}},allowHorizontalScroll:{get:function(){return this.zs},set:function(t){var e=this.zs;e!==t&&(this.zs=t,this.g("allowHorizontalScroll",e,t),ja(this,!1))}},allowVerticalScroll:{get:function(){return this.Cs},set:function(t){var e=this.Cs;e!==t&&(this.Cs=t,this.g("allowVerticalScroll",e,t),ja(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.Ot},set:function(t){var e=this.Ot;e!==t&&(0>t&&k(t,">= 0",ka,"scrollHorizontalLineChange"),this.Ot=t,this.g("scrollHorizontalLineChange",e,t))}},scrollVerticalLineChange:{get:function(){return this.St},set:function(t){var e=this.St;e!==t&&(0>t&&k(t,">= 0",ka,"scrollVerticalLineChange"),this.St=t,this.g("scrollVerticalLineChange",e,t))}},lastInput:{get:function(){return this.Yi},set:function(t){this.Yi=t}},previousInput:{get:function(){return this.Hg},set:function(t){this.Hg=t}},firstInput:{get:function(){return this.Fp},set:function(t){this.Fp=t}},currentCursor:{get:function(){return this.Ks},set:function(t){if(""===t&&(t=this.rp),this.Ks!==t){var e=this.Ha,n=this.La;if(null!==e&&null!==n){this.Ks=t;var i=e.style.cursor;e.style.cursor=t,n.style.cursor=t,e.style.cursor===i&&(e.style.cursor="-webkit-"+t,n.style.cursor="-webkit-"+t,e.style.cursor===i&&(e.style.cursor="-moz-"+t,n.style.cursor="-moz-"+t,e.style.cursor===i&&(e.style.cursor=t,n.style.cursor=t)))}}}},defaultCursor:{get:function(){return this.rp},set:function(t){""===t&&(t="auto");var e=this.rp;e!==t&&(this.rp=t,this.g("defaultCursor",e,t))}},click:{get:function(){return this.oh},set:function(t){var e=this.oh;e!==t&&(this.oh=t,this.g("click",e,t))}},doubleClick:{get:function(){return this.uh},set:function(t){var e=this.uh;e!==t&&(this.uh=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return this.qh},set:function(t){var e=this.qh;e!==t&&(this.qh=t,this.g("contextClick",e,t))}},mouseOver:{get:function(){return this.Jh},set:function(t){var e=this.Jh;e!==t&&(this.Jh=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return this.Hh},set:function(t){var e=this.Hh;e!==t&&(this.Hh=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return this.Gh},set:function(t){var e=this.Gh;e!==t&&(this.Gh=t,this.g("mouseHold",e,t))}},mouseDragOver:{get:function(){return this.vt},set:function(t){var e=this.vt;e!==t&&(this.vt=t,this.g("mouseDragOver",e,t))}},mouseDrop:{get:function(){return this.Eh},set:function(t){var e=this.Eh;e!==t&&(this.Eh=t,this.g("mouseDrop",e,t))}},handlesDragDropForTopLevelParts:{get:function(){return this.$s},set:function(t){var e=this.$s;e!==t&&(this.$s=t,this.g("handlesDragDropForTopLevelParts",e,t))}},mouseEnter:{get:function(){return this.Fh},set:function(t){var e=this.Fh;e!==t&&(this.Fh=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return this.Ih},set:function(t){var e=this.Ih;e!==t&&(this.Ih=t,this.g("mouseLeave",e,t))}},toolTip:{get:function(){return this.Th},set:function(t){var e=this.Th;e!==t&&(this.Th=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return this.rh},set:function(t){var e=this.rh;e!==t&&(this.rh=t,this.g("contextMenu",e,t))}},commandHandler:{get:function(){return this.hb},set:function(t){this.hb!==t&&(this.hb=t,t.Le(this))}},toolManager:{get:function(){return this.le},set:function(t){this.le!==t&&(this.le=t,t.diagram=this)}},defaultTool:{get:function(){return this.nb},set:function(t){var e=this.nb;e!==t&&(this.nb=t,t.diagram=this,this.currentTool===e&&(this.currentTool=t))}},currentTool:{get:function(){return this.cb},set:function(t){var e=this.cb;e&&(e.isActive&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.defaultTool),null!==t&&(this.cb=t,t.diagram=this,t.doStart())}},selection:{get:function(){return this.lw}},maxSelectionCount:{get:function(){return this.qt},set:function(t){var e=this.qt;if(e!==t)if(0<=t&&!isNaN(t)){if(this.qt=t,this.g("maxSelectionCount",e,t),!this.undoManager.isUndoingRedoing&&0<(t=this.selection.count-t)){this.P("ChangingSelection",this.selection),e=this.selection.Ea();for(var n=0;n<t;n++)e[n].isSelected=!1;this.P("ChangedSelection",this.selection)}}else k(t,">= 0",ka,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.xt},set:function(t){var e=this.xt;e!==t&&(this.xt=t,this.g("nodeSelectionAdornmentTemplate",e,t))}},groupSelectionAdornmentTemplate:{get:function(){return this.Zs},set:function(t){var e=this.Zs;e!==t&&(this.Zs=t,this.g("groupSelectionAdornmentTemplate",e,t))}},linkSelectionAdornmentTemplate:{get:function(){return this.nt},set:function(t){var e=this.nt;e!==t&&(this.nt=t,this.g("linkSelectionAdornmentTemplate",e,t))}},highlighteds:{get:function(){return this.Tv}},isModified:{get:function(){var t=this.undoManager;return t.isEnabled?null!==t.currentTransaction||this.Ym&&this.se!==t.historyIndex:this.Ym},set:function(t){if(this.Ym!==t){this.Ym=t;var e=this.undoManager;!t&&e.isEnabled&&(this.se=e.historyIndex),t||go(this)}}},model:{get:function(){return this.ac},set:function(t){var e=this.ac;if(e!==t){this.currentTool.doCancel(),e&&e.undoManager!==t.undoManager&&e.undoManager.isInTransaction&&b("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.wc(!0);var n=Ma(this,!0);this.Qf=!1,this.Nm=!0,this.se=-2,this.cg=!1;var i=this.wb;this.wb=!0,Ui(this.animationManager,"Model"),e&&(null!==this.bf&&this.bf.each((function(t){e.$j(t)})),e.$j(this.Hc)),this.ac=t,this.partManager=function(t){return null!==(t=No.get(t))?new t:new Mu}(this.ac.type);for(var a=0;a<n.length;a++)this.add(n[a]);t.Ug(this.Db),this.partManager.addAllModeledParts(),t.$j(this.Db),t.Ug(this.Hc),null!==this.bf&&this.bf.each((function(e){t.Ug(e)})),this.wb=i,this.Va(),this.wb||this.N(),e&&t.undoManager.copyProperties(e.undoManager)}}},$:{get:function(){return this.Xv},set:function(t){this.Xv=t}},$r:{get:function(){return this.Xx}},skipsModelSourceBindings:{get:function(){return this.mw},set:function(t){this.mw=t}},os:{get:function(){return this.Ut},set:function(t){this.Ut=t}},nodeTemplate:{get:function(){return this.Dg.I("")},set:function(t){var e=this.Dg.I("");e!==t&&(this.Dg.add("",t),this.g("nodeTemplate",e,t),this.undoManager.isUndoingRedoing||this.Od())}},nodeTemplateMap:{get:function(){return this.Dg},set:function(t){var e=this.Dg;e!==t&&(this.Dg=t,this.g("nodeTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Od())}},groupTemplate:{get:function(){return this.Ri.I("")},set:function(t){var e=this.Ri.I("");e!==t&&(this.Ri.add("",t),this.g("groupTemplate",e,t),this.undoManager.isUndoingRedoing||this.Od())}},groupTemplateMap:{get:function(){return this.Ri},set:function(t){var e=this.Ri;e!==t&&(this.Ri=t,this.g("groupTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Od())}},linkTemplate:{get:function(){return this.Ch.I("")},set:function(t){var e=this.Ch.I("");e!==t&&(this.Ch.add("",t),this.g("linkTemplate",e,t),this.undoManager.isUndoingRedoing||this.Od())}},linkTemplateMap:{get:function(){return this.Ch},set:function(t){var e=this.Ch;e!==t&&(this.Ch=t,this.g("linkTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Od())}},isMouseCaptured:{get:function(){return this.Wv},set:function(t){var e=this.Ha;null!==e&&((e=e.Sa)instanceof SVGElement||(t?(this.lastInput.bubbles=!1,this.removeEventListener(e,"pointermove",this.Wj,!1),this.removeEventListener(e,"pointerdown",this.Vj,!1),this.removeEventListener(e,"pointerup",this.Yj,!1),this.removeEventListener(e,"pointerout",this.Xj,!1),this.addEventListener(m,"pointermove",this.Wj,!0),this.addEventListener(m,"pointerdown",this.Vj,!0),this.addEventListener(m,"pointerup",this.Yj,!0),this.addEventListener(m,"pointerout",this.Xj,!0),this.removeEventListener(e,"wheel",this.Rj,!1),this.addEventListener(m,"wheel",this.Rj,!0),this.addEventListener(m,"selectstart",this.preventDefault,!1)):(this.removeEventListener(m,"pointermove",this.Wj,!0),this.removeEventListener(m,"pointerdown",this.Vj,!0),this.removeEventListener(m,"pointerup",this.Yj,!0),this.removeEventListener(m,"pointerout",this.Xj,!0),this.addEventListener(e,"pointermove",this.Wj,!1),this.addEventListener(e,"pointerdown",this.Vj,!1),this.addEventListener(e,"pointerup",this.Yj,!1),this.addEventListener(e,"pointerout",this.Xj,!1),this.removeEventListener(m,"wheel",this.Rj,!0),this.removeEventListener(m,"selectstart",this.preventDefault,!1),this.addEventListener(e,"wheel",this.Rj,!1)),this.Wv=t))}},position:{get:function(){return this.pa},set:function(t){var e=gt.alloc().assign(this.pa);if(!e.C(t)){var n=this.viewportBounds.copy();this.pa.assign(t),Zi(this.animationManager,e,this.pa),this.wb||null===this.Ha&&!this.Zn.v()?wo(this):(this.wb=!0,t=this.scale,Fa(this,this.wp,this.Ba/t,this.Aa/t,this.lk,!1),this.wb=!1),this.wb||this.onViewportBoundsChanged(n,this.viewportBounds,this.xa,!1)}gt.free(e)}},initialPosition:{get:function(){return this.bt},set:function(t){this.bt.C(t)||(this.bt=t.J())}},initialScale:{get:function(){return this.ct},set:function(t){this.ct!==t&&(this.ct=t)}},grid:{get:function(){return null===this.Zd&&(this.Zd=Ea(this)),this.Zd},set:function(t){var e=this.Zd;if(e!==t){null===e&&(e=this.Zd=Ea(this)),t.type!==cl.Grid&&b("Diagram.grid must be a Panel of type Panel.Grid");var n=e.panel;null!==n&&n.remove(e),this.Zd=t,t.name="GRID",null!==n&&n.add(t),po(this),this.N(),this.g("grid",e,t)}}},viewportBounds:{get:function(){return this.vw}},viewSize:{get:function(){return this.Zn},set:function(t){var e=this.viewSize;e.C(t)||(this.Zn=t=t.J(),this.Aa=this.Ba=0,t.v()?(this.Ba=t.width,this.Aa=t.height):null!==this.La&&(this.Ba=this.La.clientWidth||1,this.Aa=this.La.clientHeight||1),wo(this),this.Va(),this.g("viewSize",e,t),this.redraw())}},fixedBounds:{get:function(){return this.Xs},set:function(t){var e=this.Xs;e.C(t)||(-1/0!==t.width&&1/0!==t.height&&-1/0!==t.height||b("fixedBounds width/height must not be Infinity"),this.Xs=t=t.J(),this.Va(),this.g("fixedBounds",e,t))}},scrollMargin:{get:function(){return this.mj},set:function(t){"number"==typeof t&&(t=new Kt(t));var e=this.mj;e.C(t)||(this.mj=t=t.J(),this.g("scrollMargin",e,t),this.Jo())}},scrollMode:{get:function(){return this.nj},set:function(t){var e=this.nj;e!==t&&(this.nj=t,t===Yo&&ja(this,!1),this.g("scrollMode",e,t),this.N())}},scrollsPageOnFocus:{get:function(){return this.Tt},set:function(t){var e=this.Tt;e!==t&&(this.Tt=t,this.g("scrollsPageOnFocus",e,t))}},positionComputation:{get:function(){return this.Et},set:function(t){var e=this.Et;e!==t&&(this.Et=t,ja(this,!1),this.g("positionComputation",e,t))}},scaleComputation:{get:function(){return this.Lt},set:function(t){var e=this.Lt;e!==t&&(this.Lt=t,fo(this,this.scale,this.scale),this.g("scaleComputation",e,t))}},documentBounds:{get:function(){return this.wp}},isVirtualized:{get:function(){return this.lt},set:function(t){var e=this.lt;e!==t&&(this.lt=t,this.g("isVirtualized",e,t))}},scale:{get:function(){return this.xa},set:function(t){var e=this.xa;e!==t&&fo(this,e,t)}},defaultScale:{get:function(){return this.sp},set:function(t){this.sp=t}},autoScale:{get:function(){return this.nh},set:function(t){var e=this.nh;e!==t&&(this.nh=t,this.g("autoScale",e,t),t!==Ro&&ja(this,!1))}},initialAutoScale:{get:function(){return this.wg},set:function(t){var e=this.wg;e!==t&&(this.wg=t,this.g("initialAutoScale",e,t))}},initialViewportSpot:{get:function(){return this.dt},set:function(t){var e=this.dt;e!==t&&(t.pb()||b("initialViewportSpot must be a specific Spot: "+t),this.dt=t,this.g("initialViewportSpot",e,t))}},initialDocumentSpot:{get:function(){return this.at},set:function(t){var e=this.at;e!==t&&(t.pb()||b("initialViewportSpot must be a specific Spot: "+t),this.at=t,this.g("initialDocumentSpot",e,t))}},minScale:{get:function(){return this.tt},set:function(t){var e=this.tt;e!==t&&(0<t?(this.tt=t,this.g("minScale",e,t),t>this.scale&&(this.scale=t)):k(t,"> 0",ka,"minScale"))}},maxScale:{get:function(){return this.pt},set:function(t){var e=this.pt;e!==t&&(0<t?(this.pt=t,this.g("maxScale",e,t),t<this.scale&&(this.scale=t)):k(t,"> 0",ka,"maxScale"))}},zoomPoint:{get:function(){return this.eu},set:function(t){this.eu.C(t)||(this.eu=t=t.J())}},contentAlignment:{get:function(){return this.lk},set:function(t){var e=this.lk;e.C(t)||(this.lk=t=t.J(),this.g("contentAlignment",e,t),ja(this,!1))}},initialContentAlignment:{get:function(){return this.Rp},set:function(t){var e=this.Rp;e.C(t)||(this.Rp=t=t.J(),this.g("initialContentAlignment",e,t))}},padding:{get:function(){return this.ub},set:function(t){"number"==typeof t&&(t=new Kt(t));var e=this.ub;e.C(t)||(this.ub=t=t.J(),this.Va(),this.g("padding",e,t))}},partManager:{get:function(){return this.Ic},set:function(t){var e=this.Ic;e!==t&&(null!==t.diagram&&b("Cannot share PartManagers between Diagrams: "+t.toString()),e&&e.Le(null),this.Ic=t,t.Le(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.Kc},set:function(t){var e=this.Kc;e!==t&&(this.Kc=t,t.diagram=this,t.group=null,this.mh=!0,this.g("layout",e,t),this.Mb())}},isTreePathToChildren:{get:function(){return this.kt},set:function(t){var e=this.kt;if(e!==t&&(this.kt=t,this.g("isTreePathToChildren",e,t),!this.undoManager.isUndoingRedoing))for(t=this.nodes;t.next();)Th(t.value)}},treeCollapsePolicy:{get:function(){return this.$t},set:function(t){var e=this.$t;e!==t&&(t!==Ko&&t!==Zo&&t!==$o&&b("Unknown Diagram.treeCollapsePolicy: "+t),this.$t=t,this.g("treeCollapsePolicy",e,t))}},Ie:{get:function(){return this.Vv},set:function(t){this.Vv=t}},avoidanceCellSize:{get:function(){return this.Fv},set:function(t){this.Qh=null,this.Fv=new Et(Math.max(1,t.width),Math.max(1,t.height))}},avoidanceLimit:{get:function(){return this.Gv},set:function(t){this.Gv=Math.max(1,t)}},autoScrollInterval:{get:function(){return this.Yo},set:function(t){var e=this.Yo;e!==t&&(this.Yo=t,this.g("autoScrollInterval",e,t))}},autoScrollRegion:{get:function(){return this.$o},set:function(t){"number"==typeof t&&(t=new Kt(t));var e=this.$o;e.C(t)||(this.$o=t=t.J(),this.Va(),this.g("autoScrollRegion",e,t))}}}),u.Object.defineProperties(ka,{licenseKey:{get:function(){return Jo.fc()},set:function(t){Jo.add(t.replace(/\s/g,""))}},version:{get:function(){return Qo}}}),ka.prototype.makeImageData=ka.prototype.ox,ka.prototype.makeImage=ka.prototype.Dz,ka.prototype.cacheGroupExternalLinks=ka.prototype.lu,ka.prototype.addRenderer=ka.prototype.ny,ka.prototype.makeSVG=ka.prototype.Mu,ka.prototype.makeSvg=ka.prototype.cs,ka.prototype.stopAutoScroll=ka.prototype.lg,ka.prototype.doAutoScroll=ka.prototype.Gr,ka.prototype.isUnoccupied=ka.prototype.Pj,ka.prototype.raiseDiagramEvent=ka.prototype.P,ka.prototype.removeDiagramListener=ka.prototype.Il,ka.prototype.addDiagramListener=ka.prototype.wj,ka.prototype.findTreeRoots=ka.prototype.fz,ka.prototype.layoutDiagram=ka.prototype.Bz,ka.prototype.findTopLevelGroups=ka.prototype.Zy,ka.prototype.findTopLevelNodesAndLinks=ka.prototype.$y,ka.prototype.ensureBounds=ka.prototype.Za,ka.prototype.findLinksByExample=ka.prototype.Jr,ka.prototype.findNodesByExample=ka.prototype.Kr,ka.prototype.findLinkForData=ka.prototype.Dc,ka.prototype.findNodeForData=ka.prototype.ci,ka.prototype.findPartForData=ka.prototype.Ec,ka.prototype.findLinkForKey=ka.prototype.findLinkForKey,ka.prototype.findNodeForKey=ka.prototype.Lb,ka.prototype.findPartForKey=ka.prototype.findPartForKey,ka.prototype.rebuildParts=ka.prototype.Od,ka.prototype.transformViewToDoc=ka.prototype.rs,ka.prototype.transformRectDocToView=ka.prototype.gA,ka.prototype.transformDocToView=ka.prototype.Ro,ka.prototype.centerRect=ka.prototype.Dr,ka.prototype.scrollToRect=ka.prototype.av,ka.prototype.scroll=ka.prototype.scroll,ka.prototype.highlightCollection=ka.prototype.rz,ka.prototype.highlight=ka.prototype.qz,ka.prototype.selectCollection=ka.prototype.Yz,ka.prototype.select=ka.prototype.select,ka.prototype.updateAllRelationshipsFromData=ka.prototype.Uo,ka.prototype.updateAllTargetBindings=ka.prototype.updateAllTargetBindings,ka.prototype.commit=ka.prototype.commit,ka.prototype.rollbackTransaction=ka.prototype.Bf,ka.prototype.commitTransaction=ka.prototype.eb,ka.prototype.startTransaction=ka.prototype.Da,ka.prototype.raiseChanged=ka.prototype.g,ka.prototype.raiseChangedEvent=ka.prototype.bb,ka.prototype.removeChangedListener=ka.prototype.$j,ka.prototype.addChangedListener=ka.prototype.Ug,ka.prototype.removeModelChangedListener=ka.prototype.Tz,ka.prototype.addModelChangedListener=ka.prototype.Cw,ka.prototype.findLayer=ka.prototype.Ij,ka.prototype.removeLayer=ka.prototype.Rz,ka.prototype.addLayerAfter=ka.prototype.jy,ka.prototype.addLayerBefore=ka.prototype.Aw,ka.prototype.addLayer=ka.prototype.ol,ka.prototype.moveParts=ka.prototype.moveParts,ka.prototype.copyParts=ka.prototype.Ej,ka.prototype.removeParts=ka.prototype.js,ka.prototype.remove=ka.prototype.remove,ka.prototype.add=ka.prototype.add,ka.prototype.clearDelayedGeometries=ka.prototype.Er,ka.prototype.setProperties=ka.prototype.Vl,ka.prototype.attach=ka.prototype.ku,ka.prototype.set=ka.prototype.set,ka.prototype.resetInputOptions=ka.prototype.zx,ka.prototype.setInputOption=ka.prototype.Zz,ka.prototype.getInputOption=ka.prototype.xl,ka.prototype.resetRenderingHints=ka.prototype.Ax,ka.prototype.setRenderingHint=ka.prototype.Fx,ka.prototype.getRenderingHint=ka.prototype.Ge,ka.prototype.maybeUpdate=ka.prototype.nd,ka.prototype.requestUpdate=ka.prototype.Mb,ka.prototype.delayInitialization=ka.prototype.Ey,ka.prototype.isUpdateRequested=ka.prototype.xz,ka.prototype.invalidateDocumentBounds=ka.prototype.Va,ka.prototype.findObjectsNear=ka.prototype.hg,ka.prototype.findPartsNear=ka.prototype.Vy,ka.prototype.findObjectsIn=ka.prototype.tf,ka.prototype.findPartsIn=ka.prototype.Ww,ka.prototype.findObjectsAt=ka.prototype.di,ka.prototype.findPartsAt=ka.prototype.Uy,ka.prototype.findObjectAt=ka.prototype.ec,ka.prototype.findPartAt=ka.prototype.vl,ka.prototype.focusObject=ka.prototype.gz,ka.prototype.alignDocument=ka.prototype.py,ka.prototype.zoomToRect=ka.prototype.kA,ka.prototype.zoomToFit=ka.prototype.zoomToFit,ka.prototype.diagramScroll=ka.prototype.Nw,ka.prototype.focus=ka.prototype.focus;var No=new pt,Bo=null,jo=void 0!==m.document,Do=null,Fo="",Ro=new H(ka,"None",0),Io=new H(ka,"Uniform",1),zo=new H(ka,"UniformToFill",2),Ho=new H(ka,"CycleAll",10),Vo=new H(ka,"CycleNotDirected",11),Go=new H(ka,"CycleNotDirectedFast",12),Uo=new H(ka,"CycleNotUndirected",13),Wo=new H(ka,"CycleDestinationTree",14),qo=new H(ka,"CycleSourceTree",15),Yo=new H(ka,"DocumentScroll",1),Xo=new H(ka,"InfiniteScroll",2),Ko=new H(ka,"TreeParentCollapsed",21),Zo=new H(ka,"AllParentsCollapsed",22),$o=new H(ka,"AnyParentsCollapsed",23),Jo=new $,Qo="2.2.18",tr="image",er=null,nr=!1;function ir(){this.by=null,this.j="zz@orderNum","63ad05bbe23a1786468a4c741b6d2"===this._tk?this.pd=this.j=!0:this.pd=null}function ar(t,e){if(e.Zb.setTransform(e.kc,0,0,e.kc,0,0),e.Zb.Pc(),null===t.pd)t:{e="f";var n=m[D("76a715b2f73f148a")][D("72ba13b5")];if(t.pd=!0,jo){var i=ka[D("76a115b6ed251eaf4692")];if(i)for(var a=Jo.iterator;a.next()&&!(6>(i=D(i=a.value).split(D("39e9"))).length);){var o=D(i[1]).split(".");if("7da71ca0"!==i[4])break;var r=D(y[D("6cae19")]).split(".");if(o[0]>r[0]||o[0]===r[0]&&o[1]>=r[1]){var s=m[D("74a900bae4370f8b51")][D("6fbb13a1c2311e8a57")].toLowerCase();if(r=s[D("73a612b6fb191d")](D("3aad1ab6e022098b4dc4")),o=D(i[2]),-1<r&&(s=s[D("73a612b6fb191d")](o.toLowerCase()+"/"),t.pd=!(-1<s&&s<r),!t.pd))break;for(r=n[D("76ad18b4f73e")],s=n[D("73a612b6fb191d")](D("35e7"))+2;s<r;s++)e+=n[s];if(0>(r=e[D("73a612b6fb191d")](o))&&o!==D("7da71ca0ad381e90")&&(r=e[D("73a612b6fb191d")](D("76a715b2ef3e149757"))),0>r&&(r=e[D("73a612b6fb191d")](D("76a715b2ef3e149757"))),0>r&&(r=n[D("73a612b6fb191d")](D("7baa19a6f76c1988428554"))),t.pd=!(0<=r&&r<e[D("73a612b6fb191d")](D("35"))||-1===e[D("73a612b6fb191d")](D("35"))),!t.pd)break;if(n[D("73a612b6fb191d")](D("7fb002b6ed25128b4da25b2e"))&&n[D("73a612b6fb191d")](D("75ba1beee63a1e875799507d"))&&(t.pd=!(-1<n[D("73a612b6fb191d")](o)),!t.pd))break;if("#"===o[0]){r=m.document.createElement("div");for(var l=i[0].replace(/[A-Za-z]/g,"");4>l.length;)l+="9";if(s=l,l=l.substr(l.length-4),i="",i+=["gsh","gsf"][parseInt(l.substr(0,1),10)%2],i+=["Header","Background","Display","Feedback"][parseInt(l.substr(0,1),10)%4],r[D("79a417a0f0181a8946")]=i,m.document[D("78a712aa")]){m.document[D("78a712aa")][D("7bb806b6ed32388c4a875b")](r),l=m.getComputedStyle(r).getPropertyValue(D("78a704b7e62456904c9b12701b6532a8"));var c=m.getComputedStyle(r).getPropertyValue(D("75b817b0ea2202"));if(m.document[D("78a712aa")][D("68ad1bbcf533388c4a875b")](r),l){if(r=m[D("77a902b0eb1b1e804a8a")],c==="0."+parseInt(s,10)%100||-1!==l.indexOf(parseInt(o[1]+o[2],16))&&-1!==l.indexOf(parseInt(o[3]+o[4],16))){t.pd=!1;break}if(r&&r(D("32ae19a1e0331fc94084537c067a67fa59f1386b89d006")).matches)for(i="."+i,o=0;o<document.styleSheets.length;o++)for(var h in r=document.styleSheets[o].rules||document.styleSheets[o].cssRules)if(i===r[h].selectorText){t.pd=!1;break t}}}else t.pd=null,t.pd=!1}}}else{for(h=n[D("76ad18b4f73e")],a=n[D("73a612b6fb191d")](D("35e7"))+2;a<h;a++)e+=n[a];n=e[D("73a612b6fb191d")](D("7da71ca0ad381e90")),t.pd=!(0<=n&&n<e[D("73a612b6fb191d")](D("35")))}}}return 0<t.pd&&t!==t.by}function or(t,e){if(jo){if(null!=e||b("Diagram setup requires an argument DIV."),null!==t.La&&b("Diagram has already completed setup."),"string"==typeof e?t.La=m.document.getElementById(e):e instanceof HTMLDivElement?t.La=e:b("No DIV or DIV id supplied: "+e),null===t.La&&b("Invalid DIV id; could not get element with id: "+e),void 0!==t.La.H&&b("Invalid div id; div already has a Diagram associated with it."),!t.bl&&m.ResizeObserver){var n=v((function(){t.Mb()}),250);t.bl=new m.ResizeObserver((function(){n()})),t.bl.observe(t.La)}"static"===m.getComputedStyle(t.La,null).position&&(t.La.style.position="relative");var i="rgba(2"+(e=5)+"5, 255, 255, 0)";e--,t.La.style["-webkit-tap-highlight-color"]=i,t.La.innerHTML="",t.La.H=t,t.La.goDiagram=t,t.La.go=m.go;var a=t.kr?new ss(t):new ps(t);if(void 0!==a.style&&(a.style.position="absolute",a.style.top="0px",a.style.left="0px","rtl"===m.getComputedStyle(t.La,null).getPropertyValue("direction")&&(t.$m=!0),a.style.zIndex="2",a.style.userSelect="none",a.style.MozUserSelect="none",a.style.touchAction="none"),t.Ha=a,t.Zb=a.context,i=t.Zb,t.kc=t.computePixelRatio(),t.viewSize.v()||(t.Ba=t.La.clientWidth||1,t.Aa=t.La.clientHeight||1),eo(t,t.Ba,t.Aa),t.La.insertBefore(a.Sa,t.La.firstChild),(a=new ps(null)).width=1,a.height=1,t.Ov=a,t.Ux=a.context,jo){a=x("div");var o=x("div");a.style.position="absolute",a.style.overflow="auto",a.style.width=t.Ba+"px",a.style.height=t.Aa+"px",a.style.zIndex="1",o.style.position="absolute",o.style.width="1px",o.style.height="1px",t.La.appendChild(a),a.appendChild(o),a.onscroll=Ca,a.addEventListener("pointerdown",Na),a.H=t,a.$x=!0,a.ay=!0,t.Qt=a,t.Nt=o}t.Jo=v((function(){t.Rh=null,t.N()}),300),t.sv=v((function(){Oa(t)}),250),t.preventDefault=function(t){return t.preventDefault(),!1},t.Rj=function(e){if(t.isEnabled){var n=Ia(t,e,!0);n.bubbles=!0;var i=0,a=0;n.delta=0,void 0!==e.deltaX?(0!==e.deltaX&&(i=0<e.deltaX?1:-1),0!==e.deltaY&&(a=0<e.deltaY?1:-1),n.delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-i:-a):void 0!==e.wheelDeltaX?(0!==e.wheelDeltaX&&(i=0<e.wheelDeltaX?-1:1),0!==e.wheelDeltaY&&(a=0<e.wheelDeltaY?-1:1),n.delta=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-i:-a):void 0!==e.wheelDelta&&0!==e.wheelDelta&&(n.delta=0<e.wheelDelta?1:-1),t.doMouseWheel(),Va(n,e)}},t.Iz=function(e){t.isEnabled&&(t.Jk=!1,Ia(t,e,!0),(e=t.currentTool).cancelWaitAfter(),e.standardMouseOver())},t.Vj=function(e){if(t.isEnabled){t.Jk=!0;var n=t.Dt;void 0===n[e.pointerId]&&(n[e.pointerId]=e);var i=!1;if(null!==(n=t.Zk)[0]&&n[0].pointerId===e.pointerId)n[0]=e;else if(null!==n[1]&&n[1].pointerId===e.pointerId)n[1]=e,i=!0;else if(null===n[0])n[0]=e;else{if(null!==n[1])return void e.preventDefault();n[1]=e,i=!0}(n="touch"===e.pointerType||"pen"===e.pointerType)&&(t.Wt=!1,t.jt=!0);var a=i;i=Ha(t,e,!0,!1,!0,a),Ga(t,e,i),i.targetDiagram=za(e,e.target),i.targetObject=null,a||i.clone(t.Fp),a=t.$v,n=n?25:10,e.timeStamp-t.Zv<t.hy&&!(Math.abs(a.x-e.screenX)>n||Math.abs(a.y-e.screenY)>n)?t.Yp++:t.Yp=1,i.clickCount=t.Yp,t.Zv=e.timeStamp,t.$v.kg(e.screenX,e.screenY),t.doMouseDown(),1===e.button?e.preventDefault():Va(i,e)}},t.Wj=function(e){if(t.isEnabled){t.Jk=!0;var n=t.Zk;if(null!==n[0]&&n[0].pointerId===e.pointerId)n[0]=e;else{if(null!==n[1]&&n[1].pointerId===e.pointerId)return void(n[1]=e);if(null!==n[0])return;n[0]=e}if(n[0].pointerId===e.pointerId){n=Ha(t,e,!1,!1,!1,null!==n[1]);var i=m.document.elementFromPoint(e.clientX,e.clientY);null!==i&&void 0!==i.shadowRoot&&null!==i.shadowRoot&&(i=i.shadowRoot.elementFromPoint(e.clientX,e.clientY));var a=t,o=e;i&&i.H&&(o=e,a=i.H),n.targetDiagram=a,Ga(t,o,n),n.targetObject=null,t.doMouseMove(),Va(n,e)}}},t.Yj=function(e){if(t.isEnabled){t.Jk=!0;var n="touch"===e.pointerType||"pen"===e.pointerType,i=t.Dt;if(n&&t.Wt)delete i[e.pointerId],e.preventDefault();else if(null!==(i=t.Zk)[0]&&i[0].pointerId===e.pointerId){i[0]=null,i=Ha(t,e,!1,!0,!0,!1);var a=m.document.elementFromPoint(e.clientX,e.clientY);null!==a&&void 0!==a.shadowRoot&&null!==a.shadowRoot&&(a=a.shadowRoot.elementFromPoint(e.clientX,e.clientY)),null!==a&&a.H instanceof ka&&a.H!==t&&Ga(a.H,e,i),null===a&&(a=e.target),Ga(t,e,i),i.clickCount=t.Yp,i.targetDiagram=za(e,a),i.targetObject=null,t.doMouseUp(),Va(i,e),n&&(t.jt=!1)}else null!==i[1]&&i[1].pointerId===e.pointerId&&(i[1]=null)}},t.Xj=function(e){if(t.isEnabled){t.Jk=!1;var n=t.Dt;n[e.pointerId]&&delete n[e.pointerId],null!==(n=t.Zk)[0]&&n[0].pointerId===e.pointerId&&(n[0]=null),null!==n[1]&&n[1].pointerId===e.pointerId&&(n[1]=null),"touch"!==e.pointerType&&"pen"!==e.pointerType&&((e=t.currentTool).cancelWaitAfter(),e.standardMouseOver())}},t.Qs=i.Z["d"+yr[1]+yr[2]+"wI"+tr.slice(1,5)]["b"+mf.slice(1,e)](i.Z,er,e,e),i.Oc(!0),function(t){var e=t.Ha.Sa;e instanceof HTMLCanvasElement&&(t.addEventListener(e,"pointerdown",t.Vj,!1),t.addEventListener(e,"pointermove",t.Wj,!1),t.addEventListener(e,"pointerup",t.Yj,!1),t.addEventListener(e,"pointerout",t.Xj,!1),t.addEventListener(e,"pointerenter",t.Jy,!1),t.addEventListener(e,"pointerleave",t.Ky,!1),t.addEventListener(e,"wheel",t.Rj,!1),t.addEventListener(e,"keydown",t.yz,!1),t.addEventListener(e,"keyup",t.zz,!1),t.addEventListener(e,"blur",t.vy,!1),t.addEventListener(e,"focus",t.wy,!1),t.addEventListener(e,"selectstart",(function(t){return t.preventDefault(),!1}),!1),t.addEventListener(e,"contextmenu",(function(t){return t.preventDefault(),!1}),!1),t.addEventListener(m,"resize",t.sv,!1),I&&t.addEventListener(e,"touchstart",(function(t){t.preventDefault()}),!1))}(t)}}function rr(t){this.j=void 0===t?new gt:t,this.m=new gt}ka.className="Diagram",ka.fromDiv=function(t){var e=t;return"string"==typeof t&&(e=m.document.getElementById(t)),e instanceof HTMLDivElement&&e.H instanceof ka?e.H:null},ka.inherit=function(t,e){function n(){}if(Object.getPrototypeOf(t).prototype)throw Error("Used go.Diagram.inherit defining already defined class \n"+t);n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},ka.useDOM=function(t){jo=!!t&&void 0!==m.document},ka.isUsingDOM=function(){return jo},ka.None=Ro,ka.Uniform=Io,ka.UniformToFill=zo,ka.CycleAll=Ho,ka.CycleNotDirected=Vo,ka.CycleNotDirectedFast=Go,ka.CycleNotUndirected=Uo,ka.CycleDestinationTree=Wo,ka.CycleSourceTree=qo,ka.DocumentScroll=Yo,ka.InfiniteScroll=Xo,ka.TreeParentCollapsed=Ko,ka.AllParentsCollapsed=Zo,ka.AnyParentsCollapsed=$o,ir.className="DiagramHelper",u.Object.defineProperties(rr.prototype,{point:{get:function(){return this.j},set:function(t){this.j=t}},shifted:{get:function(){return this.m},set:function(t){this.m=t}}});var sr,lr,cr,hr,dr,ur,fr,pr,gr,mr,yr="DraggingInfo";function vr(t,e,n){this.node=t,this.info=e,this.Du=n}function wr(){this.reset()}function xr(t,e){if("string"==typeof t||m.Element&&t instanceof Element)var n=ka.call(this,t)||this;else n=ka.call(this)||this,e=t;return br(n),e&&n.Vl(e),n}function br(t){t.allowDragOut=!0,t.allowMove=!1,t.isReadOnly=!0,t.contentAlignment=ne,t.layout=new gu}function Sr(t,e){if("string"==typeof t||m.Element&&t instanceof Element)var n=ka.call(this,t)||this;else n=ka.call(this)||this,e=t;var i=n;n.animationManager.isEnabled=!1,n.wb=!0,n.W=null,n.Tm=!1,n.Um=!1,n.F=!0,n.u=!0,n.ga=0,n.m=!1,n.el=null,n.Fx("drawShadows",!1),t=new $c;var a=new Gl;return a.stroke="magenta",a.strokeWidth=2,a.fill="transparent",a.name="BOXSHAPE",t.selectable=!0,t.selectionAdorned=!1,t.selectionObjectName="BOXSHAPE",t.locationObjectName="BOXSHAPE",t.resizeObjectName="BOXSHAPE",t.cursor="move",t.add(a),n.j=t,n.allowCopy=!1,n.allowDelete=!1,n.allowSelect=!0,n.autoScrollRegion=new Kt(0,0,0,0),n.pa.h(0,0),n.toolManager.gb("Dragging",new Mr,n.toolManager.mouseMoveTools),n.click=function(){var t=i.observed;if(null!==t){var e=t.viewportBounds,n=i.lastInput.documentPoint;t.position=new gt(n.x-e.width/2,n.y-e.height/2)}},n.Gf=function(){i.Va(),Pr(i)},n.Qd=function(){null!==i.observed&&(i.Va(),i.N())},n.Ga=function(){1>i.updateDelay?i.N():i.m||(i.m=!0,setTimeout((function(){return i.redraw()}),i.updateDelay))},n.Ff=function(){null!==i.observed&&Pr(i)},n.autoScale=Io,n.wb=!1,e&&Object.assign(n,e),n}function kr(t){var e=t.observed;if(null!==e){var n=t.drawsTemporaryLayers,i=t.drawsGrid&&n,a=e.grid;i&&null!==a&&a.visible&&!isNaN(a.width)&&!isNaN(a.height)&&(po(e,a=jt.alloc().assign(t.viewportBounds).Xc(e.viewportBounds)),jt.free(a),Ya(e));var o=t.Bb;o.reset(),1!==t.scale&&o.scale(t.scale),0===t.position.x&&0===t.position.y||o.translate(-t.position.x,-t.position.y),(a=t.Zb).scale(t.kc,t.kc),a.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),o=(e=e.Ua.s).length;for(var r=0;r<o;r++){var s=e[r],l=t;if(s.visible&&0!==s.opacity){var c=s.diagram.grid.part;if(!n&&s.isTemporary)i&&c.layer===s&&(s=ba(s,a),c.tc(a,l),a.globalAlpha=s);else{for(var h=ba(s,a),d=l.scale,u=jt.alloc(),f=s.Ma.s,p=f.length,g=0;g<p;g++){var m=f[g];(i||m!==c)&&s.$h(a,m,l,null,d,u,!1)}jt.free(u),a.globalAlpha=h}}}}}function Pr(t){var e=t.box;if(null!==e){var n=t.observed;if(null!==n){t.bd=!0,n=n.viewportBounds;var i=e.selectionObject,a=Et.alloc();a.h(n.width,n.height),i.desiredSize=a,Et.free(a),t=2/t.scale,i instanceof Gl&&(i.strokeWidth=t),e.location=new gt(n.x-t/2,n.y-t/2),e.isSelected=!0}}}function Mr(){An.call(this),this.j=null}function _r(){tt(this),this.H=ma,this.Ga=this.u=this.m=!0,this.F=this.W=this.hb=this.ga=!1,this.dj=this.j=null,this.Db=1.05,this.mt=NaN,this.Yv=null,this.fu=NaN,this.du=qt,this.cb=!0,this.Vf=null,this.nb=200}function Lr(t){var e=A();for(t=t.iterator;t.next();){var n=t.value;n instanceof Ih||e.push(n)}t=new Q,n=e.length;for(var i=0;i<n;i++){for(var a=e[i],o=!0,r=0;r<n;r++)if(a.Md(e[r])){o=!1;break}o&&t.add(a)}return E(e),t}function Tr(){tt(this),this.o=30723,this.tb=1,this.Yb=this.Uf=null,this.pa=new gt(NaN,NaN).freeze(),this.$c=Ot,this.Bb=new Ve,this.lh=new Ve,this.Ib=null,this.xa=this.xk=1,this.Gb=0,this.Ag=Jt,this.qc=new jt(NaN,NaN,NaN,NaN).freeze(),this.Eb=new jt(NaN,NaN,NaN,NaN).freeze(),this.bc=new jt(0,0,NaN,NaN).freeze(),this.aa=this.Gn=this.Hn=null,this.ek=this.Fb=Me,this.rg=this.Ln=0,this.Mn=this.jj=this.ib=this.sh=this.A=this.Ra=null}function Or(t){null===t.A?t.A=new ns:t.A.ic&&(t.A=t.A.copy())}function Ar(t,e,n){var i=t.Yg();if(null!==i)for(var a=t.localBindings.iterator;a.next();){var o=a.value,r=null;if(null!==o.sourceName){if(null===(r=gf(o,i,t)))continue;o.Vo(t,r,n,null)}else if(o.isToModel){var s=e.diagram;null===s||s.skipsModelSourceBindings||o.Vo(t,s.model.modelData,n,i)}else{if(null===(s=i.data))continue;var l=e.diagram;null===l||l.skipsModelSourceBindings||o.Vo(t,s,n,i)}r===t&&(null!==(s=i.Ir(o.ti))&&o.pv(s,r,n))}}function Er(t,e,n,i){return!1!==t.pickable&&(i.multiply(t.transform),n?t.Sc(e,i):t.Wg(e,i))}function Cr(t,e,n,i,a){if(t.Eb.h(e,n,i,a),!t.desiredSize.v()){var o=t.qc;e=(n=t.Ag).right+n.left;var r=n.top+n.bottom;switch(n=o.width+e,o=o.height+r,i+=e,a+=r,e=Fr(t,!0),n===i&&o===a&&(e=lr),e){case lr:(n>i||o>a)&&(qr(t,!0),t.measure(n>i?i:n,o>a?a:o,0,0));break;case sr:qr(t,!0),t.measure(i,a,0,0);break;case hr:qr(t,!0),t.measure(i,o,0,0);break;case dr:qr(t,!0),t.measure(n,a,0,0)}}}function Nr(t,e,n,i){var a=t.naturalBounds,o=0,r=0,s=a.width;a=a.height;var l=t.Sv();t instanceof Gl&&(o=(a=t.ua.bounds).x,r=a.y,s=a.width,a=a.height),Br(t,e,t.Yb,!0,!1,n,i),t.Yb instanceof vs&&t.Yb.type===Bs?(e.beginPath(),e.rect(o-l/2,r-l/2,s+l,a+l),e.sf(t.Yb)):e.fillRect(o-l/2,r-l/2,s+l,a+l)}function Br(t,e,n,i,a,o,r){if(null!==n){var s=1,l=1;if("string"==typeof n)i?e.fillStyle=n:e.strokeStyle=n;else if(n.type===Cs)i?e.fillStyle=n.color:e.strokeStyle=n.color;else{var c=0;if(t instanceof Gl&&(c=t.strokeWidth),s=o.width,l=o.height,a?(s=r.width,l=r.height):i||(s+=c,l+=c),(o=e instanceof gs)&&n.oe&&(n.type===js||n.kk===s&&n.Hs===l))var h=n.oe;else{var d=0,u=0,f=0,p=0,g=0,m=0;if(m=g=0,a?(g=r.x,m=r.y):i||(g-=c/2,m-=c/2),d=n.start.x*s+n.start.offsetX,u=n.start.y*l+n.start.offsetY,f=n.end.x*s+n.end.offsetX,p=n.end.y*l+n.end.offsetY,d+=g,f+=g,u+=m,p+=m,n.type===Ns)h=e.createLinearGradient(d,u,f,p);else if(n.type===Bs)m=isNaN(n.endRadius)?Math.max(s,l)/2:n.endRadius,isNaN(n.startRadius)?(g=0,m=Math.max(s,l)/2):g=n.startRadius,h=e.createRadialGradient(d,u,g,f,p,m);else if(n.type===js)try{h=e.createPattern(n.pattern,"repeat")}catch(t){h=null}if(n.type!==js&&null!==(a=n.colorStops))for(a=a.iterator;a.next();)h.addColorStop(a.key,a.value);if(o&&(n.oe=h,null!==h&&(n.kk=s,n.Hs=l),null===h&&n.type===js&&-1!==n.kk)){n.kk=-1;var y=t.diagram;null!==y&&-1===n.kk&&w((function(){y.redraw()}),600)}}i?e.fillStyle=h:e.strokeStyle=h}}}function jr(t){if(0!=(2048&t.o)==!0){var e=t.Bb;if(e.reset(),!t.Eb.v()||!t.qc.v())return void Gr(t,!1);if(e.translate(t.Eb.x-t.qc.x,t.Eb.y-t.qc.y),1!==t.scale||0!==t.angle){var n=t.naturalBounds;t.Qn(e,n.x,n.y,n.width,n.height)}Gr(t,!1),Ur(t,!0)}0!=(4096&t.o)==!0&&(null===(e=t.panel)?(t.lh.set(t.Bb),t.xk=t.scale,Ur(t,!1)):null!==e.ge&&((n=t.lh).reset(),e.ke()?n.multiply(e.lh):null!==e.panel&&n.multiply(e.panel.lh),n.multiply(t.Bb),t.xk=t.scale*e.xk,Ur(t,!1)))}function Dr(t){if(!Yr(t)){var e=t.panel;null!==e?e.w():t.li()&&(null!==(e=t.diagram)&&(e.te.add(t),t instanceof xh&&t.vd(),e.Mb())),Xr(t,!0)}}function Fr(t,e){var n=t.stretch,i=t.panel;return null!==i&&i.type===cl.Table?Rr(t,i.getRowDefinition(t.row),i.getColumnDefinition(t.column),e):null!==i&&i.type===cl.Auto&&i.vb()===t?Ir(t,sr,e):n===ur?null!==i?i.type===cl.Spot&&i.vb()===t?Ir(t,sr,e):Ir(t,(n=i.defaultStretch)===ur?lr:n,e):Ir(t,lr,e):Ir(t,n,e)}function Rr(t,e,n,i){var a=t.stretch;if(a!==ur)return Ir(t,a,i);var o=a=null;switch(e.stretch){case dr:o=!0;break;case sr:o=!0}switch(n.stretch){case hr:a=!0;break;case sr:a=!0}return e=t.panel.defaultStretch,null===a&&(a=e===hr||e===sr),null===o&&(o=e===dr||e===sr),Ir(t,!0===a&&!0===o?sr:!0===a?hr:!0===o?dr:lr,i)}function Ir(t,e,n){if(n)return e;if(e===lr)return lr;if((n=t.desiredSize).v())return lr;if(t=t.angle,!isNaN(n.width))if(90!==t&&270!==t){if(e===hr)return lr;if(e===sr)return dr}else{if(e===dr)return lr;if(e===sr)return hr}if(!isNaN(n.height))if(90!==t&&270!==t){if(e===dr)return lr;if(e===sr)return hr}else{if(e===hr)return lr;if(e===sr)return dr}return e}function zr(t,e){t.o=e?512|t.o:-513&t.o}function Hr(t){return 0!=(1024&t.o)}function Vr(t,e){t.o=e?1024|t.o:-1025&t.o}function Gr(t,e){t.o=e?2048|t.o:-2049&t.o}function Ur(t,e){t.o=e?4096|t.o:-4097&t.o}function Wr(t){return 0!=(8192&t.o)}function qr(t,e){t.o=e?8192|t.o:-8193&t.o}function Yr(t){return 0!=(16384&t.o)}function Xr(t,e){t.o=e?16384|t.o:-16385&t.o}function Kr(t){var e=t.part;if(e instanceof xh&&(null!==t.portId||t===e.port)){var n=e.diagram;null===n||n.undoManager.isUndoingRedoing||Ph(e,t)}}function Zr(t){var e=t.diagram;null===e||e.undoManager.isUndoingRedoing||(t instanceof cl?t instanceof xh?t.vd():t.$l(t,(function(t){Kr(t)})):Kr(t))}function $r(t,e){for(var n=1;n<arguments.length;++n);n=arguments;var i=null,a=null;if("function"==typeof t)a=t;else if("string"==typeof t){var o=es.I(t);"function"==typeof o?M(i=o(n=L(arguments)))||b('GraphObject.make invoked object builder "'+t+'", but it did not return an Object'):a=m.go[t]}if(null===i&&(null!=a&&a.constructor||b("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),i=new a),a=1,i instanceof ka&&1<n.length){o=i;var r=n[1];("string"==typeof r||r instanceof HTMLDivElement)&&(or(o,r),a++)}for(;a<n.length;a++)void 0===(o=n[a])?b("Undefined value at argument "+a+" for object being constructed by GraphObject.make: "+i):Jr(i,o);return i}function Jr(t,e){if("string"==typeof e)if(t instanceof ec)t.text=e;else if(t instanceof Gl)t.figure=e;else if(t instanceof Nc)t.source=e;else if(t instanceof cl)null!==(e=jl.I(e))&&(t.type=e);else if(t instanceof vs){var n=V(vs,e);null!==n?t.type=n:b("Unknown Brush type as an argument to GraphObject.make: "+e)}else t instanceof We?null!==(e=V(We,e))&&(t.type=e):t instanceof tn&&(null!==(e=V(tn,e))&&(t.type=e));else if(e instanceof Tr)t instanceof cl||b("A GraphObject can only be added to a Panel, not to: "+t),t.add(e);else if(e instanceof Rl){var i;e.isRow&&"function"==typeof t.getRowDefinition?i=t.getRowDefinition(e.index):e.isRow||"function"!=typeof t.getColumnDefinition||(i=t.getColumnDefinition(e.index)),i instanceof Rl?(t=i,e.isRow?t.height=e.height:t.width=e.width,t.minimum=e.minimum,t.maximum=e.maximum,t.alignment=e.alignment,t.stretch=e.stretch,t.sizing=e.sizing,t.Wf=null===e.separatorPadding?null:e.separatorPadding.J(),t.separatorStroke=e.separatorStroke,t.separatorStrokeWidth=e.separatorStrokeWidth,t.oj=null,e.separatorDashArray&&(t.oj=L(e.separatorDashArray)),t.background=e.background,t.coversSeparators=e.coversSeparators,t.Vd=e.Vd):b("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(e instanceof H)"function"==typeof t.ob&&t.ob(e);else if(e instanceof Ys)t.type=e;else if(e instanceof pf)t instanceof Tr||t instanceof Rl?t.bind(e):b("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof pa)t instanceof Tr?t.mv(e):b("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(e instanceof Qe)t instanceof We&&t.type===We.m?t.figures.add(e):b("A PathFigure can only be added to a Path Geometry, not to: "+t);else if(e instanceof tn)t instanceof Qe?t.segments.add(e):b("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Yd)t instanceof ka||t instanceof jh?t.layout=e:b("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(n=0;n<e.length;n++)Jr(t,e[n]);else if("object"==typeof e&&null!==e)if(t instanceof vs){for(var a in n=new U,e)i=parseFloat(a),isNaN(i)?n[a]=e[a]:t.addColorStop(i,e[a]);$a(t,n)}else if(t instanceof Rl){for(n in void 0!==e.row?((null==(a=e.row)||1/0===a||isNaN(a)||0>a)&&b("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+a),t.isRow=!0,t.index=a):void 0!==e.column&&((null==(a=e.column)||1/0===a||isNaN(a)||0>a)&&b("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+a),t.isRow=!1,t.index=a),a=new U,e)"row"!==n&&"column"!==n&&(a[n]=e[n]);$a(t,a)}else $a(t,e);else b('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}function Qr(t,e){es.add(t,e)}function ts(t,e,n){void 0===n&&(n=null);var i=t[1];if("function"==typeof n?n(i):"string"==typeof i)return t.splice(1,1),i;if(void 0===e)throw Error("no "+("function"==typeof n?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e}rr.className="DraggingInfo",vr.className="DraggingNodeInfoPair",wr.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new Et(NaN,NaN).freeze(),this.gridSnapCellSpot=ee,this.gridSnapOrigin=new gt(NaN,NaN).freeze(),this.groupsSnapMembers=this.dragsTree=this.dragsLink=!1,this.dragsMembers=this.groupsAlwaysMove=!0},wr.className="DraggingOptions",d(xr,ka),xr.prototype.reset=function(){ka.prototype.reset.call(this),br(this)},xr.className="Palette",d(Sr,ka),Sr.prototype.computePixelRatio=function(){return 1},Sr.prototype.redraw=function(){if(this.m&&1<=this.updateDelay){this.m=!1;var t=this.Ha,e=this.Zb;if(null!==t&&null!==e){if(to(this),null===this.el){var n=new ps(null);n.width=t.width,n.height=t.height,this.el=n}try{this.Ha=this.el,this.Zb=this.Ha.context,this.Zb.Oc(!0),this.Zb.setTransform(1,0,0,1,0,0),this.Zb.clearRect(0,0,this.Ha.width,this.Ha.height),kr(this)}finally{this.Ha=t,this.Zb=e}}}ka.prototype.redraw.call(this)},Sr.prototype.tc=function(){if(null===this.La&&b("No div specified"),null===this.Ha&&b("No canvas specified"),!(this.Ha instanceof ss)&&(Qc(this.box),this.bd)){var t=this.observed;if(null!==t&&!t.animationManager.defaultAnimation.isAnimating&&t.ji){to(this);var e=this.Ha;(t=this.Zb).Oc(!0),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),1>this.updateDelay?kr(this):null!==this.el&&(t.drawImage(this.el.Sa,0,0),(e=this.Bb).reset(),1!==this.scale&&e.scale(this.scale),0===this.position.x&&0===this.position.y||e.translate(-this.position.x,-this.position.y),t.scale(this.kc,this.kc),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy));for(var n=(e=this.Ua.s).length,i=0;i<n;i++)e[i].tc(t,this);this.bd=this.Ui=!1}}},Sr.prototype.computeBounds=function(){var t=this.observed;if(null===t)return qt;var e=t.documentBounds.copy();return e.Xc(t.viewportBounds),e},Sr.prototype.invalidateViewport=function(){!0!==this.bd&&(this.bd=!0,this.Mb())},Sr.prototype.onViewportBoundsChanged=function(t,e,n,i){this.wb||(Qa(this),this.N(),Ja(this),this.Va(),Pr(this),this.kd.scale=n,this.kd.position.x=t.x,this.kd.position.y=t.y,this.kd.bounds.assign(t),this.kd.lx=i,this.P("ViewportBoundsChanged",this.kd,t))},u.Object.defineProperties(Sr.prototype,{observed:{get:function(){return this.W},set:function(t){var e=this.W;if(t instanceof Sr&&b("Overview.observed Diagram may not be an Overview itself: "+t),e!==t){if(null!==e&&(this.remove(this.box),e.Il("ViewportBoundsChanged",this.Gf),e.Il("DocumentBoundsChanged",this.Qd),e.Il("InvalidateDraw",this.Ga),e.Il("AnimationFinished",this.Ff)),this.W=t,null!==t&&(t.wj("ViewportBoundsChanged",this.Gf),t.wj("DocumentBoundsChanged",this.Qd),t.wj("InvalidateDraw",this.Ga),t.wj("AnimationFinished",this.Ff),this.add(this.box)),this.Va(),null===t){this.el=null;var n=this.Ha,i=this.Zb;n&&i&&(i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,n.width,n.height))}else this.Ga(null),Pr(this),this.N();this.g("observed",e,t)}}},box:{get:function(){return this.j},set:function(t){var e=this.j;e!==t&&(this.j=t,this.remove(e),this.add(this.j),Pr(this),this.g("box",e,t))}},drawsTemporaryLayers:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t,this.redraw())}},drawsGrid:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t,this.redraw())}},updateDelay:{get:function(){return this.ga},set:function(t){0>t&&(t=0),this.ga!==t&&(this.ga=t)}}}),Sr.className="Overview",d(Mr,An),Mr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||!t.allowMove||!t.allowSelect)return!1;var e=t.observed;if(null===e)return!1;var n=t.lastInput;return!(!n.left||t.currentTool!==this&&(!this.isBeyondDragSize()||n.isTouchEvent&&n.timestamp-t.firstInput.timestamp<this.delay))&&(null===this.findDraggablePart()&&(n=e.viewportBounds,this.j=new gt(n.width/2,n.height/2),t=t.firstInput.documentPoint,e.position=new gt(t.x-this.j.x,t.y-this.j.y)),!0)},Mr.prototype.doActivate=function(){this.j=null,An.prototype.doActivate.call(this)},Mr.prototype.doUpdateCursor=function(){var t=this.diagram,e=t.box;null!==e&&e.cursor&&(t.currentCursor=e.cursor)},Mr.prototype.moveParts=function(){var t=this.diagram,e=t.observed;if(null!==e){var n=t.box;if(null!==n){if(null===this.j){var i=t.firstInput.documentPoint;n=n.location,this.j=new gt(i.x-n.x,i.y-n.y)}t=t.lastInput.documentPoint,e.position=new gt(t.x-this.j.x,t.y-this.j.y)}}},Mr.className="OverviewDraggingTool",_r.prototype.toString=function(){return"CommandHandler"},_r.prototype.Le=function(t){this.H=t},_r.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput,n=I?e.meta:e.control,i=e.shift,a=e.alt,o=e.key;!n||"C"!==o&&"Insert"!==o?n&&"X"===o||i&&"Del"===o?this.canCutSelection()&&this.cutSelection():n&&"V"===o||i&&"Insert"===o?this.canPasteSelection()&&this.pasteSelection():n&&"Y"===o||a&&i&&"Backspace"===o?this.canRedo()&&this.redo():n&&"Z"===o||a&&"Backspace"===o?this.canUndo()&&this.undo():"Del"===o||"Backspace"===o?this.canDeleteSelection()&&this.deleteSelection():n&&"A"===o?this.canSelectAll()&&this.selectAll():"Esc"===o?this.canStopCommand()&&this.stopCommand():"Up"===o?t.allowVerticalScroll&&(n?t.scroll("pixel","up"):t.scroll("line","up")):"Down"===o?t.allowVerticalScroll&&(n?t.scroll("pixel","down"):t.scroll("line","down")):"Left"===o?t.allowHorizontalScroll&&(n?t.scroll("pixel","left"):t.scroll("line","left")):"Right"===o?t.allowHorizontalScroll&&(n?t.scroll("pixel","right"):t.scroll("line","right")):"PageUp"===o?i&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):"PageDown"===o?i&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):"Home"===o?n&&t.allowVerticalScroll?t.scroll("document","up"):!n&&t.allowHorizontalScroll&&t.scroll("document","left"):"End"===o?n&&t.allowVerticalScroll?t.scroll("document","down"):!n&&t.allowHorizontalScroll&&t.scroll("document","right"):" "===o?this.canScrollToPart()&&this.scrollToPart():"Subtract"===o?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===o?this.canIncreaseZoom()&&this.increaseZoom():n&&"0"===o?this.canResetZoom()&&this.resetZoom():i&&"Z"===o?this.canZoomToFit()&&this.zoomToFit():n&&!i&&"G"===o?this.canGroupSelection()&&this.groupSelection():n&&i&&"G"===o?this.canUngroupSelection()&&this.ungroupSelection():"F2"===o||e.event&&"F2"===e.event.key?this.canEditTextBlock()&&this.editTextBlock():"ContextMenu"===o||e.event&&"ContextMenu"===e.event.key?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()},_r.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},_r.prototype.stopCommand=function(){var t=this.diagram,e=t.currentTool;e instanceof bn&&t.allowSelect&&t.clearSelection(),null!==e&&e.doCancel()},_r.prototype.canStopCommand=function(){return!0},_r.prototype.selectAll=function(){var t=this.diagram;t.N();try{t.currentCursor="wait",t.P("ChangingSelection",t.selection);for(var e=t.parts;e.next();)e.value.isSelected=!0;for(var n=t.nodes;n.next();)n.value.isSelected=!0;for(var i=t.links;i.next();)i.value.isSelected=!0}finally{t.P("ChangedSelection",t.selection),t.currentCursor=""}},_r.prototype.canSelectAll=function(){return this.diagram.allowSelect},_r.prototype.deleteSelection=function(){var t=this.diagram;try{t.currentCursor="wait",t.P("ChangingSelection",t.selection),t.Da("Delete"),t.P("SelectionDeleting",t.selection);for(var e=new Q,n=t.selection.iterator;n.next();)mh(e,n.value,!0,this.deletesTree?1/0:0,!!this.deletesConnectedLinks&&null,(function(t){return t.canDelete()}));t.js(e,!0),t.P("SelectionDeleted",e)}finally{t.eb("Delete"),t.P("ChangedSelection",t.selection),t.currentCursor=""}},_r.prototype.canDeleteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||0===t.selection.count)},_r.prototype.copySelection=function(){var t=this.diagram,e=new Q;for(t=t.selection.iterator;t.next();)mh(e,t.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,(function(t){return t.canCopy()}));this.copyToClipboard(e)},_r.prototype.canCopySelection=function(){var t=this.diagram;return!(!t.allowCopy||!t.allowClipboard||0===t.selection.count)},_r.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},_r.prototype.canCutSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowCopy||!t.allowDelete||!t.allowClipboard||0===t.selection.count)},_r.prototype.copyToClipboard=function(t){var e=this.diagram,n=null;if(null===t)Do=null,Fo="";else{n=e.model;var i=!1,a=!1,o=null;try{n.Al()&&(i=n.Dj,n.Dj=this.copiesParentKey),n.Nj()&&(a=n.Cj,n.Cj=this.copiesGroupKey),o=e.Ej(t,null,!0)}finally{n.Al()&&(n.Dj=i),n.Nj()&&(n.Cj=a),(n=new $).addAll(o),Do=n,Fo=e.model.dataFormat}}e.P("ClipboardChanged",n)},_r.prototype.pasteFromClipboard=function(){var t=new Q,e=Do;if(null===e)return t;var n=this.diagram;if(Fo!==n.model.dataFormat)return t;var i=n.model,a=!1,o=!1,r=null;try{i.Al()&&(a=i.Dj,i.Dj=this.copiesParentKey),i.Nj()&&(o=i.Cj,i.Cj=this.copiesGroupKey),r=n.Ej(e,n,!1)}finally{for(i.Al()&&(i.Dj=a),i.Nj()&&(i.Cj=o),e=r.iterator;e.next();)n=e.value,i=e.key,n.location.v()||(i.location.v()?n.location=i.location:!n.position.v()&&i.position.v()&&(n.position=i.position)),t.add(n)}return t},_r.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.currentCursor="wait",e.P("ChangingSelection",e.selection),e.Da("Paste");var n=this.pasteFromClipboard();0<n.count&&e.clearSelection(!0);for(var i=n.iterator;i.next();)i.value.isSelected=!0;if(null!==t){var a=e.computePartsBounds(e.selection);if(a.v())oo(e,this.computeEffectiveCollection(e.selection,e.Em),new gt(t.x-a.centerX,t.y-a.centerY),e.Em,!1)}e.P("ClipboardPasted",n)}finally{e.eb("Paste"),e.P("ChangedSelection",e.selection),e.currentCursor=""}},_r.prototype.canPasteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowClipboard||null===Do||0===Do.count||Fo!==t.model.dataFormat)},_r.prototype.undo=function(){this.diagram.undoManager.undo()},_r.prototype.canUndo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&(t.allowUndo&&t.undoManager.canUndo())},_r.prototype.redo=function(){this.diagram.undoManager.redo()},_r.prototype.canRedo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&(t.allowUndo&&t.undoManager.canRedo())},_r.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;e.autoScale===Ro&&((t=e.scale*t)<e.minScale||t>e.maxScale||(e.scale=t))},_r.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;return e.autoScale===Ro&&(!((t=e.scale*t)<e.minScale||t>e.maxScale)&&e.allowZoom)},_r.prototype.increaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;e.autoScale===Ro&&((t=e.scale*t)<e.minScale||t>e.maxScale||(e.scale=t))},_r.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;return e.autoScale===Ro&&(!((t=e.scale*t)<e.minScale||t>e.maxScale)&&e.allowZoom)},_r.prototype.resetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;t<e.minScale||t>e.maxScale||(e.scale=t)},_r.prototype.canResetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;return!(t<e.minScale||t>e.maxScale)&&e.allowZoom},_r.prototype.zoomToFit=function(){var t=this.diagram,e=t.animationManager;e.wc(),t.redraw();var n=t.position,i=t.scale;Ui(e,"Zoom To Fit"),this.isZoomToFitRestoreEnabled&&i===this.fu&&!isNaN(this.mt)&&t.documentBounds.C(this.du)?(t.scale=this.mt,t.position=this.Yv,this.fu=NaN,this.du=qt):(this.mt=i,this.Yv=n.copy(),t.zoomToFit(),this.fu=t.scale,this.du=t.documentBounds.copy()),Wi(e)},_r.prototype.canZoomToFit=function(){return this.diagram.allowZoom},_r.prototype.scrollToPart=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.Za(),null===t){try{null!==this.Vf&&(this.Vf.next()?t=this.Vf.value:this.Vf=null)}catch(t){this.Vf=null}null===t&&(0<e.highlighteds.count?this.Vf=e.highlighteds.iterator:0<e.selection.count&&(this.Vf=e.selection.iterator),null!==this.Vf&&this.Vf.next()&&(t=this.Vf.value))}if(null!==t){var n=e.animationManager;Ui(n,"Scroll To Part");var i=this.scrollToPartPause;if(0<i){var a=function t(e,n,i){if(n.isVisible())return i;if(n instanceof vh)t(e,n.adornedPart,i);else if(n instanceof Ih){var a=n.fromNode;null!==a&&t(e,a,i),null!==(n=n.toNode)&&t(e,n,i)}else n instanceof xh&&(null!==(a=n.labeledLink)&&t(e,a,i),null!==(a=n.ig())&&(a.isTreeExpanded||a.wasTreeExpanded||i.push(a),t(e,a,i))),null!==(n=n.containingGroup)&&(n.isSubGraphExpanded||n.wasSubGraphExpanded||i.push(n),t(e,n,i));return i}(this,t,[t]);if(1===a.length)e.Da(),e.Dr(t.actualBounds),e.eb("Scroll To Part");else{var o=function(){e.Da();for(var t=a.pop();0<a.length&&t instanceof xh&&t.isTreeExpanded&&(!(t instanceof jh)||t.isSubGraphExpanded);)t=a.pop();0<a.length?(t instanceof $c&&e.av(t.actualBounds),t instanceof xh&&!t.isTreeExpanded&&(t.isTreeExpanded=!0),t instanceof jh&&!t.isSubGraphExpanded&&(t.isSubGraphExpanded=!0)):(t instanceof $c&&e.Dr(t.actualBounds),e.Il("LayoutCompleted",r)),e.eb("Scroll To Part")},r=function(){w(o,(n.isEnabled?n.duration:0)+i)};e.wj("LayoutCompleted",r),o()}}else{var s=e.position.copy();e.Dr(t.actualBounds),s.$a(e.position)&&n.wc()}}},_r.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof $c)&&((0!==(t=this.diagram).selection.count||0!==t.highlighteds.count)&&(t.allowHorizontalScroll&&t.allowVerticalScroll))},_r.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.Da("Collapse Tree"),Ui(e.animationManager,"Collapse Tree");var n=new $;if(null!==t&&t.isTreeExpanded)t.collapseTree(),n.add(t);else if(null===t)for(var i=e.selection.iterator;i.next();){var a=i.value;a instanceof xh&&a.isTreeExpanded&&(a.collapseTree(),n.add(a))}e.P("TreeCollapsed",n)}finally{e.eb("Collapse Tree")}},_r.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof xh&&t.isTreeExpanded))return!1;if(0<t.to().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof xh&&e.isTreeExpanded&&0<e.to().count)return!0;return!1},_r.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.Da("Expand Tree"),Ui(e.animationManager,"Expand Tree");var n=new $;if(null===t||t.isTreeExpanded){if(null===t)for(var i=e.selection.iterator;i.next();){var a=i.value;a instanceof xh&&!a.isTreeExpanded&&(a.expandTree(),n.add(a))}}else t.expandTree(),n.add(t);e.P("TreeExpanded",n)}finally{e.eb("Expand Tree")}},_r.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof xh)||t.isTreeExpanded)return!1;if(0<t.to().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof xh&&!e.isTreeExpanded&&0<e.to().count)return!0;return!1},_r.prototype.groupSelection=function(){var t=this.diagram,e=t.model;if(e.Oj()){var n=this.archetypeGroupData;if(null!==n){var i=null;try{t.currentCursor="wait",t.P("ChangingSelection",t.selection),t.Da("Group");for(var a=new $,o=t.selection.iterator;o.next();){var r=o.value;r.Tc()&&r.canGroup()&&a.add(r)}for(var s=new $,l=a.iterator;l.next();){var c=l.value;o=!1;for(var h=a.iterator;h.next();)if(c.Md(h.value)){o=!0;break}o||s.add(c)}if(0<s.count){var d=s.first().containingGroup;if(null!==d)for(;null!==d;){a=!1;for(var u=s.iterator;u.next();)if(!u.value.Md(d)){a=!0;break}if(!a)break;d=d.containingGroup}if(n instanceof jh)Pl(n),null!==(i=n.copy())&&t.add(i);else if(e.Ju(n)){var f=e.copyNodeData(n);M(f)&&(e.lf(f),i=t.ci(f))}if(null!==i){null!==d&&this.isValidMember(d,i)&&(i.containingGroup=d);for(var p=s.iterator;p.next();){var g=p.value;this.isValidMember(i,g)&&(g.containingGroup=i)}t.clearSelection(!0),i.isSelected=!0}}t.P("SelectionGrouped",i)}finally{t.eb("Group"),t.P("ChangedSelection",t.selection),t.currentCursor=""}}}},_r.prototype.canGroupSelection=function(){var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.Oj()||null===this.archetypeGroupData)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Tc()&&e.canGroup())return!0}return!1},_r.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof Ih)return!1;if(null!==t){if(t===e||t.Md(e))return!1;var n=t.memberValidation;if(null!==n&&!n(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(n=this.memberValidation)||n(t,e)},_r.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram,n=e.model;if(n.Oj())try{e.currentCursor="wait",e.P("ChangingSelection",e.selection),e.Da("Ungroup");var i=new $;if(null!==t)i.add(t);else for(var a=e.selection.iterator;a.next();){var o=a.value;o instanceof jh&&o.canUngroup()&&i.add(o)}var r=new $;if(0<i.count){e.clearSelection(!0);for(var s=i.iterator;s.next();){var l=s.value;l.expandSubGraph();var c=l.containingGroup,h=null!==c&&null!==c.data?n.ta(c.data):void 0;r.addAll(l.memberParts);for(var d=r.iterator;d.next();){var u=d.value;if(u.isSelected=!0,!(u instanceof Ih)){var f=u.data;null!==f?n.Po(f,h):u.containingGroup=c}}e.remove(l)}}e.P("SelectionUngrouped",i,r)}finally{e.eb("Ungroup"),e.P("ChangedSelection",e.selection),e.currentCursor=""}},_r.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||!e.allowUngroup||!e.model.Oj())return!1;if(null!==t){if(!(t instanceof jh))return!1;if(t.canUngroup())return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof jh&&e.canUngroup())return!0;return!1},_r.prototype.addTopLevelParts=function(t,e){var n=!0;for(t=Lr(t).iterator;t.next();){var i=t.value;null!==i.containingGroup&&(!e||this.isValidMember(null,i)?i.containingGroup=null:n=!1)}return n},_r.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.Da("Collapse SubGraph"),Ui(e.animationManager,"Collapse SubGraph");var n=new $;if(null!==t&&t.isSubGraphExpanded)t.collapseSubGraph(),n.add(t);else if(null===t)for(var i=e.selection.iterator;i.next();){var a=i.value;a instanceof jh&&a.isSubGraphExpanded&&(a.collapseSubGraph(),n.add(a))}e.P("SubGraphCollapsed",n)}finally{e.eb("Collapse SubGraph")}},_r.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return!!(t instanceof jh&&t.isSubGraphExpanded);for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof jh&&e.isSubGraphExpanded)return!0;return!1},_r.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.Da("Expand SubGraph"),Ui(e.animationManager,"Expand SubGraph");var n=new $;if(null===t||t.isSubGraphExpanded){if(null===t)for(var i=e.selection.iterator;i.next();){var a=i.value;a instanceof jh&&!a.isSubGraphExpanded&&(a.expandSubGraph(),n.add(a))}}else t.expandSubGraph(),n.add(t);e.P("SubGraphExpanded",n)}finally{e.eb("Expand SubGraph")}},_r.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return t instanceof jh&&!t.isSubGraphExpanded;for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof jh&&!e.isSubGraphExpanded)return!0;return!1},_r.prototype.editTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram,n=e.toolManager.findTool("TextEditing");if(null!==n){if(null===t){t=null;for(var i=e.selection.iterator;i.next();){var a=i.value;if(a.canEdit()){t=a;break}}if(null===t)return;t=t.ul((function(t){return t instanceof ec&&t.editable}))}null!==t&&(e.currentTool=null,n.textBlock=t,e.currentTool=n)}},_r.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowTextEdit||null===e.toolManager.findTool("TextEditing"))return!1;if(null!==t){if(!(t instanceof ec))return!1;if(null!==(t=t.part)&&t.canEdit())return!0}else for(e=e.selection.iterator;e.next();)if((t=e.value).canEdit()&&null!==(t=t.ul((function(t){return t instanceof ec&&t.editable}))))return!0;return!1},_r.prototype.showContextMenu=function(t){var e=this.diagram,n=e.toolManager.findTool("ContextMenu");if(null!==n&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=n.findObjectWithContextMenu(t)))){var i=e.lastInput,a=null;t instanceof Tr?a=t.ia(oe):e.viewportBounds.ba(i.documentPoint)||(a=new gt((a=e.viewportBounds).x+a.width/2,a.y+a.height/2)),null!==a&&(i.viewPoint=e.Ro(a),i.documentPoint=a,i.left=!1,i.right=!0,i.up=!0),e.currentTool=n,Si(n,!1,t)}},_r.prototype.canShowContextMenu=function(t){var e=this.diagram,n=e.toolManager.findTool("ContextMenu");return null!==n&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==n.findObjectWithContextMenu(t))},_r.prototype.computeEffectiveCollection=function(t,e){var n=this.diagram,i=n.toolManager.findTool("Dragging"),a=n.currentTool===i;if(void 0===e&&(e=a?i.dragOptions:n.Em),i=new pt,null===t)return i;for(var o=t.iterator;o.next();)ao(n,i,o.value,a,e);if(null!==n.draggedLink&&e.dragsLink)return i;for(o=t.iterator;o.next();)(t=o.value)instanceof Ih&&(null===(e=t.fromNode)||i.contains(e)?null===(e=t.toNode)||i.contains(e)||i.remove(t):i.remove(t));return i},u.Object.defineProperties(_r.prototype,{diagram:{get:function(){return this.H}},copiesClipboardData:{get:function(){return this.m},set:function(t){this.m=t}},copiesConnectedLinks:{get:function(){return this.u},set:function(t){this.u=t}},deletesConnectedLinks:{get:function(){return this.Ga},set:function(t){this.Ga=t}},copiesTree:{get:function(){return this.ga},set:function(t){this.ga=t}},deletesTree:{get:function(){return this.hb},set:function(t){this.hb=t}},copiesParentKey:{get:function(){return this.W},set:function(t){this.W=t}},copiesGroupKey:{get:function(){return this.F},set:function(t){this.F=t}},archetypeGroupData:{get:function(){return this.j},set:function(t){this.j=t}},memberValidation:{get:function(){return this.dj},set:function(t){this.dj=t}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(t){this.diagram.defaultScale=t}},zoomFactor:{get:function(){return this.Db},set:function(t){1<t||b("zoomFactor must be larger than 1.0, not: "+t),this.Db=t}},isZoomToFitRestoreEnabled:{get:function(){return this.cb},set:function(t){this.cb=t}},scrollToPartPause:{get:function(){return this.nb},set:function(t){this.nb=t}}}),_r.className="CommandHandler",_a=function(){return new _r},Tr.prototype.cloneProtected=function(t){t.o=6144|this.o,t.tb=this.tb,t.Yb=this.Yb,t.pa.assign(this.pa),t.$c=this.$c.J(),null!==this.Ib?t.Ib=this.Ib.copy():t.Ib=null,t.xa=this.xa,t.Gb=this.Gb,t.Ag=this.Ag.J(),t.qc.assign(this.qc),t.Eb.assign(this.Eb),t.bc.assign(this.bc),t.Gn=this.Gn,null!==this.aa&&(t.aa=this.aa.copy()),t.Fb=this.Fb.J(),t.ek=this.ek.J(),t.Ln=this.Ln,t.rg=this.rg,null!==this.Ra&&(t.Ra=this.Ra.copy()),null!==this.A&&(t.A=this.A.ic?this.A:this.A.copy()),null!==this.sh&&(t.sh=L(this.sh)),null!==this.ib&&(t.ib=this.ib.copy())},Tr.prototype.zw=function(t){var e=this.sh;if(_(e)){for(var n=0;n<e.length;n++)if(e[n]===t)return}else this.sh=e=[];e.push(t)},Tr.prototype.qf=function(t){t.Hn=null,t.jj=null,t.w()},Tr.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.sh)for(var e=0;e<this.sh.length;e++){var n=this.sh[e];t[n]=this[n]}return t},Tr.prototype.copy=function(){return this.clone()},(e=Tr.prototype).ob=function(t){t.classType===Ih?0===t.name.indexOf("Orient")?this.segmentOrientation=t:b("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.classType===Tr&&(this.stretch=t)},e.toString=function(){return C(this.constructor)+"#"+nt(this)},e.ih=function(){null!==this.A&&(this.A.ic=!0)},e.Rc=function(){if(null===this.aa){var t=new as;t.Qi=te,t.tj=te,t.Oi=10,t.rj=10,t.Pi=0,t.sj=0,this.aa=t}},e.bb=function(t,e,n,i,a,o,r){var s=this.part;if(null!==s&&(s.Zj(t,e,n,i,a,o,r),n===this&&t===pn&&Hr(this)&&Ar(this,s,e),o=this.diagram,null===this.animationTriggers||null===o||!o.ji||o.undoManager.isUndoingRedoing||o.animationManager.lm||null!==(t=this.animationTriggers.get(e))&&o.animationManager.isEnabled&&!o.animationManager.isTicking&&(null===this.Mn&&(this.Mn=new pt),r=0===o.undoManager.transactionLevel,t.startCondition===va?r=!0:t.startCondition===wa&&(r=!1),r?(function(t,e){null!==(t=t.gk)&&(t.duration&&(e.duration=t.duration),t.finished&&(e.finished=t.finished),t.easing&&(e.easing=t.easing))}(t,o=new oa),null!==(r=this.Mn.get(t))&&r.stop(),this.Mn.add(t,o),o.au=this,o.rw=t,o.add(this,e,i,a),o.start()):(Ui(o.animationManager,"Trigger"),o.animationManager.defaultAnimation.add(this,e,i,a))),this instanceof cl&&n===s&&0!=(16777216&s.o)&&null!==s.data))for(i=(n=this.R.s).length,a=0;a<i;a++)(s=n[a])instanceof cl&&gl(s,(function(t){null!==t.data&&0!=(16777216&t.o)&&t.Ka(e)}))},e.Ir=function(t){return this.bindingId===t?this:null},e.g=function(t,e,n){this.bb(pn,t,this,e,n)},e.ve=function(t,e,n,i){var a=this.qc;if(a.h(t,e,n,i),1!==this.xa||0!==this.Gb){null===this.Ib&&(this.Ib=new Ve);var o=this.Ib;o.reset(),this.Qn(o,t,e,n,i),o.So(a)}},e.Vw=function(t,e,n){if(!1===this.pickable)return!1;var i=this.naturalBounds;return e=t.rf(e),n?xt(t.x,t.y,0,0,0,i.height)<=e||xt(t.x,t.y,0,i.height,i.width,i.height)<=e||xt(t.x,t.y,i.width,i.height,i.width,0)<=e||xt(t.x,t.y,i.width,0,0,0)<=e:t.td(0,0)<=e&&t.td(0,i.height)<=e&&t.td(i.width,0)<=e&&t.td(i.width,i.height)<=e},e.ke=function(){return!0},e.ba=function(t){var e=gt.alloc();e.assign(t),this.transform.Fa(e);var n=this.actualBounds;if(!n.v())return gt.free(e),!1;var i=this.diagram;if(null!==i&&i.jt){var a=i.xl("extraTouchThreshold"),o=i.xl("extraTouchArea"),r=o/2,s=this.naturalBounds,l=1/(i=this.uf()*i.scale);if(s.width*i<a&&s.height*i<a)return t=Ut(n.x-r*l,n.y-r*l,n.width+o*l,n.height+o*l,e.x,e.y),gt.free(e),t}return a=!1,(this instanceof vh||this instanceof Gl?Ut(n.x-5,n.y-5,n.width+10,n.height+10,e.x,e.y):n.ba(e))&&(a=!(this.ib&&!this.ib.ba(e))&&(!(null===this.areaBackground||!n.ba(e))||(!(null===this.Yb||!this.bc.ba(t))||this.Xg(t)))),gt.free(e),a},e.Xg=function(t){var e=this.naturalBounds;return Ut(0,0,e.width,e.height,t.x,t.y)},e.Ee=function(t){if(0===this.angle)return this.actualBounds.Ee(t);var e=this.naturalBounds;e=jt.allocAt(0,0,e.width,e.height);var n=this.transform,i=!1,a=gt.allocAt(t.x,t.y);return e.ba(n.Ld(a))&&(a.h(t.x,t.bottom),e.ba(n.Ld(a))&&(a.h(t.right,t.bottom),e.ba(n.Ld(a))&&(a.h(t.right,t.y),e.ba(n.Ld(a))&&(i=!0)))),gt.free(a),jt.free(e),i},e.Wg=function(t,e){if(void 0===e)return t.Ee(this.actualBounds);var n=this.naturalBounds,i=!1,a=gt.allocAt(0,0);return t.ba(e.Fa(a))&&(a.h(0,n.height),t.ba(e.Fa(a))&&(a.h(n.width,n.height),t.ba(e.Fa(a))&&(a.h(n.width,0),t.ba(e.Fa(a))&&(i=!0)))),gt.free(a),i},e.Sc=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.Sc(this.actualBounds);var n=this.naturalBounds,i=gt.allocAt(0,0),a=gt.allocAt(0,n.height),o=gt.allocAt(n.width,n.height),r=gt.allocAt(n.width,0),s=!1;if(t.ba(e.Fa(i))||t.ba(e.Fa(a))||t.ba(e.Fa(o))||t.ba(e.Fa(r)))s=!0;else{n=jt.allocAt(0,0,n.width,n.height);var l=gt.allocAt(t.x,t.y);n.ba(e.Ld(l))?s=!0:(l.h(t.x,t.bottom),n.ba(e.Ld(l))?s=!0:(l.h(t.right,t.bottom),n.ba(e.Ld(l))?s=!0:(l.h(t.right,t.y),n.ba(e.Ld(l))&&(s=!0)))),gt.free(l),jt.free(n),!s&&(Ue.Sr(t,i,a)||Ue.Sr(t,a,o)||Ue.Sr(t,o,r)||Ue.Sr(t,r,i))&&(s=!0)}return gt.free(i),gt.free(a),gt.free(o),gt.free(r),s},e.ia=function(t,e){if(void 0===e&&(e=new gt),t instanceof Fe){var n=this.naturalBounds;e.h(t.x*n.width+t.offsetX,t.y*n.height+t.offsetY)}else e.set(t);return this.ge.Fa(e),e},e.gi=function(t){void 0===t&&(t=new jt);var e=this.naturalBounds,n=this.ge,i=gt.allocAt(0,0).transform(n);return t.h(i.x,i.y,0,0),i.h(e.width,0).transform(n),Gt(t,i.x,i.y,0,0),i.h(e.width,e.height).transform(n),Gt(t,i.x,i.y,0,0),i.h(0,e.height).transform(n),Gt(t,i.x,i.y,0,0),gt.free(i),t},e.fi=function(){var t=this.ge;return 1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},e.uf=function(){if(0!=(4096&this.o)==!1)return this.xk;var t=this.xa;return null!==this.panel?t*this.panel.uf():t},e.Or=function(t,e){return void 0===e&&(e=new gt),e.assign(t),this.ge.Ld(e),e},e.Pr=function(t,e,n){return this.Kj(t.x,t.y,e.x,e.y,n)},e.Kj=function(t,e,n,i,a){var o=this.transform,r=1/(o.m11*o.m22-o.m12*o.m21),s=o.m22*r,l=-o.m12*r,c=-o.m21*r,h=o.m11*r,d=r*(o.m21*o.dy-o.m22*o.dx),u=r*(o.m12*o.dx-o.m11*o.dy);return null!==this.areaBackground?(o=this.actualBounds,Ue.wf(o.left,o.top,o.right,o.bottom,t,e,n,i,a)):(r=t*s+e*c+d,t=t*l+e*h+u,e=n*s+i*c+d,n=n*l+i*h+u,a.h(0,0),i=this.naturalBounds,n=Ue.wf(0,0,i.width,i.height,r,t,e,n,a),a.transform(o),n)},Tr.prototype.measure=function(t,e,n,i){if(!1!==Wr(this)){var a=this.Ag,o=a.right+a.left;a=a.top+a.bottom,t=Math.max(t-o,0),e=Math.max(e-a,0),n=Math.max((n||0)-o,0),i=Math.max((i||0)-a,0),o=this.angle,a=this.desiredSize;var r=0;this instanceof Gl&&(r=this.strokeWidth),90===o||270===o?(t=isFinite(a.height)?a.height+r:t,e=isFinite(a.width)?a.width+r:e):(t=isFinite(a.width)?a.width+r:t,e=isFinite(a.height)?a.height+r:e),a=n||0,r=i||0;var s=this instanceof cl;switch(Fr(this,!0)){case lr:r=a=0,s&&(e=t=1/0);break;case sr:isFinite(t)&&t>n&&(a=t),isFinite(e)&&e>i&&(r=e);break;case hr:isFinite(t)&&t>n&&(a=t),r=0,s&&(e=1/0);break;case dr:isFinite(e)&&e>i&&(r=e),a=0,s&&(t=1/0)}s=this.maxSize;var l=this.minSize;a>s.width&&l.width<s.width&&(a=s.width),r>s.height&&l.height<s.height&&(r=s.height),n=Math.max(a/this.scale,l.width),i=Math.max(r/this.scale,l.height),s.width<n&&(n=Math.min(l.width,n)),s.height<i&&(i=Math.min(l.height,i)),t=Math.min(s.width,t),e=Math.min(s.height,e),t=Math.max(n,t),e=Math.max(i,e),90!==o&&270!==o||(o=t,t=e,e=o,o=n,n=i,i=o),this.qc.ja(),this.El(t,e,n,i),this.qc.freeze(),this.qc.v()||b("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.qc.toString()),qr(this,!1)}},Tr.prototype.El=function(){},Tr.prototype.li=function(){return!1},Tr.prototype.arrange=function(t,e,n,i,a){this.Ik();var o=jt.alloc();o.assign(this.Eb),this.Eb.ja(),!1===Yr(this)?this.Eb.h(t,e,n,i):this.Vg(t,e,n,i),this.Eb.freeze(),this.ib=void 0===a?null:a,n=!1,void 0!==a?n=!0:(null===(a=this.panel)||a.type!==cl.TableRow&&a.type!==cl.TableColumn||(a=a.panel),null!==a&&(a=a.bc,i=this.measuredBounds,null!==this.areaBackground&&(i=this.Eb),n=e+i.height,i=t+i.width,n=!(0<=t+.05&&i<=a.width+.05&&0<=e+.05&&n<=a.height+.05),this instanceof ec&&(t=this.naturalBounds,this.kq>t.height||this.yb>t.width))&&(n=!0)),this.o=n?256|this.o:-257&this.o,this.Eb.v()||b("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.Eb.toString()),this.Fl(o,this.Eb),Xr(this,!1),jt.free(o)},(e=Tr.prototype).Vg=function(){},e.Fl=function(t,e){var n=this.part;null!==n&&null!==n.diagram&&(n.selectionObject!==this&&n.resizeObject!==this&&n.rotateObject!==this||uh(n,!0),this.N(),It(t,e)||(n.dh(),this.wn(n)))},e.wn=function(t){null!==this.portId&&(uh(t,!0),t instanceof xh&&Ph(t,this))},e.tc=function(t,e){if(this.visible){var n=this.opacity;if(0!==n){var i=this instanceof cl&&(this.type===cl.TableRow||this.type===cl.TableColumn),a=this.Eb;if(i||0!==a.width&&0!==a.height&&!isNaN(a.x)&&!isNaN(a.y)){var o=1;if(1!==n&&(o=t.globalAlpha,t.globalAlpha=o*n),i){a=this.Eb,i=this.bc;var r=this.areaBackground,s=this.Yb;null===r&&null===s||t.Pc(),null!==r&&(Br(this,t,r,!0,!0,i,a),r instanceof vs&&r.type===Bs?(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.sf(r)):t.fillRect(a.x,a.y,a.width,a.height)),null!==s&&(Br(this,t,s,!0,!1,i,a),s instanceof vs&&s.type===Bs?(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.sf(s)):t.fillRect(a.x,a.y,a.width,a.height)),this.ai(t,e)}else if(!this.Qw(t,e)){i=this.transform,r=this.panel,0!=(4096&this.o)==!0&&jr(this);var l=this.part;s=!1;var c,h=0;if(l&&e.Ge("drawShadows")&&(s=l.isShadowed)){var d=l.shadowOffset;h=Math.max(d.y,d.x)*e.scale*e.kc}if(d=this.li(),!(c=e.Vi||!d)){var u,f=this.naturalBounds,p=(c=this.lh).m11,g=c.m21,m=c.dx,y=c.m12,v=c.m22,w=c.dy,x=u=0;c=u*p+x*g+m;var b=u*y+x*v+w,S=(u=f.width+h)*p+(x=0)*g+m;u=u*y+x*v+w,x=Math.min(c,S);var k=Math.min(b,u),P=Math.max(c+0,S)-x,M=Math.max(b+0,u)-k;c=x,b=k,S=(u=f.width+h)*p+(x=f.height+h)*g+m,u=u*y+x*v+w,x=Math.min(c,S),k=Math.min(b,u),P=Math.max(c+P,S)-x,M=Math.max(b+M,u)-k,c=x,b=k,S=(u=0)*p+(x=f.height+h)*g+m,u=u*y+x*v+w,x=Math.min(c,S),k=Math.min(b,u),P=Math.max(c+P,S)-x,M=Math.max(b+M,u)-k,c=x,b=k,f=(h=e.viewportBounds).x,p=h.y,c=!(c>h.width+f||f>P+c||b>h.height+p||p>M+b)}if(c){if(c=0!=(256&this.o),t.clipInsteadOfFill&&(c=!1),this instanceof ec&&(t.font=this.font),c){if(b=r.ke()?r.naturalBounds:r.actualBounds,null!==this.ib?(P=(f=this.ib).x,M=f.y,h=f.width,f=f.height):(P=Math.max(a.x,b.x),M=Math.max(a.y,b.y),h=Math.min(a.right,b.right)-P,f=Math.min(a.bottom,b.bottom)-M),P>a.width+a.x||a.x>b.width+b.x)return void(1!==n&&(t.globalAlpha=o));t.save(),t.beginPath(),t.rect(P,M,h,f),t.clip()}if(d){if(!l.isVisible())return void(1!==n&&(t.globalAlpha=o));s&&(b=l.shadowOffset,t.iv(b.x*e.scale*e.kc,b.y*e.scale*e.kc,l.shadowBlur),fs(t),t.shadowColor=l.shadowColor)}s&&!0===this.shadowVisible?fs(t):s&&!1===this.shadowVisible&&us(t),l=this.naturalBounds,null!==this.areaBackground&&(t.Pc(),Br(this,t,this.areaBackground,!0,!0,l,a),this.areaBackground instanceof vs&&this.areaBackground.type===Bs?(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.sf(this.areaBackground)):t.fillRect(a.x,a.y,a.width,a.height)),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),s&&(null!==r&&0!=(512&r.o)||null!==r&&(r.type===cl.Auto||r.type===cl.Spot)&&r.vb()!==this)&&null===this.shadowVisible&&us(t),null!==this.Yb&&(t.Pc(),Nr(this,t,l,a)),s&&(null!==this.Yb||null!==this.areaBackground||null!==r&&0!=(512&r.o)||null!==r&&(r.type===cl.Auto||r.type===cl.Spot)&&r.vb()!==this)?(zr(this,!0),null===this.shadowVisible&&us(t)):zr(this,!1),this.ai(t,e),s&&0!=(512&this.o)==!0&&fs(t),d&&s&&us(t),c&&(t.restore(),t.Oc(this instanceof cl)),i.Vr()||(e=1/(i.m11*i.m22-i.m12*i.m21),t.transform(i.m22*e,-i.m12*e,-i.m21*e,i.m11*e,e*(i.m21*i.dy-i.m22*i.dx),e*(i.m12*i.dx-i.m11*i.dy)))}}1!==n&&(t.globalAlpha=o)}}}},e.Qw=function(){return!1},e.ai=function(){},e.jg=function(t){if(t instanceof cl)t:{if(this!==t&&null!==t)for(var e=this.panel;null!==e;){if(e===t){t=!0;break t}e=e.panel}t=!1}else t=!1;return t},e.zf=function(){if(!this.visible)return!1;var t=this.panel;return null===t||t.zf()},e.yf=function(){for(var t=this instanceof cl?this:this.panel;null!==t&&t.isEnabled;)t=t.panel;return null===t},e.Qn=function(t,e,n,i,a){if(1!==this.xa&&t.scale(this.xa),0!==this.Gb){var o=gt.alloc();o.pi(e,n,i,a,oe),t.rotate(this.Gb,o.x,o.y),gt.free(o)}},e.w=function(t){if(!Wr(this)){void 0===t&&(t=!1),qr(this,!0),Xr(this,!0);var e=this.panel;null===e||t||e.w()}},e.Mj=function(){Wr(this)||(qr(this,!0),Xr(this,!0))},e.Ik=function(){0!=(2048&this.o)==!1&&(Gr(this,!0),Ur(this,!0))},e.Hu=function(){Ur(this,!0)},e.N=function(){var t=this.part;null!==t&&t.N()},e.ni=function(t){this.Uf=t},e.fv=function(){},e.ev=function(t){return this.pa=t,Dr(this),!0},e.Ul=function(t,e){this.pa.x===t&&this.pa.y===e||(this.pa.h(t,e),this.Ik())},e.Sv=function(){return 0},e.bind=function(t,e,n,i){var a=null;return(a="string"==typeof t?new pf(t,e,n,i):t).sd=this,null!==(t=this.Yg())&&kl(t)&&b("Cannot add a Binding to a template that has already been copied: "+a),null===this.localBindings&&(this.localBindings=new $),this.localBindings.add(a),this},e.set=function(t){return Object.assign(this,t),this},e.ku=function(t){return Jr(this,t),this},e.apply=function(t){return t(this),this},e.Vl=function(t){return $a(this,t),this},e.Yy=function(){return this.Yg()},e.Yg=function(){for(var t=this instanceof cl?this:this.panel;null!==t;){if(null!==t.allBindings)return t;t=t.panel}return null},e.mv=function(t){return t.sd=this,null===this.animationTriggers&&(this.animationTriggers=new pt),this.animationTriggers.add(t.propertyName,t),this},u.Object.defineProperties(Tr.prototype,{bindingId:{get:function(){return null!==this.A?this.A.bp:-1},set:function(t){this.bindingId!==t&&(null===this.A&&(this.A=new ns),this.A.bp=t)}},localBindings:{get:function(){return null!==this.A?this.A.Ff:null},set:function(t){this.localBindings!==t&&(null===this.A&&(this.A=new ns),this.A.Ff=t)}},srcBindings:{get:function(){return null!==this.A?this.A.Wo:null},set:function(t){this.srcBindings!==t&&(null===this.A&&(this.A=new ns),this.A.Wo=t)}},shadowVisible:{get:function(){return null!==this.A?this.A.wi:null},set:function(t){var e=this.shadowVisible;e!==t&&(Or(this),this.A.wi=t,this.N(),this.g("shadowVisible",e,t))}},enabledChanged:{get:function(){return null!==this.A?this.A.Hc:null},set:function(t){var e=this.enabledChanged;e!==t&&(Or(this),this.A.Hc=t,this.g("enabledChanged",e,t))}},segmentOrientation:{get:function(){return null!==this.Ra?this.Ra.Oq:dd},set:function(t){var e=this.segmentOrientation;e!==t&&(null===this.Ra&&(this.Ra=new is),this.Ra.Oq=t,this.w(),this.g("segmentOrientation",e,t),t===dd&&(this.angle=0))}},segmentIndex:{get:function(){return null!==this.Ra?this.Ra.u:-1/0},set:function(t){t=Math.round(t);var e=this.segmentIndex;e!==t&&(null===this.Ra&&(this.Ra=new is),this.Ra.u=t,this.w(),this.g("segmentIndex",e,t))}},segmentFraction:{get:function(){return null!==this.Ra?this.Ra.m:0},set:function(t){isNaN(t)||0>t?t=0:1<t&&(t=1);var e=this.segmentFraction;e!==t&&(null===this.Ra&&(this.Ra=new is),this.Ra.m=t,this.w(),this.g("segmentFraction",e,t))}},segmentOffset:{get:function(){return null!==this.Ra?this.Ra.F:it},set:function(t){var e=this.segmentOffset;e.C(t)||(t=t.J(),null===this.Ra&&(this.Ra=new is),this.Ra.F=t,this.w(),this.g("segmentOffset",e,t))}},stretch:{get:function(){return null!==this.A?this.A.$f:ur},set:function(t){var e=this.stretch;e!==t&&(Or(this),this.A.$f=t,this.w(),this.g("stretch",e,t))}},name:{get:function(){return null!==this.A?this.A.va:""},set:function(t){var e=this.name;e!==t&&(Or(this),this.A.va=t,null!==this.part&&(this.part.Kh=null),this.g("name",e,t))}},opacity:{get:function(){return this.tb},set:function(t){var e=this.tb;e!==t&&((0>t||1<t)&&k(t,"0 <= value <= 1",Tr,"opacity"),this.tb=t,this.g("opacity",e,t),t=this.diagram,e=this.part,null!==t&&null!==e&&t.N(ih(e,e.actualBounds)))}},visible:{get:function(){return 0!=(1&this.o)},set:function(t){var e=0!=(1&this.o);e!==t&&(this.o^=1,this.g("visible",e,t),null!==(e=this.panel)?e.w():this.li()&&this.Ub(t),this.N(),Zr(this))}},pickable:{get:function(){return 0!=(2&this.o)},set:function(t){var e=0!=(2&this.o);e!==t&&(this.o^=2,this.g("pickable",e,t))}},fromLinkableDuplicates:{get:function(){return 0!=(4&this.o)},set:function(t){var e=0!=(4&this.o);e!==t&&(this.o^=4,this.g("fromLinkableDuplicates",e,t))}},fromLinkableSelfNode:{get:function(){return 0!=(8&this.o)},set:function(t){var e=0!=(8&this.o);e!==t&&(this.o^=8,this.g("fromLinkableSelfNode",e,t))}},toLinkableDuplicates:{get:function(){return 0!=(16&this.o)},set:function(t){var e=0!=(16&this.o);e!==t&&(this.o^=16,this.g("toLinkableDuplicates",e,t))}},toLinkableSelfNode:{get:function(){return 0!=(32&this.o)},set:function(t){var e=0!=(32&this.o);e!==t&&(this.o^=32,this.g("toLinkableSelfNode",e,t))}},isPanelMain:{get:function(){return 0!=(64&this.o)},set:function(t){var e=0!=(64&this.o);e!==t&&(this.o^=64,this.w(),this.g("isPanelMain",e,t))}},isActionable:{get:function(){return 0!=(128&this.o)},set:function(t){var e=0!=(128&this.o);e!==t&&(this.o^=128,this.g("isActionable",e,t))}},areaBackground:{get:function(){return null!==this.A?this.A.nb:null},set:function(t){var e=this.areaBackground;e!==t&&(null!==t&&As(t,"GraphObject.areaBackground"),t instanceof vs&&t.freeze(),Or(this),this.A.nb=t,this.N(),this.g("areaBackground",e,t))}},background:{get:function(){return this.Yb},set:function(t){var e=this.Yb;e!==t&&(null!==t&&As(t,"GraphObject.background"),t instanceof vs&&t.freeze(),this.Yb=t,this.N(),this.g("background",e,t))}},part:{get:function(){if(this.li())return this;if(null!==this.jj)return this.jj;var t;for(t=this.panel;t;){if(t instanceof $c)return this.jj=t;t=t.panel}return null}},svg:{get:function(){return this.kr},set:function(t){this.kr=t}},panel:{get:function(){return this.Uf}},layer:{get:function(){var t=this.part;return null!==t?t.layer:null}},diagram:{get:function(){var t=this.part;return null!==t?t.diagram:null}},position:{get:function(){return this.pa},set:function(t){var e=t.x,n=t.y,i=this.pa,a=i.x;i=i.y,(a===e||isNaN(a)&&isNaN(e))&&(i===n||isNaN(i)&&isNaN(n))?this.fv():(t=t.copy(),this.ev(t,a,i)&&this.g("position",new gt(a,i),t))}},actualBounds:{get:function(){return this.Eb}},scale:{get:function(){return this.xa},set:function(t){var e=this.xa;e!==t&&(0>=t&&b("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.xa=t,this.w(),this.g("scale",e,t))}},angle:{get:function(){return this.Gb},set:function(t){var e=this.Gb;e!==t&&(0>(t%=360)&&(t+=360),e!==t&&(this.Gb=t,Zr(this),this.w(),this.g("angle",e,t)))}},desiredSize:{get:function(){return this.$c},set:function(t){var e=t.width,n=t.height,i=this.$c,a=i.width,o=i.height;(a===e||isNaN(a)&&isNaN(e))&&(o===n||isNaN(o)&&isNaN(n))||(this.$c=t=t.J(),this.w(),this instanceof Gl&&this.mc(),this.g("desiredSize",i,t),Hr(this)&&(null!==(t=this.part)&&(Ar(this,t,"width"),Ar(this,t,"height"))))}},width:{get:function(){return this.$c.width},set:function(t){var e=this.$c.width;e===t||isNaN(e)&&isNaN(t)||(e=this.$c,this.$c=t=new Et(t,this.$c.height).freeze(),this.w(),this instanceof Gl&&this.mc(),this.g("desiredSize",e,t),Hr(this)&&(null!==(t=this.part)&&Ar(this,t,"width")))}},height:{get:function(){return this.$c.height},set:function(t){var e=this.$c.height;e===t||isNaN(e)&&isNaN(t)||(e=this.$c,this.$c=t=new Et(this.$c.width,t).freeze(),this.w(),this instanceof Gl&&this.mc(),this.g("desiredSize",e,t),Hr(this)&&(null!==(t=this.part)&&Ar(this,t,"height")))}},minSize:{get:function(){return null!==this.A?this.A.u:kt},set:function(t){var e=this.minSize;e.C(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),Or(this),this.A.u=t,this.w(),this.g("minSize",e,t))}},maxSize:{get:function(){return null!==this.A?this.A.m:Tt},set:function(t){var e=this.maxSize;e.C(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),Or(this),this.A.m=t,this.w(),this.g("maxSize",e,t))}},measuredBounds:{get:function(){return this.qc}},naturalBounds:{get:function(){return this.bc}},margin:{get:function(){return this.Ag},set:function(t){"number"==typeof t&&(t=new Kt(t));var e=this.Ag;e.C(t)||(this.Ag=t=t.J(),this.w(),this.g("margin",e,t))}},transform:{get:function(){return 0!=(2048&this.o)==!0&&jr(this),this.Bb}},ge:{get:function(){return 0!=(4096&this.o)==!0&&jr(this),this.lh}},animationTriggers:{get:function(){return null!==this.A?this.A.cb:null},set:function(t){this.animationTriggers!==t&&(Or(this),this.A.cb=t)}},reshapingBehavior:{get:function(){return null!==this.A?this.A.ui:lr},set:function(t){this.reshapingBehavior!==t&&(Or(this),this.A.ui=t)}},alignment:{get:function(){return this.Fb},set:function(t){var e=this.Fb;e.C(t)||(t.Fc()&&!t.Sb()&&b("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.Fb=t=t.J(),Dr(this),this.g("alignment",e,t))}},column:{get:function(){return this.rg},set:function(t){t=Math.round(t);var e=this.rg;e!==t&&(0>t&&k(t,">= 0",Tr,"column"),this.rg=t,this.w(),this.g("column",e,t))}},columnSpan:{get:function(){return null!==this.A?this.A.Db:1},set:function(t){t=Math.round(t);var e=this.columnSpan;e!==t&&(1>t&&k(t,">= 1",Tr,"columnSpan"),Or(this),this.A.Db=t,this.w(),this.g("columnSpan",e,t))}},row:{get:function(){return this.Ln},set:function(t){t=Math.round(t);var e=this.Ln;e!==t&&(0>t&&k(t,">= 0",Tr,"row"),this.Ln=t,this.w(),this.g("row",e,t))}},rowSpan:{get:function(){return null!==this.A?this.A.vi:1},set:function(t){t=Math.round(t);var e=this.rowSpan;e!==t&&(1>t&&k(t,">= 1",Tr,"rowSpan"),Or(this),this.A.vi=t,this.w(),this.g("rowSpan",e,t))}},spanAllocation:{get:function(){return null!==this.A?this.A.xi:null},set:function(t){var e=this.spanAllocation;e!==t&&(Or(this),this.A.xi=t,this.w(),this.g("spanAllocation",e,t))}},alignmentFocus:{get:function(){return this.ek},set:function(t){var e=this.ek;e.C(t)||(this.ek=t=t.J(),this.w(),this.g("alignmentFocus",e,t))}},portId:{get:function(){return this.Gn},set:function(t){var e=this.Gn;if(e!==t){var n=this.part;null===n||n instanceof xh||b("Cannot set portID on a Link: "+t),null!==e&&null!==n&&Eh(n,this),this.Gn=t,null!==t&&null!==n&&(n.He=!0,Ah(n,this)),this.g("portId",e,t)}}},toSpot:{get:function(){return null!==this.aa?this.aa.tj:te},set:function(t){var e=this.toSpot;e.C(t)||(t=t.J(),this.Rc(),this.aa.tj=t,this.g("toSpot",e,t),Kr(this))}},toEndSegmentLength:{get:function(){return null!==this.aa?this.aa.rj:10},set:function(t){var e=this.toEndSegmentLength;e!==t&&(0>t&&k(t,">= 0",Tr,"toEndSegmentLength"),this.Rc(),this.aa.rj=t,this.g("toEndSegmentLength",e,t),Kr(this))}},toShortLength:{get:function(){return null!==this.aa?this.aa.sj:0},set:function(t){var e=this.toShortLength;e!==t&&(this.Rc(),this.aa.sj=t,this.g("toShortLength",e,t),Kr(this))}},toLinkable:{get:function(){return null!==this.aa?this.aa.sr:null},set:function(t){var e=this.toLinkable;e!==t&&(this.Rc(),this.aa.sr=t,this.g("toLinkable",e,t))}},toMaxLinks:{get:function(){return null!==this.aa?this.aa.tr:1/0},set:function(t){var e=this.toMaxLinks;e!==t&&(0>t&&k(t,">= 0",Tr,"toMaxLinks"),this.Rc(),this.aa.tr=t,this.g("toMaxLinks",e,t))}},fromSpot:{get:function(){return null!==this.aa?this.aa.Qi:te},set:function(t){var e=this.fromSpot;e.C(t)||(t=t.J(),this.Rc(),this.aa.Qi=t,this.g("fromSpot",e,t),Kr(this))}},fromEndSegmentLength:{get:function(){return null!==this.aa?this.aa.Oi:10},set:function(t){var e=this.fromEndSegmentLength;e!==t&&(0>t&&k(t,">= 0",Tr,"fromEndSegmentLength"),this.Rc(),this.aa.Oi=t,this.g("fromEndSegmentLength",e,t),Kr(this))}},fromShortLength:{get:function(){return null!==this.aa?this.aa.Pi:0},set:function(t){var e=this.fromShortLength;e!==t&&(this.Rc(),this.aa.Pi=t,this.g("fromShortLength",e,t),Kr(this))}},fromLinkable:{get:function(){return null!==this.aa?this.aa.Kp:null},set:function(t){var e=this.fromLinkable;e!==t&&(this.Rc(),this.aa.Kp=t,this.g("fromLinkable",e,t))}},fromMaxLinks:{get:function(){return null!==this.aa?this.aa.Lp:1/0},set:function(t){var e=this.fromMaxLinks;e!==t&&(0>t&&k(t,">= 0",Tr,"fromMaxLinks"),this.Rc(),this.aa.Lp=t,this.g("fromMaxLinks",e,t))}},cursor:{get:function(){return null!==this.A?this.A.j:""},set:function(t){var e=this.cursor;e!==t&&(Or(this),this.A.j=t,this.g("cursor",e,t))}},click:{get:function(){return null!==this.A?this.A.oh:null},set:function(t){var e=this.click;e!==t&&(Or(this),this.A.oh=t,this.g("click",e,t))}},doubleClick:{get:function(){return null!==this.A?this.A.uh:null},set:function(t){var e=this.doubleClick;e!==t&&(Or(this),this.A.uh=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return null!==this.A?this.A.qh:null},set:function(t){var e=this.contextClick;e!==t&&(Or(this),this.A.qh=t,this.g("contextClick",e,t))}},mouseEnter:{get:function(){return null!==this.A?this.A.Fh:null},set:function(t){var e=this.mouseEnter;e!==t&&(Or(this),this.A.Fh=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return null!==this.A?this.A.Ih:null},set:function(t){var e=this.mouseLeave;e!==t&&(Or(this),this.A.Ih=t,this.g("mouseLeave",e,t))}},mouseOver:{get:function(){return null!==this.A?this.A.Jh:null},set:function(t){var e=this.mouseOver;e!==t&&(Or(this),this.A.Jh=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return null!==this.A?this.A.Hh:null},set:function(t){var e=this.mouseHover;e!==t&&(Or(this),this.A.Hh=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return null!==this.A?this.A.Gh:null},set:function(t){var e=this.mouseHold;e!==t&&(Or(this),this.A.Gh=t,this.g("mouseHold",e,t))}},mouseDragEnter:{get:function(){return null!==this.A?this.A.Qd:null},set:function(t){var e=this.mouseDragEnter;e!==t&&(Or(this),this.A.Qd=t,this.g("mouseDragEnter",e,t))}},mouseDragLeave:{get:function(){return null!==this.A?this.A.Gf:null},set:function(t){var e=this.mouseDragLeave;e!==t&&(Or(this),this.A.Gf=t,this.g("mouseDragLeave",e,t))}},mouseDrop:{get:function(){return null!==this.A?this.A.Eh:null},set:function(t){var e=this.mouseDrop;e!==t&&(Or(this),this.A.Eh=t,this.g("mouseDrop",e,t))}},actionDown:{get:function(){return null!==this.A?this.A.W:null},set:function(t){var e=this.actionDown;e!==t&&(Or(this),this.A.W=t,this.g("actionDown",e,t))}},actionMove:{get:function(){return null!==this.A?this.A.ga:null},set:function(t){var e=this.actionMove;e!==t&&(Or(this),this.A.ga=t,this.g("actionMove",e,t))}},actionUp:{get:function(){return null!==this.A?this.A.Ga:null},set:function(t){var e=this.actionUp;e!==t&&(Or(this),this.A.Ga=t,this.g("actionUp",e,t))}},actionCancel:{get:function(){return null!==this.A?this.A.F:null},set:function(t){var e=this.actionCancel;e!==t&&(Or(this),this.A.F=t,this.g("actionCancel",e,t))}},toolTip:{get:function(){return null!==this.A?this.A.Th:null},set:function(t){var e=this.toolTip;e!==t&&(Or(this),this.A.Th=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return null!==this.A?this.A.rh:null},set:function(t){var e=this.contextMenu;e!==t&&(Or(this),this.A.rh=t,this.g("contextMenu",e,t))}}}),Tr.prototype.trigger=Tr.prototype.mv,Tr.prototype.findBindingPanel=Tr.prototype.Yg,Tr.prototype.findTemplateBinder=Tr.prototype.Yy,Tr.prototype.setProperties=Tr.prototype.Vl,Tr.prototype.apply=Tr.prototype.apply,Tr.prototype.attach=Tr.prototype.ku,Tr.prototype.set=Tr.prototype.set,Tr.prototype.isEnabledObject=Tr.prototype.yf,Tr.prototype.isVisibleObject=Tr.prototype.zf,Tr.prototype.isContainedBy=Tr.prototype.jg,Tr.prototype.getNearestIntersectionPoint=Tr.prototype.Pr,Tr.prototype.getLocalPoint=Tr.prototype.Or,Tr.prototype.getDocumentScale=Tr.prototype.uf,Tr.prototype.getDocumentAngle=Tr.prototype.fi,Tr.prototype.getDocumentBounds=Tr.prototype.gi,Tr.prototype.getDocumentPoint=Tr.prototype.ia,Tr.prototype.intersectsRect=Tr.prototype.Sc,Tr.prototype.containedInRect=Tr.prototype.Wg,Tr.prototype.containsRect=Tr.prototype.Ee,Tr.prototype.containsPoint=Tr.prototype.ba,Tr.prototype.raiseChanged=Tr.prototype.g,Tr.prototype.raiseChangedEvent=Tr.prototype.bb,Tr.prototype.addCopyProperty=Tr.prototype.zw;var es=null;function ns(){this.ic=!1,this.va="",this.bp=-1,this.hb=this.Wo=this.Ff=null,this.j="",this.cb=this.xi=this.Hc=this.rh=this.Th=this.F=this.Ga=this.ga=this.W=this.Eh=this.Gf=this.Qd=this.Gh=this.Hh=this.Jh=this.Ih=this.Fh=this.qh=this.uh=this.oh=null,this.u=kt,this.m=Tt,this.$f=ur,this.Db=this.vi=1,this.ui=lr,this.le=this.wi=this.nb=null,this.Ic="category"}function is(){this.u=-1/0,this.m=0,this.F=it,this.Oq=dd,this.j=this.W="None"}function as(){this.tj=this.Qi=Me,this.sj=this.Pi=this.rj=this.Oi=NaN,this.sr=this.Kp=null,this.tr=this.Lp=1/0}function os(){this.Ta=[1,0,0,1,0,0]}function rs(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.Jw=[],this.pattern=null}function ss(t,e){this.ownerDocument=t=void 0===e?m.document:e,this.Jz="http://www.w3.org/2000/svg",void 0!==t&&(this.Sa=this.Vb("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.Sa.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Sa.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.po=null,this.context=new ls(this)}function ls(t){this.qs=t,this.svg=t.Sa,this.stack=[],this.md=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.Lg=this.Yq=this.Xq=0,this.Yr=null,this.path=[],this.et=!1,this.Og=null,this.pj=0,this.Fe=new os,ds(this,1,0,0,1,0,0);var e=lt++,n=this.Vb("clipPath",{id:"mainClip"+e});n.appendChild(this.Vb("rect",{x:0,y:0,width:t.width,height:t.height})),this.bw=n,this.qs.Sa.appendChild(n),this.md[0].setAttributeNS(null,"clip-path","url(#mainClip"+e+")"),this.Lz={}}function cs(t,e,n,i,a){1!==t.globalAlpha&&(n.opacity=t.globalAlpha),"fill"===e?(t.fillStyle instanceof rs?n.fill=hs(t,t.fillStyle):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),n.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",n["fill-opacity"]=t[4]):n.fill=t.fillStyle,n.stroke="none"):"stroke"===e&&(n.fill="none",t.strokeStyle instanceof rs?n.stroke=hs(t,t.strokeStyle):/^rgba\(/.test(t.strokeStyle)?(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),n.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",n["stroke-opacity"]=e[4]):n.stroke=t.strokeStyle,n["stroke-width"]=t.lineWidth,n["stroke-linecap"]=t.lineCap,n["stroke-linejoin"]=t.lineJoin,n["stroke-miterlimit"]=t.miterLimit),i="matrix("+(i=i.Ta)[0]+", "+i[1]+", "+i[2]+", "+i[3]+", "+i[4]+", "+i[5]+")",void 0!==a&&(i+=a),n.transform=i}function hs(t,e){var n="GRAD"+lt++;if("linear"===e.type)var i=t.Vb("linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:n,gradientUnits:"userSpaceOnUse"});else{if("radial"!==e.type)throw Error("invalid gradient");i=t.Vb("radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:n})}var a=e.Jw;e=a.length;for(var o=[],r=0;r<e;r++){var s=a[r],l=s.color;s={offset:s.offset,"stop-color":l},/^rgba\(/.test(l)&&(l=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(l),s["stop-color"]="rgb("+l[1]+","+l[2]+","+l[3]+")",s["stop-opacity"]=l[4]),o.push(s)}for(o.sort((function(t,e){return t.offset>e.offset?1:-1})),a=0;a<e;a++)i.appendChild(t.Vb("stop",o[a]));return t.svg.appendChild(i),"url(#"+n+")"}function ds(t,e,n,i,a,o,r){var s=new os;s.Ta=[e,n,i,a,o,r],cs(t,"g",e={},s),s=t.addElement("g",e),t.md.push(s)}function us(t){t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}function fs(t){t.shadowOffsetX=t.Xq,t.shadowOffsetY=t.Yq,t.shadowBlur=t.Lg}function ps(t,e,n){this.ownerDocument=e=void 0===e?m.document:e,this.po=null,(e=e.createElement("canvas")).tabIndex=0,this.Sa=e,this.Sa.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",this.context=new gs(e,n),e.H=t}function gs(t,e){this.Z=t.getContext?t.getContext("2d",e):null,null===this.Z&&b("Browser does not support HTML Canvas Element"),this.Es=this.Gs=this.Fs="",this.pm=!1,this.Lg=this.Yq=this.Xq=0,this.ql=new Ve}Tr.className="GraphObject",es=new pt,Qr("Button",(function(){function t(t,e){return null!==t.diagram.ec(t.documentPoint,(function(t){for(;null!==t.panel&&!t.isActionable;)t=t.panel;return t}),(function(t){return t===e}))}var e=$r(cl,cl.Auto,{isActionable:!0,enabledChanged:function(t,e){if(t instanceof cl){var n=t.fb("ButtonBorder");null!==n&&(n.fill=e?t._buttonFillNormal:t._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},$r(Gl,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new Fe(0,0,2.76142374915397,2.761423749153969),spot2:new Fe(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return e.mouseEnter=function(t,e){if(e.yf()&&e instanceof cl&&(t=e.fb("ButtonBorder"))instanceof Gl){var n=e._buttonFillOver;e._buttonFillNormal=t.fill,t.fill=n,n=e._buttonStrokeOver,e._buttonStrokeNormal=t.stroke,t.stroke=n}},e.mouseLeave=function(t,e){e.yf()&&e instanceof cl&&((t=e.fb("ButtonBorder"))instanceof Gl&&(t.fill=e._buttonFillNormal,t.stroke=e._buttonStrokeNormal))},e.actionDown=function(t,e){if(e.yf()&&e instanceof cl&&null!==e._buttonFillPressed&&0===t.button){var n=e.fb("ButtonBorder");if(n instanceof Gl){var i=(t=t.diagram).skipsUndoManager;t.skipsUndoManager=!0;var a=e._buttonFillPressed;e._buttonFillOver=n.fill,n.fill=a,a=e._buttonStrokePressed,e._buttonStrokeOver=n.stroke,n.stroke=a,t.skipsUndoManager=i}}},e.actionUp=function(e,n){if(n.yf()&&n instanceof cl&&null!==n._buttonFillPressed&&0===e.button){var i=n.fb("ButtonBorder");if(i instanceof Gl){var a=e.diagram,o=a.skipsUndoManager;a.skipsUndoManager=!0,t(e,n)?(i.fill=n._buttonFillOver,i.stroke=n._buttonStrokeOver):(i.fill=n._buttonFillNormal,i.stroke=n._buttonStrokeNormal),a.skipsUndoManager=o}}},e.actionCancel=function(e,n){if(n.yf()&&n instanceof cl&&null!==n._buttonFillPressed){var i=n.fb("ButtonBorder");if(i instanceof Gl){var a=e.diagram,o=a.skipsUndoManager;a.skipsUndoManager=!0,t(e,n)?(i.fill=n._buttonFillOver,i.stroke=n._buttonStrokeOver):(i.fill=n._buttonFillNormal,i.stroke=n._buttonStrokeNormal),a.skipsUndoManager=o}}},e.actionMove=function(e,n){if(n.yf()&&n instanceof cl&&null!==n._buttonFillPressed){var i=e.diagram;if(0===i.firstInput.button&&(i.currentTool.standardMouseOver(),t(e,n)&&(e=n.fb("ButtonBorder"))instanceof Gl)){var a=i.skipsUndoManager;i.skipsUndoManager=!0;var o=n._buttonFillPressed;e.fill!==o&&(e.fill=o),o=n._buttonStrokePressed,e.stroke!==o&&(e.stroke=o),i.skipsUndoManager=a}}},e})),Qr("TreeExpanderButton",(function(){var t=$r("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},$r(Gl,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:_t},new pf("figure","isTreeExpanded",(function(t,e){return e=e.panel,t?e._treeExpandedFigure:e._treeCollapsedFigure})).Fo()),{visible:!1},new pf("visible","isTreeLeaf",(function(t){return!t})).Fo());return t.click=function(t,e){if((e=e.part)instanceof vh&&(e=e.adornedPart),e instanceof xh){var n=e.diagram;if(null!==n){if(n=n.commandHandler,e.isTreeExpanded){if(!n.canCollapseTree(e))return}else if(!n.canExpandTree(e))return;t.handled=!0,e.isTreeExpanded?n.collapseTree(e):n.expandTree(e)}}},t})),Qr("SubGraphExpanderButton",(function(){var t=$r("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},$r(Gl,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:_t},new pf("figure","isSubGraphExpanded",(function(t,e){return e=e.panel,t?e._subGraphExpandedFigure:e._subGraphCollapsedFigure})).Fo()));return t.click=function(t,e){if((e=e.part)instanceof vh&&(e=e.adornedPart),e instanceof jh){var n=e.diagram;if(null!==n){if(n=n.commandHandler,e.isSubGraphExpanded){if(!n.canCollapseSubGraph(e))return}else if(!n.canExpandSubGraph(e))return;t.handled=!0,e.isSubGraphExpanded?n.collapseSubGraph(e):n.expandSubGraph(e)}}},t})),Qr("ToolTip",(function(){return $r(vh,cl.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new gt(0,3),shadowBlur:5},$r(Gl,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new Fe(0,0,4,6),spot2:new Fe(1,1,-4,-4)}))})),Qr("ContextMenu",(function(){return $r(vh,cl.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new gt(0,3),shadowBlur:5},new pf("background","",(function(t){return null!==t.adornedPart&&null!==t.placeholder?null:"#F5F5F5"})))})),Qr("ContextMenuButton",(function(){var t=$r("Button");t.stretch=hr;var e=t.fb("ButtonBorder");return e instanceof Gl&&(e.figure="Rectangle",e.strokeWidth=0,e.spot1=new Fe(0,0,2,3),e.spot2=new Fe(1,1,-2,-2)),t})),Qr("PanelExpanderButton",(function(t){var e=ts(t,"COLLAPSIBLE"),n=$r("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},$r(Gl,{name:"ButtonIcon",strokeWidth:2},new pf("geometryString","visible",(function(t){return t?n._buttonExpandedFigure:n._buttonCollapsedFigure})).Fo(e)));return(t=n.fb("ButtonBorder"))instanceof Gl&&(t.stroke=null,t.fill="rgba(0, 0, 0, 0)"),n.click=function(t,n){var i=n.diagram;if(null!==i&&!i.isReadOnly){var a=n.Yg();null===a&&(a=n.part),null!==a&&(null!==(n=a.fb(e))&&(t.handled=!0,i.Da("Collapse/Expand Panel"),n.visible=!n.visible,i.eb("Collapse/Expand Panel")))}},n})),Qr("CheckBoxButton",(function(t){var e=ts(t);return(t=$r("Button",{desiredSize:new Et(14,14)},$r(Gl,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:sr,geometryStretch:cr,visible:!1},""!==e?new pf("visible",e).px():[]))).click=function(t,n){if(n instanceof cl){var i=t.diagram;if(!(null===i||i.isReadOnly||""!==e&&i.model.isReadOnly)){t.handled=!0;var a=n.fb("ButtonIcon");i.Da("checkbox"),a.visible=!a.visible,"function"==typeof n._doClick&&n._doClick(t,n),i.eb("checkbox")}}},t})),Qr("CheckBox",(function(t){t=$r("CheckBoxButton",t=ts(t),{name:"Button",isActionable:!1,margin:new Kt(0,1,0,0)});var e=$r(cl,"Horizontal",t,{isActionable:!0,cursor:t.cursor,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillPressed:t._buttonFillPressed,_buttonStrokePressed:t._buttonStrokePressed,_buttonFillDisabled:t._buttonFillDisabled,mouseEnter:t.mouseEnter,mouseLeave:t.mouseLeave,actionDown:t.actionDown,actionUp:t.actionUp,actionCancel:t.actionCancel,actionMove:t.actionMove,click:t.click,_buttonClick:t.click});return t.mouseEnter=null,t.mouseLeave=null,t.actionDown=null,t.actionUp=null,t.actionCancel=null,t.actionMove=null,t.click=null,e})),Tr.None=lr=new H(Tr,"None",0),Tr.Default=ur=new H(Tr,"Default",0),Tr.Vertical=dr=new H(Tr,"Vertical",4),Tr.Horizontal=hr=new H(Tr,"Horizontal",5),Tr.Fill=sr=new H(Tr,"Fill",3),Tr.Uniform=cr=new H(Tr,"Uniform",1),Tr.UniformToFill=fr=new H(Tr,"UniformToFill",2),Tr.FlipVertical=pr=new H(Tr,"FlipVertical",1),Tr.FlipHorizontal=gr=new H(Tr,"FlipHorizontal",2),Tr.FlipBoth=mr=new H(Tr,"FlipBoth",3),Tr.make=$r,Tr.getBuilders=function(){var t,e=new pt;for(t in es)if(t!==t.toLowerCase()){var n=es.I(t);"function"==typeof n&&e.add(t,n)}return e.freeze(),e},Tr.defineBuilder=Qr,Tr.build=function(t,e){var n=es.I(t);if("function"==typeof n&&(n=n(null))instanceof Tr)return e&&n.set(e),n;b('GraphObject.build invoked object builder "'+t+'", but it did not return an Object')},Tr.takeBuilderArgument=ts,ns.prototype.copy=function(){var t=new ns;return t.va=this.va,t.bp=this.bp,t.Ff=this.Ff,t.hb=this.hb,t.j=this.j,t.oh=this.oh,t.uh=this.uh,t.qh=this.qh,t.Fh=this.Fh,t.Ih=this.Ih,t.Jh=this.Jh,t.Hh=this.Hh,t.Gh=this.Gh,t.Qd=this.Qd,t.Gf=this.Gf,t.Eh=this.Eh,t.W=this.W,t.ga=this.ga,t.Ga=this.Ga,t.F=this.F,t.Th=this.Th,t.rh=this.rh,t.Hc=this.Hc,t.xi=this.xi,t.cb=this.cb,t.u=this.u.J(),t.m=this.m.J(),t.$f=this.$f,t.vi=this.vi,t.Db=this.Db,t.ui=this.ui,t.nb=this.nb,t.wi=this.wi,t.le=this.le,t.Ic=this.Ic,t},is.prototype.copy=function(){var t=new is;return t.u=this.u,t.m=this.m,t.F=this.F.J(),t.Oq=this.Oq,t.W=this.W,t.j=this.j,t},is.className="LinkElementSettings",as.prototype.copy=function(){var t=new as;return t.Qi=this.Qi.J(),t.tj=this.tj.J(),t.Oi=this.Oi,t.rj=this.rj,t.Pi=this.Pi,t.sj=this.sj,t.Kp=this.Kp,t.sr=this.sr,t.Lp=this.Lp,t.tr=this.tr,t},as.className="LinkSettings",os.prototype.copy=function(){var t=new os;return t.Ta[0]=this.Ta[0],t.Ta[1]=this.Ta[1],t.Ta[2]=this.Ta[2],t.Ta[3]=this.Ta[3],t.Ta[4]=this.Ta[4],t.Ta[5]=this.Ta[5],t},os.prototype.translate=function(t,e){this.Ta[4]+=this.Ta[0]*t+this.Ta[2]*e,this.Ta[5]+=this.Ta[1]*t+this.Ta[3]*e},os.prototype.scale=function(t,e){this.Ta[0]*=t,this.Ta[1]*=t,this.Ta[2]*=e,this.Ta[3]*=e},os.className="STransform",rs.prototype.addColorStop=function(t,e){this.Jw.push({offset:t,color:e})},rs.className="SGradient",ss.prototype.resize=function(t,e,n,i){return(this.width!==t||this.height!==e)&&(this.style.width=n+"px",this.style.height=i+"px",this.Sa.setAttributeNS(null,"width",n+"px"),this.Sa.setAttributeNS(null,"height",i+"px"),this.Sa.setAttributeNS(null,"viewBox","0 0 "+n+" "+i),this.context.bw.firstElementChild.setAttributeNS(null,"width",n+"px"),this.context.bw.firstElementChild.setAttributeNS(null,"height",i+"px"),!0)},ss.prototype.Vb=function(t,e,n){if(t=this.ownerDocument.createElementNS(this.Jz,t),M(e))for(var i in e)t.setAttributeNS("href"===i?"http://www.w3.org/1999/xlink":"",i,e[i]);return void 0!==n&&(t.textContent=n),t},ss.prototype.getBoundingClientRect=function(){return this.Sa.getBoundingClientRect()},ss.prototype.focus=function(){this.Sa.focus()},ss.prototype.Pw=function(){this.ownerDocument=null},u.Object.defineProperties(ss.prototype,{width:{get:function(){return this.Sa.width.baseVal.value},set:function(t){this.Sa.width=t}},height:{get:function(){return this.Sa.height.baseVal.value},set:function(t){this.Sa.height=t}},style:{get:function(){return this.Sa.style}}}),ss.className="SVGSurface",(e=ls.prototype).arc=function(t,e,n,i,a,o,r,s){var l=2*Math.PI,c=l-1e-6,h=n*Math.cos(i),d=n*Math.sin(i),u=t+h,f=e+d,p=o?0:1;i=o?i-a:a-i,(1e-6<Math.abs(r-u)||1e-6<Math.abs(s-f))&&this.path.push(["L",u,+f]),0>i&&(i=i%l+l),i>c?(this.path.push(["A",n,n,0,1,p,t-h,e-d]),this.path.push(["A",n,n,0,1,p,u,f])):1e-6<i&&this.path.push(["A",n,n,0,+(i>=Math.PI),p,t+n*Math.cos(a),e+n*Math.sin(a)])},e.beginPath=function(){this.path=[]},e.bezierCurveTo=function(t,e,n,i,a,o){this.path.push(["C",t,e,n,i,a,o])},e.clearRect=function(){},e.clip=function(){this.addPath("clipPath",this.path,this.Fe)},e.closePath=function(){this.path.push(["z"])},e.createLinearGradient=function(t,e,n,i){var a=new rs("linear");return a.x1=t,a.y1=e,a.x2=n,a.y2=i,a},e.createPattern=function(t){var e="";t instanceof HTMLCanvasElement&&(e=t.toDataURL()),t instanceof HTMLImageElement&&(e=t.getAttribute("src"));var n=this.Lz;if(n[e])return"url(#"+n[e]+")";var i="PATTERN"+lt++,a={x:0,y:0,width:t.width,height:t.height,href:e};return(t=this.Vb("pattern",{width:t.width,height:t.height,id:i,patternUnits:"userSpaceOnUse"})).appendChild(this.Vb(tr,a)),this.svg.appendChild(t),n[e]=i,"url(#"+i+")"},e.createRadialGradient=function(t,e,n,i,a,o){var r=new rs("radial");return r.x1=t,r.y1=e,r.r1=n,r.x2=i,r.y2=a,r.r2=o,r},e.drawImage=function(t,e,n,i,a,o,r,s,l){var c="";t instanceof HTMLCanvasElement&&(c=t.toDataURL()),t instanceof HTMLImageElement&&(c=t.getAttribute("src"));var h=t instanceof HTMLImageElement?t.naturalWidth:t.width,d=t instanceof HTMLImageElement?t.naturalHeight:t.height;void 0===i&&(o=e,r=n,s=i=h,l=a=d),i=i||0,a=a||0,o=o||0,r=r||0,s=s||0,l=l||0,t={x:0,y:0,width:h||i,height:d||a,href:c},Ue.ca(i,s)&&Ue.ca(a,l)?-1===c.toLowerCase().indexOf(".svg")&&-1===c.toLowerCase().indexOf("data:image/svg")&&(t.preserveAspectRatio="xMidYMid slice"):t.preserveAspectRatio="none",c="",l/=a,0===o&&0===r||(c+=" translate("+o+", "+r+")"),1===(s/=i)&&1===l||(c+=" scale("+s+", "+l+")"),0===e&&0===n||(c+=" translate("+-e+", "+-n+")"),0===e&&0===n&&i===h&&a===d||(o="CLIP"+lt++,(r=this.Vb("clipPath",{id:o})).appendChild(this.Vb("rect",{x:e,y:n,width:i,height:a})),this.svg.appendChild(r),t["clip-path"]="url(#"+o+")"),cs(this,tr,t,this.Fe,c),this.addElement(tr,t)},e.fill=function(){this.addPath("fill",this.path,this.Fe)},e.sf=function(){this.clipInsteadOfFill?this.clip():this.fill()},e.fillRect=function(t,e,n,i){cs(this,"fill",t={x:(t=[t,e,n,i])[0],y:t[1],width:t[2],height:t[3]},this.Fe),this.addElement("rect",t)},e.fillText=function(t,e,n){t=[t,e,n],"left"===(e=this.textAlign)?e="start":"right"===e?e="end":"center"===e&&(e="middle"),cs(this,"fill",e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},this.Fe),this.addElement("text",e,t[0])},e.lineTo=function(t,e){this.path.push(["L",t,e])},e.moveTo=function(t,e){this.path.push(["M",t,e])},e.quadraticCurveTo=function(t,e,n,i){this.path.push(["Q",t,e,n,i])},e.rect=function(t,e,n,i){this.path.push(["M",t,e],["L",t+n,e],["L",t+n,e+i],["L",t,e+i],["z"])},e.restore=function(){this.Fe=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},e.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.Fe.copy())},e.setTransform=function(t,e,n,i,a,o){1===t&&0===e&&0===n&&1===i&&0===a&&0===o||ds(this,t,e,n,i,a,o)},e.scale=function(t,e){this.Fe.scale(t,e)},e.translate=function(t,e){this.Fe.translate(t,e)},e.transform=function(){},e.Pc=function(){},e.stroke=function(){this.addPath("stroke",this.path,this.Fe)},e.si=function(){this.clipInsteadOfFill||this.stroke()},e.Vb=function(t,e,n){return this.qs.Vb(t,e,n)},e.addElement=function(t,e,n){return t=this.Vb(t,e,n),0<this.md.length?this.md[this.md.length-1].appendChild(t):this.svg.appendChild(t),this.Yr=t},e.addPath=function(t,e,n){for(var i=[],a=0;a<e.length;a++){var o=L(e[a]),r=[o.shift()];if("A"===r[0])r.push(o.shift()+","+o.shift(),o.shift(),o.shift()+","+o.shift(),o.shift()+","+o.shift());else for(;o.length;)r.push(o.shift()+","+o.shift());i.push(r.join(" "))}e={d:i.join(" ")},"stroke"===t&&this.et&&(e["stroke-dasharray"]=this.Og.toString(),e["stroke-dashoffset"]=this.pj),cs(this,t,e,n),"clipPath"===t?(t="CLIP"+lt++,(n=this.Vb("clipPath",{id:t})).appendChild(this.Vb("path",e)),this.svg.appendChild(n),0<this.md.length&&this.md[this.md.length-1].setAttributeNS(null,"clip-path","url(#"+t+")")):this.addElement("path",e)},e.Xl=function(t){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var e="SHADOW"+lt++,n=this.addElement("filter",{id:e,x:"-100%",y:"-100%",width:"300%",height:"300%"},null),i=t.computePixelRatio();t=this.Vb("feGaussianBlur",{in:"SourceAlpha",result:"blur",stdDeviation:this.shadowBlur/2/i});var a=this.Vb("feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),o=this.Vb("feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"});i=this.Vb("feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX/i,dy:this.shadowOffsetY/i});var r=this.Vb("feMerge",{});r.appendChild(this.Vb("feMergeNode",{in:"offsetBlur"})),r.appendChild(this.Vb("feMergeNode",{in:"SourceGraphic"})),n.appendChild(t),n.appendChild(a),n.appendChild(o),n.appendChild(i),n.appendChild(r),0<this.md.length&&this.md[this.md.length-1].setAttributeNS(null,"filter","url(#"+e+")")}},e.iv=function(t,e,n){this.Xq=t,this.Yq=e,this.Lg=n},e.Hr=function(t,e){this.et=!0,this.Og=t,this.pj=e},e.Fr=function(){this.et=!1},e.Oc=function(){},e.Ex=function(){},ls.prototype.rotate=function(){},ls.prototype.getImageData=function(){return null},ls.prototype.measureText=function(){return null},ls.className="SVGContext",ka.prototype.cs=function(t){var e=new ss(this,m.document);void 0===t&&(t=new U);var n=this;return Eo(this,(function(t,i){return t=null!==(t=Co(n,t,"SVG",e))?t.svg:null,"function"==typeof i?(i(t),null):t}),t)},ka.prototype.makeSvg=ka.prototype.cs,ka.prototype.Mu=function(t){return this.cs(t)},ka.prototype.makeSVG=ka.prototype.Mu,Tr.prototype.Qw=function(t,e){if(!(t instanceof ls))return!1;var n=null,i=t.Yr,a=this.transform,o=this.panel;0!=(4096&this.o)==!0&&jr(this);var r=this.Eb,s=0!=(256&this.o);t.clipInsteadOfFill&&(s=!1);var l=!1;if(this instanceof ec&&(t.font=this.font),s){if(l=o.ke()?o.naturalBounds:o.actualBounds,null!==this.ib){var c=this.ib,h=c.x,d=c.y,u=c.width;c=c.height}else h=Math.max(r.x,l.x),d=Math.max(r.y,l.y),u=Math.min(r.right,l.right)-h,c=Math.min(r.bottom,l.bottom)-d;if(h>r.width+r.x||r.x>l.width+l.x||d>r.height+r.y||r.y>l.height+l.y)return!0;l=!0,ds(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(h,d,u,c),t.clip()}return this.li()&&!this.isVisible()||(t.Fe.Ta=[1,0,0,1,0,0],(this instanceof ec&&1<this.lineCount||this instanceof Gl&&1<this.geometry.figures.length)&&ds(t,1,0,0,1,0,0),h=!1,this.li()&&this.isShadowed&&e.Ge("drawShadows")&&(d=this.shadowOffset,t.iv(d.x*e.scale*e.kc,d.y*e.scale*e.kc,this.shadowBlur),fs(t),t.shadowColor=this.shadowColor),d=!1,this.part&&e.Ge("drawShadows")&&(d=this.part.isShadowed),t.clipInsteadOfFill&&(d=!1),!0===this.shadowVisible?(fs(t),!1===h&&d&&(ds(t,1,0,0,1,0,0),t.Xl(e),h=!0)):!1===this.shadowVisible&&us(t),u=this.naturalBounds,null!==this.areaBackground&&(Br(this,t,this.areaBackground,!0,!0,u,r),!1===h&&d&&(ds(t,1,0,0,1,0,0),t.Xl(e),h=!0),this.areaBackground instanceof vs&&this.areaBackground.type===Bs?(t.beginPath(),t.rect(r.x,r.y,r.width,r.height),t.sf(this.areaBackground)):t.fillRect(r.x,r.y,r.width,r.height)),c=!1,this instanceof cl?ds(t,a.m11,a.m12,a.m21,a.m22,a.dx,a.dy):(t.Fe.Ta=[a.m11,a.m12,a.m21,a.m22,a.dx,a.dy],!1===h&&d&&(c=!0)),null!==this.background&&(!1===h&&d&&(ds(t,1,0,0,1,0,0),t.Xl(e),h=!0),Nr(this,t,u,r)),d&&(null!==this.background||null!==this.areaBackground||null!==o&&0!=(512&o.o)||null!==o&&(o.type===cl.Auto||o.type===cl.Spot)&&o.vb()!==this)?(zr(this,!0),null===this.shadowVisible&&us(t),c=!1):zr(this,!1),c&&!1===h&&(ds(t,1,0,0,1,0,0),t.Xl(e),h=!0),this.ai(t,e),d&&0!=(512&this.o)==!0&&fs(t),this.li()&&d&&us(t),s&&(t.restore(),l&&t.md.pop()),this instanceof cl&&(n=t.md.pop()),!0===h&&t.md.pop(),(this instanceof ec&&1<this.lineCount||this instanceof Gl&&1<this.geometry.figures.length)&&(n=t.md.pop()),null!==t.qs.po&&(null===n&&(i===t.Yr?(ds(t,1,0,0,1,0,0),n=t.md.pop()):n=t.Yr),t.qs.po(this,n)),this.svg=n),!0},ps.prototype.resize=function(t,e,n,i){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=n+"px",this.style.height=i+"px",!0)},ps.prototype.toDataURL=function(t,e){return this.Sa.toDataURL(t,e)},ps.prototype.getBoundingClientRect=function(){return this.Sa.getBoundingClientRect()},ps.prototype.focus=function(){this.Sa.focus()},ps.prototype.Pw=function(){this.ownerDocument=this.Sa.H=null},u.Object.defineProperties(ps.prototype,{width:{get:function(){return this.Sa.width},set:function(t){this.Sa.width=t}},height:{get:function(){return this.Sa.height},set:function(t){this.Sa.height=t}},style:{get:function(){return this.Sa.style}}}),ps.className="CanvasSurface",(e=gs.prototype).Ex=function(t){this.Z.imageSmoothingEnabled=t},e.arc=function(t,e,n,i,a,o){this.Z.arc(t,e,n,i,a,o)},e.beginPath=function(){this.Z.beginPath()},e.bezierCurveTo=function(t,e,n,i,a,o){this.Z.bezierCurveTo(t,e,n,i,a,o)},e.clearRect=function(t,e,n,i){this.Pc(),this.Z.clearRect(t,e,n,i)},e.clip=function(){this.Z.clip()},e.closePath=function(){this.Z.closePath()},e.createLinearGradient=function(t,e,n,i){return this.Z.createLinearGradient(t,e,n,i)},e.createPattern=function(t,e){return this.Z.createPattern(t,e)},e.createRadialGradient=function(t,e,n,i,a,o){return this.Z.createRadialGradient(t,e,n,i,a,o)},e.drawImage=function(t,e,n,i,a,o,r,s,l){void 0===i?this.Z.drawImage(t,e,n):this.Z.drawImage(t,e,n,i,a,o,r,s,l)},e.fill=function(){this.Z.fill()},e.fillRect=function(t,e,n,i){this.Z.fillRect(t,e,n,i)},e.fillText=function(t,e,n){this.Z.fillText(t,e,n)},e.getImageData=function(t,e,n,i){return this.Z.getImageData(t,e,n,i)},e.lineTo=function(t,e){this.Z.lineTo(t,e)},e.measureText=function(t){return this.Z.measureText(t)},e.moveTo=function(t,e){this.Z.moveTo(t,e)},e.quadraticCurveTo=function(t,e,n,i){this.Z.quadraticCurveTo(t,e,n,i)},e.rect=function(t,e,n,i){this.Z.rect(t,e,n,i)},e.restore=function(){this.Z.restore()},e.save=function(){this.Pc(),this.Z.save()},gs.prototype.rotate=function(t){this.ql.rotate(57.2958*t,0,0)},(e=gs.prototype).setTransform=function(t,e,n,i,a,o){this.ql.setTransform(t,e,n,i,a,o)},e.scale=function(t,e){this.ql.scale(t,e)},e.translate=function(t,e){this.ql.translate(t,e)},e.stroke=function(){this.Z.stroke()},e.transform=function(t,e,n,i,a,o){if(1!==t||0!==e||0!==n||1!==i||0!==a||0!==o){var r=this.ql,s=r.m11*t+r.m21*e;t=r.m12*t+r.m22*e,e=r.m11*n+r.m21*i,n=r.m12*n+r.m22*i,r.dx=r.m11*a+r.m21*o+r.dx,r.dy=r.m12*a+r.m22*o+r.dy,r.m11=s,r.m12=t,r.m21=e,r.m22=n}},e.Pc=function(){var t=this.ql;this.Z.setTransform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy)},e.sf=function(t){if(t instanceof vs&&t.type===Bs){var e=t.kk;(t=t.Hs)>e?(this.scale(e/t,1),this.translate((t-e)/2,0)):e>t&&(this.scale(1,t/e),this.translate(0,(e-t)/2)),this.pm?this.clip():this.fill(),t>e?(this.translate(-(t-e)/2,0),this.scale(1/(e/t),1)):e>t&&(this.translate(0,-(e-t)/2),this.scale(1,1/(t/e)))}else this.pm?this.clip():this.fill()},e.si=function(){this.pm||this.stroke()},e.iv=function(t,e,n){this.Xq=t,this.Yq=e,this.Lg=n},e.Hr=function(t,e){var n=this.Z;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)},e.Fr=function(){var t=this.Z;void 0!==t.setLineDash&&(t.setLineDash(ms),t.lineDashOffset=0)},e.Oc=function(t){t&&(this.Fs=""),this.Es=this.Gs=""},u.Object.defineProperties(gs.prototype,{fillStyle:{get:function(){return this.Z.fillStyle},set:function(t){this.Es!==t&&(this.Es=this.Z.fillStyle=t)}},font:{get:function(){return this.Z.font},set:function(t){this.Fs!==t&&(this.Fs=this.Z.font=t)}},globalAlpha:{get:function(){return this.Z.globalAlpha},set:function(t){this.Z.globalAlpha=t}},lineCap:{get:function(){return this.Z.lineCap},set:function(t){this.Z.lineCap=t}},lineDashOffset:{get:function(){return this.Z.lineDashOffset},set:function(t){this.Z.lineDashOffset=t}},lineJoin:{get:function(){return this.Z.lineJoin},set:function(t){this.Z.lineJoin=t}},lineWidth:{get:function(){return this.Z.lineWidth},set:function(t){this.Z.lineWidth=t}},miterLimit:{get:function(){return this.Z.miterLimit},set:function(t){this.Z.miterLimit=t}},shadowBlur:{get:function(){return this.Z.shadowBlur},set:function(t){this.Z.shadowBlur=t}},shadowColor:{get:function(){return this.Z.shadowColor},set:function(t){this.Z.shadowColor=t}},shadowOffsetX:{get:function(){return this.Z.shadowOffsetX},set:function(t){this.Z.shadowOffsetX=t}},shadowOffsetY:{get:function(){return this.Z.shadowOffsetY},set:function(t){this.Z.shadowOffsetY=t}},strokeStyle:{get:function(){return this.Z.strokeStyle},set:function(t){this.Gs!==t&&(this.Gs=this.Z.strokeStyle=t)}},textAlign:{get:function(){return this.Z.textAlign},set:function(t){this.Z.textAlign=t}},imageSmoothingEnabled:{get:function(){return this.Z.imageSmoothingEnabled},set:function(t){this.Z.imageSmoothingEnabled=t}},clipInsteadOfFill:{get:function(){return this.pm},set:function(t){this.pm=t}}});var ms=Object.freeze([]);function ys(){this.F=this.m=this.u=this.j=0}function vs(t,e){qs||(Es(),qs=!0),tt(this),this._isFrozen=!1,void 0===t?(this.qa=Cs,this.jk="black"):"string"==typeof t?(this.qa=Cs,this.jk=t):(this.qa=t,this.jk="black"),(t=this.qa)===Ns?(this.Gd=ne,this.yk=le):this.yk=this.Gd=t===Bs?oe:te,this.cr=0,this.Ap=NaN,this.oe=this.Bq=this.ne=null,this.Hs=this.kk=0,e&&Object.assign(this,e)}function ws(t,e,n){return e=void 0===e||"number"!=typeof e?.2:e,n=void 0===n?Ds:n,Ps(t),ks(e,n)}function xs(t,e,n){return e=void 0===e||"number"!=typeof e?.2:e,n=void 0===n?Ds:n,Ps(t),ks(-e,n)}function bs(t,e,n){Ps(t),t=Vs.j;var i=Vs.u,a=Vs.m,o=Vs.F;return Ps(e),void 0===n&&(n=.5),"rgba("+Math.round((Vs.j-t)*n+t)+", "+Math.round((Vs.u-i)*n+i)+", "+Math.round((Vs.m-a)*n+a)+", "+Math.round((Vs.F-o)*n+o)+")"}function Ss(t){return!!t&&(t instanceof vs?t.kx():(Ps(t),128>(299*Vs.j+587*Vs.u+114*Vs.m)/1e3))}function ks(t,e){switch(e){case Ds:e=100*_s(Vs.j);var n=100*_s(Vs.u),i=100*_s(Vs.m);return Us.j=.4124564*e+.3575761*n+.1804375*i,Us.u=.2126729*e+.7151522*n+.072175*i,Us.m=.0193339*e+.119192*n+.9503041*i,Us.F=Vs.F,e=Ts(Us.j/zs[0]),n=Ts(Us.u/zs[1]),i=Ts(Us.m/zs[2]),Ws.j=116*n-16,Ws.u=500*(e-n),Ws.m=200*(n-i),Ws.F=Us.F,Ws.j=Math.min(100,Math.max(0,Ws.j+100*t)),e=(t=(Ws.j+16)/116)-Ws.m/200,Us.j=zs[0]*Os(Ws.u/500+t),Us.u=zs[1]*(Ws.j>Is*Rs?Math.pow(t,3):Ws.j/Is),Us.m=zs[2]*Os(e),Us.F=Ws.F,t=-.969266*Us.j+1.8760108*Us.u+.041556*Us.m,e=.0556434*Us.j+-.2040259*Us.u+1.0572252*Us.m,Vs.j=255*Ls((3.2404542*Us.j+-1.5371385*Us.u+-.4985314*Us.m)/100),Vs.u=255*Ls(t/100),Vs.m=255*Ls(e/100),Vs.F=Us.F,Vs.j=Math.round(Vs.j),255<Vs.j?Vs.j=255:0>Vs.j&&(Vs.j=0),Vs.u=Math.round(Vs.u),255<Vs.u?Vs.u=255:0>Vs.u&&(Vs.u=0),Vs.m=Math.round(Vs.m),255<Vs.m?Vs.m=255:0>Vs.m&&(Vs.m=0),"rgba("+Vs.j+", "+Vs.u+", "+Vs.m+", "+Vs.F+")";case Fs:return Ms(),Gs.m=Math.min(100,Math.max(0,Gs.m+100*t)),"hsla("+Gs.j+", "+Gs.u+"%, "+Gs.m+"%, "+Gs.F+")";default:b("Unknown color space: "+e)}}function Ps(t){qs||(Es(),qs=!0);var e=Hs;if(null!==e){e.clearRect(0,0,1,1),e.fillStyle="#000000";var n=e.fillStyle;e.fillStyle=t,e.fillStyle!==n?(e.fillRect(0,0,1,1),t=e.getImageData(0,0,1,1).data,Vs.j=t[0],Vs.u=t[1],Vs.m=t[2],Vs.F=t[3]/255):(e.fillStyle="#FFFFFF",e.fillStyle=t,Vs.j=0,Vs.u=0,Vs.m=0,Vs.F=1)}}function Ms(){var t=Vs.j/255,e=Vs.u/255,n=Vs.m/255,i=Math.max(t,e,n),a=Math.min(t,e,n),o=i-a;if(a=(i+a)/2,0===o)var r=t=0;else{switch(i){case t:r=(e-n)/o%6;break;case e:r=(n-t)/o+2;break;case n:r=(t-e)/o+4}0>(r*=60)&&(r+=360),t=o/(1-Math.abs(2*a-1))}Gs.j=Math.round(r),Gs.u=Math.round(100*t),Gs.m=Math.round(100*a),Gs.F=Vs.F}function _s(t){return.04045>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ls(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function Ts(t){return t>Rs?Math.pow(t,1/3):(Is*t+16)/116}function Os(t){var e=t*t*t;return e>Rs?e:(116*t-16)/Is}function As(t,e){"string"!=typeof t&&(t instanceof vs||b("Value for "+e+" must be a color string or a Brush, not "+t))}function Es(){Hs=jo?new ps(null,void 0,{AA:!0}).context:null}gs.className="CanvasSurfaceContext",ys.className="ColorNumbers",vs.prototype.copy=function(){var t=new vs;return t.qa=this.qa,t.jk=this.jk,t.Gd=this.Gd.J(),t.yk=this.yk.J(),t.cr=this.cr,t.Ap=this.Ap,null!==this.ne&&(t.ne=this.ne.copy()),t.Bq=this.Bq,t},(e=vs.prototype).freeze=function(){return this._isFrozen=!0,null!==this.ne&&this.ne.freeze(),this},e.ja=function(){return Object.isFrozen(this)&&b("cannot thaw constant: "+this),this._isFrozen=!1,null!==this.ne&&this.ne.ja(),this},e.ob=function(t){t.classType===vs&&(this.type=t)},e.toString=function(){var t="Brush(";if(this.type===Cs)t+=this.color;else if(t=this.type===Ns?t+"Linear ":this.type===Bs?t+"Radial ":this.type===js?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.colorStops)for(var e=this.colorStops.iterator;e.next();)t+=" "+e.key+":"+e.value;return t+")"},e.addColorStop=function(t,e){return this._isFrozen&&S(this),("number"!=typeof t||!isFinite(t)||1<t||0>t)&&k(t,"0 <= loc <= 1",vs,"addColorStop:loc"),null===this.ne&&(this.ne=new pt),this.ne.add(t,e),this.qa===Cs&&(this.type=Ns),this.oe=null,this},e.Cz=function(t,e){if(this._isFrozen&&S(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?Ds:e,this.type===Cs)Ps(this.color),this.color=ks(t,e);else if((this.type===Ns||this.type===Bs)&&null!==this.colorStops)for(var n=this.colorStops.iterator;n.next();)Ps(n.value),this.addColorStop(n.key,ks(t,e));return this},e.Dy=function(t,e){if(this._isFrozen&&S(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?Ds:e,this.type===Cs)Ps(this.color),this.color=ks(-t,e);else if((this.type===Ns||this.type===Bs)&&null!==this.colorStops)for(var n=this.colorStops.iterator;n.next();)Ps(n.value),this.addColorStop(n.key,ks(-t,e));return this},e.kx=function(){if(this.type===Cs)return Ss(this.color);if((this.type===Ns||this.type===Bs)&&null!==this.colorStops){var t=this.colorStops;if(this.type===Bs)return Ss(t.first().value);if(null!==t.get(.5))return Ss(t.get(.5));if(2===t.count)return Ss(bs((t=t.Ea())[0].value,t[1].value));for(var e=t.iterator,n=-1,i=-1,a=1,o=1;e.next();){var r=e.key,s=Math.abs(.5-e.key);a>o&&s<a?(n=r,a=s):o>=a&&s<o&&(i=r,o=s)}return n>i&&(o=n,n=i,i=o,o=a),a=i-n,Ss(bs(t.get(n),t.get(i),1-o/a))}return!1},u.Object.defineProperties(vs.prototype,{type:{get:function(){return this.qa},set:function(t){this._isFrozen&&S(this,t),this.qa=t,this.start.Fc()&&(t===Ns?this.start=ne:t===Bs&&(this.start=oe)),this.end.Fc()&&(t===Ns?this.end=le:t===Bs&&(this.end=oe)),this.oe=null}},color:{get:function(){return this.jk},set:function(t){this._isFrozen&&S(this,t),this.jk=t,this.oe=null}},start:{get:function(){return this.Gd},set:function(t){this._isFrozen&&S(this,t),this.Gd=t.J(),this.oe=null}},end:{get:function(){return this.yk},set:function(t){this._isFrozen&&S(this,t),this.yk=t.J(),this.oe=null}},startRadius:{get:function(){return this.cr},set:function(t){this._isFrozen&&S(this,t),0>t&&k(t,">= zero",vs,"startRadius"),this.cr=t,this.oe=null}},endRadius:{get:function(){return this.Ap},set:function(t){this._isFrozen&&S(this,t),0>t&&k(t,">= zero",vs,"endRadius"),this.Ap=t,this.oe=null}},colorStops:{get:function(){return this.ne},set:function(t){this._isFrozen&&S(this,t),this.ne=t,this.oe=null}},pattern:{get:function(){return this.Bq},set:function(t){this._isFrozen&&S(this,t),this.Bq=t,this.oe=null}}}),vs.prototype.isDark=vs.prototype.kx,vs.prototype.darkenBy=vs.prototype.Dy,vs.prototype.lightenBy=vs.prototype.Cz,vs.prototype.addColorStop=vs.prototype.addColorStop;var Cs,Ns,Bs,js,Ds,Fs,Rs=216/24389,Is=24389/27,zs=[95.047,100,108.883],Hs=null,Vs=new ys,Gs=new ys,Us=new ys,Ws=new ys,qs=!1;function Ys(){this.va="Base"}function Xs(){this.va="Base"}function Ks(){this.va="Base"}function Zs(){this.va="Base"}function $s(){this.va="Base"}function Js(t,e,n){var i=null;if(t instanceof cl&&""!==t.Pe&&((i=t.fb(t.Pe))===t&&(i=null)),null!==i)for(n&&t.arrange(0,0,e.width,e.height),e.assign(i.actualBounds),i=i.panel;i!==t;)i.transform.So(e),i=i.panel}function Qs(){this.va="Base"}function tl(){this.va="Base",this.name="Table"}function el(){this.va="Base"}function nl(){this.va="Base"}function il(){this.va="Base"}function al(){this.va="Base"}function ol(t,e,n,i){if(0>e)return t%e===n;if(t%e!==n)return!1;e=i.length;for(var a=0;a<e;a++)if(t%i[a]===n)return!1;return!0}function rl(){this.va="Base"}function sl(t,e,n,i){if(!1!==Wr(i)){var a=i.strokeWidth;0===a&&t instanceof vh&&t.type===cl.Link&&t.adornedObject instanceof Gl&&(a=t.adornedObject.strokeWidth),a*=i.xa,t instanceof Ih&&null!==t.ua?(t=t.geometry.bounds,i.ve(t.x-a/2,t.y-a/2,t.width+a,t.height+a)):t instanceof vh&&null!==t.adornedPart.ua?(t=t.adornedPart.ua.bounds,i.ve(t.x-a/2,t.y-a/2,t.width+a,t.height+a)):i.ve(-a/2,-a/2,e+a,n+a),(a=i.desiredSize).v()||null===i.ua?i.bc.h(0,0,a.width,a.height):i.bc.assign(i.ua.bounds),qr(i,!1)}}function ll(){this.va="Base"}function cl(t,e){if(Tr.call(this),this.qa=null,void 0===t)this.qa=cl.Position;else if("string"==typeof t){var n=jl.I(t);null!==n&&(this.qa=n)}else t instanceof Ys?this.qa=t:t&&(this.qa=cl.Position,e=t);null===this.qa&&b("Panel type not specified or PanelLayout not loaded: "+t),this.o=4194304|this.o|(this.qa===cl.Grid?1048576:0),this.R=new $,this.ub=Jt,this.Bm=Me,this.Kf=ur,this.Qg=null,this.Pe="",this.bg=new jt(NaN,NaN,NaN,NaN),this.T=this.F=null,this.$n=cr,this.Qm=Lt,this.Rm=it,this.qb=this.oa=null,this.fn=NaN,this.$d=this.xh=null,e&&Object.assign(this,e)}function hl(t,e,n,i){for(var a=i.length,o=t.actualBounds,r=t.naturalBounds,s=!0,l=0;l<a;l++){var c=i[l];if(void 0!==c&&0!==c.actual)if(s)s=!1;else{if(n){if(c.position>o.height)continue}else if(c.position>o.width)continue;var h=c.separatorStrokeWidth;isNaN(h)&&(h=n?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth);var d=c.separatorStroke;if(null===d&&(d=n?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),0!==h&&null!==d){Br(t,e,d,!1,!1,r,o),d=!1;var u=c.separatorDashArray;null===u&&(u=n?t.defaultRowSeparatorDashArray:t.defaultColumnSeparatorDashArray),null!==u&&(d=!0,e.Hr(u,0)),e.beginPath(),u=c.position+h,n?u>o.height&&(h-=u-o.height):u>o.width&&(h-=u-o.width),c=c.position+h/2,e.lineWidth=h,h=t.ub,n?(c+=h.top,u=o.width-h.right,e.moveTo(h.left,c),e.lineTo(u,c)):(c+=h.left,u=o.height-h.bottom,e.moveTo(c,h.top),e.lineTo(c,u)),e.stroke(),d&&e.Fr()}}}}function dl(t,e,n,i,a){for(var o=i.length,r=t.actualBounds,s=t.naturalBounds,l=ul(t,!0),c=ul(t,!1),h=0;h<o;h++){var d=i[h];if(void 0!==d&&null!==d.background&&d.coversSeparators!==a&&0!==d.actual){var u=n?r.height:r.width;if(!(d.position>u)){var f=d.Qc(),p=d.separatorStrokeWidth;isNaN(p)&&(p=n?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth);var g=d.separatorStroke;null===g&&(g=n?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),null!==g&&d.index!==(n?l:c)||(p=0),f-=p,(p=d.position+p)+(f+=d.actual)>u&&(f=u-p),0>=f||(u=t.ub,Br(t,e,d.background,!0,!1,s,r),n?e.fillRect(u.left,p+u.top,r.width-(u.left+u.right),f):e.fillRect(p+u.left,u.top,f,r.height-(u.top+u.bottom)))}}}}function ul(t,e){for(var n=e?t.rowCount:t.columnCount,i=0;i<n;i++){var a=e?t.rowDefs[i]:t.colDefs[i];if(void 0!==a)return a.index}return 0}function fl(t){return"LineV"===t||"BarV"===t}function pl(t){return null!==t.part?t.part.locationObject:null}function gl(t,e){!function t(e,n,i){i(n);for(var a=(n=n.R.s).length,o=0;o<a;o++){var r=n[o];r instanceof cl&&t(e,r,i)}}(t,t,e)}function ml(t,e){!function t(e,n,i){if(i(n),n instanceof cl)for(var a=(n=n.R.s).length,o=0;o<a;o++)t(e,n[o],i)}(t,t,e)}function yl(t,e,n,i){for(var a=t.R.s,o=a.length;o--;){var r=a[o];if(r.visible){var s=r.actualBounds,l=t.naturalBounds;s.x>l.width||s.y>l.height||0>s.x+s.width||0>s.y+s.height||(r instanceof cl&&yl(r,e,n,i),null!==e&&(r=e(r)),null===r||null!==n&&!n(r)||i.add(r))}}}function vl(t){var e=null;return t instanceof Gl&&((e=t.spot1)===Me&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot1)),null===e&&(e=ee),e}function wl(t){var e=null;return t instanceof Gl&&((e=t.spot2)===Me&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot2)),null===e&&(e=ce),e}function xl(t,e){t.o=e?16777216|t.o:-16777217&t.o}function bl(t,e,n){var i=t.rowDefs;if(!(0>e)){if(i[e]=n instanceof Rl?n:void 0,!n)for(e=i.length-1;0<=e&&void 0===i[e--];)i.length--;t.w()}}function Sl(t,e,n){var i=t.colDefs;if(!(0>e)){if(i[e]=n instanceof Rl?n:void 0,!n)for(e=i.length-1;0<=e&&void 0===i[e--];)i.length--;t.w()}}function kl(t){return null!==(t=t.allBindings)&&t._isFrozen}function Pl(t){var e=t.allBindings;if(null===e)null!==t.data&&b("Template cannot have .data be non-null: "+t),t.allBindings=e=new $;else if(e._isFrozen)return;var n=new $;xl(t,!1),t.$l(t,(function(t,i){i.ih();var a=i.localBindings;if(null!==a)for(Vr(i,!1),a=a.iterator;a.next();){var o=a.value;o.mode===vf&&Vr(i,!0);var r=o.sourceName;null!==r&&("/"===r&&xl(t,!0),null!==(r=gf(o,t,i))&&(n.add(r),null===r.srcBindings&&(r.srcBindings=new $),r.srcBindings.add(o))),e.add(o)}if(i instanceof cl&&i.type===cl.Table){if(0<i.rowCount)for(a=(t=i.rowDefs).length,o=0;o<a;o++)if(void 0!==(r=t[o])&&null!==r.Vd)for(var s=r.Vd.iterator;s.next();){var l=s.value;l.sd=r,l.Wn=2,l.kl=r.index,e.add(l)}if(0<i.columnCount)for(t=(i=i.colDefs).length,a=0;a<t;a++)if(void 0!==(o=i[a])&&null!==o.Vd)for(r=o.Vd.iterator;r.next();)(s=r.value).sd=o,s.Wn=1,s.kl=o.index,e.add(s)}}));for(var i=n.iterator;i.next();){var a=i.value;if(null!==a.srcBindings){Vr(a,!0);for(var o=a.srcBindings.iterator;o.next();){var r=o.value;null===a.localBindings&&(a.localBindings=new $),a.localBindings.add(r)}}a.srcBindings=null}for(i=e.iterator;i.next();)if(null!==(o=(a=i.value).sd)){a.sd=null;var s=a.targetProperty,l=s.indexOf(".");0<l&&o instanceof cl&&(r=s.substring(0,l),s=s.substr(l+1),null!==(l=o.fb(r))?(o=l,a.targetProperty=s):P('Warning: unable to find GraphObject named "'+r+'" for Binding: '+a.toString())),o instanceof Rl?(r=nt(o.panel),a.ti=void 0===r?-1:r,o.panel.bindingId=a.ti):o instanceof Tr?(r=nt(o),a.ti=void 0===r?-1:r,o.bindingId=a.ti):b("Unknown type of binding target: "+o)}e.freeze(),t instanceof $c&&t.Tc()&&t.Za()}function Ml(t){if(t.type===cl.Spot||t.type===cl.Auto)return Math.min(t.R.length,1);if(t.type===cl.Link){for(var e=(t=t.R).length,n=0;n<e;n++){var i=t.K(n);if(!(i instanceof Gl&&i.isPanelMain))break}return n}return t.type===cl.Table&&0<t.R.length&&((t=t.R.K(0)).isPanelMain&&t instanceof cl&&(t.type===cl.TableRow||t.type===cl.TableColumn))?1:0}function _l(t,e){var n=Ml(t);if(null===e||0===e.length)for(;t.R.length>n;)t.lc(t.R.length-1,!1);else if(t.R.length<=n){n=e.length;for(var i=0;i<n;i++)Ll(t,e[i],i,!0)}else{i=n;for(var a=0;a<e.length;a++,i++){var o=e[a],r=i<t.R.length?t.R.K(i):null;if(r instanceof cl){if(r.data!==o){var s=Ol(t,r.data),l=Ol(t,o),c=l!==s;c||(s=Al(t,s),c=Al(t,l)!==s),c?(t.lc(i,!1),Ll(t,o,a,!1)):r.data=o}}else Ll(t,o,a,!1)}for(;i<t.R.length;)t.lc(i,!1);t.Qg=null,Tl(t,n,0),Wr(t)||t.w(),t.graduatedIntervals=null,t.yf()||El(t,t,!1),null!==(e=t.part)&&(e.Kh=null,e.Sf=NaN,t.He&&e instanceof xh&&(e.He=!0),e.He&&e instanceof xh&&(e.sc=null))}}function Ll(t,e,n,i){if(!(null==e||0>n)){var a=Ol(t,e);if(null!==(a=Al(t,a))){if(Pl(a),0!=(16777216&(a=a.copy()).o)){var o=t.Yg();null!==o&&xl(o,!0)}"object"==typeof e&&(null===t.$d&&(t.$d=new pt),t.$d.add(e,a)),o=n+Ml(t),t.Cb(o,a),i&&(a.qb=e,Tl(t,o,n),a.qb=null),a.data=e}}}function Tl(t,e,n){for(t=t.R;e<t.length;){var i=t.K(e);if(i instanceof cl){var a=e,o=n;i.type===cl.TableRow?i.row=a:i.type===cl.TableColumn&&(i.column=a),i.itemIndex=o}e++,n++}}function Ol(t,e){if(null===e)return"";if("function"==typeof(t=t.itemCategoryProperty))t=t(e);else{if("string"!=typeof t||"object"!=typeof e)return"";if(""===t)return"";t=hf(e,t)}return void 0===t?"":"string"==typeof t?t:void b("Panel.getCategoryForItemData found a non-string category for "+e+": "+t)}function Al(t,e){var n=t.itemTemplateMap,i=null;return null!==n&&(i=n.I(e)),null===i&&(null!==n&&(i=n.I("")),null===i&&(Nl||(Nl=!0,P('No item template Panel found for category "'+e+'" on '+t),P("  Using default item template."),t=new cl,(e=new ec).bind(new pf("text","",N)),t.add(e),Bl=t),i=Bl)),i}function El(t,e,n){var i=e.enabledChanged;if(null!==i&&i(e,n),e instanceof cl){i=(e=e.R.s).length;for(var a=0;a<i;a++){var o=e[a];n&&o instanceof cl&&!o.isEnabled||El(t,o,n)}}}function Cl(t,e){e.name=t,jl.add(t,e)}vs.className="Brush",vs.Solid=Cs=new H(vs,"Solid",0),vs.Linear=Ns=new H(vs,"Linear",1),vs.Radial=Bs=new H(vs,"Radial",2),vs.Pattern=js=new H(vs,"Pattern",4),vs.Lab=Ds=new H(vs,"Lab",5),vs.HSL=Fs=new H(vs,"HSL",6),vs.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var n=Math.abs(e-t);e=Math.floor(t+Math.random()*n).toString(16);var i=Math.floor(t+Math.random()*n).toString(16);return t=Math.floor(t+Math.random()*n).toString(16),2>e.length&&(e="0"+e),2>i.length&&(i="0"+i),2>t.length&&(t="0"+t),"#"+e+i+t},vs.isValidColor=function(t){if("black"===t)return!0;if(""===t)return!1;qs||(Es(),qs=!0);var e=Hs;if(null===e)return!0;e.fillStyle="#000000";var n=e.fillStyle;return e.fillStyle=t,e.fillStyle!==n||(e.fillStyle="#FFFFFF",n=e.fillStyle,e.fillStyle=t,e.fillStyle!==n)},vs.lighten=function(t){return ws(t)},vs.lightenBy=ws,vs.darken=function(t){return xs(t)},vs.darkenBy=xs,vs.mix=bs,vs.isDark=Ss,Ys.prototype.measure=function(){},Ys.prototype.Fz=function(t,e,n,i,a){t.measure(e,n,i,a)},Ys.prototype.arrange=function(){},Ys.prototype.sy=function(t,e,n,i,a,o){t.arrange(e,n,i,a,o)},Ys.prototype.Pz=function(t){t.Mj()},Ys.prototype.tc=function(){},u.Object.defineProperties(Ys.prototype,{name:{get:function(){return this.va},set:function(t){this.va=t}},classType:{get:function(){return cl}}}),Ys.prototype.remeasureObject=Ys.prototype.Pz,Ys.prototype.arrangeElement=Ys.prototype.sy,Ys.prototype.measureElement=Ys.prototype.Fz,Ys.className="PanelLayout",d(Xs,Ys),Xs.prototype.measure=function(t,e,n,i,a,o,r){var s=i.length;t=pl(t);for(var l=0;l<s;l++){var c=i[l];if(c.visible||c===t){var h=c.margin,d=h.right+h.left;h=h.top+h.bottom,c.measure(e,n,o,r);var u=c.measuredBounds;d=Math.max(u.width+d,0),h=Math.max(u.height+h,0),u=c.position.x;var f=c.position.y;isFinite(u)||(u=0),isFinite(f)||(f=0),c instanceof Gl&&c.isGeometryPositioned&&(u-=c=c.strokeWidth/2,f-=c),Gt(a,u,f,d,h)}}},Xs.prototype.arrange=function(t,e,n){var i=e.length,a=t.padding;for(t=n.x-a.left,n=n.y-a.top,a=0;a<i;a++){var o=e[a],r=o.measuredBounds,s=o.margin,l=o.position.x,c=o.position.y;if(l=isNaN(l)?-t:l-t,c=isNaN(c)?-n:c-n,o instanceof Gl&&o.isGeometryPositioned){var h=o.strokeWidth/2;l-=h,c-=h}o.visible&&o.arrange(l+s.left,c+s.top,r.width,r.height)}},d(Ks,Ys),Ks.prototype.measure=function(t,e,n,i,a,o,r){var s=i.length;e=A(),o=pl(t);for(var l=0;l<s;l++){var c=i[l];if(c.visible||c===o){var h=Fr(c,!1);if(h!==lr&&h!==hr)e.push(c);else{c.measure(1/0,n,0,r),h=c.margin,c=c.measuredBounds;var d=Math.max(c.height+h.top+h.bottom,0);a.width+=Math.max(c.width+h.right+h.left,0),a.height=Math.max(a.height,d)}}}for(i=e.length,t.desiredSize.height?n=Math.min(t.desiredSize.height,t.maxSize.height):0!==a.height&&(n=Math.min(a.height,t.maxSize.height)),t=0;t<i;t++)((l=e[t]).visible||l===o)&&(s=(h=l.margin).right+h.left,h=h.top+h.bottom,l.measure(1/0,n,0,r),l=l.measuredBounds,h=Math.max(l.height+h,0),a.width+=Math.max(l.width+s,0),a.height=Math.max(a.height,h));E(e)},Ks.prototype.arrange=function(t,e,n){for(var i=e.length,a=t.padding,o=a.top,r=t.isOpposite,s=r?n.width:a.left,l=0;l<i;l++){var c=o,h=e[l];if(h.visible){var d=h.measuredBounds,u=h.margin,f=u.top+u.bottom,p=o+a.bottom,g=d.height,m=Fr(h,!1);(isNaN(h.desiredSize.height)&&m===sr||m===dr)&&(g=Math.max(n.height-f-p,0)),f=g+f+p,(p=h.alignment).Sb()&&(p=t.defaultAlignment),p.pb()||(p=oe),r&&(s-=d.width+u.left+u.right),h.arrange(s+p.offsetX+u.left,c+p.offsetY+u.top+(n.height*p.y-f*p.y),d.width,g),r||(s+=d.width+u.left+u.right)}}},d(Zs,Ys),Zs.prototype.measure=function(t,e,n,i,a,o){var r=i.length;n=A();for(var s=pl(t),l=0;l<r;l++){var c=i[l];if(c.visible||c===s){var h=Fr(c,!1);if(h!==lr&&h!==dr)n.push(c);else{var d=c.margin;h=d.right+d.left,d=d.top+d.bottom,c.measure(e,1/0,o,0),c=c.measuredBounds,Dt(a,Math.max(a.width,Math.max(c.width+h,0)),a.height+Math.max(c.height+d,0))}}}if(0!==(i=n.length)){for(t.desiredSize.width?e=Math.min(t.desiredSize.width,t.maxSize.width):0!==a.width&&(e=Math.min(a.width,t.maxSize.width)),t=0;t<i;t++)((l=n[t]).visible||l===s)&&(r=(c=l.margin).right+c.left,c=c.top+c.bottom,l.measure(e,1/0,o,0),l=l.measuredBounds,c=Math.max(l.height+c,0),a.width=Math.max(a.width,Math.max(l.width+r,0)),a.height+=c);E(n)}},Zs.prototype.arrange=function(t,e,n){for(var i=e.length,a=t.padding,o=a.left,r=t.isOpposite,s=r?n.height:a.top,l=0;l<i;l++){var c=o,h=e[l];if(h.visible){var d=h.measuredBounds,u=h.margin,f=u.left+u.right,p=o+a.right,g=d.width,m=Fr(h,!1);(isNaN(h.desiredSize.width)&&m===sr||m===hr)&&(g=Math.max(n.width-f-p,0)),f=g+f+p,(p=h.alignment).Sb()&&(p=t.defaultAlignment),p.pb()||(p=oe),r&&(s-=d.height+u.bottom+u.top),h.arrange(c+p.offsetX+u.left+(n.width*p.x-f*p.x),s+p.offsetY+u.top,g,d.height),r||(s+=d.height+u.bottom+u.top)}}},d($s,Ys),$s.prototype.measure=function(t,e,n,i,a,o,r){var s=i.length,l=t.vb(),c=l.margin,h=c.right+c.left,d=c.top+c.bottom;l.measure(e,n,o,r);var u=l.measuredBounds;o=u.width,r=u.height;var f=Math.max(o+h,0),p=Math.max(r+d,0),g=t.isClipping,m=jt.allocAt(-c.left,-c.top,f,p),y=jt.allocAt(0,0,o,r);Js(l,y,!0),o=y.width,r=y.height;for(var v=!0,w=pl(t),x=0;x<s;x++){var b=i[x],S=e,k=n;if(b!==l&&(b.visible||b===w)){switch(f=(c=b.margin).right+c.left,p=c.top+c.bottom,u=Fr(b,!1)){case sr:S=o,k=r;break;case hr:S=o;break;case dr:k=r}b.measure(S,k,0,0),u=b.measuredBounds,f=Math.max(u.width+f,0),p=Math.max(u.height+p,0),(S=b.alignment).Sb()&&(S=t.defaultAlignment),S.pb()||(S=oe);var P=b.alignmentFocus;P.Sb()&&(P=oe),k=null,b instanceof cl&&""!==b.Pe&&((k=b.fb(b.Pe))===b&&(k=null));var M=y.x,_=y.y;if(null!==k){for(b.arrange(0,0,u.width,u.height),c=k.actualBounds,c=gt.allocAt(c.x+(P.x*c.width-P.offsetX),c.y+(P.y*c.height-P.offsetY)),k=k.panel;k!==b;)k.transform.Fa(c),k=k.panel;M+=S.x*o+S.offsetX-c.x,_+=S.y*r+S.offsetY-c.y,gt.free(c)}else M+=S.x*o+S.offsetX-(P.x*u.width+P.offsetX)-c.left,_+=S.y*r+S.offsetY-(P.y*u.height+P.offsetY)-c.top;v?(v=!1,a.h(M,_,f,p)):Gt(a,M,_,f,p)}}switch(v?a.assign(m):g?a.Fu(y.x,y.y,y.width,y.height):Gt(a,m.x,m.y,m.width,m.height),jt.free(m),jt.free(y),(u=l.stretch)===ur&&(u=Fr(l,!1)),u){case lr:return;case sr:if(!isFinite(e)&&!isFinite(n))return;break;case hr:if(!isFinite(e))return;break;case dr:if(!isFinite(n))return}for(o=(u=l.measuredBounds).width,r=u.height,f=Math.max(o+h,0),p=Math.max(r+d,0),c=l.margin,Js(l,y=jt.allocAt(-c.left,-c.top,f,p),!0),o=y.width,r=y.height,e=0;e<s;e++)(n=i[e])===l||!n.visible&&n!==w||(f=(c=n.margin).right+c.left,p=c.top+c.bottom,u=n.measuredBounds,f=Math.max(u.width+f,0),p=Math.max(u.height+p,0),(h=n.alignment).Sb()&&(h=t.defaultAlignment),h.pb()||(h=oe),(n=n.alignmentFocus).Sb()&&(n=oe),v?(v=!1,a.h(h.x*o+h.offsetX-(n.x*u.width+n.offsetX)-c.left,h.y*r+h.offsetY-(n.y*u.height+n.offsetY)-c.top,f,p)):Gt(a,h.x*o+h.offsetX-(n.x*u.width+n.offsetX)-c.left,h.y*r+h.offsetY-(n.y*u.height+n.offsetY)-c.top,f,p));v?a.assign(m):g?a.Fu(y.x,y.y,y.width,y.height):Gt(a,m.x,m.y,m.width,m.height),jt.free(y)},$s.prototype.arrange=function(t,e,n){var i=e.length,a=t.vb(),o=a.measuredBounds,r=o.width,s=o.height,l=t.padding;o=l.left,l=l.top;var c=o-n.x,h=l-n.y;for(a.arrange(c,h,r,s),Js(a,r=jt.allocAt(0,0,r,s),!1),s=0;s<i;s++){var d=e[s];if(d!==a){var u=(c=d.measuredBounds).width,f=c.height;(h=d.alignment).Sb()&&(h=t.defaultAlignment),h.pb()||(h=oe);var p=d.alignmentFocus;if(p.Sb()&&(p=oe),c=null,d instanceof cl&&""!==d.Pe&&((c=d.fb(d.Pe))===d&&(c=null)),null!==c){var g=c.actualBounds;for(p=gt.allocAt(g.x+(p.x*g.width-p.offsetX),g.y+(p.y*g.height-p.offsetY)),c=c.panel;c!==d;)c.transform.Fa(p),c=c.panel;c=h.x*r.width+h.offsetX-p.x,h=h.y*r.height+h.offsetY-p.y,gt.free(p)}else c=h.x*r.width+h.offsetX-(p.x*u+p.offsetX),h=h.y*r.height+h.offsetY-(p.y*f+p.offsetY);c+=r.x-n.x,h+=r.y-n.y,d.visible&&d.arrange(o+c,l+h,u,f)}}jt.free(r)},d(Qs,Ys),Qs.prototype.measure=function(t,e,n,i,a,o,r){var s=i.length,l=t.vb(),c=l.margin,h=e,d=n,u=c.right+c.left,f=c.top+c.bottom;l.measure(e,n,o,r),c=l.measuredBounds;var p=0,g=null;l instanceof Gl&&(p=(g=l).strokeWidth*g.scale);var m=Math.max(c.width+u,0);c=Math.max(c.height+f,0);var y=vl(l),v=y.x*m+y.offsetX;y=y.y*c+y.offsetY;var w=wl(l),x=w.x*m+w.offsetX;for(w=w.y*c+w.offsetY,isFinite(e)&&(h=Math.max(Math.abs(v-x)-p,0)),isFinite(n)&&(d=Math.max(Math.abs(y-w)-p,0)),(p=Et.alloc()).h(0,0),t=pl(t),w=0;w<s;w++)(y=i[w])===l||!y.visible&&y!==t||(m=(c=y.margin).right+c.left,v=c.top+c.bottom,y.measure(h,d,0,0),c=y.measuredBounds,m=Math.max(c.width+m,0),c=Math.max(c.height+v,0),p.h(Math.max(m,p.width),Math.max(c,p.height)));if(1===s)a.width=m,a.height=c,Et.free(p);else{switch(y=vl(l),s=i=0,(w=wl(l)).x!==y.x&&w.y!==y.y&&(i=p.width/Math.abs(w.x-y.x),s=p.height/Math.abs(w.y-y.y)),Et.free(p),p=0,null!==g&&(p=g.strokeWidth*g.scale,ql(g)===cr&&(i=s=Math.max(i,s))),i+=Math.abs(y.offsetX)+Math.abs(w.offsetX)+p,s+=Math.abs(y.offsetY)+Math.abs(w.offsetY)+p,(g=l.stretch)===ur&&(g=Fr(l,!1)),g){case lr:r=o=0;break;case sr:isFinite(e)&&(i=e),isFinite(n)&&(s=n);break;case hr:isFinite(e)&&(i=e),r=0;break;case dr:o=0,isFinite(n)&&(s=n)}l.Mj(),l.measure(i,s,o,r),a.width=l.measuredBounds.width+u,a.height=l.measuredBounds.height+f}},Qs.prototype.arrange=function(t,e){var n=e.length,i=t.vb(),a=i.measuredBounds,o=jt.alloc();o.h(0,0,1,1);var r=i.margin,s=r.left;r=r.top;var l=t.padding,c=l.left;l=l.top,i.arrange(c+s,l+r,a.width,a.height);var h=vl(i),d=wl(i),u=h.y*a.height+h.offsetY,f=d.x*a.width+d.offsetX;for(d=d.y*a.height+d.offsetY,o.x=h.x*a.width+h.offsetX,o.y=u,Gt(o,f,d,0,0),o.x+=s+c,o.y+=r+l,a=0;a<n;a++)(s=e[a])!==i&&(c=s.measuredBounds,r=s.margin,l=Math.max(c.width+r.right+r.left,0),h=Math.max(c.height+r.top+r.bottom,0),(u=s.alignment).Sb()&&(u=t.defaultAlignment),u.pb()||(u=oe),l=o.width*u.x+u.offsetX-l*u.x+r.left+o.x,r=o.height*u.y+u.offsetY-h*u.y+r.top+o.y,s.visible&&(Ut(o.x,o.y,o.width,o.height,l,r,c.width,c.height)?s.arrange(l,r,c.width,c.height):s.arrange(l,r,c.width,c.height,new jt(o.x,o.y,o.width,o.height))));jt.free(o)},d(tl,Ys),tl.prototype.measure=function(t,e,n,i,a){for(var o=i.length,r=A(),s=A(),l=0;l<o;l++){var c=i[l],h=c instanceof cl?c:null;if(null===h||h.type!==cl.TableRow&&h.type!==cl.TableColumn||!c.visible)r.push(c);else{s.push(h);for(var d=h.R.s,u=d.length,f=0;f<u;f++){var p=d[f];h.type===cl.TableRow?p.row=c.row:h.type===cl.TableColumn&&(p.column=c.column),r.push(p)}}}0===(o=r.length)&&(t.getRowDefinition(0),t.getColumnDefinition(0));for(var g=[],m=0;m<o;m++){var y=r[m];y.visible&&(qr(y,!0),Xr(y,!0),g[y.row]||(g[y.row]=[]),g[y.row][y.column]||(g[y.row][y.column]=[]),g[y.row][y.column].push(y))}E(r);var v=A(),w=A(),x=A(),b={count:0},S={count:0},k=e,P=n,M=t.rowDefs,_=t.colDefs,L=null;o=M.length;for(var T=0;T<o;T++)void 0!==(L=M[T])&&(L.actual=0);o=_.length;for(var O=0;O<o;O++)void 0!==(L=_[O])&&(L.actual=0);for(var C=g.length,N=0,B=0;B<C;B++)g[B]&&(N=Math.max(N,g[B].length));var j=Math.min(t.topIndex,C-1),D=Math.min(t.leftIndex,N-1),F=0;C=g.length;for(var R=pl(t),I=0;I<C;I++)if(g[I]){N=g[I].length;var z=t.getRowDefinition(I);z.actual=0;for(var H=z.jc=0;H<N;H++)if(g[I][H]){var V=t.getColumnDefinition(H);void 0===v[H]&&(V.actual=0,V.jc=0,v[H]=!0);for(var G=g[I][H],U=G.length,W=0;W<U;W++){var q=G[W];if(q.visible||q===R){var Y=1<q.rowSpan||1<q.columnSpan;Y&&(I<j||H<D||w.push(q));var X=q.margin,K=X.right+X.left,Z=X.top+X.bottom,$=Rr(q,z,V,!1),J=q.desiredSize,Q=!isNaN(J.height),tt=!isNaN(J.width)&&Q;if(Y||$===lr||tt||I<j||H<D||(void 0!==b[H]||$!==sr&&$!==hr||(b[H]=-1,b.count++),void 0!==S[I]||$!==sr&&$!==dr||(S[I]=-1,S.count++),x.push(q)),q.measure(1/0,1/0,0,0),!(I<j||H<D)){var et=q.measuredBounds,nt=Math.max(et.width+K,0),it=Math.max(et.height+Z,0);if(1===q.rowSpan&&($===lr||$===hr)){var at=(L=t.getRowDefinition(I)).Qc();(F=Math.max(it-L.actual,0))+at>P&&(F=Math.max(P-at,0));var ot=0===L.ma;L.jc=L.jc+F,L.actual=L.ma+F,P=Math.max(P-(F+(ot?at:0)),0)}if(1===q.columnSpan&&($===lr||$===dr)){var rt=(L=t.getColumnDefinition(H)).Qc();(F=Math.max(nt-L.actual,0))+rt>k&&(F=Math.max(k-rt,0));var st=0===L.ma;L.jc=L.jc+F,L.actual=L.ma+F,k=Math.max(k-(F+(st?rt:0)),0)}Y&&q.Mj()}}}}}E(v);var lt=0,ct=0;o=t.columnCount;for(var ht=0;ht<o;ht++){var dt=_[ht];void 0!==dt&&(lt+=isNaN(dt.Ac)?dt.jc:dt.Ac,0!==dt.jc&&(lt+=dt.Qc()))}o=t.rowCount;for(var ut=0;ut<o;ut++){var ft=M[ut];void 0!==ft&&(ct+=isNaN(ft.Ac)?ft.jc:ft.Ac,0!==ft.jc&&(ct+=ft.Qc()))}k=Math.max(e-lt,0);var pt=P=Math.max(n-ct,0),gt=k;o=x.length;for(var mt=0;mt<o;mt++){var yt=x[mt],vt=t.getRowDefinition(yt.row),wt=t.getColumnDefinition(yt.column),xt=yt.measuredBounds,bt=yt.margin,St=bt.right+bt.left,kt=bt.top+bt.bottom;b[yt.column]=0===wt.jc&&void 0!==b[yt.column]?Math.max(xt.width+St,b[yt.column]):null,S[yt.row]=0===vt.jc&&void 0!==S[yt.row]?Math.max(xt.height+kt,S[yt.row]):null}var Pt,Mt=0,_t=0;for(Pt in S)"count"!==Pt&&(Mt+=S[Pt]);for(Pt in b)"count"!==Pt&&(_t+=b[Pt]);for(var Lt=Et.alloc(),Tt=0;Tt<o;Tt++){var Ot=x[Tt];if(Ot.visible||Ot===R){var At=t.getRowDefinition(Ot.row),Ct=t.getColumnDefinition(Ot.column),Nt=0;isFinite(Ct.width)?Nt=Ct.width:(Nt=isFinite(k)&&null!==b[Ot.column]?0===_t?Ct.actual+k:b[Ot.column]/_t*gt:null!==b[Ot.column]?k:Ct.actual||k,Nt=Math.max(0,Nt-Ct.Qc()));var Bt=0;switch(isFinite(At.height)?Bt=At.height:(Bt=isFinite(P)&&null!==S[Ot.row]?0===Mt?At.actual+P:S[Ot.row]/Mt*pt:null!==S[Ot.row]?P:At.actual||P,Bt=Math.max(0,Bt-At.Qc())),Lt.h(Math.max(Ct.minimum,Math.min(Nt,Ct.maximum)),Math.max(At.minimum,Math.min(Bt,At.maximum))),$=Rr(Ot,At,Ct,!1)){case hr:Lt.height=Math.max(Lt.height,At.actual+P);break;case dr:Lt.width=Math.max(Lt.width,Ct.actual+k)}var jt=Ot.margin,Dt=jt.right+jt.left,Ft=jt.top+jt.bottom;Ot.Mj(),Ot.measure(Lt.width,Lt.height,Ct.minimum,At.minimum);var Rt=Ot.measuredBounds,It=Math.max(Rt.width+Dt,0),zt=Math.max(Rt.height+Ft,0);isFinite(k)&&(It=Math.min(It,Lt.width)),isFinite(P)&&(zt=Math.min(zt,Lt.height));var Ht=0;Ht=At.actual,At.actual=Math.max(At.actual,zt),At.jc=Math.max(At.jc,zt),F=At.actual-Ht,P=Math.max(P-F,0),null===S[Ot.row]&&(pt=Math.max(pt-F,0)),Ht=Ct.actual,Ct.actual=Math.max(Ct.actual,It),Ct.jc=Math.max(Ct.jc,It),F=Ct.actual-Ht,k=Math.max(k-F,0),null===b[Ot.column]&&(gt=Math.max(gt-F,0))}}E(x);var Vt=Et.alloc(),Gt=A(),Ut=A();if(0!==(o=w.length))for(var Wt=0;Wt<C;Wt++)if(g[Wt]){N=g[Wt].length;var qt=t.getRowDefinition(Wt);Gt[Wt]=qt.actual;for(var Yt=0;Yt<N;Yt++)if(g[Wt][Yt]){var Xt=t.getColumnDefinition(Yt);Ut[Yt]=Xt.actual}}for(var Kt=0;Kt<o;Kt++){var Zt=w[Kt];if(Zt.visible||Zt===R){var $t=t.getRowDefinition(Zt.row),Jt=t.getColumnDefinition(Zt.column);switch(Lt.h(Math.max(Jt.minimum,Math.min(e,Jt.maximum)),Math.max($t.minimum,Math.min(n,$t.maximum))),$=Rr(Zt,$t,Jt,!1)){case sr:0!==Ut[Jt.index]&&(Lt.width=Math.min(Lt.width,Ut[Jt.index])),0!==Gt[$t.index]&&(Lt.height=Math.min(Lt.height,Gt[$t.index]));break;case hr:0!==Ut[Jt.index]&&(Lt.width=Math.min(Lt.width,Ut[Jt.index]));break;case dr:0!==Gt[$t.index]&&(Lt.height=Math.min(Lt.height,Gt[$t.index]))}isFinite(Jt.width)&&(Lt.width=Jt.width),isFinite($t.height)&&(Lt.height=$t.height),Vt.h(0,0);for(var Qt=Jt.minimum,te=$t.minimum,ee=1;ee<Zt.rowSpan&&!(Zt.row+ee>=t.rowCount);ee++)L=t.getRowDefinition(Zt.row+ee),F=0,F=$===sr||$===dr?Math.max(L.minimum,0===Gt[Zt.row+ee]?L.maximum:Math.min(Gt[Zt.row+ee],L.maximum)):Math.max(L.minimum,isNaN(L.Ac)?L.maximum:Math.min(L.Ac,L.maximum)),Vt.height+=F,te+=L.minimum;for(var ne=1;ne<Zt.columnSpan&&!(Zt.column+ne>=t.columnCount);ne++)L=t.getColumnDefinition(Zt.column+ne),F=0,F=$===sr||$===hr?Math.max(L.minimum,0===Ut[Zt.column+ne]?L.maximum:Math.min(Ut[Zt.column+ne],L.maximum)):Math.max(L.minimum,isNaN(L.Ac)?L.maximum:Math.min(L.Ac,L.maximum)),Vt.width+=F,Qt+=L.minimum;Lt.width+=Vt.width,Lt.height+=Vt.height;var ie=Zt.margin,ae=ie.right+ie.left,oe=ie.top+ie.bottom;Zt.measure(Lt.width,Lt.height,Qt,te);for(var re=Zt.measuredBounds,se=Math.max(re.width+ae,0),le=Math.max(re.height+oe,0),ce=0,he=0;he<Zt.rowSpan&&!(Zt.row+he>=t.rowCount);he++)ce+=(L=t.getRowDefinition(Zt.row+he)).total||0;if(ce<le){var de=le-ce,ue=le-ce;if(null!==Zt.spanAllocation)for(var fe=Zt.spanAllocation,pe=0;pe<Zt.rowSpan&&!(0>=de)&&!(Zt.row+pe>=t.rowCount);pe++){var ge=(L=t.getRowDefinition(Zt.row+pe)).ma||0,me=fe(Zt,L,ue);L.actual=Math.min(L.maximum,ge+me),L.ma!==ge&&(de-=L.ma-ge)}for(;0<de;){var ye=L.ma||0;if(isNaN(L.height)&&L.maximum>ye&&(L.actual=Math.min(L.maximum,ye+de),L.ma!==ye&&(de-=L.ma-ye)),0===L.index)break;L=t.getRowDefinition(L.index-1)}}for(var ve=0,we=0;we<Zt.columnSpan&&!(Zt.column+we>=t.columnCount);we++)ve+=(L=t.getColumnDefinition(Zt.column+we)).total||0;if(ve<se){var xe=se-ve,be=se-ve;if(null!==Zt.spanAllocation)for(var Se=Zt.spanAllocation,ke=0;ke<Zt.columnSpan&&!(0>=xe)&&!(Zt.column+ke>=t.columnCount);ke++){var Pe=(L=t.getColumnDefinition(Zt.column+ke)).ma||0,Me=Se(Zt,L,be);L.actual=Math.min(L.maximum,Pe+Me),L.ma!==Pe&&(xe-=L.ma-Pe)}for(;0<xe;){var _e=L.ma||0;if(isNaN(L.width)&&L.maximum>_e&&(L.actual=Math.min(L.maximum,_e+xe),L.ma!==_e&&(xe-=L.ma-_e)),0===L.index)break;L=t.getColumnDefinition(L.index-1)}}}}E(w),Et.free(Vt),Et.free(Lt),void 0!==Gt&&E(Gt),void 0!==Ut&&E(Ut);var Le=0,Te=0,Oe=t.desiredSize,Ae=t.maxSize;$=Fr(t,!0);var Ee=ct=lt=0,Ce=0;o=t.columnCount;for(var Ne=0;Ne<o;Ne++)void 0!==_[Ne]&&(L=t.getColumnDefinition(Ne),isFinite(L.width)?(Ee+=L.width,Ee+=L.Qc()):Il(L)===Hl?(Ee+=L.ma,Ee+=L.Qc()):0!==L.ma&&(lt+=L.ma,lt+=L.Qc()));Le=isFinite(Oe.width)?Math.min(Oe.width,Ae.width):$!==lr&&isFinite(e)?e:lt,Le=Math.max(Le,t.minSize.width),Le=Math.max(Le-Ee,0);for(var Be=0===lt?1:Math.max(Le/lt,1),je=0;je<o;je++)void 0!==_[je]&&(L=t.getColumnDefinition(je),isFinite(L.width)||Il(L)===Hl||(L.actual=L.ma*Be),L.position=a.width,0!==L.ma&&(a.width+=L.ma,a.width+=L.Qc()));o=t.rowCount;for(var De=0;De<o;De++)void 0!==M[De]&&(L=t.getRowDefinition(De),isFinite(L.height)?(Ce+=L.height,Ce+=L.Qc()):Il(L)===Hl?(Ce+=L.ma,Ce+=L.Qc()):0!==L.ma&&(ct+=L.ma,ct+=L.Qc()));Te=isFinite(Oe.height)?Math.min(Oe.height,Ae.height):$!==lr&&isFinite(n)?n:ct,Te=Math.max(Te,t.minSize.height),Te=Math.max(Te-Ce,0);for(var Fe=0===ct?1:Math.max(Te/ct,1),Re=0;Re<o;Re++)void 0!==M[Re]&&(L=t.getRowDefinition(Re),isFinite(L.height)||Il(L)===Hl||(L.actual=L.ma*Fe),L.position=a.height,0!==L.ma&&(a.height+=L.ma,a.height+=L.Qc()));o=s.length;for(var Ie=0;Ie<o;Ie++){var ze=s[Ie],He=0,Ve=0;ze.type===cl.TableRow?(He=a.width,Ve=(L=t.getRowDefinition(ze.row)).actual):(He=(L=t.getColumnDefinition(ze.column)).actual,Ve=a.height),ze.measuredBounds.h(0,0,He,Ve),qr(ze,!1)}E(s),t.inRowsCols=g},tl.prototype.arrange=function(t,e,n){var i=e.length,a=t.padding,o=a.left;a=a.top;var r=t.inRowsCols;if(null!==r){for(var s,l,c=r.length,h=0,d=0;d<c;d++)r[d]&&(h=Math.max(h,r[d].length));l=t.rowDefs,s=t.colDefs;var u=d=0,f=Math.min(t.topIndex,c-1);if(0<l.length){for(;f!==c&&(void 0===l[f]||0===l[f].ma);)f++;d=-l[f=Math.max(Math.min(f,c-1),0)].position}var p=Math.min(t.leftIndex,h-1);if(0<s.length){for(;p!==h&&(void 0===s[p]||0===s[p].ma);)p++;u=-s[p=Math.max(Math.min(p,h-1),0)].position}for(var g=0,m=0;g!==c&&void 0===l[g];)g++;for(;m!==c&&void 0===s[m];)m++;h=t.part,t.getRowDefinition(g),t.getColumnDefinition(m);for(var y=0;y<e.length;y++){var v=e[y];if(v instanceof cl&&v.visible&&(v.type===cl.TableRow||v.type===cl.TableColumn)){if(v.type===cl.TableRow){s=t.getRowDefinition(v.row);var w=t.getColumnDefinition(m)}else s=t.getRowDefinition(g),w=t.getColumnDefinition(v.column);l=s.position+d+a,0!==s.ma&&(l+=s.mo(Math.max(g,f))),s=w.position+u+o,0!==w.ma&&(s+=w.mo(Math.max(m,p))),w=v.measuredBounds,v.Ik(),v.actualBounds.ja();var x=v.actualBounds,b=jt.allocAt(x.x,x.y,x.width,x.height);x.x=v.type===cl.TableRow?o:s,x.y=v.type===cl.TableColumn?a:l,x.width=w.width,x.height=w.height,v.actualBounds.freeze(),Xr(v,!1),It(b,x)||null===h||(h.dh(),v.wn(h)),jt.free(b)}}for(y=Et.alloc(),v=0;v<c;v++)if(r[v])for(h=r[v].length,l=(w=t.getRowDefinition(v)).position+d+a,0!==w.ma&&(l+=w.mo(Math.max(g,f))),x=0;x<h;x++)if(r[v][x]){s=(b=t.getColumnDefinition(x)).position+u+o,0!==b.ma&&(s+=b.mo(Math.max(m,p)));for(var S=r[v][x],k=S.length,P=0;P<k;P++){var M=S[P],_=M.measuredBounds;y.h(0,0);for(var L=1;L<M.rowSpan&&!(v+L>=t.rowCount);L++){var T=t.getRowDefinition(v+L);0!==T.ma&&(y.height+=T.total)}for(L=1;L<M.columnSpan&&!(x+L>=t.columnCount);L++)0!==(T=t.getColumnDefinition(x+L)).ma&&(y.width+=T.total);var O=b.ma+y.width,A=w.ma+y.height;L=s,T=l;var E=O,C=A,N=s,B=l,j=O,D=A;s+O>n.width&&(j=Math.max(n.width-s,0)),l+A>n.height&&(D=Math.max(n.height-l,0));var F=M.alignment;if(F.Sb()){(F=t.defaultAlignment).pb()||(F=oe);var R=F.x,I=F.y,z=F.offsetX;F=F.offsetY;var H=b.alignment,V=w.alignment;H.pb()&&(R=H.x,z=H.offsetX),V.pb()&&(I=V.y,F=V.offsetY)}else R=F.x,I=F.y,z=F.offsetX,F=F.offsetY;(isNaN(R)||isNaN(I))&&(I=R=.5,F=z=0),H=_.width,V=_.height;var G=M.margin,U=G.left+G.right,W=G.top+G.bottom,q=Rr(M,w,b,!1);!isNaN(M.desiredSize.width)||q!==sr&&q!==hr||(H=Math.max(O-U,0)),!isNaN(M.desiredSize.height)||q!==sr&&q!==dr||(V=Math.max(A-W,0)),O=M.maxSize,A=M.minSize,H=Math.min(O.width,H),V=Math.min(O.height,V),H=Math.max(A.width,H),O=(V=Math.max(A.height,V))+W,L+=E*R-(H+U)*R+z+G.left,T+=C*I-O*I+F+G.top,M.visible&&(Ut(N,B,j,D,L,T,_.width,_.height)?M.arrange(L,T,H,V):M.arrange(L,T,H,V,new jt(N,B,j,D)))}}for(Et.free(y),t=0;t<i;t++)null===(o=(n=e[t])instanceof cl?n:null)||o.type!==cl.TableRow&&o.type!==cl.TableColumn||(o=n.actualBounds,n.naturalBounds.ja(),n.naturalBounds.h(0,0,o.width,o.height),n.naturalBounds.freeze())}},d(el,Ys),el.prototype.measure=function(){},el.prototype.arrange=function(){},d(nl,Ys),nl.prototype.measure=function(){},nl.prototype.arrange=function(){},d(il,Ys),il.prototype.measure=function(t,e,n,i,a,o,r){1<i.length&&b("Viewbox Panel cannot contain more than one GraphObject."),(i=i[0]).xa=1,i.Mj(),i.measure(1/0,1/0,o,r);var s=i.measuredBounds,l=i.margin,c=l.right+l.left;if(l=l.top+l.bottom,isFinite(e)||isFinite(n)){var h=i.scale,d=s.width;s=s.height;var u=Math.max(e-c,0),f=Math.max(n-l,0),p=1;t.viewboxStretch===cr?0!==d&&0!==s&&(p=Math.min(u/d,f/s)):0!==d&&0!==s&&(p=Math.max(u/d,f/s)),0===p&&(p=1e-4),i.xa*=p,h!==i.scale&&(qr(i,!0),i.measure(1/0,1/0,o,r))}s=i.measuredBounds,a.width=isFinite(e)?e:Math.max(s.width+c,0),a.height=isFinite(n)?n:Math.max(s.height+l,0)},il.prototype.arrange=function(t,e,n){var i=(e=e[0]).measuredBounds,a=e.margin,o=Math.max(i.width+(a.right+a.left),0);a=Math.max(i.height+(a.top+a.bottom),0);var r=e.alignment;r.Sb()&&(r=t.defaultAlignment),r.pb()||(r=oe),e.arrange(n.width*r.x-o*r.x+r.offsetX,n.height*r.y-a*r.y+r.offsetY,i.width,i.height)},d(al,Ys),al.prototype.measure=function(){},al.prototype.arrange=function(){},al.prototype.tc=function(t,e,n){0>=(n=t.uf()*n.scale)&&(n=1);var i=t.gridCellSize,a=i.width;i=i.height;var o=t.naturalBounds,r=t.actualBounds,s=o.width,l=o.height,c=Math.ceil(s/a),h=Math.ceil(l/i),d=t.gridOrigin,u=d.x;d=d.y,e.save(),e.beginPath(),e.rect(0,0,s,l),e.clip();for(var f=[],p=t.R.s,g=p.length,m=0;m<g;m++){var y=p[m],v=[];if(f.push(v),y.visible){var w=y.interval;if(!(0>w)){y=fl(y.figure);for(var x=0;x<g;x++)if(x!==m){var b=p[x];b.visible&&fl(b.figure)===y&&((b=b.interval)>w&&v.push(b))}}}}for(g=(p=t.R.s).length,m=0;m<g;m++){var S=p[m];if(S.visible&&(v=S.interval||1,!(2>a*(y=Math.abs(v))*n))){if(w=S.segmentIndex,isFinite(w)&&!isNaN(w)||(w=0),0>w&&(w=y-Math.min(-w,y)),w=Math.round(w%y),x=1,1!==(y=S.opacity)){if(0===y)continue;x=e.globalAlpha,e.globalAlpha=x*y}b=f[m];var k=!1,P=S.strokeDashArray;if(null!==P&&(k=!0,e.Hr(P,S.strokeDashOffset)),"LineV"===S.figure&&null!==S.stroke&&0<S.strokeWidth){for(e.lineWidth=S.strokeWidth,Br(t,e,S.stroke,!1,!1,o,r),e.beginPath(),P=S=Math.floor((u-a)/a);P<=S+c;P++){var M=P*a+u;0<=M&&M<=s&&ol(P,v,w,b)&&(e.moveTo(M,0),e.lineTo(M,l))}e.stroke()}else if("LineH"===S.figure&&null!==S.stroke&&0<S.strokeWidth){for(e.lineWidth=S.strokeWidth,Br(t,e,S.stroke,!1,!1,o,r),e.beginPath(),P=S=Math.floor((d-i)/i);P<=S+h;P++)0<=(M=P*i+d)&&M<=l&&ol(P,v,w,b)&&(e.moveTo(0,M),e.lineTo(s,M));e.stroke()}else if("BarV"===S.figure&&null!==S.fill)for(Br(t,e,S.fill,!0,!1,o,r),S=S.width,isNaN(S)&&(S=a),M=P=Math.floor((u-a)/a);M<=P+c;M++){var _=M*a+u;0<=_+S&&_<=s&&ol(M,v,w,b)&&e.fillRect(_,0,S,l)}else if("BarH"===S.figure&&null!==S.fill)for(Br(t,e,S.fill,!0,!1,o,r),S=S.height,isNaN(S)&&(S=i),M=P=Math.floor((d-i)/i);M<=P+h;M++)0<=(_=M*i+d)+S&&_<=l&&ol(M,v,w,b)&&e.fillRect(0,_,s,S);k&&e.Fr(),1!==y&&(e.globalAlpha=x)}}e.restore(),e.Oc(!1)},d(rl,Ys),rl.prototype.measure=function(t,e,n,i,a){var o=i.length;if(t instanceof vh||t instanceof Ih){var r=null,s=null;if(t instanceof Ih&&(r=t),t instanceof vh&&(r=(s=t).adornedPart,null===t.j&&(t.j=[])),r instanceof Ih){var l=r;if(0===o)Dt(t.naturalBounds,0,0),t.measuredBounds.h(0,0,0,0);else{var c=t instanceof vh?null:r.path;e=r.routeBounds,(n=t.bg).h(0,0,e.width,e.height);var h=l.points,d=r.pointsCount;null!==s?s.Cl(!1):null!==r&&r.Cl(!1),s=e.width;var u=e.height,f=t.j;if(f.length=0,null!==c){sl(t,s,u,c);var p=c.measuredBounds;n.Xc(p),f.push(p)}p=Ve.alloc();for(var g=gt.alloc(),m=gt.alloc(),y=0;y<o;y++){var v=i[y];if(v!==c)if(v.isPanelMain&&v instanceof Gl){sl(t,s,u,v);var w=v.measuredBounds;n.Xc(w),f.push(w)}else if(2>d)v.measure(1/0,1/0,0,0),w=v.measuredBounds,n.Xc(w),f.push(w);else{var x=v.segmentIndex,b=v.segmentFraction,S=v.alignmentFocus;S.Fc()&&(S=oe);var k=v.segmentOrientation,P=v.segmentOffset;if(isNaN(x)){var M=l.ua;w=A(),M.Bu(b,w);var _=gt.allocAt(w[0],w[1]);if(_.add(l.i(0)),M.type===We.j?_.offset(-M.startX,-M.startY):null!==(M=M.figures.first())&&_.offset(-M.startX,-M.startY),M=w[2],k!==dd){var L=l.computeAngle(v,k,M);v.Gb=L}L=_.x-e.x;var T=_.y-e.y;gt.free(_),E(w)}else if(x<-d||x>=d)w=gt.alloc(),l.mg(),l.computeMidPoint(w),M=l.midAngle,k!==dd&&(L=l.computeAngle(v,k,M),v.Gb=L),L=w.x-e.x,T=w.y-e.y,gt.free(w);else{if(L=0,0<=x?(T=h.K(x),w=x<d-1?h.K(x+1):T):(L=d+x,T=h.K(L),w=0<L?h.K(L-1):T),T.$a(w)){0<=x?(M=0<x?h.K(x-1):T,L=x<d-2?h.K(x+2):w):(M=L<d-1?h.K(L+1):T,L=1<L?h.K(L-2):w),_=M.rf(T);var O=w.rf(L);M=_>O+10?0<=x?M.Ya(T):T.Ya(M):O>_+10?0<=x?w.Ya(L):L.Ya(w):0<=x?M.Ya(L):L.Ya(M)}else M=0<=x?T.Ya(w):w.Ya(T);k!==dd&&(L=l.computeAngle(v,k,M),v.Gb=L),L=T.x+(w.x-T.x)*b-e.x,T=T.y+(w.y-T.y)*b-e.y}v.measure(1/0,1/0,0,0),w=v.measuredBounds,_=v.naturalBounds;var C=0;v instanceof Gl&&(C=v.strokeWidth),O=_.width+C;var N=_.height+C;p.reset(),p.translate(-w.x,-w.y),p.scale(v.scale,v.scale),p.rotate(k===dd?v.angle:M,O/2,N/2),k!==wd&&k!==kd||p.rotate(90,O/2,N/2),k!==xd&&k!==Pd||p.rotate(-90,O/2,N/2),k===Md&&(45<M&&135>M||225<M&&315>M)&&p.rotate(-M,O/2,N/2),_=new jt(0,0,O,N),g.oi(_,S),p.Fa(g),S=-g.x+C/2*v.scale,v=-g.y+C/2*v.scale,m.assign(P),C=isNaN(P.x);var B=isNaN(P.y);if(C||B){O=O/2+3,N=N/2+3;var j=45<=M&&135>=M,D=225<=M&&315>=M;k===dd&&(j||D)?(m.x=B?O:P.y,m.y=C?N:P.x,j?0<=x||isNaN(x)&&.5>b||!C||(m.y=-N):D&&((0<=x||isNaN(x)&&.5>b)&&C&&(m.y=-N),B&&(m.x=-O))):(C&&(m.x=0<=x||isNaN(x)&&.5>b?O:-O),B&&(m.y=-N),m.rotate(M))}else m.rotate(M);L+=m.x,T+=m.y,_.set(w),_.h(L+S,T+v,w.width,w.height),f.push(_),n.Xc(_)}}if(null!==r)for(i=r.labelNodes;i.next();)i.value.measure(1/0,1/0);t.bg=n,t.position.h(e.x+n.x,e.y+n.y),t.location.h(NaN,NaN),Dt(a,n.width||0,n.height||0),Ve.free(p),gt.free(g),gt.free(m)}}}},rl.prototype.arrange=function(t,e){var n=e.length;if(t instanceof vh||t instanceof Ih){var i=t,a=null;t instanceof vh&&(i=(a=t).adornedPart);var o=t instanceof vh?null:i.path,r=t.j;if(0!==r.length){var s=0;if(null!==o&&s<r.length){var l=r[s];s++,o.arrange(l.x-t.bg.x,l.y-t.bg.y,l.width,l.height)}for(l=0;l<n;l++){var c=e[l];if(c!==o&&s<r.length){var h=r[s];s++,c.arrange(h.x-t.bg.x,h.y-t.bg.y,h.width,h.height)}}}if(2<=(n=(e=i.points).count)&&t instanceof Ih)for(o=t.labelNodes;o.next();){var d=t;s=(r=o.value).segmentIndex,l=r.segmentFraction;var u=r.alignmentFocus;if(c=r.segmentOrientation,h=r.segmentOffset,isNaN(s)){var f=d.ua,p=A();f.Bu(l,p);var g=gt.allocAt(p[0],p[1]);g.add(d.i(0)),f.type===We.j||(f=f.figures.first()),g.offset(-f.startX,-f.startY),f=p[2],c!==dd&&(d=d.computeAngle(r,c,f),r.angle=d),d=g.x;var m=g.y;gt.free(g),E(p)}else if(s<-n||s>=n)m=p=gt.alloc(),(f=d).mg(),f.computeMidPoint(m),f=d.midAngle,c!==dd&&(d=d.computeAngle(r,c,f),r.angle=d),d=p.x,m=p.y,gt.free(p);else{if(g=0,0<=s?(p=e.s[s],m=s<n-1?e.s[s+1]:p):(g=n+s,p=e.s[g],m=0<g?e.s[g-1]:p),p.$a(m)){0<=s?(f=0<s?e.s[s-1]:p,g=s<n-2?e.s[s+2]:m):(f=g<n-1?e.s[g+1]:p,g=1<g?e.s[g-2]:m);var y=f.rf(p),v=m.rf(g);f=y>v+10?0<=s?f.Ya(p):p.Ya(f):v>y+10?0<=s?m.Ya(g):g.Ya(m):0<=s?f.Ya(g):g.Ya(f)}else f=0<=s?p.Ya(m):m.Ya(p);c!==dd&&(d=d.computeAngle(r,c,f),r.angle=d),d=p.x+(m.x-p.x)*l,m=p.y+(m.y-p.y)*l}if(u.Xr())r.location=new gt(d,m);else{u.Fc()&&(u=oe),(p=Ve.alloc()).reset(),p.scale(r.scale,r.scale),p.rotate(r.angle,0,0);var w=r.naturalBounds;g=jt.allocAt(0,0,w.width,w.height),(y=gt.alloc()).oi(g,u),p.Fa(y),u=-y.x,v=-y.y;var x=w.width,b=w.height;(w=gt.alloc()).assign(h);var S=isNaN(h.x),k=isNaN(h.y);if(S||k){x=x/2+3,b=b/2+3;var P=45<=f&&135>=f,M=225<=f&&315>=f;c===dd&&(P||M)?(w.x=k?x:h.y,w.y=S?b:h.x,P?0<=s||isNaN(s)&&.5>l||!S||(w.y=-b):M&&((0<=s||isNaN(s)&&.5>l)&&S&&(w.y=-b),k&&(w.x=-x))):(S&&(w.x=0<=s||isNaN(s)&&.5>l?x:-x),k&&(w.y=-b),w.rotate(f))}else w.rotate(f);d+=w.x,m+=w.y,p.So(g),u+=g.x,v+=g.y,s=gt.allocAt(d+u,m+v),r.move(s),gt.free(s),gt.free(w),gt.free(y),jt.free(g),Ve.free(p)}}null!==a?a.Cl(!1):i.Cl(!1)}},d(ll,Ys),ll.prototype.measure=function(t,e,n,i,a,o,r){var s=t.vb();t.graduatedBounds=[];var l=s.margin,c=l.right+l.left,h=l.top+l.bottom;s.measure(e,n,o,r);var d=s.measuredBounds,u=new jt(-l.left,-l.top,Math.max(d.width+c,0),Math.max(d.height+h,0));t.graduatedBounds.push(u),a.assign(u);for(var f=s.geometry,p=s.strokeWidth,g=f.flattenedSegments,m=f.flattenedLengths,y=f.flattenedTotalLength,v=g.length,w=0,x=0,b=A(),S=0;S<v;S++){var k=g[S],P=[];x=w=0;for(var M=k.length,_=0;_<M;_+=2){var L=k[_],T=k[_+1];if(0!==_){var O=180*Math.atan2(T-x,L-w)/Math.PI;0>O&&(O+=360),P.push(O)}w=L,x=T}b.push(P)}if(null===t.graduatedIntervals){for(var C=[],N=t.R.s,B=N.length,j=0;j<B;j++){var D=N[j],F=[];if(C.push(F),D.visible){var R=D.interval;if(!(0>R))for(var I=0;I<B;I++)if(I!==j){var z=N[I];if(z.visible&&D.constructor===z.constructor){var H=z.interval;H>R&&F.push(H)}}}}t.graduatedIntervals=C}var V=t.graduatedIntervals,G=t.R.s,U=G.length,W=0,q=0,Y=y;t.graduatedMarks=[];for(var X,K=0;K<U;K++){var Z=G[K];if(X=[],Z.visible&&Z!==s){var $=Math.abs(Z.interval),J=t.graduatedTickUnit;if(!(2>J*$*y/t.graduatedRange&&null===Z.graduatedSkip)){var Q=m[0][0],tt=0,et=0;q=y*Z.graduatedStart-1e-4,Y=y*Z.graduatedEnd+1e-4;var nt=J*$,it=t.graduatedTickBase;if(it<t.graduatedMin){var at=(t.graduatedMin-it)/nt;it+=(at=0==at%1?at:Math.floor(at+1))*nt}else it>t.graduatedMin+nt&&(it-=Math.floor((it-t.graduatedMin)/nt)*nt);for(var ot=V[K],rt=it,st=1e-6*t.graduatedMax,lt=1;it<=t.graduatedMax+st;lt++){t:{for(var ct=ot.length,ht=0;ht<ct;ht++){var dt=(it-t.graduatedTickBase)%(ot[ht]*t.graduatedTickUnit),ut=1e-6*t.graduatedTickUnit;if(dt<ut&&dt>-ut){var ft=!1;break t}}ft=!0}if(ft&&(it>t.graduatedMax&&(it=t.graduatedMax),null===Z.graduatedSkip||Z instanceof ec&&!Z.graduatedSkip(it,Z)||Z instanceof Gl&&!Z.graduatedSkip(it,Z))&&((W=(it-t.graduatedMin)*y/t.graduatedRange)>y&&(W=y),q<=W&&W<=Y)){for(var pt=b[tt][et],mt=m[tt][et];tt<m.length;){for(;W>Q&&et<m[tt].length-1;)et++,pt=b[tt][et],Q+=mt=m[tt][et];if(W<=Q)break;et=0,pt=b[++tt][et],Q+=mt=m[tt][et]}var yt=g[tt],vt=yt[2*et],wt=yt[2*et+1],xt=(W-(Q-mt))/mt,bt=new gt(vt+(yt[2*et+2]-vt)*xt+p/2-f.bounds.x,wt+(yt[2*et+3]-wt)*xt+p/2-f.bounds.y);bt.scale(s.scale,s.scale);t:{var St=pt,kt=b[tt];if(!(.5005>xt&&.4995<xt)){var Pt=St;if(.5>xt?0<et?Pt=kt[et-1]:Ue.ca(yt[0],yt[yt.length-2])&&Ue.ca(yt[1],yt[yt.length-1])&&(Pt=kt[kt.length-1]):.5<xt&&(et+1<kt.length?Pt=kt[et+1]:Ue.ca(yt[0],yt[yt.length-2])&&Ue.ca(yt[1],yt[yt.length-1])&&(Pt=kt[0])),St!==Pt){var Mt=Math.abs(St-Pt);if(180<Mt&&(St<Pt?St+=360:Pt+=360,Mt=Math.abs(St-Pt)),5e-4>xt||.9995<xt){pt=(St+Pt)/2%360;break t}if(10>Mt){var _t=1-Math.abs(.5-xt);pt=(St*_t+Pt*(1-_t))%360;break t}}}pt=St}if(Z instanceof ec){var Lt="";null!==Z.graduatedFunction?Lt=null!=(Lt=Z.graduatedFunction(it,Z))?Lt.toString():"":Lt=(+it.toFixed(2)).toString(),""!==Lt&&X.push({Hl:bt,angle:pt,text:Lt})}else X.push({Hl:bt,angle:pt})}it=rt+lt*nt}}}t.graduatedMarks.push(X)}E(b);var Tt=t.graduatedMarks;if(null!==Tt)for(var Ot=i.length,At=0;At<Ot;At++){var Et=i[At],Ct=Tt[At];if(Et.visible&&Et!==s&&0!==Ct.length){if(Et instanceof Gl){var Nt=t,Bt=a,Dt=Et.alignmentFocus;Dt.Fc()&&(Dt=ne);var Ft=Et.angle;Et.Gb=0,Et.measure(1/0,1/0,0,0),Et.Gb=Ft;var Rt=Et.measuredBounds,It=Rt.width,zt=Rt.height,Ht=jt.allocAt(0,0,It,zt),Vt=gt.alloc();Vt.oi(Ht,Dt),jt.free(Ht);for(var Ut=-Vt.x,Wt=-Vt.y,qt=new jt,Yt=Ct.length,Xt=0;Xt<Yt;Xt++)for(var Kt=Ct[Xt],Zt=Kt.Hl.x,$t=Kt.Hl.y,Jt=Kt.angle,Qt=0;4>Qt;Qt++){switch(Qt){case 0:Vt.h(Ut,Wt);break;case 1:Vt.h(Ut+It,Wt);break;case 2:Vt.h(Ut,Wt+zt);break;case 3:Vt.h(Ut+It,Wt+zt)}Vt.rotate(Jt+Et.angle),Vt.offset(Zt,$t),0===Xt&&0===Qt?qt.h(Vt.x,Vt.y,0,0):qt.Me(Vt),Vt.offset(-Zt,-$t),Vt.rotate(-Jt-Et.angle)}gt.free(Vt),null!==Nt.graduatedBounds&&Nt.graduatedBounds.push(qt),Gt(Bt,qt.x,qt.y,qt.width,qt.height)}else if(Et instanceof ec){var te=t,ee=a;null===te.temporaryTextBlock&&(te.temporaryTextBlock=new ec);var ie=te.temporaryTextBlock;ic(ie,Et);var ae=Et.alignmentFocus;ae.Fc()&&(ae=ne);for(var oe=Et.segmentOrientation,re=Et.segmentOffset,se=new jt,le=0,ce=0,he=0,de=0,ue=0,fe=Ct.length,pe=0;pe<fe;pe++){var ge=Ct[pe];le=ge.Hl.x,ce=ge.Hl.y,he=ge.angle,ue=de=Et.angle,oe!==dd&&(ue=oe===vd||oe===Sd?he+Et.angle:he,de=Ih.computeAngle(oe,ue)),ie.Gb=de,ie.text=ge.text||"",ie.measure(1/0,1/0,0,0);var me=ie.measuredBounds,ye=ie.naturalBounds,ve=ye.width,we=ye.height,xe=Ve.alloc();xe.reset(),xe.translate(-me.x,-me.y),xe.scale(ie.scale,ie.scale),xe.rotate(ue,ve/2,we/2),oe!==wd&&oe!==kd||xe.rotate(90,ve/2,we/2),oe!==xd&&oe!==Pd||xe.rotate(-90,ve/2,we/2),oe===Md&&(45<he&&135>he||225<he&&315>he)&&xe.rotate(-he,ve/2,we/2);var be=jt.allocAt(0,0,ve,we),Se=gt.alloc();Se.oi(be,ae),xe.Fa(Se);var ke=-Se.x,Pe=-Se.y,Me=gt.alloc();Me.assign(re),isNaN(Me.x)&&(Me.x=ve/2+3),isNaN(Me.y)&&(Me.y=-(we/2+3)),Me.rotate(he);var _e=new jt(le+=Me.x+ke,ce+=Me.y+Pe,me.width,me.height),Le=new jt(me.x,me.y,me.width,me.height),Te=new jt(ye.x,ye.y,ye.width,ye.height);ge.Az=de,ge.lineCount=ie.lineCount,ge.lines=[ie.yb,ie.zh,ie.Te,ie.Ae,ie.Jc,ie.Wb,ie.qe],ge.actualBounds=_e,ge.measuredBounds=Le,ge.naturalBounds=Te,0===pe?se.assign(_e):se.Xc(_e),gt.free(Me),gt.free(Se),jt.free(be),Ve.free(xe)}null!==te.graduatedBounds&&te.graduatedBounds.push(se),Gt(ee,se.x,se.y,se.width,se.height)}qr(Et,!1)}}},ll.prototype.arrange=function(t,e,n){if(null!==t.graduatedBounds){var i=t.vb(),a=t.graduatedMarks;if(null!==a){var o=t.graduatedBounds,r=0,s=o[r];r++,null!==i&&i.arrange(s.x-n.x,s.y-n.y,s.width,s.height);for(var l=e.length,c=0;c<l;c++){var h=e[c];s=a[c],h.visible&&h!==i&&0!==s.length&&(s=o[r],r++,h.arrange(s.x-n.x,s.y-n.y,s.width,s.height))}t.graduatedBounds=null}}},ll.prototype.tc=function(t,e,n){var i=n.Vi;n.Vi=!0;var a=t.naturalBounds,o=a.width;a=a.height,e.save(),e.beginPath(),e.rect(-1,-1,o+1,a+1),e.clip(),(o=t.vb()).tc(e,n),0>=(a=t.uf()*n.scale)&&(a=1);for(var r=o.actualBounds,s=t.R.s,l=t.graduatedMarks,c=s.length,h=0;h<c;h++){var d=s[h],u=l[h],f=u.length;if(d.visible&&d!==o&&0!==u.length)if(d instanceof Gl){if(!(2>t.graduatedTickUnit*d.interval*o.geometry.flattenedTotalLength/t.graduatedRange*a&&null===d.graduatedSkip)){var p=d.measuredBounds,g=d.strokeWidth*d.scale,m=d.alignmentFocus;m.Fc()&&(m=ne);for(var y=0;y<f;y++){var v=u[y].Hl,w=u[y].angle,x=m,b=d.Bb;b.reset(),b.translate(v.x+r.x,v.y+r.y),b.rotate(w+d.angle,0,0),b.translate(-p.width*x.x+x.offsetX+g/2,-p.height*x.y+x.offsetY+g/2),b.scale(d.scale,d.scale),Gr(d,!1),d.lh.set(d.Bb),d.xk=d.scale,Ur(d,!1),d.tc(e,n),d.Bb.reset()}}}else if(d instanceof ec)for(null===t.temporaryTextBlock&&(t.temporaryTextBlock=new ec),ic(p=t.temporaryTextBlock,d),d=0;d<f;d++)(g=u[d]).actualBounds&&g.measuredBounds&&g.naturalBounds&&(p.cc=g.text||"",p.Gb=g.Az||0,p.dd=g.lineCount||0,void 0!==(m=g.lines)&&(p.yb=m[0],p.zh=m[1],p.Te=m[2],p.Ae=m[3],p.Jc=m[4],p.Wb=m[5],p.qe=m[6]),g.naturalBounds&&(p.bc=g.naturalBounds),g.actualBounds&&(m=g.actualBounds,p.arrange(m.x,m.y,m.width,m.height)),m=g.actualBounds,p.arrange(m.x,m.y,m.width,m.height),y=g.measuredBounds,g=g.naturalBounds,(v=p.Bb).reset(),v.translate(m.x+r.x,m.y+r.y),v.translate(-y.x,-y.y),p.Qn(v,g.x,g.y,g.width,g.height),Gr(p,!1),p.lh.set(p.Bb),p.xk=p.scale,Ur(p,!1),p.tc(e,n))}n.Vi=i,e.restore(),e.Oc(!0)},d(cl,Tr),cl.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.qa=this.qa,t.ub=this.ub.J(),t.Bm=this.Bm.J(),t.Kf=this.Kf,t.Pe=this.Pe,t.bg.assign(this.bg),null!==this.T&&(t.T=this.T.copy(t)),t.$n=this.$n,t.Qm=this.Qm.J(),t.Rm=this.Rm.J(),null!==this.oa&&(t.oa=this.oa.copy()),t.qb=this.qb,t.fn=this.fn,t.xh=this.xh},cl.prototype.qf=function(t){Tr.prototype.qf.call(this,t),t.R=this.R;for(var e=t.R.s,n=e.length,i=0;i<n;i++)e[i].Uf=t;t.Qg=null},cl.prototype.copy=function(){var t=Tr.prototype.copy.call(this);if(null!==t){for(var e=this.R.s,n=e.length,i=0;i<n;i++){var a=e[i].copy();a.ni(t),a.jj=null;var o=t.R,r=o.count;if(o.Cb(r,a),null!==(o=t.part)){o.Kh=null,null!==a.portId&&o instanceof xh&&(o.He=!0);var s=t.diagram;null!==s&&s.undoManager.isUndoingRedoing||o.bb(gn,"elements",t,null,a,null,r)}}return t}return null},(e=cl.prototype).toString=function(){return"Panel("+this.type.name+")#"+nt(this)},e.wn=function(t){Tr.prototype.wn.call(this,t);for(var e=this.R.s,n=e.length,i=0;i<n;i++)e[i].wn(t)},e.ai=function(t,e){if(this.qa===cl.Grid)t.Pc(),this.qa.tc(this,t,e);else if(this.qa===cl.Graduated)t.Pc(),this.qa.tc(this,t,e);else{if(this.qa===cl.Table){t.Pc(),t.lineCap="butt";var n=0<this.rowCount?this.rowDefs:null,i=0<this.columnCount?this.colDefs:null;null!==n&&dl(this,t,!0,n,!0),null!==i&&dl(this,t,!1,i,!0),null!==n&&hl(this,t,!0,n),null!==i&&hl(this,t,!1,i),null!==n&&dl(this,t,!0,n,!1),null!==i&&dl(this,t,!1,i,!1)}(n=this.isClipping&&this.qa===cl.Spot)&&t.save(),i=this.vb();for(var a=this.R.s,o=a.length,r=0;r<o;r++){var s=a[r];n&&s===i&&(t.clipInsteadOfFill=!0),s.tc(t,e),n&&s===i&&(t.clipInsteadOfFill=!1)}n&&(t.restore(),t.Oc(!0))}},e.Kj=function(t,e,n,i,a){var o=this.ke(),r=this.transform,s=1/(r.m11*r.m22-r.m12*r.m21),l=r.m22*s,c=-r.m12*s,h=-r.m21*s,d=r.m11*s,u=s*(r.m21*r.dy-r.m22*r.dx),f=s*(r.m12*r.dx-r.m11*r.dy);if(null!==this.areaBackground)return r=this.actualBounds,Ue.wf(r.left,r.top,r.right,r.bottom,t,e,n,i,a);if(null!==this.background)return o=t*l+e*h+u,s=t*c+e*d+f,t=n*l+i*h+u,l=n*c+i*d+f,a.h(0,0),n=this.naturalBounds,o=Ue.wf(0,0,n.width,n.height,o,s,t,l,a),a.transform(r),o;o||(l=1,h=c=0,d=1,f=u=0),s=t*l+e*h+u,t=t*c+e*d+f,l=n*l+i*h+u,n=n*c+i*d+f,a.h(l,n),i=(l-s)*(l-s)+(n-t)*(n-t),c=!1,f=(d=this.R.s).length,h=gt.alloc(),u=null,e=1/0;var p=null,g=this.isClipping&&this.qa===cl.Spot;g&&(p=gt.alloc(),(c=(u=this.vb()).Kj(s,t,l,n,p))&&(e=(s-p.x)*(s-p.x)+(t-p.y)*(t-p.y)));for(var m=0;m<f;m++){var y=d[m];y.visible&&y!==u&&y.Kj(s,t,l,n,h)&&(c=!0,(y=(s-h.x)*(s-h.x)+(t-h.y)*(t-h.y))<i&&(i=y,a.set(h)))}return g&&(e>i&&a.set(p),gt.free(p)),gt.free(h),o&&a.transform(r),c},e.w=function(t){if(!Wr(this)){Tr.prototype.w.call(this,t),t=null,this.qa!==cl.Auto&&this.qa!==cl.Link||(t=this.vb());for(var e=this.R.s,n=e.length,i=0;i<n;i++){var a=e[i];if((a===t||a.isPanelMain)&&a.w(!0),!a.desiredSize.v()){var o=Fr(a,!1);(a instanceof Rh||a instanceof cl||a instanceof ec||o!==lr)&&a.w(!0)}}}},e.Mj=function(){if(!Wr(this)){qr(this,!0),Xr(this,!0);for(var t=this.R.s,e=t.length,n=0;n<e;n++)t[n].Mj()}},e.Ik=function(){if(0!=(2048&this.o)==!1){Gr(this,!0),Ur(this,!0);for(var t=this.R.s,e=t.length,n=0;n<e;n++)t[n].Hu()}},e.Hu=function(){Ur(this,!0);for(var t=this.R.s,e=t.length,n=0;n<e;n++)t[n].Hu()},e.El=function(t,e,n,i){var a=this.bg;a.h(0,0,0,0);var o=this.desiredSize,r=this.minSize;void 0===n&&(n=r.width,i=r.height),n=Math.max(n,r.width),i=Math.max(i,r.height);var s=this.maxSize;isNaN(o.width)||(t=Math.min(o.width,s.width)),isNaN(o.height)||(e=Math.min(o.height,s.height)),t=Math.max(n,t),e=Math.max(i,e);var l=this.ub;t=Math.max(t-l.left-l.right,0),e=Math.max(e-l.top-l.bottom,0);var c=this.R.s;0!==c.length&&this.qa.measure(this,t,e,c,a,n,i),t=a.width+l.left+l.right,l=a.height+l.top+l.bottom,isFinite(o.width)&&(t=o.width),isFinite(o.height)&&(l=o.height),t=Math.min(s.width,t),l=Math.min(s.height,l),t=Math.max(r.width,t),l=Math.max(r.height,l),Dt(a,t=Math.max(n,t),l=Math.max(i,l)),Dt(this.naturalBounds,t,l),this.ve(0,0,t,l)},e.vb=function(){if(null===this.Qg){var t=this.R.s,e=t.length;if(0===e)return null;for(var n=0;n<e;n++){var i=t[n];if(!0===i.isPanelMain)return this.Qg=i}this.Qg=t[0]}return this.Qg},e.Vg=function(t,e,n,i){var a=this.R.s;if(this.actualBounds.h(t,e,n,i),0!==a.length){if(!this.desiredSize.v()){t=Fr(this,!0);var o=this.measuredBounds;e=o.width,o=o.height;var r=this.Ag,s=r.left+r.right;switch(r=r.top+r.bottom,e===n&&o===i&&(t=lr),t){case lr:(e>n||o>i)&&(this.w(),this.measure(e>n?n:e,o>i?i:o,0,0));break;case sr:this.w(!0),this.measure(n+s,i+r,0,0);break;case hr:this.w(!0),this.measure(n+s,o+r,0,0);break;case dr:this.w(!0),this.measure(e+s,i+r,0,0)}}this.qa.arrange(this,a,this.bg)}},e.Xg=function(t){var e=this.naturalBounds,n=pl(this);if(Ut(0,0,e.width,e.height,t.x,t.y)){for(var i=(e=this.R.s).length,a=gt.allocAt(0,0);i--;){var o=e[i];if((o.visible||o===n)&&(wt(a.set(t),o.transform),o.ba(a)))return gt.free(a),!0}return gt.free(a),null!==this.Yb||null!==this.areaBackground}return!1},e.Ir=function(t){if(this.bindingId===t)return this;for(var e=this.R.s,n=e.length,i=0;i<n;i++){var a=e[i].Ir(t);if(null!==a)return a}return null},e.$l=function(t,e){if(e(this,t),t instanceof cl)for(var n=(t=t.R.s).length,i=0;i<n;i++)this.$l(t[i],e)},e.ul=function(t){return function t(e,n,i){if(i(n))return n;if(n instanceof cl)for(var a=(n=n.R.s).length,o=0;o<a;o++){var r=t(e,n[o],i);if(null!==r)return r}return null}(this,this,t)},e.fb=function(t){if(this.name===t)return this;var e=this.R.s,n=e.length;null===this.xh&&null===this.itemTemplateMap||(n=Ml(this));for(var i=0;i<n;i++){var a=e[i];if(a instanceof cl){var o=a.fb(t);if(null!==o)return o}if(a.name===t)return a}return null},e.ke=function(){return!(this.type===cl.TableRow||this.type===cl.TableColumn)},e.ec=function(t,e,n){if(!1===this.pickable)return null;if(void 0===e&&(e=null),void 0===n&&(n=null),Yr(this))return null;var i=this.naturalBounds,a=1/this.uf(),o=this.ke(),r=o?t:wt(gt.allocAt(t.x,t.y),this.transform),s=this.diagram,l=10,c=5;if(null!==s&&(c=(l=s.xl("extraTouchArea"))/2),Ut(-c*a,-c*a,i.width+l*a,i.height+l*a,r.x,r.y)){if(!this.isAtomic){var h=(a=this.R.s).length;if(s=gt.alloc(),c=(l=this.isClipping&&this.qa===cl.Spot)?this.vb():null,l&&(c.ke()?wt(s.set(t),c.transform):s.set(t),!c.ba(s)))return gt.free(s),o||gt.free(r),null;for(var d=pl(this);h--;){var u=a[h];if((u.visible||u===d)&&(u.ke()?wt(s.set(t),u.transform):s.set(t),!l||u!==c)){var f=null;if(u instanceof cl?f=u.ec(s,e,n):!0===u.pickable&&u.ba(s)&&(f=u),null!==f&&(null!==e&&(f=e(f)),null!==f&&(null===n||n(f))))return gt.free(s),o||gt.free(r),f}}gt.free(s)}return null===this.background&&null===this.areaBackground?(o||gt.free(r),null):(t=Ut(0,0,i.width,i.height,r.x,r.y)?this:null,o||gt.free(r),t)}return o||gt.free(r),null},e.di=function(t,e,n,i){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var a=this.naturalBounds,o=this.ke(),r=o?t:wt(gt.allocAt(t.x,t.y),this.transform);if(a=Ut(0,0,a.width,a.height,r.x,r.y),this.type===cl.TableRow||this.type===cl.TableColumn||a){if(!this.isAtomic){for(var s=this.R.s,l=s.length,c=gt.alloc(),h=pl(this);l--;){var d=s[l];if(d.visible||d===h){d.ke()?wt(c.set(t),d.transform):c.set(t);var u=d;(null!==(d=d instanceof cl?d:null)?d.di(c,e,n,i):u.ba(c))&&!1!==u.pickable&&(null!==e&&(u=e(u)),null===u||null!==n&&!n(u)||i.add(u))}}gt.free(c)}return o||gt.free(r),a&&(null!==this.background||null!==this.areaBackground)}return o||gt.free(r),!1},e.tf=function(t,e,n,i,a,o){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var r=o;if(void 0===o&&(r=Ve.alloc()).reset(),r.multiply(this.transform),this.Wg(t,r))return yl(this,e,n,a),void 0===o&&Ve.free(r),!0;if(this.Sc(t,r)){if(!this.isAtomic)for(var s=pl(this),l=this.R.s,c=l.length;c--;){var h=l[c];if(h.visible||h===s){var d=h.actualBounds,u=this.naturalBounds;d.x>u.width||d.y>u.height||0>d.x+d.width||0>d.y+d.height||(d=h,h=h instanceof cl?h:null,(u=Ve.alloc()).set(r),(null!==h?h.tf(t,e,n,i,a,u):Er(d,t,i,u))&&(null!==e&&(d=e(d)),null===d||null!==n&&!n(d)||a.add(d)),Ve.free(u))}}return void 0===o&&Ve.free(r),i}return void 0===o&&Ve.free(r),!1},e.hg=function(t,e,n,i,a,o){if(!1===this.pickable)return!1;void 0===n&&(n=null),void 0===i&&(i=null);var r=this.naturalBounds,s=this.ke(),l=s?t:wt(gt.allocAt(t.x,t.y),this.transform),c=s?e:wt(gt.allocAt(e.x,e.y),this.transform),h=l.rf(c),d=0<l.x&&l.x<r.width&&0<l.y&&l.y<r.height||xt(l.x,l.y,0,0,0,r.height)<=h||xt(l.x,l.y,0,r.height,r.width,r.height)<=h||xt(l.x,l.y,r.width,r.height,r.width,0)<=h||xt(l.x,l.y,r.width,0,0,0)<=h;if(r=l.td(0,0)<=h&&l.td(0,r.height)<=h&&l.td(r.width,0)<=h&&l.td(r.width,r.height)<=h,s||(gt.free(l),gt.free(c)),d){if(!this.isAtomic){l=gt.alloc(),c=gt.alloc(),h=pl(this);for(var u=this.R.s,f=u.length;f--;){var p=u[f];if(p.visible||p===h){var g=p.actualBounds,m=this.naturalBounds;s&&(g.x>m.width||g.y>m.height||0>g.x+g.width||0>g.y+g.height)||(p.ke()?(g=p.transform,wt(l.set(t),g),wt(c.set(e),g)):(l.set(t),c.set(e)),g=p,(null!==(p=p instanceof cl?p:null)?p.hg(l,c,n,i,a,o):g.Vw(l,c,a))&&(null!==n&&(g=n(g)),null===g||null!==i&&!i(g)||o.add(g)))}}gt.free(l),gt.free(c)}return a?d:r}return!1},e.add=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(n=0;n<e.length;n++)this.Cb(this.R.count,e[n]);return this},e.K=function(t){return this.R.K(t)},e.Cb=function(t,e){e instanceof $c&&b("Cannot add a Part to a Panel: "+e+"; use a Panel instead"),(this===e||this.jg(e))&&(this===e&&b("Cannot make a Panel contain itself: "+this.toString()),b("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var n=e.panel;if(null!==n&&n!==this&&b("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+n.toString()+", cannot be shared by this Panel: "+this.toString()),this.qa!==cl.Grid||e instanceof Gl||b("Can only add Shapes to a Grid Panel, not: "+e),this.qa!==cl.Graduated||e instanceof Gl||e instanceof ec||b("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.ni(this),e.jj=null,null!==this.itemArray){var i=e.data;null!==i&&"object"==typeof i&&(null===this.$d&&(this.$d=new pt),this.$d.add(i,e))}var a=this.R;if(i=-1,n===this){for(var o=-1,r=this.R.s,s=r.length,l=0;l<s;l++)if(r[l]===e){o=l;break}if(-1!==o){if(o===t||o+1>=a.count&&t>=a.count)return;a.mb(o),i=o}else b("element "+e.toString()+" has panel "+n.toString()+" but is not contained by it.")}(0>t||t>a.count)&&(t=a.count),a.Cb(t,e),(0===t||e.isPanelMain)&&(this.Qg=null),Wr(this)||this.w(),e.w(!1),(null!==e.portId||e instanceof cl&&!0===e.He)&&(this.He=!0),this.graduatedIntervals=null,this.yf()||El(this,e,!1),null!==(n=this.part)&&(n.Kh=null,n.Sf=NaN,this.He&&n instanceof xh&&(n.He=!0),n.He&&n instanceof xh&&(n.sc=null),null!==(a=this.diagram)&&a.undoManager.isUndoingRedoing||(-1!==i&&n.bb(mn,"elements",this,e,null,i,null),n.bb(gn,"elements",this,null,e,null,t)))},e.remove=function(t){for(var e=this.R.s,n=e.length,i=-1,a=0;a<n;a++)if(e[a]===t){i=a;break}-1!==i&&this.lc(i,!0)},e.mb=function(t){0<=t&&this.lc(t,!0)},e.lc=function(t,e){var n=this.R,i=n.K(t);if(i.jj=null,i.ni(null),null!==this.$d){var a=i.data;"object"==typeof a&&this.$d.remove(a)}n.mb(t),qr(this,!1),this.w(),this.Qg===i&&(this.Qg=null),this.graduatedIntervals=null;var o=this.part;null!==o&&(o.Kh=null,o.Sf=NaN,o.Rb(),o instanceof xh&&(i instanceof cl?i.$l(i,(function(t,n){Eh(o,n,e)})):Eh(o,i,e)),null!==(n=this.diagram)&&n.undoManager.isUndoingRedoing||o.bb(mn,"elements",this,i,null,t,null))},cl.prototype.getRowDefinition=function(t){0>t&&k(t,">= 0",cl,"getRowDefinition:idx"),t=Math.round(t);var e=this.rowDefs;if(void 0===e[t]){var n=new Rl;n.ni(this),n.isRow=!0,n.index=t,e[t]=n,this.bb(gn,"rowdefs",this,null,n,null,t)}return e[t]},cl.prototype.Vz=function(t){if(0>t&&k(t,">= 0",cl,"removeRowDefinition:idx"),0!==this.rowCount){t=Math.round(t);var e=this.rowDefs,n=e[t];if(n){e[t]=void 0;for(var i=e.length-1;0<=i&&void 0===e[i--];)e.length--;this.bb(mn,"rowdefs",this,n,null,t,null),this.w()}}},cl.prototype.getColumnDefinition=function(t){0>t&&k(t,">= 0",cl,"getColumnDefinition:idx"),t=Math.round(t);var e=this.colDefs;if(void 0===e[t]){var n=new Rl;n.ni(this),n.isRow=!1,n.index=t,e[t]=n,this.bb(gn,"coldefs",this,null,n,null,t)}return e[t]},(e=cl.prototype).Qz=function(t){if(0>t&&k(t,">= 0",cl,"removeColumnDefinition:idx"),0!==this.columnCount){t=Math.round(t);var e=this.colDefs,n=e[t];if(n){e[t]=void 0;for(var i=e.length-1;0<=i&&void 0===e[i--];)e.length--;this.bb(mn,"coldefs",this,n,null,t,null),this.w()}}},e.Wy=function(t){if(0>t||this.type!==cl.Table||0===this.rowCount)return-1;for(var e=0,n=this.rowDefs,i=n.length,a=this.topIndex;a<i;a++){var o=n[a];if(void 0!==o&&t<(e+=o.total))break}return a},e.Oy=function(t){if(0>t||this.type!==cl.Table||0===this.columnCount)return-1;for(var e=0,n=this.colDefs,i=n.length,a=this.leftIndex;a<i;a++){var o=n[a];if(void 0!==o&&t<(e+=o.total))break}return a},e.mz=function(t,e){if(void 0===e&&(e=new gt(NaN,NaN)),this.type!==cl.Graduated)return e.h(NaN,NaN),e;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);var n=this.vb();return n.geometry.Au((t-this.graduatedMin)/this.graduatedRange,e),n.transform.Fa(e)},e.nz=function(t){if(this.type!==cl.Graduated)return NaN;var e=this.vb();return e.transform.Ld(t),e.geometry.Zw(t)*this.graduatedRange+this.graduatedMin},e.By=function(t){void 0===t&&(t=!1);var e=this.copy();return ml(e,(function(t){t instanceof cl&&(t.allBindings=null,t.qb=null);var e=t.localBindings;null!==e&&(t.localBindings=null,e.each((function(e){t.bind(e.copy())}))),null!==(e=t.animationTriggers)&&(t.animationTriggers=null,e.each((function(e){t.mv(e.value.copy())})))})),t&&Pl(e),e},e.Ka=function(t){var e=this.allBindings;if(null!==e)for(void 0===t&&(t=""),e=e.iterator;e.next();){var n=e.value,i=n.sourceProperty;if((""===t||""===i||i===t)&&(i=n.targetProperty,null!==n.converter||""!==i)){i=this.data;var a=n.sourceName;if(null!==a){if(""===a)i=this;else if("/"===a)i=this;else if("."===a)i=this;else if(".."===a)i=this;else if(null===(i=this.fb(a)))continue}else if(n.isToModel){if(null===(i=this.diagram))continue;i=i.model.modelData}var o=this,r=n.ti;if(-1!==r){if(null===(o=this.Ir(r)))continue}else null!==n.sd&&(o=n.sd);if("/"===a?i=o.part:"."===a?i=o:".."===a&&(i=o.panel),0!==(a=n.Wn)){if(!(o instanceof cl))continue;1===a?o=o.getColumnDefinition(n.kl):2===a&&(o=o.getRowDefinition(n.kl))}void 0!==o&&n.pv(o,i)}}},e.Uw=function(t){return null==t||null===this.$d?null:this.$d.I(t)},e.Uu=function(){for(var t=Ml(this);this.R.length>t;)this.lc(this.R.length-1,!1);_l(this,this.itemArray)},u.Object.defineProperties(cl.prototype,{type:{get:function(){return this.qa},set:function(t){var e=this.qa;e!==t&&(this.qa=t,this.isAtomic=this.qa===cl.Grid,this.w(),this.g("type",e,t))}},elements:{get:function(){return this.R.iterator}},naturalBounds:{get:function(){return this.bc}},padding:{get:function(){return this.ub},set:function(t){"number"==typeof t?(0>t&&k(t,">= 0",cl,"padding"),t=new Kt(t)):(0>t.left&&k(t.left,">= 0",cl,"padding:value.left"),0>t.right&&k(t.right,">= 0",cl,"padding:value.right"),0>t.top&&k(t.top,">= 0",cl,"padding:value.top"),0>t.bottom&&k(t.bottom,">= 0",cl,"padding:value.bottom"));var e=this.ub;e.C(t)||(this.ub=t=t.J(),this.w(),this.g("padding",e,t))}},defaultAlignment:{get:function(){return this.Bm},set:function(t){var e=this.Bm;e.C(t)||(this.Bm=t=t.J(),this.w(),this.g("defaultAlignment",e,t))}},defaultStretch:{get:function(){return this.Kf},set:function(t){var e=this.Kf;e!==t&&(this.Kf=t,this.w(),this.g("defaultStretch",e,t))}},defaultSeparatorPadding:{get:function(){return null!==this.T?this.T.tp:Jt},set:function(t){"number"==typeof t&&(t=new Kt(t));var e=this.defaultSeparatorPadding;e.C(t)||(t=t.J(),null===this.T&&(this.T=new Fl),this.T.tp=t,this.w(),this.g("defaultSeparatorPadding",e,t))}},defaultRowSeparatorStroke:{get:function(){return null!==this.T?this.T.ga:null},set:function(t){var e=this.defaultRowSeparatorStroke;e!==t&&(null===t||"string"==typeof t||t instanceof vs)&&(t instanceof vs&&t.freeze(),null===this.T&&(this.T=new Fl),this.T.ga=t,this.N(),this.g("defaultRowSeparatorStroke",e,t))}},defaultRowSeparatorStrokeWidth:{get:function(){return null!==this.T?this.T.Ga:1},set:function(t){var e=this.defaultRowSeparatorStrokeWidth;e!==t&&isFinite(t)&&0<=t&&(null===this.T&&(this.T=new Fl),this.T.Ga=t,this.w(),this.g("defaultRowSeparatorStrokeWidth",e,t))}},defaultRowSeparatorDashArray:{get:function(){return null!==this.T?this.T.W:null},set:function(t){var e=this.defaultRowSeparatorDashArray;if(e!==t){if(null!==t){for(var n=t.length,i=0,a=0;a<n;a++){var o=t[a];"number"==typeof o&&0<=o&&isFinite(o)||b("defaultRowSeparatorDashArray value "+o+" at index "+a+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}null===this.T&&(this.T=new Fl),this.T.W=t,this.N(),this.g("defaultRowSeparatorDashArray",e,t)}}},defaultColumnSeparatorStroke:{get:function(){return null!==this.T?this.T.u:null},set:function(t){var e=this.defaultColumnSeparatorStroke;e!==t&&(null===t||"string"==typeof t||t instanceof vs)&&(t instanceof vs&&t.freeze(),null===this.T&&(this.T=new Fl),this.T.u=t,this.N(),this.g("defaultColumnSeparatorStroke",e,t))}},defaultColumnSeparatorStrokeWidth:{get:function(){return null!==this.T?this.T.F:1},set:function(t){var e=this.defaultColumnSeparatorStrokeWidth;e!==t&&isFinite(t)&&0<=t&&(null===this.T&&(this.T=new Fl),this.T.F=t,this.w(),this.g("defaultColumnSeparatorStrokeWidth",e,t))}},defaultColumnSeparatorDashArray:{get:function(){return null!==this.T?this.T.m:null},set:function(t){var e=this.defaultColumnSeparatorDashArray;if(e!==t){if(null!==t){for(var n=t.length,i=0,a=0;a<n;a++){var o=t[a];"number"==typeof o&&0<=o&&isFinite(o)||b("defaultColumnSeparatorDashArray value "+o+" at index "+a+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}null===this.T&&(this.T=new Fl),this.T.m=t,this.N(),this.g("defaultColumnSeparatorDashArray",e,t)}}},inRowsCols:{get:function(){return null!==this.T?this.T.hb:null},set:function(t){null===this.T&&(this.T=new Fl),this.T.hb=t}},viewboxStretch:{get:function(){return this.$n},set:function(t){var e=this.$n;e!==t&&(this.$n=t,this.w(),this.g("viewboxStretch",e,t))}},gridCellSize:{get:function(){return this.Qm},set:function(t){var e=this.Qm;if(!e.C(t)){t.v()&&0!==t.width&&0!==t.height||b("Invalid Panel.gridCellSize: "+t),this.Qm=t.J();var n=this.diagram;null!==n&&this===n.grid&&po(n),this.N(),this.g("gridCellSize",e,t)}}},gridOrigin:{get:function(){return this.Rm},set:function(t){var e=this.Rm;if(!e.C(t)){t.v()||b("Invalid Panel.gridOrigin: "+t),this.Rm=t.J();var n=this.diagram;null!==n&&this===n.grid&&po(n),this.N(),this.g("gridOrigin",e,t)}}},graduatedMin:{get:function(){return null!==this.oa?this.oa.Np:0},set:function(t){var e=this.graduatedMin;e!==t&&(null===this.oa&&(this.oa=new Dl),this.oa.Np=t,this.w(),this.g("graduatedMin",e,t),Hr(this)&&(null!==(t=this.part)&&Ar(this,t,"graduatedRange")))}},graduatedMax:{get:function(){return null!==this.oa?this.oa.F:100},set:function(t){var e=this.graduatedMax;e!==t&&(null===this.oa&&(this.oa=new Dl),this.oa.F=t,this.w(),this.g("graduatedMax",e,t),Hr(this)&&(null!==(t=this.part)&&Ar(this,t,"graduatedRange")))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return null!==this.oa?this.oa.ga:10},set:function(t){var e=this.graduatedTickUnit;e!==t&&0<t&&(null===this.oa&&(this.oa=new Dl),this.oa.ga=t,this.w(),this.g("graduatedTickUnit",e,t))}},graduatedTickBase:{get:function(){return null!==this.oa?this.oa.W:0},set:function(t){var e=this.graduatedTickBase;e!==t&&(null===this.oa&&(this.oa=new Dl),this.oa.W=t,this.w(),this.g("graduatedTickBase",e,t))}},graduatedMarks:{get:function(){return null!==this.oa?this.oa.u:null},set:function(t){null!==this.oa?this.oa.u=t:null!==t&&(this.oa=new Dl,this.oa.u=t)}},graduatedBounds:{get:function(){return null!==this.oa?this.oa.j:null},set:function(t){null!==this.oa?this.oa.j=t:null!==t&&(this.oa=new Dl,this.oa.j=t)}},graduatedIntervals:{get:function(){return null!==this.oa?this.oa.m:null},set:function(t){null!==this.oa?this.oa.m=t:null!==t&&(this.oa=new Dl,this.oa.m=t)}},temporaryTextBlock:{get:function(){return null!==this.oa?this.oa.Sh:null},set:function(t){null!==this.oa?this.oa.Sh=t:null!==t&&(this.oa=new Dl,this.oa.Sh=t)}},panelLayoutState:{get:function(){return this.F},set:function(t){this.F=t}},He:{get:function(){return 0!=(8388608&this.o)},set:function(t){0!=(8388608&this.o)!==t&&(this.o^=8388608)}},rowDefs:{get:function(){return null===this.T&&(this.T=new Fl),this.T.Ic}},rowCount:{get:function(){return null===this.T?0:this.rowDefs.length}},colDefs:{get:function(){return null===this.T&&(this.T=new Fl),this.T.Hc}},columnCount:{get:function(){return null===this.T?0:this.colDefs.length}},rowSizing:{get:function(){return null!==this.T?this.T.nb:Vl},set:function(t){var e=this.rowSizing;e!==t&&(null===this.T&&(this.T=new Fl),this.T.nb=t,this.w(),this.g("rowSizing",e,t))}},columnSizing:{get:function(){return null!==this.T?this.T.j:Vl},set:function(t){var e=this.columnSizing;e!==t&&(null===this.T&&(this.T=new Fl),this.T.j=t,this.w(),this.g("columnSizing",e,t))}},topIndex:{get:function(){return null!==this.T?this.T.Db:0},set:function(t){var e=this.topIndex;e!==t&&((!isFinite(t)||0>t)&&b("Panel.topIndex must be greater than zero and a real number, not: "+t),null===this.T&&(this.T=new Fl),this.T.Db=t,this.w(),this.g("topIndex",e,t))}},leftIndex:{get:function(){return null!==this.T?this.T.cb:0},set:function(t){var e=this.leftIndex;e!==t&&((!isFinite(t)||0>t)&&b("Panel.leftIndex must be greater than zero and a real number, not: "+t),null===this.T&&(this.T=new Fl),this.T.cb=t,this.w(),this.g("leftIndex",e,t))}},data:{get:function(){return this.qb},set:function(t){var e=this.qb;if(e!==t){var n=this instanceof $c&&!(this instanceof vh);Pl(this),this.qb=t;var i=this.diagram;null!==i&&(n?(n=i.partManager,this instanceof Ih?(null!==e&&n.Re.remove(e),null!==t&&n.Re.add(t,this)):this instanceof $c&&(null!==e&&n.Se.remove(e),null!==t&&n.Se.add(t,this))):null!==(n=this.panel)&&null!==n.$d&&(null!==e&&n.$d.remove(e),null!==t&&n.$d.add(t,this))),this.g("data",e,t),null!==i&&i.undoManager.isUndoingRedoing||null!==t&&this.Ka()}}},itemIndex:{get:function(){return this.fn},set:function(t){var e=this.fn;e!==t&&(this.fn=t,this.g("itemIndex",e,t))}},allBindings:{get:function(){return null!==this.A?this.A.hb:null},set:function(t){this.localBindings!==t&&(null===this.A&&(this.A=new ns),this.A.hb=t)}},itemArray:{get:function(){return this.xh},set:function(t){var e=this.xh;if(e!==t||null!==t&&function(t,e){for(var n=(t=t.R.s).length,i=e.length,a=0,o=null;a<n&&!((o=t[a])instanceof cl&&null!==o.data);)o=t[++a];if(n-a!==i)return!0;if(null===o)return 0<i;for(var r=0;a<n&&r<i;){if(!((o=t[a])instanceof cl)||o.data!==e[r])return!0;a++,r++}return!1}(this,t)){var n=this.diagram;e!==t&&(null!==n&&null!==e&&Eu(n.partManager,this,n),this.xh=t,null!==n&&null!==t&&Au(n.partManager,this)),this.g("itemArray",e,t),null!==n&&n.undoManager.isUndoingRedoing||_l(this,t)}}},itemTemplate:{get:function(){return null===this.itemTemplateMap?null:this.itemTemplateMap.I("")},set:function(t){if(null===this.itemTemplateMap){if(null===t)return;this.itemTemplateMap=new pt}var e=this.itemTemplateMap.I("");e!==t&&((t instanceof $c||t.isPanelMain)&&b("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.itemTemplateMap.add("",t),this.g("itemTemplate",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.Uu())}},itemTemplateMap:{get:function(){return null!==this.A?this.A.le:null},set:function(t){var e=this.itemTemplateMap;if(e!==t){for(var n=t.iterator;n.next(););Or(this),this.A.le=t,this.g("itemTemplateMap",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.Uu()}}},itemCategoryProperty:{get:function(){return null!==this.A?this.A.Ic:"category"},set:function(t){var e=this.itemCategoryProperty;e!==t&&(Or(this),this.A.Ic=t,this.g("itemCategoryProperty",e,t))}},isAtomic:{get:function(){return 0!=(1048576&this.o)},set:function(t){var e=0!=(1048576&this.o);e!==t&&(this.o^=1048576,this.g("isAtomic",e,t))}},isClipping:{get:function(){return 0!=(2097152&this.o)},set:function(t){var e=0!=(2097152&this.o);e!==t&&(this.o^=2097152,this instanceof jh&&(this.ib=null),this.w(),this.g("isClipping",e,t))}},isOpposite:{get:function(){return 0!=(33554432&this.o)},set:function(t){var e=0!=(33554432&this.o);e!==t&&(this.o^=33554432,this.w(),this.g("isOpposite",e,t))}},isEnabled:{get:function(){return 0!=(4194304&this.o)},set:function(t){var e=0!=(4194304&this.o);if(e!==t){var n=null===this.panel||this.panel.yf();this.o^=4194304,this.g("isEnabled",e,t),null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing||n&&El(this,this,t)}}},alignmentFocusName:{get:function(){return this.Pe},set:function(t){var e=this.Pe;e!==t&&(this.Pe=t,this.w(),this.g("alignmentFocusName",e,t))}}}),u.Object.defineProperties(cl,{Position:{get:function(){return jl.I("Position")}},Horizontal:{get:function(){return jl.I("Horizontal")}},Vertical:{get:function(){return jl.I("Vertical")}},Spot:{get:function(){return jl.I("Spot")}},Auto:{get:function(){return jl.I("Auto")}},Table:{get:function(){return jl.I("Table")}},Viewbox:{get:function(){return jl.I("Viewbox")}},TableRow:{get:function(){return jl.I("TableRow")}},TableColumn:{get:function(){return jl.I("TableColumn")}},Link:{get:function(){return jl.I("Link")}},Grid:{get:function(){return jl.I("Grid")}},Graduated:{get:function(){return jl.I("Graduated")}}}),cl.prototype.rebuildItemElements=cl.prototype.Uu,cl.prototype.findItemPanelForData=cl.prototype.Uw,cl.prototype.updateTargetBindings=cl.prototype.Ka,cl.prototype.copyTemplate=cl.prototype.By,cl.prototype.graduatedValueForPoint=cl.prototype.nz,cl.prototype.graduatedPointForValue=cl.prototype.mz,cl.prototype.findColumnForLocalX=cl.prototype.Oy,cl.prototype.findRowForLocalY=cl.prototype.Wy,cl.prototype.removeColumnDefinition=cl.prototype.Qz,cl.prototype.removeRowDefinition=cl.prototype.Vz,cl.prototype.removeAt=cl.prototype.mb,cl.prototype.remove=cl.prototype.remove,cl.prototype.insertAt=cl.prototype.Cb,cl.prototype.elt=cl.prototype.K,cl.prototype.add=cl.prototype.add,cl.prototype.findObject=cl.prototype.fb,cl.prototype.findInVisualTree=cl.prototype.ul,cl.prototype.walkVisualTreeFrom=cl.prototype.$l,cl.prototype.findMainElement=cl.prototype.vb;var Nl=!1,Bl=null,jl=new pt;function Dl(){this.Np=0,this.F=100,this.ga=10,this.W=0,this.Sh=this.m=this.j=this.u=null}function Fl(){this.Ic=[],this.Hc=[],this.j=this.nb=Vl,this.cb=this.Db=0,this.tp=Jt,this.Ga=1,this.W=this.ga=null,this.F=1,this.hb=this.m=this.u=null}function Rl(){tt(this),this.Uf=null,this.Wp=!0,this.Wa=0,this.Ac=NaN,this.ej=0,this.cj=1/0,this.Fb=Me,this.pa=this.jc=this.ma=0,this.Vd=null,this.Rn=zl,this.$f=ur,this.On=this.Wf=null,this.Pn=NaN,this.Yb=this.oj=null,this.xm=!1}function Il(t){if(t.sizing===zl){var e=t.Uf;return t.isRow?e.rowSizing:e.columnSizing}return t.sizing}cl.className="Panel",cl.definePanelLayout=Cl,Cl("Position",new Xs),Cl("Vertical",new Zs),Cl("Auto",new Qs),Cl("Link",new rl),Dl.prototype.copy=function(){var t=new Dl;return t.Np=this.Np,t.F=this.F,t.ga=this.ga,t.W=this.W,t.u=this.u,t.j=this.j,t.m=this.m,t.Sh=this.Sh,t},Dl.className="GradPanelSettings",Fl.prototype.copy=function(t){for(var e=new Fl,n=this.Ic,i=n.length,a=e.Ic,o=0;o<i;o++)if(void 0!==n[o]){var r=n[o].copy();r.ni(t),a[o]=r}for(i=(n=this.Hc).length,a=e.Hc,o=0;o<i;o++)void 0!==n[o]&&((r=n[o].copy()).ni(t),a[o]=r);return e.nb=this.nb,e.j=this.j,e.Db=this.Db,e.cb=this.cb,e.tp=this.tp.J(),e.Ga=this.Ga,e.ga=this.ga,e.W=this.W,e.F=this.F,e.u=this.u,e.m=this.m,e.hb=this.hb,e},Fl.className="TablePanelSettings",Rl.prototype.copy=function(){var t=new Rl;return t.Wp=this.Wp,t.Wa=this.Wa,t.Ac=this.Ac,t.ej=this.ej,t.cj=this.cj,t.Fb=this.Fb,t.ma=this.ma,t.jc=this.jc,t.pa=this.pa,t.$f=this.$f,t.Rn=this.Rn,null===this.Wf?t.Wf=null:t.Wf=this.Wf.J(),t.On=this.On,t.Pn=this.Pn,t.oj=null,null!==this.oj&&(t.separatorDashArray=L(this.separatorDashArray)),t.Yb=this.Yb,t.xm=this.xm,t.Vd=this.Vd,t},(e=Rl.prototype).ob=function(t){t.classType===Rl&&(this.sizing=t)},e.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+nt(this)},e.ni=function(t){this.Uf=t},e.mo=function(t){var e=0,n=this.Uf;if(this.index!==t&&(null===(t=this.separatorStroke)&&null!==n&&(t=this.isRow?n.defaultRowSeparatorStroke:n.defaultColumnSeparatorStroke),null!==t&&(e=this.separatorStrokeWidth,isNaN(e)&&(e=null!==n?this.isRow?n.defaultRowSeparatorStrokeWidth:n.defaultColumnSeparatorStrokeWidth:0))),null===(t=this.Wf)){if(null===n)return e;t=n.defaultSeparatorPadding}return e+(this.isRow?t.top:t.left)},e.Qc=function(){var t=0,e=this.Uf,n=0,i=this.isRow;if(null!==e&&e.type===cl.Table)for(var a=i?e.rowDefs.length:e.colDefs.length,o=0;o<a;o++){var r=i?e.rowDefs[o]:e.colDefs[o];if(void 0!==r&&0!==r.ma){n=r.index;break}}if(this.index!==n&&(null===(n=this.separatorStroke)&&null!==e&&(n=i?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),null!==n&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==e?i?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth:0))),null===(i=this.Wf)){if(null===e)return t;i=e.defaultSeparatorPadding}return t+(this.isRow?i.top+i.bottom:i.left+i.right)},e.Kb=function(t,e,n){var i=this.Uf;if(null!==i&&(i.bb(pn,t,this,e,n,void 0,void 0),null!==this.Vd&&(null!==(e=i.diagram)&&!e.skipsModelSourceBindings&&(null!==(i=i.Yg())&&null!==(e=i.data)))))for(n=this.Vd.iterator;n.next();)n.value.Vo(this,e,t,i)},e.bind=function(t,e,n,i){var a=null;return(a="string"==typeof t?new pf(t,e,n,i):t).sd=this,null!==(t=this.panel)&&(null!==(e=t.Yg())&&kl(e)&&b("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+a+" on "+t)),null===this.Vd&&(this.Vd=new $),this.Vd.add(a),this},u.Object.defineProperties(Rl.prototype,{panel:{get:function(){return this.Uf}},isRow:{get:function(){return this.Wp},set:function(t){this.Wp=t}},index:{get:function(){return this.Wa},set:function(t){this.Wa=t}},height:{get:function(){return this.Ac},set:function(t){var e=this.Ac;e!==t&&(0>t&&k(t,">= 0",Rl,"height"),this.Ac=t,this.actual=this.ma,null!==this.panel&&this.panel.w(),this.Kb("height",e,t))}},width:{get:function(){return this.Ac},set:function(t){var e=this.Ac;e!==t&&(0>t&&k(t,">= 0",Rl,"width"),this.Ac=t,this.actual=this.ma,null!==this.panel&&this.panel.w(),this.Kb("width",e,t))}},minimum:{get:function(){return this.ej},set:function(t){var e=this.ej;e!==t&&((0>t||!isFinite(t))&&k(t,">= 0",Rl,"minimum"),this.ej=t,this.actual=this.ma,null!==this.panel&&this.panel.w(),this.Kb("minimum",e,t))}},maximum:{get:function(){return this.cj},set:function(t){var e=this.cj;e!==t&&(0>t&&k(t,">= 0",Rl,"maximum"),this.cj=t,this.actual=this.ma,null!==this.panel&&this.panel.w(),this.Kb("maximum",e,t))}},alignment:{get:function(){return this.Fb},set:function(t){var e=this.Fb;e.C(t)||(this.Fb=t.J(),null!==this.panel&&this.panel.w(),this.Kb("alignment",e,t))}},stretch:{get:function(){return this.$f},set:function(t){var e=this.$f;e!==t&&(this.$f=t,null!==this.panel&&this.panel.w(),this.Kb("stretch",e,t))}},separatorPadding:{get:function(){return this.Wf},set:function(t){"number"==typeof t&&(t=new Kt(t));var e=this.Wf;null!==t&&null!==e&&e.C(t)||(null!==t&&(t=t.J()),this.Wf=t,null!==this.panel&&this.panel.w(),this.Kb("separatorPadding",e,t))}},separatorStroke:{get:function(){return this.On},set:function(t){var e=this.On;e!==t&&(null!==t&&As(t,"RowColumnDefinition.separatorStroke"),t instanceof vs&&t.freeze(),this.On=t,null!==this.panel&&this.panel.w(),this.Kb("separatorStroke",e,t))}},separatorStrokeWidth:{get:function(){return this.Pn},set:function(t){var e=this.Pn;e!==t&&(this.Pn=t,null!==this.panel&&this.panel.w(),this.Kb("separatorStrokeWidth",e,t))}},separatorDashArray:{get:function(){return this.oj},set:function(t){var e=this.oj;if(e!==t){if(null!==t){for(var n=t.length,i=0,a=0;a<n;a++){var o=t[a];"number"==typeof o&&0<=o&&isFinite(o)||b("separatorDashArray value "+o+" at index "+a+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.oj=t,null!==this.panel&&this.panel.N(),this.Kb("separatorDashArray",e,t)}}},background:{get:function(){return this.Yb},set:function(t){var e=this.Yb;e!==t&&(null!==t&&As(t,"RowColumnDefinition.background"),t instanceof vs&&t.freeze(),this.Yb=t,null!==this.panel&&this.panel.N(),this.Kb("background",e,t))}},coversSeparators:{get:function(){return this.xm},set:function(t){var e=this.xm;e!==t&&(this.xm=t,null!==this.panel&&this.panel.N(),this.Kb("coversSeparators",e,t))}},sizing:{get:function(){return this.Rn},set:function(t){var e=this.Rn;e!==t&&(this.Rn=t,null!==this.panel&&this.panel.w(),this.Kb("sizing",e,t))}},actual:{get:function(){return this.ma},set:function(t){this.ma=isNaN(this.Ac)?Math.max(Math.min(this.cj,t),this.ej):Math.max(Math.min(this.cj,this.Ac),this.ej)}},measured:{get:function(){return this.jc},set:function(t){this.jc=t}},total:{get:function(){return this.ma+this.Qc()}},position:{get:function(){return this.pa},set:function(t){this.pa=t}}}),Rl.prototype.computeEffectiveSpacing=Rl.prototype.Qc,Rl.prototype.computeEffectiveSpacingTop=Rl.prototype.mo;var zl=new H(Rl,"Default",0),Hl=new H(Rl,"None",1),Vl=new H(Rl,"ProportionalExtra",2);function Gl(t,e){Tr.call(this),this.Hd=this.ua=null,this.Jm="None",this.Nc=this.zk="black",this.ag=1,this.Na=this.Og=null,this.Dn=this.Cn=NaN,this.fa=null,"string"==typeof t?this.figure=t:t&&Object.assign(this,t),e&&Object.assign(this,e)}function Ul(t){null===t.Na?t.Na=new tc:t.Na.ic&&(t.Na=t.Na.copy())}function Wl(t,e,n,i){var a=n.length;if(!(4>a)){var o=i.measuredBounds,r=Math.max(1,o.width);o=o.height;for(var s,l,c,h,d,u,f=n[0],p=n[1],g=0,m=A(),y=2;y<a;y+=2)0===(c=(s=n[y])-f)&&(c=.001),h=(f=(l=n[y+1])-p)/c,d=Math.atan2(f,c),u=Math.sqrt(c*c+f*f),m.push([c,d,h,u]),g+=u,f=s,p=l;f=n[0],p=n[1],c=i.measuredBounds.width,i instanceof Gl&&(c-=i.strokeWidth),1>c&&(c=1),a=n=c,l=0!==(s=r/2),c=(u=m[y=0])[0],d=u[1],h=u[2],u=u[3];for(var v=0;.1<=g;){if(0===v&&(l?(a=n,a-=s,g-=s,l=!1):a=n,0===a&&(a=1)),a>g)return void E(m);a>u?(v=a-u,a=u):v=0;var w=Math.sqrt(a*a/(1+h*h));if(0>c&&(w=-w),f+=w,p+=h*w,t.translate(f,p),t.rotate(d),t.translate(-r/2,-o/2),0===v&&i.ai(t,e),t.translate(r/2,o/2),t.rotate(-d),t.translate(-f,-p),g-=a,u-=a,0!==v){if(++y===m.length)return void E(m);c=(u=m[y])[0],d=u[1],h=u[2],u=u[3],a=v}}E(m)}}function ql(t){var e=t.geometryStretch;return null!==t.Hd?e===ur?sr:e:e===ur?Ql[t.figure].defaultStretch:e}function Yl(t,e,n,i,a){return(e=(t=n.x-t)*t+(e=n.y-e)*e)<i?(a.x=n.x,a.y=n.y,e):i}function Xl(t,e,n,i,a,o,r,s,l){var c=!1,h=(a-r)*(e-i)-(o-s)*(t-n);return 0!==h&&(l.x=((a*s-o*r)*(t-n)-(a-r)*(t*i-e*n))/h,l.y=((a*s-o*r)*(e-i)-(o-s)*(t*i-e*n))/h,(t>n?t-n:n-t)<(e>i?e-i:i-e)?(t=e<i?e:i,e=e<i?i:e,(l.y>t||Ue.ca(l.y,t))&&(l.y<e||Ue.ca(l.y,e))&&(c=!0)):(e=t<n?t:n,t=t<n?n:t,(l.x>e||Ue.ca(l.x,e))&&(l.x<t||Ue.ca(l.x,t))&&(c=!0)),c)}function Kl(t,e,n,i){if(!t.Pr(e,n,i))return!1;t=e.x,e=e.y;var a=n.x,o=n.y;return n=i.x,i=i.y,t===a?(e<o?(t=e,e=o):t=o,i>=t&&i<=e):(t<a?(i=t,t=a):i=a,n>=i&&n<=t)}function Zl(t){var e=t.diagram;null!==e&&e.undoManager.isUndoingRedoing||(t.segmentOrientation=vd,"None"!==t.toArrow?(t.segmentIndex=-1,t.alignmentFocus=Ce):"None"!==t.fromArrow&&(t.segmentIndex=0,t.alignmentFocus=new Fe(1-Ce.x,Ce.y)))}function $l(t){var e=Jl[t];if(void 0===e){var n=t.toLowerCase();if("none"===n)return"None";if(void 0===(e=Jl[n])){var i,a=null;for(i in Ue.dm)if(i.toLowerCase()===n){a=i;break}if(null!==a)return t=We.parse(Ue.dm[a],!1),Jl[a]=t,n!==a&&(Jl[n]=a),a}}return"string"==typeof e?e:e instanceof We?t:null}Rl.className="RowColumnDefinition",Rl.Default=zl,Rl.None=Hl,Rl.ProportionalExtra=Vl,d(Gl,Tr),Gl.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.ua=this.ua,t.Hd=this.Hd,t.Jm=this.Jm,t.zk=this.zk,t.Nc=this.Nc,t.ag=this.ag,null!==this.Og&&(t.Og=L(this.Og)),null!==this.Na&&(t.Na=this.Na.ic?this.Na:this.Na.copy()),t.Cn=this.Cn,t.Dn=this.Dn,null!==this.fa&&(t.fa=this.fa.copy())},(e=Gl.prototype).ih=function(){Tr.prototype.ih.call(this),null!==this.Na&&(this.Na.ic=!0)},e.ob=function(t){t===lr||t===cr||t===fr||t===ur?this.geometryStretch=t:Tr.prototype.ob.call(this,t)},e.toString=function(){return"Shape("+("None"!==this.figure?this.figure:"None"!==this.toArrow?this.toArrow:this.fromArrow)+")#"+nt(this)},e.ai=function(t,e){var n=this.Nc,i=this.zk;if(null!==n||null!==i){var a=this.ua;if(null!==a){t.Pc();var o=this.actualBounds,r=this.naturalBounds;null!==i&&Br(this,t,i,!0,!1,r,o);var s=this.part,l=this.ag;if(null===n||0!==l||null===s||!this.isPanelMain&&s.vb()!==this||(l=s.type===cl.Link&&s instanceof vh&&"Selection"===s.category&&s.adornedObject instanceof Gl&&s.adornedPart.vb()===s.adornedObject?s.adornedObject.strokeWidth:0),0===l&&(n=null),null!==n&&0!==l&&(Br(this,t,n,!1,!1,r,o),t.lineWidth=l,t.lineJoin=this.strokeJoin,t.lineCap=this.strokeCap,t.miterLimit=this.strokeMiterLimit),o=!1,s&&e.Ge("drawShadows")&&(o=s.isShadowed),s=!0,null===n||null!==i&&"transparent"!==i||(s=!1),r=!1,null!==(l=this.strokeDashArray)&&(r=!0,t.Hr(l,this.strokeDashOffset)),a.type===We.j)t.beginPath(),t.moveTo(a.startX,a.startY),t.lineTo(a.endX,a.endY),null!==n&&t.si();else if(a.type===We.u){var c=a.startX;l=a.startY;var h=a.endX,d=a.endY;a=Math.min(c,h);var u=Math.min(l,d);c=Math.abs(h-c),l=Math.abs(d-l),t.beginPath(),t.rect(a,u,c,l),null!==i&&t.sf(i),null!==n&&(s&&o&&us(t),0!==c&&0!==l||(t.beginPath(),t.rect(a,u,Math.max(c,.1),Math.max(l,.1))),t.si(),s&&o&&fs(t))}else if(a.type===We.F)c=a.startX,l=a.startY,h=a.endX,d=a.endY,a=Math.abs(h-c)/2,u=Math.abs(d-l)/2,c=Math.min(c,h)+a,l=Math.min(l,d)+u,t.beginPath(),t.moveTo(c,l-u),t.bezierCurveTo(c+Ue.ng*a,l-u,c+a,l-Ue.ng*u,c+a,l),t.bezierCurveTo(c+a,l+Ue.ng*u,c+Ue.ng*a,l+u,c,l+u),t.bezierCurveTo(c-Ue.ng*a,l+u,c-a,l+Ue.ng*u,c-a,l),t.bezierCurveTo(c-a,l-Ue.ng*u,c-Ue.ng*a,l-u,c,l-u),t.closePath(),null!==i&&t.sf(i),null!==n&&(s&&o?(us(t),t.si(),fs(t)):t.si());else if(a.type===We.m)for(l=(a=a.figures).length,u=0;u<l;u++){c=a.s[u],t.beginPath(),t.moveTo(c.startX,c.startY),d=(h=c.segments.s).length;for(var f=null,p=0;p<d;p++){var g=h[p];switch(g.type){case an:t.moveTo(g.endX,g.endY);break;case on:t.lineTo(g.endX,g.endY);break;case rn:t.bezierCurveTo(g.point1X,g.point1Y,g.point2X,g.point2Y,g.endX,g.endY);break;case sn:t.quadraticCurveTo(g.point1X,g.point1Y,g.endX,g.endY);break;case ln:if(g.radiusX===g.radiusY){var m=Math.PI/180;t.arc(g.point1X,g.point1Y,g.radiusX,g.startAngle*m,(g.startAngle+g.sweepAngle)*m,0>g.sweepAngle,null!==f?f.endX:c.startX,null!==f?f.endY:c.startY)}else if(0===(m=(f=en(g,c)).length))t.lineTo(g.centerX,g.centerY);else for(var y=0;y<m;y++){var v=f[y];0===y&&t.lineTo(v[0],v[1]),t.bezierCurveTo(v[2],v[3],v[4],v[5],v[6],v[7])}break;case cn:if(y=m=0,null!==f&&f.type===ln){if(0===(v=(f=en(f,c)).length)){t.lineTo(g.endX,g.endY);break}null!==(f=f[v-1]||null)&&(m=f[6],y=f[7])}else m=null!==f?f.endX:c.startX,y=null!==f?f.endY:c.startY;if(0===(m=(f=nn(g,c,m,y)).length)){t.lineTo(g.endX,g.endY);break}for(y=0;y<m;y++)v=f[y],t.bezierCurveTo(v[2],v[3],v[4],v[5],v[6],v[7]);break;default:b("Segment not of valid type: "+g.type)}g.isClosed&&t.closePath(),f=g}h=c.isFilled,o?c.isShadowed?(!0===h&&"transparent"!==i&&null!==i&&t.sf(i),null!==n&&(h&&s&&us(t),t.si(),h&&s&&fs(t))):(us(t),h&&"transparent"!==i&&null!==i&&t.sf(i),null!==n&&t.si(),fs(t)):(h&&null!==i&&t.sf(i),null!==n&&t.si())}if(r&&t.Fr(),null!==this.pathPattern){if((n=this.pathPattern).measure(1/0,1/0),i=n.measuredBounds,n.arrange(0,0,i.width,i.height),o=this.geometry,t.save(),t.beginPath(),i=A(),o.type===We.j)i.push(o.startX),i.push(o.startY),i.push(o.endX),i.push(o.endY),Wl(t,e,i,n);else if(o.type===We.m)for(o=o.figures.iterator;o.next();){for(s=o.value,i.length=0,i.push(s.startX),i.push(s.startY),l=r=s.startX,u=a=s.startY,h=(c=s.segments.s).length,d=0;d<h;d++){switch((p=c[d]).type){case an:Wl(t,e,i,n),i.length=0,i.push(p.endX),i.push(p.endY),l=r=p.endX,u=a=p.endY;break;case on:i.push(p.endX),i.push(p.endY),r=p.endX,a=p.endY;break;case rn:Ue.De(r,a,p.point1X,p.point1Y,p.point2X,p.point2Y,p.endX,p.endY,.5,i),r=p.endX,a=p.endY;break;case sn:Ue.Go(r,a,p.point1X,p.point1Y,p.endX,p.endY,.5,i),r=p.endX,a=p.endY;break;case ln:if(0===(f=(g=en(p,s)).length)){i.push(p.centerX),i.push(p.centerY),r=p.centerX,a=p.centerY;break}for(m=0;m<f;m++)y=g[m],Ue.De(r,a,y[2],y[3],y[4],y[5],y[6],y[7],.5,i),r=y[6],a=y[7];break;case cn:if(0===(f=(g=nn(p,s,r,a)).length)){i.push(p.endX),i.push(p.endY),r=p.endX,a=p.endY;break}for(m=0;m<f;m++)y=g[m],Ue.De(r,a,y[2],y[3],y[4],y[5],y[6],y[7],.5,i),r=y[6],a=y[7];break;default:b("Segment not of valid type: "+p.type)}p.isClosed&&(i.push(l),i.push(u),Wl(t,e,i,n))}Wl(t,e,i,n)}else if(o.type===We.u)i.push(o.startX),i.push(o.startY),i.push(o.endX),i.push(o.startY),i.push(o.endX),i.push(o.endY),i.push(o.startX),i.push(o.endY),i.push(o.startX),i.push(o.startY),Wl(t,e,i,n);else if(o.type===We.F){if((a=new Qe).startX=o.endX,a.startY=(o.startY+o.endY)/2,(r=new tn(ln)).startAngle=0,r.sweepAngle=360,r.centerX=(o.startX+o.endX)/2,r.centerY=(o.startY+o.endY)/2,r.radiusX=Math.abs(o.startX-o.endX)/2,r.radiusY=Math.abs(o.startY-o.endY)/2,a.add(r),0===(s=(o=en(r,a)).length))i.push(r.centerX),i.push(r.centerY);else for(r=a.startX,a=a.startY,l=0;l<s;l++)u=o[l],Ue.De(r,a,u[2],u[3],u[4],u[5],u[6],u[7],.5,i),r=u[6],a=u[7];Wl(t,e,i,n)}E(i),t.restore(),t.Oc(!1)}}}},e.ia=function(t,e){if(void 0===e&&(e=new gt),t instanceof Fe){t.Fc()&&b("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var n=this.naturalBounds,i=this.strokeWidth;e.h(t.x*(n.width+i)-i/2+n.x+t.offsetX,t.y*(n.height+i)-i/2+n.y+t.offsetY)}else e.set(t);return this.ge.Fa(e),e},e.gi=function(t){void 0===t&&(t=new jt);var e=this.naturalBounds,n=this.ge;e=jt.allocAt(e.x,e.y,e.width,e.height);var i=this.strokeWidth;return e.vc(i/2,i/2),i=gt.allocAt(e.x,e.y).transform(n),t.h(i.x,i.y,0,0),i.h(e.right,e.y).transform(n),Gt(t,i.x,i.y,0,0),i.h(e.right,e.bottom).transform(n),Gt(t,i.x,i.y,0,0),i.h(e.x,e.bottom).transform(n),Gt(t,i.x,i.y,0,0),jt.free(e),gt.free(i),t},e.Xg=function(t,e){var n=this.geometry;if(null===n||null===this.fill&&null===this.stroke)return!1;var i=n.bounds,a=this.strokeWidth/2;n.type!==We.j||e||(a+=2);var o=jt.alloc();if(o.assign(i),o.vc(a+2,a+2),!o.ba(t))return jt.free(o),!1;if(i=a+1e-4,n.type===We.j)return null!==this.stroke&&(i=(n.endX-n.startX)*(t.x-n.startX)+(n.endY-n.startY)*(t.y-n.startY),!(0>(n.startX-n.endX)*(t.x-n.endX)+(n.startY-n.endY)*(t.y-n.endY)||0>i)&&(jt.free(o),Ue.Tb(n.startX,n.startY,n.endX,n.endY,a,t.x,t.y)));if(n.type===We.u){e=n.startX;var r=n.startY,s=n.endX;if(n=n.endY,o.x=Math.min(e,s),o.y=Math.min(r,n),o.width=Math.abs(s-e),o.height=Math.abs(n-r),null===this.fill){if(o.vc(-i,-i),o.ba(t))return jt.free(o),!1;o.vc(i,i)}return null!==this.stroke&&o.vc(a,a),t=o.ba(t),jt.free(o),t}if(n.type===We.F){r=n.startX,a=n.startY,s=n.endX;var l=n.endY;if(n=Math.min(r,s),e=Math.min(a,l),r=Math.abs(s-r)/2,a=Math.abs(l-a)/2,n=t.x-(n+r),e=t.y-(e+a),null===this.fill){if(a-=i,0>=(r-=i)||0>=a||1>=n*n/(r*r)+e*e/(a*a))return jt.free(o),!1;r+=i,a+=i}return null!==this.stroke&&(r+=i,a+=i),jt.free(o),!(0>=r||0>=a)&&1>=n*n/(r*r)+e*e/(a*a)}if(n.type===We.m)return jt.free(o),null===this.fill?Ze(n,t.x,t.y,a):Xe(n,t,a,1<this.strokeWidth,e);b("Unknown Geometry type: "+n.type)},e.El=function(t,e,n,i){var a=this.desiredSize,o=this.ag;if(t=Math.max(t,0),e=Math.max(e,0),null!==this.Hd)var r=this.geometry.bounds;else{var s=this.figure,l=Ql[s];if(void 0===l){var c=Ue.Oe[s];"string"==typeof c&&(c=Ue.Oe[c]),"function"==typeof c?(l=c(null,100,100),Ql[s]=l):b("Unsupported Figure: "+s)}r=l.bounds}s=r.width,l=r.height,c=r.width;var h=r.height;switch(Fr(this,!0)){case lr:i=n=0;break;case sr:c=Math.max(t-o,0),h=Math.max(e-o,0);break;case hr:c=Math.max(t-o,0),i=0;break;case dr:n=0,h=Math.max(e-o,0)}isFinite(a.width)&&(c=a.width),isFinite(a.height)&&(h=a.height),r=this.maxSize;var d=this.minSize;switch(n=Math.max(n-o,d.width),i=Math.max(i-o,d.height),c=Math.min(r.width,c),h=Math.min(r.height,h),c=isFinite(c)?Math.max(n,c):Math.max(s,n),h=isFinite(h)?Math.max(i,h):Math.max(l,i),n=ql(this)){case lr:break;case sr:s=c,l=h;break;case cr:n=Math.min(c/s,h/l),isFinite(n)||(n=1),s*=n,l*=n;break;default:b(n+" is not a valid geometryStretch.")}null!==this.Hd?(0===s&&(s=.001),0===l&&(l=.001),i=s/(r=(n=null!==this.Hd?this.Hd:this.ua).bounds).width,r=l/r.height,isFinite(i)||(i=1),isFinite(r)||(r=1),this.ua=1===i&&1===r?n:n.copy().scale(i,r)):null!==this.ua&&Ue.ca(this.ua.Gk,t-o)&&Ue.ca(this.ua.Fk,e-o)||(this.ua=Gl.makeGeometry(this,s,l)),r=this.ua.bounds,1/0===t||1/0===e?this.ve(r.x-o/2,r.y-o/2,0===t&&0===s?0:r.width+o,0===e&&0===l?0:r.height+o):this.ve(-o/2,-o/2,c+o,h+o),a.v()?this.bc.h(0,0,a.width,a.height):this.bc.assign(r)},e.Vg=function(t,e,n,i){Cr(this,t,e,n,i)},e.Pr=function(t,e,n){return this.Kj(t.x,t.y,e.x,e.y,n)},e.Kj=function(t,e,n,i,a){var o=this.transform,r=1/(o.m11*o.m22-o.m12*o.m21),s=o.m22*r,l=-o.m12*r,c=-o.m21*r,h=o.m11*r,d=r*(o.m21*o.dy-o.m22*o.dx),u=r*(o.m12*o.dx-o.m11*o.dy);o=t*s+e*c+d,r=t*l+e*h+u,s=n*s+i*c+d,l=n*l+i*h+u,d=this.ag/2,null===(c=this.ua)&&(this.measure(1/0,1/0),c=this.ua);var f=c.bounds;if(h=!1,c.type===We.j)if(1.5>=this.strokeWidth)h=Ue.Je(c.startX,c.startY,c.endX,c.endY,o,r,s,l,a);else{if(c.startX===c.endX?(i=d,h=0):(e=(c.endY-c.startY)/(c.endX-c.startX),i=(h=d/Math.sqrt(1+e*e))*e),e=A(),t=new gt,Ue.Je(c.startX+i,c.startY+h,c.endX+i,c.endY+h,o,r,s,l,t)&&e.push(t),t=new gt,Ue.Je(c.startX-i,c.startY-h,c.endX-i,c.endY-h,o,r,s,l,t)&&e.push(t),t=new gt,Ue.Je(c.startX+i,c.startY+h,c.startX-i,c.startY-h,o,r,s,l,t)&&e.push(t),t=new gt,Ue.Je(c.endX+i,c.endY+h,c.endX-i,c.endY-h,o,r,s,l,t)&&e.push(t),0===(s=e.length))return E(e),!1;for(h=!0,l=1/0,i=0;i<s;i++)(n=((t=e[i]).x-o)*(t.x-o)+(t.y-r)*(t.y-r))<l&&(l=n,a.x=t.x,a.y=t.y);E(e)}else if(c.type===We.u)h=Ue.wf(f.x-d,f.y-d,f.x+f.width+d,f.y+f.height+d,o,r,s,l,a);else if(c.type===We.F){t:if(0===(e=jt.allocAt(f.x,f.y,f.width,f.height).vc(d,d)).width)h=Ue.Je(e.x,e.y,e.x,e.y+e.height,o,r,s,l,a);else if(0===e.height)h=Ue.Je(e.x,e.y,e.x+e.width,e.y,o,r,s,l,a);else{if(t=e.width/2,c=e.height/2,i=e.x+t,h=e.y+c,n=9999,o!==s&&(n=(r-l)/(o-s)),9999>Math.abs(n)){if(0>t*t*n*n+c*c-(l=r-h-n*(o-i))*l){a.x=NaN,a.y=NaN,h=!1;break t}s=(-t*t*n*l+t*c*(d=Math.sqrt(t*t*n*n+c*c-l*l)))/(c*c+t*t*n*n)+i,t=(-t*t*n*l-t*c*d)/(c*c+t*t*n*n)+i,c=n*(s-i)+l+h,l=n*(t-i)+l+h,Math.abs((o-s)*(o-s))+Math.abs((r-c)*(r-c))<Math.abs((o-t)*(o-t))+Math.abs((r-l)*(r-l))?(a.x=s,a.y=c):(a.x=t,a.y=l)}else{if(s=c*c,0>(s-=s/(t*t)*(l=o-i)*l)){a.x=NaN,a.y=NaN,h=!1;break t}s=h+(l=Math.sqrt(s)),l=h-l,Math.abs(s-r)<Math.abs(l-r)?(a.x=o,a.y=s):(a.x=o,a.y=l)}h=!0}jt.free(e)}else if(c.type===We.m){u=gt.alloc();var p=s-o,g=l-r,m=p*p+g*g,y=o,v=r;if(0<m&&f.contains(y,v)&&(u.x=y,u.y=v,this.ba(u)))for(0!==p&&.5>Math.abs(p)?(g*=.5/p,p=.5):0!==g&&.5>Math.abs(g)&&(p*=.5/g,g=.5),y-=p,v-=g;f.contains(y,v);)y-=p,v-=g;for(a.x=s,a.y=l,g=0;g<c.figures.count;g++)for(var w=c.figures.s[g],x=w.isFilled?y:o,S=w.isFilled?v:r,k=w.segments,P=f=w.startX,M=p=w.startY,_=0;_<k.count;_++){var L=k.s[_],T=L.type,O=L.endX,C=L.endY,N=!1;switch(T){case an:P=O,M=C;break;case on:N=Xl(f,p,O,C,x,S,s,l,u);break;case rn:N=Ue.io(f,p,L.point1X,L.point1Y,L.point2X,L.point2Y,O,C,x,S,s,l,.6,u);break;case sn:N=Ue.io(f,p,f+2/3*(L.point1X-f),p+2/3*(L.point1Y-p),O+2/3*(L.point1X-O),C+2/3*(L.point1Y-C),O,C,x,S,s,l,.6,u);break;case ln:case cn:var B=(T=L.type===ln?en(L,w):nn(L,w,f,p)).length;if(0===B){N=Xl(f,p,L.type===ln?L.centerX:L.endX,L.type===ln?L.centerY:L.endY,x,S,s,l,u);break}for(C=null,O=0;O<B;O++){if(C=T[O],0===O&&Xl(f,p,C[0],C[1],x,S,s,l,u)){var j=Yl(x,S,u,m,a);j<m&&(m=j,h=!0)}Ue.io(C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],x,S,s,l,.6,u)&&((j=Yl(x,S,u,m,a))<m&&(m=j,h=!0))}O=C[6],C=C[7];break;default:b("Unknown Segment type: "+T)}f=O,p=C,N&&((N=Yl(x,S,u,m,a))<m&&(m=N,h=!0)),L.isClosed&&(Xl(f,p,O=P,C=M,x,S,s,l,u)&&((L=Yl(x,S,u,m,a))<m&&(m=L,h=!0)))}o=n-t,r=i-e,0!==(s=Math.sqrt(o*o+r*r))&&(o/=s,r/=s),a.x-=o*d,a.y-=r*d,gt.free(u)}else b("Unknown Geometry type: "+c.type);return!!h&&(this.transform.Fa(a),!0)},e.Wg=function(t,e){if(void 0===e)return t.Ee(this.actualBounds);var n=this.ua;null===n&&(this.measure(1/0,1/0),n=this.ua),n=n.bounds;var i=this.strokeWidth/2,a=!1,o=gt.alloc();return o.h(n.x-i,n.y-i),t.ba(e.Fa(o))&&(o.h(n.x-i,n.bottom+i),t.ba(e.Fa(o))&&(o.h(n.right+i,n.bottom+i),t.ba(e.Fa(o))&&(o.h(n.right+i,n.y-i),t.ba(e.Fa(o))&&(a=!0)))),gt.free(o),a},e.Sc=function(t,e){if(this.Wg(t,e)||void 0===e&&(e=this.transform,t.Ee(this.actualBounds)))return!0;var n=Ve.alloc();n.set(e),n.Ur();var i=t.left,a=t.right,o=t.top;t=t.bottom;var r=gt.alloc();if(r.h(i,o),n.Fa(r),this.Xg(r,!0))return gt.free(r),!0;if(r.h(a,o),n.Fa(r),this.Xg(r,!0))return gt.free(r),!0;if(r.h(i,t),n.Fa(r),this.Xg(r,!0))return gt.free(r),!0;if(r.h(a,t),n.Fa(r),this.Xg(r,!0))return gt.free(r),!0;var s=gt.alloc(),l=gt.alloc();return n.set(e),n.Nu(this.transform),n.Ur(),s.x=a,s.y=o,s.transform(n),r.x=i,r.y=o,r.transform(n),e=!1,Kl(this,r,s,l)?e=!0:(r.x=a,r.y=t,r.transform(n),Kl(this,r,s,l)?e=!0:(s.x=i,s.y=t,s.transform(n),Kl(this,r,s,l)?e=!0:(r.x=i,r.y=o,r.transform(n),Kl(this,r,s,l)&&(e=!0)))),gt.free(r),Ve.free(n),gt.free(s),gt.free(l),e},e.Vw=function(t,e,n){function i(t,e){for(var n=t.length,i=0;i<n;i+=2)if(e.td(t[i],t[i+1])>a)return!0;return!1}if(n&&null!==this.fill&&this.Xg(t,!0))return!0;var a=t.rf(e),o=a;if(1.5<this.strokeWidth&&(a=this.strokeWidth/2+Math.sqrt(a),a*=a),null===(e=this.ua)&&(this.measure(1/0,1/0),null===(e=this.ua)))return!1;if(!n){var r=e.bounds,s=r.x,l=r.y,c=r.x+r.width;if(r=r.y+r.height,bt(t.x,t.y,s,l)<=a&&bt(t.x,t.y,c,l)<=a&&bt(t.x,t.y,s,r)<=a&&bt(t.x,t.y,c,r)<=a)return!0}if(s=e.startX,l=e.startY,c=e.endX,r=e.endY,e.type===We.j){if(n=(s-c)*(t.x-c)+(l-r)*(t.y-r),xt(t.x,t.y,s,l,c,r)<=(0<=(c-s)*(t.x-s)+(r-l)*(t.y-l)&&0<=n?a:o))return!0}else{if(e.type===We.u)return e=!1,n&&(e=xt(t.x,t.y,s,l,s,r)<=a||xt(t.x,t.y,s,l,c,l)<=a||xt(t.x,t.y,c,l,c,r)<=a||xt(t.x,t.y,s,r,c,r)<=a),e;if(e.type===We.F){e=t.x-(s+c)/2,o=t.y-(l+r)/2;var h=Math.abs(c-s)/2,d=Math.abs(r-l)/2;if(0===h||0===d)return xt(t.x,t.y,s,l,c,r)<=a;if(!n)return!(bt(e,o,-h,0)>=a||bt(e,o,0,-d)>=a||bt(e,o,0,d)>=a||bt(e,o,h,0)>=a);if((t=Ue.Hy(h,d,e,o))*t<=a)return!0}else if(e.type===We.m){if(o=(c=e.bounds).x,s=c.y,l=c.x+c.width,c=c.y+c.height,t.x>l&&t.x<o&&t.y>c&&t.y<s&&xt(t.x,t.y,o,s,o,c)>a&&xt(t.x,t.y,o,s,l,s)>a&&xt(t.x,t.y,l,c,o,c)>a&&xt(t.x,t.y,l,c,l,s)>a)return!1;if(o=Math.sqrt(a),!n){for(n=e.figures,e=0;e<n.count;e++){if(r=(o=n.s[e]).startX,h=o.startY,t.td(r,h)>a)return!1;for(l=(s=o.segments.s).length,c=0;c<l;c++)switch(d=s[c],d.type){case an:case on:if(r=d.endX,h=d.endY,t.td(r,h)>a)return!1;break;case rn:var u=A();if(Ue.De(r,h,d.point1X,d.point1Y,d.point2X,d.point2Y,d.endX,d.endY,.8,u),r=i(u,t),E(u),r)return!1;if(r=d.endX,h=d.endY,t.td(r,h)>a)return!1;break;case sn:if(u=A(),Ue.Go(r,h,d.point1X,d.point1Y,d.endX,d.endY,.8,u),r=i(u,t),E(u),r)return!1;if(r=d.endX,h=d.endY,t.td(r,h)>a)return!1;break;case ln:case cn:var f=(u=d.type===ln?en(d,o):nn(d,o,r,h)).length;if(0===f){if(r=d.type===ln?d.centerX:d.endX,h=d.type===ln?d.centerY:d.endY,t.td(r,h)>a)return!1;break}d=null;for(var p=A(),g=0;g<f;g++)if(d=u[g],p.length=0,Ue.De(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],.8,p),i(p,t))return E(p),!1;E(p),null!==d&&(r=d[6],h=d[7]);break;default:b("Unknown Segment type: "+d.type)}}return!0}if(null===this.fill?Ze(e,t.x,t.y,o):Xe(e,t,o,!0,!1))return!0}}return!1},e.mc=function(){this.ua=null},e.Sv=function(){return this.ag},Gl.makeGeometry=function(t,e,n){if("None"!==t.toArrow)var i=Jl[t.toArrow];else"None"!==t.fromArrow?i=Jl[t.fromArrow]:("string"==typeof(i=Ue.Oe[t.figure])&&(i=Ue.Oe[i]),void 0===i&&b("Unknown Shape.figure: "+t.figure),(i=i(t,e,n)).Gk=e,i.Fk=n);if(null===i){var a=Ue.Oe.Rectangle;"function"==typeof a&&(i=a(t,e,n))}return i},u.Object.defineProperties(Gl.prototype,{geometry:{get:function(){return null!==this.ua?this.ua:this.Hd},set:function(t){var e=this.ua,n=this.Hd;if(e!==t){this.Hd=this.ua=null!==t?t.freeze():null;var i=this.part;null!==i&&(i.Sf=NaN),this.w(),this.g("geometry",e||n,t),Hr(this)&&(null!==(t=this.part)&&Ar(this,t,"geometryString"))}}},geometryString:{get:function(){return null===this.geometry?"":this.geometry.toString()},set:function(t){var e=(t=We.parse(t)).normalize();this.geometry=t,this.position=t=gt.allocAt(-e.x,-e.y),gt.free(t)}},isGeometryPositioned:{get:function(){return 0!=(1048576&this.o)},set:function(t){var e=0!=(1048576&this.o);e!==t&&(this.o^=1048576,this.w(),this.g("isGeometryPositioned",e,t))}},fill:{get:function(){return this.zk},set:function(t){var e=this.zk;e!==t&&(null!==t&&As(t,"Shape.fill"),t instanceof vs&&t.freeze(),this.zk=t,this.N(),this.g("fill",e,t))}},stroke:{get:function(){return this.Nc},set:function(t){var e=this.Nc;e!==t&&(null!==t&&As(t,"Shape.stroke"),t instanceof vs&&t.freeze(),this.Nc=t,this.N(),this.g("stroke",e,t))}},strokeWidth:{get:function(){return this.ag},set:function(t){var e=this.ag;if(e!==t)if(0<=t){this.ag=t,this.w();var n=this.part;null!==n&&(n.Sf=NaN),this.g("strokeWidth",e,t)}else k(t,"value >= 0",Gl,"strokeWidth:value")}},strokeCap:{get:function(){return null!==this.Na?this.Na.dr:"butt"},set:function(t){var e=this.strokeCap;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?k(t,'"butt", "round", or "square"',Gl,"strokeCap"):(Ul(this),this.Na.dr=t,this.N(),this.g("strokeCap",e,t)))}},strokeJoin:{get:function(){return null!==this.Na?this.Na.er:"miter"},set:function(t){var e=this.strokeJoin;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?k(t,'"miter", "bevel", or "round"',Gl,"strokeJoin"):(Ul(this),this.Na.er=t,this.N(),this.g("strokeJoin",e,t)))}},strokeMiterLimit:{get:function(){return null!==this.Na?this.Na.fr:10},set:function(t){var e=this.strokeMiterLimit;if(e!==t&&1<=t){Ul(this),this.Na.fr=t,this.N();var n=this.part;null!==n&&(n.Sf=NaN),this.g("strokeMiterLimit",e,t)}}},strokeDashArray:{get:function(){return this.Og},set:function(t){var e=this.Og;if(e!==t){if(null!==t){for(var n=t.length,i=0,a=0;a<n;a++){var o=t[a];0<=o&&isFinite(o)||b("strokeDashArray:value "+o+" at index "+a+" must be a positive number or zero."),i+=o}if(0===i){if(null===e)return;t=null}}this.Og=t,this.N(),this.g("strokeDashArray",e,t)}}},strokeDashOffset:{get:function(){return null!==this.Na?this.Na.pj:0},set:function(t){var e=this.strokeDashOffset;e!==t&&0<=t&&(Ul(this),this.Na.pj=t,this.N(),this.g("strokeDashOffset",e,t))}},figure:{get:function(){return this.Jm},set:function(t){var e=this.Jm;if(e!==t){var n=Ue.Oe[t];"function"==typeof n?n=t:(n=Ue.Oe[t.toLowerCase()])||b("Unknown Shape.figure: "+t),e!==n&&(null!==(t=this.part)&&(t.Sf=NaN),this.Jm=n,this.Hd=null,this.mc(),this.w(),this.g("figure",e,n))}}},toArrow:{get:function(){return null!==this.Ra?this.Ra.W:"None"},set:function(t){var e=this.toArrow;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var n=$l(t);null===n?b("Unknown Shape.toArrow: "+t):e!==n&&(null===this.Ra&&(this.Ra=new is),this.Ra.W=n,this.Hd=null,this.mc(),this.w(),Zl(this),this.g("toArrow",e,n))}}},fromArrow:{get:function(){return null!==this.Ra?this.Ra.j:"None"},set:function(t){var e=this.fromArrow;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var n=$l(t);null===n?b("Unknown Shape.fromArrow: "+t):e!==n&&(null===this.Ra&&(this.Ra=new is),this.Ra.j=n,this.Hd=null,this.mc(),this.w(),Zl(this),this.g("fromArrow",e,n))}}},spot1:{get:function(){return null!==this.Na?this.Na.Yf:Me},set:function(t){var e=this.spot1;e.C(t)||(t=t.J(),Ul(this),this.Na.Yf=t,this.w(),this.g("spot1",e,t))}},spot2:{get:function(){return null!==this.Na?this.Na.Zf:Me},set:function(t){var e=this.spot2;e.C(t)||(t=t.J(),Ul(this),this.Na.Zf=t,this.w(),this.g("spot2",e,t))}},parameter1:{get:function(){return this.Cn},set:function(t){var e=this.Cn;e!==t&&(this.Cn=t,this.mc(),this.w(),this.g("parameter1",e,t))}},parameter2:{get:function(){return this.Dn},set:function(t){var e=this.Dn;e!==t&&(this.Dn=t,this.mc(),this.w(),this.g("parameter2",e,t))}},naturalBounds:{get:function(){return this.bc}},pathPattern:{get:function(){return null!==this.Na?this.Na.Aq:null},set:function(t){var e=this.pathPattern;e!==t&&(Ul(this),this.Na.Aq=t,this.N(),this.g("pathPattern",e,t))}},geometryStretch:{get:function(){return null!==this.Na?this.Na.Mp:ur},set:function(t){var e=this.geometryStretch;e!==t&&(Ul(this),this.Na.Mp=t,this.w(),this.g("geometryStretch",e,t))}},interval:{get:function(){return null!==this.fa?this.fa.Hk:1},set:function(t){var e=this.interval;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){null===this.fa&&(this.fa=new Cc),this.fa.Hk=t;var n=this.diagram;null!==n&&this.panel===n.grid&&po(n),this.w(),null!==(n=this.panel)&&(n.graduatedIntervals=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return null!==this.fa?this.fa.u:0},set:function(t){var e=this.graduatedStart;e!==t&&(0>t?t=0:1<t&&(t=1),null===this.fa&&(this.fa=new Cc),this.fa.u=t,this.w(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return null!==this.fa?this.fa.j:1},set:function(t){var e=this.graduatedEnd;e!==t&&(0>t?t=0:1<t&&(t=1),null===this.fa&&(this.fa=new Cc),this.fa.j=t,this.w(),this.g("graduatedEnd",e,t))}},graduatedSkip:{get:function(){return null!==this.fa?this.fa.m:null},set:function(t){var e=this.graduatedSkip;e!==t&&(null===this.fa&&(this.fa=new Cc),this.fa.m=t,this.w(),this.g("graduatedSkip",e,t))}}}),Gl.prototype.intersectsRect=Gl.prototype.Sc,Gl.prototype.containedInRect=Gl.prototype.Wg,Gl.prototype.getNearestIntersectionPoint=Gl.prototype.Pr,Gl.prototype.getDocumentBounds=Gl.prototype.gi,Gl.prototype.getDocumentPoint=Gl.prototype.ia;var Jl=new U,Ql=new U;function tc(){this.ic=!1,this.dr="butt",this.er="miter",this.fr=10,this.pj=0,this.Aq=null,this.Mp=ur,this.Zf=this.Yf=Me}function ec(t,e){return Tr.call(this),Ac||(Oc=jo?new ps(null).context:null,Ac=!0),this.o|=2097152,this.cc="",this.Nc="black",this.re="13px sans-serif",this.kq=this.yb=this.dd=0,this.da=this.fa=this.om=this.rt=this.st=null,this.zh=0,this.Te=null,this.Ae=0,this.qe=this.Wb=this.Jc=null,"string"==typeof t?this.text=t:t&&Object.assign(this,t),e&&Object.assign(this,e),this}function nc(t){null===t.da?t.da=new Ec:t.da.ic&&(t.da=t.da.copy())}function ic(t,e){t.o=6144|e.o,t.tb=e.opacity,t.Yb=e.background,t.areaBackground=e.areaBackground,t.$c=e.desiredSize.J(),t.minSize=e.minSize.J(),t.maxSize=e.maxSize.J(),null!==e.Ib?t.Ib=e.Ib.copy():t.Ib=null,t.xa=e.scale,t.Gb=e.angle,t.stretch=e.stretch,t.Ag=e.margin.J(),t.Fb=e.alignment.J(),t.ek=e.alignmentFocus.J(),t.segmentFraction=e.segmentFraction,t.segmentOffset=e.segmentOffset.J(),t.segmentOrientation=e.segmentOrientation,null!==e.ib&&(t.ib=e.ib.copy()),t.shadowVisible=e.shadowVisible,t.cc=e.cc,t.Nc=e.Nc,t.re=e.re,null!==t.fa&&(t.fa=e.fa.copy()),null!==e.da&&(t.da=e.da.ic?e.da:e.da.copy()),t.zh=e.zh}function ac(t,e,n){null===t.qe?(t.qe=e,t.yb=n):(null!==t.Wb&&null!==t.Jc||(t.Wb=[],t.Jc=[],t.Wb.push(t.qe),t.Jc.push(t.yb)),t.Wb.push(e),t.Jc.push(n))}function oc(t,e,n,i){var a=t.formatting===xc;a&&(e=e.trim());var o=0,r=t.re,s=t.spacingAbove+t.spacingBelow;s=Math.max(0,lc(t)+s);var l=t.overflow===wc?cc(r):0;if(t.dd>=t.maxLines)null!==i&&i.h(0,s);else if(r=e,t.wrap===pc){t.Ae=1;var c=sc(e);if(0===l||c<=n)t.yb=Math.max(t.yb,c),ac(t,e,t.yb),null!==i&&i.h(c,s);else{for(c=sc((o=rc(t,r))+(e=rc(t,r=r.substr(o.length))));0<e.length&&c<=n;)c=(o+=e)+(e=rc(t,r=r.substr(e.length))),a&&(c=c.trim()),c=sc(c);for(a&&(e=e.trim()),o+=e,n=Math.max(1,n-l);sc(o)>n&&1<o.length;)o=o.substr(0,o.length-1);var h=sc(o+=Lc);t.yb=h,ac(t,o,h),null!==i&&i.h(h,s)}}else{for(l=0,0===r.length&&(l=1,ac(t,r,0));0<r.length;){for(e=rc(t,r),r=r.substr(e.length);sc(e)>n;){var d=1;for(c=sc(e.substr(0,d)),h=0;c<=n;)d++,h=c,c=sc(e.substr(0,d));if(1===d){var u=c;o=Math.max(o,c)}else u=h,o=Math.max(o,h);if(1>--d&&(d=1),ac(t,e.substr(0,d),u),l++,e=e.substr(d),t.dd+l>t.maxLines)break}for(c=sc(e+(h=rc(t,r)));0<h.length&&c<=n;)c=(e+=h)+(h=rc(t,r=r.substr(h.length))),a&&(c=c.trim()),c=sc(c);if(a&&(e=e.trim()),""!==e&&("­"===e[e.length-1]&&(e=e.substring(0,e.length-1)+"‐"),0===h.length?(d=c,o=Math.max(o,c)):(d=h=sc(e),o=Math.max(o,h)),ac(t,e,d),l++,t.dd+l>t.maxLines))break}t.Ae=Math.min(t.maxLines,l),t.yb=Math.max(t.yb,o),null!==i&&i.h(t.yb,s*t.Ae)}}function rc(t,e){if(t.wrap===yc)return e.substr(0,1);for(var n=e.length,i=0,a=Sc;i<n&&!a.test(e.charAt(i));)i++;for(t.formatting===bc&&(n=Math.min(n,i+1));i<n&&a.test(e.charAt(i));)i++;return i>=e.length?e:e.substr(0,i)}function sc(t){return null===Oc?8*t.length:Oc.measureText(t).width}function lc(t){if(null!==t.Te)return t.Te;var e=t.re;if(null===Oc){var n=16;return t.Te=n}return void 0!==kc[e]&&5e3>Pc?n=kc[e]:(n=1.3*Oc.measureText("M").width,kc[e]=n,Pc++),t.Te=n}function cc(t){if(null===Oc)return 6;if(void 0!==Mc[t]&&5e3>_c)var e=Mc[t];else e=Oc.measureText(Lc).width,Mc[t]=e,_c++;return e}function hc(t,e){var n=t.cc.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),i=t.spacingAbove+t.spacingBelow;if(i=Math.max(0,lc(t)+i),0===n.length)return t.yb=0,t.dd=1,i;if(!t.isMultiline){var a=n.indexOf("\n",0);0<=a&&(n=n.substr(0,a))}a=0;for(var o,r=t.dd=0,s=!1;!s;){if(-1===(o=n.indexOf("\n",r))&&(o=n.length,s=!0),r<=o){if(r=n.substr(r,o-r),t.wrap!==pc){t.Ae=0;var l=Et.alloc();oc(t,r,e,l),a+=l.height,Et.free(l),t.dd+=t.Ae}else oc(t,r,e,null),a+=i,t.dd++;t.dd===t.maxLines&&(s=!0)}r=o+1}return t.kq=a}Gl.className="Shape",Gl.getFigureGenerators=function(){var t,e=new pt;for(t in Ue.Oe)t!==t.toLowerCase()&&e.add(t,Ue.Oe[t]);return e.freeze(),e},Gl.defineFigureGenerator=function(t,e){var n=t.toLowerCase(),i=Ue.Oe;i[t]=e,i[n]=t},Gl.getArrowheadGeometries=function(){var t=new pt;for(i in Ue.dm)if(void 0===Jl[i]){var e=We.parse(Ue.dm[i],!1);Jl[i]=e,(e=i.toLowerCase())!==i&&(Jl[e]=i)}for(var n in Jl)if(n!==n.toLowerCase()){var i=Jl[n];i instanceof We&&t.add(n,i)}return t.freeze(),t},Gl.defineArrowheadGeometry=function(t,e){var n=null;n="string"==typeof e?We.parse(e,!1):e,"none"!==(e=t.toLowerCase())&&t!==e||b("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var i=Jl;i[t]=n,i[e]=t},tc.prototype.copy=function(){var t=new tc;return t.dr=this.dr,t.er=this.er,t.fr=this.fr,t.pj=this.pj,t.Aq=this.Aq,t.Mp=this.Mp,t.Yf=this.Yf.J(),t.Zf=this.Zf.J(),t},d(ec,Tr),ec.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.cc=this.cc,t.Nc=this.Nc,t.re=this.re,t.dd=this.dd,t.yb=this.yb,t.kq=this.kq,t.st=this.st,t.rt=this.rt,t.om=this.om,null!==this.fa&&(t.fa=this.fa.copy()),null!==this.da&&(t.da=this.da.ic?this.da:this.da.copy()),t.zh=this.zh,t.Te=this.Te,t.Ae=this.Ae,t.Jc=this.Jc,t.Wb=this.Wb,t.qe=this.qe},(e=ec.prototype).ih=function(){Tr.prototype.ih.call(this),null!==this.da&&(this.da.ic=!0)},e.ob=function(t){t.classType===ec?this.wrap=t:Tr.prototype.ob.call(this,t)},e.toString=function(){return 22<this.cc.length?'TextBlock("'+this.cc.substring(0,20)+'"...)':'TextBlock("'+this.cc+'")'},e.w=function(){Tr.prototype.w.call(this),this.rt=this.st=null},e.ai=function(t,e){if(null!==this.Nc&&0!==this.cc.length&&null!==this.re){var n=this.naturalBounds,i=this.actualBounds,a=n.width,o=n.height,r=lc(this),s=t.textAlign=this.textAlign,l=e.$m;"start"===s?s=l?"right":"left":"end"===s&&(s=l?"left":"right"),l=this.isUnderline;var c=this.isStrikethrough;Br(this,t,this.Nc,!0,!1,n,i),(l||c)&&Br(this,t,this.Nc,!1,!1,n,i),i=0,n=!1;var h=this.ge,d=h.dx-(r*h.m21+h.dx);h=h.dy-(r*h.m22+h.dy);var u=e.scale;switch(8>(d*d+h*h)*u*u&&(n=!0),e.Zb!==t&&(n=!1),!1===e.Ge("textGreeking")&&(n=!1),e=this.spacingAbove,d=this.spacingBelow,this.flip){case gr:t.translate(a,0),t.scale(-1,1);break;case pr:t.translate(0,o),t.scale(1,-1);break;case mr:t.translate(a,o),t.scale(-1,-1)}if(t.Pc(),o>(u=(e+r+d)*(h=this.dd))&&(i=(i=this.verticalAlignment).y*o-i.y*u+i.offsetY),1===h&&null!==this.qe)(d=this.yb)>a&&(d=a),this.$h(this.qe,t,0,i+e,a,r,d,n,s,l,c);else if(null!==this.Jc&&null!==this.Wb)for(u=0;u<h;u++){var f=this.Jc[u];f>a&&(f=a),i+=e,this.$h(this.Wb[u],t,0,i,a,r,f,n,s,l,c),i+=r+d}switch(this.flip){case gr:t.scale(-1,1),t.translate(-a,0);break;case pr:t.scale(1,-1),t.translate(0,-o);break;case mr:t.scale(-1,-1),t.translate(-a,-o)}}},e.$h=function(t,e,n,i,a,o,r,s,l,c,h){var d=0;s?("left"===l?d=0:"right"===l?d=a-r:"center"===l&&(d=(a-r)/2),e.fillRect(n+d,i+.25*o,r,1)):("left"===l?d=0:"right"===l?d=a:"center"===l&&(d=a/2),a=null!==uc?uc(this,o):.75*o,e.fillText(t,n+d,i+a),0===(t=o/20|0)&&(t=1),"right"===l?d-=r:"center"===l&&(d-=r/2),c&&(l=null!==fc?fc(this,o):.8*o,e.beginPath(),e.lineWidth=t,e.moveTo(n+d,i+l),e.lineTo(n+d+r,i+l),e.stroke()),h&&(e.beginPath(),e.lineWidth=t,i=i+o-o/2.2|0,0!=t%2&&(i+=.5),e.moveTo(n+d,i),e.lineTo(n+d+r,i),e.stroke()))},e.El=function(t,e,n,i){this.zh=t;var a,o=this.re;if(null!==Oc&&Tc!==o&&(Tc=Oc.font=o),this.yb=this.Ae=0,this.qe=this.Wb=this.Jc=this.Te=null,isNaN(this.desiredSize.width)){if(0===(o=this.cc.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length)o=0;else if(this.isMultiline){for(var r=a=0,s=!1;!s;){var l=o.indexOf("\n",r);-1===l&&(l=o.length,s=!0),r=o.substr(r,l-r),this.formatting===xc&&(r=r.trim()),a=Math.max(a,sc(r)),r=l+1}o=a}else 0<=(a=o.indexOf("\n",0))&&(o=o.substr(0,a)),o=sc(o);o=Math.min(o,t/this.scale),o=Math.max(8,o)}else o=this.desiredSize.width;if(null!==this.panel&&(o=Math.min(o,this.panel.maxSize.width)),a=hc(this,o),s=a=isNaN(this.desiredSize.height)?Math.min(a,e/this.scale):this.desiredSize.height,0!==this.yb&&null!==this.Jc&&null!==this.Wb&&this.overflow===wc&&(e=this.re,e=this.overflow===wc?cc(e):0,l=this.spacingAbove+this.spacingBelow,l=Math.max(0,lc(this)+l),!((s=Math.min(this.maxLines-1,Math.max(Math.floor(s/l+.01)-1,0)))+1>=this.Wb.length))){for(l=this.Wb[s],e=Math.max(1,t-e);sc(l)>e&&1<l.length;)l=l.substr(0,l.length-1);e=sc(l+=Lc),this.Wb[s]=l,this.Wb=this.Wb.slice(0,s+1),this.Jc[s]=e,this.Jc=this.Jc.slice(0,s+1),this.Ae=this.Wb.length,this.yb=Math.max(this.yb,e),this.dd=this.Ae,1===this.dd&&(this.qe=this.Wb[0])}(this.wrap===gc||isNaN(this.desiredSize.width))&&(o=isNaN(t)?this.yb:Math.min(t,this.yb),isNaN(this.desiredSize.width)&&(o=Math.max(8,o))),o=Math.max(n,o),a=Math.max(i,a),Dt(this.bc,o,a),this.ve(0,0,o,a)},e.Vg=function(t,e,n,i){Cr(this,t,e,n,i)},u.Object.defineProperties(ec.prototype,{font:{get:function(){return this.re},set:function(t){var e=this.re;e!==t&&(this.re=t,this.Te=null,this.w(),this.g("font",e,t))}},text:{get:function(){return this.cc},set:function(t){var e=this.cc;e!==(t=null!=t?t.toString():"")&&(this.cc=t,this.w(),this.g("text",e,t))}},textAlign:{get:function(){return null!==this.da?this.da.mr:"start"},set:function(t){var e=this.textAlign;e===t||"start"!==t&&"end"!==t&&"left"!==t&&"right"!==t&&"center"!==t||(nc(this),this.da.mr=t,this.N(),this.g("textAlign",e,t))}},flip:{get:function(){return null!==this.da?this.da.Nf:lr},set:function(t){var e=this.flip;e!==t&&(nc(this),this.da.Nf=t,this.N(),this.g("flip",e,t))}},verticalAlignment:{get:function(){return null!==this.da?this.da.xr:Te},set:function(t){var e=this.verticalAlignment;e.C(t)||(t=t.J(),nc(this),this.da.xr=t,Dr(this),this.g("verticalAlignment",e,t))}},naturalBounds:{get:function(){if(!this.bc.v()){var t=Et.alloc();oc(this,this.cc,999999,t);var e=t.width;Et.free(t),t=hc(this,e);var n=this.desiredSize;isNaN(n.width)||(e=n.width),isNaN(n.height)||(t=n.height),Dt(this.bc,e,t)}return this.bc}},isMultiline:{get:function(){return 0!=(2097152&this.o)},set:function(t){var e=0!=(2097152&this.o);e!==t&&(this.o^=2097152,this.w(),this.g("isMultiline",e,t))}},isUnderline:{get:function(){return 0!=(4194304&this.o)},set:function(t){var e=0!=(4194304&this.o);e!==t&&(this.o^=4194304,this.N(),this.g("isUnderline",e,t))}},isStrikethrough:{get:function(){return 0!=(8388608&this.o)},set:function(t){var e=0!=(8388608&this.o);e!==t&&(this.o^=8388608,this.N(),this.g("isStrikethrough",e,t))}},wrap:{get:function(){return null!==this.da?this.da.Ar:mc},set:function(t){var e=this.wrap;e!==t&&(nc(this),this.da.Ar=t,this.w(),this.g("wrap",e,t))}},overflow:{get:function(){return null!==this.da?this.da.yq:vc},set:function(t){var e=this.overflow;e!==t&&(nc(this),this.da.yq=t,this.w(),this.g("overflow",e,t))}},stroke:{get:function(){return this.Nc},set:function(t){var e=this.Nc;e!==t&&(null!==t&&As(t,"TextBlock.stroke"),t instanceof vs&&t.freeze(),this.Nc=t,this.N(),this.g("stroke",e,t))}},lineCount:{get:function(){return this.dd}},lineHeight:{get:function(){return lc(this)}},editable:{get:function(){return 0!=(1048576&this.o)},set:function(t){var e=0!=(1048576&this.o);e!==t&&(this.o^=1048576,this.g("editable",e,t))}},textEditor:{get:function(){return null!==this.da?this.da.pr:null},set:function(t){var e=this.textEditor;e!==t&&(nc(this),this.da.pr=t,this.g("textEditor",e,t))}},errorFunction:{get:function(){return null!==this.da?this.da.zd:null},set:function(t){var e=this.errorFunction;e!==t&&(nc(this),this.da.zd=t,this.g("errorFunction",e,t))}},interval:{get:function(){return null!==this.fa?this.fa.Hk:1},set:function(t){var e=this.interval;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){null===this.fa&&(this.fa=new Cc),this.fa.Hk=t,this.w();var n=this.panel;null!==n&&(n.graduatedIntervals=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return null!==this.fa?this.fa.u:0},set:function(t){var e=this.graduatedStart;e!==t&&(0>t?t=0:1<t&&(t=1),null===this.fa&&(this.fa=new Cc),this.fa.u=t,this.w(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return null!==this.fa?this.fa.j:1},set:function(t){var e=this.graduatedEnd;e!==t&&(0>t?t=0:1<t&&(t=1),null===this.fa&&(this.fa=new Cc),this.fa.j=t,this.w(),this.g("graduatedEnd",e,t))}},graduatedFunction:{get:function(){return null!==this.fa?this.fa.F:null},set:function(t){var e=this.graduatedFunction;e!==t&&(null===this.fa&&(this.fa=new Cc),this.fa.F=t,this.w(),this.g("graduatedFunction",e,t))}},graduatedSkip:{get:function(){return null!==this.fa?this.fa.m:null},set:function(t){var e=this.graduatedSkip;e!==t&&(null===this.fa&&(this.fa=new Cc),this.fa.m=t,this.w(),this.g("graduatedSkip",e,t))}},textValidation:{get:function(){return null!==this.da?this.da.qj:null},set:function(t){var e=this.textValidation;e!==t&&(nc(this),this.da.qj=t,this.g("textValidation",e,t))}},textEdited:{get:function(){return null!==this.da?this.da.nr:null},set:function(t){var e=this.textEdited;e!==t&&(nc(this),this.da.nr=t,this.g("textEdited",e,t))}},spacingAbove:{get:function(){return null!==this.da?this.da.$q:0},set:function(t){var e=this.spacingAbove;e!==t&&(nc(this),this.da.$q=t,this.w(),this.g("spacingAbove",e,t))}},spacingBelow:{get:function(){return null!==this.da?this.da.ar:0},set:function(t){var e=this.spacingBelow;e!==t&&(nc(this),this.da.ar=t,this.w(),this.g("spacingBelow",e,t))}},formatting:{get:function(){return null!==this.da?this.da.Jp:xc},set:function(t){var e=this.formatting;e!==t&&(nc(this),this.da.Jp=t,this.w(),this.g("formatting",e,t))}},maxLines:{get:function(){return null!==this.da?this.da.iq:1/0},set:function(t){var e=this.maxLines;e!==t&&(0>=(t=Math.floor(t))&&k(t,"> 0",ec,"maxLines"),nc(this),this.da.iq=t,this.w(),this.g("maxLines",e,t))}},metrics:{get:function(){return{arrSize:null!==this.Jc?this.Jc:[this.yb],arrText:null!==this.Wb?this.Wb:[this.qe],maxLineWidth:this.yb,fontHeight:this.Te}}},choices:{get:function(){return this.om},set:function(t){var e=this.om;e!==t&&(this.om=t,this.g("choices",e,t))}}});var dc,uc=null,fc=null,pc=new H(ec,"None",0),gc=new H(ec,"WrapFit",1),mc=new H(ec,"WrapDesiredSize",2),yc=new H(ec,"WrapBreakAll",3),vc=new H(ec,"OverflowClip",0),wc=new H(ec,"OverflowEllipsis",1),xc=new H(ec,"FormatTrim",0),bc=new H(ec,"FormatNone",0),Sc=/[ \u200b\u00ad]/,kc=new U,Pc=0,Mc=new U,_c=0,Lc="...",Tc="",Oc=null,Ac=!1;function Ec(){this.ic=!1,this.zd=null,this.Nf=lr,this.Jp=xc,this.iq=1/0,this.yq=vc,this.ar=this.$q=0,this.mr="start",this.qj=this.pr=this.nr=null,this.xr=Te,this.Ar=mc}function Cc(){this.Hk=1,this.u=0,this.j=1,this.m=this.F=null}function Nc(t,e){Tr.call(this),this.vg=null,this.Tn="",this.Ng=Yt,this.Bk=sr,this.Pg=this.zd=null,this.Ak=oe,this.Nf=lr,this.jl=null,this.Xm=!1,this.Mm=!0,this.Pk=!1,this.fl=null,"string"==typeof t?this.source=t:t&&Object.assign(this,t),e&&Object.assign(this,e)}function Bc(t){void 0===t&&(t=""),""!==t?dc[t]&&(delete dc[t],Dc--):(dc=new U,Dc=0)}function jc(t,e){e.Wx||(e.fq=function(n){e.Up=!0,e.Sm=!1;var i=e.sg.copy();if(null!=i){for(i=i.iterator;i.next();){var a=i.value,o=e.getAttribute("src")||"",r=a.Fg.I(o);if(null!==r)for(var s=r.length,l=0;l<s;l++)o=r[l],a.Fn.add(o),a.Mb(),e.Pm&&(void 0===e.Kt&&(e.Kt=n),null!==o.Pg&&o.Pg(o,n))}e.sg.clear()}t.desiredSize.v()||(qr(t,!1),t.w())},e.Bp=function(t){e.Sm=t;var n=e.sg.copy();if(null!=n){for(n=n.iterator;n.next();){var i=n.value,a=e.getAttribute("src")||"",o=i.Fg.I(a);if(null!==o){i=o.length,a=A();for(var r=0;r<i;r++)a.push(o[r]);if(e.Pm)for(r=0;r<i;r++)null!==(o=a[r]).zd&&o.zd(o,t);E(a)}}e.sg.clear()}},e.addEventListener("load",e.fq),e.addEventListener("error",e.Bp),e.Wx=!0)}ec.className="TextBlock",Ec.prototype.copy=function(){var t=new Ec;return t.zd=this.zd,t.Nf=this.Nf,t.Jp=this.Jp,t.iq=this.iq,t.yq=this.yq,t.$q=this.$q,t.ar=this.ar,t.mr=this.mr,t.nr=this.nr,t.pr=this.pr,t.qj=this.qj,t.xr=this.xr,t.Ar=this.Ar,t},ec.getEllipsis=function(){return Lc},ec.setEllipsis=function(t){Lc=t,Mc=new U,_c=0},ec.getBaseline=function(){return uc},ec.setBaseline=function(t){uc=t},ec.getUnderline=function(){return fc},ec.setUnderline=function(t){fc=t},ec.isValidFont=function(t){if(Ac||(Oc=jo?new ps(null).context:null,Ac=!0),null===Oc)return!0;var e=Oc.font;if(t===e||"10px sans-serif"===t)return!0;Oc.font="10px sans-serif",Oc.font=t;var n=Oc.font;if("10px sans-serif"!==n)return Oc.font=e,!0;Oc.font="19px serif";var i=Oc.font;return Oc.font=t,n=Oc.font,Oc.font=e,n!==i},ec.FormatNone=bc,ec.FormatTrim=xc,ec.None=pc,ec.OverflowClip=vc,ec.OverflowEllipsis=wc,ec.WrapBreakAll=yc,ec.WrapDesiredSize=mc,ec.WrapFit=gc,Cc.prototype.copy=function(){var t=new Cc;return t.Hk=this.Hk,t.u=this.u,t.j=this.j,t.F=this.F,t.m=this.m,t},Cc.className="GradElementSettings",d(Nc,Tr),Nc.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.Tn=this.Tn,t.element=this.vg,t.Ng=this.Ng.J(),t.Bk=this.Bk,t.Nf=this.Nf,t.zd=this.zd,t.Pg=this.Pg,t.Ak=this.Ak.J(),t.Mm=this.Mm,t.fl=this.fl},Nc.prototype.ob=function(t){t===lr||t===cr||t===fr?this.imageStretch=t:Tr.prototype.ob.call(this,t)},Nc.prototype.toString=function(){return"Picture("+this.source+")#"+nt(this)},Nc.prototype.Oz=function(){if(""!==this.source){Bc(this.source);var t=this.source;this.source="",this.source=t}},Nc.prototype.redraw=function(){this.N()},Nc.prototype.ai=function(t,e){var n=this.vg;if(null!==n){var i=n.getAttribute("src");if(!(n instanceof HTMLImageElement&&(null===i||""===i)||n.Sm instanceof Event&&t instanceof gs)){i=this.naturalBounds;var a=0,o=0,r=this.Xm,s=r?+n.width:n.naturalWidth;if(r=r?+n.height:n.naturalHeight,void 0===s&&n.videoWidth&&(s=n.videoWidth),void 0===r&&n.videoHeight&&(r=n.videoHeight),s=s||i.width,r=r||i.height,0!==s&&0!==r){var l=s,c=r;this.sourceRect.v()&&(a=this.Ng.x,o=this.Ng.y,s=this.Ng.width,r=this.Ng.height);var h=s,d=r,u=this.Bk,f=this.Ak;switch(u){case lr:if(this.sourceRect.v())break;h>=i.width&&(a=a+f.offsetX+(h*f.x-i.width*f.x)),d>=i.height&&(o=o+f.offsetY+(d*f.y-i.height*f.y)),s=Math.min(i.width,h),r=Math.min(i.height,d);break;case sr:h=i.width,d=i.height;break;case cr:case fr:u===cr?(h*=u=Math.min(i.height/d,i.width/h),d*=u):u===fr&&(d*=u=Math.max(i.height/d,i.width/h),(h*=u)>=i.width&&(a=(a+f.offsetX+(h*f.x-i.width*f.x)/h)*s),d>=i.height&&(o=(o+f.offsetY+(d*f.y-i.height*f.y)/d)*r),s*=1/(h/i.width),r*=1/(d/i.height),h=i.width,d=i.height)}var p=h*(u=this.uf()*e.scale)*d*u,g=s*r/p,m=n.__goCache;u=null;var y=Fc;if(n.Up&&void 0!==m&&4<p&&g>y*y)for(null===m.Zh&&(Ic(m,4,l,c,n),Ic(m,16,l,c,n)),c=(l=m.Zh).length,p=0;p<c&&l[p].ratio*l[p].ratio<g;p++)u=l[p];if(!e.Fm){if(null===this.jl)if(null===this.vg)this.jl=!1;else{l=new ps(null).context;try{l.drawImage(this.vg,0,0)}catch(t){this.Mm=!1}try{l.getImageData(0,0,1,1).data[3]&&(this.jl=!1),this.jl=!1}catch(t){this.jl=!0}}if(this.jl)return}switch(l=0,h<i.width&&(l=f.offsetX+(i.width*f.x-h*f.x)),c=0,d<i.height&&(c=f.offsetY+(i.height*f.y-d*f.y)),this.flip){case gr:t.translate(Math.min(i.width,h),0),t.scale(-1,1);break;case pr:t.translate(0,Math.min(i.height,d)),t.scale(1,-1);break;case mr:t.translate(Math.min(i.width,h),Math.min(i.height,d)),t.scale(-1,-1)}if(t.Pc(),e.Ge("pictureRatioOptimization")&&!e.Vi&&void 0!==m&&null!==u&&1!==u.ratio){t.save(),e=u.ratio;try{t.drawImage(u.source,a/e,o/e,Math.min(u.source.width,s/e),Math.min(u.source.height,r/e),l,c,Math.min(i.width,h),Math.min(i.height,d))}catch(t){this.Mm=!1}t.restore()}else try{t.drawImage(n,a,o,s,r,l,c,Math.min(i.width,h),Math.min(i.height,d))}catch(t){this.Mm=!1}switch(this.flip){case gr:t.scale(-1,1),t.translate(-Math.min(i.width,h),0);break;case pr:t.scale(1,-1),t.translate(0,-Math.min(i.height,d));break;case mr:t.scale(-1,-1),t.translate(-Math.min(i.width,h),-Math.min(i.height,d))}}}}},Nc.prototype.El=function(t,e,n,i){var a=this.desiredSize,o=Fr(this,!0),r=this.vg,s=this.Xm;(s||!this.Pk&&r&&r.complete)&&(this.Pk=!0),null===r&&(isFinite(a.width)||(t=0),isFinite(a.height)||(e=0)),isFinite(a.width)||o===sr||o===hr?(isFinite(t)||(this.sourceRect.v()?t=this.sourceRect.width:null!==r&&(t=s?+r.width:r.naturalWidth)),n=0):null!==r&&!1!==this.Pk&&(t=this.sourceRect.v()?this.sourceRect.width:s?+r.width:r.naturalWidth),isFinite(a.height)||o===sr||o===dr?(isFinite(e)||(this.sourceRect.v()?e=this.sourceRect.height:null!==r&&(e=s?+r.height:r.naturalHeight)),i=0):null!==r&&!1!==this.Pk&&(e=this.sourceRect.v()?this.sourceRect.height:s?+r.height:r.naturalHeight),isFinite(a.width)&&(t=a.width),isFinite(a.height)&&(e=a.height),a=this.maxSize,o=this.minSize,n=Math.max(n||0,o.width),i=Math.max(i||0,o.height),t=Math.min(a.width,t),e=Math.min(a.height,e),t=Math.max(n,t),e=Math.max(i,e),null===r||r.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),Dt(this.bc,t,e),this.ve(0,0,t,e)},Nc.prototype.Vg=function(t,e,n,i){Cr(this,t,e,n,i)},u.Object.defineProperties(Nc.prototype,{element:{get:function(){return this.vg},set:function(t){var e=this.vg;if(e!==t){this.Xm=t instanceof HTMLCanvasElement;var n=t instanceof HTMLImageElement;null===t||n||t instanceof HTMLVideoElement||this.Xm||b("Picture.element must be an instance of Image, Canvas, or Video, not: "+t);var i=this.diagram;null!==i&&vo(i,this),this.vg=t,null!==t&&n&&void 0===t.sg&&(t.sg=new Q),null!==i&&n&&yo(i,this),null!==t&&(this.Xm||!0===t.complete?(t.Pm&&(t.Sm instanceof Event&&null!==this.zd?this.zd(this,t.Sm):!0===t.Up&&!t.Sm&&null!==this.Pg&&t.Kt&&this.Pg(this,t.Kt)),t.Up=!0,this.desiredSize.v()||(qr(this,!1),this.w())):n&&jc(this,t)),this.g("element",e,t),this.N()}}},source:{get:function(){return this.Tn},set:function(t){var e=this.Tn;if(e!==t){this.Tn=t;var n=dc;if(jo){if(void 0!==n[t])var i=n[t];else if(""!==t){30<Dc&&(Bc(),n=dc),(i=x("img")).Pm=!0,jc(this,i);var a=this.fl;null!==a&&(i.crossOrigin=a(this)),i.src=t,n[t]=i,Dc++}this.element=i,null!==i&&void 0===i.__goCache&&(i.__goCache=new Rc),this.w(),this.N()}this.g("source",e,t)}}},sourceCrossOrigin:{get:function(){return this.fl},set:function(t){if(this.fl!==t&&(this.fl=t,null!==this.element)){var e=this.element.getAttribute("src");null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}},sourceRect:{get:function(){return this.Ng},set:function(t){var e=this.Ng;e.C(t)||(this.Ng=t=t.J(),this.N(),this.g("sourceRect",e,t))}},imageStretch:{get:function(){return this.Bk},set:function(t){var e=this.Bk;e!==t&&(this.Bk=t,this.N(),this.g("imageStretch",e,t))}},flip:{get:function(){return this.Nf},set:function(t){var e=this.Nf;e!==t&&(this.Nf=t,this.N(),this.g("flip",e,t))}},imageAlignment:{get:function(){return this.Ak},set:function(t){var e=this.Ak;e.C(t)||(this.Ak=t=t.J(),this.N(),this.g("imageAlignment",e,t))}},errorFunction:{get:function(){return this.zd},set:function(t){var e=this.zd;e!==t&&(this.zd=t,this.g("errorFunction",e,t))}},successFunction:{get:function(){return this.Pg},set:function(t){var e=this.Pg;e!==t&&(this.Pg=t,this.g("successFunction",e,t))}},naturalBounds:{get:function(){return this.bc}}}),Nc.prototype.redraw=Nc.prototype.redraw,Nc.prototype.reloadSource=Nc.prototype.Oz;var Dc=0,Fc=4;function Rc(){this.Zh=null}function Ic(t,e,n,i,a){null===t.Zh&&(t.Zh=[]);var o=new ps(null),r=o.context,s=1/e;o.width=n/e,o.height=i/e,0!==o.width&&0!==o.height&&(e=new zc(o.Sa,e),n=1,0<t.Zh.length&&(a=(n=t.Zh[t.Zh.length-1]).source,n=n.ratio),r.setTransform(s*n,0,0,s*n,0,0),r.Pc(),r.drawImage(a,0,0),t.Zh.push(e))}function zc(t,e){this.source=t,this.ratio=e}function Hc(){this.Mr=new We,this.pc=null}function Vc(t,e,n,i,a){t.pc=new Qe,t.pc.startX=e,t.pc.startY=n,t.pc.isFilled=i,t.Mr.figures.add(t.pc),void 0!==a&&(t.pc.isShadowed=a)}function Gc(t){var e=t.pc.segments.length;0<e&&t.pc.segments.K(e-1).close()}function Uc(t,e,n,i,a,o,r){var s;void 0===s&&(s=!1);var l=new tn(rn);l.point1X=e,l.point1Y=n,l.point2X=i,l.point2Y=a,l.endX=o,l.endY=r,s&&l.close(),t.pc.segments.add(l)}function Wc(t,e,n,i,a){var o;void 0===o&&(o=!1);var r=new tn(sn);r.point1X=e,r.point1Y=n,r.endX=i,r.endY=a,o&&r.close(),t.pc.segments.add(r)}function qc(t,e,n,i,a,o,r,s){var l;void 0===l&&(l=!1),e=new tn(cn,r,s,e,n,i,a,o),l&&e.close(),t.pc.segments.add(e)}function Yc(t){var e=Xc;return null!==e?(Xc=null,e.reset(t),e):((e=new Hc).reset(t),e)}Nc.className="Picture",dc=new U,Nc.clearCache=Bc,Rc.className="PictureCacheArray",zc.className="PictureCacheInstance",Hc.prototype.reset=function(t){null!==t?(t.ja(),this.Mr=t,t.figures.clear()):this.Mr=new We,this.pc=null},Hc.prototype.Xl=function(t){this.pc.isShadowed=t},Hc.prototype.moveTo=function(t,e,n){void 0===n&&(n=!1);var i=new tn(an);i.endX=t,i.endY=e,n&&i.close(),this.pc.segments.add(i)},Hc.prototype.lineTo=function(t,e,n){void 0===n&&(n=!1);var i=new tn(on);i.endX=t,i.endY=e,n&&i.close(),this.pc.segments.add(i)},Hc.prototype.arcTo=function(t,e,n,i,a,o,r){void 0===o&&(o=0),void 0===r&&(r=!1);var s=new tn(ln);s.startAngle=t,s.sweepAngle=e,s.centerX=n,s.centerY=i,s.radiusX=a,s.radiusY=0!==o?o:a,r&&s.close(),this.pc.segments.add(s)};var Xc=null;function Kc(t,e){var n=t.toLowerCase(),i=Ue.Oe;i[t]=e,i[n]=t}function Zc(){this.ic=!1,this.Qq=this.np=this.Zp=null,this.Sq="",this.Eq=this.Qp=this.Rq=null,this.Gq="",this.Fq=Ot,this.Hq=null,this.Iq="",this.Kq=Me,this.gq="",this.hq=ee,this.oq=at,this.jq=ot,this.yp=null,this.bq=127,this.Wq=rt,this.Vq="gray",this.Lg=4}function $c(t,e){void 0===t||t instanceof Ys||"string"==typeof t?cl.call(this,t):(cl.call(this),t&&(e=t)),this.G=2408959,this.Jf="",this.O=null,this.zg="",this.Hf=this.Kg=null,this.cc="",this.ph=this.Ah=null,this.de=new gt(NaN,NaN).freeze(),this.af=null,this.eo=NaN,this.aw=-1,this.Vx=new jt,this.Kh=null,this.Sf=NaN,e&&Object.assign(this,e)}function Jc(t){null===t.O?t.O=new Zc:t.O.ic&&(t.O=t.O.copy())}function Qc(t){0!=(16384&t.G)!=!1&&(t.updateAdornments(),t.G&=-16385)}function th(t){if(!1===hh(t)){dh(t,!0),t.Ik();var e=t.diagram;null!==e&&(e.te.add(t),e.Mb())}}function eh(t){if(t.G|=2097152,!1!==hh(t)){var e=t.position,n=t.location;n.v()&&e.v()||oh(t,e,n),n=t.Eb;var i=jt.alloc().assign(n);n.ja(),n.x=e.x,n.y=e.y,n.freeze(),t.Fl(i,n),jt.free(i),dh(t,!1)}}function nh(t,e,n,i){void 0===i&&(i=new gt),n=n.Fc()?oe:n;var a=e.naturalBounds;if(i.h(a.width*n.x+n.offsetX,a.height*n.y+n.offsetY),null===e||e===t)return i;for(e.transform.Fa(i),e=e.panel;null!==e&&e!==t;)e.transform.Fa(i),e=e.panel;return null!==t.Ib&&t.Ib.Fa(i),i.offset(-t.qc.x,-t.qc.y),i}function ih(t,e){var n=t.Vx;isNaN(t.Sf)&&(t.Sf=function t(e){for(var n=(e=e.R.s).length,i=0,a=0;a<n;a++){var o=e[a];o instanceof cl?i=Math.max(i,t(o)):o instanceof Gl&&(i=Math.max(i,o.ag/2*o.strokeMiterLimit*o.uf()))}return i}(t));var i=t.Sf,a=2*i;if(!t.isShadowed)return n.h(e.x-1-i,e.y-1-i,e.width+2+a,e.height+2+a),n;i=e.x,a=e.y;var o=e.width;e=e.height;var r=t.shadowBlur;return o+=r,e+=r,i-=r/2,a-=r/2,0<(t=t.shadowOffset).x?o+=t.x:(i+=t.x,o-=t.x),0<t.y?e+=t.y:(a+=t.y,e-=t.y),n.h(i-1,a-1,o+2,e+2),n}function ah(t,e,n,i,a){null===e||t instanceof vh||(e=e.animationManager).zb&&Yi(e,t,new gt(i,a),n)}function oh(t,e,n){var i=gt.alloc(),a=t.locationObject,o=a.naturalBounds,r=a instanceof Gl?a.strokeWidth:0;if(i.pi(0,0,o.width+r,o.height+r,t.locationSpot),a!==t)for(i.offset(-r/2,-r/2),a.transform.Fa(i),a=a.panel;null!==a&&a!==t;)a.transform.Fa(i),a=a.panel;null!==t.Ib&&t.Ib.Fa(i),i.offset(-t.qc.x,-t.qc.y),a=t.diagram,o=n.v(),r=e.v(),o&&r?0!=(2097152&t.G)?rh(t,e,n,a,i):sh(t,e,n,a,i):o?rh(t,e,n,a,i):r&&sh(t,e,n,a,i),t.G|=2097152,gt.free(i),t.Ik()}function rh(t,e,n,i,a){var o=e.x,r=e.y;e.h(n.x-a.x,n.y-a.y),null!==i&&((i=(n=i.animationManager).defaultAnimation.isAnimating)||!n.zb||t instanceof vh||Yi(n,t,new gt(o,r),e),i||e.x===o&&e.y===r||t.g("position",new gt(o,r),e.copy()))}function sh(t,e,n,i,a){var o=n.copy();n.h(e.x+a.x,e.y+a.y),n.C(o)||null===i||t.g("location",o,n.copy())}function lh(t,e,n){uh(t,!1),t instanceof xh&&Ao(n,t),t.layer.isTemporary||e||n.Va(),e=t.Eb;var i=n.viewportBounds;i.v()?fh(t)?(Vt(e,i)||t.Pd(!1),t.updateAdornments()):e.Sc(i)?(t.Pd(!0),t.updateAdornments()):t.Rb():n.Ui=!0}function ch(t,e,n,i){e.constructor===t.constructor||yh||(yh=!0,P('Should not change the class of the Part when changing category from "'+n+'" to "'+i+'"'),P("  Old class: "+C(t.constructor)+", new class: "+C(e.constructor)+", part: "+t.toString())),t.zj();var a=t.data;n=t.layerName;var o=t.isSelected,r=t.isHighlighted,s=!0,l=!0,c=!1;t instanceof xh&&(s=t.isTreeLeaf,l=t.isTreeExpanded,c=t.wasTreeExpanded),e.qf(t),e.cloneProtected(t),t.Jf=i,t.w(),t.N(),i=!0,null!==(e=t.diagram)&&(i=e.skipsUndoManager,e.skipsUndoManager=!0),t.qb=a,t.G=o?4096|t.G:-4097&t.G,t.G=r?524288|t.G:-524289&t.G,t instanceof xh&&(t.U=s?4|t.U:-5&t.U,t.U=l?1|t.U:-2&t.U,t.U=c?2|t.U:-3&t.U),null!==a&&t.Ka(),(a=t.layerName)!==n&&(t.zg=n,t.layerName=a),null!==e&&(e.skipsUndoManager=i),t.Tc()&&t.D(64)}function hh(t){return 0!=(32768&t.G)}function dh(t,e){t.G=e?32768|t.G:-32769&t.G}function uh(t,e){t.G=e?65536|t.G:-65537&t.G}function fh(t){return 0!=(131072&t.G)}function ph(t,e){t.G=e?1048576|t.G:-1048577&t.G}function gh(t){return!!t.isVisible()&&(null===(t=t.layer)||!t.isTemporary)}function mh(t,e,n,i,a,o){if(void 0===o&&(o=null),!(t.contains(e)||null!==o&&!o(e)||e instanceof vh))if(t.add(e),e instanceof xh){if(n&&e instanceof jh)for(var r=e.memberParts;r.next();)mh(t,r.value,n,i,a,o);if(!1!==a)for(r=e.linksConnected;r.next();){var s=r.value;if(!t.contains(s)){var l=s.fromNode,c=s.toNode;l=null===l||t.contains(l),c=null===c||t.contains(c),(a?l&&c:l||c)&&mh(t,s,n,i,a,o)}}if(1<i)for(e=e.zu();e.next();)mh(t,e.value,n,i-1,a,o)}else if(e instanceof Ih)for(e=e.labelNodes;e.next();)mh(t,e.value,n,i,a,o)}Hc.className="StreamGeometryContext",Kc("Rectangle",(function(t,e,n){t="r"+e+","+n;var i=Ue.Df[t];return void 0!==i||((i=new We(We.u)).endX=e,i.endY=n,Ue.Ef<Ue.em&&(Ue.Df[t]=i,Ue.Ef++)),i})),Kc("Square",(function(t,e,n){t="s"+e+","+n;var i=Ue.Df[t];return void 0!==i||((i=new We(We.u)).endX=e,i.endY=n,i.defaultStretch=cr,Ue.Ef<Ue.em&&(Ue.Df[t]=i,Ue.Ef++)),i})),Kc("RoundedRectangle",(function(t,e,n){t=t?t.parameter1:NaN,(isNaN(t)||0>t)&&(t=5),t=Math.min(t,e/3);var i="rr"+e+","+n+","+(t=Math.min(t,n/3)),a=Ue.Df[i];if(void 0!==a)return a;var o=t*Ue.ng;return a=(new We).add(new Qe(t,0,!0).add(new tn(on,e-t,0)).add(new tn(rn,e,t,e-o,0,e,o)).add(new tn(on,e,n-t)).add(new tn(rn,e-t,n,e,n-o,e-o,n)).add(new tn(on,t,n)).add(new tn(rn,0,n-t,o,n,0,n-o)).add(new tn(on,0,t)).add(new tn(rn,t,0,0,o,o,0).close())),1<o&&(a.spot1=new Fe(0,0,o,o),a.spot2=new Fe(1,1,-o,-o)),Ue.Ef<Ue.em&&(Ue.Df[i]=a,Ue.Ef++),a})),Kc("Border","RoundedRectangle"),Kc("Ellipse",(function(t,e,n){t="e"+e+","+n;var i=Ue.Df[t];return void 0!==i||((i=new We(We.F)).endX=e,i.endY=n,i.spot1=Be,i.spot2=je,Ue.Ef<Ue.em&&(Ue.Df[t]=i,Ue.Ef++)),i})),Kc("Circle",(function(t,e,n){t="c"+e+","+n;var i=Ue.Df[t];return void 0!==i||((i=new We(We.F)).endX=e,i.endY=n,i.spot1=Be,i.spot2=je,i.defaultStretch=cr,Ue.Ef<Ue.em&&(Ue.Df[t]=i,Ue.Ef++)),i})),Kc("TriangleRight",(function(t,e,n){return(new We).add(new Qe(0,0).add(new tn(on,e,.5*n)).add(new tn(on,0,n).close())).Yl(0,.25,.5,.75)})),Kc("TriangleDown",(function(t,e,n){return(new We).add(new Qe(0,0).add(new tn(on,e,0)).add(new tn(on,.5*e,n).close())).Yl(.25,0,.75,.5)})),Kc("TriangleLeft",(function(t,e,n){return(new We).add(new Qe(e,n).add(new tn(on,0,.5*n)).add(new tn(on,e,0).close())).Yl(.5,.25,1,.75)})),Kc("TriangleUp",(function(t,e,n){return(new We).add(new Qe(e,n).add(new tn(on,0,n)).add(new tn(on,.5*e,0).close())).Yl(.25,.5,.75,1)})),Kc("Triangle","TriangleUp"),Kc("Diamond",(function(t,e,n){return(new We).add(new Qe(.5*e,0).add(new tn(on,0,.5*n)).add(new tn(on,.5*e,n)).add(new tn(on,e,.5*n).close())).Yl(.25,.25,.75,.75)})),Kc("LineH",(function(t,e,n){return(t=new We(We.j)).startX=0,t.startY=n/2,t.endX=e,t.endY=n/2,t})),Kc("LineV",(function(t,e,n){return(t=new We(We.j)).startX=e/2,t.startY=0,t.endX=e/2,t.endY=n,t})),Kc("None","Rectangle"),Kc("BarH","Rectangle"),Kc("BarV","Rectangle"),Kc("MinusLine","LineH"),Kc("PlusLine",(function(t,e,n){return(new We).add(new Qe(0,n/2,!1).add(new tn(on,e,n/2)).add(new tn(an,e/2,0)).add(new tn(on,e/2,n)))})),Kc("XLine",(function(t,e,n){return(new We).add(new Qe(0,n,!1).add(new tn(on,e,0)).add(new tn(an,0,0)).add(new tn(on,e,n)))})),Kc("LineRight",(function(t,e,n){return(new We).add(new Qe(.25*e,0,!1).add(new tn(on,.75*e,.5*n)).add(new tn(on,.25*e,n)))})),Kc("LineDown",(function(t,e,n){return(new We).add(new Qe(0,.25*n,!1).add(new tn(on,.5*e,.75*n)).add(new tn(on,e,.25*n)))})),Kc("LineLeft",(function(t,e,n){return(new We).add(new Qe(.75*e,0,!1).add(new tn(on,.25*e,.5*n)).add(new tn(on,.75*e,n)))})),Kc("LineUp",(function(t,e,n){return(new We).add(new Qe(0,.75*n,!1).add(new tn(on,.5*e,.25*n)).add(new tn(on,e,.75*n)))})),Ue.dm={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},Zc.prototype.copy=function(){var t=new Zc;return t.Zp=this.Zp,t.np=this.np,t.Qq=this.Qq,t.Sq=this.Sq,t.Rq=this.Rq,t.Qp=this.Qp,t.Eq=this.Eq,t.Gq=this.Gq,t.Fq=this.Fq.J(),t.Hq=this.Hq,t.Iq=this.Iq,t.Kq=this.Kq.J(),t.gq=this.gq,t.hq=this.hq.J(),t.oq=this.oq.J(),t.jq=this.jq.J(),t.yp=this.yp,t.bq=this.bq,t.Wq=this.Wq.J(),t.Vq=this.Vq,t.Lg=this.Lg,t},d($c,cl),$c.prototype.cloneProtected=function(t){cl.prototype.cloneProtected.call(this,t),t.G=-4097&this.G|49152,t.Jf=this.Jf,null!==this.O&&(t.O=this.O.ic?this.O:this.O.copy()),t.zg=this.zg,t.Hf=null,t.cc=this.cc,t.de.assign(this.de),t.eo=this.eo},(e=$c.prototype).qf=function(t){cl.prototype.qf.call(this,t),t.dh(),t.Kg=null,t.af=null,t.Kh=null},e.toString=function(){var t=C(this.constructor)+"#"+nt(this);return null!==this.data&&(t+="("+N(this.data)+")"),t},e.ih=function(){cl.prototype.ih.call(this),null!==this.O&&(this.O.ic=!0)},e.Zj=function(t,e,n,i,a,o,r){var s=this.diagram;null!==s&&(t===gn&&"elements"===e?a instanceof cl?gl(a,(function(t){Au(s.partManager,t),mo(s,t)})):yo(s,a):t===mn&&"elements"===e&&(a instanceof cl?gl(a,(function(t){Eu(s.partManager,t,s)})):vo(s,a)),s.bb(t,e,n,i,a,o,r))},e.Ka=function(t){if(cl.prototype.Ka.call(this,t),null!==this.data){for(var e=this.R.s,n=e.length,i=0;i<n;i++){var a=e[i];a instanceof cl&&gl(a,(function(t){null!==t.data&&t.Ka()}))}for(e=this.adornments;e.next();)e.value.Ka(t)}},$c.prototype.updateRelationshipsFromData=function(){var t;null!==this.data&&(null===(t=this.diagram)||void 0===t||t.partManager.updateRelationshipsFromData(this))},$c.prototype.Hj=function(t){var e=this.Hf;return null===e?null:e.I(t)},$c.prototype.Tg=function(t,e){if(null!==e){var n=null,i=this.Hf;if(null!==i&&(n=i.I(t)),n!==e){if(null!==n){var a=n.diagram;null!==a&&a.remove(n)}null===i&&(this.Hf=i=new pt),e.Jf!==t&&(e.category=t),i.add(t,e),null!==(t=this.diagram)&&(t.add(e),null!==(t=e.adornedObject)&&(null!==(t=t.Yg())&&(e.data=t.data)))}}},$c.prototype.Af=function(t){var e=this.Hf;if(null!==e){var n=e.I(t);if(null!==n){var i=n.diagram;null!==i&&i.remove(n)}e.remove(t),0===e.count&&(this.Hf=null)}},$c.prototype.zj=function(){var t=this.Hf;if(null!==t){var e=A();for(t=t.iterator;t.next();)e.push(t.key);t=e.length;for(var n=0;n<t;n++)this.Af(e[n]);E(e)}},$c.prototype.updateAdornments=function(){var t=this.diagram;if(null!==t){for(var e=this.adornments;e.next();){var n=e.value;n.w(),n.placeholder&&n.placeholder.w()}t:{if(this.isSelected&&this.selectionAdorned&&(null!==(e=this.selectionObject)&&this.actualBounds.v()&&this.isVisible()&&e.zf()&&e.actualBounds.v())){if(null===(n=this.Hj("Selection"))){if(null===(n=this.selectionAdornmentTemplate)&&(n=this.eh()?t.linkSelectionAdornmentTemplate:this instanceof jh?t.groupSelectionAdornmentTemplate:t.nodeSelectionAdornmentTemplate),!(n instanceof vh))break t;Pl(n),null!==(n=n.copy())&&(this.eh()&&this.selectionObject===this.path&&(n.type=cl.Link),n.adornedObject=e)}if(null!==n){n.type===cl.Link&&n.w(),this.Tg("Selection",n);break t}}this.Af("Selection")}for(function(t,e){e.toolManager.mouseDownTools.each((function(e){e.isEnabled&&e.updateAdornments(t)})),e.toolManager.updateAdornments(t)}(this,t),e=this.adornments;e.next();)e.value.Ka()}},$c.prototype.Rb=function(){var t=this.diagram;null!==t&&(Qa(t),0!=(16384&this.G)!=!0&&(this.G|=16384,t.Mb()))},$c.prototype.ve=function(t,e,n,i){var a=this.qc;a.h(t,e,n,i),null===this.Ib&&(this.Ib=new Ve);var o=this.Ib;o.reset(),this.Qn(o,t,e,n,i),this.Ib=o,o.Vr()||o.So(a)},$c.prototype.Qn=function(t,e,n,i,a){if(1!==this.xa&&t.scale(this.xa),0!==this.Gb){var o=oe;this.locationSpot.pb()&&(o=this.locationSpot);var r=gt.alloc();if(this.locationObject!==this)for(n=(e=this.locationObject).naturalBounds,r.pi(n.x,n.y,n.width,n.height,o),null!==e.Ib&&e.Ib.Fa(r),r.offset(-e.measuredBounds.x,-e.measuredBounds.y),o=e.panel;null!==o&&o!==this;)null!==o.Ib&&o.Ib.Fa(r),r.offset(-o.measuredBounds.x,-o.measuredBounds.y),o=o.panel;else r.pi(e,n,i,a,o);t.rotate(this.Gb,r.x,r.y),gt.free(r)}},$c.prototype.move=function(t,e){!0===e?this.location=t:this.position=t},$c.prototype.moveTo=function(t,e,n){t=gt.allocAt(t,e),this.move(t,n),gt.free(t)},$c.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;if(null!==t){if(!t.visible)return!1;if(null!==(t=t.diagram)&&t.animationManager.fs(this))return!0}return!!(null===(t=this.containingGroup)||t.isSubGraphExpanded&&t.isVisible())},$c.prototype.Ub=function(t){var e=this.diagram;t?(this.D(4),this.Rb(),null!==e&&e.te.add(this)):(this.D(8),this.zj()),this.dh(),null!==e&&(e.Va(),e.N())},$c.prototype.fb=function(t){if(this.name===t)return this;var e=this.Kh;if(null===e&&(this.Kh=e=new pt),null!==e.I(t))return e.I(t);var n=cl.prototype.fb.call(this,t);return null!==n?(e.set(t,n),n):(e.set(t,null),null)},$c.prototype.gi=function(t){return void 0===t&&(t=new jt),t.assign(this.actualBounds)},$c.prototype.Za=function(){!0===Wr(this)&&this.measure(1/0,1/0),this.arrange()},$c.prototype.arrange=function(){if(!1===Yr(this))eh(this);else{Xr(this,!1);var t=this.Eb,e=jt.alloc();e.assign(t);var n=fh(this);this.Vg(0,0,this.qc.width,this.qc.height);var i=this.position;oh(this,i,this.location),t.ja(),t.x=i.x,t.y=i.y,t.freeze(),this.Fl(e,t),e.C(t)?this.Pd(n):!this.Tc()||Ue.B(e.width,t.width)&&Ue.B(e.height,t.height)||0<=this.aw&&this.D(16),jt.free(e),dh(this,!1)}},(e=$c.prototype).Fl=function(t,e){var n=this.diagram;if(null!==n){var i=!1;if(!1===n.Si&&t.v()){var a=jt.alloc();a.assign(n.documentBounds),a.jv(n.padding),t.x>a.x&&t.y>a.y&&t.right<a.right&&t.bottom<a.bottom&&e.x>a.x&&e.y>a.y&&e.right<a.right&&e.bottom<a.bottom&&(i=!0),jt.free(a)}0!=(65536&this.G)!=!0&&t.C(e)||lh(this,i,n),n.N(),!t.v()&&!e.v()||It(t,e)||(this instanceof xh&&!n.undoManager.isUndoingRedoing&&this.vd(),this.dh())}},e.ev=function(t,e,n){if(this.eh()||!t.v())return!1;var i=this.diagram;return null!==i&&ah(this,i,t,e,n),this.pa=t,this.G&=-2097153,!this.de.v()||null!==i&&!i.animationManager.isTicking&&i.undoManager.isUndoingRedoing||(i=this.de,this.de=new gt(i.x+(t.x-e),i.y+(t.y-n)),this.g("location",i,this.de.copy())),!1===hh(this)&&!1===Yr(this)&&(th(this),eh(this)),!0},e.Ul=function(t,e,n){var i=this.de,a=this.pa;if(n){if(i.x===t&&i.y===e)return;hh(this)||Yr(this)?a.h(NaN,NaN):a.h(a.x+t-i.x,a.y+e-i.y),i.h(t,e)}else{if(a.x===t&&a.y===e)return;i.h(i.x+t-a.x,i.y+e-a.y),a.h(t,e)}th(this)},e.fv=function(){this.G&=-2097153,th(this)},e.mi=function(){return!0},e.Tc=function(){return!0},e.eh=function(){return!1},e.li=function(){return!0},$c.prototype.canCopy=function(){if(!this.copyable)return!1;var t=this.layer;return null===t||!!t.allowCopy&&(null===(t=t.diagram)||!!t.allowCopy)},$c.prototype.canDelete=function(){if(!this.deletable)return!1;var t=this.layer;return null===t||!!t.allowDelete&&(null===(t=t.diagram)||!!t.allowDelete)},$c.prototype.canEdit=function(){if(!this.textEditable)return!1;var t=this.layer;return null===t||!!t.allowTextEdit&&(null===(t=t.diagram)||!!t.allowTextEdit)},$c.prototype.canGroup=function(){if(!this.groupable)return!1;var t=this.layer;return null===t||!!t.allowGroup&&(null===(t=t.diagram)||!!t.allowGroup)},$c.prototype.canMove=function(){if(!this.movable)return!1;var t=this.layer;return null===t||!!t.allowMove&&(null===(t=t.diagram)||!!t.allowMove)},$c.prototype.canReshape=function(){if(!this.reshapable)return!1;var t=this.layer;return null===t||!!t.allowReshape&&(null===(t=t.diagram)||!!t.allowReshape)},$c.prototype.canResize=function(){if(!this.resizable)return!1;var t=this.layer;return null===t||!!t.allowResize&&(null===(t=t.diagram)||!!t.allowResize)},$c.prototype.canRotate=function(){if(!this.rotatable)return!1;var t=this.layer;return null===t||!!t.allowRotate&&(null===(t=t.diagram)||!!t.allowRotate)},$c.prototype.canSelect=function(){if(!this.selectable)return!1;var t=this.layer;return null===t||!!t.allowSelect&&(null===(t=t.diagram)||!!t.allowSelect)},(e=$c.prototype).Pd=function(t){this.G=t?131072|this.G:-131073&this.G},e.dh=function(){var t=this.containingGroup;null!==t&&(t.w(),null!==t.placeholder&&t.placeholder.w(),t.vd())},e.N=function(){var t=this.diagram;null!==t&&!Yr(this)&&!hh(this)&&this.isVisible()&&this.Eb.v()&&t.N(ih(this,this.Eb))},e.w=function(){cl.prototype.w.call(this);var t=this.diagram;null!==t&&(t.te.add(this),this instanceof xh&&null!==this.labeledLink&&Dr(this.labeledLink),t.Mb(!0))},e.yo=function(t){t||null!==(t=this.ph)&&Dh(t,this)},e.zo=function(t){t||null!==(t=this.ph)&&Fh(t,this)},e.Fj=function(){var t=this.data;if(null!==t){var e=this.diagram;null!==e&&(null!==(e=e.model)&&e.Kl(t))}},e.Xy=function(){return function t(e,n){var i=n.containingGroup;return null!==i?1+t(e,i):n instanceof xh&&null!==(n=n.labeledLink)?t(e,n):0}(this,this)},e.az=function(){return function t(e,n){var i=n.containingGroup;return null!==i||n instanceof xh&&null!==(i=n.labeledLink)?t(e,i):n}(this,this)},e.Md=function(t){return t instanceof jh&&function t(e,n,i){if(n===i||null===i)return!1;var a=n.containingGroup;return!(null===a||a!==i&&!t(e,a,i))||n instanceof xh&&null!==(n=n.labeledLink)&&t(e,n,i)}(this,this,t)},e.Sw=function(t){if(null===t)return null;if(this===t)return this.containingGroup;for(var e=this;null!==e;){if(e instanceof jh&&ph(e,!0),e instanceof xh){var n=e.labeledLink;null!==n&&(e=n)}e=e.containingGroup}for(n=null,e=t;null!==e;){if(0!=(1048576&e.G)){n=e;break}e instanceof xh&&(null!==(t=e.labeledLink)&&(e=t)),e=e.containingGroup}for(e=this;null!==e;)e instanceof jh&&ph(e,!1),e instanceof xh&&(null!==(t=e.labeledLink)&&(e=t)),e=e.containingGroup;return n},$c.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.isTemporary||this instanceof xh&&this.isLinkLabel)},$c.prototype.D=function(t){if(void 0===t&&(t=16777215),this.isLayoutPositioned&&0!=(t&this.layoutConditions)){var e=this.layer;null!==e&&e.isTemporary||this instanceof xh&&this.isLinkLabel?e=!1:e=null===(e=this.diagram)||!e.undoManager.isUndoingRedoing}else e=!1;if(e)if(null!==(e=this.ph)){var n=e.layout;null!==n?n.D():e.D(t)}else null!==(t=this.diagram)&&(null!==(t=t.layout)&&t.D())},u.Object.defineProperties($c.prototype,{key:{get:function(){var t=this.diagram;if(null!==t)return t.model.ta(this.data)}},adornments:{get:function(){return null===this.Hf?Y:this.Hf.iteratorValues}},layer:{get:function(){return this.Ah}},diagram:{get:function(){var t=this.Ah;return null==t?null:t.diagram}},layerName:{get:function(){return this.zg},set:function(t){var e=this.zg;if(e!==t){var n=this.diagram;if((null===n||null!==n.Ij(t)&&!n.partManager.addsToTemporaryLayer)&&(this.zg=t,null!==n&&n.Va(),this.g("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&(null!==(n=e.diagram)&&(null!==(t=n.Ij(t))&&t!==e)))){var i=e.lc(-1,this,!0);if(0<=i&&n.bb(mn,"parts",e,this,null,i,!0),i=t.ii(99999999,this,!0),e.visible!==t.visible&&this.Ub(t.visible),0<=i&&n.bb(gn,"parts",t,null,this,!0,i),null!==(i=this.layerChanged)){var a=n.$;n.$=!0,i(this,e,t),n.$=a}}}}},layerChanged:{get:function(){return null!==this.O?this.O.Zp:null},set:function(t){var e=this.layerChanged;e!==t&&(Jc(this),this.O.Zp=t,this.g("layerChanged",e,t))}},zOrder:{get:function(){return this.eo},set:function(t){var e=this.eo;if(e!==t){this.eo=t;var n=this.layer;null!==n&&Sa(n,-1,this),this.g("zOrder",e,t),null!==(t=this.diagram)&&t.N()}}},locationObject:{get:function(){if(null===this.af){var t=this.locationObjectName;""!==t?(t=this.fb(t),this.af=null!==t?t:this):this instanceof vh&&this.type!==cl.Link&&null!==this.placeholder?this.af=this.placeholder:this.af=this}return this.af.visible?this.af:this}},minLocation:{get:function(){return null!==this.O?this.O.oq:at},set:function(t){var e=this.minLocation;e.C(t)||(t=t.J(),Jc(this),this.O.oq=t,this.g("minLocation",e,t))}},maxLocation:{get:function(){return null!==this.O?this.O.jq:ot},set:function(t){var e=this.maxLocation;e.C(t)||(t=t.J(),Jc(this),this.O.jq=t,this.g("maxLocation",e,t))}},locationObjectName:{get:function(){return null!==this.O?this.O.gq:""},set:function(t){var e=this.locationObjectName;e!==t&&(Jc(this),this.O.gq=t,this.af=null,this.w(),this.g("locationObjectName",e,t))}},locationSpot:{get:function(){return null!==this.O?this.O.hq:ee},set:function(t){var e=this.locationSpot;e.C(t)||(t=t.J(),Jc(this),this.O.hq=t,this.w(),this.g("locationSpot",e,t))}},location:{get:function(){return this.de},set:function(t){var e=t.x,n=t.y,i=this.de;if(!(i.x===e||isNaN(i.x)&&isNaN(e))||!(i.y===n||isNaN(i.y)&&isNaN(n))){if(e=t=t.copy(),this.eh())e=!1;else{if(this.de=e,this.G|=2097152,!1===Yr(this)&&(th(this),(n=this.pa).v())){var a=this.diagram;if(null===a||a.animationManager.isTicking||!a.undoManager.isUndoingRedoing){var o=n.copy();n.h(n.x+(e.x-i.x),n.y+(e.y-i.y)),ah(this,a,n,o.x,o.y),this.g("position",o,n.copy())}}e=!0}e&&this.g("location",i,t.copy())}}},category:{get:function(){return this.Jf},set:function(t){var e=this.Jf;if(e!==t){var n=this.diagram,i=this.data,a=null;if(null!==n&&null!==i&&!(this instanceof vh)){var o=n.model.undoManager;o.isEnabled&&!o.isUndoingRedoing&&(a=this.clone()).R.addAll(this.R)}this.Jf=t,this.g("category",e,t),null===n||null===i||this instanceof vh?this instanceof vh&&(null!==(a=this.adornedPart)&&(null!==(t=a.Hf)&&t.remove(e),a.Tg(this.category,this))):(o=n.model).undoManager.isUndoingRedoing||(this.eh()?(n.partManager.setLinkCategoryForData(i,t),null!==(n=n.partManager.findLinkTemplateForCategory(t))&&(Pl(n),null!==(n=n.copy())&&ch(this,n,e,t))):(null!==o&&o.Rl(i,t),null!==(n=Lu(n.partManager,i,t))&&(Pl(n),null===(n=n.copy())||n instanceof Ih||(i=this.location.copy(),ch(this,n,e,t),this.location.v()||(this.location=i)))),null!==a&&((e=this.clone()).R.addAll(this.R),this.g("self",a,e)))}}},self:{get:function(){return this},set:function(t){ch(this,t,this.category,t.category)}},copyable:{get:function(){return 0!=(1&this.G)},set:function(t){var e=0!=(1&this.G);e!==t&&(this.G^=1,this.g("copyable",e,t))}},deletable:{get:function(){return 0!=(2&this.G)},set:function(t){var e=0!=(2&this.G);e!==t&&(this.G^=2,this.g("deletable",e,t))}},textEditable:{get:function(){return 0!=(4&this.G)},set:function(t){var e=0!=(4&this.G);e!==t&&(this.G^=4,this.g("textEditable",e,t),this.Rb())}},groupable:{get:function(){return 0!=(8&this.G)},set:function(t){var e=0!=(8&this.G);e!==t&&(this.G^=8,this.g("groupable",e,t))}},movable:{get:function(){return 0!=(16&this.G)},set:function(t){var e=0!=(16&this.G);e!==t&&(this.G^=16,this.g("movable",e,t))}},selectionAdorned:{get:function(){return 0!=(32&this.G)},set:function(t){var e=0!=(32&this.G);e!==t&&(this.G^=32,this.g("selectionAdorned",e,t),this.Rb())}},isInDocumentBounds:{get:function(){return 0!=(64&this.G)},set:function(t){var e=0!=(64&this.G);if(e!==t){this.G^=64;var n=this.diagram;null!==n&&n.Va(),this.g("isInDocumentBounds",e,t)}}},isLayoutPositioned:{get:function(){return 0!=(128&this.G)},set:function(t){var e=0!=(128&this.G);e!==t&&(this.G^=128,this.g("isLayoutPositioned",e,t),this.D(t?4:8))}},selectable:{get:function(){return 0!=(256&this.G)},set:function(t){var e=0!=(256&this.G);e!==t&&(this.G^=256,this.g("selectable",e,t),this.Rb())}},reshapable:{get:function(){return 0!=(512&this.G)},set:function(t){var e=0!=(512&this.G);e!==t&&(this.G^=512,this.g("reshapable",e,t),this.Rb())}},resizable:{get:function(){return 0!=(1024&this.G)},set:function(t){var e=0!=(1024&this.G);e!==t&&(this.G^=1024,this.g("resizable",e,t),this.Rb())}},rotatable:{get:function(){return 0!=(2048&this.G)},set:function(t){var e=0!=(2048&this.G);e!==t&&(this.G^=2048,this.g("rotatable",e,t),this.Rb())}},isSelected:{get:function(){return 0!=(4096&this.G)},set:function(t){var e=0!=(4096&this.G);if(e!==t){var n=this.diagram;if(!t||this.canSelect()&&!(null!==n&&n.selection.count>=n.maxSelectionCount)){this.G^=4096;var i=!1;if(null!==n){i=n.skipsUndoManager,n.skipsUndoManager=!0;var a=n.selection;a.ja(),t?a.add(this):a.remove(this),a.freeze()}this.g("isSelected",e,t),this.Rb(),null!==(t=this.selectionChanged)&&t(this),null!==n&&(n.Mb(),n.skipsUndoManager=i)}}}},isHighlighted:{get:function(){return 0!=(524288&this.G)},set:function(t){var e=0!=(524288&this.G);if(e!==t){this.G^=524288;var n=this.diagram;null!==n&&((n=n.highlighteds).ja(),t?n.add(this):n.remove(this),n.freeze()),this.g("isHighlighted",e,t),this.N(),null!==(t=this.highlightedChanged)&&t(this)}}},isShadowed:{get:function(){return 0!=(8192&this.G)},set:function(t){var e=0!=(8192&this.G);e!==t&&(this.G^=8192,this.g("isShadowed",e,t),this.N())}},isAnimated:{get:function(){return 0!=(262144&this.G)},set:function(t){var e=0!=(262144&this.G);e!==t&&(this.G^=262144,this.g("isAnimated",e,t))}},highlightedChanged:{get:function(){return null!==this.O?this.O.Qp:null},set:function(t){var e=this.highlightedChanged;e!==t&&(Jc(this),this.O.Qp=t,this.g("highlightedChanged",e,t))}},selectionObjectName:{get:function(){return null!==this.O?this.O.Sq:""},set:function(t){var e=this.selectionObjectName;e!==t&&(Jc(this),this.O.Sq=t,this.Kg=null,this.g("selectionObjectName",e,t))}},selectionAdornmentTemplate:{get:function(){return null!==this.O?this.O.Qq:null},set:function(t){var e=this.selectionAdornmentTemplate;e!==t&&(Jc(this),this.O.Qq=t,this.g("selectionAdornmentTemplate",e,t))}},selectionObject:{get:function(){if(null===this.Kg){var t=this.selectionObjectName;null!==t&&""!==t?(t=this.fb(t),this.Kg=null!==t?t:this):this instanceof Ih?(t=this.path,this.Kg=null!==t?t:this):this.Kg=this}return this.Kg}},selectionChanged:{get:function(){return null!==this.O?this.O.Rq:null},set:function(t){var e=this.selectionChanged;e!==t&&(Jc(this),this.O.Rq=t,this.g("selectionChanged",e,t))}},resizeAdornmentTemplate:{get:function(){return null!==this.O?this.O.Eq:null},set:function(t){var e=this.resizeAdornmentTemplate;e!==t&&(Jc(this),this.O.Eq=t,this.g("resizeAdornmentTemplate",e,t))}},resizeObjectName:{get:function(){return null!==this.O?this.O.Gq:""},set:function(t){var e=this.resizeObjectName;e!==t&&(Jc(this),this.O.Gq=t,this.g("resizeObjectName",e,t))}},resizeObject:{get:function(){var t=this.resizeObjectName;return""!==t&&null!==(t=this.fb(t))?t:this}},resizeCellSize:{get:function(){return null!==this.O?this.O.Fq:Ot},set:function(t){var e=this.resizeCellSize;e.C(t)||(t=t.J(),Jc(this),this.O.Fq=t,this.g("resizeCellSize",e,t))}},rotateAdornmentTemplate:{get:function(){return null!==this.O?this.O.Hq:null},set:function(t){var e=this.rotateAdornmentTemplate;e!==t&&(Jc(this),this.O.Hq=t,this.g("rotateAdornmentTemplate",e,t))}},rotateObjectName:{get:function(){return null!==this.O?this.O.Iq:""},set:function(t){var e=this.rotateObjectName;e!==t&&(Jc(this),this.O.Iq=t,this.g("rotateObjectName",e,t))}},rotateObject:{get:function(){var t=this.rotateObjectName;return""!==t&&null!==(t=this.fb(t))?t:this}},rotationSpot:{get:function(){return null!==this.O?this.O.Kq:Me},set:function(t){var e=this.rotationSpot;e.C(t)||(t=t.J(),Jc(this),this.O.Kq=t,this.g("rotationSpot",e,t))}},text:{get:function(){return this.cc},set:function(t){var e=this.cc;e!==t&&(this.cc=t,this.g("text",e,t))}},containingGroup:{get:function(){return this.ph},set:function(t){if(this.Tc()){var e=this.ph;if(e!==t){null===t||this!==t&&!t.Md(this)||(this===t&&b("Cannot make a Group a member of itself: "+this.toString()),b("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.D(2);var n=this.diagram;if(null!==e?Fh(e,this):this instanceof jh&&null!==n&&n.Uh.remove(this),this.ph=t,null!==t?Dh(t,this):this instanceof jh&&null!==n&&n.Uh.add(this),this.D(1),null!==n&&n.$){var i=this.data,a=n.model;if(null!==i&&a.Oj()){var o=a.ta(null!==t?t.data:null);a.Po(i,o)}}if(null!==(i=this.containingGroupChanged)&&(a=!0,null!==n&&(a=n.$,n.$=!0),i(this,e,t),null!==n&&(n.$=a)),this instanceof jh)for(mh(n=new Q,this,!0,0,!0),n=n.iterator;n.next();)if((i=n.value)instanceof xh)for(i=i.linksConnected;i.next();)zh(i.value);if(this instanceof xh){for(n=this.linksConnected;n.next();)zh(n.value);null!==(n=this.labeledLink)&&zh(n)}this.g("containingGroup",e,t),null!==t&&(null!==(e=t.layer)&&Sa(e,-1,t))}}else b("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return null!==this.O?this.O.np:null},set:function(t){var e=this.containingGroupChanged;e!==t&&(Jc(this),this.O.np=t,this.g("containingGroupChanged",e,t))}},isTopLevel:{get:function(){return!(null!==this.containingGroup||this instanceof xh&&null!==this.labeledLink)}},layoutConditions:{get:function(){return null!==this.O?this.O.bq:127},set:function(t){var e=this.layoutConditions;e!==t&&(Jc(this),this.O.bq=t,this.g("layoutConditions",e,t))}},dragComputation:{get:function(){return null!==this.O?this.O.yp:null},set:function(t){var e=this.dragComputation;e!==t&&(Jc(this),this.O.yp=t,this.g("dragComputation",e,t))}},shadowOffset:{get:function(){return null!==this.O?this.O.Wq:rt},set:function(t){var e=this.shadowOffset;e.C(t)||(t=t.J(),Jc(this),this.O.Wq=t,this.N(),this.g("shadowOffset",e,t))}},shadowColor:{get:function(){return null!==this.O?this.O.Vq:"gray"},set:function(t){var e=this.shadowColor;e!==t&&(Jc(this),this.O.Vq=t,this.N(),this.g("shadowColor",e,t))}},shadowBlur:{get:function(){return null!==this.O?this.O.Lg:4},set:function(t){var e=this.shadowBlur;e!==t&&(Jc(this),this.O.Lg=t,this.N(),this.g("shadowBlur",e,t))}}}),$c.prototype.invalidateLayout=$c.prototype.D,$c.prototype.findCommonContainingGroup=$c.prototype.Sw,$c.prototype.isMemberOf=$c.prototype.Md,$c.prototype.findTopLevelPart=$c.prototype.az,$c.prototype.findSubGraphLevel=$c.prototype.Xy,$c.prototype.ensureBounds=$c.prototype.Za,$c.prototype.getDocumentBounds=$c.prototype.gi,$c.prototype.findObject=$c.prototype.fb,$c.prototype.moveTo=$c.prototype.moveTo,$c.prototype.invalidateAdornments=$c.prototype.Rb,$c.prototype.clearAdornments=$c.prototype.zj,$c.prototype.removeAdornment=$c.prototype.Af,$c.prototype.addAdornment=$c.prototype.Tg,$c.prototype.findAdornment=$c.prototype.Hj,$c.prototype.updateTargetBindings=$c.prototype.Ka;var yh=!1;function vh(t,e){void 0===t||t instanceof Ys||"string"==typeof t?$c.call(this,t):($c.call(this),t&&(e=t)),this.G&=-257,this.zg="Adornment",this.me=null,this.ew=0,this.yw=!1,this.j=this.Xa=null,e&&Object.assign(this,e)}function wh(){this.ic=!1,this.ur=this.bj=this.eq=this.cq=null,this.ap=Qt,this.Dq=Nh,this.gr=this.dj=this.mq=this.lq=null}function xh(t,e){void 0===t||t instanceof Ys||"string"==typeof t?$c.call(this,t):($c.call(this),t&&(e=t)),this.U=13,this.ya=null,this.jb=new $,this.sc=this.Qe=this.Mk=null,this.Rg=!1,e&&Object.assign(this,e)}function bh(t){null===t.ya?t.ya=new wh:t.ya.ic&&(t.ya=t.ya.copy())}function Sh(t,e){null!==e&&(null===t.Qe&&(t.Qe=new Q),t.Qe.add(e))}function kh(t,e,n,i){if(null===e||null===t.Qe)return null;for(var a=t.Qe.iterator;a.next();){var o=a.value;if(o.ds===t&&o.Ou===e&&o.vx===n&&o.wx===i||o.ds===e&&o.Ou===t&&o.vx===i&&o.wx===n)return o}return null}function Ph(t,e){for(t=t.linksConnected;t.next();){var n=t.value;n.fromPort!==e&&n.toPort!==e||(Mh(n.fromPort),Mh(n.toPort),n.ab())}}function Mh(t){if(null!==t){var e=t.Hn;null!==e&&e.zl(),null===(e=(t=t.part).containingGroup)||t.isVisible()||Mh(e.port)}}function _h(t,e,n){Mh(n);var i=t.jb.contains(e);if(i||t.jb.add(e),!i||e.fromNode===e.toNode){var a=t.linkConnected;if(null!==a){var o=!0,r=t.diagram;null!==r&&(o=r.$,r.$=!0),a(t,e,n),null!==r&&(r.$=o)}}!i&&e.isTreeLink&&(n=e.fromNode,e=e.toNode,null!==n&&null!==e&&n!==e&&(i=!0,null!==(t=t.diagram)&&(i=t.isTreePathToChildren),o=i?n:e,(a=i?e:n).Rg||(a.Rg=o),!o.isTreeLeaf||null!==t&&t.undoManager.isUndoingRedoing||(i?n===o&&(o.isTreeLeaf=!1):e===o&&(o.isTreeLeaf=!1))))}function Lh(t,e,n){Mh(n);var i=t.jb.remove(e),a=null;if(i||e.toNode===e.fromNode){var o=t.linkDisconnected;if(a=t.diagram,null!==o){var r=!0;null!==a&&(r=a.$,a.$=!0),o(t,e,n),null!==a&&(a.$=r)}}i&&e.isTreeLink&&(n=!0,null!==a&&(n=a.isTreePathToChildren),t=n?e.toNode:e.fromNode,e=n?e.fromNode:e.toNode,null!==t&&(t.Rg=!1),null===e||e.isTreeLeaf||(0===e.jb.count?(e.Rg=null,null!==a&&a.undoManager.isUndoingRedoing||(e.isTreeLeaf=!0)):Th(e)))}function Th(t){if(t.Rg=!1,0!==t.jb.count){var e=!0,n=t.diagram;if(null===n||!n.undoManager.isUndoingRedoing){for(null!==n&&(e=n.isTreePathToChildren),n=t.jb.iterator;n.next();){var i=n.value;if(i.isTreeLink)if(e){if(i.fromNode===t)return void(t.isTreeLeaf=!1)}else if(i.toNode===t)return void(t.isTreeLeaf=!1)}t.isTreeLeaf=!0}}}function Oh(t){null===t.sc?t.sc=new pt:t.sc.clear(),t.$l(t,(function(t,e){Ah(t,e)})),0===t.sc.count&&t.sc.add("",t)}function Ah(t,e){var n=e.portId;null!==n&&null!==t.sc&&t.sc.add(n,e)}function Eh(t,e,n){var i=e.portId;if(null!==i&&(null!==t.sc&&t.sc.remove(i),null!==(e=t.diagram)&&n)){for(n=null,t=t.findLinksConnected(i);t.next();)i=t.value,null===n&&(n=A()),n.push(i);if(null!==n){for(t=0;t<n.length;t++)e.remove(n[t]);E(n)}}}$c.className="Part",$c.LayoutNone=0,$c.LayoutAdded=1,$c.LayoutRemoved=2,$c.LayoutShown=4,$c.LayoutHidden=8,$c.LayoutNodeSized=16,$c.LayoutGroupLayout=32,$c.LayoutNodeReplaced=64,$c.LayoutStandard=127,$c.LayoutAll=16777215,d(vh,$c),vh.prototype.toString=function(){var t=this.adornedPart;return"Adornment("+this.category+")"+(null!==t?t.toString():"")},vh.prototype.updateRelationshipsFromData=function(){},vh.prototype.Cl=function(t){var e=this.adornedObject,n=null==e?void 0:e.part;if(n instanceof Ih&&e instanceof Gl){e=n.path,n.Cl(t),t=e.geometry,e=(n=this.R.s).length;for(var i=0;i<e;i++){var a=n[i];a.isPanelMain&&a instanceof Gl&&(a.ua=t)}}},vh.prototype.mi=function(){var t=this.me;return null===t||(null===(t=t.part)||!Yr(t))},vh.prototype.Tc=function(){return!1},vh.prototype.Zj=function(t,e,n,i,a,o,r){if(t===gn&&"elements"===e){if(a instanceof Rh)null===this.Xa&&(this.Xa=a);else if(a instanceof cl){var s=a.ul((function(t){return t instanceof Rh}));s instanceof Rh&&null===this.Xa&&(this.Xa=s)}}else t===mn&&"elements"===e&&null!==this.Xa&&(i===this.Xa||i instanceof cl&&this.Xa.jg(i))&&(this.Xa=null);$c.prototype.Zj.call(this,t,e,n,i,a,o,r)},vh.prototype.updateAdornments=function(){},vh.prototype.Fj=function(){},u.Object.defineProperties(vh.prototype,{placeholder:{get:function(){return this.Xa}},adornedObject:{get:function(){return this.me},set:function(t){var e=this.adornedPart,n=null;null!==t&&(n=t.part),null===e||null!==t&&e===n||e.Af(this.category),this.me=t,null!==n&&n.Tg(this.category,this)}},adornedPart:{get:function(){var t=this.me;return null!==t?t.part:null}},containingGroup:{get:function(){return null}}}),vh.className="Adornment",wh.prototype.copy=function(){var t=new wh;return t.cq=this.cq,t.eq=this.eq,t.bj=this.bj,t.ur=this.ur,t.ap=this.ap.J(),t.Dq=this.Dq,t.lq=this.lq,t.mq=this.mq,t.dj=this.dj,t.gr=this.gr,t},d(xh,$c),xh.prototype.cloneProtected=function(t){$c.prototype.cloneProtected.call(this,t),t.U=this.U,null!==this.ya&&(t.ya=this.ya.ic?this.ya:this.ya.copy())},(e=xh.prototype).qf=function(t){$c.prototype.qf.call(this,t),t.vd(),t.Qe=this.Qe,t.sc=null},e.ih=function(){$c.prototype.ih.call(this),null!==this.ya&&(this.ya.ic=!0)},e.uz=function(t,e,n){null==e&&(e=""),null==n&&(n=""),null!==(t=kh(this,t,e,n))&&t.zl()},e.Zj=function(t,e,n,i,a,o,r){(t===gn&&"elements"===e||t===mn&&"elements"===e)&&(this.sc=null),$c.prototype.Zj.call(this,t,e,n,i,a,o,r)},e.vd=function(t){for(var e=this.linksConnected;e.next();){var n=e.value;void 0!==t&&t.contains(n)||(Mh(n.fromPort),Mh(n.toPort),n.ab())}},e.mi=function(){return!0},xh.prototype.getAvoidableRect=function(t){return t.set(this.actualBounds),t.fo(this.avoidableMargin),t},xh.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.containingGroup;return t},xh.prototype.isVisible=function(){if(!$c.prototype.isVisible.call(this))return!1;var t=!0,e=Ko,n=this.diagram;if(null!==n){if(n.animationManager.fs(this))return!0;t=n.isTreePathToChildren,e=n.treeCollapsePolicy}if(e===Ko){if(null!==(t=this.ig())&&!t.isTreeExpanded)return!1}else if(e===Zo){if(0<(t=t?this.wu():this.xu()).count&&t.all((function(t){return!t.isTreeExpanded})))return!1}else if(e===$o&&(0<(t=t?this.wu():this.xu()).count&&t.any((function(t){return!t.isTreeExpanded}))))return!1;return null===(t=this.labeledLink)||t.isVisible()},xh.prototype.Ub=function(t){$c.prototype.Ub.call(this,t);for(var e=this.linksConnected;e.next();){var n=e.value;if(t&&null!==this.containingGroup){var i=n.wo(this);null===i||i.Md(this.containingGroup)||n.ab()}n.Ub(t)}},xh.prototype.Tw=function(){var t=new Q,e=new Q;return function t(e,n,i,a){if(null!==n&&!i.has(n)){i.add(n);var o=!0,r=e.diagram;null!==r&&(o=r.isTreePathToChildren),n.linksConnected.each((function(r){r.isTreeLink?(o?r.fromNode===n:r.toNode===n)&&t(e,o?r.toNode:r.fromNode,i,a):a.add(r)}))}}(this,this,t,e),e.iterator},xh.prototype.findLinksConnected=function(t){if(void 0===t&&(t=null),null===t)return this.jb.iterator;var e=new K(this.jb),n=this;return e.predicate=function(e){return e.fromNode===n&&e.fromPortId===t||e.toNode===n&&e.toPortId===t},e},(e=xh.prototype).ro=function(t){void 0===t&&(t=null);var e=new K(this.jb),n=this;return e.predicate=function(e){return e.fromNode===n&&(null===t||e.fromPortId===t)},e},e.Kd=function(t){void 0===t&&(t=null);var e=new K(this.jb),n=this;return e.predicate=function(e){return e.toNode===n&&(null===t||e.toPortId===t)},e},e.vu=function(t){void 0===t&&(t=null);for(var e=null,n=null,i=this.jb.iterator;i.next();){var a=i.value;a.fromNode===this?null!==t&&a.fromPortId!==t||(a=a.toNode,null!==e?e.add(a):null!==n&&n!==a?((e=new Q).add(n),e.add(a)):n=a):a.toNode!==this||null!==t&&a.toPortId!==t||(a=a.fromNode,null!==e?e.add(a):null!==n&&n!==a?((e=new Q).add(n),e.add(a)):n=a)}return null!==e?e.iterator:null!==n?new X(n):Y},e.xu=function(t){void 0===t&&(t=null);for(var e=null,n=null,i=this.jb.iterator;i.next();){var a=i.value;a.fromNode!==this||null!==t&&a.fromPortId!==t||(a=a.toNode,null!==e?e.add(a):null!==n&&n!==a?((e=new Q).add(n),e.add(a)):n=a)}return null!==e?e.iterator:null!==n?new X(n):Y},e.wu=function(t){void 0===t&&(t=null);for(var e=null,n=null,i=this.jb.iterator;i.next();){var a=i.value;a.toNode!==this||null!==t&&a.toPortId!==t||(a=a.fromNode,null!==e?e.add(a):null!==n&&n!==a?((e=new Q).add(n),e.add(a)):n=a)}return null!==e?e.iterator:null!==n?new X(n):Y},e.Sy=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=new K(this.jb),a=this;return i.predicate=function(i){return!(i.fromNode!==a||i.toNode!==t||null!==e&&i.fromPortId!==e||null!==n&&i.toPortId!==n)||!(i.fromNode!==t||i.toNode!==a||null!==n&&i.fromPortId!==n||null!==e&&i.toPortId!==e)},i},e.Ty=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=new K(this.jb),a=this;return i.predicate=function(i){return!(i.fromNode!==a||i.toNode!==t||null!==e&&i.fromPortId!==e||null!==n&&i.toPortId!==n)},i},xh.prototype.updateRelationshipsFromData=function(){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)},(e=xh.prototype).yo=function(t){$c.prototype.yo.call(this,t),t||(Th(this),null!==(t=this.Mk)&&Hh(t,this))},e.zo=function(t){$c.prototype.zo.call(this,t),t||null!==(t=this.Mk)&&null!==t.rd&&(t.rd.remove(this),t.w())},e.Fj=function(){if(0<this.jb.count){var t=this.diagram;if(null!==t)for(var e=null===t.commandHandler||t.commandHandler.deletesConnectedLinks,n=this.jb.copy().iterator;n.next();){var i=n.value;e?t.remove(i):(i.fromNode===this&&(i.fromNode=null),i.toNode===this&&(i.toNode=null))}}this.labeledLink=null,$c.prototype.Fj.call(this)},e.Lr=function(t){if(null===this.sc){if(""===t&&!1===this.He)return this;Oh(this)}var e=this.sc.I(t);return null!==e||""!==t&&null!==(e=this.sc.I(""))?e:this},e.wz=function(t){if(null===t||t===this)return!1;var e=!0,n=this.diagram;if(null!==n&&(e=n.isTreePathToChildren),n=this,e)for(;n!==t;){e=null;for(var i=n.jb.iterator;i.next();){var a=i.value;if(a.isTreeLink&&((e=a.fromNode)!==n&&e!==this))break}if(e===this||null===e||e===n)return!1;n=e}else for(;n!==t;){for(e=null,i=n.jb.iterator;i.next()&&(!(a=i.value).isTreeLink||((e=a.toNode)===n||e===this)););if(e===this||null===e||e===n)return!1;n=e}return!0},e.ez=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this,t)for(;;){t=null;for(var n=e.jb.iterator;n.next();){var i=n.value;if(i.isTreeLink&&((t=i.fromNode)!==e&&t!==this))break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,n=e.jb.iterator;n.next()&&(!(i=n.value).isTreeLink||((t=i.toNode)===e||t===this)););if(t===this)return this;if(null===t||t===e)return e;e=t}},e.Py=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)ph(e,!0),e=e.ig();var n=null;for(e=t;null!==e;){if(0!=(1048576&e.G)){n=e;break}e=e.ig()}for(e=this;null!==e;)ph(e,!1),e=e.ig();return n},e.$g=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this.jb.iterator,t){for(;e.next();)if((t=e.value).isTreeLink&&t.fromNode!==this)return t}else for(;e.next();)if((t=e.value).isTreeLink&&t.toNode!==this)return t;return null},e.ig=function(){var t=this.Rg;if(null===t)return null;if(t instanceof xh)return t;var e=!0;if(null!==(t=this.diagram)&&(e=t.isTreePathToChildren),t=this.jb.iterator,e){for(;t.next();)if((e=t.value).isTreeLink&&(e=e.fromNode)!==this)return this.Rg=e}else for(;t.next();)if((e=t.value).isTreeLink&&(e=e.toNode)!==this)return this.Rg=e;return this.Rg=null},e.cz=function(){var t=new Q;return function t(e,n){n.add(e);var i=e.$g();null!==i&&(n.add(i),null!==(e=e.ig())&&t(e,n))}(this,t),t},e.bz=function(){return function t(e,n){return null===(n=n.ig())?0:1+t(e,n)}(this,this)},e.to=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren),e=new K(this.jb);var n=this;return e.predicate=t?function(t){return!(!t.isTreeLink||t.fromNode!==n)}:function(t){return!(!t.isTreeLink||t.toNode!==n)},e},e.zu=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren);var n=e=null,i=this.jb.iterator;if(t)for(;i.next();)(t=i.value).isTreeLink&&t.fromNode===this&&(t=t.toNode,null!==e?e.add(t):null!==n&&n!==t?((e=new $).add(n),e.add(t)):n=t);else for(;i.next();)(t=i.value).isTreeLink&&t.toNode===this&&(t=t.fromNode,null!==e?e.add(t):null!==n&&n!==t?((e=new $).add(n),e.add(t)):n=t);return null!==e?e.iterator:null!==n?new X(n):Y},e.dz=function(t){void 0===t&&(t=1/0);var e=new Q;return mh(e,this,!1,t,!0),e},xh.prototype.collapseTree=function(t){void 0===t&&(t=1),1>t&&(t=1);var e=this.diagram;if(null!==e&&!e.Ie){e.Ie=!0;var n=new Q;n.add(this),function t(e,n,i,a,o,r,s){if(1<a)for(var l=i?e.ro():e.Kd();l.next();){var c=l.value;c.isTreeLink&&(null===(c=c.wo(e))||c===e||n.contains(c)||(n.add(c),t(c,n,i,a-1,o,r,s)))}else!function t(e,n,i,a,o,r){for(var s=o===e||e.isTreeExpanded,l=i?e.ro():e.Kd();l.next();){var c=l.value;if(c.isTreeLink&&(null!==(c=c.wo(e))&&c!==e)){var h=n.contains(c);h||n.add(c),s&&(r&&a.vj(c,o),c.dh(),c.Ub(!1)),c.isTreeExpanded&&(c.wasTreeExpanded=c.isTreeExpanded,h||t(c,n,i,a,o,r))}}e.isTreeExpanded=!1}(e,n,i,o,r,s)}(this,n,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===Ko),e.Ie=!1}},xh.prototype.expandTree=function(t){void 0===t&&(t=2),2>t&&(t=2);var e=this.diagram;if(null!==e&&!e.Ie){e.Ie=!0;var n=new Q;n.add(this),function t(e,n,i,a,o,r,s){for(var l=r!==e&&e.isTreeExpanded,c=i?e.ro():e.Kd();c.next();){var h=c.value;h.isTreeLink&&(l||h.xd||h.ab(),null!==(h=h.wo(e))&&h!==e&&!n.contains(h)&&(n.add(h),l||(h.Ub(!0),h.dh(),s&&o.xj(h,r)),2<a||h.wasTreeExpanded))&&(h.wasTreeExpanded=!1,t(h,n,i,a-1,o,r,s))}e.isTreeExpanded=!0}(this,n,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===Ko),e.Ie=!1}},u.Object.defineProperties(xh.prototype,{portSpreading:{get:function(){return null!==this.ya?this.ya.Dq:Nh},set:function(t){var e=this.portSpreading;e!==t&&(bh(this),this.ya.Dq=t,this.g("portSpreading",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.vd())}},avoidable:{get:function(){return 0!=(8&this.U)},set:function(t){var e=0!=(8&this.U);if(e!==t){this.U^=8;var n=this.diagram;null!==n&&Ao(n,this),this.g("avoidable",e,t)}}},avoidableMargin:{get:function(){return null!==this.ya?this.ya.ap:Qt},set:function(t){"number"==typeof t&&(t=new Kt(t));var e=this.avoidableMargin;if(!e.C(t)){t=t.J(),bh(this),this.ya.ap=t;var n=this.diagram;null!==n&&Ao(n,this),this.g("avoidableMargin",e,t)}}},linksConnected:{get:function(){return this.jb.iterator}},linkConnected:{get:function(){return null!==this.ya?this.ya.cq:null},set:function(t){var e=this.linkConnected;e!==t&&(bh(this),this.ya.cq=t,this.g("linkConnected",e,t))}},linkDisconnected:{get:function(){return null!==this.ya?this.ya.eq:null},set:function(t){var e=this.linkDisconnected;e!==t&&(bh(this),this.ya.eq=t,this.g("linkDisconnected",e,t))}},linkValidation:{get:function(){return null!==this.ya?this.ya.bj:null},set:function(t){var e=this.linkValidation;e!==t&&(bh(this),this.ya.bj=t,this.g("linkValidation",e,t))}},isLinkLabel:{get:function(){return null!==this.Mk}},labeledLink:{get:function(){return this.Mk},set:function(t){var e=this.Mk;if(e!==t){var n=this.diagram,i=this.data;if(null!==e){if(null!==e.rd&&(e.rd.remove(this),e.w()),null!==n&&null!==i&&!n.undoManager.isUndoingRedoing){var a=e.data,o=n.model;if(null!==a&&o.ki()){var r=o.ta(i);void 0!==r&&o.xx(a,r)}}this.containingGroup=null}this.Mk=t,null!==t&&(Hh(t,this),null===n||null===i||n.undoManager.isUndoingRedoing||(a=t.data,n=n.model,null!==a&&n.ki()&&(void 0!==(i=n.ta(i))&&n.hu(a,i))),this.containingGroup=t.containingGroup),Dr(this),this.g("labeledLink",e,t)}}},port:{get:function(){return this.Lr("")}},ports:{get:function(){return null===this.sc&&Oh(this),this.sc.iteratorValues}},isTreeExpanded:{get:function(){return 0!=(1&this.U)},set:function(t){var e=0!=(1&this.U);if(e!==t){this.U^=1;var n=this.diagram;if(this.g("isTreeExpanded",e,t),null!==(e=this.treeExpandedChanged)){var i=!0;null!==n&&(i=n.$,n.$=!0),e(this),null!==n&&(n.$=i)}null!==n&&n.undoManager.isUndoingRedoing?this.Ub(t):t?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return 0!=(2&this.U)},set:function(t){var e=0!=(2&this.U);e!==t&&(this.U^=2,this.g("wasTreeExpanded",e,t))}},treeExpandedChanged:{get:function(){return null!==this.ya?this.ya.ur:null},set:function(t){var e=this.treeExpandedChanged;e!==t&&(bh(this),this.ya.ur=t,this.g("treeExpandedChanged",e,t))}},isTreeLeaf:{get:function(){return 0!=(4&this.U)},set:function(t){var e=0!=(4&this.U);e!==t&&(this.U^=4,this.g("isTreeLeaf",e,t))}}}),xh.prototype.expandTree=xh.prototype.expandTree,xh.prototype.collapseTree=xh.prototype.collapseTree,xh.prototype.findTreeParts=xh.prototype.dz,xh.prototype.findTreeChildrenNodes=xh.prototype.zu,xh.prototype.findTreeChildrenLinks=xh.prototype.to,xh.prototype.findTreeLevel=xh.prototype.bz,xh.prototype.findTreeParentChain=xh.prototype.cz,xh.prototype.findTreeParentNode=xh.prototype.ig,xh.prototype.findTreeParentLink=xh.prototype.$g,xh.prototype.findCommonTreeParent=xh.prototype.Py,xh.prototype.findTreeRoot=xh.prototype.ez,xh.prototype.isInTreeOf=xh.prototype.wz,xh.prototype.findPort=xh.prototype.Lr,xh.prototype.findLinksTo=xh.prototype.Ty,xh.prototype.findLinksBetween=xh.prototype.Sy,xh.prototype.findNodesInto=xh.prototype.wu,xh.prototype.findNodesOutOf=xh.prototype.xu,xh.prototype.findNodesConnected=xh.prototype.vu,xh.prototype.findLinksInto=xh.prototype.Kd,xh.prototype.findLinksOutOf=xh.prototype.ro,xh.prototype.findExternalTreeLinksConnected=xh.prototype.Tw,xh.prototype.invalidateConnectedLinks=xh.prototype.vd,xh.prototype.invalidateLinkBundle=xh.prototype.uz;var Ch=new H(xh,"SpreadingNone",10),Nh=new H(xh,"SpreadingEvenly",11),Bh=new H(xh,"SpreadingPacked",12);function jh(t,e){void 0===t||t instanceof Ys||"string"==typeof t?xh.call(this,t):(xh.call(this),t&&(e=t)),this.U|=4608,this.on=new Q,this.Xa=null,this.Kc=new Yd,this.Kc.group=this,this.Uk=new Q,this.ib=this.Dp=null,e&&Object.assign(this,e)}function Dh(t,e){if(t.on.add(e)){e instanceof jh&&t.Uk.add(e);var n=t.memberAdded;if(null!==n){var i=!0,a=t.diagram;null!==a&&(i=a.$,a.$=!0),n(t,e),null!==a&&(a.$=i)}t.isVisible()&&t.isSubGraphExpanded||e.Ub(!1)}e instanceof Ih&&!t.computesBoundsIncludingLinks||(null===(e=t.Xa)&&(e=t),e.w())}function Fh(t,e){if(t.on.remove(e)){e instanceof jh&&t.Uk.remove(e);var n=t.memberRemoved;if(null!==n){var i=!0,a=t.diagram;null!==a&&(i=a.$,a.$=!0),n(t,e),null!==a&&(a.$=i)}t.isVisible()&&t.isSubGraphExpanded||e.Ub(!0)}e instanceof Ih&&!t.computesBoundsIncludingLinks||(null===(e=t.Xa)&&(e=t),e.w())}function Rh(t){Tr.call(this),this.ub=Jt,this.Nn=new jt(NaN,NaN,NaN,NaN),t&&Object.assign(this,t)}function Ih(t){$c.call(this,cl.Link),this.Oa=8,this.Ue=null,this.Ve="",this.hf=this.Om=null,this.jf="",this.Xn=null,this.ck=dd,this.wm=0,this.ym=dd,this.zm=NaN,this.kj=sd,this.Sn=.5,this.rd=null,this.Jb=(new $).freeze(),this.ef=this.Eg=null,this.al=new jt,this.ua=new We,this.u=this.m=this.If=this.Mf=null,this.Yt=new gt,this.Gp=this.qw=this.pw=null,this.Ys=NaN,this.aa=null,this.j=[],t&&Object.assign(this,t)}function zh(t){var e=t.fromNode,n=t.toNode,i=null;if(i=null!==e?null!==n?e.Sw(n):e.containingGroup:null!==n?n.containingGroup:null,e=i,(n=t.ph)!==e){null!==n&&Fh(n,t),t.ph=e,null!==e&&Dh(e,t);var a=t.containingGroupChanged;if(null!==a){var o=!0,r=t.diagram;null!==r&&(o=r.$,r.$=!0),a(t,n,e),null!==r&&(r.$=o)}!t.xd||t.pw!==n&&t.qw!==n||t.ab()}if(t.isLabeledLink)for(t=t.labelNodes;t.next();)t.value.containingGroup=i}function Hh(t,e){null===t.rd&&(t.rd=new Q),t.rd.add(e),t.w()}function Vh(t,e,n){if(0!==e||0!==n)if(0===t.pointsCount)t.defaultFromPoint&&t.defaultFromPoint.offset(e,n),t.defaultToPoint&&t.defaultToPoint.offset(e,n);else{for(var i=t.xd,a=new $,o=t.Jb.iterator;o.next();){var r=o.value;a.add(new gt(r.x+e,r.y+n).freeze())}a.freeze(),o=t.Jb,t.Jb=a,r=t.diagram,isNaN(e)||isNaN(n)||null!==r&&r.animationManager.zb?t.w():(t.de.h(t.de.x+e,t.de.y+n),t.pa.h(t.pa.x+e,t.pa.y+n),Dr(t)),i?Gh(t):(t.defaultFromPoint&&(t.defaultFromPoint=t.i(0)),t.defaultToPoint&&(t.defaultToPoint=t.i(t.pointsCount-1))),null!==r&&r.animationManager.zb&&(e=r.animationManager,t.ef=a,e.cl.add(t)),t.g("points",o,a)}}function Gh(t){0===t.Jb.count?t.xd=!1:(t.xd=!0,t.Gp=null,t.Ys=NaN,t.defaultFromPoint=t.i(0),t.defaultToPoint=t.i(t.pointsCount-1),ed(t,!1))}function Uh(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x>=t.x?e.x=t.x+9e9:e.x=t.x-9e9,e.y=t.y):(e.y>=t.y?e.y=t.y+9e9:e.y=t.y-9e9,e.x=t.x),e}function Wh(t,e){var n=e.Hn;return null===n&&((n=new Gd).port=e,n.node=e.part,e.Hn=n),Wd(n,t)}function qh(t){return t===te||.5===t.x&&.5===t.y}function Yh(t){return.5===t.x&&.5===t.y?t:oe}function Xh(t){if(null===t.diagram||!t.isAvoiding||!Lo(t.diagram))return!1;var e=t.points.s,n=e.length;if(4>n)return!1;t=To(t.diagram,!0,t.containingGroup,null);for(var i=1;i<n-2;i++){var a=e[i],o=e[i+1];if(!t.Pj(Math.min(a.x,o.x),Math.min(a.y,o.y),Math.abs(a.x-o.x),Math.abs(a.y-o.y)))return!0}return!1}function Kh(t,e,n,i){return t=n-t,isNaN(t)||1/0===t||-1/0===t?NaN:(0>t&&(t=-t),e=i-e,isNaN(e)||1/0===e||-1/0===e?NaN:(0>e&&(e=-e),Ue.ca(t,0)?e:Ue.ca(e,0)?t:Math.sqrt(t*t+e*e)))}function Zh(t,e,n,i){var a=t.pointsCount;if(2>a)return e;if(n){var o=t.i(1);if(n=o.x-i.x,o=o.y-i.y,0===(i=Kh(e.x,e.y,n,o)))return e;a=2===a?.5*i:i,(t=t.computeShortLength(!0))>a&&(t=a),a=t*(o-e.y)/i,e.x+=t*(n-e.x)/i,e.y+=a}else{if(n=(o=t.i(a-2)).x-i.x,o=o.y-i.y,0===(i=Kh(e.x,e.y,n,o)))return e;a=2===a?.5*i:i,(t=t.computeShortLength(!1))>a&&(t=a),a=t*(e.y-o)/i,e.x-=t*(e.x-n)/i,e.y-=a}return e}function $h(t,e,n,i){for(var a=t.pointsCount,o=e;Ue.ca(e.x,o.x)&&Ue.ca(e.y,o.y);){if(n>=a)return a-1;o=t.i(n++)}if(!Ue.ca(e.x,o.x)&&!Ue.ca(e.y,o.y))return n-1;for(var r=o;Ue.ca(e.x,o.x)&&Ue.ca(o.x,r.x)&&(!i||(e.y>=o.y?o.y>=r.y:o.y<=r.y))||Ue.ca(e.y,o.y)&&Ue.ca(o.y,r.y)&&(!i||(e.x>=o.x?o.x>=r.x:o.x<=r.x));){if(n>=a)return a-1;r=t.i(n++)}return n-2}function Jh(t,e,n,i,a,o,r){if(!r&&td(t)){var s=(r=t.computeJumpLength())/2,l=[],c=0;if(t.isVisible()&&(c=function(t,e,n,i){var a=t.diagram;if(null===a||e.C(n))return 0;for(a=a.layers;a.next();){var o=a.value;if(null!==o&&o.visible)for(var r=(o=o.Ma.s).length,s=0;s<r;s++){var l=o[s];if(l instanceof Ih){if(l===t)return 0<i.length&&i.sort((function(t,e){return t-e})),i.length;if(l.isVisible()&&td(l)){var c=l.routeBounds;c.v()&&t.routeBounds.Sc(c)&&!t.usesSamePort(l)&&(null!==(c=l.path)&&c.zf()&&Qh(e,n,i,l))}}}}return 0<i.length&&i.sort((function(t,e){return t-e})),i.length}(t,a,o,l)),0<c)if(Ue.B(a.y,o.y))if(a.x<o.x)for(var h=0;h<c;){var d=Math.max(a.x,Math.min(l[h++]-s,o.x-r));e.lineTo(d+n,o.y+i);for(var u=d+n,f=Math.min(d+r,o.x);h<c&&(d=l[h])<f+r;)h++,f=Math.min(d+s,o.x);d=o.y-r+i,f+=n;var p=o.y+i;t.curve===fd?Vc(e,f,p,!1):Uc(e,u,d,f,d,f,p)}else for(--c;0<=c;){for(h=Math.min(a.x,Math.max(l[c--]+s,o.x+r)),e.lineTo(h+n,o.y+i),u=h+n,d=Math.max(h-r,o.x);0<=c&&(h=l[c])>d-r;)c--,d=Math.max(h-s,o.x);h=o.y-r+i,d+=n,f=o.y+i,t.curve===fd?Vc(e,d,f,!1):Uc(e,u,h,d,h,d,f)}else if(Ue.B(a.x,o.x))if(a.y<o.y)for(h=0;h<c;){for(d=Math.max(a.y,Math.min(l[h++]-s,o.y-r)),e.lineTo(o.x+n,d+i),u=d+i,d=Math.min(d+r,o.y);h<c&&(f=l[h])<d+r;)h++,d=Math.min(f+s,o.y);f=o.x-r+n,p=o.x+n,d+=i,t.curve===fd?Vc(e,p,d,!1):Uc(e,f,u,f,d,p,d)}else for(--c;0<=c;){for(h=Math.min(a.y,Math.max(l[c--]+s,o.y+r)),e.lineTo(o.x+n,h+i),u=h+i,h=Math.max(h-r,o.y);0<=c&&(d=l[c])>h-r;)c--,h=Math.max(d-s,o.y);d=o.x-r+n,f=o.x+n,h+=i,t.curve===fd?Vc(e,f,h,!1):Uc(e,d,u,d,h,f,h)}}e.lineTo(o.x+n,o.y+i)}function Qh(t,e,n,i){for(var a=Ue.B(t.y,e.y),o=i.pointsCount,r=i.i(0),s=gt.alloc(),l=1;l<o;l++){var c=i.i(l);if(l<o-1){var h=i.i(l+1);if(r.y===c.y&&c.y===h.y){if(c.x>r.x&&h.x>=c.x||c.x<r.x&&h.x<=c.x)continue}else if(r.x===c.x&&c.x===h.x&&(c.y>r.y&&h.y>=c.y||c.y<r.y&&h.y<=c.y))continue}t:{h=t.x;var d=t.y,u=e.x,f=e.y,p=r.x;r=r.y;var g=c.x,m=c.y;if(Ue.B(h,u)){if(!Ue.B(d,f)&&Ue.B(r,m)&&Math.min(d,f)<r&&Math.max(d,f)>r&&Math.min(p,g)<h&&Math.max(p,g)>h&&!Ue.B(p,g)){s.x=h,s.y=r,h=!0;break t}}else if(Ue.B(d,f)&&Ue.B(p,g)&&Math.min(h,u)<p&&Math.max(h,u)>p&&Math.min(r,m)<d&&Math.max(r,m)>d&&!Ue.B(r,m)){s.x=p,s.y=d,h=!0;break t}s.x=0,s.y=0,h=!1}h&&(a?n.push(s.x):n.push(s.y)),r=c}gt.free(s)}function td(t){return(t=t.curve)===pd||t===fd}function ed(t,e){(e||td(t))&&(null===(e=t.diagram)||e.animationManager.isTicking||e.th.contains(t)||0===t.al.width&&0===t.al.height||e.th.add(t,t.al.copy()))}function nd(t,e,n){if(null!==e&&e.Zl&&e.xd&&td(e)){var i=e.routeBounds;i.v()&&(t.routeBounds.Sc(i)||n.Sc(i))&&(t.usesSamePort(e)||e.mc())}}function id(t){var e=t.Ue;if(null!==e){var n=t.hf;if(null!==n&&isNaN(t.curviness)){for(var i=t.Ve,a=t.jf,o=t=null,r=e.jb.s,s=r.length,l=0;l<s;l++){var c=r[l];(c.Ue===e&&c.Ve===i&&c.hf===n&&c.jf===a||c.Ue===n&&c.Ve===a&&c.hf===e&&c.jf===i)&&(null===o?o=c:(null===t&&(t=[]).push(o),t.push(c)))}if(null!==t){for(null===(o=kh(e,n,i,a))&&(Sh(e,o=new Od(e,i,n,a)),Sh(n,o)),o.links=t,e=0;e<t.length;e++)t[e].If=o;o.zl()}}}}function ad(t){var e=t.If;null!==e&&isNaN(t.curviness)&&(t.If=null,0<=(t=e.links.indexOf(t))&&(O(e.links,t),e.zl()))}xh.className="Node",xh.SpreadingNone=Ch,xh.SpreadingEvenly=Nh,xh.SpreadingPacked=Bh,d(jh,xh),jh.prototype.cloneProtected=function(t){xh.prototype.cloneProtected.call(this,t),this.U=-32769&this.U;var e=t.ul((function(t){return t instanceof Rh}));t.Xa=e instanceof Rh?e:null,null!==this.Kc?(t.Kc=this.Kc.copy(),t.Kc.group=t):(null!==t.Kc&&(t.Kc.group=null),t.Kc=null),null!==this.ib&&(t.ib=this.ib.copy())},(e=jh.prototype).qf=function(t){xh.prototype.qf.call(this,t);var e=t.Jj();for(t=t.memberParts;t.next();){var n=t.value;if(n.w(),n.D(8),n.zj(),n instanceof xh)n.vd(e);else if(n instanceof Ih)for(n=n.labelNodes;n.next();)n.value.vd(e)}},e.Zj=function(t,e,n,i,a,o,r){if(t===gn&&"elements"===e){if(a instanceof Rh)null===this.Xa?this.Xa=a:this.Xa!==a&&b("Cannot insert a second Placeholder into the visual tree of a Group.");else if(a instanceof cl){var s=a.ul((function(t){return t instanceof Rh}));s instanceof Rh&&(null===this.Xa?this.Xa=s:this.Xa!==s&&b("Cannot insert a second Placeholder into the visual tree of a Group."))}}else t===mn&&"elements"===e&&null!==this.Xa&&(i===this.Xa||i instanceof cl&&this.Xa.jg(i))&&(this.Xa=null);xh.prototype.Zj.call(this,t,e,n,i,a,o,r)},e.Fl=function(t,e){xh.prototype.Fl.call(this,t,e),this.isClipping&&this.type!==cl.Spot&&this.isSubGraphExpanded&&((t=this.resizeObject)instanceof cl&&(t=t.vb()),null===this.ib&&(this.ib=new jt),t.gi(this.ib),t instanceof Gl&&this.ib.vc(-t.strokeWidth,-t.strokeWidth))},e.Vg=function(t,e,n,i){this.af=this.Xa,xh.prototype.Vg.call(this,t,e,n,i)},e.Za=function(){var t=this;t.isSubGraphExpanded&&this.memberParts.each((function(e){!t.computesBoundsIncludingLinks&&e instanceof Ih||e.Za()})),xh.prototype.Za.call(this)},e.mi=function(){if(!xh.prototype.mi.call(this))return!1;for(var t=this.memberParts;t.next();){var e=t.value;if(e instanceof xh){if(e.isVisible()&&Yr(e))return!1}else if(e instanceof Ih&&e.isVisible()&&Yr(e)&&e.fromNode!==this&&e.toNode!==this)return!1}return!0},e.Fj=function(){if(0<this.on.count){var t=this.diagram;if(null!==t)for(var e=this.on.copy().iterator;e.next();)t.remove(e.value)}xh.prototype.Fj.call(this)},jh.prototype.canAddMembers=function(t){var e=this.diagram;if(null===e)return!1;for(e=e.commandHandler,t=Lr(t).iterator;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},jh.prototype.addMembers=function(t,e){var n=this.diagram;if(null===n)return!1;n=n.commandHandler;var i=!0;for(t=Lr(t).iterator;t.next();){var a=t.value;!e||n.isValidMember(this,a)?a.containingGroup=this:i=!1}return i},jh.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var t=this.layer;return!(null===t||!t.allowUngroup)&&!(null!==(t=t.diagram)&&!t.allowUngroup)},(e=jh.prototype).vd=function(t){var e=0!=(65536&this.U);if(xh.prototype.vd.call(this,t),!e)for(0!=(65536&this.U)!=!0&&(this.U=65536^this.U),e=this.uu();e.next();){var n=e.value;if(void 0===t||!t.contains(n)){var i=n.fromNode;null!==i&&i!==this&&i.Md(this)&&!i.isVisible()?(Mh(n.fromPort),Mh(n.toPort),n.ab()):null!==(i=n.toNode)&&i!==this&&i.Md(this)&&!i.isVisible()&&(Mh(n.fromPort),Mh(n.toPort),n.ab())}}},e.uu=function(){var t=null!==this.diagram&&this.diagram.tw;if(t&&null!==this.Dp)return this.Dp.iterator;var e=this.Jj();e.add(this);for(var n=new Q,i=e.iterator;i.next();){var a=i.value;if(a instanceof xh)for(a=a.linksConnected;a.next();){var o=a.value;e.contains(o)||n.add(o)}}return t&&(this.Dp=n),n.iterator},e.Ry=function(){var t=this.Jj();t.add(this);for(var e=new Q,n=t.iterator;n.next();){var i=n.value;if(i instanceof xh)for(i=i.linksConnected;i.next();){var a=i.value,o=a.fromNode;null===o||t.contains(o)&&o!==this||e.add(o),null===(a=a.toNode)||t.contains(a)&&a!==this||e.add(a)}}return e.iterator},e.Qy=function(){var t=new Q;return function t(e,n){null!==e&&(n.add(e),t(e.containingGroup,n))}(this,t),t},e.Jj=function(){var t=new Q;return mh(t,this,!0,0,!0),t.remove(this),t},e.Ub=function(t){xh.prototype.Ub.call(this,t);for(var e=this.memberParts;e.next();)e.value.Ub(t)},jh.prototype.collapseSubGraph=function(){var t=this.diagram;null===t||t.Ie||(t.Ie=!0,function t(e,n,i,a){for(var o=e.memberParts;o.next();){var r=o.value;if(r.Ub(!1),r instanceof jh&&r.isSubGraphExpanded&&(r.wasSubGraphExpanded=r.isSubGraphExpanded,t(r,n,i,a)),r instanceof xh)r.vd(n),i.vj(r,a);else if(r instanceof Ih)for(r=r.labelNodes;r.next();)r.value.vd(n)}e.isSubGraphExpanded=!1}(this,this.Jj(),t,this),t.Ie=!1)},jh.prototype.expandSubGraph=function(){var t=this.diagram;null===t||t.Ie||(t.Ie=!0,function t(e,n,i,a){for(var o=e.memberParts;o.next();){var r=o.value;if(r.Ub(!0),r instanceof jh&&r.wasSubGraphExpanded&&(r.wasSubGraphExpanded=!1,t(r,n,i,a)),r instanceof xh)r.vd(n),i.xj(r,a);else if(r instanceof Ih)for(r=r.labelNodes;r.next();)r.value.vd(n)}e.isSubGraphExpanded=!0}(this,this.Jj(),t,this),t.Ie=!1)},jh.prototype.move=function(t,e){void 0===e&&(e=!1);var n=e?this.location:this.position,i=n.x;n=n.y;var a=t.x,o=t.y;if(!(i===a||isNaN(i)&&isNaN(a))||!(n===o||isNaN(n)&&isNaN(o))){for(i=a-(isNaN(i)?0:i),n=o-(isNaN(n)?0:n),o=gt.alloc(),xh.prototype.move.call(this,t,e),t=new Q,e=this.Jj().iterator;e.next();)(a=e.value)instanceof Ih&&(a.suspendsRouting&&t.add(a),a.xd||a.fromNode!==this&&a.toNode!==this)&&(a.suspendsRouting=!0);for(e.reset();e.next();)if(!((a=e.value).eh()||a instanceof xh&&a.isLinkLabel)){var r=a.position,s=a.location;r.v()?(o.x=r.x+i,o.y=r.y+n,a.position=o):s.v()&&(o.x=s.x+i,o.y=s.y+n,a.location=o)}for(e.reset();e.next();)(a=e.value)instanceof Ih&&(a.suspendsRouting=t.contains(a),a.xd||a.fromNode!==this&&a.toNode!==this)&&(r=a.position,o.x=r.x+i,o.y=r.y+n,o.v()?a.move(o):a.ab(),Xh(a)&&a.ab());gt.free(o)}},u.Object.defineProperties(jh.prototype,{placeholder:{get:function(){return this.Xa}},computesBoundsAfterDrag:{get:function(){return 0!=(2048&this.U)},set:function(t){var e=0!=(2048&this.U);e!==t&&(this.U^=2048,this.g("computesBoundsAfterDrag",e,t))}},computesBoundsIncludingLinks:{get:function(){return 0!=(4096&this.U)},set:function(t){var e=0!=(4096&this.U);e!==t&&(this.U^=4096,this.g("computesBoundsIncludingLinks",e,t))}},computesBoundsIncludingLocation:{get:function(){return 0!=(8192&this.U)},set:function(t){var e=0!=(8192&this.U);e!==t&&(this.U^=8192,this.g("computesBoundsIncludingLocation",e,t))}},handlesDragDropForMembers:{get:function(){return 0!=(16384&this.U)},set:function(t){var e=0!=(16384&this.U);e!==t&&(this.U^=16384,this.g("handlesDragDropForMembers",e,t))}},memberParts:{get:function(){return this.on.iterator}},layout:{get:function(){return this.Kc},set:function(t){var e=this.Kc;if(e!==t){null!==t&&null!==t.diagram&&t.diagram.layout===t&&b("A layout cannot be both the Diagram.layout and a Group.layout: "+t),null!==e&&(e.diagram=null,e.group=null),this.Kc=t;var n=this.diagram;null!==t&&(t.diagram=n,t.group=this),null!==n&&(n.mh=!0),this.g("layout",e,t),null!==n&&n.Mb()}}},memberAdded:{get:function(){return null!==this.ya?this.ya.lq:null},set:function(t){var e=this.memberAdded;e!==t&&(bh(this),this.ya.lq=t,this.g("memberAdded",e,t))}},memberRemoved:{get:function(){return null!==this.ya?this.ya.mq:null},set:function(t){var e=this.memberRemoved;e!==t&&(bh(this),this.ya.mq=t,this.g("memberRemoved",e,t))}},memberValidation:{get:function(){return null!==this.ya?this.ya.dj:null},set:function(t){var e=this.memberValidation;e!==t&&(bh(this),this.ya.dj=t,this.g("memberValidation",e,t))}},ungroupable:{get:function(){return 0!=(256&this.U)},set:function(t){var e=0!=(256&this.U);e!==t&&(this.U^=256,this.g("ungroupable",e,t))}},isSubGraphExpanded:{get:function(){return 0!=(512&this.U)},set:function(t){var e=0!=(512&this.U);if(e!==t){this.U^=512;var n=this.diagram;if(this.g("isSubGraphExpanded",e,t),null!==(e=this.subGraphExpandedChanged)){var i=!0;null!==n&&(i=n.$,n.$=!0),e(this),null!==n&&(n.$=i)}null!==n&&n.undoManager.isUndoingRedoing?(null!==this.Xa&&this.Xa.w(),this.memberParts.each((function(t){t.updateAdornments()}))):t?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return 0!=(1024&this.U)},set:function(t){var e=0!=(1024&this.U);e!==t&&(this.U^=1024,this.g("wasSubGraphExpanded",e,t))}},subGraphExpandedChanged:{get:function(){return null!==this.ya?this.ya.gr:null},set:function(t){var e=this.subGraphExpandedChanged;e!==t&&(bh(this),this.ya.gr=t,this.g("subGraphExpandedChanged",e,t))}},gh:{get:function(){return 0!=(32768&this.U)},set:function(t){0!=(32768&this.U)!==t&&(this.U^=32768)}}}),jh.prototype.expandSubGraph=jh.prototype.expandSubGraph,jh.prototype.collapseSubGraph=jh.prototype.collapseSubGraph,jh.prototype.findSubGraphParts=jh.prototype.Jj,jh.prototype.findContainingGroupChain=jh.prototype.Qy,jh.prototype.findExternalNodesConnected=jh.prototype.Ry,jh.prototype.findExternalLinksConnected=jh.prototype.uu,jh.prototype.ensureBounds=jh.prototype.Za,jh.className="Group",d(Rh,Tr),Rh.prototype.cloneProtected=function(t){Tr.prototype.cloneProtected.call(this,t),t.ub=this.ub.J(),t.Nn=this.Nn.copy()},Rh.prototype.Xg=function(t){if(null===this.background&&null===this.areaBackground)return!1;var e=this.naturalBounds;return Ut(0,0,e.width,e.height,t.x,t.y)},Rh.prototype.El=function(){var t=this.part;if(null!==t&&(t instanceof jh||t instanceof vh)||b("Placeholder is not inside a Group or Adornment."),t instanceof jh){var e=this.computeBorder(this.Nn),n=this.minSize,i=this.bc;for(Dt(i,(isFinite(n.width)?Math.max(n.width,e.width):e.width)||0,(isFinite(n.height)?Math.max(n.height,e.height):e.height)||0),this.ve(0,0,i.width,i.height),i=t.memberParts,n=!1;i.next();)if(i.value.isVisible()){n=!0;break}i=t.diagram,!n||null===i||i.animationManager.Iu(t)||isNaN(e.x)||isNaN(e.y)||((n=gt.alloc()).oi(e,t.locationSpot),n.C(t.location)||(t.location=n),gt.free(n))}else{e=this.bc,i=(n=this.ub).left+n.right;var a=n.top+n.bottom,o=t.adornedObject;t.angle=o.fi();var r=0;o instanceof Gl&&(r=o.strokeWidth);var s=o.uf(),l=o.naturalBounds,c=(l.width+r)*s;r=(l.height+r)*s,t.type!==cl.Link&&(s=o.ia("Selection"===t.category?ee:t.locationSpot,gt.alloc()),t.location=s,gt.free(s)),isNaN(c)||isNaN(r)?(t=o.ia(ee,gt.alloc()),(c=jt.allocAt(t.x,t.y,0,0)).Me(o.ia(ce,t)),c.Me(o.ia(ie,t)),c.Me(o.ia(se,t)),Dt(e,c.width+i||0,c.height+a||0),this.ve(-n.left,-n.top,e.width,e.height),gt.free(t),jt.free(c)):(Dt(e,c+i||0,r+a||0),this.ve(-n.left,-n.top,e.width,e.height))}},Rh.prototype.Vg=function(t,e,n,i){this.actualBounds.h(t,e,n,i)},Rh.prototype.computeBorder=function(t){var e=this.part,n=e.diagram;if(null!==n&&e instanceof jh&&!e.layer.isTemporary&&e.computesBoundsAfterDrag&&this.Nn.v()){var i=n.toolManager.findTool("Dragging");if(i===n.currentTool&&null!==(n=i.computeBorder(e,this.Nn,t)))return n}n=jt.alloc(),i=this.computeMemberBounds(n);var a=this.ub;return e instanceof jh&&!e.isSubGraphExpanded?t.h(i.x-a.left,i.y-a.top,0,0):t.h(i.x-a.left,i.y-a.top,Math.max(i.width+a.left+a.right,0),Math.max(i.height+a.top+a.bottom,0)),jt.free(n),e instanceof jh&&e.computesBoundsIncludingLocation&&e.location.v()&&t.Me(e.location),t},Rh.prototype.computeMemberBounds=function(t){if(!(this.part instanceof jh))return t.h(0,0,0,0),t;for(var e=this.part,n=1/0,i=1/0,a=-1/0,o=-1/0,r=e.memberParts;r.next();){var s=r.value;if(s.isVisible()){if(s instanceof Ih){if(!e.computesBoundsIncludingLinks)continue;if(Wr(s))continue;if(s.fromNode===e||s.toNode===e)continue}(s=s.actualBounds).left<n&&(n=s.left),s.top<i&&(i=s.top),s.right>a&&(a=s.right),s.bottom>o&&(o=s.bottom)}}return isFinite(n)&&isFinite(i)?t.h(n,i,a-n,o-i):(e=e.location,t.h(e.x,e.y,0,0)),t},u.Object.defineProperties(Rh.prototype,{padding:{get:function(){return this.ub},set:function(t){"number"==typeof t&&(t=new Kt(t));var e=this.ub;e.C(t)||(this.ub=t=t.J(),this.g("padding",e,t),this.w())}}}),Rh.className="Placeholder",d(Ih,$c),Ih.prototype.cloneProtected=function(t){$c.prototype.cloneProtected.call(this,t),t.Oa=-113&this.Oa,t.Ve=this.Ve,t.Om=this.Om,t.jf=this.jf,t.Xn=this.Xn,t.ck=this.ck,t.wm=this.wm,t.ym=this.ym,t.zm=this.zm,t.kj=this.kj,t.Sn=this.Sn,null!==this.aa&&(t.aa=this.aa.copy())},(e=Ih.prototype).qf=function(t){$c.prototype.qf.call(this,t),this.Ve=t.Ve,this.jf=t.jf,t.Eg=null,t.ab(),t.If=this.If;var e=t.fromPort;null!==e&&Mh(e),null!==(t=t.toPort)&&Mh(t)},e.ob=function(t){t.classType===Ih?2==(2&t.value)?this.routing=t:t===ud||t===fd||t===pd?this.curve=t:t===gd||t===md||t===yd?this.adjusting=t:t!==sd&&t!==dd&&b("Unknown Link enum value for a Link property: "+t):$c.prototype.ob.call(this,t)},e.Rc=function(){null===this.aa&&(this.aa=new as)},e.mi=function(){var t=this.fromNode;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),Yr(t)||hh(t))return!1}return null===(t=this.toNode)||(null!==(e=t.findVisibleNode())&&(t=e),!Yr(t)&&!hh(t))},e.ev=function(){return!1},e.fv=function(){},e.Tc=function(){return!1},Ih.prototype.computeAngle=function(t,e,n){return Ih.computeAngle(e,n)},Ih.computeAngle=function(t,e){switch(t){default:case dd:t=0;break;case vd:t=e;break;case wd:t=e+90;break;case xd:t=e-90;break;case bd:t=e+180;break;case Sd:90<(t=Ue.Eo(e))&&270>t&&(t-=180);break;case kd:90<(t=Ue.Eo(e+90))&&270>t&&(t-=180);break;case Pd:90<(t=Ue.Eo(e-90))&&270>t&&(t-=180);break;case Md:if(45<(t=Ue.Eo(e))&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return Ue.Eo(t)},(e=Ih.prototype).dh=function(){var t=this.containingGroup;null!==t&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&$c.prototype.dh.call(this)},e.wo=function(t){var e=this.fromNode;return t===e?this.toNode:e},e.jz=function(t){var e=this.fromPort;return t===e?this.toPort:e},e.yo=function(t){if($c.prototype.yo.call(this,t),td(this)&&this.Ao(this.actualBounds),!t){var e=null;null!==(t=this.Ue)&&_h(t,this,e=this.fromPort);var n=this.hf;if(null!==n){var i=this.toPort;n===t&&i===e||_h(n,this,i)}id(this)}},e.zo=function(t){if($c.prototype.zo.call(this,t),td(this)&&this.Ao(this.actualBounds),!t){var e=null;null!==(t=this.Ue)&&Lh(t,this,e=this.fromPort);var n=this.hf;if(null!==n){var i=this.toPort;n===t&&i===e||Lh(n,this,i)}ad(this)}},e.Fj=function(){if(this.xd=!0,null!==this.rd){var t=this.diagram;if(null!==t)for(var e=this.rd.copy().iterator;e.next();)t.remove(e.value)}null!==this.data&&(null!==(t=this.diagram)&&t.partManager.removeDataForLink(this))},Ih.prototype.updateRelationshipsFromData=function(){if(null!==this.data){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)}},Ih.prototype.move=function(t,e){var n=e?this.location:this.position,i=n.x;isNaN(i)&&(i=0);var a=n.y;for(isNaN(a)&&(a=0),i=t.x-i,a=t.y-a,!0===e?$c.prototype.move.call(this,t,!1):(t=gt.allocAt(n.x+i,n.y+a),$c.prototype.move.call(this,t,!1),gt.free(t)),Vh(this,i,a),t=this.labelNodes;t.next();)n=(e=t.value).position,e.moveTo(n.x+i,n.y+a)},Ih.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},Ih.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},Ih.prototype.computeMidPoint=function(t){var e=this.pointsCount;if(0===e)return t.assign(st),t;if(1===e)return t.assign(this.i(0)),t;if(2===e){var n=this.i(0),i=this.i(1);return t.h((n.x+i.x)/2,(n.y+i.y)/2),t}if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===ud))return this.ua.Au(.5,t),t.add(this.i(0)),n=this.ua.figures.first(),t.offset(-n.startX,-n.startY),t;if(this.computeCurve()===ud){if(3===e){n=this.i(0),i=this.i(1);var a=this.i(2);return Ue.Gw(n.x,n.y,i.x,i.y,i.x,i.y,a.x,a.y,t),t}if(n=3*((i=(e-1)/3|0)/2|0),1==i%2){i=this.i(n),a=this.i(n+1);var o=this.i(n+2);n=this.i(n+3),Ue.Gw(i.x,i.y,a.x,a.y,o.x,o.y,n.x,n.y,t)}else t.assign(this.i(n));return t}var r=this.flattenedLengths;for(n=this.flattenedTotalLength,a=o=i=0;i<n/2&&o<e&&!(i+(a=r[o])>n/2);)i+=a,o++;return e=this.i(o),o=this.i(o+1),1>Math.abs(e.x-o.x)?e.y>o.y?t.h(e.x,e.y-(n/2-i)):t.h(e.x,e.y+(n/2-i)):1>Math.abs(e.y-o.y)?e.x>o.x?t.h(e.x-(n/2-i),e.y):t.h(e.x+(n/2-i),e.y):(n=(n/2-i)/a,t.h(e.x+n*(o.x-e.x),e.y+n*(o.y-e.y))),t},Ih.prototype.computeMidAngle=function(){var t=this.pointsCount;if(2>t)return NaN;if(2===t)return this.i(0).Ya(this.i(1));if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===ud))return this.ua.Yw(.5);if(this.computeCurve()===ud&&4<=t){var e=(t-1)/3|0,n=3*(e/2|0);if(1==e%2){n=Math.floor(n),t=this.i(n),e=this.i(n+1);var i=this.i(n+2);return n=this.i(n+3),Ue.ty(t.x,t.y,e.x,e.y,i.x,i.y,n.x,n.y)}if(0<n&&n+1<t)return this.i(n-1).Ya(this.i(n+1))}e=this.flattenedLengths,i=this.flattenedTotalLength;var a,o=0;for(n=0;o<i/2&&n<t&&!(o+(a=e[n])>i/2);)o+=a,n++;if(e=this.i(n),i=this.i(n+1),1>Math.abs(e.x-i.x)&&1>Math.abs(e.y-i.y)){if(0<n&&n+2<t)return this.i(n-1).Ya(this.i(n+2))}else{if(1>Math.abs(e.x-i.x))return e.y>i.y?270:90;if(1>Math.abs(e.y-i.y))return e.x>i.x?180:0}return e.Ya(i)},(e=Ih.prototype).i=function(t){return this.Jb.s[t]},e.Wc=function(t,e){this.Jb.Vc(t,e)},e.M=function(t,e,n){this.Jb.Vc(t,new gt(e,n))},e.sz=function(t,e){this.Jb.Cb(t,e)},e.l=function(t,e,n){this.Jb.Cb(t,new gt(e,n))},e.fe=function(t){this.Jb.add(t)},e.mf=function(t,e){this.Jb.add(new gt(t,e))},e.Xu=function(t){this.Jb.mb(t)},e.Aj=function(){this.Jb.clear()},e.jh=function(){null===this.Eg&&(this.Eg=this.Jb,this.Jb=this.Jb.copy())},e.pf=function(){if(null!==this.Eg){for(var t=this.Eg,e=this.Jb,n=1/0,i=1/0,a=t.s,o=a.length,r=0;r<o;r++){var s=a[r];n=Math.min(s.x,n),i=Math.min(s.y,i)}s=r=1/0;for(var l=e.s,c=l.length,h=0;h<c;h++){var d=l[h];r=Math.min(d.x,r),s=Math.min(d.y,s),d.freeze()}if(e.freeze(),c===o){for(o=0;o<c;o++)if(h=a[o],d=l[o],h.x-n!=d.x-r||h.y-i!=d.y-s){this.mc();break}}else this.mc();this.Eg=null,null!==(n=this.diagram)&&n.animationManager.zb&&(n=n.animationManager,this.ef=e,n.cl.add(this)),Gh(this),this.g("points",t,e)}},e.Zu=function(){null!==this.Eg&&(this.Jb=this.Eg,this.Eg=null)},e.ab=function(){if(!this.suspendsRouting){var t=this.diagram;if(t){if(t.$r.contains(this)||t.undoManager.isUndoingRedoing)return;if((t=t.animationManager).isTicking&&!t.isAnimating)return;null!==this.ef&&!t.isTicking&&t.isAnimating&&(this.ef=null)}null!==(t=this.path)&&(this.xd=!1,this.w(),t.w())}},e.mg=function(){if(!this.xd&&!this.computingPoints){var t=!0;try{this.computingPoints=!0,this.jh(),t=this.computePoints()}catch(t){this.computingPoints=!1,this.Zu()}finally{this.computingPoints=!1,t?this.pf():this.Zu()}}},Ih.prototype.computePoints=function(){if(null===this.diagram)return!1;var t=this.fromNode,e=null;if(null===t?(od||((od=new xh).desiredSize=kt,od.Za()),this.defaultFromPoint&&(od.location=this.defaultFromPoint,od.Za(),e=t=od)):e=this.fromPort,null!==e&&!t.isVisible()){var n=t.findVisibleNode();null!==n&&n!==t?(t=n,e=n.port):t=n}if(this.pw=t,null===t||!t.location.v())return!1;for(;!(null===e||e.actualBounds.v()&&e.zf());)e=e.panel;if(null===e)return!1;var i=this.toNode,a=null;if(null===i?(rd||((rd=new xh).desiredSize=kt,rd.Za()),this.defaultToPoint&&(rd.location=this.defaultToPoint,rd.Za(),a=i=rd)):a=this.toPort,null===a||i.isVisible()||(null!==(n=i.findVisibleNode())&&n!==i?(i=n,a=n.port):i=n),this.qw=i,null===i||!i.location.v())return!1;for(;!(null===a||a.actualBounds.v()&&a.zf());)a=a.panel;if(null===a)return!1;var o=this.pointsCount,r=this.computeSpot(!0,e);n=this.computeSpot(!1,a);var s=qh(r),l=qh(n),c=e===a&&null!==e,h=this.isOrthogonal,d=this.curve===ud;this.Mf=!(!c||h)&&(d=!0);var u=this.computeAdjusting()===dd||c;if(!h&&!c&&s&&l){if(s=!1,!u&&3<=o&&(u=this.getLinkPoint(t,e,r,!0,!1,i,a),l=this.getLinkPoint(i,a,n,!1,!1,t,e),s=this.adjustPoints(0,u,o-1,l))&&(u=this.getLinkPoint(t,e,r,!0,!1,i,a),l=this.getLinkPoint(i,a,n,!1,!1,t,e),this.adjustPoints(0,u,o-1,l)),!s)if(this.Aj(),d){o=this.getLinkPoint(t,e,r,!0,!1,i,a),s=(u=this.getLinkPoint(i,a,n,!1,!1,t,e)).x-o.x,l=u.y-o.y,c=this.computeCurviness(),d=h=0;var f=o.x+s/3,p=o.y+l/3,g=f,m=p;Ue.B(l,0)?m=0<s?m-c:m+c:(h=-s/l,d=Math.sqrt(c*c/(h*h+1)),0>c&&(d=-d),m=h*((g=(0>l?-1:1)*d+f)-f)+p);var y=f=o.x+2*s/3,v=p=o.y+2*l/3;Ue.B(l,0)?v=0<s?v-c:v+c:v=h*((y=(0>l?-1:1)*d+f)-f)+p,this.Aj(),this.fe(o),this.mf(g,m),this.mf(y,v),this.fe(u),this.Wc(0,this.getLinkPoint(t,e,r,!0,!1,i,a)),this.Wc(3,this.getLinkPoint(i,a,n,!1,!1,t,e))}else o=i,u=a,i=this.getLinkPoint(t,e,r,!0,!1,o,u),a=this.getLinkPoint(o,u,n,!1,!1,t,e),this.hasCurviness()?(u=a.x-i.x,n=a.y-i.y,r=this.computeCurviness(),o=t=i.x+u/2,s=e=i.y+n/2,Ue.B(n,0)?s=0<u?s-r:s+r:(u=-u/n,o=Math.sqrt(r*r/(u*u+1)),0>r&&(o=-o),s=u*((o=(0>n?-1:1)*o+t)-t)+e),this.fe(i),this.mf(o,s),this.fe(a)):(this.fe(i),this.fe(a),s=jt.alloc(),e.gi(s),l=s.ba(a),u.gi(s),c=s.ba(i),(l||c)&&(r=e.ia(Yh(r),new gt),this.Wc(0,this.getLinkPointFromPoint(t,e,r,a,!0,r)),n=u.ia(Yh(n),new gt),this.Wc(1,this.getLinkPointFromPoint(o,u,n,i,!1,n))),jt.free(s))}else{d=this.isAvoiding,u&&(h&&d||c)&&this.Aj();var w=c?this.computeCurviness():0;d=this.getLinkPoint(t,e,r,!0,h,i,a),f=g=p=0,(h||!s||c)&&(m=this.computeEndSegmentLength(t,e,r,!0),f=this.getLinkDirection(t,e,d,r,!0,h,i,a),c&&(s||r.C(n)||!h&&1===r.x+n.x&&1===r.y+n.y)&&(f-=h?90:30,0>w&&(f-=180)),0>f?f+=360:360<=f&&(f-=360),c&&(m+=Math.abs(w)*(h?1:2)),0===f?p=m:90===f?g=m:180===f?p=-m:270===f?g=-m:(p=m*Math.cos(f*Math.PI/180),g=m*Math.sin(f*Math.PI/180)),r.Fc()&&c&&(m=e.ia(oe,gt.alloc()),y=gt.allocAt(m.x+1e3*p,m.y+1e3*g),this.getLinkPointFromPoint(t,e,m,y,!0,d),gt.free(m),gt.free(y))),m=this.getLinkPoint(i,a,n,!1,h,t,e);var x=v=y=0;if(h||!l||c){var b=this.computeEndSegmentLength(i,a,n,!1);x=this.getLinkDirection(i,a,m,n,!1,h,t,e),c&&(l||r.C(n)||!h&&1===r.x+n.x&&1===r.y+n.y)&&(x+=h?0:30,0>w&&(x+=180)),0>x?x+=360:360<=x&&(x-=360),c&&(b+=Math.abs(w)*(h?1:2)),0===x?y=b:90===x?v=b:180===x?y=-b:270===x?v=-b:(y=b*Math.cos(x*Math.PI/180),v=b*Math.sin(x*Math.PI/180)),n.Fc()&&c&&(n=a.ia(oe,gt.alloc()),r=gt.allocAt(n.x+1e3*y,n.y+1e3*v),this.getLinkPointFromPoint(i,a,n,r,!1,m),gt.free(n),gt.free(r))}n=d,(h||!s||c)&&(n=new gt(d.x+p,d.y+g)),r=m,(h||!l||c)&&(r=new gt(m.x+y,m.y+v)),!u&&!h&&s&&3<o&&this.adjustPoints(0,d,o-2,r)?this.Wc(o-1,m):!u&&!h&&l&&3<o&&this.adjustPoints(1,n,o-1,m)?this.Wc(0,d):!u&&(h?6<=o:4<o)&&this.adjustPoints(1,n,o-2,r)?(this.Wc(0,d),this.Wc(o-1,m)):(this.Aj(),this.fe(d),(h||!s||c)&&this.fe(n),h&&this.addOrthoPoints(n,f,r,x,t,i),(h||!l||c)&&this.fe(r),this.fe(m))}return!0},Ih.prototype.getLinkPointFromPoint=function(t,e,n,i,a,o){if(void 0===o&&(o=new gt),null===t||null===e)return o.assign(n),o;if(t.isVisible()||null!==(a=t.findVisibleNode())&&a!==t&&(e=a.port),t=null,null===(a=e.panel)||a.ke()||(a=a.panel),null===a){a=i.x,i=i.y;var r=n.x;n=n.y}else{a=1/((t=a.ge).m11*t.m22-t.m12*t.m21),r=t.m22*a;var s=-t.m12*a,l=-t.m21*a,c=t.m11*a,h=a*(t.m21*t.dy-t.m22*t.dx),d=a*(t.m12*t.dx-t.m11*t.dy);a=i.x*r+i.y*l+h,i=i.x*s+i.y*c+d,r=n.x*r+n.y*l+h,n=n.x*s+n.y*c+d}return e.Kj(a,i,r,n,o),null!==t&&o.transform(t),o},Ih.prototype.getLinkPoint=function(t,e,n,i,a,o,r,s){if(void 0===s&&(s=new gt),n.pb()&&!qh(n))return e.ia(n,s),s;if(n.Uc()){var l=Wh(this,e);if(null!==l){if(s.assign(l.Co),a&&this.routing===hd){var c=Wh(this,r);if(null!==c&&l.sl<c.sl){l=gt.alloc(),c=gt.alloc();var h=new jt(e.ia(ee,l),e.ia(ce,c)),d=this.computeSpot(!i,r);t=this.getLinkPoint(o,r,d,!i,a,t,e,c),(n.xf(de)||n.xf(ue))&&t.y>=h.y&&t.y<=h.y+h.height?s.y=t.y:(n.xf(he)||n.xf(fe))&&t.x>=h.x&&t.x<=h.x+h.width&&(s.x=t.x),gt.free(l),gt.free(c)}}return s}}return n=e.ia(Yh(n),gt.alloc()),this.pointsCount>(a?6:2)?(r=i?this.i(1):this.i(this.pointsCount-2),a&&(r=Uh(n,r.copy()))):(l=this.computeSpot(!i,r),o=gt.alloc(),r=r.ia(Yh(l),o),a&&(r=Uh(n,r)),gt.free(o)),this.getLinkPointFromPoint(t,e,n,r,i,s),gt.free(n),s},Ih.prototype.getLinkDirection=function(t,e,n,i,a,o,r,s){t:if(i.pb())var l=i.x>i.y?i.x>1-i.y?0:i.x<1-i.y?270:315:i.x<i.y?i.x>1-i.y?90:i.x<1-i.y?180:135:.5>i.x?225:.5<i.x?45:0;else{if(i.Uc()&&null!==(l=Wh(this,e)))switch(l.Gc){case 1:l=270;break t;case 2:l=180;break t;default:case 4:l=0;break t;case 8:l=90;break t}l=e.ia(oe,gt.alloc()),this.pointsCount>(o?6:2)?(s=a?this.i(1):this.i(this.pointsCount-2),s=o?Uh(l,s.copy()):n):(n=gt.alloc(),s=s.ia(oe,n),gt.free(n)),n=Math.abs(s.x-l.x)>Math.abs(s.y-l.y)?s.x>=l.x?0:180:s.y>=l.y?90:270,gt.free(l),l=n}return i.Fc()&&r.Md(t)&&(360<=(l+=180)&&(l-=360)),qh(i)||0===(t=e.fi())||(45<=t&&135>t?l+=90:135<=t&&225>t?l+=180:225<=t&&315>t&&(l+=270),360<=l&&(l-=360)),l},Ih.prototype.computeEndSegmentLength=function(t,e,n,i){return null!==e&&n.Uc()&&null!==(t=Wh(this,e))?t.su:(t=i?this.fromEndSegmentLength:this.toEndSegmentLength,null!==e&&isNaN(t)&&(t=i?e.fromEndSegmentLength:e.toEndSegmentLength),isNaN(t)&&(t=10),t)},Ih.prototype.computeSpot=function(t,e){return void 0===e&&(e=null),t?null===(t=e||this.fromPort)?t=oe:((e=this.fromSpot).Sb()&&(e=t.fromSpot),t=e===Me?te:e):null===(t=e||this.toPort)?t=oe:((e=this.toSpot).Sb()&&(e=t.toSpot),t=e===Me?te:e),t},Ih.prototype.computeOtherPoint=function(t,e){return this.computeAdjusting()!==dd&&4<this.pointsCount?this.computeMidPoint(new gt):null!==(t=null!==(t=e.Hn)?Wd(t,this):null)?t.Co:e.ia(oe)},Ih.prototype.computeShortLength=function(t){if(t){if(t=this.fromShortLength,isNaN(t)){var e=this.fromPort;null!==e&&(t=e.fromShortLength)}return isNaN(t)?0:t}return t=this.toShortLength,isNaN(t)&&(null!==(e=this.toPort)&&(t=e.toShortLength)),isNaN(t)?0:t},Ih.prototype.tf=function(t,e,n,i,a,o){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var r=o;if(void 0===o&&(r=Ve.alloc()).reset(),r.multiply(this.transform),this.Wg(t,r))return yl(this,e,n,a),void 0===o&&Ve.free(r),!0;if(this.Sc(t,r)){var s=!1;if(!this.isAtomic)for(var l=this.R.s,c=l.length;c--;){var h=l[c];if(h.visible||h===this.locationObject){var d=h.actualBounds,u=this.naturalBounds;if(!(d.x>u.width||d.y>u.height||0>d.x+d.width||0>d.y+d.height)){if((d=Ve.alloc()).set(r),h instanceof cl)s=h.tf(t,e,n,i,a,d);else if(this.path===h){if(h instanceof Gl)if(s=t,u=i,!1===h.pickable)s=!1;else if(d.multiply(h.transform),u)t:{var f=s,p=d;if(h.Wg(f,p))s=!0;else{if(void 0===p&&(p=h.transform,f.Ee(h.actualBounds))){s=!0;break t}s=f.left,u=f.right;var g=f.top;f=f.bottom;var m=gt.alloc(),y=gt.alloc(),v=gt.alloc(),w=Ve.alloc();w.set(p),w.Nu(h.transform),w.Ur(),y.x=u,y.y=g,y.transform(w),m.x=s,m.y=g,m.transform(w),p=!1,Kl(h,m,y,v)?p=!0:(m.x=u,m.y=f,m.transform(w),Kl(h,m,y,v)?p=!0:(y.x=s,y.y=f,y.transform(w),Kl(h,m,y,v)?p=!0:(m.x=s,m.y=g,m.transform(w),Kl(h,m,y,v)&&(p=!0)))),Ve.free(w),gt.free(m),gt.free(y),gt.free(v),s=p}}else s=h.Wg(s,d)}else s=Er(h,t,i,d);s&&(u=h,null!==e&&(u=e(h)),u&&(null===n||n(u))&&a.add(u)),Ve.free(d)}}}return void 0===o&&Ve.free(r),s||null!==this.background||null!==this.areaBackground}return void 0===o&&Ve.free(r),!1},Ih.prototype.computeCurve=function(){if(null===this.Mf){var t=this.fromPort,e=this.isOrthogonal;this.Mf=null!==t&&t===this.toPort&&!e}return this.Mf?ud:this.curve},Ih.prototype.computeCorner=function(){if(this.curve===ud)return 0;var t=this.corner;return(isNaN(t)||0>t)&&(t=10),t},Ih.prototype.findMidLabel=function(){for(var t=this.path,e=this.R.s,n=e.length,i=0;i<n;i++){var a=e[i];if(a!==t&&!a.isPanelMain&&(-1/0===a.segmentIndex||isNaN(a.segmentIndex)))return a}for(t=this.labelNodes;t.next();)if(-1/0===(e=t.value).segmentIndex||isNaN(e.segmentIndex))return e;return null},Ih.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t=Ld;t=Math.max(t,this.computeThickness());var e=this.fromPort,n=this.toPort;if(null!==e&&null!==n){var i=this.findMidLabel();if(null!==i){var a=i.naturalBounds,o=i.margin,r=isNaN(a.width)?30:a.width*i.scale+o.left+o.right;a=isNaN(a.height)?14:a.height*i.scale+o.top+o.bottom,(i=i.segmentOrientation)===vd||i===Sd||i===bd?t=Math.max(t,a):i===xd||i===Pd||i===wd||i===kd?t=Math.max(t,r):(e=e.ia(oe).Ya(n.ia(oe))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*r)+Math.abs(Math.cos(e)*a)+1)),this.curve===ud&&(t*=1.333)}}return t},Ih.prototype.arrangeBundledLinks=function(t,e){if(e)for(e=0;e<t.length;e++){var n=t[e];n.computeAdjusting()===dd&&n.ab()}},Ih.prototype.computeCurviness=function(){var t=this.curviness;if(isNaN(t)){t=_d;var e=this.If;if(null!==e){for(var n=A(),i=0,a=e.links,o=0;o<a.length;o++){var r=a[o].computeSpacing();n.push(r),i+=r}for(i=-i/2,o=0;o<a.length;o++){if(a[o]===this){t=i+n[o]/2;break}i+=n[o]}e.ds===this.fromNode&&(t=-t),E(n)}}return t},Ih.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.strokeWidth,1):1},Ih.prototype.hasCurviness=function(){return!isNaN(this.curviness)||null!==this.If},Ih.prototype.adjustPoints=function(t,e,n,i){var a=this.computeAdjusting();if(this.isOrthogonal){if(a===md)return!1;a===yd&&(a=gd)}switch(a){case md:var o=this.i(t),r=this.i(n);if(!o.$a(e)||!r.$a(i)){a=o.x,o=o.y;var s=r.x-a,l=r.y-o,c=Math.sqrt(s*s+l*l);if(!Ue.ca(c,0)){if(Ue.ca(s,0))var h=0>l?-Math.PI/2:Math.PI/2;else h=Math.atan(l/Math.abs(s)),0>s&&(h=Math.PI-h);r=e.x;var d=e.y;s=i.x-r;var u=i.y-d;for(l=Math.sqrt(s*s+u*u),Ue.ca(s,0)?u=0>u?-Math.PI/2:Math.PI/2:(u=Math.atan(u/Math.abs(s)),0>s&&(u=Math.PI-u)),c=l/c,h=u-h,this.Wc(t,e),t+=1;t<n;t++)s=(e=this.i(t)).x-a,l=e.y-o,e=Math.sqrt(s*s+l*l),Ue.ca(e,0)||(Ue.ca(s,0)?l=0>l?-Math.PI/2:Math.PI/2:(l=Math.atan(l/Math.abs(s)),0>s&&(l=Math.PI-l)),s=l+h,e*=c,this.M(t,r+e*Math.cos(s),d+e*Math.sin(s)));this.Wc(n,i)}}return!0;case yd:if(o=this.i(t),d=this.i(n),!o.$a(e)||!d.$a(i)){a=o.x,o=o.y,c=((r=d.x)-a)*(r-a)+((d=d.y)-o)*(d-o),s=e.x,h=e.y,l=i.x,u=i.y;var f=1;if(0!=l-s){var p=(u-h)/(l-s);f=Math.sqrt(1+1/(p*p))}else p=9e9;for(this.Wc(t,e),t+=1;t<n;t++){var g=(e=this.i(t)).x,m=e.y,y=.5;0!==c&&(y=((a-g)*(a-r)+(o-m)*(o-d))/c);var v=a+y*(r-a),w=o+y*(d-o);e=Math.sqrt((g-v)*(g-v)+(m-w)*(m-w)),m<p*(g-v)+w&&(e=-e),0<p&&(e=-e),g=s+y*(l-s),y=h+y*(u-h),0!==p?(e=g+e/f,this.M(t,e,y-(e-g)/p)):this.M(t,g,y+e)}this.Wc(n,i)}return!0;case gd:return this.isOrthogonal&&(a=this.i(t),o=this.i(t+1),r=this.i(t+2),d=s=o.x,c=h=o.y,Ue.B(a.y,o.y)?Ue.B(o.x,r.x)?h=e.y:Ue.B(o.y,r.y)&&(s=e.x):Ue.B(a.x,o.x)&&(Ue.B(o.y,r.y)?s=e.x:Ue.B(o.x,r.x)&&(h=e.y)),this.M(t+1,s,h),a=this.i(n),o=this.i(n-1),r=this.i(n-2),l=s=o.x,u=h=o.y,Ue.B(a.y,o.y)?Ue.B(o.x,r.x)?h=i.y:Ue.B(o.y,r.y)&&(s=i.x):Ue.B(a.x,o.x)&&(Ue.B(o.y,r.y)?s=i.x:Ue.B(o.x,r.x)&&(h=i.y)),this.M(n-1,s,h),Xh(this))?(this.M(t+1,d,c),this.M(n-1,l,u),n=!1):(this.Wc(t,e),this.Wc(n,i),n=!0),n;default:return!1}},Ih.prototype.addOrthoPoints=function(t,e,n,i,a,o){0>e?e+=360:360<=e&&(e-=360),0>i?i+=360:360<=i&&(i-=360);var r=i;e=315<=e||45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,i=315<=i||45>i?0:45<=i&&135>i?90:135<=i&&225>i?180:270;var s=a.actualBounds.copy(),l=o.actualBounds.copy();if(s.v()&&l.v()){s.vc(Td,Td),l.vc(Td,Td),s.Me(t),l.Me(n);var c=gt.alloc(),h=gt.alloc();0===e?n.x>t.x||270===i&&n.y<t.y&&l.right>t.x||90===i&&n.y>t.y&&l.right>t.x?(c.h(n.x,t.y),h.h(n.x,(t.y+n.y)/2),180===i?(c.x=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1),h.x=c.x,h.y=n.y):270===i&&n.y<t.y||90===i&&n.y>t.y?(c.x=t.x<l.left?this.computeMidOrthoPosition(t.x,t.y,l.left,n.y,!1):t.x<l.right&&(270===i&&t.y<l.top||90===i&&t.y>l.bottom)?this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1):l.right,h.x=c.x,h.y=n.y):0===i&&t.x<l.left&&t.y>l.top&&t.y<l.bottom&&(c.x=t.x,c.y=t.y<n.y?Math.min(n.y,l.top):Math.max(n.y,l.bottom),h.y=c.y)):(c.h(t.x,n.y),h.h((t.x+n.x)/2,n.y),(180===i||90===i&&n.y<s.top||270===i&&n.y>s.bottom)&&(180===i&&(l.ba(t)||s.ba(n))?c.y=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0):n.y<t.y&&(180===i||90===i)?c.y=this.computeMidOrthoPosition(t.x,s.top,n.x,Math.max(n.y,l.bottom),!0):n.y>t.y&&(180===i||270===i)&&(c.y=this.computeMidOrthoPosition(t.x,s.bottom,n.x,Math.min(n.y,l.top),!0)),h.x=n.x,h.y=c.y),c.y>s.top&&c.y<s.bottom&&(n.x>=s.left&&n.x<=t.x||t.x<=l.right&&t.x>=n.x?90!==i&&270!==i||(c.h(Math.max((t.x+n.x)/2,t.x),t.y),h.h(c.x,n.y)):(c.y=270===i||(0===i||180===i)&&n.y<t.y?Math.min(n.y,0===i?s.top:Math.min(s.top,l.top)):Math.max(n.y,0===i?s.bottom:Math.max(s.bottom,l.bottom)),h.x=n.x,h.y=c.y))):180===e?n.x<t.x||270===i&&n.y<t.y&&l.left<t.x||90===i&&n.y>t.y&&l.left<t.x?(c.h(n.x,t.y),h.h(n.x,(t.y+n.y)/2),0===i?(c.x=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1),h.x=c.x,h.y=n.y):270===i&&n.y<t.y||90===i&&n.y>t.y?(c.x=t.x>l.right?this.computeMidOrthoPosition(t.x,t.y,l.right,n.y,!1):t.x>l.left&&(270===i&&t.y<l.top||90===i&&t.y>l.bottom)?this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1):l.left,h.x=c.x,h.y=n.y):180===i&&t.x>l.right&&t.y>l.top&&t.y<l.bottom&&(c.x=t.x,c.y=t.y<n.y?Math.min(n.y,l.top):Math.max(n.y,l.bottom),h.y=c.y)):(c.h(t.x,n.y),h.h((t.x+n.x)/2,n.y),(0===i||90===i&&n.y<s.top||270===i&&n.y>s.bottom)&&(0===i&&(l.ba(t)||s.ba(n))?c.y=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0):n.y<t.y&&(0===i||90===i)?c.y=this.computeMidOrthoPosition(t.x,s.top,n.x,Math.max(n.y,l.bottom),!0):n.y>t.y&&(0===i||270===i)&&(c.y=this.computeMidOrthoPosition(t.x,s.bottom,n.x,Math.min(n.y,l.top),!0)),h.x=n.x,h.y=c.y),c.y>s.top&&c.y<s.bottom&&(n.x<=s.right&&n.x>=t.x||t.x>=l.left&&t.x<=n.x?90!==i&&270!==i||(c.h(Math.min((t.x+n.x)/2,t.x),t.y),h.h(c.x,n.y)):(c.y=270===i||(0===i||180===i)&&n.y<t.y?Math.min(n.y,180===i?s.top:Math.min(s.top,l.top)):Math.max(n.y,180===i?s.bottom:Math.max(s.bottom,l.bottom)),h.x=n.x,h.y=c.y))):90===e?n.y>t.y||180===i&&n.x<t.x&&l.bottom>t.y||0===i&&n.x>t.x&&l.bottom>t.y?(c.h(t.x,n.y),h.h((t.x+n.x)/2,n.y),270===i?(c.y=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0),h.x=n.x,h.y=c.y):180===i&&n.x<t.x||0===i&&n.x>t.x?(c.y=t.y<l.top?this.computeMidOrthoPosition(t.x,t.y,n.x,l.top,!0):t.y<l.bottom&&(180===i&&t.x<l.left||0===i&&t.x>l.right)?this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0):l.bottom,h.x=n.x,h.y=c.y):90===i&&t.y<l.top&&t.x>l.left&&t.x<l.right&&(c.x=t.x<n.x?Math.min(n.x,l.left):Math.max(n.x,l.right),c.y=t.y,h.x=c.x)):(c.h(n.x,t.y),h.h(n.x,(t.y+n.y)/2),(270===i||0===i&&n.x<s.left||180===i&&n.x>s.right)&&(270===i&&(l.ba(t)||s.ba(n))?c.x=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1):n.x<t.x&&(270===i||0===i)?c.x=this.computeMidOrthoPosition(s.left,t.y,Math.max(n.x,l.right),n.y,!1):n.x>t.x&&(270===i||180===i)&&(c.x=this.computeMidOrthoPosition(s.right,t.y,Math.min(n.x,l.left),n.y,!1)),h.x=c.x,h.y=n.y),c.x>s.left&&c.x<s.right&&(n.y>=s.top&&n.y<=t.y||t.y<=l.bottom&&t.y>=n.y?0!==i&&180!==i||(c.h(t.x,Math.max((t.y+n.y)/2,t.y)),h.h(n.x,c.y)):(c.x=180===i||(90===i||270===i)&&n.x<t.x?Math.min(n.x,90===i?s.left:Math.min(s.left,l.left)):Math.max(n.x,90===i?s.right:Math.max(s.right,l.right)),h.x=c.x,h.y=n.y))):n.y<t.y||180===i&&n.x<t.x&&l.top<t.y||0===i&&n.x>t.x&&l.top<t.y?(c.h(t.x,n.y),h.h((t.x+n.x)/2,n.y),90===i?(c.y=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0),h.x=n.x,h.y=c.y):180===i&&n.x<t.x||0===i&&n.x>=t.x?(c.y=t.y>l.bottom?this.computeMidOrthoPosition(t.x,t.y,n.x,l.bottom,!0):t.y>l.top&&(180===i&&t.x<l.left||0===i&&t.x>l.right)?this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0):l.top,h.x=n.x,h.y=c.y):270===i&&t.y>l.bottom&&t.x>l.left&&t.x<l.right&&(c.x=t.x<n.x?Math.min(n.x,l.left):Math.max(n.x,l.right),c.y=t.y,h.x=c.x)):(c.h(n.x,t.y),h.h(n.x,(t.y+n.y)/2),(90===i||0===i&&n.x<s.left||180===i&&n.x>s.right)&&(90===i&&(l.ba(t)||s.ba(n))?c.x=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1):n.x<t.x&&(90===i||0===i)?c.x=this.computeMidOrthoPosition(s.left,t.y,Math.max(n.x,l.right),n.y,!1):n.x>t.x&&(90===i||180===i)&&(c.x=this.computeMidOrthoPosition(s.right,t.y,Math.min(n.x,l.left),n.y,!1)),h.x=c.x,h.y=n.y),c.x>s.left&&c.x<s.right&&(n.y<=s.bottom&&n.y>=t.y||t.y>=l.top&&t.y<=n.y?0!==i&&180!==i||(c.h(t.x,Math.min((t.y+n.y)/2,t.y)),h.h(n.x,c.y)):(c.x=180===i||(90===i||270===i)&&n.x<t.x?Math.min(n.x,270===i?s.left:Math.min(s.left,l.left)):Math.max(n.x,270===i?s.right:Math.max(s.right,l.right)),h.x=c.x,h.y=n.y)));var d=n;if(this.isAvoiding){var u=this.diagram;if(null===u||a===o||this.layer.isTemporary||!Lo(u)||s.ba(d)&&!o.Md(a)||l.ba(t)&&!a.Md(o))e=!1;else{var f=To(u,!0,this.containingGroup,null);if(17!==this.segmentIndex&&f.Pj(Math.min(t.x,c.x),Math.min(t.y,c.y),Math.abs(t.x-c.x),Math.abs(t.y-c.y))&&f.Pj(Math.min(c.x,h.x),Math.min(c.y,h.y),Math.abs(c.x-h.x),Math.abs(c.y-h.y))&&f.Pj(Math.min(h.x,d.x),Math.min(h.y,d.y),Math.abs(h.x-d.x),Math.abs(h.y-d.y)))e=!1;else{a=t,o=d;var p=n=null;if(u.isVirtualized){(u=f.bounds.copy()).vc(-f.lo,-f.ko);var g=gt.alloc();Ed(f,t.x,t.y)||(Ue.wf(u.x,u.y,u.x+u.width,u.y+u.height,t.x,t.y,c.x,c.y,g)?(n=t=g.copy(),e=g.Ya(c)):Ue.wf(u.x,u.y,u.x+u.width,u.y+u.height,c.x,c.y,h.x,h.y,g)?(n=t=g.copy(),e=g.Ya(h)):Ue.wf(u.x,u.y,u.x+u.width,u.y+u.height,h.x,h.y,d.x,d.y,g)&&(n=t=g.copy(),e=g.Ya(d))),Ed(f,d.x,d.y)||(Ue.wf(u.x,u.y,u.x+u.width,u.y+u.height,d.x,d.y,h.x,h.y,g)?(p=d=g.copy(),i=h.Ya(g)):Ue.wf(u.x,u.y,u.x+u.width,u.y+u.height,h.x,h.y,c.x,c.y,g)?(p=d=g.copy(),i=c.Ya(g)):Ue.wf(u.x,u.y,u.x+u.width,u.y+u.height,c.x,c.y,t.x,t.y,g)&&(p=d=g.copy(),i=t.Ya(g))),gt.free(g)}(s=s.copy().Xc(l)).vc(f.lo*f.ps,f.ko*f.ps),Fd(f,t,e,d,i,s,!0),l=Cd(f,d.x,d.y),!f.abort&&l>=zd&&(Nd(f),s.vc(f.lo*f.mx,f.ko*f.nx),Fd(f,t,e,d,i,s,!1),l=Cd(f,d.x,d.y)),!f.abort&&l<zd&&Cd(f,d.x,d.y)!==Rd?(!function t(e,n,i,a,o,r,s){var l=n.lo,c=n.ko,h=Cd(n,i,a),d=i,u=a;for(0===o?d+=l:90===o?u+=c:180===o?d-=l:u-=c,o!==s&&h>Id&&Cd(n,d,u)!==h-1&&(Cd(n,i-l,a)===h-1?(o=180,d=i-l,u=a):Cd(n,i+l,a)===h-1?(o=0,d=i+l,u=a):Cd(n,i,a-c)===h-1?(o=270,d=i,u=a-c):Cd(n,i,a+c)===h-1&&(o=90,d=i,u=a+c));h>Id&&Cd(n,d,u)===h-1;)i=d,a=u,0===o?d+=l:90===o?u+=c:180===o?d-=l:u-=c,--h;r?h>Id&&(180===o||0===o?i=Math.floor(i/l)*l+l/2:90!==o&&270!==o||(a=Math.floor(a/c)*c+c/2)):(i=Math.floor(i/l)*l+l/2,a=Math.floor(a/c)*c+c/2);h>Id&&(r=o,s=i,d=a,0===o?(r=90,d+=c):90===o?(r=180,s-=l):180===o?(r=270,d-=c):270===o&&(r=0,s+=l),Cd(n,s,d)===h-1?t(e,n,s,d,r,!1,r):(s=i,d=a,0===o?(r=270,d-=c):90===o?(r=0,s+=l):180===o?(r=90,d+=c):270===o&&(r=180,s-=l),Cd(n,s,d)===h-1&&t(e,n,s,d,r,!1,r))),e.mf(i,a)}(this,f,d.x,d.y,i,!0,r),s=this.i(2),4>this.pointsCount?(0===e||180===e?(s.x=t.x,s.y=d.y):(s.x=d.x,s.y=t.y),this.M(2,s.x,s.y),this.l(3,s.x,s.y)):(r=this.i(3),0===e||180===e?Ue.B(s.x,r.x)?(s=0===e?Math.max(s.x,t.x):Math.min(s.x,t.x),this.M(2,s,t.y),this.M(3,s,r.y)):Ue.B(s.y,r.y)?(Math.abs(t.y-s.y)<=f.ko/2&&(this.M(2,s.x,t.y),this.M(3,r.x,t.y)),this.l(2,s.x,t.y)):this.M(2,t.x,s.y):90!==e&&270!==e||(Ue.B(s.y,r.y)?(s=90===e?Math.max(s.y,t.y):Math.min(s.y,t.y),this.M(2,t.x,s),this.M(3,r.x,s)):Ue.B(s.x,r.x)?(Math.abs(t.x-s.x)<=f.lo/2&&(this.M(2,t.x,s.y),this.M(3,t.x,r.y)),this.l(2,t.x,s.y)):this.M(2,s.x,t.y))),null!==n&&(t=this.i(1),r=this.i(2),t.x!==r.x&&t.y!==r.y?0===e||180===e?this.l(2,t.x,r.y):this.l(2,r.x,t.y):0===e||180===e?this.l(2,a.x,n.y):this.l(2,n.x,a.y)),null!==p&&(0===i||180===i?this.mf(o.x,p.y):this.mf(p.x,o.y)),e=!0):e=!1}}}else e=!1;e||(this.fe(c.copy()),this.fe(h.copy())),gt.free(c),gt.free(h)}},Ih.prototype.computeMidOrthoPosition=function(t,e,n,i,a){var o=0;return!this.hasCurviness()||this.computeSpot(!0,this.fromPort).Uc()||this.computeSpot(!1,this.toPort).Uc()||(o=this.computeCurviness()),a?(e+i)/2+o:(t+n)/2+o},Ih.prototype.Ny=function(t){var e=t.x;t=t.y;for(var n=this.i(0),i=this.i(1),a=xt(e,t,n.x,n.y,i.x,i.y),o=0,r=1;r<this.pointsCount-1;r++){n=this.i(r+1);var s=xt(e,t,i.x,i.y,n.x,n.y);i=n,s<a&&(o=r,a=s)}return o},Ih.prototype.mc=function(){this.Zl=!1,this.w()},Ih.prototype.Cl=function(t){if(!t){if(!1===this.xd)return;if(t=this.vb(),this.Zl&&(null===t||null!==t.geometry))return}if(this.ua=this.makeGeometry(),null!==(t=this.path)){t.ua=this.ua;for(var e=this.R.s,n=e.length,i=0;i<n;i++){var a=e[i];a!==t&&a.isPanelMain&&a instanceof Gl&&(a.ua=this.ua)}}},Ih.prototype.makeGeometry=function(){var t=this.ua,e=this.pointsCount;if(2>e)return t.type=We.j,this.Zl=!0,t;var n=!1,i=this.diagram;null!==i&&td(this)&&i.th.contains(this)&&(0!==this.al.width||0!==this.al.height)&&(i.animationManager.isAnimating||i.currentTool!==i.toolManager)&&(n=!0);var a=this.i(0).copy(),o=a.copy();i=this.Jb.s;var r=this.computeCurve();if(r===ud&&3<=e&&!Ue.ca(this.smoothness,0))if(3===e){var s=this.i(1);i=Math.min(a.x,s.x);var l=Math.min(a.y,s.y);s=this.i(2),i=Math.min(i,s.x),l=Math.min(l,s.y)}else{if(this.isOrthogonal)for(l=0;l<e;l++)s=i[l],o.x=Math.min(s.x,o.x),o.y=Math.min(s.y,o.y);else for(i=3;i<e;i+=3)i+3>=e&&(i=e-1),l=this.i(i),o.x=Math.min(l.x,o.x),o.y=Math.min(l.y,o.y);i=o.x,l=o.y}else{for(l=0;l<e;l++)s=i[l],o.x=Math.min(s.x,o.x),o.y=Math.min(s.y,o.y);i=o.x,l=o.y}if(i-=this.Yt.x,l-=this.Yt.y,a.x-=i,a.y-=l,2!==e||td(this)){if(t.type=We.m,s=Yc(t),0!==this.computeShortLength(!0)&&(a=Zh(this,a,!0,o)),Vc(s,a.x,a.y,!1),r===ud&&3<=e&&!Ue.ca(this.smoothness,0))if(3===e)e=(n=this.i(1)).x-i,n=n.y-l,(a=this.i(2).copy()).x-=i,a.y-=l,0!==this.computeShortLength(!1)&&(a=Zh(this,a,!1,o)),Uc(s,e,n,e,n,a.x,a.y);else if(this.isOrthogonal){e=gt.allocAt(i,l),(n=gt.alloc()).assign(this.i(1)),o=gt.allocAt(i,l),a=gt.allocAt(i,l),r=this.i(0);for(var c,h=this.smoothness/3,d=1;d<this.pointsCount-1;d++){var u=r,f=c=this.i(d),p=this.i($h(this,c,d,!1));if(!(Ue.ca(u.x,f.x)&&Ue.ca(f.x,p.x)||Ue.ca(u.y,f.y)&&Ue.ca(f.y,p.y))){var g=h;isNaN(g)&&(g=this.smoothness/3);var m=u.x;u=u.y;var y=f.x;f=f.y;var v=p.x;p=p.y;var w=g*Kh(m,u,y,f);g*=Kh(y,f,v,p),Ue.ca(u,f)&&Ue.ca(y,v)&&(y>m?p>f?(o.x=y-w,o.y=f-w,a.x=y+g,a.y=f+g):(o.x=y-w,o.y=f+w,a.x=y+g,a.y=f-g):p>f?(o.x=y+w,o.y=f-w,a.x=y-g,a.y=f+g):(o.x=y+w,o.y=f+w,a.x=y-g,a.y=f-g)),Ue.ca(m,y)&&Ue.ca(f,p)&&(f>u?(v>y?(o.x=y-w,o.y=f-w,a.x=y+g):(o.x=y+w,o.y=f-w,a.x=y-g),a.y=f+g):(v>y?(o.x=y-w,o.y=f+w,a.x=y+g):(o.x=y+w,o.y=f+w,a.x=y-g),a.y=f-g)),(Ue.ca(m,y)&&Ue.ca(y,v)||Ue.ca(u,f)&&Ue.ca(f,p))&&(m=.5*(m+v),u=.5*(u+p),o.x=m,o.y=u,a.x=m,a.y=u),(1===d||2===d&&Ue.ca(r.x,this.i(0).x)&&Ue.ca(r.y,this.i(0).y))&&(n.x=.5*(r.x+c.x),n.y=.5*(r.y+c.y)),Uc(s,n.x-i,n.y-l,o.x-i,o.y-l,c.x-i,c.y-l),e.set(o),n.set(a),r=c}}c=r.x,r=r.y,h=this.i(this.pointsCount-1),0!==this.computeShortLength(!1)&&(h=Zh(this,h.copy(),!1,it)),c=.5*(c+h.x),r=.5*(r+h.y),Uc(s,a.x-i,a.y-l,c-i,r-l,h.x-i,h.y-l),gt.free(e),gt.free(n),gt.free(o),gt.free(a)}else for(n=3;n<e;n+=3)o=this.i(n-2),n+3>=e&&(n=e-1),a=this.i(n-1),r=this.i(n),n===e-1&&0!==this.computeShortLength(!1)&&(r=Zh(this,r.copy(),!1,it)),Uc(s,o.x-i,o.y-l,a.x-i,a.y-l,r.x-i,r.y-l);else{for((o=gt.alloc()).assign(this.i(0)),(a=gt.alloc()).assign(o),r=this.computeCorner(),d=1,c=0;d<e;){if(d=$h(this,o,d,1<d),h=this.i(d),d>=e-1){if(o.C(h)){if(0===c)for(d=1;d<e;)a.assign(o),Jh(this,s,-i,-l,o,h=this.i(d++),n),o.assign(h)}else 0!==this.computeShortLength(!1)&&(h=Zh(this,h.copy(),!1,it)),Jh(this,s,-i,-l,o,h,n);break}if(c=$h(this,h,d+1,d<e-3),d=-i,m=-l,u=h,y=this.i(c),g=n,Ue.B(o.y,u.y)&&Ue.B(u.x,y.x))if(p=Math.min(r,Math.abs(u.x-a.x)/2),p=w=Math.min(p,Math.abs(y.y-u.y)/2),Ue.B(p,0))Jh(this,s,d,m,o,u,g),o.assign(u);else{var x=u.x,b=u.y;f=x,v=b,x=u.x>o.x?u.x-p:u.x+p,v=y.y>u.y?u.y+w:u.y-w,Jh(this,s,d,m,o,y=gt.allocAt(x,b),g),gt.free(y),Wc(s,u.x+d,u.y+m,f+d,v+m),o.h(f,v)}else Ue.B(o.x,u.x)&&Ue.B(u.y,y.y)?(p=Math.min(r,Math.abs(u.y-a.y)/2),p=w=Math.min(p,Math.abs(y.x-u.x)/2),Ue.B(w,0)?(Jh(this,s,d,m,o,u,g),o.assign(u)):(f=x=u.x,v=b=u.y,b=u.y>o.y?u.y-p:u.y+p,f=y.x>u.x?u.x+w:u.x-w,Jh(this,s,d,m,o,y=gt.allocAt(x,b),g),gt.free(y),Wc(s,u.x+d,u.y+m,f+d,v+m),o.h(f,v))):(Jh(this,s,d,m,o,u,g),o.assign(u));a.assign(h),d=c}gt.free(o)}Xc=s}else(s=this.i(1).copy()).x-=i,s.y-=l,0!==this.computeShortLength(!0)&&(a=Zh(this,a,!0,o)),0!==this.computeShortLength(!1)&&(s=Zh(this,s,!1,o)),t.type=We.j,t.startX=a.x,t.startY=a.y,t.endX=s.x,t.endY=s.y;return this.Zl=!0,t},Ih.prototype.computeJumpLength=function(){return 10},Ih.prototype.Ao=function(t){var e=this.layer;if(null!==e&&e.visible&&!e.isTemporary){var n=e.diagram;if(null!==n&&!n.animationManager.isTicking){var i=!1;for(n=n.layers;n.next();){var a=n.value;if(a.visible)if(a===e){i=!0;for(var o=!1,r=(a=a.Ma.s).length,s=0;s<r;s++){var l=a[s];l instanceof Ih&&(l===this?o=!0:o&&nd(this,l,t))}}else if(i)for(a=(o=a.Ma.s).length,r=0;r<a;r++)(s=o[r])instanceof Ih&&nd(this,s,t)}}}},Ih.prototype.usesSamePort=function(t){var e=this.pointsCount,n=t.pointsCount;if(0<e&&0<n){var i=this.i(0),a=t.i(0);if(i.$a(a))return!0;if(e=this.i(e-1),t=t.i(n-1),e.$a(t)||i.$a(t)||e.$a(a))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1},Ih.prototype.isVisible=function(){if(!$c.prototype.isVisible.call(this))return!1;var t=this.containingGroup,e=!0,n=this.diagram;if(null!==n&&(e=n.isTreePathToChildren),null!==(n=this.fromNode)){if(this.isTreeLink&&e&&!n.isTreeExpanded)return!1;if(n===t)return!0;for(var i=n;null!==i;){if(i.labeledLink===this)return!0;i=i.containingGroup}if(null===(n=n.findVisibleNode())||n===t)return!1}if(null!==(n=this.toNode)){if(this.isTreeLink&&!e&&!n.isTreeExpanded)return!1;if(n===t)return!0;for(e=n;null!==e;){if(e.labeledLink===this)return!0;e=e.containingGroup}if(null===(e=n.findVisibleNode())||e===t)return!1}return!0},Ih.prototype.Ub=function(t){if($c.prototype.Ub.call(this,t),null!==this.If&&this.If.zl(),null!==this.rd)for(var e=this.rd.iterator;e.next();)e.value.Ub(t)},Ih.prototype.computeAdjusting=function(){return this.isAvoiding&&null!==this.diagram&&this.diagram.animationManager.defaultAnimation.isAnimating?gd:this.ck},Ih.prototype.eh=function(){return!0},u.Object.defineProperties(Ih.prototype,{fromNode:{get:function(){return this.Ue},set:function(t){var e=this.Ue;if(e!==t){var n=this.fromPort;null!==e&&(this.hf!==e&&Lh(e,this,n),ad(this),this.D(2)),this.Ue=t,null!==t&&this.Ub(t.isVisible()),this.Mf=null,this.ab();var i=this.diagram;null!==i&&i.$&&i.partManager.setFromNodeForLink(this,t,e);var a=this.fromPort,o=this.fromPortChanged;if(null!==o){var r=!0;null!==i&&(r=i.$,i.$=!0),o(this,n,a),null!==i&&(i.$=r)}null!==t&&(this.hf!==t&&_h(t,this,a),id(this),this.D(1)),this.g("fromNode",e,t),zh(this)}}},fromPortId:{get:function(){return this.Ve},set:function(t){var e=this.Ve;if(e!==t){var n=this.fromPort;null!==n&&Mh(n),ad(this),this.Ve=t;var i=this.fromPort;null!==i&&Mh(i);var a=this.diagram;if(null!==a){var o=this.data,r=a.model;null!==o&&r.ki()&&r.cv(o,t)}n!==i&&(this.Mf=null,this.ab(),null!==(o=this.fromPortChanged)&&(r=!0,null!==a&&(r=a.$,a.$=!0),o(this,n,i),null!==a&&(a.$=r))),id(this),this.g("fromPortId",e,t)}}},fromPort:{get:function(){var t=this.Ue;return null===t?null:t.Lr(this.Ve)}},fromPortChanged:{get:function(){return this.Om},set:function(t){var e=this.Om;e!==t&&(this.Om=t,this.g("fromPortChanged",e,t))}},toNode:{get:function(){return this.hf},set:function(t){var e=this.hf;if(e!==t){var n=this.toPort;null!==e&&(this.Ue!==e&&Lh(e,this,n),ad(this),this.D(2)),this.hf=t,null!==t&&this.Ub(t.isVisible()),this.Mf=null,this.ab();var i=this.diagram;null!==i&&i.$&&i.partManager.setToNodeForLink(this,t,e);var a=this.toPort,o=this.toPortChanged;if(null!==o){var r=!0;null!==i&&(r=i.$,i.$=!0),o(this,n,a),null!==i&&(i.$=r)}null!==t&&(this.Ue!==t&&_h(t,this,a),id(this),this.D(1)),this.g("toNode",e,t),zh(this)}}},toPortId:{get:function(){return this.jf},set:function(t){var e=this.jf;if(e!==t){var n=this.toPort;null!==n&&Mh(n),ad(this),this.jf=t;var i=this.toPort;null!==i&&Mh(i);var a=this.diagram;if(null!==a){var o=this.data,r=a.model;null!==o&&r.ki()&&r.hv(o,t)}n!==i&&(this.Mf=null,this.ab(),null!==(o=this.toPortChanged)&&(r=!0,null!==a&&(r=a.$,a.$=!0),o(this,n,i),null!==a&&(a.$=r))),id(this),this.g("toPortId",e,t)}}},toPort:{get:function(){var t=this.hf;return null===t?null:t.Lr(this.jf)}},toPortChanged:{get:function(){return this.Xn},set:function(t){var e=this.Xn;e!==t&&(this.Xn=t,this.g("toPortChanged",e,t))}},fromSpot:{get:function(){return null!==this.aa?this.aa.Qi:Me},set:function(t){var e=this.fromSpot;e.C(t)||(t=t.J(),this.Rc(),this.aa.Qi=t,this.g("fromSpot",e,t),(e.Uc()||t.Uc())&&null!==this.fromNode&&Mh(this.fromPort),this.ab())}},fromEndSegmentLength:{get:function(){return null!==this.aa?this.aa.Oi:NaN},set:function(t){var e=this.fromEndSegmentLength;e!==t&&(0>t&&k(t,">= 0",Ih,"fromEndSegmentLength"),this.Rc(),this.aa.Oi=t,this.g("fromEndSegmentLength",e,t),this.ab())}},fromShortLength:{get:function(){return null!==this.aa?this.aa.Pi:NaN},set:function(t){var e=this.fromShortLength;e!==t&&(this.Rc(),this.aa.Pi=t,this.mc(),this.g("fromShortLength",e,t))}},toSpot:{get:function(){return null!==this.aa?this.aa.tj:Me},set:function(t){var e=this.toSpot;e.C(t)||(t=t.J(),this.Rc(),this.aa.tj=t,this.g("toSpot",e,t),(e.Uc()||t.Uc())&&null!==this.toNode&&Mh(this.toPort),this.ab())}},toEndSegmentLength:{get:function(){return null!==this.aa?this.aa.rj:NaN},set:function(t){var e=this.toEndSegmentLength;e!==t&&(0>t&&k(t,">= 0",Ih,"toEndSegmentLength"),this.Rc(),this.aa.rj=t,this.g("toEndSegmentLength",e,t),this.ab())}},toShortLength:{get:function(){return null!==this.aa?this.aa.sj:NaN},set:function(t){var e=this.toShortLength;e!==t&&(this.Rc(),this.aa.sj=t,this.mc(),this.g("toShortLength",e,t))}},isLabeledLink:{get:function(){return null!==this.rd&&0<this.rd.count}},labelNodes:{get:function(){return null===this.rd?Y:this.rd.iterator}},relinkableFrom:{get:function(){return 0!=(1&this.Oa)},set:function(t){var e=0!=(1&this.Oa);e!==t&&(this.Oa^=1,this.g("relinkableFrom",e,t),this.Rb())}},relinkableTo:{get:function(){return 0!=(2&this.Oa)},set:function(t){var e=0!=(2&this.Oa);e!==t&&(this.Oa^=2,this.g("relinkableTo",e,t),this.Rb())}},resegmentable:{get:function(){return 0!=(4&this.Oa)},set:function(t){var e=0!=(4&this.Oa);e!==t&&(this.Oa^=4,this.g("resegmentable",e,t),this.Rb())}},isTreeLink:{get:function(){return 0!=(8&this.Oa)},set:function(t){var e=0!=(8&this.Oa);e!==t&&(this.Oa^=8,this.g("isTreeLink",e,t),null!==this.fromNode&&Th(this.fromNode),null!==this.toNode&&Th(this.toNode))}},path:{get:function(){var t=this.vb();return t instanceof Gl?t:null}},routeBounds:{get:function(){this.mg();var t=this.al,e=1/0,n=1/0,i=this.pointsCount;if(0===i)t.h(NaN,NaN,0,0);else{if(1===i)i=this.i(0),e=Math.min(i.x,e),n=Math.min(i.y,n),t.h(i.x,i.y,0,0);else if(2===i){i=this.i(0);var a=this.i(1);e=Math.min(i.x,a.x),n=Math.min(i.y,a.y),t.h(i.x,i.y,0,0),t.Me(a)}else if(this.computeCurve()===ud&&3<=i&&!this.isOrthogonal)if(e=(a=this.i(0)).x,n=a.y,t.h(e,n,0,0),3===i){i=this.i(1),e=Math.min(i.x,e),n=Math.min(i.y,n);var o=this.i(2);e=Math.min(o.x,e),n=Math.min(o.y,n),Ue.pl(a.x,a.y,i.x,i.y,i.x,i.y,o.x,o.y,.5,t)}else for(o=3;o<i;o+=3){var r=this.i(o-2);o+3>=i&&(o=i-1);var s=this.i(o-1),l=this.i(o);Ue.pl(a.x,a.y,r.x,r.y,s.x,s.y,l.x,l.y,.5,t),e=Math.min(l.x,e),n=Math.min(l.y,n),a=l}else for(a=this.i(0),o=this.i(1),e=Math.min(a.x,o.x),n=Math.min(a.y,o.y),t.h(a.x,a.y,0,0),t.Me(o),a=2;a<i;a++)o=this.i(a),e=Math.min(o.x,e),n=Math.min(o.y,n),t.Me(o);this.Yt.h(e-t.x,n-t.y)}return t}},midPoint:{get:function(){return this.mg(),this.computeMidPoint(new gt)}},midAngle:{get:function(){return this.mg(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(null===this.Gp){this.xd||Gh(this);for(var t=this.Gp=[],e=this.pointsCount,n=0;n<e-1;n++){var i=this.i(n),a=this.i(n+1);Ue.ca(i.x,a.x)?0>(i=a.y-i.y)&&(i=-i):Ue.ca(i.y,a.y)?0>(i=a.x-i.x)&&(i=-i):i=Math.sqrt(i.rf(a)),t.push(i)}}return this.Gp}},flattenedTotalLength:{get:function(){var t=this.Ys;if(isNaN(t)){for(var e=this.flattenedLengths,n=e.length,i=t=0;i<n;i++)t+=e[i];this.Ys=t}return t}},points:{get:function(){return this.Jb},set:function(t){var e=this.Jb;if(e!==t){var n=null;if(Array.isArray(t)){var i=0==t.length%2;if(i)for(var a=0;a<t.length;a++)if("number"!=typeof t[a]||isNaN(t[a])){i=!1;break}if(i)for(n=new $,i=0;i<t.length/2;i++)a=new gt(t[2*i],t[2*i+1]).freeze(),n.add(a);else{for(i=!0,a=0;a<t.length;a++){var o=t[a];if(!M(o)||"number"!=typeof o.x||isNaN(o.x)||"number"!=typeof o.y||isNaN(o.y)){i=!1;break}}if(i)for(n=new $,i=0;i<t.length;i++)a=t[i],n.add(new gt(a.x,a.y).freeze())}}else if(t instanceof $)for(n=t.copy(),t=n.iterator;t.next();)t.value.freeze();else b("Link.points value is not an instance of List or Array: "+t);n.freeze(),this.Jb=n,this.mc(),Gh(this),null!==(t=this.diagram)&&(t.ji||t.undoManager.isUndoingRedoing||t.$r.add(this),t.animationManager.zb&&(t=t.animationManager,this.ef=n,t.cl.add(this))),this.g("points",e,n)}}},pointsCount:{get:function(){return this.Jb.count}},xd:{get:function(){return 0!=(16&this.Oa)},set:function(t){0!=(16&this.Oa)!==t&&(this.Oa^=16)}},suspendsRouting:{get:function(){return 0!=(32&this.Oa)},set:function(t){0!=(32&this.Oa)!==t&&(this.Oa^=32)}},computingPoints:{get:function(){return 0!=(64&this.Oa)},set:function(t){0!=(64&this.Oa)!==t&&(this.Oa^=64)}},defaultFromPoint:{get:function(){return this.m},set:function(t){this.m=t.copy()}},defaultToPoint:{get:function(){return this.u},set:function(t){this.u=t.copy()}},isOrthogonal:{get:function(){return 2==(2&this.kj.value)}},isAvoiding:{get:function(){return 4==(4&this.kj.value)}},Zl:{get:function(){return 0!=(128&this.Oa)},set:function(t){0!=(128&this.Oa)!==t&&(this.Oa^=128)}},geometry:{get:function(){return this.Zl||(this.mg(),this.ua=this.makeGeometry()),this.ua}},firstPickIndex:{get:function(){return 2>=this.pointsCount?0:this.isOrthogonal||!qh(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var t=this.pointsCount;return 0===t?0:2>=t?t-1:this.isOrthogonal||!qh(this.computeSpot(!1))?t-2:t-1}},adjusting:{get:function(){return this.ck},set:function(t){var e=this.ck;e!==t&&(this.ck=t,this.g("adjusting",e,t))}},corner:{get:function(){return this.wm},set:function(t){var e=this.wm;e!==t&&(this.wm=t,this.mc(),this.g("corner",e,t))}},curve:{get:function(){return this.ym},set:function(t){var e=this.ym;e!==t&&(this.ym=t,this.ab(),this.mc(),ed(this,e===fd||e===pd||t===fd||t===pd),this.g("curve",e,t))}},curviness:{get:function(){return this.zm},set:function(t){var e=this.zm;e!==t&&(this.zm=t,this.ab(),this.mc(),this.g("curviness",e,t))}},routing:{get:function(){return this.kj},set:function(t){var e=this.kj;e!==t&&(this.kj=t,this.Mf=null,this.ab(),ed(this,2==(2&e.value)||2==(2&t.value)),this.g("routing",e,t))}},smoothness:{get:function(){return this.Sn},set:function(t){var e=this.Sn;e!==t&&(this.Sn=t,this.mc(),this.g("smoothness",e,t))}},key:{get:function(){var t=this.diagram;if(null!==t&&t.model.ki())return t.model.uc(this.data)}}}),Ih.prototype.invalidateOtherJumpOvers=Ih.prototype.Ao,Ih.prototype.findClosestSegment=Ih.prototype.Ny,Ih.prototype.updateRoute=Ih.prototype.mg,Ih.prototype.invalidateRoute=Ih.prototype.ab,Ih.prototype.rollbackRoute=Ih.prototype.Zu,Ih.prototype.commitRoute=Ih.prototype.pf,Ih.prototype.startRoute=Ih.prototype.jh,Ih.prototype.clearPoints=Ih.prototype.Aj,Ih.prototype.removePoint=Ih.prototype.Xu,Ih.prototype.addPointAt=Ih.prototype.mf,Ih.prototype.addPoint=Ih.prototype.fe,Ih.prototype.insertPointAt=Ih.prototype.l,Ih.prototype.insertPoint=Ih.prototype.sz,Ih.prototype.setPointAt=Ih.prototype.M,Ih.prototype.setPoint=Ih.prototype.Wc,Ih.prototype.getPoint=Ih.prototype.i,Ih.prototype.getOtherPort=Ih.prototype.jz,Ih.prototype.getOtherNode=Ih.prototype.wo;var od=null,rd=null,sd=new H(Ih,"Normal",1),ld=new H(Ih,"Orthogonal",2),cd=new H(Ih,"AvoidsNodes",6),hd=new H(Ih,"AvoidsNodesStraight",7),dd=new H(Ih,"None",0),ud=new H(Ih,"Bezier",9),fd=new H(Ih,"JumpGap",10),pd=new H(Ih,"JumpOver",11),gd=new H(Ih,"End",17),md=new H(Ih,"Scale",18),yd=new H(Ih,"Stretch",19),vd=new H(Ih,"OrientAlong",21),wd=new H(Ih,"OrientPlus90",22),xd=new H(Ih,"OrientMinus90",23),bd=new H(Ih,"OrientOpposite",24),Sd=new H(Ih,"OrientUpright",25),kd=new H(Ih,"OrientPlus90Upright",26),Pd=new H(Ih,"OrientMinus90Upright",27),Md=new H(Ih,"OrientUpright45",28),_d=16,Ld=14,Td=8;function Od(t,e,n,i){tt(this),this.ue=this.Sp=!1,this.ds=t,this.vx=e,this.Ou=n,this.wx=i,this.links=[]}function Ad(t){tt(this),this.Hx=this.group=null,this.Tr=!0,this.abort=!1,this.Ed=this.Dd=1,this.mn=this.ln=-1,this.nc=t.width,this.oc=t.height,this.Xb=null,this.Xh=this.Wh=0,this.ps=11,this.nx=this.mx=22}function Ed(t,e,n){return t.Dd<=e&&e<=t.ln&&t.Ed<=n&&n<=t.mn}function Cd(t,e,n){return Ed(t,e,n)?(e-=t.Dd,e/=t.nc,n-=t.Ed,n/=t.oc,t.Xb[0|e][0|n]):Hd}function Nd(t){if(null!==t.Xb)for(var e=0;e<=t.Wh;e++)for(var n=t.Xb[e],i=0;i<=t.Xh;i++)n[i]>=Id&&(n[i]=Hd)}function Bd(t,e,n,i,a,o,r,s,l){if(!(e<o||e>r||n<s||n>l)){var c=0|e,h=0|n,d=t.Xb[c][h];if(d>=Id&&d<zd)for(a?h+=i:c+=i,d+=1;o<=c&&c<=r&&s<=h&&h<=l&&!(d>=t.Xb[c][h]);)t.Xb[c][h]=d,d+=1,a?h+=i:c+=i;if(c=a?h:c,a)if(0<i)for(n+=i;n<c;n+=i)Bd(t,e,n,1,!a,o,r,s,l),Bd(t,e,n,-1,!a,o,r,s,l);else for(n+=i;n>c;n+=i)Bd(t,e,n,1,!a,o,r,s,l),Bd(t,e,n,-1,!a,o,r,s,l);else if(0<i)for(e+=i;e<c;e+=i)Bd(t,e,n,1,!a,o,r,s,l),Bd(t,e,n,-1,!a,o,r,s,l);else for(e+=i;e>c;e+=i)Bd(t,e,n,1,!a,o,r,s,l),Bd(t,e,n,-1,!a,o,r,s,l)}}function jd(t,e,n,i,a,o,r,s,l){e|=0,n|=0;var c=Rd,h=Id;for(t.Xb[e][n]=h;c===Rd&&e>o&&e<r&&n>s&&n<l;)h+=1,t.Xb[e][n]=h,a?n+=i:e+=i,c=t.Xb[e][n]}function Dd(t,e,n,i,a,o,r,s,l){e|=0,n|=0;var c=Rd,h=zd;for(t.Xb[e][n]=h;c===Rd&&e>o&&e<r&&n>s&&n<l;)t.Xb[e][n]=h,a?n+=i:e+=i,c=t.Xb[e][n]}function Fd(t,e,n,i,a,o,r){if(null!==t.Xb){t.abort=!1;var s=e.x,l=e.y;if(Ed(t,s,l)){s-=t.Dd,s/=t.nc,l-=t.Ed,l/=t.oc;var c=i.x,h=i.y;if(Ed(t,c,h))if(c-=t.Dd,c/=t.nc,h-=t.Ed,h/=t.oc,1>=Math.abs(s-c)&&1>=Math.abs(l-h))t.abort=!0;else{var d=o.x;i=o.y,e=o.x+o.width;var u=o.y+o.height;d-=t.Dd,d/=t.nc,i-=t.Ed,i/=t.oc,e-=t.Dd,e/=t.nc,u-=t.Ed,u/=t.oc,o=Math.max(0,Math.min(t.Wh,0|d)),e=Math.min(t.Wh,Math.max(0,0|e)),d=Math.max(0,Math.min(t.Xh,0|i)),u=Math.min(t.Xh,Math.max(0,0|u)),l|=0,c|=0,h|=0;var f=0===n||90===n?1:-1;if(n=90===n||270===n,(i=t.Xb)[s|=0][l]===Rd?(jd(t,s,l,f,n,o,e,d,u),jd(t,s,l,1,!n,o,e,d,u),jd(t,s,l,-1,!n,o,e,d,u)):jd(t,s,l,f,n,s,l,s,l),i[c][h]===Rd?(Dd(t,c,h,0===a||90===a?1:-1,90===a||270===a,o,e,d,u),Dd(t,c,h,1,!(90===a||270===a),o,e,d,u),Dd(t,c,h,-1,!(90===a||270===a),o,e,d,u)):Dd(t,c,h,f,n,c,h,c,h),n=A(),r&&function t(e,n,i,a,o,r,s){for(var l=e.Xb,c=n,h=i;;){if(c===o&&h===r)return!0;var d=c,u=h;if(0===a){if(!(d<o))break;d++}else if(90===a){if(!(u<r))break;u++}else if(180===a){if(!(d>o))break;d--}else{if(!(u>r))break;u--}var f=l[d][u];if(0===f||f===Vd)break;c=d,h=u}for(;;){if(d=a,u=c,f=h,0===a?f<r?(d=90,f++):f>r&&(d=270,f--):90===a?u<o?(d=0,u++):u>o&&(d=180,u--):180===a?f<r?(d=90,f++):f>r&&(d=270,f--):u<o?(d=0,u++):u>o&&(d=180,u--),u=l[u][f],d!==a&&0!==u&&u!==Vd){if(s.push(c),s.push(h),t(e,c,h,d,o,r,s))return!0;s.pop(),s.pop()}if(l[c][h]=Vd,0===a){if(c===n)return!1;c--}else if(90===a){if(h===i)return!1;h--}else if(180===a){if(c===n)return!1;c++}else{if(h===i)return!1;h++}}}(t,c,h,a,s,l,n))for(n[0]===c&&n[1]===h||(n.unshift(h),n.unshift(c)),n[n.length-2]===s&&n[n.length-1]===l||(n.push(s),n.push(l)),t=Id,a=n[n.length-2],r=n[n.length-1],i[a][r]=t++,o=n.length-4;0<=o;o-=2)for(a=n[o+2],r=n[o+3],e=n[o],c=n[o+1];e>a?a++:e<a?a--:c>r?r++:c<r&&r--,i[a][r]=t++,a!==e||r!==c;);else Bd(t,s,l,1,!1,o,e,d,u),Bd(t,s,l,-1,!1,o,e,d,u),Bd(t,s,l,1,!0,o,e,d,u),Bd(t,s,l,-1,!0,o,e,d,u);E(n)}}}}Ih.className="Link",Ih.Normal=sd,Ih.Orthogonal=ld,Ih.AvoidsNodes=cd,Ih.AvoidsNodesStraight=hd,Ih.None=dd,Ih.Bezier=ud,Ih.JumpGap=fd,Ih.JumpOver=pd,Ih.End=gd,Ih.Scale=md,Ih.Stretch=yd,Ih.OrientAlong=vd,Ih.OrientPlus90=wd,Ih.OrientMinus90=xd,Ih.OrientOpposite=bd,Ih.OrientUpright=Sd,Ih.OrientPlus90Upright=kd,Ih.OrientMinus90Upright=Pd,Ih.OrientUpright45=Md,Ih.EndSegmentStep=8,Ih.CurvinessStart=_d,Ih.SpacingMin=Ld,Ih.OrthoShortCut=Td,Od.prototype.zl=function(){if(!this.Sp){var t=this.links;0<t.length&&(null!==(t=t[0].diagram)&&(t.Uv.add(this),this.ue=t.undoManager.isUndoingRedoing))}this.Sp=!0},Od.prototype.rv=function(){if(this.Sp){this.Sp=!1;var t=this.links;if(0<t.length){var e=t[0],n=e.diagram;n=null===n||n.ji&&!this.ue,this.ue=!1,e.arrangeBundledLinks(t,n),1===t.length&&(e.If=null,t.length=0)}0===t.length&&(t=this.ds,null!==this&&null!==t.Qe&&t.Qe.remove(this),t=this.Ou,null!==this&&null!==t.Qe&&t.Qe.remove(this))}},Od.className="LinkBundle",Ad.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,n=t.x+t.width,i=t.y+t.height;if(this.Dd=Math.floor((t.x-this.nc)/this.nc)*this.nc,this.Ed=Math.floor((e-this.oc)/this.oc)*this.oc,this.ln=Math.ceil((n+2*this.nc)/this.nc)*this.nc,this.mn=Math.ceil((i+2*this.oc)/this.oc)*this.oc,t=1+(0|Math.ceil((this.ln-this.Dd)/this.nc)),e=1+(0|Math.ceil((this.mn-this.Ed)/this.oc)),null===this.Xb||this.Wh<t-1||this.Xh<e-1){for(n=[],i=0;i<=t;i++)n[i]=new Uint32Array(e);this.Xb=n,this.Wh=t-1,this.Xh=e-1}if(t=Hd,null!==this.Xb)for(e=0;e<=this.Wh;e++)if((n=this.Xb[e]).fill)n.fill(t);else for(i=0;i<=this.Xh;i++)n[i]=t}},Ad.prototype.Pj=function(t,e,n,i){if(t>this.ln||t+n<this.Dd||e>this.mn||e+i<this.Ed)return!0;t=(t-this.Dd)/this.nc|0,e=(e-this.Ed)/this.oc|0,n=Math.max(0,n)/this.nc+1|0;var a=Math.max(0,i)/this.oc+1|0;if(0>t&&(n+=t,t=0),0>e&&(a+=e,e=0),0>n||0>a)return!0;for(i=0|Math.min(t+n-1,this.Wh),n=0|Math.min(e+a-1,this.Xh);t<=i;t++){a=this.Xb[t];for(var o=e;o<=n;o++)if(a[o]===Rd)return!1}return!0},u.Object.defineProperties(Ad.prototype,{bounds:{get:function(){return new jt(this.Dd,this.Ed,this.ln-this.Dd,this.mn-this.Ed)}},lo:{get:function(){return this.nc},set:function(t){0<t&&t!==this.nc&&(this.nc=t,this.initialize(this.bounds))}},ko:{get:function(){return this.oc},set:function(t){0<t&&t!==this.oc&&(this.oc=t,this.initialize(this.bounds))}}});var Rd=0,Id=1,zd=999999,Hd=zd+1,Vd=zd+2;function Gd(){tt(this),this.port=this.node=null,this.he=[],this.Do=!1}function Ud(t,e,n,i){switch(e=e.offsetY){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(e){case 9:return 180<n?270:90;case 6:return 90<n&&270>=n?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case 3:return n>t&&n<=180+t?180:270;case 5:return n>180-t&&n<=360-t?270:0;case 12:return n>t&&n<=180+t?90:0;case 10:return n>180-t&&n<=360-t?180:90;case 7:return 90<n&&n<=180+t?180:n>180+t&&n<=360-t?270:0;case 13:return 180<n&&n<=360-t?270:n>t&&180>=n?90:0;case 14:return n>t&&n<=180-t?90:n>180-t&&270>=n?180:0;case 11:return n>180-t&&n<=180+t?180:n>180+t?270:90}return i&&15!==e&&(0>(n-=15)&&(n+=360)),n>t&&n<180-t?90:n>=180-t&&n<=180+t?180:n>180+t&&n<360-t?270:0}function Wd(t,e){var n=t.he;if(0===n.length){t:if(!t.Do){n=t.Do,t.Do=!0;var i=null,a=t.node,o=a instanceof jh?a:null;if(null===o||o.isSubGraphExpanded)var r=a.isTreeExpanded?a.findLinksConnected(t.port.portId):a.Tw();else{if(!o.actualBounds.v()){t.Do=n;break t}r=(i=o).uu()}o=t.he.length=0;var s=t.port.ia(ee,gt.alloc()),l=t.port.ia(ce,gt.alloc());for((a=jt.allocAt(s.x,s.y,0,0)).Me(l),gt.free(s),gt.free(l),s=gt.allocAt(a.x+a.width/2,a.y+a.height/2),l=t.port.fi(),r=r.iterator;r.next();){var c=r.value;if(c.isVisible()&&c.fromPort!==c.toPort){var h=c.fromPort===t.port||null!==c.fromNode&&c.fromNode.Md(i),d=c.computeSpot(h,t.port);if(d.Uc()&&null!==(h=h?c.toPort:c.fromPort)){var u=h.part;if(null!==u){var f=u.findVisibleNode();null!==f&&f!==u&&(h=(u=f).port),h=c.computeOtherPoint(u,h),u=s.Ya(h),0>(u-=l)?u+=360:360<=u&&(u-=360),0===(d=Ud(a,d,u,c.isOrthogonal))?(d=4,180<u&&(u-=360)):90===d?(d=8,270<u&&(u-=360)):180===d?d=2:(d=1,90>u&&(u+=360)),void 0===(f=t.he[o])?(f=new qd(c,u,d),t.he[o]=f):(f.link=c,f.angle=u,f.Gc=d),f.Qu.set(h),o++}}}}for(gt.free(s),t.he.sort(Gd.prototype.j),l=t.he.length,i=-1,o=s=0;o<l;o++)void 0!==(r=t.he[o])&&(r.Gc!==i&&(i=r.Gc,s=0),r.xo=s,s++);for(i=-1,s=0,o=l-1;0<=o;o--)void 0!==(l=t.he[o])&&(l.Gc!==i&&(i=l.Gc,s=l.xo+1),l.sl=s);if(o=t.he,d=t.port,i=t.node.portSpreading,s=gt.alloc(),l=gt.alloc(),r=gt.alloc(),c=gt.alloc(),d.ia(ee,s),d.ia(ie,l),d.ia(ce,r),d.ia(se,c),f=u=h=d=0,i===Bh)for(var p=0;p<o.length;p++){var g=o[p];if(null!==g){var m=g.link.computeThickness();switch(g.Gc){case 8:u+=m;break;case 2:f+=m;break;case 1:d+=m;break;default:case 4:h+=m}}}var y=p=0,v=1,w=g=0;for(m=0;m<o.length;m++){var x=o[m];if(null!==x){if(p!==x.Gc){switch(p=x.Gc){case 8:var b=r;y=c;break;case 2:b=c,y=s;break;case 1:b=s,y=l;break;default:case 4:b=l,y=r}switch(g=y.x-b.x,w=y.y-b.y,p){case 8:u>Math.abs(g)?(v=Math.abs(g)/u,u=Math.abs(g)):v=1;break;case 2:f>Math.abs(w)?(v=Math.abs(w)/f,f=Math.abs(w)):v=1;break;case 1:d>Math.abs(g)?(v=Math.abs(g)/d,d=Math.abs(g)):v=1;break;default:case 4:h>Math.abs(w)?(v=Math.abs(w)/h,h=Math.abs(w)):v=1}y=0}var S=x.Co;if(i===Bh){switch(x=x.link.computeThickness(),x*=v,S.set(b),p){case 8:S.x=b.x+g/2+u/2-y-x/2;break;case 2:S.y=b.y+w/2+f/2-y-x/2;break;case 1:S.x=b.x+g/2-d/2+y+x/2;break;default:case 4:S.y=b.y+w/2-h/2+y+x/2}y+=x}else{var k=.5;i===Nh&&(k=(x.xo+1)/(x.sl+1)),S.x=b.x+g*k,S.y=b.y+w*k}}}for(gt.free(s),gt.free(l),gt.free(r),gt.free(c),b=t.he,o=0;o<b.length;o++)null!==(i=b[o])&&(i.su=t.computeEndSegmentLength(i));t.Do=n,jt.free(a)}n=t.he}for(t=0;t<n.length;t++)if(null!==(a=n[t])&&a.link===e)return a;return null}function qd(t,e,n){this.link=t,this.angle=e,this.Gc=n,this.Qu=new gt,this.sl=this.xo=0,this.Co=new gt,this.su=0}function Yd(t){tt(this),this.m=this.H=null,this.wh=this.Zm=!0,this.en=!1,this.im=new gt(0,0).freeze(),this.bn=!0,this.mm=this.an=null,this.dn=!1,this.j=null,this.u=0,this.nn=this.ao=null,this.zr=!1,this.dg=this.lj=null,this.ir=!1,t&&Object.assign(this,t)}function Xd(t,e,n,i,a,o,r,s){for(n=n.iterator;n.next();){var l=n.value;i&&!l.isTopLevel||null!==a&&!a(l)||!l.canLayout()||(o&&l instanceof xh?l.isLinkLabel||(l instanceof jh&&null===l.layout?Xd(t,e,l.memberParts,!1,a,o,r,s):(Kd(l),e.add(l))):r&&l instanceof Ih?e.add(l):!s||!l.Tc()||l instanceof xh||(Kd(l),e.add(l)))}}function Kd(t){var e=t.actualBounds;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.Za()}function Zd(t,e){if(null!==t.workerStateChanged){var n={key:t.group?t.group.key:null};void 0!==e&&(n.time=e),null!==t.lj&&(n.running=$d(t.lj)),null!==t.dg&&(n.waiting=$d(t.dg)),t.workerStateChanged(n,t)}}function $d(t){return{vertexes:t.vertexes.count,edges:t.edges.count}}function Jd(t,e){var n=Qd(t);if(!n)throw Error("Unknown Layout class: "+t);if(e)for(var i in e)n[i]=e[i]}function Qd(t){var e=null;if("function"==typeof t){if(!(e=iu.get(t))){var n=C(t);(e=iu.get(n))||((e=new ru).ou=t,e.name=n,e.j=t.name,e.hx=au,iu.set(n,e),iu.set(t,e),iu.set(t.name,e))}}else"string"==typeof t&&(e=iu.get(t));return e}function tu(t,e){t.zr=!0;var n=Qd(t.constructor),i=eu(t,e,!0);i._GoJS="_GoJS",n.Ne.postMessage(i),n.Bl.set(nt(t),t),t.lj=e}function eu(t,e,n){t.onNetworkSerialization(1,n,e,null);var i={};t.serializeLayoutProperties(i,n);var a=[];e.vertexes.each((function(t){var e={};t.serializeVertexProperties(e,n),a.push(e)}));var o=[];return e.edges.each((function(t){var e={};t.serializeEdgeProperties(e,n),o.push(e)})),i={id:n?nt(t):t.id,layout:C(t.constructor),p:i,hA:a,Ly:o},t.onNetworkSerialization(2,n,e,i),i}function nu(t,e,n){n&&(t.id=e.id);var i=t.diagram,a=t.createNetwork();t.onNetworkSerialization(3,n,a,e);var o=e.hA,r=new pt;o&&o.forEach((function(t){var e=null;null===t.key||null===i||n||(e=i.Lb(t.key)),null!==e?e=a.yj(e):(e=a.createVertex(),a.fg(e)),n&&null!==t.key&&(e.data={yh:t.key}),r.set(t.id,e)}));var s=e.Ly,l=new pt;return s&&s.forEach((function(t){var e=null;null===t.key||null===i||n||(e=i.findLinkForKey(t.key));var o=a.createEdge();a.nl(o),o.link=e,n&&null!==t.key&&(o.data={yh:t.key}),l.set(t.id,o)})),o&&o.forEach((function(t){var e=r.get(t.id);e&&e.deserializeVertexProperties(t,r,l,n)})),s&&s.forEach((function(t){var e=l.get(t.id);e&&e.deserializeEdgeProperties(t,r,l,n)})),t.deserializeLayoutProperties(e.p,r,l,n,a),t.onNetworkSerialization(4,n,a,e),a}Ad.className="PositionArray",Gd.prototype.toString=function(){for(var t=this.he,e=this.node.toString()+" "+t.length.toString()+":",n=0;n<t.length;n++){var i=t[n];null!==i&&(e+="\n  "+i.toString())}return e},Gd.prototype.zl=function(){this.he.length=0},Gd.prototype.j=function(t,e){return t===e?0:null===t?-1:null===e?1:t.Gc<e.Gc?-1:t.Gc>e.Gc?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},Gd.prototype.computeEndSegmentLength=function(t){var e=t.link,n=e.computeEndSegmentLength(this.node,this.port,te,e.fromPort===this.port),i=t.xo;if(0>i)return n;var a=t.sl;if(1>=a||!e.isOrthogonal)return n;e=t.Qu;var o=t.Co;return 2!==t.Gc&&8!==t.Gc||(i=a-1-i),((t=2===t.Gc||4===t.Gc)?e.y<o.y:e.x<o.x)?n+8*i:(t?e.y===o.y:e.x===o.x)?n:n+8*(a-1-i)},Gd.className="Knot",qd.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.Gc.toString()+":"+this.xo.toString()+"/"+this.sl.toString()+" "+this.Co.toString()+" "+this.su.toString()+" "+this.Qu.toString()},qd.className="LinkInfo",Yd.prototype.cloneProtected=function(t){t.Zm=this.Zm,t.wh=this.wh,t.en=this.en,t.im.assign(this.im),t.bn=this.bn,t.an=this.an,t.mm=this.mm,t.dn=!0,t.nn=this.nn,t.ao=this.ao},Yd.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Yd.prototype.serializeLayoutProperties=function(t){t.arrangementOrigin={x:this.arrangementOrigin.x,y:this.arrangementOrigin.y},t.isRouting=this.isRouting},Yd.prototype.deserializeLayoutProperties=function(t){null!==t&&(this.arrangementOrigin=new gt(t.arrangementOrigin.x,t.arrangementOrigin.y),this.isRouting=t.isRouting)},Yd.prototype.ob=function(){},Yd.prototype.toString=function(){var t=C(this.constructor);return t+="(",null!==this.group&&(t+=" in "+this.group),null!==this.diagram&&(t+=" for "+this.diagram),t+")"},Yd.prototype.D=function(){if(this.isValidLayout){var t=this.diagram;if(null!==t&&!t.undoManager.isUndoingRedoing){var e=t.animationManager;!e.isTicking&&(e.defaultAnimation.isAnimating&&e.wc(),this.isOngoing&&t.ji||this.isInitial&&!t.ji)&&(this.isValidLayout=!1,t.Mb())}}},Yd.prototype.createNetwork=function(){return new su(this)},Yd.prototype.makeNetwork=function(t){var e=this.createNetwork();return t instanceof ka?(e.eg(t.nodes,!0),e.eg(t.links,!0)):t instanceof jh?e.eg(t.memberParts):e.eg(t.iterator),e},Yd.prototype.updateParts=function(){if(this.isValidLayout=!0,!this.workerLayout()){var t=this.diagram;if(null===t&&null!==this.network)for(var e=this.network.vertexes.iterator;e.next();){var n=e.value.node;if(null!==n&&null!==(t=n.diagram))break}try{null!==t&&t.Da("Layout"),this.commitLayout()}finally{null!==t&&t.eb("Layout")}}},Yd.prototype.commitLayout=function(){if(null!==this.network){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();if(this.isRouting)for(t=this.network.edges.iterator;t.next();)t.value.commit()}},Yd.prototype.doLayout=function(t){var e=new Q;t instanceof ka?(Xd(this,e,t.nodes,!0,this.gh,!0,!1,!0),Xd(this,e,t.parts,!0,this.gh,!0,!1,!0)):t instanceof jh?Xd(this,e,t.memberParts,!1,this.gh,!0,!1,!0):e.addAll(t.iterator),0<e.count&&(null!==(t=this.diagram)&&t.Da("Layout"),this.doMinimalNoNetworkLayout(e),null!==t&&t.eb("Layout")),this.isValidLayout=!0},Yd.prototype.doMinimalNoNetworkLayout=function(t){var e=Math.ceil(Math.sqrt(t.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var n=this.arrangementOrigin.x,i=n,a=this.arrangementOrigin.y,o=0,r=0;for(t=t.iterator;t.next();){var s=t.value;Kd(s);var l=s.measuredBounds,c=l.width;l=l.height,s.moveTo(i,a),s instanceof jh&&(s.gh=!1),i+=Math.max(c,50)+20,r=Math.max(r,Math.max(l,50)),o>=e-1?(o=0,i=n,a+=r+20,r=0):o++}},Yd.prototype.doMinimalNetworkLayout=function(){var t=Math.ceil(Math.sqrt(this.network.vertexes.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);for(var e=this.arrangementOrigin.x,n=e,i=this.arrangementOrigin.y,a=0,o=0,r=this.network.vertexes.iterator;r.next();){var s=r.value.node;if(!(null===s||s instanceof Ih)&&(Kd(s),this.gh(s))){var l=s.measuredBounds,c=l.width;l=l.height,s.moveTo(n,i),s instanceof jh&&(s.gh=!1),n+=Math.max(c,50)+20,o=Math.max(o,Math.max(l,50)),a>=t-1?(a=0,n=e,i+=o+20,o=0):a++}}},Yd.prototype.gh=function(t){return!(t.location.v()&&!(t instanceof jh&&t.gh))},Yd.prototype.hi=function(t,e){var n=this.boundsComputation;return null!==n?(e||(e=new jt),n(t,this,e)):e?(e.set(t.actualBounds),e):t.actualBounds},Yd.prototype.Iw=function(t){var e=new Q;return t instanceof ka?(Xd(this,e,t.nodes,!0,null,!0,!0,!0),Xd(this,e,t.links,!0,null,!0,!0,!0),Xd(this,e,t.parts,!0,null,!0,!0,!0)):Xd(this,e,t instanceof jh?t.memberParts:t.iterator,!1,null,!0,!0,!0),e},Yd.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var n=e.position.copy();return(isNaN(n.x)||isNaN(n.y))&&n.set(t),null!==(e=e.placeholder)&&(n=e.ia(ee),(isNaN(n.x)||isNaN(n.y))&&n.set(t),t=e.padding,n.x+=t.left,n.y+=t.top),n}return t},Yd.prototype.mayUseWorker=function(){return!!this.mayUseWorkerFunction&&this.mayUseWorkerFunction(this)},Yd.prototype.workerLayout=function(){return!1},Yd.prototype.uy=function(){var t=Qd(this.constructor);t&&(null!==t.Ne&&t.Ne.terminate(),t.Ne=null,t.Bl.iteratorValues.each((function(t){t.zr=!1,t.lj=null,t.dg=null,t.ir=!1,Zd(t)})),t.Bl.clear())},Yd.prototype.qv=function(){if("undefined"==typeof Worker||!ou||"undefined"==typeof self||void 0!==self.DedicatedWorkerGlobalScope)return!1;if(!this.mayUseWorker())return this.zr&&(this.ir=!0,this.dg=this.lj=null,Zd(this)),!1;var t=Qd(this.constructor);return null!==t&&(null===t.Ne&&(t.Ne=new Worker(ou),t.Ne.onerror=function(t){t.preventDefault(),P("Worker Error at: "+t.filename+" "+t.lineno+" "+t.colno+"\n  "+t.message)},t.Ne.j=function(t){P("Worker serialization error: "+t)},t.Ne.onmessage=function(e){var n=e.data;if("_GoJS"===n._GoJS)if(n.version&&ka.version&&n.version!==ka.version)P("Failure: GoJS v"+ka.version+"  Worker v"+n.version);else if(e=t.Bl.get(n.id)){if(t.Bl.remove(n.id),e.zr=!1,e.lj=null,e.ir)e.ir=!1,e.dg=null;else{var i=nu(e,n,!1);e.network=i,e.updateParts(),e.network=null,e.isValidLayout=!0}if(Zd(e,n.time),null!==(n=e.dg))e.dg=null;else for(i=t.Bl.iteratorValues;i.next();){var a=i.value;if(null!==(n=a.dg)){a.dg=null;break}}null!==n&&tu(e,n)}},t.Ne.postMessage({_GoJS:"_GoJS",url:t.hx}),Array.isArray(t.scripts)&&t.scripts.forEach((function(e){t.Ne.postMessage({_GoJS:"_GoJS",url:e})})),t.Ne.postMessage({_GoJS:"_GoJS",version:-1})),null!==this.lj?this.dg=this.network:tu(this,this.network),Zd(this),this.doMinimalNetworkLayout(),this.network=null,this.isValidLayout=!0)},Yd.prototype.onNetworkSerialization=function(){},u.Object.defineProperties(Yd.prototype,{diagram:{get:function(){return this.H},set:function(t){this.H=t}},group:{get:function(){return this.m},set:function(t){this.m!==t&&(this.m=t,null!==t&&(this.H=t.diagram))}},isOngoing:{get:function(){return this.Zm},set:function(t){this.Zm!==t&&(this.Zm=t)}},isInitial:{get:function(){return this.wh},set:function(t){this.wh=t,t||(this.dn=!0)}},isViewportSized:{get:function(){return this.en},set:function(t){this.en!==t&&(this.en=t)&&this.D()}},isRouting:{get:function(){return this.bn},set:function(t){this.bn!==t&&(this.bn=t)}},isRealtime:{get:function(){return this.an},set:function(t){this.an!==t&&(this.an=t)}},isValidLayout:{get:function(){return this.dn},set:function(t){this.dn!==t&&(this.dn=t,t||null!==(t=this.diagram)&&(t.mh=!0))}},network:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t,null!==t&&(t.layout=this))}},boundsComputation:{get:function(){return this.mm},set:function(t){this.mm!==t&&(this.mm=t,this.D())}},arrangementOrigin:{get:function(){return this.im},set:function(t){this.im.C(t)||(this.im.assign(t),this.D())}},id:{get:function(){return this.u},set:function(t){this.u=t}},mayUseWorkerFunction:{get:function(){return this.nn},set:function(t){this.nn!==t&&(this.nn=t)}},workerStateChanged:{get:function(){return this.ao},set:function(t){this.ao!==t&&(this.ao=t)}}}),Yd.prototype.useWorker=Yd.prototype.qv,Yd.declareWorkerLayout=Jd,Yd.prototype.cancelWorker=Yd.prototype.uy,Yd.prototype.collectParts=Yd.prototype.Iw,Yd.prototype.getLayoutBounds=Yd.prototype.hi,Yd.prototype.invalidateLayout=Yd.prototype.D;var iu=new pt,au="object"==typeof m.document&&m.document.currentScript?m.document.currentScript.src:"",ou="undefined"!=typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof Blob?URL.createObjectURL(new Blob(["self.onmessage=function(e){if(e.data.url){\nimportScripts(e.data.url);}}"],{type:"text/javascript"})):"";function ru(){this.ou=null,this.hx=this.j=this.name="",this.scripts=[],this.Ne=null,this.Bl=new pt}function su(t){tt(this),this.Kc=t,this.kf=new Q,this.pe=new Q,this.es=new pt,this.Zr=new pt}function lu(t,e){if(null===e)return!1;var n=t.kf.remove(e);return n&&(null!==(e=e.node)&&t.es.remove(e)),n}function cu(t,e){if(null!==e){t.pe.add(e);var n=e.link;null!==n&&null===t.qo(n)&&t.Zr.add(n,e),e.network=t}}function hu(t,e){null!==e&&t.pe.remove(e)&&(null!==(e=e.link)&&t.Zr.remove(e))}function du(t,e,n){if(null!==n&&n.network!==e){lu(t,n),e.fg(n);for(var i=n.sourceEdges;i.next();){var a=i.value;a.network!==e&&(hu(t,a),cu(e,a),du(t,e,a.fromVertex))}for(i=n.destinationEdges;i.next();)(n=i.value).network!==e&&(hu(t,n),cu(e,n),du(t,e,n.toVertex))}}function uu(t){tt(this),this.nb=t,this.j=new jt(0,0,10,10).freeze(),this.m=new gt(5,5).freeze(),this.Lh=this.qb=null,this.wd=new $,this.Jd=new $}function fu(t,e){return t=t.Lh,e=e.Lh,t?e?(t=t.text)<(e=e.text)?-1:t>e?1:0:1:null!==e?-1:0}function pu(t){tt(this),this.hb=t,this.jd=this.ad=this.Ok=this.qb=null}function gu(t){Yd.call(this),this.isViewportSized=!0,this.bo=this.co=NaN,this.pg=new Et(NaN,NaN).freeze(),this.gf=new Et(10,10).freeze(),this.Fb=vu,this.Nb=wu,this.fd=ku,this.Zc=mu,t&&Object.assign(this,t)}function mu(t,e){return(t=t.text)<(e=e.text)?-1:t>e?1:0}Yd.className="Layout",Yd.GoJSScriptURL=au,Yd.declareWorkerLayout=Jd,"undefined"!=typeof self&&void 0!==self.DedicatedWorkerGlobalScope&&"undefined"!=typeof self&&void 0!==self.DedicatedWorkerGlobalScope&&(self.onmessage=function(t){if("_GoJS"===(t=t.data)._GoJS)if(t.url)importScripts(t.url);else if(t.version)self.postMessage({_GoJS:"_GoJS",version:ka.version},void 0);else{var e=performance.now(),n=null;t.layout&&(n=Qd(t.layout));var i=null;if(n&&n.ou&&(i=new n.ou),!i)throw Error("no registered Worker Layout: "+t.layout);i.network=nu(i,t,!0),i.workerLayout=function(){var t=eu(i,i.network,!1);return t._GoJS="_GoJS",t.time=performance.now()-e,self.postMessage(t,void 0),!0},i.doLayout(new $)}}),su.prototype.clear=function(){if(this.kf)for(var t=this.kf.iterator;t.next();)t.value.clear();if(this.pe)for(t=this.pe.iterator;t.next();)t.value.clear();this.kf=new Q,this.pe=new Q,this.es=new pt,this.Zr=new pt},su.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.layout?"("+this.layout.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.kf.count+" edges: "+this.pe.count,1<t){for(var n=this.kf.iterator;n.next();)e+="\n    "+n.value.toString(t-1);for(n=this.pe.iterator;n.next();)e+="\n    "+n.value.toString(t-1)}return e},su.prototype.createVertex=function(){return new uu(this)},su.prototype.createEdge=function(){return new pu(this)},su.prototype.eg=function(t,e,n){if(null!==t){for(void 0===e&&(e=!1),void 0===n&&(n=null),null===n&&(n=function(t){if(t instanceof xh)return!t.isLinkLabel;if(t instanceof Ih){var e=t.fromNode;return null!==e&&!e.isLinkLabel&&(null!==(t=t.toNode)&&!t.isLinkLabel)}return!1}),t=t.iterator;t.next();){var i=t.value;if(i instanceof xh&&(!e||i.isTopLevel)&&i.canLayout()&&n(i))if(i instanceof jh&&null===i.layout)this.eg(i.memberParts,!1);else if(null===this.ei(i)){var a=this.createVertex();a.node=i,this.fg(a)}}for(t.reset();t.next();)if((i=t.value)instanceof Ih&&(!e||i.isTopLevel)&&i.canLayout()&&n(i)&&null===this.qo(i)){var o=i.fromNode;a=i.toNode,null!==o&&null!==a&&o!==a&&(o=this.findGroupVertex(o),a=this.findGroupVertex(a),null!==o&&null!==a&&this.Qj(o,a,i))}}},su.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.ei(e)))return t;for(e=e.containingGroup;null!==e;){if(null!==(t=this.ei(e)))return t;e=e.containingGroup}return null},(e=su.prototype).fg=function(t){if(null!==t){this.kf.add(t);var e=t.node;null!==e&&this.es.add(e,t),t.network=this}},e.yj=function(t){if(null===t)return null;var e=this.ei(t);return null===e&&((e=this.createVertex()).node=t,this.fg(e)),e},e.ru=function(t){if(null!==t&&lu(this,t)){for(var e=t.wd,n=e.count-1;0<=n;n--){var i=e.K(n);this.Gj(i)}for(t=(e=t.Jd).count-1;0<=t;t--)n=e.K(t),this.Gj(n)}},e.Gy=function(t){null!==t&&(null!==(t=this.ei(t))&&this.ru(t))},e.ei=function(t){return null===t?null:this.es.I(t)},e.nl=function(t){if(null!==t){cu(this,t);var e=t.toVertex;null!==e&&e.iu(t),null!==(e=t.fromVertex)&&e.gu(t)}},e.ky=function(t){if(null===t)return null;var e=t.fromNode,n=t.toNode,i=this.qo(t);return null===i?((i=this.createEdge()).link=t,null!==e&&(i.fromVertex=this.yj(e)),null!==n&&(i.toVertex=this.yj(n)),this.nl(i)):(i.fromVertex=null!==e?this.yj(e):null,i.toVertex=null!==n?this.yj(n):null),i},e.Gj=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.qu(t),null!==(e=t.fromVertex)&&e.pu(t),hu(this,t)}},e.Fy=function(t){null!==t&&(null!==(t=this.qo(t))&&this.Gj(t))},e.qo=function(t){return null===t?null:this.Zr.I(t)},e.Qj=function(t,e,n){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var i=this.createEdge();return i.link=n,i.fromVertex=t,i.toVertex=e,this.nl(i),i}return null},e.Ol=function(t){if(null!==t){var e=t.fromVertex,n=t.toVertex;null!==e&&null!==n&&(e.pu(t),n.qu(t),t.Ol(),e.iu(t),n.gu(t))}},e.oo=function(){for(var t=A(),e=this.pe.iterator;e.next();){var n=e.value;n.fromVertex===n.toVertex&&t.push(n)}for(e=t.length,n=0;n<e;n++)this.Gj(t[n]);E(t)},su.prototype.deleteArtificialVertexes=function(){for(var t=A(),e=this.kf.iterator;e.next();){var n=e.value;null===n.node&&null===n.data&&t.push(n)}for(n=t.length,e=0;e<n;e++)this.ru(t[e]);for(e=A(),n=this.pe.iterator;n.next();){var i=n.value;null===i.link&&null===i.data&&e.push(i)}for(n=e.length,i=0;i<n;i++)this.Gj(e[i]);E(t),E(e)},su.prototype.Ix=function(t){void 0===t&&(t=!0),t&&(this.deleteArtificialVertexes(),function(t){for(var e=A(),n=t.pe.iterator;n.next();){var i=n.value;null!==i.fromVertex&&null!==i.toVertex||e.push(i)}for(n=e.length,i=0;i<n;i++)t.Gj(e[i]);E(e)}(this),this.oo()),t=new $;for(var e=!0;e;){e=!1;for(var n=this.kf.iterator;n.next();){var i=n.value;if(0<i.wd.count||0<i.Jd.count){e=this.layout.createNetwork(),t.add(e),du(this,e,i),e=!0;break}}}return t.sort((function(t,e){return null===t||null===e||t===e?0:e.vertexes.count-t.vertexes.count})),t},su.prototype.My=function(){for(var t=new Q,e=this.kf.iterator;e.next();)t.add(e.value.node);for(e=this.pe.iterator;e.next();)t.add(e.value.link);return t},u.Object.defineProperties(su.prototype,{layout:{get:function(){return this.Kc},set:function(t){null!==t&&(this.Kc=t)}},vertexes:{get:function(){return this.kf}},edges:{get:function(){return this.pe}}}),su.prototype.findAllParts=su.prototype.My,su.prototype.splitIntoSubNetworks=su.prototype.Ix,su.prototype.deleteSelfEdges=su.prototype.oo,su.prototype.reverseEdge=su.prototype.Ol,su.prototype.linkVertexes=su.prototype.Qj,su.prototype.findEdge=su.prototype.qo,su.prototype.deleteLink=su.prototype.Fy,su.prototype.deleteEdge=su.prototype.Gj,su.prototype.addLink=su.prototype.ky,su.prototype.addEdge=su.prototype.nl,su.prototype.findVertex=su.prototype.ei,su.prototype.deleteNode=su.prototype.Gy,su.prototype.deleteVertex=su.prototype.ru,su.prototype.addNode=su.prototype.yj,su.prototype.addVertex=su.prototype.fg,su.prototype.addParts=su.prototype.eg,su.className="LayoutNetwork",uu.prototype.serializeVertexProperties=function(t){t.id=nt(this),t.key=this.node?this.node.key:this.data?this.data.yh:void 0,void 0===t.key&&(t.key=null),t.x=this.bounds.x,t.y=this.bounds.y,t.iA=this.bounds.width,t.pz=this.bounds.height,t.fx=this.focus.x,t.fy=this.focus.y;var e=[];this.wd.each((function(t){e.push(nt(t))})),t.Gx=e;var n=[];this.Jd.each((function(t){n.push(nt(t))})),t.Ow=n},uu.prototype.deserializeVertexProperties=function(t,e,n){if(null!==t){this.x=t.x,this.y=t.y,this.width=t.iA,this.height=t.pz,this.focusX=t.fx,this.focusY=t.fy;var i=this;t.Gx&&t.Gx.forEach((function(t){(t=n.get(t))&&i.wd.add(t)})),t.Ow&&t.Ow.forEach((function(t){(t=n.get(t))&&i.Jd.add(t)}))}},uu.prototype.clear=function(){this.Lh=this.qb=null,this.wd=new $,this.Jd=new $},uu.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+nt(this);if(0<t&&(e+=null!==this.node?"("+this.node.toString()+")":"",1<t)){t="";for(var n=!0,i=this.wd.iterator;i.next();){var a=i.value;n?n=!1:t+=",",t+=a.toString(0)}for(a="",n=!0,i=this.Jd.iterator;i.next();){n?n=!1:a+=",",a+=i.value.toString(0)}e+=" sources: "+t+" destinations: "+a}return e},uu.prototype.commit=function(){var t=this.qb;if(null!==t){var e=this.bounds,n=t.bounds;M(n)?(n.x=e.x,n.y=e.y,n.width=e.width,n.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.node)){if(e=this.bounds,!(t instanceof jh)){n=jt.alloc();var i=this.network.layout.hi(t,n),a=t.locationObject.ia(oe);if(i.v()&&a.v())return t.moveTo(e.x+this.focusX-(a.x-i.x),e.y+this.focusY-(a.y-i.y)),void jt.free(n);jt.free(n)}t.moveTo(e.x,e.y)}},uu.prototype.iu=function(t){null!==t&&(this.wd.contains(t)||this.wd.add(t))},uu.prototype.qu=function(t){null!==t&&this.wd.remove(t)},uu.prototype.gu=function(t){null!==t&&(this.Jd.contains(t)||this.Jd.add(t))},uu.prototype.pu=function(t){null!==t&&this.Jd.remove(t)},u.Object.defineProperties(uu.prototype,{sourceEdgesArrayAccess:{get:function(){return this.wd._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.Jd._dataArray}},data:{get:function(){return this.qb},set:function(t){if(this.qb=t,null!==t&&t.bounds){var e=t.bounds;t=e.x;var n=e.y,i=e.width;e=e.height,this.m.h(i/2,e/2),this.j.h(t,n,i,e)}}},node:{get:function(){return this.Lh},set:function(t){if(this.Lh!==t){this.Lh=t,t.Za();var e=this.network.layout,n=jt.alloc(),i=e.hi(t,n);e=i.x;var a=i.y,o=i.width;if(i=i.height,isNaN(e)&&(e=0),isNaN(a)&&(a=0),this.j.h(e,a,o,i),jt.free(n),!(t instanceof jh)&&(t=t.locationObject.ia(oe)).v())return void this.m.h(t.x-e,t.y-a);this.m.h(o/2,i/2)}}},bounds:{get:function(){return this.j},set:function(t){this.j.C(t)||this.j.assign(t)}},focus:{get:function(){return this.m},set:function(t){this.m.C(t)||this.m.assign(t)}},centerX:{get:function(){return this.j.x+this.m.x},set:function(t){var e=this.j;e.x+this.m.x!==t&&(e.ja(),e.x=t-this.m.x,e.freeze())}},centerY:{get:function(){return this.j.y+this.m.y},set:function(t){var e=this.j;e.y+this.m.y!==t&&(e.ja(),e.y=t-this.m.y,e.freeze())}},focusX:{get:function(){return this.m.x},set:function(t){var e=this.m;e.x!==t&&(e.ja(),e.x=t,e.freeze())}},focusY:{get:function(){return this.m.y},set:function(t){var e=this.m;e.y!==t&&(e.ja(),e.y=t,e.freeze())}},x:{get:function(){return this.j.x},set:function(t){var e=this.j;e.x!==t&&(e.ja(),e.x=t,e.freeze())}},y:{get:function(){return this.j.y},set:function(t){var e=this.j;e.y!==t&&(e.ja(),e.y=t,e.freeze())}},width:{get:function(){return this.j.width},set:function(t){var e=this.j;e.width!==t&&(e.ja(),e.width=t,e.freeze())}},height:{get:function(){return this.j.height},set:function(t){var e=this.j;e.height!==t&&(e.ja(),e.height=t,e.freeze())}},network:{get:function(){return this.nb},set:function(t){this.nb=t}},sourceVertexes:{get:function(){for(var t=new Q,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);return t.iterator}},destinationVertexes:{get:function(){for(var t=new Q,e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},vertexes:{get:function(){for(var t=new Q,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);for(e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},sourceEdges:{get:function(){return this.wd.iterator}},destinationEdges:{get:function(){return this.Jd.iterator}},edges:{get:function(){for(var t=new $,e=this.sourceEdges;e.next();)t.add(e.value);for(e=this.destinationEdges;e.next();)t.add(e.value);return t.iterator}},edgesCount:{get:function(){return this.wd.count+this.Jd.count}}}),uu.prototype.deleteDestinationEdge=uu.prototype.pu,uu.prototype.addDestinationEdge=uu.prototype.gu,uu.prototype.deleteSourceEdge=uu.prototype.qu,uu.prototype.addSourceEdge=uu.prototype.iu,uu.className="LayoutVertex",uu.standardComparer=fu,uu.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.Lh;var n=e.Lh;if(null!==t){if(null!==n){for(e=t.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),t=n.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),n=0;n<e.length;n++)if(""!==t[n]&&void 0!==t[n]){var i=parseFloat(e[n]),a=parseFloat(t[n]);if(isNaN(i)){if(!isNaN(a))return 1;if(0!==e[n].localeCompare(t[n]))return e[n].localeCompare(t[n])}else{if(isNaN(a))return-1;if(0!=i-a)return i-a}}else if(""!==e[n])return 1;return""!==t[n]&&void 0!==t[n]?-1:0}return 1}return null!==n?-1:0}return 1}return null!==e?-1:0},pu.prototype.clear=function(){this.jd=this.ad=this.Ok=this.qb=null},pu.prototype.serializeEdgeProperties=function(t){t.id=nt(this),t.key=this.link?this.link.key:this.data?this.data.yh:void 0,void 0===t.key&&(t.key=null),t.from=this.fromVertex?nt(this.fromVertex):null,t.dA=this.toVertex?nt(this.toVertex):null},pu.prototype.deserializeEdgeProperties=function(t,e){if(null!==t){var n=e.get(t.from);n&&(this.fromVertex=n),(t=e.get(t.dA))&&(this.toVertex=t)}},pu.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+nt(this);return 0<t&&(e+=null!==this.Ok?"("+this.Ok.toString()+")":"",1<t&&(e+=" "+(this.ad?this.ad.toString():"null")+" --\x3e "+(this.jd?this.jd.toString():"null"))),e},pu.prototype.Ol=function(){var t=this.ad;this.ad=this.jd,this.jd=t},pu.prototype.commit=function(){},pu.prototype.bx=function(t){return this.jd===t?this.ad:this.ad===t?this.jd:null},u.Object.defineProperties(pu.prototype,{network:{get:function(){return this.hb},set:function(t){this.hb=t}},data:{get:function(){return this.qb},set:function(t){this.qb!==t&&(this.qb=t)}},link:{get:function(){return this.Ok},set:function(t){this.Ok!==t&&(this.Ok=t)}},fromVertex:{get:function(){return this.ad},set:function(t){this.ad!==t&&(this.ad=t)}},toVertex:{get:function(){return this.jd},set:function(t){this.jd!==t&&(this.jd=t)}}}),pu.prototype.getOtherVertex=pu.prototype.bx,pu.className="LayoutEdge",d(gu,Yd),gu.prototype.cloneProtected=function(t){Yd.prototype.cloneProtected.call(this,t),t.co=this.co,t.bo=this.bo,t.pg.assign(this.pg),t.gf.assign(this.gf),t.Fb=this.Fb,t.Nb=this.Nb,t.fd=this.fd,t.Zc=this.Zc},gu.prototype.ob=function(t){t.classType===gu?t===ku||t===Pu||t===bu||t===Su?this.sorting=t:t===wu||t===xu?this.arrangement=t:t===vu||t===yu?this.alignment=t:b("Unknown enum value: "+t):Yd.prototype.ob.call(this,t)},gu.prototype.doLayout=function(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var e=this.Iw(t);t=this.diagram;for(var n=e.copy().iterator;n.next();){var i=n.value;if(!i.eh()||null===i.fromNode&&null===i.toNode){if(i.Za(),i instanceof jh)for(i=i.memberParts;i.next();)e.remove(i.value)}else e.remove(i)}var a=e.Ea();if(0!==a.length){switch(this.sorting){case Su:a.reverse();break;case ku:a.sort(this.comparer);break;case Pu:a.sort(this.comparer),a.reverse()}var o=this.wrappingColumn;isNaN(o)&&(o=0);var r=this.wrappingWidth;switch(isNaN(r)&&null!==t?(e=t.padding,r=Math.max(t.viewportBounds.width-e.left-e.right,0)):r=Math.max(this.wrappingWidth,0),0>=o&&0>=r&&(o=1),e=this.spacing.width,isFinite(e)||(e=0),n=this.spacing.height,isFinite(n)||(n=0),null!==t&&t.Da("Layout"),i=[],this.alignment){case yu:var s=e,l=n,c=jt.alloc(),h=Math.max(this.cellSize.width,1);if(!isFinite(h))for(var d=h=0;d<a.length;d++){var u=this.hi(a[d],c);h=Math.max(h,u.width)}if(h=Math.max(h+s,1),d=Math.max(this.cellSize.height,1),!isFinite(d))for(u=d=0;u<a.length;u++){var f=this.hi(a[u],c);d=Math.max(d,f.height)}d=Math.max(d+l,1),u=this.arrangement;for(var p=f=this.arrangementOrigin.x,g=this.arrangementOrigin.y,m=0,y=0,v=0;v<a.length;v++){var w=a[v],x=this.hi(w,c),b=Math.ceil((x.width+s)/h)*h,S=Math.ceil((x.height+l)/d)*d;switch(u){case xu:var k=Math.abs(p-x.width);break;default:k=p+x.width}switch((0<o&&m>o-1||0<r&&0<m&&k-f>r)&&(i.push(new jt(0,g,r+s,y)),m=0,p=f,g+=y,y=0),y=Math.max(y,S),u){case xu:x=-x.width;break;default:x=0}switch(w.moveTo(p+x,g),u){case xu:p-=b;break;default:p+=b}m++}i.push(new jt(0,g,r+s,y)),jt.free(c);break;case vu:for(l=r,h=o,d=e,u=n,r=jt.alloc(),f=Math.max(this.cellSize.width,1),o=g=c=0,s=gt.alloc(),p=0;p<a.length;p++)y=a[p],m=this.hi(y,r),y=nh(y,y.locationObject,y.locationSpot,s),c=Math.max(c,y.x),g=Math.max(g,m.width-y.x),o=Math.max(o,y.y);switch(p=this.arrangement){case xu:c+=d;break;default:g+=d}f=isFinite(f)?Math.max(f+d,1):Math.max(c+g,1);var P=y=this.arrangementOrigin.x;for(v=this.arrangementOrigin.y,g=0,l>=c&&(l-=c),c=w=0,b=Math.max(this.cellSize.height,1),x=o=0,S=!0,m=gt.alloc(),k=0;k<a.length;k++){var M=a[k],_=this.hi(M,r),L=nh(M,M.locationObject,M.locationSpot,s);if(0<g)switch(p){case xu:P=(P-y-(_.width-L.x))/f,P=(P=Ue.ca(Math.round(P),P)?Math.round(P):Math.floor(P))*f+y;break;default:P=(P-y+L.x)/f,P=(P=Ue.ca(Math.round(P),P)?Math.round(P):Math.ceil(P))*f+y}else switch(p){case xu:w=P+L.x+_.width;break;default:w=P-L.x}switch(p){case xu:var T=-(P+L.x)+w;break;default:T=P+_.width-L.x-w}if(0<h&&g>h-1||0<l&&0<g&&T>l){for(i.push(new jt(0,S?v-o:v,l+d,x+o+u)),P=0;P<g&&k!==g;P++){var O=nh(T=a[k-g+P],T.locationObject,T.locationSpot,m);T.moveTo(T.position.x,T.position.y+o-O.y)}x+=u,v=S?v+x:v+(x+o),g=x=o=0,P=y,S=!1}switch(P===y&&(c=p===xu?Math.max(c,_.width-L.x):Math.min(c,-L.x)),o=Math.max(o,L.y),x=Math.max(x,_.height-L.y),isFinite(b)&&(x=Math.max(x,Math.max(_.height,b)-L.y)),S?M.moveTo(P-L.x,v-L.y):M.moveTo(P-L.x,v),p){case xu:P-=L.x+d;break;default:P+=_.width-L.x+d}g++}if(i.push(new jt(0,v,l+d,(S?x:x+o)+u)),a.length!==g)for(l=0;l<g;l++)d=nh(h=a[a.length-g+l],h.locationObject,h.locationSpot,s),h.moveTo(h.position.x,h.position.y+o-d.y);if(gt.free(s),gt.free(m),p===xu)for(a=0;a<i.length;a++)(o=i[a]).width+=c,o.x-=c;else for(a=0;a<i.length;a++)(o=i[a]).x>c&&(o.width+=o.x-c,o.x=c);jt.free(r)}for(s=o=r=a=0;s<i.length;s++)l=i[s],a=Math.min(a,l.x),r=Math.min(r,l.y),o=Math.max(o,l.x+l.width);this.arrangement===xu?this.commitLayers(i,new gt(a+e/2-(o+a),r-n/2)):this.commitLayers(i,new gt(a-e/2,r-n/2)),null!==t&&t.eb("Layout"),this.isValidLayout=!0}},gu.prototype.commitLayers=function(){},u.Object.defineProperties(gu.prototype,{wrappingWidth:{get:function(){return this.co},set:function(t){this.co!==t&&(0<t||isNaN(t))&&(this.co=t,this.isViewportSized=isNaN(t),this.D())}},wrappingColumn:{get:function(){return this.bo},set:function(t){this.bo!==t&&(0<t||isNaN(t))&&(this.bo=t,this.D())}},cellSize:{get:function(){return this.pg},set:function(t){this.pg.C(t)||(this.pg.assign(t),this.D())}},spacing:{get:function(){return this.gf},set:function(t){this.gf.C(t)||(this.gf.assign(t),this.D())}},alignment:{get:function(){return this.Fb},set:function(t){this.Fb===t||t!==vu&&t!==yu||(this.Fb=t,this.D())}},arrangement:{get:function(){return this.Nb},set:function(t){this.Nb===t||t!==wu&&t!==xu||(this.Nb=t,this.D())}},sorting:{get:function(){return this.fd},set:function(t){this.fd===t||t!==bu&&t!==Su&&t!==ku&&t!==Pu||(this.fd=t,this.D())}},comparer:{get:function(){return this.Zc},set:function(t){this.Zc!==t&&(this.Zc=t,this.D())}}});var yu=new H(gu,"Position",0),vu=new H(gu,"Location",1),wu=new H(gu,"LeftToRight",2),xu=new H(gu,"RightToLeft",3),bu=new H(gu,"Forward",4),Su=new H(gu,"Reverse",5),ku=new H(gu,"Ascending",6),Pu=new H(gu,"Descending",7);function Mu(){this.vn=new Q,this.kn=new Q,this.Ma=new Q,this.Se=new pt,this.Re=new pt,this.Wi=new pt,this.H=null,this.Xo=!1}function _u(t,e,n){if(null!=e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Se.contains(e)){void 0===n&&(n=!0);t:{if(null!=e&&!t.H.undoManager.isUndoingRedoing&&!t.Se.contains(e)){var i=t.uo(e),a=Lu(t,e,i);if(null!==a&&(Pl(a),null!==(a=a.copy()))){var o=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,a.Jf=i,a.qb=e,t.Xo&&(a.zg="Tool"),t.diagram.add(a),a.qb=null,a.data=e,t.diagram.skipsModelSourceBindings=o,i=a;break t}}i=null}null!==i&&n&&t.resolveReferencesForData(e)}}function Lu(t,e,n){var i=(t=t.H).model;return i.Oj()&&i.Ju(e)?null===(e=t.groupTemplateMap.I(n))&&(null===(e=t.groupTemplateMap.I(""))&&(Bu||(Bu=!0,P('No Group template found for category "'+n+'"'),P("  Using default group template")),e=t.Rx)):null===(e=t.nodeTemplateMap.I(n))&&(null===(e=t.nodeTemplateMap.I(""))&&(Nu||(Nu=!0,P('No Node template found for category "'+n+'"'),P("  Using default node template")),e=t.Tx)),e}function Tu(t,e,n){for(var i in n){var a=e[i],o=n[i];if(_(o)){if(!_(a)||a.length<o.length)return!1;for(var r=0;r<a.length;r++){var s=o[r];if(void 0!==s&&!Ou(t,a[r],s))return!1}}else if(!Ou(t,a,o))return!1}return!0}function Ou(t,e,n){if("function"==typeof n){if(!n(e))return!1}else if(n instanceof RegExp){if(!e||!n.test(e.toString()))return!1}else if(M(e)&&M(n)){if(!Tu(t,e,n))return!1}else if(e!==n)return!1;return!0}function Au(t,e){var n=e.xh;if(_(n)){var i=t.Wi.I(n);if(null===i)(i=[]).push(e),t.Wi.add(n,i);else{for(t=0;t<i.length;t++)if(i[t]===e)return;i.push(e)}}}function Eu(t,e,n){gl(e,(function(t){for(var e=(t=t.R.s).length,i=0;i<e;i++)vo(n,t[i])}));var i=e.xh;if(_(i)){var a=t.Wi.I(i);if(null!==a)for(var o=0;o<a.length;o++)if(a[o]===e){a.splice(o,1),0===a.length&&t.Wi.remove(i);break}}}function Cu(t,e,n,i,a){if(null===e||a&&!e.canCopy())return null;if(i.contains(e))return i.I(e);var o=t.copyPartData(e,n);if(!(o instanceof $c))return null;if(o.isSelected=!1,o.isHighlighted=!1,i.add(e,o),e instanceof xh){for(var r=e.linksConnected;r.next();){var s=r.value;if(s.fromNode===e){var l=i.I(s);null!==l&&(l.fromNode=o)}s.toNode===e&&(null!==(s=i.I(s))&&(s.toNode=o))}if(e instanceof jh&&o instanceof jh)for(e=e.memberParts;e.next();)(r=Cu(t,e.value,n,i,a))instanceof Ih||null===r||(r.containingGroup=o)}else if(e instanceof Ih&&o instanceof Ih)for(null!==(r=e.fromNode)&&(null!==(r=i.I(r))&&(o.fromNode=r)),null!==(r=e.toNode)&&(null!==(r=i.I(r))&&(o.toNode=r)),e=e.labelNodes;e.next();)null!==(r=Cu(t,e.value,n,i,a))&&r instanceof xh&&(r.labeledLink=o);return o}gu.className="GridLayout",gu.standardComparer=mu,gu.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),e=e.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);for(var n=0;n<t.length;n++)if(""!==e[n]&&void 0!==e[n]){var i=parseFloat(t[n]),a=parseFloat(e[n]);if(isNaN(i)){if(!isNaN(a))return 1;if(0!==t[n].localeCompare(e[n]))return t[n].localeCompare(e[n])}else{if(isNaN(a))return-1;if(0!=i-a)return i-a}}else if(""!==t[n])return 1;return""!==e[n]&&void 0!==e[n]?-1:0}return 1}return null!==e?-1:0},gu.Position=yu,gu.Location=vu,gu.LeftToRight=wu,gu.RightToLeft=xu,gu.Forward=bu,gu.Reverse=Su,gu.Ascending=ku,gu.Descending=Pu,(e=Mu.prototype).clear=function(){this.vn.clear(),this.kn.clear(),this.Ma.clear(),this.Se.clear(),this.Re.clear(),this.Wi.clear()},e.Le=function(t){this.H=t},e.ii=function(t){if(t instanceof xh){if(this.vn.add(t),t instanceof jh){var e=t.containingGroup;null===e?this.H.Uh.add(t):e.Uk.add(t),null!==(e=t.layout)&&(e.diagram=this.H)}}else t instanceof Ih?this.kn.add(t):t instanceof vh||this.Ma.add(t);null===(e=t.data)||t instanceof vh||(t instanceof Ih?this.Re.add(e,t):this.Se.add(e,t))},e.lc=function(t){if(t.zj(),t instanceof xh){if(this.vn.remove(t),t instanceof jh){var e=t.containingGroup;null===e?this.H.Uh.remove(t):e.Uk.remove(t),null!==(e=t.layout)&&(e.diagram=null)}}else t instanceof Ih?this.kn.remove(t):t instanceof vh||this.Ma.remove(t);null===(e=t.data)||t instanceof vh||(t instanceof Ih?this.Re.remove(e):this.Se.remove(e))},e.Od=function(){var t=this.H;if(null!==t){for(var e=t.nodeTemplateMap.iterator;e.next();){var n=e.value,i=e.key;(!n.Tc()||n instanceof jh)&&b('Invalid node template in Diagram.nodeTemplateMap: template for "'+i+'" must be a Node or a simple Part, not a Group or Link: '+n)}for(e=t.groupTemplateMap.iterator;e.next();)n=e.value,i=e.key,n instanceof jh||b('Invalid group template in Diagram.groupTemplateMap: template for "'+i+'" must be a Group, not a normal Node or Link: '+n);for(e=t.linkTemplateMap.iterator;e.next();)n=e.value,i=e.key,n instanceof Ih||b('Invalid link template in Diagram.linkTemplateMap: template for "'+i+'" must be a Link, not a normal Node or simple Part: '+n);for(e=A(),n=t.selection.iterator;n.next();)(i=n.value.data)&&e.push(i);for(n=A(),t=t.highlighteds.iterator;t.next();)(i=t.value.data)&&n.push(i);for(t=A(),i=this.nodes.iterator;i.next();){var a=i.value;null!==a.data&&(t.push(a.data),t.push(a.location))}for(i=this.links.iterator;i.next();)null!==(a=i.value).data&&(t.push(a.data),t.push(a.location));for(i=this.parts.iterator;i.next();)null!==(a=i.value).data&&(t.push(a.data),t.push(a.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),i=0;i<e.length;i++)null!==(a=this.Ec(e[i]))&&(a.isSelected=!0);for(i=0;i<n.length;i++)null!==(a=this.Ec(n[i]))&&(a.isHighlighted=!0);for(i=0;i<t.length;i+=2)null!==(a=this.Ec(t[i]))&&(a.location=t[i+1]);E(e),E(n),E(t)}},Mu.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},Mu.prototype.addModeledParts=function(t,e){var n=this,i=this.diagram.model;t.forEach((function(t){i.lb(t)&&_u(n,t,!1)})),t.forEach((function(t){i.lb(t)&&n.resolveReferencesForData(t)})),!1!==e&&bo(this.diagram,!1)},Mu.prototype.insertLink=function(){return null},Mu.prototype.resolveReferencesForData=function(){},Mu.prototype.uo=function(t){return this.H.model.uo(t)},Mu.prototype.getLinkCategoryForData=function(){return""},Mu.prototype.setLinkCategoryForData=function(){},Mu.prototype.setFromNodeForLink=function(){},Mu.prototype.setToNodeForLink=function(){},Mu.prototype.findLinkTemplateForCategory=function(t){var e=this.H,n=e.linkTemplateMap.I(t);return null===n&&(null===(n=e.linkTemplateMap.I(""))&&(ju||(ju=!0,P('No Link template found for category "'+t+'"'),P("  Using default link template")),n=e.Sx)),n},Mu.prototype.removeAllModeledParts=function(){this.hs(this.diagram.model.nodeDataArray)},Mu.prototype.hs=function(t){var e=this;t.forEach((function(t){e.Lo(t)}))},Mu.prototype.Lo=function(t){null!==(t=this.Ec(t))&&(io(this.diagram,t,!1),this.unresolveReferencesForPart(t))},Mu.prototype.unresolveReferencesForPart=function(){},Mu.prototype.removeDataForLink=function(){},Mu.prototype.findPartForKey=function(t){return null==t?null:null!==(t=this.H.model.dc(t))?this.Se.I(t):null},Mu.prototype.Lb=function(t){return null==t||null===(t=this.H.model.dc(t))?null:(t=this.Se.I(t))instanceof xh?t:null},Mu.prototype.findLinkForKey=function(){return null},(e=Mu.prototype).Ec=function(t){if(null===t)return null;var e=this.Se.I(t);return null!==e?e:e=this.Re.I(t)},e.ci=function(t){return null===t?null:(t=this.Se.I(t))instanceof xh?t:null},e.Dc=function(t){return null===t?null:this.Re.I(t)},e.Kr=function(t){for(var e=0;e<arguments.length;++e);e=new Q;for(var n=this.vn.iterator;n.next();){var i=n.value,a=i.data;if(null!==a)for(var o=0;o<arguments.length;o++){var r=arguments[o];if(M(r)&&Tu(this,a,r)){e.add(i);break}}}return e.iterator},e.Jr=function(t){for(var e=0;e<arguments.length;++e);e=new Q;for(var n=this.kn.iterator;n.next();){var i=n.value,a=i.data;if(null!==a)for(var o=0;o<arguments.length;o++){var r=arguments[o];if(M(r)&&Tu(this,a,r)){e.add(i);break}}}return e.iterator},Mu.prototype.doModelChanged=function(t){if(this.H){var e=this.H;if(t.model===e.model){var n=t.change;if(e.doModelChanged(t),e.$){e.$=!1;try{var i=t.modelChange;if(""!==i)if(n===pn){if("nodeCategory"===i){var a=this.Ec(t.object),o=t.newValue;null!==a&&"string"==typeof o&&(a.category=o)}else"nodeDataArray"===i&&(this.hs(t.oldValue),this.addModeledParts(t.newValue));e.isModified=!0}else if(n===gn){var r=t.newValue;"nodeDataArray"===i&&M(r)&&_u(this,r),e.isModified=!0}else if(n===mn){var s=t.oldValue;"nodeDataArray"===i&&M(s)&&this.Lo(s),e.isModified=!0}else n===fn&&("SourceChanged"===i?null!==t.object?this.updateDataBindings(t.object,t.propertyName):(this.Uo(),this.updateAllTargetBindings()):"ModelDisplaced"===i&&this.Od());else if(n===pn){var l=t.propertyName,c=t.object;c===e.model?"nodeKeyProperty"!==l&&"nodeCategoryProperty"!==l||e.undoManager.isUndoingRedoing||this.Od():this.updateDataBindings(c,l),e.isModified=!0}else if(n===gn||n===mn){var h=t.change===gn,d=h?t.newParam:t.oldParam,u=h?t.newValue:t.oldValue,f=this.Wi.I(t.object);if(Array.isArray(f))for(t=0;t<f.length;t++){var p=f[t];if(h)Ll(p,u,d,!0);else if(!(0>d)){var g=d+Ml(p);p.lc(g,!0),Tl(p,g,d)}}e.isModified=!0}}finally{e.$=!0}}}}},Mu.prototype.updateAllTargetBindings=function(t){void 0===t&&(t="");for(var e=this.parts.iterator;e.next();)e.value.Ka(t);for(e=this.nodes.iterator;e.next();)e.value.Ka(t);for(e=this.links.iterator;e.next();)e.value.Ka(t)},Mu.prototype.Uo=function(){for(var t=this.H.model,e=new Q,n=t.nodeDataArray,i=0;i<n.length;i++)e.add(n[i]);var a=[];for(this.nodes.each((function(t){null===t.data||e.contains(t.data)||a.push(t.data)})),this.parts.each((function(t){null===t.data||e.contains(t.data)||a.push(t.data)})),a.forEach((function(e){ef(t,e,!1)})),i=0;i<n.length;i++){var o=n[i];null===this.Ec(o)&&tf(t,o,!1)}for(this.refreshDataBoundLinks(),n=this.parts.iterator;n.next();)n.value.updateRelationshipsFromData();for(n=this.nodes.iterator;n.next();)n.value.updateRelationshipsFromData();for(n=this.links.iterator;n.next();)n.value.updateRelationshipsFromData()},Mu.prototype.refreshDataBoundLinks=function(){},Mu.prototype.updateRelationshipsFromData=function(){},Mu.prototype.updateDataBindings=function(t,e){if("string"==typeof e){var n=this.Ec(t);if(null!==n)n.Ka(e);else{n=null;for(var i=this.Wi.iterator;i.next();){for(var a=i.value,o=0;o<a.length;o++){var r=a[o].Uw(t);null!==r&&(null===n&&(n=A()),n.push(r))}if(null!==n)break}if(null!==n){for(i=0;i<n.length;i++)n[i].Ka(e);E(n)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(e)}},Mu.prototype.Ej=function(t,e,n){void 0===n&&(n=!1);var i=new pt;if(_(t))for(var a=0;a<t.length;a++)Cu(this,t[a],e,i,n);else for(t=t.iterator;t.next();)Cu(this,t.value,e,i,n);if(null!==e){n=e.model,t=null!==(t=e.toolManager.findTool("Dragging"))?t.dragOptions.dragsLink:e.Em.dragsLink,a=new Q;for(var o=new pt,r=i.iterator;r.next();){var s=r.value;if(s instanceof Ih)t||null!==s.fromNode&&null!==s.toNode||a.add(s);else if(s instanceof xh&&null!==s.data&&n.Al()){var l=s,c=(s=r.key).ig();null!==c&&(null!==(c=i.I(c))?(n.ie(l.data,n.ta(c.data)),l=e.Dc(l.data),null!==(s=s.$g())&&null!==l&&o.add(s,l)):n.ie(l.data,void 0))}}if(0<a.count&&e.js(a,!1),0<o.count)for(n=o.iterator;n.next();)i.add(n.key,n.value)}if(null!==e&&null!==this.H&&null!==(n=(e=e.model).afterCopyFunction)){var h=new pt;i.each((function(t){null!==t.key.data&&h.add(t.key.data,t.value.data)})),n(h,e,this.H.model)}for(e=i.iterator;e.next();)e.value.Ka();return i},Mu.prototype.copyPartData=function(t,e){var n=null,i=t.data;if(null!==i&&null!==e){var a=e.model;t instanceof Ih||M(i=a.copyNodeData(i))&&(a.lf(i),n=e.Ec(i))}else Pl(t),null!==(n=t.copy())&&(a=this.H,null!==e?e.add(n):null!==i&&null!==a&&null!==a.commandHandler&&a.commandHandler.copiesClipboardData&&(e=a.model,a=null,n instanceof Ih||(a=e.copyNodeData(i)),M(a)&&(n.data=a)));return n},u.Object.defineProperties(Mu.prototype,{nodes:{get:function(){return this.vn}},links:{get:function(){return this.kn}},parts:{get:function(){return this.Ma}},diagram:{get:function(){return this.H}},addsToTemporaryLayer:{get:function(){return this.Xo},set:function(t){this.Xo=t}}}),Mu.prototype.updateAllRelationshipsFromData=Mu.prototype.Uo,Mu.prototype.findLinksByExample=Mu.prototype.Jr,Mu.prototype.findNodesByExample=Mu.prototype.Kr,Mu.prototype.findLinkForData=Mu.prototype.Dc,Mu.prototype.findNodeForData=Mu.prototype.ci,Mu.prototype.findPartForData=Mu.prototype.Ec,Mu.prototype.findNodeForKey=Mu.prototype.Lb,Mu.prototype.removeModeledPart=Mu.prototype.Lo,Mu.prototype.removeModeledParts=Mu.prototype.hs,Mu.prototype.rebuildParts=Mu.prototype.Od;var Nu=!1,Bu=!1,ju=!1;function Du(t){Mu.apply(this,arguments)}function Fu(t,e){e.forEach((function(e){Ru(t,e)})),bo(t.diagram,!1)}function Ru(t,e){if(null!=e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Re.contains(e)){var n=t.getLinkCategoryForData(e),i=t.findLinkTemplateForCategory(n);if(null!==i){Pl(i);var a=i.copy();if(null!==a){i=t.diagram.skipsModelSourceBindings,t.diagram.skipsModelSourceBindings=!0,a.Jf=n,a.qb=e;var o=kf(n=t.diagram.model,e,!0);""!==o&&(a.fromPortId=o),void 0!==(o=bf(n,e,!0))&&((o=t.Lb(o))instanceof xh&&(a.fromNode=o)),""!==(o=kf(n,e,!1))&&(a.toPortId=o),void 0!==(o=bf(n,e,!1))&&((o=t.Lb(o))instanceof xh&&(a.toNode=o)),n=n.vf(e),Array.isArray(n)&&n.forEach((function(e){null!==(e=t.Lb(e))&&(e.labeledLink=a)})),t.Xo&&(a.zg="Tool"),t.diagram.add(a),a.qb=null,a.data=e,t.diagram.skipsModelSourceBindings=i}}}}function Iu(t,e){e.forEach((function(e){t.Lo(e)}))}function zu(){Mu.apply(this,arguments),this.Jg=null}function Hu(t,e,n){if(null!==e&&null!==n&&null===n.$g()){var i=t.diagram.toolManager.findTool("Linking"),a=e,o=n;if(t.diagram.isTreePathToChildren||(a=n,o=e),(null===i||!$n(i,a,o,null,!0))&&(e=t.getLinkCategoryForData(n.data),null!==(i=t.findLinkTemplateForCategory(e))&&(Pl(i),null!==(i=i.copy())))){var r=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,i.Jf=e,i.qb=n.data,i.fromNode=a,i.toNode=o,t.diagram.add(i),i.qb=null,i.data=n.data,t.diagram.skipsModelSourceBindings=r}}}function Vu(t,e){this.Yk=new Q,this.Wk=new Q,this.Av=',\n  "insertedNodeKeys": ',this.Px=',\n  "modifiedNodeData": ',this.Cv=',\n  "removedNodeKeys": ',this.kh=null,tt(this),this.Am=this.va="",this.xg=!1,this.j={},this.Mc=[],this.kb=new pt,this.Mh="key",this.nk=this.Qk=null,this.rm=this.sm=!1,this.um=!0,this.fm=null,this.gj="category",this.Lf=new pt,this.ot=new $,this.Mg=!1,this.m=null,this.undoManager=new vn,void 0!==t&&(_(t)?this.nodeDataArray=t:Object.assign(this,t)),e&&Object.assign(this,e)}function Gu(t,e){M(e=e.modelData)&&(t.Ll(e),t.modelData=e)}function Uu(t,e){function n(t,e){if((e=e.part)&&t!==(e=e.data)){var n=i.get(t);null===n?((n=new Q).add(e),i.add(t,n)):n.add(e)}}var i=t.kh;null===i&&(i=new pt,e.changes.each((function(t){if(null!==t.diagram){var e=t.change;e===pn?(t=t.object.panel)&&(e=t.data)&&n(e,t):e!==gn&&e!==mn||(e=(t=t.object).itemArray)&&n(e,t)}})),t.kh=i)}function Wu(t,e){for(var n=new Q,i=0;i<t.nodeDataArray.length;i++){var a=t.nodeDataArray[i];qu(t,e,a,a,n)}return n}function qu(t,e,n,i,a){if(Array.isArray(n))for(var o=0;o<n.length;o++){var r=n[o];if(r===e)return a.add(i),!0;if(qu(t,e,r,i,a))return!0}else if(M(n)&&Object.getPrototypeOf(n)===Object.prototype)for(o in n){if((r=n[o])===e)return a.add(i),!0;if(qu(t,e,r,i,a))return!0}return!1}function Yu(t,e,n){void 0===n&&(n=!1);var i=e.length;if(0>=i)return"[]";var a=new G;a.add("["),n&&1<i&&a.add("\n");for(var o=0;o<i;o++){var r=e[o];void 0!==r&&(0<o&&(a.add(","),n&&a.add("\n")),a.add(t.bm(r)))}return n&&1<i&&a.add("\n"),a.add("]"),a.toString()}function Xu(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e}function Ku(t){return isNaN(t)?"NaN":1/0===t?"9e9999":-1/0===t?"-9e9999":t}function Zu(t,e){var n=e;if(n instanceof gt)e={class:"go.Point",x:Ku(n.x),y:Ku(n.y)};else if(n instanceof Et)e={class:"go.Size",width:Ku(n.width),height:Ku(n.height)};else if(n instanceof jt)e={class:"go.Rect",x:Ku(n.x),y:Ku(n.y),width:Ku(n.width),height:Ku(n.height)};else if(n instanceof Kt)e={class:"go.Margin",top:Ku(n.top),right:Ku(n.right),bottom:Ku(n.bottom),left:Ku(n.left)};else if(n instanceof Fe)e=n.pb()?{class:"go.Spot",x:Ku(n.x),y:Ku(n.y),offsetX:Ku(n.offsetX),offsetY:Ku(n.offsetY)}:{class:"go.Spot",enum:n.toString()};else if(n instanceof vs){if(e={class:"go.Brush",type:n.type.name},n.type===Cs?e.color=n.color:n.type!==Ns&&n.type!==Bs||(e.start=n.start,e.end=n.end,n.type===Bs&&(0!==n.startRadius&&(e.startRadius=Ku(n.startRadius)),isNaN(n.endRadius)||(e.endRadius=Ku(n.endRadius)))),null!==n.colorStops){var i={};for(n=n.colorStops.iterator;n.next();)i[n.key]=n.value;e.colorStops=i}}else n instanceof We?(e={class:"go.Geometry",type:n.type.name},0!==n.startX&&(e.startX=Ku(n.startX)),0!==n.startY&&(e.startY=Ku(n.startY)),0!==n.endX&&(e.endX=Ku(n.endX)),0!==n.endY&&(e.endY=Ku(n.endY)),n.spot1.C(ee)||(e.spot1=n.spot1),n.spot2.C(ce)||(e.spot2=n.spot2),n.type===We.m&&(e.path=We.ga(n))):n instanceof H&&(e={class:"go.EnumValue",classType:lf(t,n.classType),name:n.name});for(var a in i="{",n=!0,e){var o=hf(e,a);if(!Xu(a,o))if(n?n=!1:i+=",",i+=t.quote(a)+":","points"===a&&o instanceof $){var r="[";for(o=o.iterator;o.next();){var s=o.value;1<r.length&&(r+=","),r+=t.bm(s.x),r+=",",r+=t.bm(s.y)}i+=r+="]"}else i+=t.bm(o)}return i+"}"}function $u(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function Ju(t,e,n,i,a,o,r,s,l){void 0===s&&(s=null),void 0===l&&(l=null);var c=new un;c.model=t,c.change=n,c.modelChange=e,c.propertyName=i,c.object=a,c.oldValue=o,c.oldParam=s,c.newValue=r,c.newParam=l,t.Cr(c)}function Qu(t){return"number"==typeof t||"string"==typeof t}function tf(t,e,n){var i=t.ta(e);void 0!==i&&t.kb.I(i)===e||(t.Lu(e),void 0===(i=t.ta(e))&&b("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."),t.kb.add(i,e),i=null,n&&(i=t.Mc.length,T(t.Mc,i,e)),Ju(t,"nodeDataArray",gn,"nodeDataArray",t,null,e,null,i),t.Nl(e),t.Ml(e))}function ef(t,e,n){var i=t.ta(e);if(void 0!==i&&t.kb.remove(i),i=null,n){t:if(n=t.Mc,Array.isArray(n))i=n.indexOf(e);else{i=n.length;for(var a=0;a<i;a++)if(n[a]===e){i=a;break t}i=-1}if(0>i)return;O(t.Mc,i)}Ju(t,"nodeDataArray",mn,"nodeDataArray",t,e,null,i,null),t.To(e)}function nf(t,e,n){if(void 0!==e){var i=t.Lf.I(e);null===i&&(i=new Q,t.Lf.add(e,i)),i.add(n)}}function af(t,e,n){if(void 0!==e){var i=t.Lf.I(e);i instanceof Q&&(null==n?t.Lf.remove(e):(i.remove(n),0===i.count&&t.Lf.remove(e)))}}function of(t,e){return void 0===e?null:(t=t.Lf.I(e))instanceof Q?t:null}function rf(t,e,n){if(t.copiesArrays&&Array.isArray(e)){var i=[];for(n=0;n<e.length;n++){var a=rf(t,e[n],t.copiesArrayObjects);i.push(a)}return tt(i),i}if(n&&M(e)){for(i in n=(n=e.constructor)?new n:{},a=t.copiesKey||"string"!=typeof t.nodeKeyProperty?null:t.nodeKeyProperty,e)if("__gohashid"===i)n.__gohashid=void 0;else if(i===a)n[a]=void 0;else{var o=hf(e,i),r=lf(t,o);"GraphObject"===r||"Diagram"===r||"Layer"===r||"RowColumnDefinition"===r||"AnimationManager"===r||"Tool"===r||"CommandHandler"===r||"Layout"===r||"InputEvent"===r||"DiagramEvent"===r||o instanceof Vu||o instanceof vn||o instanceof yn||o instanceof un||(o=rf(t,o,!1)),df(n,i,o)}return tt(n),n}return e instanceof gt||e instanceof Et||e instanceof jt||e instanceof Fe||e instanceof Kt?e.copy():e}function sf(){return new Vu}function lf(t,e){if("function"==typeof e){if(e.className)return e.className;if(e.name)return e.name}else if("object"==typeof e&&null!==e&&e.constructor)return lf(t,e.constructor);return typeof e}function cf(t){return ff[t]?ff[t]:void 0!==m.go&&m.go[t]?m.go[t]:null}function hf(t,e){if(!t||!e)return null;try{if("function"==typeof e)var n=e(t);else"function"==typeof t.getAttribute?null===(n=t.getAttribute(e))&&(n=void 0):n=t[e]}catch(t){}return n}function df(t,e,n){if(t&&e)try{"function"==typeof e?e(t,n):"function"==typeof t.setAttribute?t.setAttribute(e,n):t[e]=n}catch(t){}}Mu.className="PartManager",d(Du,Mu),Du.prototype.addAllModeledParts=function(){var t=this.diagram.model;this.addModeledParts(t.nodeDataArray),Fu(this,t.linkDataArray)},Du.prototype.addModeledParts=function(t){for(Mu.prototype.addModeledParts.call(this,t,!1),t=this.links.iterator;t.next();)zh(t.value);bo(this.diagram,!1)},Du.prototype.removeAllModeledParts=function(){var t=this.diagram.model;Iu(this,t.linkDataArray),this.hs(t.nodeDataArray)},Du.prototype.getLinkCategoryForData=function(t){return this.diagram.model.Nr(t)},Du.prototype.setLinkCategoryForData=function(t,e){return this.diagram.model.Oo(t,e)},Du.prototype.setFromNodeForLink=function(t,e){var n=this.diagram.model;n.bv(t.data,n.ta(null!==e?e.data:null))},Du.prototype.setToNodeForLink=function(t,e){var n=this.diagram.model;n.gv(t.data,n.ta(null!==e?e.data:null))},Du.prototype.removeDataForLink=function(t){this.diagram.model.Jl(t.data)},Du.prototype.findPartForKey=function(t){var e=Mu.prototype.findPartForKey.call(this,t);return null===e&&null!==(t=this.diagram.model.Zg(t))?this.Re.I(t):e},Du.prototype.findLinkForKey=function(t){return null==t?null:null!==(t=this.diagram.model.Zg(t))?this.Re.I(t):null},Du.prototype.doModelChanged=function(t){var e=this;if(Mu.prototype.doModelChanged.call(this,t),this.diagram){var n=this.diagram;if(t.model===n.model){var i=t.change;if(n.$){n.$=!1;try{var a=t.modelChange;if(""!==a){if(i===pn){if("linkFromKey"===a){var o=this.Dc(t.object);if(null!==o){var r=this.Lb(t.newValue);o.fromNode=r}}else if("linkToKey"===a){var s=this.Dc(t.object);if(null!==s){var l=this.Lb(t.newValue);s.toNode=l}}else if("linkFromPortId"===a){var c=this.Dc(t.object);if(null!==c){var h=t.newValue;"string"==typeof h&&(c.fromPortId=h)}}else if("linkToPortId"===a){var d=this.Dc(t.object);if(null!==d){var u=t.newValue;"string"==typeof u&&(d.toPortId=u)}}else if("nodeGroupKey"===a){var f=this.Ec(t.object);if(null!==f){var p=t.newValue;if(void 0!==p){var g=this.Lb(p);f.containingGroup=g instanceof jh?g:null}else f.containingGroup=null}}else if("linkLabelKeys"===a){var m=this.Dc(t.object);if(null!==m){var y=t.oldValue,v=t.newValue;Array.isArray(y)&&y.forEach((function(t){0<=v.indexOf(t)||null!==(t=e.Lb(t))&&(t.labeledLink=null)})),Array.isArray(v)&&v.forEach((function(t){null!==(t=e.Lb(t))&&(t.labeledLink=m)}))}}else if("linkCategory"===a){var w=this.Dc(t.object),x=t.newValue;null!==w&&"string"==typeof x&&(w.category=x)}else"linkDataArray"===a&&(Iu(this,t.oldValue),Fu(this,t.newValue));n.isModified=!0}else if(i===gn){var b=t.newValue;if("linkDataArray"===a&&"object"==typeof b&&null!==b)Ru(this,b);else if("linkLabelKeys"===a&&Qu(b)){var S=this.Dc(t.object),k=this.Lb(b);null!==S&&null!==k&&(k.labeledLink=S)}n.isModified=!0}else if(i===mn){var P=t.oldValue;if("linkDataArray"===a&&"object"==typeof P&&null!==P)this.Lo(P);else if("linkLabelKeys"===a&&Qu(P)){var M=this.Lb(P);null!==M&&(M.labeledLink=null)}n.isModified=!0}}else if(i===pn){var _=t.propertyName;t.object!==n.model||"linkFromKeyProperty"!==_&&"linkToKeyProperty"!==_&&"linkFromPortIdProperty"!==_&&"linkToPortIdProperty"!==_&&"linkLabelKeysProperty"!==_&&"nodeIsGroupProperty"!==_&&"nodeGroupKeyProperty"!==_&&"linkCategoryProperty"!==_||n.undoManager.isUndoingRedoing||this.Od(),n.isModified=!0}}finally{n.$=!0}}}}},Du.prototype.refreshDataBoundLinks=function(){var t=this,e=this.diagram.model,n=new Q,i=e.linkDataArray;i.forEach((function(t){n.add(t)}));var a=[];this.links.each((function(t){null===t.data||n.contains(t.data)||a.push(t.data)})),a.forEach((function(t){_f(e,t,!1)})),i.forEach((function(n){null===t.Dc(n)&&Mf(e,n,!1)}))},Du.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var n=t.diagram;if(null!==n){var i=n.model;if(t instanceof Ih){var a=bf(i,e,!0);if(a=n.Lb(a),t.fromNode=a,a=bf(i,e,!1),a=n.Lb(a),t.toNode=a,0<(e=i.vf(e)).length||0<t.labelNodes.count){if(1===e.length&&1===t.labelNodes.count){a=e[0];var o=t.labelNodes.first();if(i.ta(o.data)===a)return}a=(new Q).addAll(e);var r=new Q;t.labelNodes.each((function(t){null!==t.data&&(void 0!==(t=i.ta(t.data))&&r.add(t))})),(e=r.copy()).Ko(a),(a=a.copy()).Ko(r),(0<e.count||0<a.count)&&(e.each((function(e){null!==(e=n.Lb(e))&&e.labeledLink===t&&(e.labeledLink=null)})),a.each((function(e){null!==(e=n.Lb(e))&&e.labeledLink!==t&&(e.labeledLink=t)})))}}else!(t instanceof vh)&&(e=i.ah(e),null===(e=n.findPartForKey(e))||e instanceof jh)&&(t.containingGroup=e)}}},Du.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,n=e.ta(t);if(void 0!==n){var i=of(e,n),a=this.Ec(t);if(null!==i&&null!==a){i=i.iterator;for(var o={};i.next();){var r=i.value;e.lb(r)?a instanceof jh&&e.ah(r)===n&&(null!==(r=this.Ec(r))&&(r.containingGroup=a)):(o.link=this.Dc(r),null!==o.link&&a instanceof xh&&(bf(e,r,!0)===n&&(o.link.fromNode=a),bf(e,r,!1)===n&&(o.link.toNode=a),r=e.vf(r),Array.isArray(r)&&r.some(function(t){return function(e){return e===n&&(a.labeledLink=t.link,!0)}}(o)))),o={link:o.link}}af(e,n)}void 0!==(t=e.ah(t))&&((t=this.Lb(t))instanceof jh&&(a.containingGroup=t))}},Du.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof xh){var n=e.ta(t.data);if(void 0!==n){for(var i=t.linksConnected;i.next();)nf(e,n,i.value.data);if(t.isLinkLabel&&(null!==(i=t.labeledLink)&&nf(e,n,i.data)),t instanceof jh)for(t=t.memberParts;t.next();)i=t.value.data,e.lb(i)&&nf(e,n,i)}}},Du.prototype.copyPartData=function(t,e){var n=Mu.prototype.copyPartData.call(this,t,e);if(t instanceof Ih)if(null!==(t=t.data)&&null!==e){var i=e.model;"object"==typeof(t=i.no(t))&&null!==t&&(i.Yh(t),n=e.Dc(t))}else null!==n&&(e=this.diagram,null!==t&&null!==e&&null!==e.commandHandler&&e.commandHandler.copiesClipboardData&&("object"==typeof(e=e.model.no(t))&&null!==e&&(n.data=e)));return n},Du.prototype.insertLink=function(t,e,n,i){var a=this.diagram,o=a.model,r=a.toolManager.findTool("Linking"),s="";if(null!==t&&(null===e&&(e=t),null===(s=e.portId)&&(s="")),e="",null!==n&&(null===i&&(i=n),null===(e=i.portId)&&(e="")),(i=r.archetypeLinkData)instanceof Ih){if(Pl(i),null!==(o=i.copy()))return o.fromNode=t,o.fromPortId=s,o.toNode=n,o.toPortId=e,a.add(o),(t=r.archetypeLabelNodeData)instanceof xh&&(Pl(t),null!==(t=t.copy())&&(t.labeledLink=o,a.add(t))),o}else if(null!==i&&("object"==typeof(i=o.no(i))&&null!==i))return null!==t&&Sf(o,i,o.ta(t.data),!0),Pf(o,i,s,!0),null!==n&&Sf(o,i,o.ta(n.data),!1),Pf(o,i,e,!1),o.Yh(i),null===(t=r.archetypeLabelNodeData)||t instanceof xh||"object"==typeof(t=o.copyNodeData(t))&&null!==t&&(o.lf(t),void 0!==(t=o.ta(t))&&o.hu(i,t)),a.Dc(i);return null},Du.prototype.findLinkForKey=Du.prototype.findLinkForKey,Du.prototype.findPartForKey=Du.prototype.findPartForKey,Du.prototype.removeAllModeledParts=Du.prototype.removeAllModeledParts,Du.prototype.addModeledParts=Du.prototype.addModeledParts,Du.prototype.addAllModeledParts=Du.prototype.addAllModeledParts,Du.className="GraphLinksPartManager",d(zu,Mu),zu.prototype.getLinkCategoryForData=function(t){return this.diagram.model.Qr(t)},zu.prototype.setLinkCategoryForData=function(t,e){this.diagram.model.ns(t,e)},zu.prototype.setFromNodeForLink=function(t,e,n){var i=this.diagram.model;if(void 0===n&&(n=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren)i.ie(t.data,i.ta(e));else{var a=this.Jg;this.Jg=t,null!==n&&i.ie(n.data,void 0),i.ie(e,i.ta(null!==t.toNode?t.toNode.data:null)),this.Jg=a}},zu.prototype.setToNodeForLink=function(t,e,n){var i=this.diagram.model;if(void 0===n&&(n=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren){var a=this.Jg;this.Jg=t,null!==n&&i.ie(n.data,void 0),i.ie(e,i.ta(null!==t.fromNode?t.fromNode.data:null)),this.Jg=a}else i.ie(t.data,i.ta(e))},zu.prototype.removeDataForLink=function(t){this.diagram.model.ie(t.data,void 0)},zu.prototype.findLinkForKey=function(t){return null==t?null:null!==(t=this.diagram.model.dc(t))?this.Re.I(t):null},zu.prototype.doModelChanged=function(t){if(Mu.prototype.doModelChanged.call(this,t),this.diagram){var e=this.diagram;if(t.model===e.model){var n=t.change;if(e.$){e.$=!1;try{var i=t.modelChange;if(""!==i){if(n===pn){if("nodeParentKey"===i){var a=t.object,o=this.Lb(t.newValue),r=this.ci(a);if(null!==this.Jg)null!==o&&(this.Jg.data=a,this.Jg.category=this.getLinkCategoryForData(a));else if(null!==r){var s=r.$g();null!==s?null===o?e.remove(s):e.isTreePathToChildren?s.fromNode=o:s.toNode=o:Hu(this,o,r)}}else if("parentLinkCategory"===i){var l=this.ci(t.object),c=t.newValue;if(null!==l&&"string"==typeof c){var h=l.$g();null!==h&&(h.category=c)}}e.isModified=!0}}else if(n===pn){var d=t.propertyName;t.object===e.model&&"nodeParentKeyProperty"===d&&(e.undoManager.isUndoingRedoing||this.Od()),e.isModified=!0}}finally{e.$=!0}}}}},zu.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var n=t.diagram;if(null!==n){var i=n.model;t instanceof xh&&(e=i.bh(e),(e=n.Lb(e))!==(i=t.ig())&&(i=t.$g(),null!==e?null!==i?n.isTreePathToChildren?i.fromNode=e:i.toNode=e:Hu(this,e,t):null!==i&&io(n,i,!1)))}}},zu.prototype.updateDataBindings=function(t,e){Mu.prototype.updateDataBindings.call(this,t,e),"string"==typeof e&&null!==this.Ec(t)&&(null!==(t=this.Dc(t))&&t.Ka(e))},zu.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,n=e.ta(t);if(void 0!==n){var i=of(e,n),a=this.Ec(t);if(null!==i&&null!==a){for(i=i.iterator;i.next();){var o=i.value;e.lb(o)&&a instanceof xh&&e.bh(o)===n&&Hu(this,a,this.ci(o))}af(e,n)}void 0!==(t=e.bh(t))&&a instanceof xh&&Hu(this,t=this.Lb(t),a)}},zu.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof xh){var n=e.ta(t.data),i=this.Dc(t.data);if(null!==i){i.isSelected=!1,i.isHighlighted=!1;var a=i.layer;if(null!==a){var o=a.lc(-1,i,!1);0<=o&&this.diagram.bb(mn,"parts",a,i,null,o,null),null!==(o=i.layerChanged)&&o(i,a,null)}}for(i=this.diagram.isTreePathToChildren,t=t.linksConnected;t.next();)a=t.value,a=(i?a.toNode:a.fromNode).data,e.lb(a)&&nf(e,n,a)}},zu.prototype.insertLink=function(t,e,n){e=this.diagram.model;var i=t,a=n;return this.diagram.isTreePathToChildren||(i=n,a=t),null!==i&&null!==a?(e.ie(a.data,e.ta(i.data)),a.$g()):null},zu.prototype.findLinkForKey=zu.prototype.findLinkForKey,zu.className="TreePartManager",Vu.prototype.cloneProtected=function(t){t.va=this.va,t.Am=this.Am,t.xg=this.xg,t.Mh=this.Mh,t.Qk=this.Qk,t.nk=this.nk,t.sm=this.sm,t.rm=this.rm,t.um=this.um,t.fm=this.fm,t.gj=this.gj},Vu.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Vu.prototype.clear=function(){this.Mc=[],this.kb.clear(),this.Lf.clear(),this.undoManager.clear()},Vu.prototype.toString=function(t){if(void 0===t&&(t=0),1<t)return this.Qo();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:";for(var n=(t=this.nodeDataArray).length,i=0;i<n;i++){var a=t[i];e+=" "+this.ta(a)+":"+N(a)}}return e},Vu.prototype.eA=function(t){t.change!==fn&&b("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());var e=t.object;return t.isTransactionFinished&&e instanceof yn?(Uu(this,e),t=this.uv(e,"FinishedUndo"===t.propertyName),this.kh=null,t):null},Vu.prototype.uv=function(t,e){var n=this,i=!1,a=new Q,o=new Q,r=new Q,s=this.kh;t.changes.each((function(t){t.model===n&&("nodeDataArray"===t.modelChange?t.change===gn?a.add(t.newValue):t.change===mn&&r.add(t.oldValue):n.lb(t.object)?o.add(t.object):t.change!==pn||n.modelData!==t.object&&"modelData"!==t.propertyName?null!==t.object&&(s&&s.contains(t.object)?s.get(t.object).each((function(t){n.lb(t)&&o.add(t)})):t.object instanceof Vu||n.ki()&&n.Cc(t.object)||Wu(n,t.object).each((function(t){o.add(t)}))):i=!0)}));var l=this.Wk;l.clear(),a.each((function(t){l.add(n.ta(t)),e||o.add(t)}));var c=this.Yk;c.clear(),r.each((function(t){c.add(n.ta(t)),e&&o.add(t)})),t=n.cloneDeep(o.Ea());var h=null;return i&&(null===h&&(h={}),h.modelData=this.cloneDeep(this.modelData)),0<l.count&&(null===h&&(h={}),e?h.removedNodeKeys=l.Ea():h.insertedNodeKeys=l.Ea()),0<t.length&&(null===h&&(h={}),h.modifiedNodeData=t),0<c.count&&(null===h&&(h={}),e?h.insertedNodeKeys=c.Ea():h.removedNodeKeys=c.Ea()),c.clear(),l.clear(),h},Vu.prototype.cloneDeep=function(t){return function t(e,n,i,a,o,r){function s(t,e){l?(void 0===t.__gohashid&&r.push(t),a.set(t,e)):(t=lt++,a.set(t,e),o.set(t,n))}if(!M(n))return n;r||(r=[]);var l=Object.isExtensible(n);if(a||(a=new pt),l){var c=a.get(n);if(c)return c}else for(o||(o=new pt),c=o.iterator;c.next();){var h=c.key;if(c.value===n&&(h=a.get(h)))return h}if(Array.isArray(n)){s(n,c=[]);for(var d=0;d<n.length;d++)c.push(t(e,n[d],!1,a,o,r))}else if(n instanceof gt||n instanceof Et||n instanceof jt||n instanceof Kt||n instanceof Fe)c=n.copy(),s(n,c);else{if(n instanceof vs||n instanceof We||n instanceof H)return n;if(n instanceof $)c=(new $).addAll(t(e,n.Ea(),!1,a,o,r)),s(n,c);else if(n instanceof Q)c=(new Q).addAll(t(e,n.Ea(),!1,a,o,r)),s(n,c);else if(n instanceof pt)c=(new pt).addAll(t(e,n.Ea(),!1,a,o,r)),s(n,c);else if(n instanceof Date)c=new Date(n.getTime()),s(n,c);else if(n instanceof RegExp)c=new RegExp(n),s(n,c),c.lastIndex=n.lastIndex;else if("function"==typeof n.copy)c=n.copy(),s(n,c);else for(d in s(n,c={}),n)"__gohashid"!==d&&(c[d]=t(e,n[d],!1,a,o,r))}return i&&r.forEach((function(t){delete t.__gohashid})),c}(this,t,!0)},(e=Vu.prototype).quote=function(t){return JSON.stringify(t).replace(/[\u007F-\uFFFF]/g,(function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).substr(-4)}))},e.am=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.dataFormat&&(t+=',\n  "dataFormat": '+this.quote(this.dataFormat)),this.isReadOnly&&(t+=',\n  "isReadOnly": '+this.isReadOnly),"key"!==this.nodeKeyProperty&&"string"==typeof this.nodeKeyProperty&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(t+=',\n  "copiesArrays": true'),this.copiesArrayObjects&&(t+=',\n  "copiesArrayObjects": true'),this.copiesKey||(t+=',\n  "copiesKey": false'),"category"!==this.nodeCategoryProperty&&"string"==typeof this.nodeCategoryProperty&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.nodeCategoryProperty)),t},e.Io=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),!1===t.copiesKey&&(this.copiesKey=!1),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)},e.vv=function(){var t,e=this.modelData,n=!1;for(t in e)if(!Xu(t,e[t])){n=!0;break}return e="",n&&(e=',\n  "modelData": '+Zu(this,this.modelData)),e+',\n  "nodeDataArray": '+Yu(this,this.nodeDataArray,!0)},e.Tu=function(t){Gu(this,t),_(t=t.nodeDataArray)&&(this.Ll(t),this.nodeDataArray=t)},e.tv=function(t,e){var n=this,i=!1,a=new Q,o=new Q,r=new Q,s=this.kh;t.changes.each((function(t){t.model===n&&("nodeDataArray"===t.modelChange?t.change===gn?a.add(t.newValue):t.change===mn&&r.add(t.oldValue):n.lb(t.object)?o.add(t.object):t.change!==pn||n.modelData!==t.object&&"modelData"!==t.propertyName?null!==t.object&&(s&&s.contains(t.object)?s.get(t.object).each((function(t){n.lb(t)&&o.add(t)})):t.object instanceof Vu||n.ki()&&n.Cc(t.object)||Wu(n,t.object).each((function(t){o.add(t)}))):i=!0)}));var l=this.Wk;l.clear(),a.each((function(t){l.add(n.ta(t)),e||o.add(t)}));var c=this.Yk;return c.clear(),r.each((function(t){c.add(n.ta(t)),e&&o.add(t)})),t="",i&&(t+=',\n  "modelData": '+Zu(this,this.modelData)),0<l.count&&(t+=(e?this.Cv:this.Av)+Yu(this,l.Ea(),!0)),0<o.count&&(t+=this.Px+Yu(this,o.Ea(),!0)),0<c.count&&(t+=(e?this.Av:this.Cv)+Yu(this,c.Ea(),!0)),c.clear(),l.clear(),t},e.Ho=function(t){(void 0!==t.name&&t.name!==this.name||void 0!==t.dataFormat&&t.dataFormat!==this.dataFormat||void 0!==t.isReadOnly&&t.isReadOnly!==this.isReadOnly||void 0!==t.nodeKeyProperty&&t.nodeKeyProperty!==this.nodeKeyProperty||void 0!==t.copiesArrays&&t.copiesArrays!==this.copiesArrays||void 0!==t.copiesArrayObjects&&t.copiesArrayObjects!==this.copiesArrayObjects||void 0!==t.copiesKey&&t.copiesKey!==this.copiesKey||void 0!==t.nodeCategoryProperty&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&b("applyIncrementalJson cannot change Model properties"),Gu(this,t);var e=t.insertedNodeKeys,n=t.modifiedNodeData,i=new pt;if(Array.isArray(n))for(var a=0;a<n.length;a++){var o=n[a],r=this.ta(o);null!=r&&i.set(r,o)}if(Array.isArray(e))for(a=e.length,o=0;o<a;o++){r=e[o];var s=this.dc(r);null===s&&(s=(s=i.get(r))?s:this.copyNodeData({}),this.Sl(s,r),this.lf(s))}if(Array.isArray(n))for(e=n.length,i=0;i<e;i++)if(a=n[i],o=this.ta(a),null!==(o=this.dc(o))){for(var l in a)"__gohashid"===l||l===this.nodeKeyProperty||this.Nj()&&l===this.nodeIsGroupProperty||this.setDataProperty(o,l,a[l]);this.Tl(a,o)}if(t=t.removedNodeKeys,Array.isArray(t))for(n=t.length,l=0;l<n;l++)null!==(e=this.dc(t[l]))&&this.Kl(e)},e.Jx=function(t,e){t.change!==fn&&b("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var n=t.object;return t.isTransactionFinished&&n instanceof yn?(void 0===e&&(e=lf(this,this)),Uu(this,n),t=this.tv(n,"FinishedUndo"===t.propertyName),this.kh=null,"2"===e?'{ "incremental": 2'+t+"}":'{ "class": '+this.quote(e)+', "incremental": 1'+this.am()+t+"}"):'{ "incremental": 0 }'},e.fA=function(t,e){return this.Jx(t,e)},e.Qo=function(t){return void 0===t&&(t=lf(this,this)),'{ "class": '+this.quote(t)+this.am()+this.vv()+"}"},e.toJSON=function(t){return this.Qo(t)},e.Dw=function(t){var e=null;if("string"==typeof t)try{e=m.JSON.parse(t)}catch(t){}else"object"==typeof t?e=t:b("Unable to modify a Model from: "+t);var n=e.incremental;"number"!=typeof n&&b("Unable to apply non-incremental changes to Model: "+t),0!==n&&(this.Da("applyIncrementalJson"),this.Ho(e),this.eb("applyIncrementalJson"))},e.qy=function(t){return this.Dw(t)},Vu.constructGraphLinksModel=function(){return new Vu},(e=Vu.prototype).Ll=function(t){if(_(t))for(var e=t.length,n=0;n<e;n++){var i=t[n];if(M(i)){var a=n;i=this.Ll(i),Array.isArray(t)?t[a]=i:b("Cannot replace an object in an HTMLCollection or NodeList at "+a)}}else if(M(t)){for(e in t)if(M(n=t[e])&&(n=this.Ll(n),t[e]=n,"points"===e&&Array.isArray(n))){for(a=0==n.length%2,i=0;i<n.length;i++)if("number"!=typeof n[i]){a=!1;break}if(a){for(a=new $,i=0;i<n.length/2;i++)a.add(new gt(n[2*i],n[2*i+1]));a.freeze(),t[e]=a}}return function(t){if("object"!=typeof t)return t;var e=t.class||"";if("NaN"===e)return NaN;if("Date"===e)return new Date(t.value);if(0!==e.indexOf("go."))return t;e=e.substr(3);var n=t;if("Point"===e)n=new gt($u(t.x),$u(t.y));else if("Size"===e)n=new Et($u(t.width),$u(t.height));else if("Rect"===e)n=new jt($u(t.x),$u(t.y),$u(t.width),$u(t.height));else if("Margin"===e)n=new Kt($u(t.top),$u(t.right),$u(t.bottom),$u(t.left));else if("Spot"===e)n="string"==typeof t.enum?Ie(t.enum):new Fe($u(t.x),$u(t.y),$u(t.offsetX),$u(t.offsetY));else if("Brush"===e){if((n=new vs).type=V(vs,t.type),"string"==typeof t.color&&(n.color=t.color),t.start instanceof Fe&&(n.start=t.start),t.end instanceof Fe&&(n.end=t.end),"number"==typeof t.startRadius&&(n.startRadius=$u(t.startRadius)),"number"==typeof t.endRadius&&(n.endRadius=$u(t.endRadius)),M(t=t.colorStops))for(var i in t)n.addColorStop(parseFloat(i),t[i])}else"Geometry"===e?(n=null,n="string"==typeof t.path?We.parse(t.path):new We,n.type=V(We,t.type),"number"==typeof t.startX&&(n.startX=$u(t.startX)),"number"==typeof t.startY&&(n.startY=$u(t.startY)),"number"==typeof t.endX&&(n.endX=$u(t.endX)),"number"==typeof t.endY&&(n.endY=$u(t.endY)),t.spot1 instanceof Fe&&(n.spot1=t.spot1),t.spot2 instanceof Fe&&(n.spot2=t.spot2)):"EnumValue"===e&&(0===(i=t.classType).indexOf("go.")&&(i=i.substr(3)),"function"==typeof(i=cf(i))&&(n=V(i,t.name)));return n}(t)}return t},e.bm=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?1/0===t?"9e9999":-1/0===t?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.bm(t.valueOf()):_(t)?Yu(this,t):M(t)?Zu(this,t):"function"==typeof t?"null":t.toString()},e.Ug=function(t){return this.ot.add(t),this},e.$j=function(t){this.ot.remove(t)},e.Cr=function(t){this.skipsUndoManager||this.undoManager.Eu(t);for(var e=this.ot,n=e.length,i=0;i<n;i++)e.K(i)(t)},e.bb=function(t,e,n,i,a,o,r){Ju(this,"",t,e,n,i,a,o,r)},e.g=function(t,e,n,i,a){Ju(this,"",pn,t,this,e,n,i,a)},e.gs=function(t,e,n,i,a,o){Ju(this,"",pn,e,t,n,i,a,o)},Vu.prototype.changeState=function(t,e){if(null!==t&&t.model===this)if(t.change===pn){var n=t.object,i=t.propertyName,a=t.I(e);i===this.nodeKeyProperty&&this.lb(n)&&(void 0!==(e=t.I(!e))&&this.kb.remove(e),void 0!==a&&this.kb.add(a,n)),df(n,i,a)}else t.change===gn?(n=t.newParam,"nodeDataArray"===t.modelChange?M(t=t.newValue)&&"number"==typeof n&&(i=this.ta(t),e?(this.Mc[n]===t&&O(this.Mc,n),void 0!==i&&this.kb.remove(i)):(this.Mc[n]!==t&&T(this.Mc,n,t),void 0!==i&&this.kb.add(i,t))):""===t.modelChange?((i=t.object)&&!_(i)&&t.propertyName&&(i=hf(t.object,t.propertyName)),_(i)&&"number"==typeof n&&(t=t.newValue,e?O(i,n):T(i,n,t))):b("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.change===mn?(n=t.oldParam,"nodeDataArray"===t.modelChange?M(t=t.oldValue)&&"number"==typeof n&&(i=this.ta(t),e?(this.Mc[n]!==t&&T(this.Mc,n,t),void 0!==i&&this.kb.add(i,t)):(this.Mc[n]===t&&O(this.Mc,n),void 0!==i&&this.kb.remove(i))):""===t.modelChange?((i=t.object)&&!_(i)&&t.propertyName&&(i=hf(t.object,t.propertyName)),_(i)&&"number"==typeof n&&(t=t.oldValue,e?T(i,n,t):O(i,n))):b("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.change!==fn&&b("unknown ChangedEvent: "+t.toString())},Vu.prototype.Da=function(t){return this.undoManager.Da(t)},Vu.prototype.eb=function(t){return this.undoManager.eb(t)},Vu.prototype.Bf=function(){return this.undoManager.Bf()},Vu.prototype.commit=function(t,e){void 0===e&&(e="");var n=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.Da(e);var i=!1;try{t(this),i=!0}finally{i?this.undoManager.eb(e):this.undoManager.Bf(),this.skipsUndoManager=n}},(e=Vu.prototype).Ka=function(t,e){void 0===e&&(e=""),Ju(this,"SourceChanged",fn,e,t,null,null)},e.ta=function(t){if(null!==t){var e=this.Mh;if(""!==e&&void 0!==(e=hf(t,e))){if(Qu(e))return e;b("Key value for node data "+t+" is not a number or a string: "+e)}}},e.Sl=function(t,e){if(null!==t){var n=this.Mh;if(""!==n)if(this.lb(t)){var i=hf(t,n);i!==e&&null===this.dc(e)&&(df(t,n,e),void 0!==i&&this.kb.remove(i),this.kb.add(e,t),Ju(this,"nodeKey",pn,n,t,i,e),"string"==typeof n&&this.Ka(t,n),this.Mo(i,e))}else df(t,n,e)}},e.lb=function(t){var e=this.ta(t);return void 0!==e&&this.kb.I(e)===t},e.dc=function(t){return null===t&&b("Model.findNodeDataForKey:key must not be null"),void 0!==t&&Qu(t)?this.kb.I(t):null},e.Lu=function(t){if(null!==t){var e=this.Mh;if(""!==e){var n=this.ta(t);if(void 0===n||this.kb.contains(n)){var i=this.Qk;if(null!==i&&(null!=(n=i(this,t))&&!this.kb.contains(n)))return void df(t,e,n);if("string"==typeof n){for(i=2;this.kb.contains(n+i);)i++;df(t,e,n+i)}else if(void 0===n||"number"==typeof n){for(n=-this.kb.count-1;this.kb.contains(n);)n--;df(t,e,n)}}}}},e.lf=function(t){null!==t&&(et(t),this.lb(t)||tf(this,t,!0))},e.my=function(t){if(_(t))for(var e=t.length,n=0;n<e;n++)this.lf(t[n]);else for(t=t.iterator;t.next();)this.lf(t.value)},e.Kl=function(t){null!==t&&ef(this,t,!0)},e.Uz=function(t){if(_(t))for(var e=t.length,n=0;n<e;n++)this.Kl(t[n]);else for(t=t.iterator;t.next();)this.Kl(t.value)},e.Hz=function(t){if(t!==this.nodeDataArray&&_(t)){var e=this.Yk;e.clear(),e.addAll(this.kb.iteratorKeys);var n=this.Wk;n.clear();for(var i=t.length,a=0;a<i;a++){var o=t[a],r=this.ta(o);if(void 0!==r){n.add(r);var s=this.dc(r);s!==o&&(null!==s?(this.ho(s,o),this.Tl(o,s)):(o=this.cloneDeep(o),this.Sl(o,r),this.lf(o)))}else r=this.cloneDeep(o),this.lf(r),n.add(this.ta(r))}for(t=e.iterator;t.next();)i=t.value,n.contains(i)||(i=this.dc(i))&&this.Kl(i);e.clear(),n.clear()}},e.Mo=function(t,e){void 0!==e&&((t=of(this,t))instanceof Q&&this.Lf.add(e,t))},e.ov=function(){},e.Nl=function(){},e.Ml=function(){},e.To=function(){},e.xy=function(t){void 0===t?this.Lf.clear():this.Lf.remove(t)},Vu.prototype.copyNodeData=function(t){if(null===t)return null;var e=this.nk;return M(t=null!==e?e(t,this):rf(this,t,!0))&&tt(t),t},Vu.prototype.setDataProperty=function(t,e,n){if(this.lb(t)){if(e===this.nodeKeyProperty)return void this.Sl(t,n);if(e===this.nodeCategoryProperty)return void this.Rl(t,n)}else!uf&&t instanceof Tr&&(uf=!0,P('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),P("  Is that really your intent?"));var i=hf(t,e);i!==n&&(df(t,e,n),this.gs(t,e,i,n))},(e=Vu.prototype).set=function(t,e,n){this.setDataProperty(t,e,n)},e.ho=function(t,e){if(e){var n,i=this.lb(t);for(n in e)"__gohashid"===n||i&&n===this.nodeKeyProperty||this.setDataProperty(t,n,e[n])}},e.iy=function(t,e){this.Rr(t,-1,e)},e.Rr=function(t,e,n){0>e&&(e=t.length),T(t,e,n),Ju(this,"",gn,"",t,null,n,null,e)},e.Wu=function(t,e){void 0===e&&(e=-1),t===this.Mc&&b("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=t.length-1);var n=t[e];O(t,e),Ju(this,"",mn,"",t,n,null,e,null)},e.uo=function(t){if(null===t)return"";var e=this.gj;return""===e||void 0===(e=hf(t,e))?"":"string"==typeof e?e:void b("getCategoryForNodeData found a non-string category for "+t+": "+e)},e.Rl=function(t,e){if(null!==t){var n=this.gj;if(""!==n)if(this.lb(t)){var i=hf(t,n);void 0===i&&(i=""),i!==e&&(df(t,n,e),Ju(this,"nodeCategory",pn,n,t,i,e))}else df(t,n,e)}},e.Tl=function(t,e){this.Rl(e,this.uo(t))},e.Al=function(){return!1},e.Nj=function(){return!1},e.ki=function(){return!1},e.Wr=function(){return!1},e.Oj=function(){return!1},u.Object.defineProperties(Vu.prototype,{name:{get:function(){return this.va},set:function(t){var e=this.va;e!==t&&(this.va=t,this.g("name",e,t))}},dataFormat:{get:function(){return this.Am},set:function(t){var e=this.Am;e!==t&&(this.Am=t,this.g("dataFormat",e,t))}},isReadOnly:{get:function(){return this.xg},set:function(t){var e=this.xg;e!==t&&(this.xg=t,this.g("isReadOnly",e,t))}},modelData:{get:function(){return this.j},set:function(t){var e=this.j;e!==t&&(this.j=t,this.g("modelData",e,t),this.Ka(t))}},undoManager:{get:function(){return this.m},set:function(t){var e=this.m;e!==t&&(null!==e&&e.yx(this),this.m=t,null!==t&&t.Bw(this))}},skipsUndoManager:{get:function(){return this.Mg},set:function(t){this.Mg=t}},nodeKeyProperty:{get:function(){return this.Mh},set:function(t){var e=this.Mh;e!==t&&(""===t&&b("Model.nodeKeyProperty may not be the empty string"),0<this.kb.count&&b("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Mh=t,this.g("nodeKeyProperty",e,t))}},makeUniqueKeyFunction:{get:function(){return this.Qk},set:function(t){var e=this.Qk;e!==t&&(this.Qk=t,this.g("makeUniqueKeyFunction",e,t))}},nodeDataArray:{get:function(){return this.Mc},set:function(t){var e=this.Mc;if(e!==t){this.kb.clear(),this.ov();for(var n=t.length,i=0;i<n;i++){var a=t[i];M(a)||b("Model.nodeDataArray must only contain Objects, not: "+a),et(a)}for(this.Mc=t,i=new $,a=0;a<n;a++){var o=t[a],r=this.ta(o);void 0===r||null!==this.kb.I(r)?i.add(o):this.kb.add(r,o)}for(i=i.iterator;i.next();)a=i.value,this.Lu(a),void 0!==(o=this.ta(a))&&this.kb.add(o,a);for(Ju(this,"nodeDataArray",pn,"nodeDataArray",this,e,t),e=0;e<n;e++)i=t[e],this.Nl(i),this.Ml(i);Array.isArray(t)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.nk},set:function(t){var e=this.nk;e!==t&&(this.nk=t,this.g("copyNodeDataFunction",e,t))}},copiesArrays:{get:function(){return this.sm},set:function(t){var e=this.sm;e!==t&&(this.sm=t,this.g("copiesArrays",e,t))}},copiesArrayObjects:{get:function(){return this.rm},set:function(t){var e=this.rm;e!==t&&(this.rm=t,this.g("copiesArrayObjects",e,t))}},copiesKey:{get:function(){return this.um},set:function(t){var e=this.um;e!==t&&(this.um=t,this.g("copiesKey",e,t))}},afterCopyFunction:{get:function(){return this.fm},set:function(t){var e=this.fm;e!==t&&(this.fm=t,this.g("afterCopyFunction",e,t))}},nodeCategoryProperty:{get:function(){return this.gj},set:function(t){var e=this.gj;e!==t&&(this.gj=t,this.g("nodeCategoryProperty",e,t))}},type:{get:function(){return"Model"}}}),Vu.prototype.setCategoryForNodeData=Vu.prototype.Rl,Vu.prototype.getCategoryForNodeData=Vu.prototype.uo,Vu.prototype.removeArrayItem=Vu.prototype.Wu,Vu.prototype.insertArrayItem=Vu.prototype.Rr,Vu.prototype.addArrayItem=Vu.prototype.iy,Vu.prototype.assignAllDataProperties=Vu.prototype.ho,Vu.prototype.set=Vu.prototype.set,Vu.prototype.clearUnresolvedReferences=Vu.prototype.xy,Vu.prototype.mergeNodeDataArray=Vu.prototype.Hz,Vu.prototype.removeNodeDataCollection=Vu.prototype.Uz,Vu.prototype.removeNodeData=Vu.prototype.Kl,Vu.prototype.addNodeDataCollection=Vu.prototype.my,Vu.prototype.addNodeData=Vu.prototype.lf,Vu.prototype.makeNodeDataKeyUnique=Vu.prototype.Lu,Vu.prototype.findNodeDataForKey=Vu.prototype.dc,Vu.prototype.containsNodeData=Vu.prototype.lb,Vu.prototype.setKeyForNodeData=Vu.prototype.Sl,Vu.prototype.getKeyForNodeData=Vu.prototype.ta,Vu.prototype.updateTargetBindings=Vu.prototype.Ka,Vu.prototype.commit=Vu.prototype.commit,Vu.prototype.rollbackTransaction=Vu.prototype.Bf,Vu.prototype.commitTransaction=Vu.prototype.eb,Vu.prototype.startTransaction=Vu.prototype.Da,Vu.prototype.raiseDataChanged=Vu.prototype.gs,Vu.prototype.raiseChanged=Vu.prototype.g,Vu.prototype.raiseChangedEvent=Vu.prototype.bb,Vu.prototype.removeChangedListener=Vu.prototype.$j,Vu.prototype.addChangedListener=Vu.prototype.Ug,Vu.prototype.writeJsonValue=Vu.prototype.bm,Vu.prototype.replaceJsonObjects=Vu.prototype.Ll,Vu.prototype.applyIncrementalJSON=Vu.prototype.qy,Vu.prototype.applyIncrementalJson=Vu.prototype.Dw,Vu.prototype.toJSON=Vu.prototype.toJSON,Vu.prototype.toJson=Vu.prototype.Qo,Vu.prototype.toIncrementalJSON=Vu.prototype.fA,Vu.prototype.toIncrementalJson=Vu.prototype.Jx,Vu.prototype.toIncrementalData=Vu.prototype.eA,Vu.prototype.clear=Vu.prototype.clear;var uf=!1,ff={};function pf(t,e,n,i){tt(this),this._isFrozen=!1,void 0===t&&(t=""),void 0===e&&(e=t),void 0===n&&(n=null),this.j=-1,this.sd=null,this.ll=t,this.kl=this.Wn=0,this.Zq=null,this.cn=!1,this.gl=e,this.qm=n,void 0===i?(this.Tk=yf,this.ik=null):(this.Tk=vf,this.ik=i),this.Vs=new Q}function gf(t,e,n){return null===(t=t.sourceName)||""===t?e:"/"===t?n.part:"."===t?n:".."===t?n.panel:e.fb(t)}Vu.className="Model",Vu.fromJSON=Vu.fromJson=function(t,e){void 0===e&&(e=null);var n=null;if("string"==typeof t)try{n=m.JSON.parse(t)}catch(t){}else"object"==typeof t?n=t:b("Unable to construct a Model from: "+t);if(null===e){t=null;var i=n.class;if("string"==typeof i)try{var a=null;0===i.indexOf("go.")?a=cf(i=i.substr(3)):null===(a=cf(i))&&(a=m[i]),"function"==typeof a&&(t=new a)}catch(t){}null===t||t instanceof Vu?e=t:b("Unable to construct a Model of declared class: "+n.class)}return null===e&&(e=Vu.constructGraphLinksModel()),e.Io(n),e.Tu(n),e},Vu.safePropertyValue=hf,Vu.safePropertySet=df,ff.Brush=vs,ff.ChangedEvent=un,ff.Geometry=We,ff.Margin=Kt,ff.Panel=cl,ff.Point=gt,ff.Rect=jt,ff.Size=Et,ff.Spot=Fe,ff.Transaction=yn,ff.UndoManager=vn,pf.prototype.copy=function(){var t=new pf;return t.ll=this.ll,t.Wn=this.Wn,t.kl=this.kl,t.Zq=this.Zq,t.cn=this.cn,t.gl=this.gl,t.qm=this.qm,t.Tk=this.Tk,t.ik=this.ik,t},(e=pf.prototype).ob=function(t){t.classType===pf&&(this.mode=t)},e.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(-1!==this.ti?" "+this.ti:"")+" "+this.mode.name+")"},e.freeze=function(){return this._isFrozen=!0,this},e.ja=function(){return this._isFrozen=!1,this},e.px=function(t){return void 0===t&&(t=null),this.mode=vf,this.backConverter=t,this},e.Fo=function(t){return void 0===t&&(t=""),this.sourceName=t,this.isToModel=!1,this},e.Kz=function(){return this.sourceName=null,this.isToModel=!0,this},e.pv=function(t,e,n){var i=this.gl;if(void 0===n||""===i||i===n){n=this.ll;var a=this.qm;if(null===a&&""===n)P("Binding error: target property is the empty string: "+this.toString());else{var o=e;if(""!==i&&(o=hf(e,i)),void 0!==o)if(null===a)""!==n&&df(t,n,o);else try{if(""!==n)df(t,n,a(o,t));else a(o,t)}catch(t){}}}},e.Vo=function(t,e,n,i){if(this.Tk===vf){var a=this.ll;if(void 0===n||a===n){n=this.gl;var o=this.ik,r=t;if(""!==a&&(r=hf(t,a)),void 0!==r&&!this.Vs.contains(t))try{this.Vs.add(t);var s=null!==i?i.diagram:null,l=null!==s?s.model:null;if(null===o){if(""!==n)null!==l?l.setDataProperty(e,n,r):df(e,n,r);else if(null!==l&&null!==i&&0<=i.itemIndex&&null!==i.panel&&Array.isArray(i.panel.itemArray)){var c=i.itemIndex,h=i.panel.itemArray;l.Wu(h,c),l.Rr(h,c,r)}}else try{if(""!==n){var d=o(r,e,l);null!==l?l.setDataProperty(e,n,d):df(e,n,d)}else{var u=o(r,e,l);if(void 0!==u&&null!==l&&null!==i&&0<=i.itemIndex&&null!==i.panel&&Array.isArray(i.panel.itemArray)){var f=i.itemIndex,p=i.panel.itemArray;l.Wu(p,f),l.Rr(p,f,u)}}}catch(t){}}finally{this.Vs.remove(t)}}}},u.Object.defineProperties(pf.prototype,{ti:{get:function(){return this.j},set:function(t){this._isFrozen&&S(this),this.j=t}},targetProperty:{get:function(){return this.ll},set:function(t){this._isFrozen&&S(this),this.ll=t}},sourceName:{get:function(){return this.Zq},set:function(t){this._isFrozen&&S(this),this.Zq=t,null!==t&&(this.cn=!1)}},isToModel:{get:function(){return this.cn},set:function(t){this._isFrozen&&S(this),this.cn=t}},sourceProperty:{get:function(){return this.gl},set:function(t){this._isFrozen&&S(this),this.gl=t}},converter:{get:function(){return this.qm},set:function(t){this._isFrozen&&S(this),this.qm=t}},backConverter:{get:function(){return this.ik},set:function(t){this._isFrozen&&S(this),this.ik=t}},mode:{get:function(){return this.Tk},set:function(t){this._isFrozen&&S(this),this.Tk=t}}}),pf.prototype.updateSource=pf.prototype.Vo,pf.prototype.updateTarget=pf.prototype.pv,pf.prototype.ofModel=pf.prototype.Kz,pf.prototype.ofObject=pf.prototype.Fo,pf.prototype.makeTwoWay=pf.prototype.px;var mf="Binding",yf=new H(pf,"OneWay",1),vf=new H(pf,"TwoWay",2);function wf(t,e,n){Vu.call(this),this.zv=',\n  "insertedLinkKeys": ',this.Ox=',\n  "modifiedLinkData": ',this.Bv=',\n  "removedLinkKeys": ',this.ed=[],this.Rf=new Q,this.rb=new pt,this.Bh="",this.Li=this.mk=this.Rk=null,this.Ze="from",this.$e="to",this.aj=this.$i="",this.Zi="category",this.ce="",this.Xk="isGroup",this.ye="group",this.tm=!1,void 0!==e&&(this.linkDataArray=e),void 0!==t&&(_(t)?this.nodeDataArray=t:Object.assign(this,t)),n&&Object.assign(this,n)}function xf(t,e){for(var n=new Q,i=0;i<t.linkDataArray.length;i++){var a=t.linkDataArray[i];qu(t,e,a,a,n)}return n}function bf(t,e,n){if(null!==e&&(""!==(t=n?t.Ze:t.$e)&&void 0!==(t=hf(e,t)))){if(Qu(t))return t;b((n?"FromKey":"ToKey")+" value for link data "+e+" is not a number or a string: "+t)}}function Sf(t,e,n,i){if(null===n&&(n=void 0),null!==e){var a=i?t.Ze:t.$e;if(""!==a)if(n=t.Dl(n),t.Cc(e)){var o=hf(e,a);o!==n&&(af(t,o,e),df(e,a,n),null===t.dc(n)&&nf(t,n,e),Ju(t,i?"linkFromKey":"linkToKey",pn,a,e,o,n),"string"==typeof a&&t.Ka(e,a))}else df(e,a,n)}}function kf(t,e,n){return null===e||""===(t=n?t.$i:t.aj)||void 0===(e=hf(e,t))?"":e}function Pf(t,e,n,i){if(null!==e){var a=i?t.$i:t.aj;if(""!==a)if(t.Cc(e)){var o=hf(e,a);void 0===o&&(o=""),o!==n&&(df(e,a,n),Ju(t,i?"linkFromPortId":"linkToPortId",pn,a,e,o,n),"string"==typeof a&&t.Ka(e,a))}else df(e,a,n)}}function Mf(t,e,n){if(""!==t.linkKeyProperty){var i=t.uc(e);if(void 0!==i&&t.rb.I(i)===e)return;t.bs(e),void 0===(i=t.uc(e))&&b("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model."),t.rb.add(i,e)}t.Rf.add(e),i=null,n&&(i=t.ed.length,t.ed.splice(i,0,e)),Ju(t,"linkDataArray",gn,"linkDataArray",t,null,e,null,i),Lf(t,e)}function _f(t,e,n){t.Rf.remove(e);var i=t.uc(e);if(void 0!==i&&t.rb.remove(i),i=null,n){if(0>(i=t.ed.indexOf(e)))return;t.ed.splice(i,1)}if(Ju(t,"linkDataArray",mn,"linkDataArray",t,e,null,i,null),af(t,n=bf(t,e,!0),e),af(t,n=bf(t,e,!1),e),i=t.vf(e),Array.isArray(i))for(var a=i.length,o=0;o<a;o++)af(t,n=i[o],e)}function Lf(t,e){var n=bf(t,e,!0);n=t.Dl(n),null===t.dc(n)&&nf(t,n,e),n=bf(t,e,!1),n=t.Dl(n),null===t.dc(n)&&nf(t,n,e);var i=t.vf(e);if(Array.isArray(i))for(var a=i.length,o=0;o<a;o++)n=i[o],null===t.dc(n)&&nf(t,n,e)}function Tf(t,e,n){t.Oo(n,t.Nr(e)),t.bv(n,t.$w(e)),t.gv(n,t.ex(e)),t.ms(n,t.vf(e)),t.cv(n,t.ax(e)),t.hv(n,t.gx(e))}pf.className="Binding",pf.parseEnum=function(t,e){return function(n){return null===(n=V(t,n))?e:n}},pf.toString=N,pf.OneWay=yf,pf.TwoWay=vf,d(wf,Vu),wf.constructGraphLinksModel=Vu.constructGraphLinksModel,wf.prototype.cloneProtected=function(t){Vu.prototype.cloneProtected.call(this,t),t.Bh=this.Bh,t.Rk=this.Rk,t.mk=this.mk,t.Ze=this.Ze,t.$e=this.$e,t.$i=this.$i,t.aj=this.aj,t.Zi=this.Zi,t.ce=this.ce,t.Xk=this.Xk,t.ye=this.ye,t.tm=this.tm},(e=wf.prototype).clear=function(){Vu.prototype.clear.call(this),this.ed=[],this.rb.clear(),this.Rf.clear()},e.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.Qo();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:";var n,i=(t=this.nodeDataArray).length;for(n=0;n<i;n++){var a=t[n];e+=" "+this.ta(a)+":"+N(a)}for(e+="\n link data:",i=(t=this.linkDataArray).length,n=0;n<i;n++)e+=" "+bf(this,a=t[n],!0)+"--\x3e"+bf(this,a,!1)}return e},e.uv=function(t,e){""===this.linkKeyProperty&&b("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalData() to succeed.");var n=Vu.prototype.uv.call(this,t,e),i=this,a=new Q,o=new Q,r=new Q,s=this.kh;t.changes.each((function(t){t.model===i&&("linkDataArray"===t.modelChange?t.change===gn?a.add(t.newValue):t.change===mn&&r.add(t.oldValue):i.Cc(t.object)?o.add(t.object):null!==t.object&&(null!==t.object&&s&&s.contains(t.object)?s.get(t.object).each((function(t){i.Cc(t)&&o.add(t)})):t.object instanceof Vu||i.lb(t.object)||xf(i,t.object).each((function(t){o.add(t)}))))}));var l=this.Wk;l.clear(),a.each((function(t){l.add(i.uc(t)),e||o.add(t)}));var c=this.Yk;return c.clear(),r.each((function(t){c.add(i.uc(t)),e&&o.add(t)})),t=i.cloneDeep(o.Ea()),0<l.count&&(null===n&&(n={}),e?n.removedLinkKeys=l.Ea():n.insertedLinkKeys=l.Ea()),0<t.length&&(null===n&&(n={}),n.modifiedLinkData=t),0<c.count&&(null===n&&(n={}),e?n.insertedLinkKeys=c.Ea():n.removedLinkKeys=c.Ea()),c.clear(),l.clear(),n},e.am=function(){var t=Vu.prototype.am.call(this),e="";return"category"!==this.linkCategoryProperty&&"string"==typeof this.linkCategoryProperty&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.linkCategoryProperty)),""!==this.linkKeyProperty&&"string"==typeof this.linkKeyProperty&&(e+=',\n  "linkKeyProperty": '+this.quote(this.linkKeyProperty)),"from"!==this.linkFromKeyProperty&&"string"==typeof this.linkFromKeyProperty&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.linkFromKeyProperty)),"to"!==this.linkToKeyProperty&&"string"==typeof this.linkToKeyProperty&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.linkToKeyProperty)),""!==this.linkFromPortIdProperty&&"string"==typeof this.linkFromPortIdProperty&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.linkFromPortIdProperty)),""!==this.linkToPortIdProperty&&"string"==typeof this.linkToPortIdProperty&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.linkToPortIdProperty)),""!==this.linkLabelKeysProperty&&"string"==typeof this.linkLabelKeysProperty&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.linkLabelKeysProperty)),"isGroup"!==this.nodeIsGroupProperty&&"string"==typeof this.nodeIsGroupProperty&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.nodeIsGroupProperty)),"group"!==this.nodeGroupKeyProperty&&"string"==typeof this.nodeGroupKeyProperty&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.nodeGroupKeyProperty)),t+e},e.Io=function(t){Vu.prototype.Io.call(this,t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)},e.vv=function(){return Vu.prototype.vv.call(this)+(',\n  "linkDataArray": '+Yu(this,this.linkDataArray,!0))},e.Tu=function(t){Vu.prototype.Tu.call(this,t),t=t.linkDataArray,Array.isArray(t)&&(this.Ll(t),this.linkDataArray=t)},e.tv=function(t,e){""===this.linkKeyProperty&&b("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var n=Vu.prototype.tv.call(this,t,e),i=this,a=new Q,o=new Q,r=new Q,s=this.kh;t.changes.each((function(t){t.model===i&&("linkDataArray"===t.modelChange?t.change===gn?a.add(t.newValue):t.change===mn&&r.add(t.oldValue):i.Cc(t.object)?o.add(t.object):null!==t.object&&(null!==t.object&&s&&s.contains(t.object)?s.get(t.object).each((function(t){i.Cc(t)&&o.add(t)})):t.object instanceof Vu||i.lb(t.object)||xf(i,t.object).each((function(t){o.add(t)}))))}));var l=this.Wk;l.clear(),a.each((function(t){l.add(i.uc(t)),e||o.add(t)}));var c=this.Yk;return c.clear(),r.each((function(t){c.add(i.uc(t)),e&&o.add(t)})),t=n,0<l.count&&(t+=(e?this.Bv:this.zv)+Yu(this,l.Ea(),!0)),0<o.count&&(t+=this.Ox+Yu(this,o.Ea(),!0)),0<c.count&&(t+=(e?this.zv:this.Bv)+Yu(this,c.Ea(),!0)),c.clear(),l.clear(),t},e.Ho=function(t){(void 0!==t.linkCategoryProperty&&t.linkCategoryProperty!==this.linkCategoryProperty||void 0!==t.linkKeyProperty&&t.linkKeyProperty!==this.linkKeyProperty||void 0!==t.linkFromKeyProperty&&t.linkFromKeyProperty!==this.linkFromKeyProperty||void 0!==t.linkToKeyProperty&&t.linkToKeyProperty!==this.linkToKeyProperty||void 0!==t.linkFromPortIdProperty&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||void 0!==t.linkToPortIdProperty&&t.linkToPortIdProperty!==this.linkToPortIdProperty||void 0!==t.linkLabelKeysProperty&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||void 0!==t.nodeIsGroupProperty&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||void 0!==t.nodeGroupKeyProperty&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&b("applyIncrementalJson cannot change Model properties"),Vu.prototype.Ho.call(this,t);var e=t.insertedLinkKeys;if(Array.isArray(e))for(var n=e.length,i=0;i<n;i++){var a=e[i],o=this.Zg(a);null===o&&(o=this.no({}),this.ls(o,a),this.Yh(o))}if(e=t.modifiedLinkData,Array.isArray(e))for(n=e.length,i=0;i<n;i++)if(a=e[i],o=this.uc(a),null!==(o=this.Zg(o))){for(var r in a)"__gohashid"!==r&&r!==this.linkKeyProperty&&this.setDataProperty(o,r,a[r]);Tf(this,a,o)}if(t=t.removedLinkKeys,Array.isArray(t))for(r=t.length,e=0;e<r;e++)null!==(n=this.Zg(t[e]))&&this.Jl(n)},wf.prototype.changeState=function(t,e){if(null!==t&&t.model===this){if(t.change===pn){var n=t.object,i=t.propertyName;if(i===this.linkKeyProperty&&this.Cc(n)){var a=t.I(e);return void 0!==(e=t.I(!e))&&this.rb.remove(e),void 0!==a&&this.rb.add(a,n),void df(n,i,a)}}else if(t.change===gn){if(n=t.newParam,"linkDataArray"===t.modelChange)return void(M(t=t.newValue)&&"number"==typeof n&&(i=this.uc(t),e?(this.Rf.remove(t),this.ed[n]===t&&this.ed.splice(n,1),void 0!==i&&this.rb.remove(i)):(this.Rf.add(t),this.ed[n]!==t&&this.ed.splice(n,0,t),void 0!==i&&this.rb.add(i,t))));if("linkLabelKeys"===t.modelChange)return i=this.vf(t.object),void(Array.isArray(i)&&"number"==typeof n&&(e?(n=i.indexOf(t.newValue),0<=n&&i.splice(n,1)):0>i.indexOf(t.newValue)&&i.splice(n,0,t.newValue)))}else if(t.change===mn){if(n=t.oldParam,"linkDataArray"===t.modelChange)return void(M(t=t.oldValue)&&"number"==typeof n&&(i=this.uc(t),e?(this.Rf.add(t),this.ed[n]!==t&&this.ed.splice(n,0,t),void 0!==i&&this.rb.add(i,t)):(this.Rf.remove(t),this.ed[n]===t&&this.ed.splice(n,1),void 0!==i&&this.rb.remove(i))));if("linkLabelKeys"===t.modelChange)return i=this.vf(t.object),void(Array.isArray(i)&&"number"==typeof n&&(e?0>i.indexOf(t.newValue)&&i.splice(n,0,t.newValue):(n=i.indexOf(t.newValue),0<=n&&i.splice(n,1))))}Vu.prototype.changeState.call(this,t,e)}},(e=wf.prototype).Dl=function(t){if(void 0!==t){var e=this.Li;if(null!==e){var n=this.dc(t);null===n&&(df(n=this.copyNodeData(e),this.nodeKeyProperty,t),this.lf(n))}return t}},e.$w=function(t){return bf(this,t,!0)},e.bv=function(t,e){Sf(this,t,e,!0)},e.ex=function(t){return bf(this,t,!1)},e.gv=function(t,e){Sf(this,t,e,!1)},e.ax=function(t){return kf(this,t,!0)},e.cv=function(t,e){Pf(this,t,e,!0)},e.gx=function(t){return kf(this,t,!1)},e.hv=function(t,e){Pf(this,t,e,!1)},e.vf=function(t){if(null===t)return Of;var e=this.ce;return""===e||void 0===(t=hf(t,e))?Of:t},e.ms=function(t,e){if(null!==t){var n=this.ce;if(""!==n)if(this.Cc(t)){var i=hf(t,n);if(void 0===i&&(i=Of),i!==e){if(Array.isArray(i))for(var a=i.length,o=0;o<a;o++)af(this,i[o],t);for(df(t,n,e),a=e.length,o=0;o<a;o++){var r=e[o];null===this.dc(r)&&nf(this,r,t)}Ju(this,"linkLabelKeys",pn,n,t,i,e),"string"==typeof n&&this.Ka(t,n)}}else df(t,n,e)}},e.hu=function(t,e){if(null!=e&&null!==t){var n=this.ce;if(""!==n){var i=hf(t,n);if(void 0===i)(n=[]).push(e),this.ms(t,n);else if(Array.isArray(i)){var a=i.indexOf(e);0<=a||(a=i.length,i.push(e),this.Cc(t)&&(null===this.dc(e)&&nf(this,e,t),Ju(this,"linkLabelKeys",gn,n,t,null,e,null,a)))}else b(n+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},e.xx=function(t,e){if(null!=e&&null!==t){var n=this.ce;if(""!==n){var i=hf(t,n);if(Array.isArray(i)){var a=i.indexOf(e);0>a||(i.splice(a,1),this.Cc(t)&&(af(this,e,t),Ju(this,"linkLabelKeys",mn,n,t,e,null,a,null)))}else void 0!==i&&b(n+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},e.uc=function(t){if(null!==t){var e=this.Bh;if(""!==e&&void 0!==(e=hf(t,e))){if(Qu(e))return e;b("Key value for link data "+t+" is not a number or a string: "+e)}}},e.ls=function(t,e){if(null!==t){var n=this.Bh;if(""!==n)if(this.Cc(t)){var i=hf(t,n);i!==e&&null===this.Zg(e)&&(df(t,n,e),void 0!==i&&this.rb.remove(i),this.rb.add(e,t),Ju(this,"linkKey",pn,n,t,i,e),"string"==typeof n&&this.Ka(t,n))}else df(t,n,e)}},e.Zg=function(t){return null===t&&b("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&Qu(t)?this.rb.I(t):null},e.bs=function(t){if(null!==t){var e=this.Bh;if(""!==e){var n=this.uc(t);if(void 0===n||this.rb.contains(n)){var i=this.Rk;if(null!==i&&(null!=(n=i(this,t))&&!this.rb.contains(n)))return void df(t,e,n);if("string"==typeof n){for(i=2;this.rb.contains(n+i);)i++;df(t,e,n+i)}else if(void 0===n||"number"==typeof n){for(n=-this.rb.count-1;this.rb.contains(n);)n--;df(t,e,n)}}}}},e.Cc=function(t){return null!==t&&this.Rf.contains(t)},e.Yh=function(t){null!==t&&(et(t),this.Cc(t)||Mf(this,t,!0))},e.ly=function(t){if(Array.isArray(t))for(var e=t.length,n=0;n<e;n++)this.Yh(t[n]);else for(t=t.iterator;t.next();)this.Yh(t.value)},e.Jl=function(t){null!==t&&_f(this,t,!0)},e.Sz=function(t){if(Array.isArray(t))for(var e=t.length,n=0;n<e;n++)this.Jl(t[n]);else for(t=t.iterator;t.next();)this.Jl(t.value)},e.Gz=function(t){if(""===this.linkKeyProperty&&b("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),t!==this.linkDataArray&&_(t)){var e=this.Yk;e.clear(),e.addAll(this.rb.iteratorKeys);var n=this.Wk;n.clear();for(var i=t.length,a=0;a<i;a++){var o=t[a],r=this.uc(o);if(void 0!==r){n.add(r);var s=this.Zg(r);s!==o&&(null!==s?(this.ho(s,o),Tf(this,o,s)):(o=this.cloneDeep(o),this.ls(o,r),this.Yh(o)))}else r=this.cloneDeep(o),this.Yh(r),n.add(this.uc(r))}for(t=e.iterator;t.next();)i=t.value,n.contains(i)||(i=this.Zg(i))&&this.Jl(i);e.clear(),n.clear()}},e.no=function(t){if(null===t)return null;var e=this.mk;return M(t=null!==e?e(t,this):rf(this,t,!0))&&(tt(t),""!==this.Ze&&df(t,this.Ze,void 0),""!==this.$e&&df(t,this.$e,void 0),""!==this.ce&&df(t,this.ce,[])),t},e.Ju=function(t){if(null===t)return!1;var e=this.Xk;return""!==e&&!!hf(t,e)},e.ah=function(t){if(null!==t){var e=this.ye;if(""!==e&&void 0!==(e=hf(t,e))){if(Qu(e))return e;b("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},e.Po=function(t,e){if(null===e&&(e=void 0),null!==t){var n=this.ye;if(""!==n)if(this.lb(t)){var i=hf(t,n);i!==e&&(af(this,i,t),df(t,n,e),null===this.dc(e)&&nf(this,e,t),Ju(this,"nodeGroupKey",pn,n,t,i,e),"string"==typeof n&&this.Ka(t,n))}else df(t,n,e)}},wf.prototype.copyNodeData=function(t){return null===t?null:(t=Vu.prototype.copyNodeData.call(this,t),this.Cj||""===this.ye||void 0===hf(t,this.ye)||df(t,this.ye,void 0),t)},wf.prototype.setDataProperty=function(t,e,n){if(this.lb(t)){if(e===this.nodeKeyProperty)return void this.Sl(t,n);if(e===this.nodeCategoryProperty)return void this.Rl(t,n);if(e===this.nodeGroupKeyProperty)return void this.Po(t,n)}else if(this.Cc(t)){if(e===this.linkFromKeyProperty)return void Sf(this,t,n,!0);if(e===this.linkToKeyProperty)return void Sf(this,t,n,!1);if(e===this.linkFromPortIdProperty)return void Pf(this,t,n,!0);if(e===this.linkToPortIdProperty)return void Pf(this,t,n,!1);if(e===this.linkKeyProperty)return void this.ls(t,n);if(e===this.linkCategoryProperty)return void this.Oo(t,n);if(e===this.linkLabelKeysProperty)return void this.ms(t,n)}var i=hf(t,e);i!==n&&(df(t,e,n),this.gs(t,e,i,n))},(e=wf.prototype).ho=function(t,e){if(e){var n,i=this.lb(t),a=this.Cc(t);for(n in e)"__gohashid"===n||i&&n===this.nodeKeyProperty||i&&n===this.nodeIsGroupProperty&&hf(t,n)===e[n]||a&&n===this.linkKeyProperty||this.setDataProperty(t,n,e[n])}},e.Mo=function(t,e){Vu.prototype.Mo.call(this,t,e);for(var n=this.kb.iterator;n.next();)this.Yu(n.value,t,e);for(n=this.Rf.iterator;n.next();){var i=n.value,a=t,o=e;if(bf(this,i,!0)===a){var r=this.Ze;df(i,r,o),Ju(this,"linkFromKey",pn,r,i,a,o),"string"==typeof r&&this.Ka(i,r)}if(bf(this,i,!1)===a&&(df(i,r=this.$e,o),Ju(this,"linkToKey",pn,r,i,a,o),"string"==typeof r&&this.Ka(i,r)),r=this.vf(i),Array.isArray(r))for(var s=r.length,l=this.ce,c=0;c<s;c++)r[c]===a&&(r[c]=o,Ju(this,"linkLabelKeys",gn,l,i,a,o,c,c))}},e.Yu=function(t,e,n){if(this.ah(t)===e){var i=this.ye;df(t,i,n),Ju(this,"nodeGroupKey",pn,i,t,e,n),"string"==typeof i&&this.Ka(t,i)}},e.ov=function(){Vu.prototype.ov.call(this);for(var t=this.linkDataArray,e=t.length,n=0;n<e;n++)Lf(this,t[n])},e.Nl=function(t){Vu.prototype.Nl.call(this,t);var e=of(this,t=this.ta(t));if(null!==e){var n=A();for(e=e.iterator;e.next();){var i=e.value;if(this.lb(i)){if(this.ah(i)===t){var a=this.ye;Ju(this,"nodeGroupKey",pn,a,i,t,t),"string"==typeof a&&this.Ka(i,a),n.push(i)}}else if(bf(this,i,!0)===t&&(a=this.Ze,Ju(this,"linkFromKey",pn,a,i,t,t),"string"==typeof a&&this.Ka(i,a),n.push(i)),bf(this,i,!1)===t&&(a=this.$e,Ju(this,"linkToKey",pn,a,i,t,t),"string"==typeof a&&this.Ka(i,a),n.push(i)),a=this.vf(i),Array.isArray(a))for(var o=a.length,r=this.ce,s=0;s<o;s++)a[s]===t&&(Ju(this,"linkLabelKeys",gn,r,i,t,t,s,s),n.push(i))}for(e=0;e<n.length;e++)af(this,t,n[e]);E(n)}},e.Ml=function(t){Vu.prototype.Ml.call(this,t);var e=this.ah(t);null===this.dc(e)&&nf(this,e,t)},e.To=function(t){Vu.prototype.To.call(this,t),af(this,this.ah(t),t)},e.Nr=function(t){if(null===t)return"";var e=this.Zi;return""===e||void 0===(e=hf(t,e))?"":"string"==typeof e?e:void b("getCategoryForLinkData found a non-string category for "+t+": "+e)},wf.prototype.getLinkCategoryForData=function(t){return this.Nr(t)},wf.prototype.Oo=function(t,e){if(null!==t){var n=this.Zi;if(""!==n)if(this.Cc(t)){var i=hf(t,n);void 0===i&&(i=""),i!==e&&(df(t,n,e),Ju(this,"linkCategory",pn,n,t,i,e),"string"==typeof n&&this.Ka(t,n))}else df(t,n,e)}},wf.prototype.setLinkCategoryForData=function(t,e){this.Oo(t,e)},(e=wf.prototype).Tl=function(t,e){Vu.prototype.Tl.call(this,t,e),this.Po(e,this.ah(t))},e.Nj=function(){return!0},e.ki=function(){return!0},e.Wr=function(){return!0},e.Oj=function(){return!0},u.Object.defineProperties(wf.prototype,{archetypeNodeData:{get:function(){return this.Li},set:function(t){var e=this.Li;e!==t&&(this.Li=t,this.g("archetypeNodeData",e,t))}},linkFromKeyProperty:{get:function(){return this.Ze},set:function(t){var e=this.Ze;e!==t&&(this.Ze=t,this.g("linkFromKeyProperty",e,t))}},linkToKeyProperty:{get:function(){return this.$e},set:function(t){var e=this.$e;e!==t&&(this.$e=t,this.g("linkToKeyProperty",e,t))}},linkFromPortIdProperty:{get:function(){return this.$i},set:function(t){var e=this.$i;e!==t&&(this.$i=t,this.g("linkFromPortIdProperty",e,t))}},linkToPortIdProperty:{get:function(){return this.aj},set:function(t){var e=this.aj;e!==t&&(this.aj=t,this.g("linkToPortIdProperty",e,t))}},linkLabelKeysProperty:{get:function(){return this.ce},set:function(t){var e=this.ce;e!==t&&(this.ce=t,this.g("linkLabelKeysProperty",e,t))}},linkDataArray:{get:function(){return this.ed},set:function(t){var e=this.ed;if(e!==t){this.rb.clear();for(var n=t.length,i=0;i<n;i++){var a=t[i];M(a)||b("GraphLinksModel.linkDataArray must only contain Objects, not: "+a),et(a)}if(this.ed=t,""!==this.linkKeyProperty){for(i=new $,a=0;a<n;a++){var o=t[a],r=this.uc(o);void 0===r||null!==this.rb.I(r)?i.add(o):this.rb.add(r,o)}for(i=i.iterator;i.next();)a=i.value,this.bs(a),void 0!==(o=this.uc(a))&&this.rb.add(o,a)}for(i=new Q,a=0;a<n;a++)i.add(t[a]);for(this.Rf=i,Ju(this,"linkDataArray",pn,"linkDataArray",this,e,t),e=0;e<n;e++)Lf(this,t[e])}}},linkKeyProperty:{get:function(){return this.Bh},set:function(t){var e=this.Bh;if(e!==t){this.Bh=t,this.rb.clear();for(var n=this.linkDataArray.length,i=0;i<n;i++){var a=this.linkDataArray[i],o=this.uc(a);void 0===o&&(this.bs(a),o=this.uc(a)),void 0!==o&&this.rb.add(o,a)}this.g("linkKeyProperty",e,t)}}},makeUniqueLinkKeyFunction:{get:function(){return this.Rk},set:function(t){var e=this.Rk;e!==t&&(this.Rk=t,this.g("makeUniqueLinkKeyFunction",e,t))}},copyLinkDataFunction:{get:function(){return this.mk},set:function(t){var e=this.mk;e!==t&&(this.mk=t,this.g("copyLinkDataFunction",e,t))}},nodeIsGroupProperty:{get:function(){return this.Xk},set:function(t){var e=this.Xk;e!==t&&(this.Xk=t,this.g("nodeIsGroupProperty",e,t))}},nodeGroupKeyProperty:{get:function(){return this.ye},set:function(t){var e=this.ye;e!==t&&(this.ye=t,this.g("nodeGroupKeyProperty",e,t))}},Cj:{get:function(){return this.tm},set:function(t){this.tm!==t&&(this.tm=t)}},linkCategoryProperty:{get:function(){return this.Zi},set:function(t){var e=this.Zi;e!==t&&(this.Zi=t,this.g("linkCategoryProperty",e,t))}},type:{get:function(){return"GraphLinksModel"}}}),wf.prototype.setCategoryForLinkData=wf.prototype.Oo,wf.prototype.getCategoryForLinkData=wf.prototype.Nr,wf.prototype.assignAllDataProperties=wf.prototype.ho,wf.prototype.setGroupKeyForNodeData=wf.prototype.Po,wf.prototype.getGroupKeyForNodeData=wf.prototype.ah,wf.prototype.isGroupForNodeData=wf.prototype.Ju,wf.prototype.copyLinkData=wf.prototype.no,wf.prototype.mergeLinkDataArray=wf.prototype.Gz,wf.prototype.removeLinkDataCollection=wf.prototype.Sz,wf.prototype.removeLinkData=wf.prototype.Jl,wf.prototype.addLinkDataCollection=wf.prototype.ly,wf.prototype.addLinkData=wf.prototype.Yh,wf.prototype.containsLinkData=wf.prototype.Cc,wf.prototype.makeLinkDataKeyUnique=wf.prototype.bs,wf.prototype.findLinkDataForKey=wf.prototype.Zg,wf.prototype.setKeyForLinkData=wf.prototype.ls,wf.prototype.getKeyForLinkData=wf.prototype.uc,wf.prototype.removeLabelKeyForLinkData=wf.prototype.xx,wf.prototype.addLabelKeyForLinkData=wf.prototype.hu,wf.prototype.setLabelKeysForLinkData=wf.prototype.ms,wf.prototype.getLabelKeysForLinkData=wf.prototype.vf,wf.prototype.setToPortIdForLinkData=wf.prototype.hv,wf.prototype.getToPortIdForLinkData=wf.prototype.gx,wf.prototype.setFromPortIdForLinkData=wf.prototype.cv,wf.prototype.getFromPortIdForLinkData=wf.prototype.ax,wf.prototype.setToKeyForLinkData=wf.prototype.gv,wf.prototype.getToKeyForLinkData=wf.prototype.ex,wf.prototype.setFromKeyForLinkData=wf.prototype.bv,wf.prototype.getFromKeyForLinkData=wf.prototype.$w,wf.prototype.clear=wf.prototype.clear;var Of=Object.freeze([]);function Af(t,e){Vu.call(this),this.ze="parent",this.vm=!1,this.ij="parentLinkCategory",void 0!==t&&(_(t)?this.nodeDataArray=t:Object.assign(this,t)),e&&Object.assign(this,e)}function Ef(t){Yd.call(this),this.Qv=this.Hm=this.hc=0,this.zp=360,this.Pv=Hf,this.Ni=0,this.Dv=new gt,this.mp=this.ee=0,this.wr=new np,this.Is=this.hj=0,this.Zx=600,this.In=NaN,this.km=1,this.Un=0,this.il=360,this.Nb=Hf,this.L=Wf,this.fd=Qf,this.Zc=fu,this.gf=6,this.un=tp,t&&Object.assign(this,t)}function Cf(t,e,n,i,a){var o=t.zp,r=t.hc;t=t.ee,i=i*Math.PI/180,n=n*Math.PI/180;for(var s=e.length,l=0;l<s;l++){var c=i+(a===Wf?l*n/(360<=o?s:s-1):-l*n/s),h=e.K(l),d=r*Math.tan(c)/t;d=Math.sqrt((r*r+t*t*d*d)/(1+d*d)),h.centerX=d*Math.cos(c),h.centerY=d*Math.sin(c),h.actualAngle=180*c/Math.PI}}function Nf(t,e,n,i){var a=t.hc,o=t.ee,r=t.Ni;n=n*Math.PI/180;for(var s=e.length,l=0;l<s;l++){var c=e.K(l),h=e.K(l===s-1?0:l+1),d=o*Math.sin(n);c.centerX=a*Math.cos(n),c.centerY=d,c.actualAngle=180*n/Math.PI,isNaN(c.diameter)&&op(c,0),isNaN(h.diameter)&&op(h,0),c=zf(t,a,o,i===Wf?n:-n,(c.diameter+h.diameter)/2+r),n+=i===Wf?c:-c}}function Bf(t,e,n,i){var a=t.hc,o=t.ee,r=t.mp;n=n*Math.PI/180;for(var s=e.length,l=0;l<s;l++){var c=e.K(l);c.centerX=a*Math.cos(n),c.centerY=o*Math.sin(n),c.actualAngle=180*n/Math.PI,c=zf(t,a,o,i===Wf?n:-n,r),n+=i===Wf?c:-c}}function jf(t,e,n,i,a){var o=t.zp;if(t.hj=0,t.wr=new np,360>n){for(o=i+(a===Wf?o:-o);0>o;)o+=360;180<(o%=360)&&(o-=360),o*=Math.PI/180,t.Is=o,function t(e,n,i,a,o){for(var r=e.hc,s=e.ee,l=e.Hm,c=r*Math.cos(a*Math.PI/180),h=s*Math.sin(a*Math.PI/180),d=gt.alloc(),u=n.Ea(),f=0;f<u.length&&(u[f].centerX=c,u[f].centerY=h,!(f>=u.length-1));f++)Df(e,c,h,u,f,o,d)||Ff(e,c,h,u,f,o,d),c=d.x,h=d.y;if(gt.free(d),e.hj++,!(23<e.hj)){if(c=Math.atan2(h,c),c=o===Wf?e.Is-c:c-e.Is,c=Math.abs(c)<Math.abs(c-2*Math.PI)?c:c-2*Math.PI,r=c*(r+s)/2,s=e.wr,Math.abs(r)<Math.abs(s.wl))for(s.wl=r,s.ak=[],s.cm=[],c=0;c<u.length;c++)s.ak[c]=u[c].bounds.x,s.cm[c]=u[c].bounds.y;1<Math.abs(r)&&(e.hc=8>e.hj?e.hc-r/(2*Math.PI):e.hc-(0<r?1.7:-2.3),e.ee=e.hc*l,t(e,n,i,a,o))}}(t,e,n,i,a)}else!function t(e,n,i,a,o){var r=e.hc,s=e.Ni,l=e.Hm,c=r*Math.cos(a*Math.PI/180),h=e.ee*Math.sin(a*Math.PI/180),d=n.Ea();if(3===d.length)d[0].centerX=r,d[0].centerY=0,d[1].centerX=d[0].centerX-d[0].width/2-d[1].width/2-s,d[1].y=d[0].y,d[2].centerX=(d[0].centerX+d[1].centerX)/2,d[2].y=d[0].y-d[2].height-s;else if(4===d.length)d[0].centerX=r,d[0].centerY=0,d[2].centerX=-d[0].centerX,d[2].centerY=d[0].centerY,d[1].centerX=0,d[1].y=Math.min(d[0].y,d[2].y)-d[1].height-s,d[3].centerX=0,d[3].y=Math.max(d[0].y+d[0].height+s,d[2].y+d[2].height+s);else{r=gt.alloc();for(var u=0;u<d.length&&(d[u].centerX=c,d[u].centerY=h,!(u>=d.length-1));u++)Df(e,c,h,d,u,o,r)||Ff(e,c,h,d,u,o,r),c=r.x,h=r.y;if(gt.free(r),e.hj++,!(23<e.hj)){c=d[0].centerX,h=d[0].centerY,r=d[d.length-1].centerX,u=d[d.length-1].centerY;var f=Math.abs(c-r)-((d[0].width+d[d.length-1].width)/2+s),p=Math.abs(h-u)-((d[0].height+d[d.length-1].height)/2+s);s=0,1>Math.abs(p)?Math.abs(c-r)<(d[0].width+d[d.length-1].width)/2&&(s=0):s=0<p?p:1>Math.abs(f)?0:f,c=Math.abs(r)>Math.abs(u)?0<r!=h>u:0<u!=c<r,(c=o===Wf?c:!c)&&(s=-Math.abs(s),s=Math.min(s,-d[d.length-1].width),s=Math.min(s,-d[d.length-1].height)),e.wr.compare(s,d),1<Math.abs(s)&&(e.hc=8>e.hj?e.hc-s/(2*Math.PI):5>d.length&&10<s?e.hc/2:e.hc-(0<s?1.7:-2.3),e.ee=e.hc*l,t(e,n,i,a,o))}}}(t,e,n,i,a);t.wr.commit(e)}function Df(t,e,n,i,a,o,r){var s=t.hc,l=t.ee,c=0;t=(i[a].width+i[a+1].width)/2+t.Ni;var h=!1;if(0<=n!=(o===Wf)){if((o=e+t)>s){if((o=e-t)<-s)return r.x=o,r.y=c,!1;h=!0}}else if((o=e-t)<-s){if((o=e+t)>s)return r.x=o,r.y=c,!1;h=!0}return c=Math.sqrt(1-Math.min(1,o*o/(s*s)))*l,0>n!==h&&(c=-c),Math.abs(n-c)>(i[a].height+i[a+1].height)/2?(r.x=o,r.y=c,!1):(r.x=o,r.y=c,!0)}function Ff(t,e,n,i,a,o,r){var s=t.hc,l=t.ee,c=0;if(t=(i[a].height+i[a+1].height)/2+t.Ni,i=!1,0<=e!=(o===Wf)){if((o=n-t)<-l){if((o=n+t)>l)return r.x=c,void(r.y=o);i=!0}}else if((o=n+t)>l){if((o=n-t)<-l)return r.x=c,void(r.y=o);i=!0}c=Math.sqrt(1-Math.min(1,o*o/(l*l)))*s,0>e!==i&&(c=-c),r.x=c,r.y=o}function Rf(t,e,n,i,a){var o=t.Zx;if(.001>Math.abs(t.Hm-1))return void 0!==i&&void 0!==a?a*e:2*Math.PI*e;t=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n;for(var r=0,s=void 0!==i&&void 0!==a?a/(o+1):Math.PI/(2*(o+1)),l=0,c=0;c<=o;c++){l=void 0!==i&&void 0!==a?i+c*a/o:c*Math.PI/(2*o);var h=Math.sin(l);r+=Math.sqrt(1-t*t*h*h)*s}return void 0!==i&&void 0!==a?(e>n?e:n)*r:4*(e>n?e:n)*r}function If(t,e,n,i,a){return e/(void 0!==i&&void 0!==a?Rf(t,1,n,i,a):Rf(t,1,n))}function zf(t,e,n,i,a){if(.001>Math.abs(t.Hm-1))return a/e;var o=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n,r=0;t=2*Math.PI/(700*t.network.vertexes.count),e>n&&(i+=Math.PI/2);for(var s=0;;s++){var l=Math.sin(i+s*t);if((r+=(e>n?e:n)*Math.sqrt(1-o*o*l*l)*t)>=a)return s*t}}wf.className="GraphLinksModel",ff.GraphLinksModel=wf,Vu.constructGraphLinksModel=Vu.constructGraphLinksModel=function(){return new wf},Vu.initDiagramModel=sf=function(){return new wf},d(Af,Vu),Af.constructGraphLinksModel=Vu.constructGraphLinksModel,Af.prototype.cloneProtected=function(t){Vu.prototype.cloneProtected.call(this,t),t.ze=this.ze,t.vm=this.vm,t.ij=this.ij},(e=Af.prototype).toString=function(t){if(void 0===t&&(t=0),2<=t)return this.Qo();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:";for(var n=(t=this.nodeDataArray).length,i=0;i<n;i++){var a=t[i];e+=" "+this.ta(a)+":"+N(a)}}return e},e.am=function(){var t=Vu.prototype.am.call(this),e="";return"parent"!==this.nodeParentKeyProperty&&"string"==typeof this.nodeParentKeyProperty&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.nodeParentKeyProperty)),t+e},e.Io=function(t){Vu.prototype.Io.call(this,t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)},e.Ho=function(t){void 0!==t.nodeParentKeyProperty&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&b("applyIncrementalJson cannot change Model properties"),Vu.prototype.Ho.call(this,t)},e.Dl=function(t){return t},e.bh=function(t){if(null!==t){var e=this.ze;if(""!==e&&void 0!==(e=hf(t,e))){if(Qu(e))return e;b("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},e.ie=function(t,e){if(null===e&&(e=void 0),null!==t){var n=this.ze;if(""!==n)if(e=this.Dl(e),this.lb(t)){var i=hf(t,n);i!==e&&(af(this,i,t),df(t,n,e),null===this.dc(e)&&nf(this,e,t),Ju(this,"nodeParentKey",pn,n,t,i,e),"string"==typeof n&&this.Ka(t,n))}else df(t,n,e)}},e.Qr=function(t){if(null===t)return"";var e=this.ij;return""===e||void 0===(e=hf(t,e))?"":"string"==typeof e?e:(b("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},Af.prototype.getLinkCategoryForData=function(t){return this.Qr(t)},Af.prototype.ns=function(t,e){if(null!==t){var n=this.ij;if(""!==n)if(this.lb(t)){var i=hf(t,n);void 0===i&&(i=""),i!==e&&(df(t,n,e),Ju(this,"parentLinkCategory",pn,n,t,i,e),"string"==typeof n&&this.Ka(t,n))}else df(t,n,e)}},Af.prototype.setLinkCategoryForData=function(t,e){this.ns(t,e)},Af.prototype.copyNodeData=function(t){return null===t?null:(t=Vu.prototype.copyNodeData.call(this,t),this.Dj||""===this.ze||void 0===hf(t,this.ze)||df(t,this.ze,void 0),t)},Af.prototype.setDataProperty=function(t,e,n){if(this.lb(t)){if(e===this.nodeKeyProperty)return void this.Sl(t,n);if(e===this.nodeCategoryProperty)return void this.Rl(t,n);if(e===this.nodeParentKeyProperty)return void this.ie(t,n)}var i=hf(t,e);i!==n&&(df(t,e,n),this.gs(t,e,i,n))},(e=Af.prototype).Mo=function(t,e){Vu.prototype.Mo.call(this,t,e);for(var n=this.kb.iterator;n.next();)this.Yu(n.value,t,e)},e.Yu=function(t,e,n){if(this.bh(t)===e){var i=this.ze;df(t,i,n),Ju(this,"nodeParentKey",pn,i,t,e,n),"string"==typeof i&&this.Ka(t,i)}},e.Nl=function(t){Vu.prototype.Nl.call(this,t);var e=of(this,t=this.ta(t));if(null!==e){var n=A();for(e=e.iterator;e.next();){var i=e.value;if(this.lb(i)&&this.bh(i)===t){var a=this.ze;Ju(this,"nodeParentKey",pn,a,i,t,t),"string"==typeof a&&this.Ka(i,a),n.push(i)}}for(e=0;e<n.length;e++)af(this,t,n[e]);E(n)}},e.Ml=function(t){Vu.prototype.Ml.call(this,t);var e=this.bh(t);e=this.Dl(e),null===this.dc(e)&&nf(this,e,t)},e.To=function(t){Vu.prototype.To.call(this,t),af(this,this.bh(t),t)},e.Tl=function(t,e){Vu.prototype.Tl.call(this,t,e),this.ns(e,this.Qr(t)),this.ie(e,this.bh(t))},e.Al=function(){return!0},e.Wr=function(){return!0},u.Object.defineProperties(Af.prototype,{nodeParentKeyProperty:{get:function(){return this.ze},set:function(t){var e=this.ze;e!==t&&(this.ze=t,this.g("nodeParentKeyProperty",e,t))}},Dj:{get:function(){return this.vm},set:function(t){this.vm!==t&&(this.vm=t)}},parentLinkCategoryProperty:{get:function(){return this.ij},set:function(t){var e=this.ij;e!==t&&(this.ij=t,this.g("parentLinkCategoryProperty",e,t))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(t){this.parentLinkCategoryProperty=t}},type:{get:function(){return"TreeModel"}}}),Af.prototype.setParentLinkCategoryForNodeData=Af.prototype.ns,Af.prototype.getParentLinkCategoryForNodeData=Af.prototype.Qr,Af.prototype.setParentKeyForNodeData=Af.prototype.ie,Af.prototype.getParentKeyForNodeData=Af.prototype.bh,Af.className="TreeModel",ff.TreeModel=Af,d(Ef,Yd),Ef.prototype.cloneProtected=function(t){Yd.prototype.cloneProtected.call(this,t),t.In=this.In,t.km=this.km,t.Un=this.Un,t.il=this.il,t.Nb=this.Nb,t.L=this.L,t.fd=this.fd,t.Zc=this.Zc,t.gf=this.gf,t.un=this.un},Ef.prototype.ob=function(t){t.classType===Ef?t===$f||t===Jf||t===Kf||t===Zf||t===Qf?this.sorting=t:t===Yf||t===Xf||t===Wf||t===qf?this.direction=t:t===Gf||t===Vf||t===Hf||t===Uf?this.arrangement=t:t!==ep&&t!==tp||(this.nodeDiameterFormula=t):Yd.prototype.ob.call(this,t)},Ef.prototype.createNetwork=function(){return new ip(this)},Ef.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),1>=(t=this.network.vertexes).count)1===t.count&&((t=t.first()).centerX=0,t.centerY=0);else{var e=new $;e.addAll(t.iterator),t=new $;var n,i,a=new $,o=this.sort(e),r=this.mp,s=this.arrangement,l=this.nodeDiameterFormula,c=this.radius;(!isFinite(c)||0>=c)&&(c=NaN);var h=this.aspectRatio;(!isFinite(h)||0>=h)&&(h=1);var d=this.startAngle;isFinite(d)||(d=0);var u=this.sweepAngle;if((!isFinite(u)||360<u||1>u)&&(u=360),e=this.spacing,isFinite(e)||(e=NaN),s===Uf&&l===ep?s=Hf:s===Uf&&l!==ep&&(s=this.arrangement),(this.direction===Yf||this.direction===Xf)&&this.sorting!==Qf){for(l=0;!(l>=o.length)&&(t.add(o.K(l)),!(l+1>=o.length));l+=2)a.add(o.K(l+1));this.direction===Yf?(this.arrangement===Uf&&t.reverse(),(o=new $).addAll(t),o.addAll(a)):(this.arrangement===Uf&&a.reverse(),(o=new $).addAll(a),o.addAll(t))}l=o.length;for(var f=i=n=0;f<o.length;f++){var p=d+u*i*(this.direction===Wf?1:-1)/l,g=o.K(f).diameter;isNaN(g)&&(g=op(o.K(f),p)),360>u&&(0===f||f===o.length-1)&&(g/=2),n+=g,i++}if(isNaN(c)||s===Uf){if(isNaN(e)&&(e=6),s!==Hf&&s!==Uf){for(i=-1/0,r=0;r<l;r++)f=o.K(r),n=o.K(r===l-1?0:r+1),isNaN(f.diameter)&&op(f,0),isNaN(n.diameter)&&op(n,0),i=Math.max(i,(f.diameter+n.diameter)/2);r=i+e,c=s===Gf?(i+e)/(2*Math.PI/l):If(this,r*(360<=u?l:l-1),h,d*Math.PI/180,u*Math.PI/180)}else c=If(this,n+(360<=u?l:l-1)*(s!==Uf?e:1.6*e),h,d*Math.PI/180,u*Math.PI/180);i=c*h}else if(f=Rf(this,c,i=c*h,d*Math.PI/180,u*Math.PI/180),isNaN(e))s!==Hf&&s!==Uf||(e=(f-n)/(360<=u?l:l-1));else if(s===Hf||s===Uf)(f=(f-n)/(360<=u?l:l-1))<e?i=(c=If(this,n+e*(360<=u?l:l-1),h,d*Math.PI/180,u*Math.PI/180))*h:e=f;else{for(r=-1/0,n=0;n<l;n++)p=o.K(n),g=o.K(n===l-1?0:n+1),isNaN(p.diameter)&&op(p,0),isNaN(g.diameter)&&op(g,0),r=Math.max(r,(p.diameter+g.diameter)/2);(n=If(this,(r+=e)*(360<=u?l:l-1),h,d*Math.PI/180,u*Math.PI/180))>c?i=(c=n)*h:r=f/(360<=u?l:l-1)}if(this.Pv=s,this.hc=c,this.Hm=h,this.Qv=d,this.zp=u,this.Ni=e,this.ee=i,this.mp=r,e=o,o=this.Pv,s=this.hc,c=this.Qv,h=this.zp,d=this.Ni,u=this.ee,l=this.mp,this.direction!==Yf&&this.direction!==Xf||o!==Uf)if(this.direction===Yf||this.direction===Xf){switch(r=0,o){case Vf:r=180*zf(this,s,u,c,l)/Math.PI;break;case Hf:l=e=0,null!==(r=t.first())&&(e=op(r,Math.PI/2)),null!==(r=a.first())&&(l=op(r,Math.PI/2)),r=180*zf(this,s,u,c,d+(e+l)/2)/Math.PI;break;case Gf:r=h/e.length}if(this.direction===Yf){switch(o){case Vf:Bf(this,t,c,qf);break;case Hf:Nf(this,t,c,qf);break;case Gf:Cf(this,t,h/2,c,qf)}switch(o){case Vf:Bf(this,a,c+r,Wf);break;case Hf:Nf(this,a,c+r,Wf);break;case Gf:Cf(this,a,h/2,c+r,Wf)}}else{switch(o){case Vf:Bf(this,a,c,qf);break;case Hf:Nf(this,a,c,qf);break;case Gf:Cf(this,a,h/2,c,qf)}switch(o){case Vf:Bf(this,t,c+r,Wf);break;case Hf:Nf(this,t,c+r,Wf);break;case Gf:Cf(this,t,h/2,c+r,Wf)}}}else switch(o){case Vf:Bf(this,e,c,this.direction);break;case Hf:Nf(this,e,c,this.direction);break;case Gf:Cf(this,e,h,c,this.direction);break;case Uf:jf(this,e,h,c,this.direction)}else jf(this,e,h,c-h/2,Wf)}this.updateParts(),this.network=null,this.isValidLayout=!0},Ef.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},Ef.prototype.commitNodes=function(){var t=null!==this.group&&null!==this.group.placeholder&&this.group.isSubGraphExpanded,e=t?this.group.location.copy():null,n=this.actualCenter;t?n=new gt(0,0):(n.x=this.arrangementOrigin.x+this.hc,n.y=this.arrangementOrigin.y+this.ee);for(var i=this.network.vertexes.iterator;i.next();){var a=i.value;a.x+=n.x,a.y+=n.y,a.commit()}t&&(this.group.Za(),t=this.group.position.copy(),n=this.group.location.copy(),e=e.je(n.je(t)),this.group.move(e),this.Dv=e.je(t))},Ef.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Ef.prototype.sort=function(t){switch(this.sorting){case Kf:break;case Zf:t.reverse();break;case $f:t.sort(this.comparer);break;case Jf:t.sort(this.comparer),t.reverse();break;case Qf:return this.Uj(function(t){for(var e=[],n=0;n<t.length;n++)e.push(0);n=new $;for(var i=0;i<t.length;i++){var a=-1,o=-1;if(0===i)for(var r=0;r<t.length;r++){var s=t.K(r).edgesCount;s>a&&(a=s,o=r)}else for(r=0;r<t.length;r++)(s=e[r])>a&&(a=s,o=r);for(n.add(t.K(o)),e[o]=-1,o=t.K(o),r=o.sourceEdges;r.next();)0>(a=t.indexOf(r.value.fromVertex))||0<=e[a]&&e[a]++;for(o=o.destinationEdges;o.next();)0>(a=t.indexOf(o.value.toVertex))||0<=e[a]&&e[a]++}return n}(t));default:b("Invalid sorting type.")}return t},Ef.prototype.Uj=function(t){for(var e=[],n=0;n<t.length;n++){var i=t.K(n);e[n]=[];for(var a,o=i.destinationEdges;o.next();)(a=t.indexOf(o.value.toVertex))!==n&&0>e[n].indexOf(a)&&e[n].push(a);for(i=i.sourceEdges;i.next();)(a=t.indexOf(i.value.fromVertex))!==n&&0>e[n].indexOf(a)&&e[n].push(a)}for(o=[],n=0;n<e.length;n++)o[n]=0;n=[];var r=[],s=[];i=[],a=new $;for(var l=0,c=0;c<e.length;c++){var h=e[c].length;if(1===h)i.push(c);else if(0===h)a.add(t.K(c));else{if(0===l)n.push(c);else{for(var d=h=1/0,u=-1,f=[],p=0;p<n.length;p++)0>e[n[p]].indexOf(n[p===n.length-1?0:p+1])&&f.push(p===n.length-1?0:p+1);if(0===f.length)for(p=0;p<n.length;p++)f.push(p);for(p=0;p<f.length;p++){for(var g=f[p],m=e[c],y=0,v=0;v<r.length;v++){var w=o[r[v]],x=o[s[v]];if(w<x){var b=w;w=x}else b=x;if(b<g&&g<=w)for(x=0;x<m.length;x++){var S=m[x];0>n.indexOf(S)||b<o[S]&&o[S]<w||b===o[S]||w===o[S]||y++}else for(x=0;x<m.length;x++)S=m[x],0>n.indexOf(S)||b<o[S]&&o[S]<w&&b!==o[S]&&w!==o[S]&&y++}for(m=y,v=y=0;v<e[c].length;v++)0<=(b=n.indexOf(e[c][v]))&&(y+=(b=Math.abs(g-(b>=g?b+1:b)))<n.length+1-b?b:n.length+1-b);for(v=0;v<r.length;v++)(b=o[r[v]])>=g&&b++,(w=o[s[v]])>=g&&w++,b>w&&(x=w,w=b,b=x),w-b<(n.length+2)/2==(b<g&&g<=w)&&y++;(m<h||m===h&&y<d)&&(h=m,d=y,u=g)}for(n.splice(u,0,c),h=0;h<n.length;h++)o[n[h]]=h;for(h=0;h<e[c].length;h++)d=e[c][h],0<=n.indexOf(d)&&(r.push(c),s.push(d))}l++}}for(r=n.length;;){for(o=!0,s=0;s<i.length;s++)if(c=e[l=i[s]][0],0<=(h=n.indexOf(c))){for(u=d=0;u<e[c].length;u++)0>(f=n.indexOf(e[c][u]))||f===h||(d+=f<h!=(p=f>h?f-h:h-f)>r-p?1:-1);n.splice(0>d?h:h+1,0,l),i.splice(s,1),s--}else o=!1;if(o)break;n.push(i[0]),i.splice(0,1)}for(e=0;e<n.length;e++)a.add(t.K(n[e]));return a},u.Object.defineProperties(Ef.prototype,{radius:{get:function(){return this.In},set:function(t){this.In!==t&&(0<t||isNaN(t))&&(this.In=t,this.D())}},aspectRatio:{get:function(){return this.km},set:function(t){this.km!==t&&0<t&&(this.km=t,this.D())}},startAngle:{get:function(){return this.Un},set:function(t){this.Un!==t&&(this.Un=t,this.D())}},sweepAngle:{get:function(){return this.il},set:function(t){this.il!==t&&(this.il=0<t&&360>=t?t:360,this.D())}},arrangement:{get:function(){return this.Nb},set:function(t){this.Nb===t||t!==Uf&&t!==Hf&&t!==Vf&&t!==Gf||(this.Nb=t,this.D())}},direction:{get:function(){return this.L},set:function(t){this.L===t||t!==Wf&&t!==qf&&t!==Yf&&t!==Xf||(this.L=t,this.D())}},sorting:{get:function(){return this.fd},set:function(t){this.fd===t||t!==Kf&&t!==Zf&&t!==$f&&!Jf&&t!==Qf||(this.fd=t,this.D())}},comparer:{get:function(){return this.Zc},set:function(t){this.Zc!==t&&(this.Zc=t,this.D())}},spacing:{get:function(){return this.gf},set:function(t){this.gf!==t&&(this.gf=t,this.D())}},nodeDiameterFormula:{get:function(){return this.un},set:function(t){this.un===t||t!==tp&&t!==ep||(this.un=t,this.D())}},actualXRadius:{get:function(){return this.hc}},actualYRadius:{get:function(){return this.ee}},actualSpacing:{get:function(){return this.Ni}},actualCenter:{get:function(){return this.Dv}}});var Hf=new H(Ef,"ConstantSpacing",0),Vf=new H(Ef,"ConstantDistance",1),Gf=new H(Ef,"ConstantAngle",2),Uf=new H(Ef,"Packed",3),Wf=new H(Ef,"Clockwise",4),qf=new H(Ef,"Counterclockwise",5),Yf=new H(Ef,"BidirectionalLeft",6),Xf=new H(Ef,"BidirectionalRight",7),Kf=new H(Ef,"Forwards",8),Zf=new H(Ef,"Reverse",9),$f=new H(Ef,"Ascending",10),Jf=new H(Ef,"Descending",11),Qf=new H(Ef,"Optimized",12),tp=new H(Ef,"Pythagorean",13),ep=new H(Ef,"Circular",14);function np(){this.wl=-1/0,this.cm=this.ak=null}function ip(t){su.call(this,t)}function ap(t){uu.call(this,t),this.u=this.Mi=NaN}function op(t,e){var n=t.network;if(null===n)return NaN;if(null===(n=n.layout))return NaN;if(n.arrangement===Uf)if(n.nodeDiameterFormula===ep)t.Mi=Math.max(t.width,t.height);else{if(n=Math.abs(Math.sin(e)),e=Math.abs(Math.cos(e)),0===n)return t.width;if(0===e)return t.height;t.Mi=Math.min(t.height/n,t.width/e)}else t.Mi=n.nodeDiameterFormula===ep?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.Mi}function rp(t){pu.call(this,t)}function sp(t){Yd.call(this),this.Sg=null,this.gn=0,this.Td=new Et(100,100).freeze(),this.jm=!1,this.ff=!0,this.od=!1,this.Sk=100,this.Im=1,this.Pf=1e3,this.pn=10,this.Jn=Math,this.uk=.05,this.tk=50,this.rk=150,this.sk=0,this.Dm=10,this.Cm=5,t&&Object.assign(this,t)}function lp(t,e,n){if(function(t,e){if(10<e||3>t.network.vertexes.count)return!1;for(t.Sg=t.network.vertexes.Ea(),(t=t.Sg).sort((function(t,e){return null===t||null===e||t===e?0:e.Nd-t.Nd})),e=t.length-1;0<=e&&1>=t[e].Nd;)e--;return 1<t.length-e}(t,e)){var i=t.Pf;t.Pf*=1+1/(e+1);var a=function(t,e){for(var n=t.network,i=new gp(t),a=0;a<t.Sg.length;a++){var o=t.Sg[a];if(!(1<o.Nd))break;i.fg(o);var r=new pp;r.ts=o.Nd,r.us=o.width,r.ss=o.height,r.wv=o.focus.x,r.xv=o.focus.y,null===o.Ke&&(o.Ke=new $),o.Ke.add(r),o.$u=o.Ke.count-1}for(o=n.edges.iterator;o.next();){var s=o.value;a=s.fromVertex,r=s.toVertex,a.network===i&&r.network===i?i.nl(s):a.network===i?(null===(s=a.Bj)&&(s=new $,a.Bj=s),s.add(r),a.Nd--,a.hh+=r.hh):r.network===i&&(null===(s=r.Bj)&&(s=new $,r.Bj=s),s.add(a),r.Nd--,r.hh+=a.hh)}for(a=i.edges.iterator;a.next();)(o=a.value).length*=Math.max(1,Ue.sqrt((o.fromVertex.hh+o.toVertex.hh)/(4*e+1)));for(e=i.vertexes.iterator;e.next();){var l=(a=e.value).Bj;if(null!==l&&0<l.count&&!(0>=(r=a.Ke.K(a.Ke.count-1).ts-a.Nd))){for(var c=s=0,h=l.count-r;h<l.count;h++){var d=l.K(h),u=null;for(o=d.edges.iterator;o.next();){var f=o.value;if(f.bx(d)===a){u=f;break}}null!==u&&(c+=u.length,s+=d.width*d.height)}o=a.centerX,l=a.centerY,h=a.width,d=a.height,u=a.focus,1>(f=h*d)&&(f=1),s=Ue.sqrt((s+f+c*c*4/(r*r))/f),r=(s-1)*h/2,s=(s-1)*d/2,a.bounds=new jt(o-u.x-r,l-u.y-s,h+2*r,d+2*s),a.focus=new gt(u.x+r,u.y+s)}}return t.network=i,n}(t,e),o=Math.max(0,Math.max(Math.min(t.network.vertexes.count,n*(e+1)/11),10));for(t.maxIterations+=o,lp(t,e+1,n),up(t,o),function(t,e){for(var n=t.network.vertexes.iterator;n.next();){var i=n.value;if(i.network=e,null!==i.Ke){var a=i.Ke.K(i.$u);i.Nd=a.ts;var o=a.wv,r=a.xv;i.bounds=new jt(i.centerX-o,i.centerY-r,a.us,a.ss),i.focus=new gt(o,r),i.$u--}}for(n=t.network.edges.iterator;n.next();)n.value.network=e;t.network=e}(t,a),(e=a.vertexes.Ea()).sort((function(t,e){return null===t||null===e||t===e?0:e.Nd-t.Nd})),n=0;n<e.length;n++)cp(t,e[n]);t.Pf=i}}function cp(t,e){var n=e.Bj;if(null!==n&&0!==n.count){var i=e.centerX,a=e.centerY,o=e.width,r=e.height;null!==e.Ke&&0<e.Ke.count&&(o=(r=e.Ke.K(0)).us,r=r.ss),o=Ue.sqrt(o*o+r*r)/2;for(var s=!1,l=r=0,c=0,h=e.vertexes.iterator;h.next();){var d=h.value;1>=d.Nd?l++:(s=!0,c++,r+=Math.atan2(e.centerY-d.centerY,e.centerX-d.centerX))}if(0!==l)for(0<c&&(r/=c),c=e=0,e=s?2*Math.PI/(l+1):2*Math.PI/l,0==l%2&&(c=e/2),1<n.count&&n.sort((function(t,e){return null===t||null===e||t===e?0:e.width*e.height-t.width*t.height})),s=0==l%2?0:1,n=n.iterator;n.next();)if(!(1<(l=n.value).Nd||t.isFixed(l))){for(h=null,d=l.edges.iterator;d.next();){h=d.value;break}d=l.width;var u=l.height;d=Ue.sqrt(d*d+u*u)/2,h=o+h.length+d,d=r+(e*(s/2>>1)+c)*(0==s%2?1:-1),l.centerX=i+h*Math.cos(d),l.centerY=a+h*Math.sin(d),s++}}}function hp(t,e,n,i,a,o,r){var s=9e19,l=-1,c=0;t:for(;c<e;c++){var h=t[c],d=h.x-n,u=h.y-i;if((d=d*d+u*u)<s){for(u=c-1;0<=u;u--)if(t[u].y>h.y&&t[u].x-h.x<a+r.width)continue t;for(u=c+1;u<e;u++)if(t[u].x>h.x&&t[u].y-h.y<o+r.height)continue t;l=c,s=d}}return l}function dp(t,e){var n=t.bounds,i=n.x;t=n.y;var a=n.width;n=n.height;var o=e.bounds,r=o.x;e=o.y;var s=o.width;return o=o.height,i+a<r?t>e+o?(n=i+a-r,t=t-e-o,Ue.sqrt(n*n+t*t)):t+n<e?(i=i+a-r,t=t+n-e,Ue.sqrt(i*i+t*t)):r-(i+a):i>r+s?t>e+o?(n=i-r-s,t=t-e-o,Ue.sqrt(n*n+t*t)):t+n<e?(i=i-r-s,t=t+n-e,Ue.sqrt(i*i+t*t)):i-(r+s):t>e+o?t-(e+o):t+n<e?e-(t+n):.1}function up(t,e){for(t.Sg=null,e=t.gn+e;t.gn<e&&(t.gn++,fp(t)););t.Sg=null}function fp(t){null===t.Sg&&(t.Sg=t.network.vertexes.Ea());var e=t.Sg;if(0>=e.length)return!1;var n=e[0];n.forceX=0,n.forceY=0;for(var i=n.centerX,a=i,o=n=n.centerY,r=1;r<e.length;r++){var s=e[r];s.forceX=0,s.forceY=0;var l=s.centerX;s=s.centerY,i=Math.min(i,l),a=Math.max(a,l),n=Math.min(n,s),o=Math.max(o,s)}(a=a-i>o-n)?e.sort((function(t,e){return null===t||null===e||t===e?0:t.centerX-e.centerX})):e.sort((function(t,e){return null===t||null===e||t===e?0:t.centerY-e.centerY})),n=t.Pf;var c=i=s=0;for(o=0;o<e.length;o++){i=(r=e[o]).bounds,s=r.focus,l=i.x+s.x;var h=i.y+s.y;i=r.charge*t.electricalFieldX(l,h),c=r.charge*t.electricalFieldY(l,h),i+=r.mass*t.gravitationalFieldX(l,h),c+=r.mass*t.gravitationalFieldY(l,h),r.forceX+=i,r.forceY+=c;for(var d=o+1;d<e.length;d++){var u=e[d];if(u!==r){i=u.bounds,s=u.focus,c=i.x+s.x;var f=i.y+s.y;if(l-c>n||c-l>n){if(a)break}else if(h-f>n||f-h>n){if(!a)break}else{var p=dp(r,u);1>p?(null===(i=t.randomNumberGenerator)&&(t.randomNumberGenerator=i=new vp),p=i.random(),s=i.random(),l>c?i=(1+(i=Math.abs(u.bounds.right-r.bounds.x)))*p:l<c?i=-(1+(i=Math.abs(u.bounds.x-r.bounds.right)))*p:i=(1+(i=Math.max(u.width,r.width)))*p-i/2,h>f?c=(1+(c=Math.abs(u.bounds.bottom-r.bounds.y)))*s:l<c?c=-(1+(c=Math.abs(u.bounds.y-r.bounds.bottom)))*s:c=(1+(c=Math.max(u.height,r.height)))*s-c/2):(i=(c-l)/p*(s=-r.charge*u.charge/(p*p)),c=(f-h)/p*s),r.forceX+=i,r.forceY+=c,u.forceX-=i,u.forceY-=c}}}}for(a=t.network.edges.iterator;a.next();)n=(s=a.value).fromVertex,o=s.toVertex,r=n.bounds,l=n.focus,i=r.x+l.x,r=r.y+l.y,h=o.bounds,d=o.focus,l=h.x+d.x,h=h.y+d.y,1>(d=dp(n,o))?(null===(d=t.randomNumberGenerator)&&(t.randomNumberGenerator=d=new vp),s=d.random(),d=d.random(),i=(i>l?1:-1)*(1+(o.width>n.width?o.width:n.width))*s,c=(r>h?1:-1)*(1+(o.height>n.height?o.height:n.height))*d):(i=(l-i)/d*(s=s.stiffness*(d-s.length)),c=(h-r)/d*s),n.forceX+=i,n.forceY+=c,o.forceX-=i,o.forceY-=c;for(a=i=0;a<e.length;a++)n=e[a],t.isFixed(n)?t.moveFixedVertex(n):i=Math.max(i,t.moveVertex(n)||0);return i>t.epsilonDistance*t.epsilonDistance}function pp(){this.xv=this.wv=this.ss=this.us=this.ts=0}function gp(t){su.call(this,t)}function mp(t){uu.call(this,t),this.ga=!1,this.Ga=this.u=NaN,this.hh=this.Nd=this.W=this.F=0,this.Ke=this.Bj=null,this.$u=0}function yp(t){pu.call(this,t),this.j=this.m=NaN}function vp(){var t=0;void 0===t&&(t=42),this.seed=t,this.Kx=48271,this.Mx=2147483647,this.Q=44488.07041494893,this.Nx=3399,this.Lx=1/2147483647,this.random()}function wp(t){Yd.call(this),this.gc=this.be=25,this.L=0,this.qk=Jp,this.Nk=eg,this.Ek=ag,this.Xi=4,this.dk=lg,this.Tf=15,this.ff=!0,this.jn=4,this.Ja=this.Dh=this.wa=-1,this.zc=this.Bg=0,this.Qa=this.Bd=this.Cd=this.ae=this.Hb=null,this.Cg=0,this.qn=this.fj=null,this.Lc=0,this.rn=null,this.Yc=new gt,this.we=[],this.we.length=100,t&&Object.assign(this,t)}function xp(t){var e=t.fromVertex.node||t.fromVertex.data;return t=t.toVertex.node||t.toVertex.data,null===e&&null===t?8:null===e||null===t?4:1}function bp(t){null===t.fj&&(t.fj=[]);for(var e=0,n=t.network.vertexes.iterator;n.next();){var i=n.value;t.fj[e]=i.layer,e++,t.fj[e]=i.column,e++,t.fj[e]=i.index,e++}return t.fj}function Sp(t,e){var n=0;for(t=t.network.vertexes.iterator;t.next();){var i=t.value;i.layer=e[n],n++,i.column=e[n],n++,i.index=e[n],n++}}function kp(t,e,n){var i=Zp(t,e),a=t.Hb[e];(null===t.qn||t.qn.length<a*a)&&(t.qn=[]);for(var o=t.qn,r=0;r<a;r++){var s,l=0,c=i[r],h=c.near;if(null!==h&&h.layer===c.layer)if((c=h.index)>r)for(var d=r+1;d<c;d++){var u=i[d];u.near===h&&u.nf===h.nf||l++}else for(d=r-1;d>c;d--)(u=i[d]).near===h&&u.nf===h.nf||l++;if(0<=n)for(c=i[r].sourceEdgesArrayAccess,h=0;h<c.length;h++){var f=c[h];if(f.valid&&f.fromVertex.layer!==e)for(u=f.fromVertex.index,d=f.portToPos,f=f.portFromPos,s=h+1;s<c.length;s++){var p=c[s];if(p.valid&&p.fromVertex.layer!==e){var g=p.fromVertex.index,m=p.portToPos;p=p.portFromPos,d<m&&(u>g||u===g&&f>p)&&l++,m<d&&(g>u||g===u&&p>f)&&l++}}}if(0>=n)for(c=i[r].destinationEdgesArrayAccess,h=0;h<c.length;h++)if((f=c[h]).valid&&f.toVertex.layer!==e)for(u=f.toVertex.index,d=f.portToPos,f=f.portFromPos,s=h+1;s<c.length;s++)(p=c[s]).valid&&p.toVertex.layer!==e&&(g=p.toVertex.index,m=p.portToPos,f<(p=p.portFromPos)&&(u>g||u===g&&d>m)&&l++,p<f&&(g>u||g===u&&m>d)&&l++);for(o[r*a+r]=l,c=r+1;c<a;c++){var y=0,v=0;if(0<=n){l=i[r].sourceEdgesArrayAccess;var w=i[c].sourceEdgesArrayAccess;for(h=0;h<l.length;h++)if((f=l[h]).valid&&f.fromVertex.layer!==e)for(u=f.fromVertex.index,f=f.portFromPos,s=0;s<w.length;s++)(p=w[s]).valid&&p.fromVertex.layer!==e&&(g=p.fromVertex.index,p=p.portFromPos,(u<g||u===g&&f<p)&&v++,(g<u||g===u&&p<f)&&y++)}if(0>=n)for(l=i[r].destinationEdgesArrayAccess,w=i[c].destinationEdgesArrayAccess,h=0;h<l.length;h++)if((f=l[h]).valid&&f.toVertex.layer!==e)for(u=f.toVertex.index,d=f.portToPos,s=0;s<w.length;s++)(p=w[s]).valid&&p.toVertex.layer!==e&&(g=p.toVertex.index,m=p.portToPos,(u<g||u===g&&d<m)&&v++,(g<u||g===u&&m<d)&&y++);o[r*a+c]=y,o[c*a+r]=v}}return $p(t,e,i),o}function Pp(t){for(var e=0,n=0;n<=t.wa;n++){for(var i=t,a=n,o=Zp(i,a),r=i.Hb[a],s=0,l=0;l<r;l++){var c=o[l].destinationEdgesArrayAccess;if(null!==c)for(var h=0;h<c.length;h++){var d=c[h];if(d.valid&&d.toVertex.layer!==a){var u=d.fromVertex.column+d.portFromColOffset,f=d.toVertex.column+d.portToColOffset;s+=(Math.abs(u-f)+1)*xp(d)}}}$p(i,a,o),e+=s}return e}function Mp(t,e,n){for(var i=Zp(t,e),a=t.Hb[e],o=[],r=0;r<a;r++){var s=i[r],l=null;0>=n&&(l=s.sourceEdgesArrayAccess);var c=null;0<=n&&(c=s.destinationEdgesArrayAccess);var h=0,d=0,u=s.near;if(null!==u&&u.layer===s.layer&&(h+=u.column-1,d++),null!==l)for(u=0;u<l.length;u++){var f=(s=l[u]).fromVertex;s.valid&&!s.rev&&f.layer!==e&&(h+=f.column,d++)}if(null!==c)for(l=0;l<c.length;l++)u=(s=c[l]).toVertex,s.valid&&!s.rev&&u.layer!==e&&(h+=u.column,d++);o[r]=0===d?-1:h/d}return $p(t,e,i),o}function _p(t,e,n){for(var i=Zp(t,e),a=t.Hb[e],o=[],r=0;r<a;r++){var s=i[r],l=null;0>=n&&(l=s.sourceEdgesArrayAccess);var c=null;0<=n&&(c=s.destinationEdgesArrayAccess);var h=0,d=[],u=s.near;if(null!==u&&u.layer===s.layer&&(d[h]=u.column-1,h++),s=void 0,null!==l)for(u=0;u<l.length;u++){var f=(s=l[u]).fromVertex;s.valid&&!s.rev&&f.layer!==e&&(d[h]=f.column+s.portFromColOffset,h++)}if(null!==c)for(l=0;l<c.length;l++)u=(s=c[l]).toVertex,s.valid&&!s.rev&&u.layer!==e&&(d[h]=u.column+s.portToColOffset,h++);0===h?o[r]=-1:(d.sort((function(t,e){return t-e})),c=h>>1,o[r]=0!=(1&h)?d[c]:d[c-1]+d[c]>>1)}return $p(t,e,i),o}function Lp(t,e,n,i,a,o){if(e.component===i){if(e.component=n,a)for(var r=e.destinationEdges;r.next();){var s=r.value,l=s.toVertex,c=e.layer-l.layer;c===(s=t.linkMinLength(s))&&Lp(t,l,n,i,a,o)}if(o)for(r=e.sourceEdges;r.next();)(c=(l=(s=r.value).fromVertex).layer-e.layer)===(s=t.linkMinLength(s))&&Lp(t,l,n,i,a,o)}}function Tp(t,e,n,i,a,o){if(e.component===i){if(e.component=n,a)for(var r=e.destinationEdges;r.next();)Tp(t,r.value.toVertex,n,i,a,o);if(o)for(e=e.sourceEdges;e.next();)Tp(t,e.value.fromVertex,n,i,a,o)}}function Op(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid)return e}return null}function Ap(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var n=!0,i=e.destinationEdges;i.next();)if(i.value.toVertex.valid){n=!1;break}if(n)return e}}return null}function Ep(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var n=!0,i=e.sourceEdges;i.next();)if(i.value.fromVertex.valid){n=!1;break}if(n)return e}}return null}function Cp(t,e){e.gg=t.Cg,t.Cg++;for(var n=e.destinationEdges;n.next();){var i=n.value,a=i.toVertex;-1===a.gg&&(i.forest=!0,Cp(t,a))}e.finish=t.Cg,t.Cg++}function Np(t){for(var e=t.network.vertexes.iterator;e.next();){var n=Bp(t,e.value);t.wa=Math.max(n,t.wa)}}function Bp(t,e){var n=0;if(-1===e.layer){for(var i=e.destinationEdges;i.next();){var a=i.value,o=a.toVertex;a=t.linkMinLength(a),n=Math.max(n,Bp(t,o)+a)}e.layer=n}else n=e.layer;return n}function jp(t,e){var n=0;if(-1===e.layer){for(var i=e.sourceEdges;i.next();){var a=i.value,o=a.fromVertex;a=t.linkMinLength(a),n=Math.max(n,jp(t,o)+a)}e.layer=n}else n=e.layer;return n}function Dp(t,e){if(!e.valid){e.valid=!0;for(var n=e.destinationEdges;n.next();)Dp(t,n.value.toVertex);for(n=t.network.vertexes.iterator;n.next();)n.value.component=-1;for(var i=e.sourceEdgesArrayAccess,a=i.length,o=0;o<a;o++){var r=i[o],s=r.fromVertex,l=r.toVertex;r=t.linkMinLength(r),s.layer-l.layer>r&&Lp(t,s,0,-1,!0,!1)}for(Lp(t,e,1,-1,!0,!0);0!==e.component;){for(o=0,i=1/0,s=0,l=null,r=t.network.vertexes.iterator;r.next();){var c=r.value;if(1===c.component){var h=0,d=!1,u=c.sourceEdgesArrayAccess;a=u.length;for(var f=0;f<a;f++){var p=u[f],g=p.fromVertex;h+=1,1!==g.component&&(o+=1,g=g.layer-c.layer,p=t.linkMinLength(p),i=Math.min(i,g-p))}for(a=(u=c.destinationEdgesArrayAccess).length,f=0;f<a;f++)--h,1!==(p=u[f].toVertex).component?--o:d=!0;(null===l||h<s)&&!d&&(l=c,s=h)}}if(0<o){for(n.reset();n.next();)1===(a=n.value).component&&(a.layer+=i);e.component=0}else l.component=0}for(n=t.network.vertexes.iterator;n.next();)n.value.component=-1;for(Lp(t,e,1,-1,!0,!1);0!==e.component;){for(i=0,a=1/0,o=0,s=null,l=t.network.vertexes.iterator;l.next();)if(1===(r=l.value).component){for(c=0,h=!1,d=(u=r.sourceEdgesArrayAccess).length,f=0;f<d;f++)c+=1,1!==(p=u[f].fromVertex).component?i+=1:h=!0;for(d=(u=r.destinationEdgesArrayAccess).length,f=0;f<d;f++)--c,1!==(g=(p=u[f]).toVertex).component&&(--i,g=r.layer-g.layer,p=t.linkMinLength(p),a=Math.min(a,g-p));(null===s||c>o)&&!h&&(s=r,o=c)}if(0>i){for(n.reset();n.next();)1===(i=n.value).component&&(i.layer-=a);e.component=0}else s.component=0}}}function Fp(t,e,n){return 90===t.L?n&&!e.rev||!n&&e.rev?270:90:180===t.L?n&&!e.rev||!n&&e.rev?0:180:270===t.L?n&&!e.rev||!n&&e.rev?90:270:n&&!e.rev||!n&&e.rev?180:0}function Rp(t,e){var n=e.layer;for(e.index=t.Hb[n],t.Hb[n]++,e=e.destinationEdgesArrayAccess,n=!0;n;){n=!1;for(var i=0;i<e.length-1;i++){var a=e[i],o=e[i+1];a.portFromColOffset>o.portFromColOffset&&(n=!0,e[i]=o,e[i+1]=a)}}for(n=0;n<e.length;n++)(i=e[n]).valid&&(-1===(i=i.toVertex).index&&Rp(t,i))}function Ip(t,e){var n=e.layer;e.index=t.Hb[n],t.Hb[n]++,e=e.sourceEdgesArrayAccess;for(var i=!0;i;)for(i=!1,n=0;n<e.length-1;n++){var a=e[n],o=e[n+1];a.portToColOffset>o.portToColOffset&&(i=!0,e[n]=o,e[n+1]=a)}for(n=0;n<e.length;n++)(i=e[n]).valid&&(-1===(i=i.fromVertex).index&&Ip(t,i))}function zp(t,e,n){var i=Zp(t,e),a=t.Hb[e],o=_p(t,e,n),r=Mp(t,e,n);for(n=0;n<a;n++)-1===r[n]&&(r[n]=i[n].column),-1===o[n]&&(o[n]=i[n].column);for(var s,l=!0;l;)for(l=!1,n=0;n<a-1;n++)(o[n+1]<o[n]||o[n+1]===o[n]&&r[n+1]<r[n])&&(l=!0,s=o[n],o[n]=o[n+1],o[n+1]=s,s=r[n],r[n]=r[n+1],r[n+1]=s,s=i[n],i[n]=i[n+1],i[n+1]=s);for(n=o=0;n<a;n++)(s=i[n]).index=n,o+=t.nodeMinColumnSpace(s,!0),s.column=o,o+=1,o+=t.nodeMinColumnSpace(s,!1);$p(t,e,i)}function Hp(t,e,n){var i,a=Zp(t,e),o=t.Hb[e];n=kp(t,e,n);var r=[];for(i=0;i<o;i++)r[i]=-1;var s=[];for(i=0;i<o;i++)s[i]=-1;for(var l=!1,c=!0;c;)for(c=!1,i=0;i<o-1;i++){var h=n[a[i].index*o+a[i+1].index],d=n[a[i+1].index*o+a[i].index],u=0,f=0,p=a[i].column,g=a[i+1].column,m=t.nodeMinColumnSpace(a[i],!0),y=t.nodeMinColumnSpace(a[i],!1),v=t.nodeMinColumnSpace(a[i+1],!0),w=t.nodeMinColumnSpace(a[i+1],!1);m=p-m+v,y=g-y+w;var x=a[i].sourceEdges.iterator;for(x.reset();x.next();)if(w=(v=x.value).fromVertex,v.valid&&w.layer===e){for(v=0;a[v]!==w;)v++;v<i&&(u+=2*(i-v),f+=2*(i+1-v)),v===i+1&&(u+=1),v>i+1&&(u+=4*(v-i),f+=4*(v-(i+1)))}for((x=a[i].destinationEdges.iterator).reset();x.next();)if(w=(v=x.value).toVertex,v.valid&&w.layer===e){for(v=0;a[v]!==w;)v++;v===i+1&&(f+=1)}for((x=a[i+1].sourceEdges.iterator).reset();x.next();)if(w=(v=x.value).fromVertex,v.valid&&w.layer===e){for(v=0;a[v]!==w;)v++;v<i&&(u+=2*(i+1-v),f+=2*(i-v)),v===i&&(f+=1),v>i+1&&(u+=4*(v-(i+1)),f+=4*(v-i))}for((x=a[i+1].destinationEdges.iterator).reset();x.next();)if(w=(v=x.value).toVertex,v.valid&&w.layer===e){for(v=0;a[v]!==w;)v++;v===i&&(u+=1)}v=w=0,x=r[a[i].index];var b=s[a[i].index],S=r[a[i+1].index],k=s[a[i+1].index];-1!==x&&(w+=Math.abs(x-p),v+=Math.abs(x-y)),-1!==b&&(w+=Math.abs(b-p),v+=Math.abs(b-y)),-1!==S&&(w+=Math.abs(S-g),v+=Math.abs(S-m)),-1!==k&&(w+=Math.abs(k-g),v+=Math.abs(k-m)),(f<u-.5||f===u&&d<h-.5||f===u&&d===h&&v<w-.5)&&(c=l=!0,a[i].column=y,a[i+1].column=m,h=a[i],a[i]=a[i+1],a[i+1]=h)}for(i=0;i<o;i++)a[i].index=i;return $p(t,e,a),l}function Vp(t,e,n){for(var i=!1;Gp(t,e,n);)i=!0;return i}function Gp(t,e,n){var i,a=Zp(t,e),o=t.Hb[e],r=Mp(t,e,-1);if(0<n)for(i=0;i<o;i++)r[i]=-1;var s=Mp(t,e,1);if(0>n)for(i=0;i<o;i++)s[i]=-1;for(var l=!1,c=!0;c;)for(c=!1,i=0;i<o;i++){var h=a[i].column,d=t.nodeMinColumnSpace(a[i],!0),u=t.nodeMinColumnSpace(a[i],!1),f=0;f=0>i-1||h-a[i-1].column-1>d+t.nodeMinColumnSpace(a[i-1],!1)?h-1:h,d=i+1>=o||a[i+1].column-h-1>u+t.nodeMinColumnSpace(a[i+1],!0)?h+1:h;var p=u=0,g=0;if(0>=n)for(var m=a[i].sourceEdges.iterator;m.next();){var y=m.value,v=y.fromVertex;if(y.valid&&v.layer!==e){var w=xp(y),x=y.portFromColOffset;y=y.portToColOffset,v=v.column,u+=(Math.abs(h+y-(v+x))+1)*w,p+=(Math.abs(f+y-(v+x))+1)*w,g+=(Math.abs(d+y-(v+x))+1)*w}}if(0<=n)for(m=a[i].destinationEdges.iterator;m.next();)v=(y=m.value).toVertex,y.valid&&v.layer!==e&&(w=xp(y),x=y.portFromColOffset,y=y.portToColOffset,v=v.column,u+=(Math.abs(h+x-(v+y))+1)*w,p+=(Math.abs(f+x-(v+y))+1)*w,g+=(Math.abs(d+x-(v+y))+1)*w);y=x=w=0,m=r[a[i].index],v=s[a[i].index],-1!==m&&(w+=Math.abs(m-h),x+=Math.abs(m-f),y+=Math.abs(m-d)),-1!==v&&(w+=Math.abs(v-h),x+=Math.abs(v-f),y+=Math.abs(v-d)),p<u||p===u&&x<w?(c=l=!0,a[i].column=f):(g<u||g===u&&y<w)&&(c=l=!0,a[i].column=d)}return $p(t,e,a),t.normalize(),l}function Up(t,e,n){var i=Zp(t,e),a=t.Hb[e],o=_p(t,e,n),r=[];for(n=0;n<a;n++)r[n]=o[n];for(o=!0;o;)for(o=!1,n=0;n<a;n++){var s=i[n].column,l=t.nodeMinColumnSpace(i[n],!0),c=t.nodeMinColumnSpace(i[n],!1),h=0;if(-1===r[n])if(0===n&&n===a-1)h=s;else if(0===n){var d=i[n+1].column;h=d-s===c+t.nodeMinColumnSpace(i[n+1],!0)?s-1:s}else n===a-1?h=s-(d=i[n-1].column)===l+t.nodeMinColumnSpace(i[n-1],!1)?s+1:s:h=((l=(d=i[n-1].column)+t.nodeMinColumnSpace(i[n-1],!1)+l+1)+(c=(d=i[n+1].column)-t.nodeMinColumnSpace(i[n+1],!0)-c-1))/2|0;else 0===n&&n===a-1?h=r[n]:0===n?(c=(d=i[n+1].column)-t.nodeMinColumnSpace(i[n+1],!0)-c-1,h=Math.min(r[n],c)):n===a-1?(l=(d=i[n-1].column)+t.nodeMinColumnSpace(i[n-1],!1)+l+1,h=Math.max(r[n],l)):(l=(d=i[n-1].column)+t.nodeMinColumnSpace(i[n-1],!1)+l+1,c=(d=i[n+1].column)-t.nodeMinColumnSpace(i[n+1],!0)-c-1,l<r[n]&&r[n]<c?h=r[n]:l>=r[n]?h=l:c<=r[n]&&(h=c));h!==s&&(o=!0,i[n].column=h)}$p(t,e,i),t.normalize()}function Wp(t,e){for(var n=!0,i=t.network.vertexes.iterator;i.next();){var a=i.value,o=t.nodeMinColumnSpace(a,!0),r=t.nodeMinColumnSpace(a,!1);if(a.column-o<=e&&a.column+r>=e){n=!1;break}}if(t=!1,n)for(i.reset();i.next();)(n=i.value).column>e&&(--n.column,t=!0);return t}function qp(t,e){var n,i=e+1,a=[],o=[];for(n=0;n<=t.wa;n++)a[n]=!1,o[n]=!1;for(var r=t.network.vertexes.iterator;r.next();){var s=(n=r.value).column-t.nodeMinColumnSpace(n,!0),l=n.column+t.nodeMinColumnSpace(n,!1);s<=e&&l>=e&&(a[n.layer]=!0),s<=i&&l>=i&&(o[n.layer]=!0)}for(s=!0,i=!1,n=0;n<=t.wa;n++)s=s&&!(a[n]&&o[n]);if(s)for(r.reset();r.next();)(t=r.value).column>e&&(--t.column,i=!0);return i}function Yp(t,e){for(var n=0;n<=t.Ja;n++)for(;Wp(t,n););for(t.normalize(),n=0;n<t.Ja;n++)for(;qp(t,n););var i;if(t.normalize(),0<e)for(n=0;n<=t.Ja;n++){var a=bp(t),o=Pp(t);for(i=o+1;o<i;){i=o,Xp(t,n,1);var r=Pp(t);r>o?Sp(t,a):r<o&&(o=r,a=bp(t))}}if(0>e)for(n=t.Ja;0<=n;n--)for(a=bp(t),i=(o=Pp(t))+1;o<i;)i=o,Xp(t,n,-1),(r=Pp(t))>o?Sp(t,a):r<o&&(o=r,a=bp(t));t.normalize()}function Xp(t,e,n){t.Lc=0;for(var i=t.network.vertexes.iterator;i.next();)i.value.component=-1;if(0<n)for(i.reset();i.next();){var a=i.value;a.column-t.nodeMinColumnSpace(a,!0)<=e&&(a.component=t.Lc)}if(0>n)for(i.reset();i.next();)(a=i.value).column+t.nodeMinColumnSpace(a,!1)>=e&&(a.component=t.Lc);for(t.Lc++,i.reset();i.next();)-1===(e=i.value).component&&(Tp(t,e,t.Lc,-1,!0,!0),t.Lc++);var o;for(e=[],o=0;o<t.Lc*t.Lc;o++)e[o]=!1;for(a=[],o=0;o<(t.wa+1)*(t.Ja+1);o++)a[o]=-1;for(i.reset();i.next();)for(var r=(o=i.value).layer,s=Math.max(0,o.column-t.nodeMinColumnSpace(o,!0)),l=Math.min(t.Ja,o.column+t.nodeMinColumnSpace(o,!1));s<=l;s++)a[r*(t.Ja+1)+s]=o.component;for(o=0;o<=t.wa;o++){if(0<n)for(r=0;r<t.Ja;r++)-1!==a[o*(t.Ja+1)+r]&&-1!==a[o*(t.Ja+1)+r+1]&&a[o*(t.Ja+1)+r]!==a[o*(t.Ja+1)+r+1]&&(e[a[o*(t.Ja+1)+r]*t.Lc+a[o*(t.Ja+1)+r+1]]=!0);if(0>n)for(r=t.Ja;0<r;r--)-1!==a[o*(t.Ja+1)+r]&&-1!==a[o*(t.Ja+1)+r-1]&&a[o*(t.Ja+1)+r]!==a[o*(t.Ja+1)+r-1]&&(e[a[o*(t.Ja+1)+r]*t.Lc+a[o*(t.Ja+1)+r-1]]=!0)}for(a=[],o=0;o<t.Lc;o++)a[o]=!0;for((r=[]).push(0);0!==r.length;)if(l=r[r.length-1],r.pop(),a[l])for(a[l]=!1,o=0;o<t.Lc;o++)e[l*t.Lc+o]&&r.splice(0,0,o);if(0<n)for(i.reset();i.next();)a[(t=i.value).component]&&--t.column;if(0>n)for(i.reset();i.next();)a[(n=i.value).component]&&(n.column+=1)}function Kp(t,e){return 270===t.L?e?Ae:Ne:90===t.L?e?Ne:Ae:180===t.L?e?Ee:Ce:e?Ce:Ee}function Zp(t,e){var n=t.Hb[e];if(n>=t.we.length){for(var i=[],a=0;a<t.we.length;a++)i[a]=t.we[a];t.we=i}for(void 0===t.we[n]||null===t.we[n]?i=[]:(i=t.we[n],t.we[n]=null),t=t.rn[e],e=0;e<t.length;e++)i[(n=t[e]).index]=n;return i}function $p(t,e,n){t.we[t.Hb[e]]=n}Ef.className="CircularLayout",Ef.ConstantSpacing=Hf,Ef.ConstantDistance=Vf,Ef.ConstantAngle=Gf,Ef.Packed=Uf,Ef.Clockwise=Wf,Ef.Counterclockwise=qf,Ef.BidirectionalLeft=Yf,Ef.BidirectionalRight=Xf,Ef.Forwards=Kf,Ef.Reverse=Zf,Ef.Ascending=$f,Ef.Descending=Jf,Ef.Optimized=Qf,Ef.Pythagorean=tp,Ef.Circular=ep,np.prototype.compare=function(t,e){if(0<t&&0>this.wl||Math.abs(t)<Math.abs(this.wl)&&!(0>t&&0<this.wl))for(this.wl=t,this.ak=[],this.cm=[],t=0;t<e.length;t++)this.ak[t]=e[t].bounds.x,this.cm[t]=e[t].bounds.y},np.prototype.commit=function(t){if(null!==this.ak&&null!==this.cm)for(var e=0;e<this.ak.length;e++){var n=t.K(e);n.x=this.ak[e],n.y=this.cm[e]}},np.className="VertexArrangement",d(ip,su),ip.prototype.createVertex=function(){return new ap(this)},ip.prototype.createEdge=function(){return new rp(this)},ip.className="CircularNetwork",d(ap,uu),u.Object.defineProperties(ap.prototype,{diameter:{get:function(){return this.Mi},set:function(t){this.Mi!==t&&(this.Mi=t)}},actualAngle:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}}}),ap.className="CircularVertex",d(rp,pu),rp.className="CircularEdge",d(sp,Yd),sp.prototype.cloneProtected=function(t){Yd.prototype.cloneProtected.call(this,t),t.Td.assign(this.Td),t.jm=this.jm,t.ff=this.ff,t.od=this.od,t.Sk=this.Sk,t.Im=this.Im,t.Pf=this.Pf,t.pn=this.pn,t.Jn=this.Jn,t.uk=this.uk,t.tk=this.tk,t.rk=this.rk,t.sk=this.sk,t.Dm=this.Dm,t.Cm=this.Cm},sp.prototype.serializeLayoutProperties=function(t,e){Yd.prototype.serializeLayoutProperties.call(this,t,e),t.arrangementSpacing={width:this.arrangementSpacing.width,height:this.arrangementSpacing.height},t.arrangesToOrigin=this.arrangesToOrigin,t.setsPortSpots=this.setsPortSpots,t.comments=this.comments,t.maxIterations=this.maxIterations,t.epsilonDistance=this.epsilonDistance,t.infinityDistance=this.infinityDistance,t.moveLimit=this.moveLimit,t.defaultSpringStiffness=this.defaultSpringStiffness,t.defaultSpringLength=this.defaultSpringLength,t.defaultElectricalCharge=this.defaultElectricalCharge,t.defaultGravitationalMass=this.defaultGravitationalMass,t.defaultCommentSpringLength=this.defaultCommentSpringLength,t.defaultCommentElectricalCharge=this.defaultCommentElectricalCharge},sp.prototype.deserializeLayoutProperties=function(t,e,n,i,a){Yd.prototype.deserializeLayoutProperties.call(this,t,e,n,i,a),this.arrangementSpacing=new Et(t.arrangementSpacing.width,t.arrangementSpacing.height),this.arrangesToOrigin=t.arrangesToOrigin,this.setsPortSpots=t.setsPortSpots,this.comments=t.comments,this.maxIterations=t.maxIterations,this.epsilonDistance=t.epsilonDistance,this.infinityDistance=t.infinityDistance,this.moveLimit=t.moveLimit,this.defaultSpringStiffness=t.defaultSpringStiffness,this.defaultSpringLength=t.defaultSpringLength,this.defaultElectricalCharge=t.defaultElectricalCharge,this.defaultGravitationalMass=t.defaultGravitationalMass,this.defaultCommentSpringLength=t.defaultCommentSpringLength,this.defaultCommentElectricalCharge=t.defaultCommentElectricalCharge},sp.prototype.createNetwork=function(){return new gp(this)},sp.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),!this.qv()){if(t=this.maxIterations,0<this.network.vertexes.count){this.network.oo();for(var e=this.network.vertexes.iterator;e.next();){var n=e.value;n.charge=this.electricalCharge(n),n.mass=this.gravitationalMass(n)}for(e=this.network.edges.iterator;e.next();)(n=e.value).stiffness=this.springStiffness(n),n.length=this.springLength(n);if(this.ju(),this.gn=0,this.needsClusterLayout()){for(var i=(n=(e=this.network).Ix()).iterator;i.next();){this.network=i.value;for(var a=this.network.vertexes.iterator;a.next();){var o=a.value;o.Nd=o.vertexes.count,o.hh=1,o.Bj=null,o.Ke=null}lp(this,0,t)}this.network=e;var r=i=n.iterator;i=this.arrangementSpacing;var s=r.count,l=!0;o=a=0;for(var c=A(),h=0;h<s+e.vertexes.count+2;h++)c[h]=null;s=0,r.reset();for(var d=jt.alloc();r.next();)if(h=r.value,this.computeBounds(h,d),l)l=!1,a=d.x+d.width/2,o=d.y+d.height/2,c[0]=new gt(d.x+d.width+i.width,d.y),c[1]=new gt(d.x,d.y+d.height+i.height),s=2;else{var u=hp(c,s,a,o,d.width,d.height,i),f=c[u],p=new gt(f.x+d.width+i.width,f.y),g=new gt(f.x,f.y+d.height+i.height);for(u+1<s&&c.splice(u+1,0,null),c[u]=p,c[u+1]=g,s++,u=f.x-d.x,f=f.y-d.y,h=h.vertexes.iterator;h.next();)(p=h.value).centerX+=u,p.centerY+=f}for(jt.free(d),h=e.vertexes.iterator;h.next();)u=(r=h.value).bounds,2>s?(a=u.x+u.width/2,o=u.y+u.height/2,c[0]=new gt(u.x+u.width+i.width,u.y),c[1]=new gt(u.x,u.y+u.height+i.height),s=2):(f=new gt((d=c[l=hp(c,s,a,o,u.width,u.height,i)]).x+u.width+i.width,d.y),u=new gt(d.x,d.y+u.height+i.height),l+1<s&&c.splice(l+1,0,null),c[l]=f,c[l+1]=u,s++,r.centerX=d.x+r.width/2,r.centerY=d.y+r.height/2);for(E(c),i=n.iterator;i.next();){for(a=(n=i.value).vertexes.iterator;a.next();)e.fg(a.value);for(n=n.edges.iterator;n.next();)e.nl(n.value)}}up(this,t),this.updateParts()}this.Sk=t,this.network=null,this.isValidLayout=!0}},sp.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,n=this.network.vertexes.first().bounds,i=this.network.vertexes.iterator;i.next();){if(i.value.bounds.Sc(n)&&2<++t)return!0;if(10<e)break;e++}return!1},sp.prototype.computeBounds=function(t,e){var n=!0;for(t=t.vertexes.iterator;t.next();){var i=t.value;n?(n=!1,e.set(i.bounds)):e.Xc(i.bounds)}return e},sp.prototype.ju=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},sp.prototype.addComments=function(t){var e=t.node;if(null!==e)for(e=e.vu();e.next();){var n=e.value;if("Comment"===n.category&&n.isVisible()){var i=this.network.ei(n);null===i&&(i=this.network.yj(n)),i.charge=this.defaultCommentElectricalCharge,n=null;for(var a=i.destinationEdges;a.next();){var o=a.value;if(o.toVertex===t){n=o;break}}if(null===n)for(a=i.sourceEdges;a.next();)if((o=a.value).fromVertex===t){n=o;break}null===n&&(n=this.network.Qj(t,i,null)),n.length=this.defaultCommentSpringLength}}},sp.prototype.moveVertex=function(t){var e=t.forceX,n=t.forceY,i=this.moveLimit;return e<-i?e=-i:e>i&&(e=i),n<-i?n=-i:n>i&&(n=i),t.centerX+=e,t.centerY+=n,e*e+n*n},sp.prototype.moveFixedVertex=function(){},sp.prototype.commitLayout=function(){this.dv(),this.commitNodes(),this.isRouting&&this.commitLinks()},sp.prototype.dv=function(){if(this.setsPortSpots)for(var t=this.network.edges.iterator;t.next();){var e=t.value.link;null!==e&&(e.fromSpot=Me,e.toSpot=Me)}},sp.prototype.commitNodes=function(){var t=0,e=0;if(this.arrangesToOrigin){var n=jt.alloc();this.computeBounds(this.network,n),t=(e=this.arrangementOrigin).x-n.x,e=e.y-n.y,jt.free(n)}n=jt.alloc();for(var i=this.network.vertexes.iterator;i.next();){var a=i.value;0===t&&0===e||(n.assign(a.bounds),n.x+=t,n.y+=e,a.bounds=n),a.commit()}jt.free(n)},sp.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},sp.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.uk:t},sp.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.tk:t},sp.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.rk:t},sp.prototype.electricalFieldX=function(){return 0},sp.prototype.electricalFieldY=function(){return 0},sp.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.sk:t},sp.prototype.gravitationalFieldX=function(){return 0},sp.prototype.gravitationalFieldY=function(){return 0},sp.prototype.isFixed=function(t){return t.isFixed},u.Object.defineProperties(sp.prototype,{currentIteration:{get:function(){return this.gn}},arrangementSpacing:{get:function(){return this.Td},set:function(t){this.Td.C(t)||(this.Td.assign(t),this.D())}},arrangesToOrigin:{get:function(){return this.jm},set:function(t){this.jm!==t&&(this.jm=t,this.D())}},setsPortSpots:{get:function(){return this.ff},set:function(t){this.ff!==t&&(this.ff=t,this.D())}},comments:{get:function(){return this.od},set:function(t){this.od!==t&&(this.od=t,this.D())}},maxIterations:{get:function(){return this.Sk},set:function(t){this.Sk!==t&&0<=t&&(this.Sk=t,this.D())}},epsilonDistance:{get:function(){return this.Im},set:function(t){this.Im!==t&&0<t&&(this.Im=t,this.D())}},infinityDistance:{get:function(){return this.Pf},set:function(t){this.Pf!==t&&1<t&&(this.Pf=t,this.D())}},moveLimit:{get:function(){return this.pn},set:function(t){this.pn!==t&&1<t&&(this.pn=t,this.D())}},randomNumberGenerator:{get:function(){return this.Jn},set:function(t){this.Jn!==t&&(null!==t&&"function"!=typeof t.random&&b('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.Jn=t)}},defaultSpringStiffness:{get:function(){return this.uk},set:function(t){this.uk!==t&&(this.uk=t,this.D())}},defaultSpringLength:{get:function(){return this.tk},set:function(t){this.tk!==t&&(this.tk=t,this.D())}},defaultElectricalCharge:{get:function(){return this.rk},set:function(t){this.rk!==t&&(this.rk=t,this.D())}},defaultGravitationalMass:{get:function(){return this.sk},set:function(t){this.sk!==t&&(this.sk=t,this.D())}},defaultCommentSpringLength:{get:function(){return this.Dm},set:function(t){this.Dm!==t&&(this.Dm=t,this.D())}},defaultCommentElectricalCharge:{get:function(){return this.Cm},set:function(t){this.Cm!==t&&(this.Cm=t,this.D())}}}),sp.className="ForceDirectedLayout",pp.className="ForceDirectedSubnet",d(gp,su),gp.prototype.createVertex=function(){return new mp(this)},gp.prototype.createEdge=function(){return new yp(this)},gp.className="ForceDirectedNetwork",d(mp,uu),mp.prototype.serializeVertexProperties=function(t,e){uu.prototype.serializeVertexProperties.call(this,t,e),t.isFixed=this.isFixed,t.charge=this.charge,t.mass=this.mass},mp.prototype.deserializeVertexProperties=function(t,e,n,i){uu.prototype.deserializeVertexProperties.call(this,t,e,n,i),this.isFixed=t.isFixed,this.charge=t.charge,this.mass=t.mass},u.Object.defineProperties(mp.prototype,{isFixed:{get:function(){return this.ga},set:function(t){this.ga!==t&&(this.ga=t)}},charge:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},mass:{get:function(){return this.Ga},set:function(t){this.Ga!==t&&(this.Ga=t)}},forceX:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}},forceY:{get:function(){return this.W},set:function(t){this.W!==t&&(this.W=t)}}}),mp.className="ForceDirectedVertex",d(yp,pu),yp.prototype.serializeEdgeProperties=function(t,e){pu.prototype.serializeEdgeProperties.call(this,t,e),t.stiffness=this.stiffness,t.length=this.length},yp.prototype.deserializeEdgeProperties=function(t,e,n,i){pu.prototype.deserializeEdgeProperties.call(this,t,e,n,i),this.stiffness=t.stiffness,this.length=t.length},u.Object.defineProperties(yp.prototype,{stiffness:{get:function(){return this.m},set:function(t){this.m!==t&&(this.m=t)}},length:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}}}),yp.className="ForceDirectedEdge",vp.prototype.random=function(){var t=this.seed%this.Q*this.Kx-this.seed/this.Q*this.Nx;return this.seed=0<t?t:t+this.Mx,this.seed*this.Lx},vp.className="RandomNumberGenerator",d(wp,Yd),wp.prototype.cloneProtected=function(t){Yd.prototype.cloneProtected.call(this,t),t.be=this.be,t.gc=this.gc,t.L=this.L,t.qk=this.qk,t.Nk=this.Nk,t.Ek=this.Ek,t.Xi=this.Xi,t.dk=this.dk,t.Tf=this.Tf,t.ff=this.ff,t.jn=this.jn},wp.prototype.serializeLayoutProperties=function(t,e){Yd.prototype.serializeLayoutProperties.call(this,t,e),t.layerSpacing=this.layerSpacing,t.columnSpacing=this.columnSpacing,t.direction=this.direction,t.cycleRemoveOption=this.cycleRemoveOption.name,t.layeringOption=this.layeringOption.name,t.initializeOption=this.initializeOption.name,t.iterations=this.iterations,t.aggressiveOption=this.aggressiveOption.name,t.packOption=this.packOption,t.setsPortSpots=this.setsPortSpots,t.linkSpacing=this.linkSpacing,t.wa=this.wa,t.Dh=this.Dh,t.Ja=this.Ja,t.Bg=this.Bg,t.zc=this.zc,t.Hb=this.Hb,t.Cg=this.Cg,t.Lc=this.Lc,t.Yc={x:this.Yc.x,y:this.Yc.y}},wp.prototype.deserializeLayoutProperties=function(t,e,n,i,a){Yd.prototype.deserializeLayoutProperties.call(this,t,e,n,i,a),this.layerSpacing=t.layerSpacing,this.columnSpacing=t.columnSpacing,this.direction=t.direction,this.cycleRemoveOption=V(wp,t.cycleRemoveOption),this.layeringOption=V(wp,t.layeringOption),this.initializeOption=V(wp,t.initializeOption),this.iterations=t.iterations,this.aggressiveOption=V(wp,t.aggressiveOption),this.packOption=t.packOption,this.setsPortSpots=t.setsPortSpots,this.linkSpacing=t.linkSpacing,this.wa=t.wa,this.Dh=t.Dh,this.Ja=t.Ja,this.Bg=t.Bg,this.zc=t.zc,this.Hb=t.Hb,this.Cg=t.Cg,this.Lc=t.Lc,this.Yc=new gt(this.Yc.x,this.Yc.y),a&&!i&&a.edges.each((function(t){if(!t.link&&t.fromVertex&&t.toVertex&&(null===t.fromVertex.node||null===t.toVertex.node)){for(var e=t.fromVertex;null!==e&&null===e.node&&0<e.wd.count;){var n=e.wd.K(0);if(n.link){t.link=n.link;break}e=n.fromVertex}if(!t.link){for(n=t.toVertex;null!==n&&null===n.node&&0<n.Jd.count;){var i=n.Jd.K(0);if(i.link){t.link=i.link;break}n=i.toVertex}if(!t.link)for(n=n.wd.iterator;n.next();)if((i=n.value).link&&i.fromVertex===e){t.link=i.link;break}}}}))},wp.prototype.ob=function(t){t.classType===wp?0===t.name.indexOf("Aggressive")?this.aggressiveOption=t:0===t.name.indexOf("Cycle")?this.cycleRemoveOption=t:0===t.name.indexOf("Init")?this.initializeOption=t:0===t.name.indexOf("Layer")?this.layeringOption=t:b("Unknown enum value: "+t):Yd.prototype.ob.call(this,t)},wp.prototype.createNetwork=function(){return new ug(this)},wp.prototype.doLayout=function(t){for(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.Dh=-1,this.zc=this.Bg=0,this.rn=this.qn=this.fj=null,t=0;t<this.we.length;t++)this.we[t]=null;if(0<this.network.vertexes.count){if(this.network.oo(),this.qv())return;for(this.cycleRemoveOption!==tg&&this.removeCycles(),t=this.network.vertexes.iterator;t.next();)t.value.layer=-1;for(this.wa=-1,this.assignLayers(),t.reset();t.next();)this.wa=Math.max(this.wa,t.value.layer);this.cycleRemoveOption===tg&&this.removeCycles();for(var e=[],n=(t=this.network).edges.iterator;n.next();){var i=n.value;i.valid=!1,e.push(i)}for(n=0;n<e.length;n++){var a=(i=e[n]).fromVertex,o=i.toVertex;if(!(i.valid||(null===a.node&&null===a.data||null===o.node&&null===o.data)&&a.layer===o.layer)){var r=0,s=0,l=0,c=0;if(null!==i.link){if(null===(s=i.link))continue;var h=a.node;if(r=o.node,null===h||null===r)continue;var d=s.fromNode;l=s.toNode;var u=s.fromPort;if(s=s.toPort,i.rev){c=d;var f=u;d=l,u=s,l=c,s=f}var p=a.focus;c=o.focus;var g=i.rev?o.bounds:a.bounds;f=gt.alloc(),h!==d?g.v()&&d.isVisible()?d.actualBounds.v()?(nh(d,u,oe,f),f.x+=d.actualBounds.x-g.x,f.y+=d.actualBounds.y-g.y):(nh(d,u,oe,f),f.v()||f.assign(p)):f.assign(p):g.v()?(nh(d,u,oe,f),f.v()||f.assign(p)):f.assign(p),d=i.rev?a.bounds:o.bounds,h=gt.alloc(),r!==l?d.v()&&l.isVisible()?l.actualBounds.v()?(nh(l,s,oe,h),h.x+=l.actualBounds.x-d.x,h.y+=l.actualBounds.y-d.y):(nh(l,s,oe,h),h.v()||h.assign(c)):h.assign(c):d.v()?(nh(l,s,oe,h),h.v()||h.assign(c)):h.assign(c),90===this.L||270===this.L?(r=Math.round((f.x-p.x)/this.gc),l=f.x,s=Math.round((h.x-c.x)/this.gc),c=h.x):(r=Math.round((f.y-p.y)/this.gc),l=f.y,s=Math.round((h.y-c.y)/this.gc),c=h.y),gt.free(f),gt.free(h),i.portFromColOffset=r,i.portFromPos=l,i.portToColOffset=s,i.portToPos=c}else i.portFromColOffset=0,i.portFromPos=0,i.portToColOffset=0,i.portToPos=0;if(f=a.layer,h=o.layer,d=0,null!==(g=i.link)){var m=g.fromPort,y=g.toPort;if(null!==m&&null!==y){var v=g.fromNode;if(u=g.toNode,null!==v&&null!==u){var w=Kp(this,!0),x=Kp(this,!1),b=this.setsPortSpots?w:g.computeSpot(!0,m);p=this.setsPortSpots?x:g.computeSpot(!1,y);var S=g.isOrthogonal;b.Uc()&&b.xf(x)&&p.Uc()&&p.xf(w)?d=0:(w=g.getLinkPoint(v,m,b,!0,S,u,y,gt.alloc()),x=g.getLinkDirection(v,m,w,b,!0,S,u,y),gt.free(w),b.Xr()||x!==Fp(this,i,!0)?this.setsPortSpots&&null!==v&&1===v.ports.count&&i.rev&&(d+=1):d+=1,b=g.getLinkPoint(u,y,p,!1,S,v,m,gt.alloc()),g=g.getLinkDirection(u,y,b,p,!1,S,v,m),gt.free(b),p.Xr()||g!==Fp(this,i,!1)?this.setsPortSpots&&null!==u&&1===u.ports.count&&i.rev&&(d+=2):d+=2)}}}if(d=1===(u=d)||3===u,(u=2===u||3===u)&&((p=t.createVertex()).node=null,p.nf=1,p.layer=f,p.near=a,t.fg(p),(a=t.Qj(a,p,i.link)).valid=!1,a.rev=i.rev,a.portFromColOffset=r,a.portToColOffset=0,a.portFromPos=l,a.portToPos=0,a=p),g=1,d&&g--,f-h>g&&0<f){for(i.valid=!1,(p=t.createVertex()).node=null,p.nf=2,p.layer=f-1,t.fg(p),(a=t.Qj(a,p,i.link)).valid=!0,a.rev=i.rev,a.portFromColOffset=u?0:r,a.portToColOffset=0,a.portFromPos=u?0:l,a.portToPos=0,a=p,f--;f-h>g&&0<f;)(p=t.createVertex()).node=null,p.nf=3,p.layer=f-1,t.fg(p),(a=t.Qj(a,p,i.link)).valid=!0,a.rev=i.rev,a.portFromColOffset=0,a.portToColOffset=0,a.portFromPos=0,a.portToPos=0,a=p,f--;(a=t.Qj(p,o,i.link)).valid=!d,d&&(p.near=o),a.rev=i.rev,a.portFromColOffset=0,a.portToColOffset=s,a.portFromPos=0,a.portToPos=c}else i.valid=!0}}for(t=this.Hb=[],e=0;e<=this.wa;e++)t[e]=0;for(e=this.network.vertexes.iterator;e.next();)e.value.index=-1;for(this.initializeIndices(),this.Dh=-1,n=this.zc=this.Bg=0;n<=this.wa;n++)t[n]>t[this.zc]&&(this.Dh=t[n]-1,this.zc=n),t[n]<t[this.Bg]&&(this.Bg=n);for(this.rn=[],n=0;n<t.length;n++)this.rn[n]=[];for(e.reset();e.next();)t=e.value,this.rn[t.layer][t.index]=t;for(this.Ja=-1,t=0;t<=this.wa;t++){for(e=Zp(this,t),n=0,i=this.Hb[t],o=0;o<i;o++)a=e[o],n+=this.nodeMinColumnSpace(a,!0),a.column=n,n+=1,n+=this.nodeMinColumnSpace(a,!1);this.Ja=Math.max(this.Ja,n-1),$p(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},wp.prototype.linkMinLength=function(){return 1},wp.prototype.nodeMinLayerSpace=function(t,e){return null===t.node&&null===t.data?0:90===this.L||270===this.L?e?t.focus.y+10:t.bounds.height-t.focus.y+10:e?t.focus.x+10:t.bounds.width-t.focus.x+10},wp.prototype.nodeMinColumnSpace=function(t,e){if(null===t.node&&null===t.data)return 0;var n=e?t.Tj:t.Sj;return null!==n?n:90===(n=this.L)||270===n?e?t.Tj=t.focus.x/this.gc+1|0:t.Sj=(t.bounds.width-t.focus.x)/this.gc+1|0:e?t.Tj=t.focus.y/this.gc+1|0:t.Sj=(t.bounds.height-t.focus.y)/this.gc+1|0},wp.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.wa;e++)for(var n=kp(this,e,1),i=this.Hb[e],a=0;a<i;a++)for(var o=a;o<i;o++)t+=n[a*i+o];return t},wp.prototype.normalize=function(){var t=1/0;this.Ja=-1;for(var e=this.network.vertexes.iterator;e.next();){var n=e.value;t=Math.min(t,n.column-this.nodeMinColumnSpace(n,!0)),this.Ja=Math.max(this.Ja,n.column+this.nodeMinColumnSpace(n,!1))}for(e.reset();e.next();)e.value.column-=t;this.Ja-=t},wp.prototype.removeCycles=function(){for(var t=this.network.edges.iterator;t.next();)t.value.rev=!1;switch(this.qk){default:case Qp:var e=0,n=(t=this.network).vertexes.count-1,i=[];i.length=n+1;for(var a=t.vertexes.iterator;a.next();)a.value.valid=!0;for(;null!==Op(t);){for(a=Ap(t);null!==a;)i[n]=a,n--,a.valid=!1,a=Ap(t);for(a=Ep(t);null!==a;)i[e]=a,e++,a.valid=!1,a=Ep(t);a=null;for(var o=0,r=this.network.vertexes.iterator;r.next();){var s=r.value;if(s.valid){for(var l=0,c=s.destinationEdges;c.next();)c.value.toVertex.valid&&l++;c=0;for(var h=s.sourceEdges;h.next();)h.value.fromVertex.valid&&c++;(null===a||o<l-c)&&(a=s,o=l-c)}}null!==a&&(i[e]=a,e++,a.valid=!1)}for(e=0;e<t.vertexes.count;e++)i[e].index=e;for(i=t.edges.iterator;i.next();)(e=i.value).fromVertex.index>e.toVertex.index&&(t.Ol(e),e.rev=!0);break;case Jp:for(i=this.network.vertexes.iterator;i.next();)(t=i.value).gg=-1,t.finish=-1;for(t=this.network.edges.iterator;t.next();)t.value.forest=!1;for(this.Cg=0,i.reset();i.next();)0===(e=i.value).sourceEdges.count&&Cp(this,e);for(i.reset();i.next();)-1===(e=i.value).gg&&Cp(this,e);for(t.reset();t.next();)(i=t.value).forest||(n=(e=i.fromVertex).finish,o=(a=i.toVertex).finish,a.gg<e.gg&&n<o&&(this.network.Ol(i),i.rev=!0));break;case tg:for(e=(t=this.network).vertexes.iterator,i=1/0;e.next();)i=Math.min(i,e.value.layer);if(1/0>i){if(0>i)for(e.reset();e.next();)e.value.layer-=i;for(i=[],e.reset();e.next();)void 0===(a=i[(n=e.value).layer])?i[n.layer]=[n]:a.push(n);for(n=e=0;n<i.length;n++)if((a=i[n])&&0!==a.length){if(0<n)for(o=0;o<a.length;o++)a[o].layer-=e}else e++;for(i=t.edges.iterator;i.next();)(e=i.value).fromVertex.layer<e.toVertex.layer&&(t.Ol(e),e.rev=!0)}}},wp.prototype.assignLayers=function(){switch(this.Nk){case ng:Np(this);break;case ig:for(var t,e=this.network.vertexes.iterator;e.next();)t=jp(this,e.value),this.wa=Math.max(t,this.wa);for(e.reset();e.next();)(t=e.value).layer=this.wa-t.layer;break;default:case eg:for(Np(this),e=this.network.vertexes.iterator;e.next();)e.value.valid=!1;for(e.reset();e.next();)0===(t=e.value).sourceEdges.count&&Dp(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.wa=-1,e.reset();e.next();){var n=e.value;n.layer-=t,this.wa=Math.max(this.wa,n.layer)}}},wp.prototype.initializeIndices=function(){switch(this.Ek){default:case rg:for(var t=this.network.vertexes.iterator;t.next();){var e=t.value,n=e.layer;e.index=this.Hb[n],this.Hb[n]++}break;case ag:for(t=this.network.vertexes.iterator,e=this.wa;0<=e;e--)for(t.reset();t.next();)(n=t.value).layer===e&&-1===n.index&&Rp(this,n);break;case og:for(t=this.network.vertexes.iterator,e=0;e<=this.wa;e++)for(t.reset();t.next();)(n=t.value).layer===e&&-1===n.index&&Ip(this,n)}},wp.prototype.reduceCrossings=function(){var t,e,n,i,a,o=this.countCrossings(),r=bp(this);for(t=0;t<this.Xi;t++){for(e=0;e<=this.wa;e++)zp(this,e,1),Hp(this,e,1);var s=this.countCrossings();for(s<o&&(o=s,r=bp(this)),e=this.wa;0<=e;e--)zp(this,e,-1),Hp(this,e,-1);(s=this.countCrossings())<o&&(o=s,r=bp(this))}for(Sp(this,r),t=0;t<this.Xi;t++){for(e=0;e<=this.wa;e++)zp(this,e,0),Hp(this,e,0);for((s=this.countCrossings())<o&&(o=s,r=bp(this)),e=this.wa;0<=e;e--)zp(this,e,0),Hp(this,e,0);(s=this.countCrossings())<o&&(o=s,r=bp(this))}switch(Sp(this,r),this.dk){case sg:break;case cg:for(a=o+1;(e=this.countCrossings())<a;)for(a=e,t=this.wa;0<=t;t--)for(i=0;i<=t;i++){for(n=!0;n;)for(n=!1,e=t;e>=i;e--)n=Hp(this,e,-1)||n;for((s=this.countCrossings())>=o?Sp(this,r):(o=s,r=bp(this)),n=!0;n;)for(n=!1,e=t;e>=i;e--)n=Hp(this,e,1)||n;for((s=this.countCrossings())>=o?Sp(this,r):(o=s,r=bp(this)),n=!0;n;)for(n=!1,e=i;e<=t;e++)n=Hp(this,e,1)||n;for(s>=o?Sp(this,r):(o=s,r=bp(this)),n=!0;n;)for(n=!1,e=i;e<=t;e++)n=Hp(this,e,-1)||n;for(s>=o?Sp(this,r):(o=s,r=bp(this)),n=!0;n;)for(n=!1,e=t;e>=i;e--)n=Hp(this,e,0)||n;for(s>=o?Sp(this,r):(o=s,r=bp(this)),n=!0;n;)for(n=!1,e=i;e<=t;e++)n=Hp(this,e,0)||n;s>=o?Sp(this,r):(o=s,r=bp(this))}break;default:case lg:for(t=this.wa,i=0,a=o+1;(e=this.countCrossings())<a;){for(a=e,n=!0;n;)for(n=!1,e=t;e>=i;e--)n=Hp(this,e,-1)||n;for((s=this.countCrossings())>=o?Sp(this,r):(o=s,r=bp(this)),n=!0;n;)for(n=!1,e=t;e>=i;e--)n=Hp(this,e,1)||n;for((s=this.countCrossings())>=o?Sp(this,r):(o=s,r=bp(this)),n=!0;n;)for(n=!1,e=i;e<=t;e++)n=Hp(this,e,1)||n;for(s>=o?Sp(this,r):(o=s,r=bp(this)),n=!0;n;)for(n=!1,e=i;e<=t;e++)n=Hp(this,e,-1)||n;for(s>=o?Sp(this,r):(o=s,r=bp(this)),n=!0;n;)for(n=!1,e=t;e>=i;e--)n=Hp(this,e,0)||n;for(s>=o?Sp(this,r):(o=s,r=bp(this)),n=!0;n;)for(n=!1,e=i;e<=t;e++)n=Hp(this,e,0)||n;s>=o?Sp(this,r):(o=s,r=bp(this))}}Sp(this,r)},wp.prototype.straightenAndPack=function(){var t=0!=(1&this.Tf),e=0!=(this.Tf&hg);if(1e3<this.network.edges.count&&e&&(t=!1),t){var n=[];for(e=0;e<=this.wa;e++)n[e]=0;for(var i,a=this.network.vertexes.iterator;a.next();){var o=a.value;e=o.layer,i=o.column,o=this.nodeMinColumnSpace(o,!1),n[e]=Math.max(n[e],i+o)}for(a.reset();a.next();)e=(o=a.value).layer,i=o.column,o.column=(8*(this.Ja-n[e])>>1)+8*i;this.Ja*=8}if(0!=(2&this.Tf))for(n=!0;n;){for(n=!1,e=this.zc+1;e<=this.wa;e++)n=Vp(this,e,1)||n;for(e=this.zc-1;0<=e;e--)n=Vp(this,e,-1)||n;n=Vp(this,this.zc,0)||n}if(0!=(4&this.Tf)){for(e=this.zc+1;e<=this.wa;e++)Up(this,e,1);for(e=this.zc-1;0<=e;e--)Up(this,e,-1);Up(this,this.zc,0)}if(t&&(Yp(this,-1),Yp(this,1)),0!=(2&this.Tf))for(n=!0;n;){for(n=!1,n=Vp(this,this.zc,0)||n,e=this.zc+1;e<=this.wa;e++)n=Vp(this,e,0)||n;for(e=this.zc-1;0<=e;e--)n=Vp(this,e,0)||n}},wp.prototype.commitLayout=function(){if(this.setsPortSpots)for(var t=Kp(this,!0),e=Kp(this,!1),n=this.network.edges.iterator;n.next();){var i=n.value.link;null!==i&&(i.fromSpot=t,i.toSpot=e)}this.commitNodes(),this.mu(),this.isRouting&&this.commitLinks()},wp.prototype.commitNodes=function(){this.ae=[],this.Cd=[],this.Bd=[],this.Qa=[];for(var t=0;t<=this.wa;t++)this.ae[t]=0,this.Cd[t]=0,this.Bd[t]=0,this.Qa[t]=0;for(t=this.network.vertexes.iterator;t.next();){var e=t.value,n=e.layer;this.ae[n]=Math.max(this.ae[n],this.nodeMinLayerSpace(e,!0)),this.Cd[n]=Math.max(this.Cd[n],this.nodeMinLayerSpace(e,!1))}e=0,n=this.be;for(var i=0;i<=this.wa;i++){var a=n;0>=this.ae[i]+this.Cd[i]&&(a=0),0<i&&(e+=a/2),90===this.L||0===this.L?(e+=this.Cd[i],this.Bd[i]=e,e+=this.ae[i]):(e+=this.ae[i],this.Bd[i]=e,e+=this.Cd[i]),i<this.wa&&(e+=a/2),this.Qa[i]=e}for(n=e,e=this.arrangementOrigin,i=0;i<=this.wa;i++)270===this.L?this.Bd[i]=e.y+this.Bd[i]:90===this.L?(this.Bd[i]=e.y+n-this.Bd[i],this.Qa[i]=n-this.Qa[i]):180===this.L?this.Bd[i]=e.x+this.Bd[i]:(this.Bd[i]=e.x+n-this.Bd[i],this.Qa[i]=n-this.Qa[i]);for(t.reset(),n=i=1/0;t.next();){var o=(a=t.value).layer,r=0|a.column;if(270===this.L||90===this.L){var s=e.x+this.gc*r;o=this.Bd[o]}else s=this.Bd[o],o=e.y+this.gc*r;a.centerX=s,a.centerY=o,i=Math.min(a.x,i),n=Math.min(a.y,n)}for(i=e.x-i,e=e.y-n,this.Yc=new gt(i,e),t.reset();t.next();)(n=t.value).x+=i,n.y+=e,n.commit()},wp.prototype.mu=function(){for(var t=0,e=this.be,n=0;n<=this.wa;n++)t+=this.ae[n],t+=this.Cd[n];t+=this.wa*e,e=[],n=this.gc*this.Ja;for(var i=this.maxLayer;0<=i;i--)270===this.L?0===i?e.push(new jt(0,0,n,Math.abs(this.Qa[0]))):e.push(new jt(0,this.Qa[i-1],n,Math.abs(this.Qa[i-1]-this.Qa[i]))):90===this.L?0===i?e.push(new jt(0,this.Qa[0],n,Math.abs(this.Qa[0]-t))):e.push(new jt(0,this.Qa[i],n,Math.abs(this.Qa[i-1]-this.Qa[i]))):180===this.L?0===i?e.push(new jt(0,0,Math.abs(this.Qa[0]),n)):e.push(new jt(this.Qa[i-1],0,Math.abs(this.Qa[i-1]-this.Qa[i]),n)):0===i?e.push(new jt(this.Qa[0],0,Math.abs(this.Qa[0]-t),n)):e.push(new jt(this.Qa[i],0,Math.abs(this.Qa[i-1]-this.Qa[i]),n));this.commitLayers(e,this.Yc)},wp.prototype.commitLayers=function(){},wp.prototype.commitLinks=function(){for(var t,e=this.network.edges.iterator;e.next();)null!==(t=e.value.link)&&(t.jh(),t.Aj(),t.pf());for(e.reset();e.next();)null!==(t=e.value.link)&&t.mg();for(e.reset();e.next();){var n=e.value;if(null!==(t=n.link)){t.jh();var i=t,a=i.fromNode,o=i.toNode,r=i.fromPort,s=i.toPort;if(null!==a){var l=a.findVisibleNode();null!==l&&l!==a&&(a=l,r=l.port)}null!==o&&(null!==(l=o.findVisibleNode())&&l!==o&&(o=l,s=l.port));var c=t.computeSpot(!0,r);l=t.computeSpot(!1,s);var h=n.fromVertex,d=n.toVertex;if(n.valid){if(t.curve===ud&&4===t.pointsCount)if(h.column===d.column)n=t.getLinkPoint(a,r,c,!0,!1,o,s),r=t.getLinkPoint(o,s,l,!1,!1,a,r),n.v()||n.set(a.actualBounds.center),r.v()||r.set(o.actualBounds.center),t.Aj(),t.mf(n.x,n.y),t.mf((2*n.x+r.x)/3,(2*n.y+r.y)/3),t.mf((n.x+2*r.x)/3,(n.y+2*r.y)/3),t.mf(r.x,r.y);else{var u=!1,f=!1;if(null!==r&&c===te&&(u=!0),null!==s&&l===te&&(f=!0),u||f){var p=t.i(0).x;if(n=t.i(0).y,h=t.i(3).x,i=t.i(3).y,u){if(90===this.L||270===this.L){u=p;var g=(n+i)/2}else u=(p+h)/2,g=n;t.M(1,u,g),(c=t.getLinkPoint(a,r,c,!0,!1,o,s)).v()||c.set(a.actualBounds.center),t.M(0,c.x,c.y)}f&&(90===this.L||270===this.L?(c=h,n=(n+i)/2):(c=(p+h)/2,n=i),t.M(2,c,n),(a=t.getLinkPoint(o,s,l,!1,!1,a,r)).v()||a.set(o.actualBounds.center),t.M(3,a.x,a.y))}}t.pf()}else if(h.layer===d.layer)t.pf();else{if(u=f=!1,g=this.be,p=t.firstPickIndex+1,t.isOrthogonal){u=!0;var m=t.pointsCount;4<m&&t.points.removeRange(2,m-3)}else if(t.curve===ud)f=!0,4<(m=t.pointsCount)&&t.points.removeRange(2,m-3),4===m&&(p=2);else{m=t.pointsCount;var y=c===te,v=l===te;2<m&&y&&v?t.points.removeRange(1,m-2):3<m&&y&&!v?t.points.removeRange(1,m-3):3<m&&!y&&v?t.points.removeRange(2,m-2):4<m&&!y&&!v&&t.points.removeRange(2,m-3)}if(n.rev){for(;null!==d&&h!==d;){var w=m=null;for(y=d.sourceEdges.iterator;y.next()&&((v=y.value).link!==n.link||(m=v.fromVertex,w=v.toVertex,null!==m.node)););if(null===m)break;if(m!==h){y=t.i(p-1).x,v=t.i(p-1).y;var x=m.centerX,b=m.centerY;if(u)180===this.L||0===this.L?p===t.firstPickIndex+1?(t.l(p++,y,v),t.l(p++,y,b)):(null!==w?w.centerY:v)!==b&&(w=this.Qa[m.layer-1]+this.Yc.x,t.l(p++,w,v),t.l(p++,w,b)):p===t.firstPickIndex+1?(t.l(p++,y,v),t.l(p++,x,v)):(null!==w?w.centerX:y)!==x&&(w=this.Qa[m.layer-1]+this.Yc.y,t.l(p++,y,w),t.l(p++,x,w));else if(p===t.firstPickIndex+1){w=Math.max(10,this.ae[d.layer]);var S=Math.max(10,this.Cd[d.layer]);if(f)180===this.L?x<=d.bounds.x?(d=d.bounds.x,t.l(p++,d-w,b),t.l(p++,d,b),t.l(p++,d+S,b)):(t.l(p++,x-w,b),t.l(p++,x,b),t.l(p++,x+S,b)):90===this.L?b>=d.bounds.bottom?(d=d.bounds.y+d.bounds.height,t.l(p++,x,d+S),t.l(p++,x,d),t.l(p++,x,d-w)):(t.l(p++,x,b+S),t.l(p++,x,b),t.l(p++,x,b-w)):270===this.L?b<=d.bounds.y?(d=d.bounds.y,t.l(p++,x,d-w),t.l(p++,x,d),t.l(p++,x,d+S)):(t.l(p++,x,b-w),t.l(p++,x,b),t.l(p++,x,b+S)):0===this.L&&(x>=d.bounds.right?(d=d.bounds.x+d.bounds.width,t.l(p++,d+S,b),t.l(p++,d,b),t.l(p++,d-w,b)):(t.l(p++,x+S,b),t.l(p++,x,b),t.l(p++,x-w,b)));else{t.l(p++,y,v);var k=0;180===this.L||0===this.L?((180===this.L?x>=d.bounds.right:x<=d.bounds.x)&&(k=(0===this.L?-w:S)/2),t.l(p++,y+k,b)):((270===this.L?b>=d.bounds.bottom:b<=d.bounds.y)&&(k=(90===this.L?-w:S)/2),t.l(p++,x,v+k)),t.l(p++,x,b)}}else w=Math.max(10,this.ae[m.layer]),S=Math.max(10,this.Cd[m.layer]),f?180===this.L?(t.l(p++,x-w-g,b),t.l(p++,Math.min(x-w+g/2,x),b),t.l(p++,x,b),t.l(p++,x,b),t.l(p++,Math.max(x+S-g/2,x),b),t.l(p++,x+S+g,b)):90===this.L?(t.l(p++,x,b+S+g),t.l(p++,x,Math.max(b+S-g/2,b)),t.l(p++,x,b),t.l(p++,x,b),t.l(p++,x,Math.min(b-w+g/2,b)),t.l(p++,x,b-w-g)):270===this.L?(t.l(p++,x,b-w-g),t.l(p++,x,Math.min(b-w+g/2,b)),t.l(p++,x,b),t.l(p++,x,b),t.l(p++,x,Math.max(b+S-g/2,b)),t.l(p++,x,b+S+g)):(t.l(p++,x+S+g,b),t.l(p++,Math.max(x+S-g/2,x),b),t.l(p++,x,b),t.l(p++,x,b),t.l(p++,Math.min(x-w+g/2,x),b),t.l(p++,x-w-g,b)):t.l(p++,x,b)}d=m}(null===s||c!==te||u)&&(y=t.i(p-1).x,v=t.i(p-1).y,x=t.i(p).x,b=t.i(p).y,u?(g=this.Cd[h.layer],180===this.L||0===this.L?((u=v)>=h.bounds.y&&u<=h.bounds.bottom&&(180===this.L?x>=h.bounds.x:x<=h.bounds.right)&&(d=h.centerX+(180===this.L?-g:g),u=u<h.bounds.y+h.bounds.height/2?h.bounds.y-this.gc/2:h.bounds.bottom+this.gc/2,t.l(p++,d,v),t.l(p++,d,u)),t.l(p++,x,u)):((u=y)>=h.bounds.x&&u<=h.bounds.right&&(270===this.L?b>=h.bounds.y:b<=h.bounds.bottom)&&(d=h.centerY+(270===this.L?-g:g),u=u<h.bounds.x+h.bounds.width/2?h.bounds.x-this.gc/2:h.bounds.right+this.gc/2,t.l(p++,y,d),t.l(p++,u,d)),t.l(p++,u,b)),t.l(p++,x,b)):f?(w=Math.max(10,this.ae[h.layer]),S=Math.max(10,this.Cd[h.layer]),180===this.L&&x>=h.bounds.x?(d=h.bounds.x+h.bounds.width,t.M(p-2,d,v),t.M(p-1,d+S,v)):90===this.L&&b<=h.bounds.bottom?(d=h.bounds.y,t.M(p-2,y,d),t.M(p-1,y,d-w)):270===this.L&&b>=h.bounds.y?(d=h.bounds.y+h.bounds.height,t.M(p-2,y,d),t.M(p-1,y,d+S)):0===this.L&&x<=h.bounds.right&&(d=h.bounds.x,t.M(p-2,d,v),t.M(p-1,d-w,v))):(w=Math.max(10,this.ae[h.layer]),S=Math.max(10,this.Cd[h.layer]),u=0,180===this.L||0===this.L?((180===this.L?x<=h.bounds.x:x>=h.bounds.right)&&(u=(0===this.L?S:-w)/2),t.l(p++,x+u,v)):((270===this.L?b<=h.bounds.y:b>=h.bounds.bottom)&&(u=(90===this.L?S:-w)/2),t.l(p++,y,b+u)),t.l(p++,x,b)))}else{for(;null!==h&&h!==d;){for(w=m=null,h=h.destinationEdges.iterator;h.next()&&((y=h.value).link!==n.link||(m=y.toVertex,null!==(w=y.fromVertex).node&&(w=null),null!==m.node)););if(null===m)break;m!==d&&(y=t.i(p-1).x,v=t.i(p-1).y,x=m.centerX,b=m.centerY,u?180===this.L||0===this.L?(null!==w?w.centerY:v)!==b&&(w=this.Qa[m.layer]+this.Yc.x,p===t.firstPickIndex+1&&(w=0===this.L?Math.max(w,y):Math.min(w,y)),t.l(p++,w,v),t.l(p++,w,b)):(null!==w?w.centerX:y)!==x&&(w=this.Qa[m.layer]+this.Yc.y,p===t.firstPickIndex+1&&(w=90===this.L?Math.max(w,v):Math.min(w,v)),t.l(p++,y,w),t.l(p++,x,w)):(w=Math.max(10,this.ae[m.layer]),S=Math.max(10,this.Cd[m.layer]),f?180===this.L?(t.l(p++,x+S+g,b),t.l(p++,Math.max(x+S-g/2,x),b),t.l(p++,x,b),t.l(p++,x,b),t.l(p++,Math.min(x-w+g/2,x),b),t.l(p++,x-w-g,b)):90===this.L?(t.l(p++,x,b-w-g),t.l(p++,x,Math.min(b-w+g/2,b)),t.l(p++,x,b),t.l(p++,x,b),t.l(p++,x,Math.max(b+S-g/2,b)),t.l(p++,x,b+S+g)):270===this.L?(t.l(p++,x,b+S+g),t.l(p++,x,Math.max(b+S-g/2,b)),t.l(p++,x,b),t.l(p++,x,b),t.l(p++,x,Math.min(b-w+g/2,b)),t.l(p++,x,b-w-g)):(t.l(p++,x-w-g,b),t.l(p++,Math.min(x-w+g/2,x),b),t.l(p++,x,b),t.l(p++,x,b),t.l(p++,Math.max(x+S-g/2,x),b),t.l(p++,x+S+g,b)):180===this.L?(t.l(p++,x+S,b),t.l(p++,x-w,b)):90===this.L?(t.l(p++,x,b-w),t.l(p++,x,b+S)):270===this.L?(t.l(p++,x,b+S),t.l(p++,x,b-w)):(t.l(p++,x-w,b),t.l(p++,x+S,b)))),h=m}u&&(y=t.i(p-1).x,v=t.i(p-1).y,x=t.i(p).x,b=t.i(p).y,180===this.L||0===this.L?v!==b&&(w=0===this.L?Math.min(Math.max((x+y)/2,this.Qa[d.layer]+this.Yc.x),x):Math.max(Math.min((x+y)/2,this.Qa[d.layer]+this.Yc.x),x),t.l(p++,w,v),t.l(p++,w,b)):y!==x&&(w=90===this.L?Math.min(Math.max((b+v)/2,this.Qa[d.layer]+this.Yc.y),b):Math.max(Math.min((b+v)/2,this.Qa[d.layer]+this.Yc.y),b),t.l(p++,y,w),t.l(p++,x,w)))}null!==i&&f&&(null!==r&&(c===te&&(c=t.i(0),i=t.i(2),c.C(i)||t.M(1,(c.x+i.x)/2,(c.y+i.y)/2)),(c=t.getLinkPoint(a,r,te,!0,!1,o,s)).v()||c.set(a.actualBounds.center),t.M(0,c.x,c.y)),null!==s&&(l===te&&(l=t.i(t.pointsCount-1),c=t.i(t.pointsCount-3),l.C(c)||t.M(t.pointsCount-2,(l.x+c.x)/2,(l.y+c.y)/2)),(a=t.getLinkPoint(o,s,te,!1,!1,a,r)).v()||a.set(o.actualBounds.center),t.M(t.pointsCount-1,a.x,a.y))),t.pf(),n.commit()}}}this.avoidOrthogonalOverlaps()},wp.prototype.avoidOrthogonalOverlaps=function(){if(!(0>=this.linkSpacing)){for(var t=new $,e=this.network.edges.iterator;e.next();){var n=e.value.link;null!==n&&n.isOrthogonal&&!t.contains(n)&&t.add(n)}if(0<t.count)if(90===this.L||270===this.L){for(e=0,n=[],t=t.iterator;t.next();){var i=t.value;if(null!==i&&i.isOrthogonal)for(var a=2;a<i.pointsCount-3;a++){var o=i.i(a),r=i.i(a+1);if(this.B(o.y,r.y)&&!this.B(o.x,r.x)){var s=new dg;s.layer=Math.floor(o.y/2);var l=i.i(0),c=i.i(i.pointsCount-1);if(s.first=l.x*l.x+l.y,s.fc=c.x*c.x+c.y,s.ld=Math.min(o.x,r.x),s.Bc=Math.max(o.x,r.x),s.index=a,s.link=i,a+2<i.pointsCount){l=i.i(a-1),c=i.i(a+2);var h=0;l.y<o.y?h=c.y<o.y?3:o.x<r.x?2:1:l.y>o.y&&(h=c.y>o.y?0:r.x<o.x?2:1),s.j=h}n.push(s)}}}if(1<n.length)for(n.sort(this.Cx),t=0;t<n.length;){for(o=n[t].layer,i=t+1;i<n.length&&n[i].layer===o;)i++;if(1<i-t)for(o=t;o<i;){for(r=n[o].Bc,a=t+1;a<i&&n[a].ld<r;)r=Math.max(r,n[a].Bc),a++;if(1<(r=a-o)){for(this.ri(n,this.ks,o,o+r),h=1,s=n[o].fc,l=o;l<a;l++)(c=n[l]).fc!==s&&(h++,s=c.fc);this.ri(n,this.Bx,o,o+r);var d=1;for(s=n[o].first,l=o;l<a;l++)(c=n[l]).first!==s&&(d++,s=c.first);for(l=!0,c=d,h<d?(l=!1,c=h,s=n[o].fc,this.ri(n,this.ks,o,o+r)):s=n[o].first,h=0,d=o;d<a;d++){var u=n[d];(l?u.first:u.fc)!==s&&(h++,s=l?u.first:u.fc);var f=u.link;o=f.i(u.index),r=f.i(u.index+1);var p=this.linkSpacing*(h-(c-1)/2);e++,f.jh(),f.M(u.index,o.x,o.y+p),f.M(u.index+1,r.x,r.y+p),f.pf()}}o=a}t=i}}else{for(e=0,n=[],t=t.iterator;t.next();)if(null!==(i=t.value)&&i.isOrthogonal)for(a=2;a<i.pointsCount-3;a++)o=i.i(a),r=i.i(a+1),this.B(o.x,r.x)&&!this.B(o.y,r.y)&&((s=new dg).layer=Math.floor(o.x/2),l=i.i(0),c=i.i(i.pointsCount-1),s.first=l.x+l.y*l.y,s.fc=c.x+c.y*c.y,s.ld=Math.min(o.y,r.y),s.Bc=Math.max(o.y,r.y),s.index=a,s.link=i,a+2<i.pointsCount&&(l=i.i(a-1),c=i.i(a+2),h=0,l.x<o.x?h=c.x<o.x?3:o.y<r.y?2:1:l.x>o.x&&(h=c.x>o.x?0:r.y<o.y?2:1),s.j=h),n.push(s));if(1<n.length)for(n.sort(this.Cx),t=0;t<n.length;){for(o=n[t].layer,i=t+1;i<n.length&&n[i].layer===o;)i++;if(1<i-t)for(o=t;o<i;){for(r=n[o].Bc,a=t+1;a<i&&n[a].ld<r;)r=Math.max(r,n[a].Bc),a++;if(1<(r=a-o)){for(this.ri(n,this.ks,o,o+r),h=1,s=n[o].fc,l=o;l<a;l++)(c=n[l]).fc!==s&&(h++,s=c.fc);for(this.ri(n,this.Bx,o,o+r),d=1,s=n[o].first,l=o;l<a;l++)(c=n[l]).first!==s&&(d++,s=c.first);for(l=!0,c=d,h<d?(l=!1,c=h,s=n[o].fc,this.ri(n,this.ks,o,o+r)):s=n[o].first,h=0,d=o;d<a;d++)u=n[d],(l?u.first:u.fc)!==s&&(h++,s=l?u.first:u.fc),o=(f=u.link).i(u.index),r=f.i(u.index+1),p=this.linkSpacing*(h-(c-1)/2),e++,f.jh(),f.M(u.index,o.x+p,o.y),f.M(u.index+1,r.x+p,r.y),f.pf()}o=a}t=i}}}},(e=wp.prototype).Cx=function(t,e){return t instanceof dg&&e instanceof dg&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.ld<e.ld?-1:t.ld>e.ld?1:t.Bc<e.Bc?-1:t.Bc>e.Bc?1:0:0},e.Bx=function(t,e){return t instanceof dg&&e instanceof dg&&t!==e?t.first<e.first?-1:t.first>e.first||t.j<e.j?1:t.j>e.j||t.ld<e.ld?-1:t.ld>e.ld?1:t.Bc<e.Bc?-1:t.Bc>e.Bc?1:0:0},e.ks=function(t,e){return t instanceof dg&&e instanceof dg&&t!==e?t.fc<e.fc?-1:t.fc>e.fc||t.j<e.j?1:t.j>e.j||t.ld<e.ld?-1:t.ld>e.ld?1:t.Bc<e.Bc?-1:t.Bc>e.Bc?1:0:0},e.B=function(t,e){return-1<(t-=e)&&1>t},e.ri=function(t,e,n,i){var a=t.length,o=i-n;if(!(1>=o))if((0>n||n>=a-1)&&b("not in range 0 <= from < length: "+n),2===o)0<e(i=t[n],a=t[n+1])&&(t[n]=a,t[n+1]=i);else if(0===n)if(i>=a)t.sort(e);else for((n=t.slice(0,i)).sort(e),e=0;e<i;e++)t[e]=n[e];else if(i>=a)for((i=t.slice(n)).sort(e),e=n;e<a;e++)t[e]=i[e-n];else for((a=t.slice(n,i)).sort(e),e=n;e<i;e++)t[e]=a[e-n]},u.Object.defineProperties(wp.prototype,{layerSpacing:{get:function(){return this.be},set:function(t){this.be!==t&&0<=t&&(this.be=t,this.D())}},columnSpacing:{get:function(){return this.gc},set:function(t){this.gc!==t&&0<t&&(this.gc=t,this.D())}},direction:{get:function(){return this.L},set:function(t){this.L!==t&&(0===t||90===t||180===t||270===t?(this.L=t,this.D()):b("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.qk},set:function(t){this.qk===t||t!==Qp&&t!==Jp&&t!==tg||(this.qk=t,this.D())}},layeringOption:{get:function(){return this.Nk},set:function(t){this.Nk===t||t!==eg&&t!==ng&&t!==ig||(this.Nk=t,this.D())}},initializeOption:{get:function(){return this.Ek},set:function(t){this.Ek===t||t!==ag&&t!==og&&t!==rg||(this.Ek=t,this.D())}},iterations:{get:function(){return this.Xi},set:function(t){this.Xi!==t&&0<=t&&(this.Xi=t,this.D())}},aggressiveOption:{get:function(){return this.dk},set:function(t){this.dk===t||t!==sg&&t!==lg&&t!==cg||(this.dk=t,this.D())}},packOption:{get:function(){return this.Tf},set:function(t){this.Tf!==t&&0<=t&&8>t&&(this.Tf=t,this.D())}},setsPortSpots:{get:function(){return this.ff},set:function(t){this.ff!==t&&(this.ff=t,this.D())}},linkSpacing:{get:function(){return this.jn},set:function(t){this.jn!==t&&0<=t&&(this.jn=t,this.D())}},maxLayer:{get:function(){return this.wa}},maxIndex:{get:function(){return this.Dh}},maxColumn:{get:function(){return this.Ja}},minIndexLayer:{get:function(){return this.Bg}},maxIndexLayer:{get:function(){return this.zc}}});var Jp=new H(wp,"CycleDepthFirst",0),Qp=new H(wp,"CycleGreedy",1),tg=new H(wp,"CycleFromLayers",2),eg=new H(wp,"LayerOptimalLinkLength",0),ng=new H(wp,"LayerLongestPathSink",1),ig=new H(wp,"LayerLongestPathSource",2),ag=new H(wp,"InitDepthFirstOut",0),og=new H(wp,"InitDepthFirstIn",1),rg=new H(wp,"InitNaive",2),sg=new H(wp,"AggressiveNone",0),lg=new H(wp,"AggressiveLess",1),cg=new H(wp,"AggressiveMore",2),hg=8;function dg(){this.index=this.Bc=this.ld=this.fc=this.first=this.layer=0,this.link=null,this.j=0}function ug(t){su.call(this,t)}function fg(t){uu.call(this,t),this.Wa=this.rg=this.Ah=-1,this.u=NaN,this.F=null,this.valid=!1,this.finish=this.gg=NaN,this.nf=0,this.Sj=this.Tj=null}function pg(t){pu.call(this,t),this.j=this.ga=this.Ga=!1,this.W=this.u=NaN,this.F=this.m=0}function gg(t){Yd.call(this),this.Qb=new Q,this.En=qg,this.qd=Yg,this.Yn=cm,this.aq=mm,this.Ev=[],this.od=!0,this.Nb=fm,this.Td=new Et(10,10).freeze();var e=new wm(this);this.V=new xm(e),this.Y=new xm(e),this.Xt=[],t&&Object.assign(this,t)}function mg(t){var e=new Q;for(t=t.iterator;t.next();){var n=t.value;n.initialized||e.add(n)}return e}function yg(t,e){var n=999999,i=null;for(e=e.iterator;e.next();){var a=e.value;switch(t.qd){case Yg:a.sourceEdges.count<n&&(n=a.sourceEdges.count,i=a);break;case Xg:a.destinationEdges.count<n&&(n=a.destinationEdges.count,i=a);break;default:b("Unhandled path value "+t.qd.toString())}}return i}function vg(t,e){if(null!==e){switch(t.qd){case Yg:if(0<e.destinationEdges.count){for(var n=new $,i=e.destinationVertexes;i.next();){var a=i.value;wg(t,e,a)&&n.add(a)}0<n.count&&(e.children=n.Ea())}break;case Xg:if(0<e.sourceEdges.count){for(n=new $,i=e.sourceVertexes;i.next();)wg(t,e,a=i.value)&&n.add(a);0<n.count&&(e.children=n.Ea())}break;default:b("Unhandled path value"+t.qd.toString())}for(i=(n=e.children).length,a=0;a<i;a++){var o=n[a];o.initialized=!0,o.level=e.level+1,o.parent=e,t.Qb.remove(o)}for(e=0;e<i;e++)vg(t,n[e])}}function wg(t,e,n){if(n.initialized){if(null===e)var i=!1;else{for(i=e.parent;null!==i&&i!==n;)i=i.parent;i=i===n}if(i||n.level>e.level)return!1;t.removeChild(n.parent,n)}return!0}function xg(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===am&&t.sortTreeVertexChildren(e);for(var n=0,i=e.childrenCount,a=0,o=e.children,r=o.length,s=0;s<r;s++){var l=o[s];xg(t,l),n+=l.descendantCount+1,i=Math.max(i,l.maxChildrenCount),a=Math.max(a,l.maxGenerationCount)}e.descendantCount=n,e.maxChildrenCount=i,e.maxGenerationCount=0<i?a+1:0}}function bg(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var n=(e=e.children).length,i=0;i<n;i++)bg(t,e[i])}}function Sg(t,e){if(null!==e){e.alignment!==am&&t.sortTreeVertexChildren(e);for(var n=(e=e.children).length,i=0;i<n;i++)Sg(t,e[i])}}function kg(t){return t===im||t===am||t===om||t===rm}function Pg(t){return t===im||t===am}function Mg(t){var e=t.parent;if(null!==e){var n=e.alignment;if(kg(n)){if(Pg(n)){for(e=e.children,n=0;n<e.length&&t!==e[n];)n++;return 0==n%2}if(n===om)return!0}}return!1}function _g(t,e){if(0===e.childrenCount){var n=!1,i=0;null!==e.parent&&(i=e.parent.angle,n=kg(n=e.parent.alignment));var a=Mg(e);e.S.h(0,0),e.Ca.h(e.width,e.height),null===e.parent||null===e.comments||(180!==i&&270!==i||n)&&!a?e.ka.h(0,0):180===i&&!n||(90===i||270===i)&&a?e.ka.h(e.width-2*e.focus.x,0):e.ka.h(0,e.height-2*e.focus.y)}else{n=90===(i=Gg(e))||270===i;for(var o=0,r=(a=e.children).length,s=0;s<r;s++){var l=a[s];o=Math.max(o,n?l.Ca.width:l.Ca.height)}var c=e.alignment,h=c===em,d=c===nm;s=kg(c);var u=Math.max(0,e.breadthLimit);l=Ug(e);var f=e.nodeSpacing,p=Wg(e),g=h||d?0:p/2,m=e.rowSpacing,y=0;(h||d||e.Pl||e.Ql&&1===e.maxGenerationCount)&&(y=Math.max(0,e.rowIndent)),h=e.width;var v=e.height,w=0,x=0,S=0,k=0,P=0,M=0,_=0,L=0,T=0;if(s&&!Pg(c)&&135<i&&a.reverse(),Pg(c))if(1<r)for(var O=0;O<r;O++){var A=a[O],E=A.Ca;0==O%2&&O!==r-1&&(T=Math.max(T,(n?E.width:E.height)+Og(A)-f))}else 1===r&&(T=n?a[0].Ca.width:a[0].Ca.height);if(s)switch(c){case im:case am:T=(x=135>i?Lg(e,a,T,w,x):Tg(e,a,T,w,x)).x,w=x.width,x=x.height;break;case om:for(t=0;t<r;t++)g=(u=a[t]).Ca,S=0===_?0:m,n?(u.S.h(o-g.width,P+S),w=Math.max(w,g.width),x=Math.max(x,P+S+g.height),P+=S+g.height):(u.S.h(k+S,o-g.height),w=Math.max(w,k+S+g.width),x=Math.max(x,g.height),k+=S+g.width),_++;break;case rm:for(o=0;o<r;o++)u=(t=a[o]).Ca,g=0===_?0:m,n?(t.S.h(f/2+e.focus.x,P+g),w=Math.max(w,u.width),x=Math.max(x,P+g+u.height),P+=g+u.height):(t.S.h(k+g,f/2+e.focus.y),w=Math.max(w,k+g+u.width),x=Math.max(x,u.height),k+=g+u.width),_++}else for(O=0;O<r;O++){if(E=(A=a[O]).Ca,n){0<u&&0<_&&k+f+E.width>u&&(k<o&&Bg(e,c,o-k,0,L,O-1),M++,_=0,L=O,S=x,k=0,P=135<i?-x-m:x+m);var C=0===_?g:f;Dg(t,A,0,P),A.S.h(k+C,P),w=Math.max(w,k+C+E.width),x=Math.max(x,S+(0===M?0:m)+E.height),k+=C+E.width}else 0<u&&0<_&&P+f+E.height>u&&(P<o&&Bg(e,c,0,o-P,L,O-1),M++,_=0,L=O,S=w,P=0,k=135<i?-w-m:w+m),C=0===_?g:f,Dg(t,A,k,0),A.S.h(k,P+C),x=Math.max(x,P+C+E.height),w=Math.max(w,S+(0===M?0:m)+E.width),P+=C+E.height;_++}switch(0<M&&(n?(x+=Math.max(0,l),k<w&&Bg(e,c,w-k,0,L,r-1),0<y&&(d||jg(e,y,0,0,r-1),w+=y)):(w+=Math.max(0,l),P<x&&Bg(e,c,0,x-P,L,r-1),0<y&&(d||jg(e,0,y,0,r-1),x+=y))),y=d=0,c){case Qg:n?d+=w/2-e.focus.x-p/2:y+=x/2-e.focus.y-p/2;break;case tm:0<M?n?d+=w/2-e.focus.x-p/2:y+=x/2-e.focus.y-p/2:n?d+=(c=a[0].S.x+a[0].ka.x)+(a[r-1].S.x+a[r-1].ka.x+2*a[r-1].focus.x-c)/2-e.focus.x-p/2:y+=(c=a[0].S.y+a[0].ka.y)+(a[r-1].S.y+a[r-1].ka.y+2*a[r-1].focus.y-c)/2-e.focus.y-p/2;break;case em:n?(d-=p,w+=p):(y-=p,x+=p);break;case nm:n?(d+=w-e.width+p,w+=p):(y+=x-e.height+p,x+=p);break;case im:case am:n?d+=1<r?T+f/2-e.focus.x:a[0].focus.x-e.focus.x+a[0].ka.x:y+=1<r?T+f/2-e.focus.y:a[0].focus.y-e.focus.y+a[0].ka.y;break;case om:n?d+=w+f/2-e.focus.x:y+=x+f/2-e.focus.y;break;case rm:break;default:b("Unhandled alignment value "+c.toString())}for(p=0;p<r;p++)c=a[p],n?c.S.h(c.S.x+c.ka.x-d,c.S.y+(135<i?(s?-x:-c.Ca.height)+c.ka.y-l:v+l+c.ka.y)):c.S.h(c.S.x+(135<i?(s?-w:-c.Ca.width)+c.ka.x-l:h+l+c.ka.x),c.S.y+c.ka.y-y);n?(w=Eg(e,w,d),0>d&&(d=0),135<i&&(y+=x+l),x=Math.max(Math.max(x,v),x+v+l)):(135<i&&(d+=w+l),w=Math.max(Math.max(w,h),w+h+l),x=Cg(e,x,y),0>y&&(y=0)),e.ka.h(d,y),e.Ca.h(w,x)}}function Lg(t,e,n,i,a){var o=e.length;if(0===o)return new jt(n,0,i,a);if(1===o)return new jt(n,0,i=(t=e[0]).Ca.width,a=t.Ca.height);for(var r=t.nodeSpacing,s=t.rowSpacing,l=90===Gg(t),c=0,h=0,d=0,u=0;u<o;u++)if(!(0!=u%2||1<o&&u===o-1)){var f=e[u],p=f.Ca,g=0===c?0:s;if(l){var m=Og(f)-r;f.S.h(n-(p.width+m),d+g),i=Math.max(i,p.width+m),a=Math.max(a,d+g+p.height),d+=g+p.height}else m=Og(f)-r,f.S.h(h+g,n-(p.height+m)),a=Math.max(a,p.height+m),i=Math.max(i,h+g+p.width),h+=g+p.width;c++}for(c=0,f=h,u=d,l?(h=n+r,d=0):(h=0,d=n+r),p=0;p<o;p++)if(0!=p%2){m=(g=e[p]).Ca;var y=0===c?0:s;if(l){var v=Og(g)-r;g.S.h(h+v,d+y),i=Math.max(i,h+m.width+v),a=Math.max(a,d+y+m.height),d+=y+m.height}else v=Og(g)-r,g.S.h(h+y,d+v),i=Math.max(i,h+y+m.width),a=Math.max(a,d+m.height+v),h+=y+m.width;c++}return 1<o&&1==o%2&&(o=(e=e[o-1]).Ca,s=null===e.parent?0:e.parent.rowSpacing,l?(e.S.h(n+r/2-e.focus.x-e.ka.x,a+s),l=n+r/2-e.focus.x-e.ka.x,i=Math.max(i,l+o.width),0>l&&(i-=l),a=Math.max(a,Math.max(u,d)+s+o.height),0>e.S.x&&(n=Ag(t,e.S.x,!1,n,r))):(e.S.h(i+s,n+r/2-e.focus.y-e.ka.y),i=Math.max(i,Math.max(f,h)+s+o.width),d=n+r/2-e.focus.y-e.ka.y,a=Math.max(a,d+o.height),0>d&&(a-=d),0>e.S.y&&(n=Ag(t,e.S.y,!0,n,r)))),new jt(n,0,i,a)}function Tg(t,e,n,i,a){var o=e.length;if(0===o)return new jt(n,0,i,a);if(1===o)return new jt(n,0,i=(e=e[0]).Ca.width,a=e.Ca.height);for(var r=t.nodeSpacing,s=t.rowSpacing,l=270===Gg(t),c=0,h=0,d=0,u=0;u<o;u++)if(!(0!=u%2||1<o&&u===o-1)){var f=e[u],p=f.Ca,g=0===c?0:s;if(l){var m=Og(f)-r;d-=g+p.height,f.S.h(n-(p.width+m),d),i=Math.max(i,p.width+m),a=Math.max(a,Math.abs(d))}else m=Og(f)-r,h-=g+p.width,f.S.h(h,n-(p.height+m)),a=Math.max(a,p.height+m),i=Math.max(i,Math.abs(h));c++}for(c=0,f=h,u=d,l?(h=n+r,d=0):(h=0,d=n+r),p=0;p<o;p++)if(0!=p%2){m=(g=e[p]).Ca;var y=0===c?0:s;if(l){var v=Og(g)-r;d-=y+m.height,g.S.h(h+v,d),i=Math.max(i,h+m.width+v),a=Math.max(a,Math.abs(d))}else v=Og(g)-r,h-=y+m.width,g.S.h(h,d+v),a=Math.max(a,d+m.height+v),i=Math.max(i,Math.abs(h));c++}for(1<o&&1==o%2&&(c=(s=e[o-1]).Ca,p=null===s.parent?0:s.parent.rowSpacing,l?(s.S.h(n+r/2-s.focus.x-s.ka.x,-a-c.height-p),h=n+r/2-s.focus.x-s.ka.x,i=Math.max(i,h+c.width),0>h&&(i-=h),a=Math.max(a,Math.abs(Math.min(u,d))+p+c.height),0>s.S.x&&(n=Ag(t,s.S.x,!1,n,r))):(s.S.h(-i-c.width-p,n+r/2-s.focus.y-s.ka.y),i=Math.max(i,Math.abs(Math.min(f,h))+p+c.width),d=n+r/2-s.focus.y-s.ka.y,a=Math.max(a,d+c.height),0>d&&(a-=d),0>s.S.y&&(n=Ag(t,s.S.y,!0,n,r)))),t=0;t<o;t++)r=e[t],l?r.S.h(r.S.x,r.S.y+a):r.S.h(r.S.x+i,r.S.y);return new jt(n,0,i,a)}function Og(t){return null===t.parent?0:t.parent.nodeSpacing}function Ag(t,e,n,i,a){for(var o=(t=t.children).length,r=0;r<o;r++)n?t[r].S.h(t[r].S.x,t[r].S.y-e):t[r].S.h(t[r].S.x-e,t[r].S.y);return e=t[o-1],Math.max(i,n?e.ka.y+e.focus.y-a/2:e.ka.x+e.focus.x-a/2)}function Eg(t,e,n){switch(t.alignment){case tm:case Qg:return n+t.width>e&&(e=n+t.width),0>n&&(e-=n),e;case em:return t.width>e?t.width:e;case nm:return 2*t.focus.x>e?t.width:e+t.width-2*t.focus.x;case im:case am:return Math.max(t.width,Math.max(e,n+t.width)-Math.min(0,n));case om:return t.width-t.focus.x+t.nodeSpacing/2+e;case rm:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+e);default:return e}}function Cg(t,e,n){switch(t.alignment){case tm:case Qg:return n+t.height>e&&(e=n+t.height),0>n&&(e-=n),e;case em:return t.height>e?t.height:e;case nm:return 2*t.focus.y>e?t.height:e+t.height-2*t.focus.y;case im:case am:return Math.max(t.height,Math.max(e,n+t.height)-Math.min(0,n));case om:return t.height-t.focus.y+t.nodeSpacing/2+e;case rm:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+e);default:return e}}function Ng(t,e,n){switch(t){case Qg:case tm:e/=2,n/=2;break;case em:n=e=0;break;case nm:break;default:b("Unhandled alignment value "+t.toString())}return new gt(e,n)}function Bg(t,e,n,i,a,o){jg(t,(e=Ng(e,n,i)).x,e.y,a,o)}function jg(t,e,n,i,a){if(0!==e||0!==n)for(t=t.children;i<=a;i++){var o=t[i].S;o.x+=e,o.y+=n}}function Dg(t,e,n,i){var a=e.parent;switch(t.qd){case Yg:for(t=e.sourceEdges;t.next();)(e=t.value).fromVertex===a&&e.relativePoint.h(n,i);break;case Xg:for(t=e.destinationEdges;t.next();)(e=t.value).toVertex===a&&e.relativePoint.h(n,i);break;default:b("Unhandled path value "+t.qd.toString())}}function Fg(t,e,n){for(var i=0;i<t.length;i++){var a=t[i];a.x+=e,a.y+=n}}function Rg(t,e,n,i,a,o,r,s){var l=Gg(e),c=90===l||270===l,h=e.nodeSpacing;e=i;var d=a;i=o;var u=r,f=n.Bo,p=n.No;r=n.Ca;var g=c?Math.max(u,r.height):Math.max(i,r.width);if(null!==f&&l===Gg(n)||(f=Ig(t,2),p=Ig(t,2),c?(f[0].h(0,0),f[1].h(0,r.height),p[0].h(r.width,0),p[1].h(p[0].x,f[1].y)):(f[0].h(0,0),f[1].h(r.width,0),p[0].h(0,r.height),p[1].h(f[1].x,p[0].y))),c){if(u=9999999,!(null===d||2>d.length||null===f||2>f.length))for(a=n=0;n<d.length&&a<f.length;){o=d[n];var m=f[a];l=m.x,c=m.y,l+=i;var y=o;n+1<d.length&&(y=d[n+1]);var v=m;m=v.x,v=v.y,a+1<f.length&&(m=(v=f[a+1]).x,v=v.y,m+=i);var w=u;o.y===c?w=l-o.x:o.y>c&&o.y<v?w=l+(o.y-c)/(v-c)*(m-l)-o.x:c>o.y&&c<y.y&&(w=l-(o.x+(c-o.y)/(y.y-o.y)*(y.x-o.x))),w<u&&(u=w),y.y<=o.y?n++:v<=c?a++:(y.y<=v&&n++,v<=y.y&&a++)}if(u=i-u,n=f,a=u+=h,null===e||2>e.length||null===n||2>n.length)i=null;else{for(h=Ig(t,e.length+n.length),i=o=l=0;o<n.length&&n[o].y<e[0].y;)c=n[o++],h[i++].h(c.x+a,c.y);for(;l<e.length;)c=e[l++],h[i++].h(c.x,c.y);for(l=e[e.length-1].y;o<n.length&&n[o].y<=l;)o++;for(;o<n.length&&n[o].y>l;)c=n[o++],h[i++].h(c.x+a,c.y);for(n=Ig(t,i),l=0;l<i;l++)n[l].assign(h[l]);zg(t,h),i=n}if(o=p,l=u,null===d||2>d.length||null===o||2>o.length)a=null;else{for(h=Ig(t,d.length+o.length),a=c=n=0;n<d.length&&d[n].y<o[0].y;)y=d[n++],h[a++].h(y.x,y.y);for(;c<o.length;)y=o[c++],h[a++].h(y.x+l,y.y);for(o=o[o.length-1].y;n<d.length&&d[n].y<=o;)n++;for(;n<d.length&&d[n].y>o;)l=d[n++],h[a++].h(l.x,l.y);for(o=Ig(t,a),n=0;n<a;n++)o[n].assign(h[n]);zg(t,h),a=o}return o=Math.max(0,u)+r.width,r=g,zg(t,e),zg(t,f),zg(t,d),zg(t,p),s[0]=i,s[1]=a,new jt(u,0,o,r)}if(i=9999999,!(null===d||2>d.length||null===f||2>f.length))for(a=n=0;n<d.length&&a<f.length;)o=d[n],l=(m=f[a]).x,c=m.y,c+=u,y=o,n+1<d.length&&(y=d[n+1]),m=(v=m).x,v=v.y,a+1<f.length&&(m=(v=f[a+1]).x,v=v.y,v+=u),w=i,o.x===l?w=c-o.y:o.x>l&&o.x<m?w=c+(o.x-l)/(m-l)*(v-c)-o.y:l>o.x&&l<y.x&&(w=c-(o.y+(l-o.x)/(y.x-o.x)*(y.y-o.y))),w<i&&(i=w),y.x<=o.x?n++:m<=l?a++:(y.x<=m&&n++,m<=y.x&&a++);if(u-=i,n=f,a=u+=h,null===e||2>e.length||null===n||2>n.length)i=null;else{for(h=Ig(t,e.length+n.length),i=o=l=0;o<n.length&&n[o].x<e[0].x;)c=n[o++],h[i++].h(c.x,c.y+a);for(;l<e.length;)c=e[l++],h[i++].h(c.x,c.y);for(l=e[e.length-1].x;o<n.length&&n[o].x<=l;)o++;for(;o<n.length&&n[o].x>l;)c=n[o++],h[i++].h(c.x,c.y+a);for(n=Ig(t,i),l=0;l<i;l++)n[l].assign(h[l]);zg(t,h),i=n}if(o=p,l=u,null===d||2>d.length||null===o||2>o.length)a=null;else{for(h=Ig(t,d.length+o.length),a=c=n=0;n<d.length&&d[n].x<o[0].x;)y=d[n++],h[a++].h(y.x,y.y);for(;c<o.length;)y=o[c++],h[a++].h(y.x,y.y+l);for(o=o[o.length-1].x;n<d.length&&d[n].x<=o;)n++;for(;n<d.length&&d[n].x>o;)l=d[n++],h[a++].h(l.x,l.y);for(o=Ig(t,a),n=0;n<a;n++)o[n].assign(h[n]);zg(t,h),a=o}return o=g,r=Math.max(0,u)+r.height,zg(t,e),zg(t,f),zg(t,d),zg(t,p),s[0]=i,s[1]=a,new jt(u,0,o,r)}function Ig(t,e){if(void 0!==(t=t.Xt[e])&&void 0!==(t=t.pop()))return t;t=[];for(var n=0;n<e;n++)t[n]=new gt;return t}function zg(t,e){var n=e.length,i=t.Xt[n];void 0===i&&(i=[],t.Xt[n]=i),i.push(e)}function Hg(t,e,n,i){if(null!==e){e.x=n,e.y=i;for(var a=(e=e.children).length,o=0;o<a;o++){var r=e[o];Hg(t,r,n+r.S.x,i+r.S.y)}}}function Vg(t,e){if(null!==e){t.setPortSpots(e);for(var n=(e=e.children).length,i=0;i<n;i++)Vg(t,e[i])}}function Gg(t){return 45>=(t=t.angle)?0:135>=t?90:225>=t?180:315>=t?270:0}function Ug(t){var e=Gg(t);e=90===e||270===e;var n=t.layerSpacing;if(0<t.layerSpacingParentOverlap){var i=Math.min(1,t.layerSpacingParentOverlap);n-=e?t.height*i:t.width*i}return n<(e?-t.height:-t.width)&&(n=e?-t.height:-t.width),n}function Wg(t){var e=Gg(t),n=t.nodeIndent;if(0<t.nodeIndentPastParent){var i=Math.min(1,t.nodeIndentPastParent);n+=90===e||270===e?t.width*i:t.height*i}return Math.max(0,n)}wp.className="LayeredDigraphLayout",wp.CycleDepthFirst=Jp,wp.CycleGreedy=Qp,wp.CycleFromLayers=tg,wp.LayerOptimalLinkLength=eg,wp.LayerLongestPathSink=ng,wp.LayerLongestPathSource=ig,wp.InitDepthFirstOut=ag,wp.InitDepthFirstIn=og,wp.InitNaive=rg,wp.AggressiveNone=sg,wp.AggressiveLess=lg,wp.AggressiveMore=cg,wp.PackNone=0,wp.PackExpand=1,wp.PackStraighten=2,wp.PackMedian=4,wp.PackAll=15,dg.className="SegInfo",d(ug,su),ug.prototype.createVertex=function(){return new fg(this)},ug.prototype.createEdge=function(){return new pg(this)},ug.className="LayeredDigraphNetwork",d(fg,uu),fg.prototype.serializeVertexProperties=function(t,e){uu.prototype.serializeVertexProperties.call(this,t,e),t.layer=this.layer,t.column=this.column,t.index=this.index,t.component=this.component,t.near=this.near?nt(this.near):null,t.valid=this.valid,t.gg=this.gg,t.finish=this.finish,t.nf=this.nf,t.Tj=this.Tj,t.Sj=this.Sj},fg.prototype.deserializeVertexProperties=function(t,e,n,i){uu.prototype.deserializeVertexProperties.call(this,t,e,n,i),this.layer=t.layer,this.column=t.column,this.index=t.index,this.component=t.component,(e=e.get(t.near))&&(this.near=e),this.valid=t.valid,this.gg=t.gg,this.finish=t.finish,this.nf=t.nf,this.Tj=t.Tj,this.Sj=t.Sj},u.Object.defineProperties(fg.prototype,{layer:{get:function(){return this.Ah},set:function(t){this.Ah!==t&&(this.Ah=t)}},column:{get:function(){return this.rg},set:function(t){this.rg!==t&&(this.rg=t)}},index:{get:function(){return this.Wa},set:function(t){this.Wa!==t&&(this.Wa=t)}},component:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},near:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}}}),fg.className="LayeredDigraphVertex",d(pg,pu),pg.prototype.serializeEdgeProperties=function(t,e){pu.prototype.serializeEdgeProperties.call(this,t,e),t.valid=this.valid,t.rev=this.rev,t.forest=this.forest,t.portFromPos=this.portFromPos,t.portToPos=this.portToPos,t.portFromColOffset=this.portFromColOffset,t.portToColOffset=this.portToColOffset},pg.prototype.deserializeEdgeProperties=function(t,e,n,i){pu.prototype.deserializeEdgeProperties.call(this,t,e,n,i),this.valid=t.valid,this.rev=t.rev,this.forest=t.forest,this.portFromPos=t.portFromPos,this.portToPos=t.portToPos,this.portFromColOffset=t.portFromColOffset,this.portToColOffset=t.portToColOffset},u.Object.defineProperties(pg.prototype,{fromVertex:{get:function(){return this.ad},set:function(t){this.ad!==t&&(this.ad=t)}},toVertex:{get:function(){return this.jd},set:function(t){this.jd!==t&&(this.jd=t)}},valid:{get:function(){return this.Ga},set:function(t){this.Ga!==t&&(this.Ga=t)}},rev:{get:function(){return this.ga},set:function(t){this.ga!==t&&(this.ga=t)}},forest:{get:function(){return this.j},set:function(t){this.j!==t&&(this.j=t)}},portFromPos:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},portToPos:{get:function(){return this.W},set:function(t){this.W!==t&&(this.W=t)}},portFromColOffset:{get:function(){return this.m},set:function(t){this.m!==t&&(this.m=t)}},portToColOffset:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}}}),pg.className="LayeredDigraphEdge",d(gg,Yd),gg.prototype.cloneProtected=function(t){Yd.prototype.cloneProtected.call(this,t),t.En=this.En,t.Yn=this.Yn,t.aq=this.aq,t.od=this.od,t.Nb=this.Nb,t.Td.assign(this.Td),t.V.copyInheritedPropertiesFrom(this.V),t.Y.copyInheritedPropertiesFrom(this.Y)},gg.prototype.ob=function(t){t.classType===gg?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.arrangement=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.treeStyle=t:b("Unknown enum value: "+t):Yd.prototype.ob.call(this,t)},gg.prototype.createNetwork=function(){return new wm(this)},gg.prototype.makeNetwork=function(t){function e(t){if(t instanceof xh)return!t.isLinkLabel&&"Comment"!==t.category;if(t instanceof Ih){var e=t.fromNode;return null!==e&&!e.isLinkLabel&&"Comment"!==e.category&&(null!==(t=t.toNode)&&!t.isLinkLabel&&"Comment"!==t.category)}return!1}var n=this.createNetwork();return t instanceof ka?(n.eg(t.nodes,!0,e),n.eg(t.links,!0,e)):t instanceof jh?n.eg(t.memberParts,!1,e):n.eg(t.iterator,!1,e),n},gg.prototype.doLayout=function(t){null===this.network&&(this.network=this.makeNetwork(t)),this.arrangement!==gm&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var e=this.diagram;if(null===e&&t instanceof ka&&(e=t),this.path===qg&&null!==e?this.qd=e.isTreePathToChildren?Yg:Xg:this.qd=this.path===qg?Yg:this.path,0<this.network.vertexes.count){for(this.network.oo(),t=this.network.vertexes.iterator;t.next();)(e=t.value).initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.Qb.count){for(t=new Q,e=this.Qb.iterator;e.next();){var n=e.value;n instanceof xh?null!==(n=this.network.ei(n))&&t.add(n):n instanceof xm&&t.add(n)}this.Qb=t}for(0===this.Qb.count&&this.findRoots(),t=this.Qb.copy().iterator;t.next();)(e=t.value).initialized||(e.initialized=!0,vg(this,e));for(e=this.network.vertexes,t=null;0<(t=mg(e)).count;)null!==(e=yg(this,t))&&this.Qb.add(e),e.initialized=!0,vg(this,e),e=t;for(t=this.Qb.iterator;t.next();)(e=t.value)instanceof xm&&xg(this,e);for(t=this.Qb.iterator;t.next();)(e=t.value)instanceof xm&&bg(this,e);for(t=this.Qb.iterator;t.next();)(e=t.value)instanceof xm&&Sg(this,e);if(this.ju(),this.layerStyle===vm){for(t=[],e=this.network.vertexes.iterator;e.next();){var i=(n=e.value).parent;null===i&&(i=n),i=0===i.angle||180===i.angle;var a=t[n.level];void 0===a&&(a=0),t[n.level]=Math.max(a,i?n.width:n.height)}for(e=0;e<t.length;e++)void 0===t[e]&&(t[e]=0);for(this.Ev=t,e=this.network.vertexes.iterator;e.next();)null===(i=(n=e.value).parent)&&(i=n),0===i.angle||180===i.angle?(180===i.angle&&(n.focusX+=t[n.level]-n.width),n.width=t[n.level]):(270===i.angle&&(n.focusY+=t[n.level]-n.height),n.height=t[n.level])}else if(this.layerStyle===ym)for(t=this.network.vertexes.iterator;t.next();){for(n=0===(e=t.value).angle||180===e.angle,i=-1,a=0;a<e.children.length;a++){var o=e.children[a];i=Math.max(i,n?o.width:o.height)}if(0<=i)for(a=0;a<e.children.length;a++)o=e.children[a],n?(180===e.angle&&(o.focusX+=i-o.width),o.width=i):(270===e.angle&&(o.focusY+=i-o.height),o.height=i)}for(t=this.Qb.iterator;t.next();)(e=t.value)instanceof xm&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.Qb=new Q,this.isValidLayout=!0},gg.prototype.findRoots=function(){for(var t=this.network.vertexes,e=t.iterator;e.next();){var n=e.value;switch(this.qd){case Yg:0===n.sourceEdges.count&&this.Qb.add(n);break;case Xg:0===n.destinationEdges.count&&this.Qb.add(n);break;default:b("Unhandled path value "+this.qd.toString())}}0===this.Qb.count&&(null!==(t=yg(this,t))&&this.Qb.add(t))},gg.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var n=t.children,i=0,a=0;a<n.length;a++)n[a]===e&&i++;if(0<i){i=Array(n.length-i);for(var o=a=0;o<n.length;o++)n[o]!==e&&(i[a++]=n[o]);t.children=i}}},gg.prototype.initializeTreeVertexValues=function(t){if(t.copyInheritedPropertiesFrom(function(t,e){switch(t.Yn){default:case cm:return null!==e.parent?e.parent:t.V;case um:return null===e.parent?t.V:null===e.parent.parent?t.Y:e.parent;case dm:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.Y:t.V;case hm:var n=!0;if(0===e.childrenCount)n=!1;else for(var i=e.children,a=i.length,o=0;o<a;o++)if(0<i[o].childrenCount){n=!1;break}return n&&null!==e.parent?t.Y:null!==e.parent?e.parent:t.V}}(this,t)),null!==t.parent&&t.parent.alignment===am){for(var e=t.angle,n=t.parent.children,i=0;i<n.length&&t!==n[i];)i++;0==i%2?i!==n.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},gg.prototype.assignTreeVertexValues=function(){},gg.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case Kg:break;case Zg:t.children.reverse();break;case $g:t.children.sort(t.comparer);break;case Jg:t.children.sort(t.comparer),t.children.reverse();break;default:b("Unhandled sorting value "+t.sorting.toString())}},gg.prototype.ju=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},gg.prototype.addComments=function(t){var e=t.angle,n=t.parent,i=0,a=!1;null!==n&&(i=n.angle,a=kg(a=n.alignment)),e=90===e||270===e,i=90===i||270===i,n=0===t.childrenCount;var o=0,r=0,s=0,l=t.commentSpacing;if(null!==t.node)for(var c=t.node.vu();c.next();){var h=c.value;"Comment"===h.category&&h.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(h),h.Za(),h=h.measuredBounds,e&&!n||!a&&!i&&n||a&&i&&n?(o=Math.max(o,h.width),r+=h.height+Math.abs(s)):(o+=h.width+Math.abs(s),r=Math.max(r,h.height)),s=l)}null!==t.comments&&(e&&!n||!a&&!i&&n||a&&i&&n?(o+=Math.abs(t.commentMargin),r=Math.max(0,r-t.height)):(r+=Math.abs(t.commentMargin),o=Math.max(0,o-t.width)),a=jt.allocAt(0,0,t.bounds.width+o,t.bounds.height+r),t.bounds=a,jt.free(a))},gg.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.node.measuredBounds,n=t.parent,i=t.angle,a=0,o=!1;null!==n&&(a=n.angle,o=kg(o=n.alignment)),i=90===i||270===i,n=90===a||270===a;for(var r=0===t.childrenCount,s=Mg(t),l=0,c=t.comments,h=c.length,d=gt.alloc(),u=0;u<h;u++){var f=c[u],p=f.measuredBounds;if(i&&!r||!o&&!n&&r||o&&n&&r){if(135<a&&!o||n&&s)if(0<=t.commentMargin)for(d.h(t.bounds.x-t.commentMargin-p.width,t.bounds.y+l),f.move(d),f=f.Kd();f.next();){var g=f.value;g.fromSpot=Ee,g.toSpot=Ce}else for(d.h(t.bounds.x+2*t.focus.x-t.commentMargin,t.bounds.y+l),f.move(d),f=f.Kd();f.next();)(g=f.value).fromSpot=Ce,g.toSpot=Ee;else if(0<=t.commentMargin)for(d.h(t.bounds.x+2*t.focus.x+t.commentMargin,t.bounds.y+l),f.move(d),f=f.Kd();f.next();)(g=f.value).fromSpot=Ce,g.toSpot=Ee;else for(d.h(t.bounds.x+t.commentMargin-p.width,t.bounds.y+l),f.move(d),f=f.Kd();f.next();)(g=f.value).fromSpot=Ee,g.toSpot=Ce;l=0<=t.commentSpacing?l+(p.height+t.commentSpacing):l+(t.commentSpacing-p.height)}else{if(135<a&&!o||!n&&s)if(0<=t.commentMargin)for(d.h(t.bounds.x+l,t.bounds.y-t.commentMargin-p.height),f.move(d),f=f.Kd();f.next();)(g=f.value).fromSpot=Ae,g.toSpot=Ne;else for(d.h(t.bounds.x+l,t.bounds.y+2*t.focus.y-t.commentMargin),f.move(d),f=f.Kd();f.next();)(g=f.value).fromSpot=Ne,g.toSpot=Ae;else if(0<=t.commentMargin)for(d.h(t.bounds.x+l,t.bounds.y+2*t.focus.y+t.commentMargin),f.move(d),f=f.Kd();f.next();)(g=f.value).fromSpot=Ne,g.toSpot=Ae;else for(d.h(t.bounds.x+l,t.bounds.y+t.commentMargin-p.height),f.move(d),f=f.Kd();f.next();)(g=f.value).fromSpot=Ae,g.toSpot=Ne;l=0<=t.commentSpacing?l+(p.width+t.commentSpacing):l+(t.commentSpacing-p.width)}}if(gt.free(d),e=l-t.commentSpacing-(i?e.height:e.width),this.qd===Yg)for(t=t.destinationEdges;t.next();)null===(a=t.value.link)||a.isAvoiding||(a.fromEndSegmentLength=0<e?e:NaN);else for(t=t.sourceEdges;t.next();)null===(a=t.value.link)||a.isAvoiding||(a.toEndSegmentLength=0<e?e:NaN)}},gg.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,n=e.length,i=0;i<n;i++)this.layoutTree(e[i]);switch(t.compaction){case sm:_g(this,t);break;case lm:if(t.alignment===am)_g(this,t);else if(0===t.childrenCount)n=!1,e=0,null!==(i=t.parent)&&(e=i.angle,n=kg(n=i.alignment)),i=Mg(t),t.S.h(0,0),t.Ca.h(t.width,t.height),null===t.parent||null===t.comments||(180!==e&&270!==e||n)&&!i?t.ka.h(0,0):180===e&&!n||(90===e||270===e)&&i?t.ka.h(t.width-2*t.focus.x,0):t.ka.h(0,t.height-2*t.focus.y),t.Bo=null,t.No=null;else{var a=Gg(t);e=90===a||270===a;var o=0,r=t.children,s=r.length;for(n=0;n<s;n++)i=r[n],o=Math.max(o,e?i.Ca.width:i.Ca.height);var l=t.alignment,c=l===nm,h=kg(l),d=Math.max(0,t.breadthLimit);n=Ug(t);var u=t.nodeSpacing,f=Wg(t),p=t.rowSpacing,g=0;(l===em||c||t.Pl||t.Ql&&1===t.maxGenerationCount)&&(g=Math.max(0,t.rowIndent)),i=t.width;var m=t.height,y=0,v=0,w=0,x=null,S=null,k=0,P=0,M=0,_=0,L=0,T=0,O=0,C=0;if(h&&!Pg(l)&&135<a&&r.reverse(),Pg(l))if(1<s)for(var N=0;N<s;N++)0==N%2&&N!==s-1&&(C=Math.max(C,e?r[N].Ca.width:r[N].Ca.height));else 1===s&&(C=e?r[0].Ca.width:r[0].Ca.height);if(h){switch(l){case im:C=(v=135>a?Lg(t,r,C,y,v):Tg(t,r,C,y,v)).x,y=v.width,v=v.height;break;case om:for(x=0;x<s;x++)d=(S=r[x]).Ca,w=0===T?0:p,e?(S.S.h(o-d.width,_+w),y=Math.max(y,d.width),v=Math.max(v,_+w+d.height),_+=w+d.height):(S.S.h(M+w,o-d.height),y=Math.max(y,M+w+d.width),v=Math.max(v,d.height),M+=w+d.width),T++;break;case rm:for(x=0;x<s;x++)o=(S=r[x]).Ca,d=0===T?0:p,e?(S.S.h(u/2+t.focus.x,_+d),y=Math.max(y,o.width),v=Math.max(v,_+d+o.height),_+=d+o.height):(S.S.h(M+d,u/2+t.focus.y),y=Math.max(y,M+d+o.width),v=Math.max(v,o.height),M+=d+o.width),T++}x=Ig(this,2),S=Ig(this,2),e?(x[0].h(0,0),x[1].h(0,v),S[0].h(y,0)):(x[0].h(0,0),x[1].h(y,0),S[0].h(0,v)),S[1].h(y,v)}else for(N=0;N<s;N++){var B=r[N],j=B.Ca;if(e){0<d&&0<T&&M+u+j.width>d&&(M<o&&Bg(t,l,o-M,0,O,N-1),L++,T=0,O=N,w=v,M=0,_=135<a?-v-p:v+p),Dg(this,B,0,_);var D=0;if(0===T)x=B.Bo,S=B.No,k=j.width,P=j.height,(null===x||null===S||a!==Gg(B))&&(x=Ig(this,2),S=Ig(this,2),x[0].h(0,0),x[1].h(0,P),S[0].h(k,0),S[1].h(k,P));else{var F=A();D=(P=Rg(this,t,B,x,S,k,P,F)).x,x=F[0],S=F[1],k=P.width,P=P.height,E(F),M<j.width&&0>D&&(jg(t,-D,0,O,N-1),Fg(x,-D,0),Fg(S,-D,0),D=0)}B.S.h(D,_),y=Math.max(y,k),v=Math.max(v,w+(0===L?0:p)+j.height),M=k}else 0<d&&0<T&&_+u+j.height>d&&(_<o&&Bg(t,l,0,o-_,O,N-1),L++,T=0,O=N,w=y,_=0,M=135<a?-y-p:y+p),Dg(this,B,M,0),D=0,0===T?(x=B.Bo,S=B.No,k=j.width,P=j.height,(null===x||null===S||a!==Gg(B))&&(x=Ig(this,2),S=Ig(this,2),x[0].h(0,0),x[1].h(k,0),S[0].h(0,P),S[1].h(k,P))):(D=(P=Rg(this,t,B,x,S,k,P,F=A())).x,x=F[0],S=F[1],k=P.width,P=P.height,E(F),_<j.height&&0>D&&(jg(t,0,-D,O,N-1),Fg(x,0,-D),Fg(S,0,-D),D=0)),B.S.h(M,D),v=Math.max(v,P),y=Math.max(y,w+(0===L?0:p)+j.width),_=P;T++}switch(0<L&&(e?(v+=Math.max(0,n),M<y&&Bg(t,l,y-M,0,O,s-1),0<g&&(c||jg(t,g,0,0,s-1),y+=g)):(y+=Math.max(0,n),_<v&&Bg(t,l,0,v-_,O,s-1),0<g&&(c||jg(t,0,g,0,s-1),v+=g))),g=c=0,l){case Qg:e?c+=y/2-t.focus.x-f/2:g+=v/2-t.focus.y-f/2;break;case tm:0<L?e?c+=y/2-t.focus.x-f/2:g+=v/2-t.focus.y-f/2:e?c+=(C=r[0].S.x+r[0].ka.x)+(r[s-1].S.x+r[s-1].ka.x+2*r[s-1].focus.x-C)/2-t.focus.x-f/2:g+=(C=r[0].S.y+r[0].ka.y)+(r[s-1].S.y+r[s-1].ka.y+2*r[s-1].focus.y-C)/2-t.focus.y-f/2;break;case em:e?(c-=f,y+=f):(g-=f,v+=f);break;case nm:e?(c+=y-t.width+f,y+=f):(g+=v-t.height+f,v+=f);break;case im:e?c+=1<s?C+u/2-t.focus.x:r[0].focus.x-t.focus.x+r[0].ka.x:g+=1<s?C+u/2-t.focus.y:r[0].focus.y-t.focus.y+r[0].ka.y;break;case om:e?c+=y+u/2-t.focus.x:g+=v+u/2-t.focus.y;break;case rm:break;default:b("Unhandled alignment value "+l.toString())}for(f=0;f<s;f++)C=r[f],e?C.S.h(C.S.x+C.ka.x-c,C.S.y+(135<a?(h?-v:-C.Ca.height)+C.ka.y-n:m+n+C.ka.y)):C.S.h(C.S.x+(135<a?(h?-y:-C.Ca.width)+C.ka.x-n:i+n+C.ka.x),C.S.y+C.ka.y-g);if(s=r=0,h?e?(y=Eg(t,y,c),0>c&&(c=0),135<a&&(g+=v+n),v+=m+n,l===rm&&(r+=u/2+t.focus.x),s+=m+n):(135<a&&(c+=y+n),y+=i+n,v=Cg(t,v,g),0>g&&(g=0),l===rm&&(s+=u/2+t.focus.y),r+=i+n):e?(null===t.comments?i>y&&(r=(y=Ng(l,i-y,0)).x,s=y.y,y=i,c=0):y=Eg(t,y,c),0>c&&(r-=c,c=0),135<a&&(g+=v+n),v=Math.max(Math.max(v,m),v+m+n),s+=m+n):(135<a&&(c+=y+n),y=Math.max(Math.max(y,i),y+i+n),null===t.comments?m>v&&(r=(v=Ng(l,0,m-v)).x,s=v.y,v=m,g=0):v=Cg(t,v,g),0>g&&(s-=g,g=0),r+=i+n),0<L)a=Ig(this,4),L=Ig(this,4),e?(a[2].h(0,m+n),a[3].h(a[2].x,v),L[2].h(y,a[2].y),L[3].h(L[2].x,a[3].y)):(a[2].h(i+n,0),a[3].h(y,a[2].y),L[2].h(a[2].x,v),L[3].h(a[3].x,L[2].y));else{for(a=Ig(this,x.length+2),L=Ig(this,S.length+2),l=0;l<x.length;l++)h=x[l],a[l+2].h(h.x+r,h.y+s);for(l=0;l<S.length;l++)h=S[l],L[l+2].h(h.x+r,h.y+s)}e?(a[0].h(c,0),a[1].h(a[0].x,m),a[2].y<a[1].y&&(a[2].x>a[0].x?a[2].assign(a[1]):a[1].assign(a[2])),a[3].y<a[2].y&&(a[3].x>a[0].x?a[3].assign(a[2]):a[2].assign(a[3])),L[0].h(c+i,0),L[1].h(L[0].x,m),L[2].y<L[1].y&&(L[2].x<L[0].x?L[2].assign(L[1]):L[1].assign(L[2])),L[3].y<L[2].y&&(L[3].x<L[0].x?L[3].assign(L[2]):L[2].assign(L[3])),a[2].y-=n/2,L[2].y-=n/2):(a[0].h(0,g),a[1].h(i,a[0].y),a[2].x<a[1].x&&(a[2].y>a[0].y?a[2].assign(a[1]):a[1].assign(a[2])),a[3].x<a[2].x&&(a[3].y>a[0].y?a[3].assign(a[2]):a[2].assign(a[3])),L[0].h(0,g+m),L[1].h(i,L[0].y),L[2].x<L[1].x&&(L[2].y<L[0].y?L[2].assign(L[1]):L[1].assign(L[2])),L[3].x<L[2].x&&(L[3].y<L[0].y?L[3].assign(L[2]):L[2].assign(L[3])),a[2].x-=n/2,L[2].x-=n/2),zg(this,x),zg(this,S),t.Bo=a,t.No=L,t.ka.h(c,g),t.Ca.h(y,v)}break;default:b("Unhandled compaction value "+t.compaction.toString())}}},gg.prototype.arrangeTrees=function(){if(this.Nb===gm)for(var t=this.Qb.iterator;t.next();){var e=t.value;if(e instanceof xm){var n=e.node;if(null!==n){var i=n.position;n=i.x,i=i.y,isFinite(n)||(n=0),isFinite(i)||(i=0),Hg(this,e,n,i)}}}else{for(t=[],e=this.Qb.iterator;e.next();)(n=e.value)instanceof xm&&t.push(n);switch(this.sorting){case Kg:break;case Zg:t.reverse();break;case $g:t.sort(this.comparer);break;case Jg:t.sort(this.comparer),t.reverse();break;default:b("Unhandled sorting value "+this.sorting.toString())}for(e=(n=this.arrangementOrigin).x,n=n.y,i=0;i<t.length;i++){var a=t[i];switch(Hg(this,a,e+a.ka.x,n+a.ka.y),this.Nb){case fm:n+=a.Ca.height+this.Td.height;break;case pm:e+=a.Ca.width+this.Td.width;break;default:b("Unhandled arrangement value "+this.Nb.toString())}}}},gg.prototype.commitLayout=function(){this.dv(),this.commitNodes(),this.mu(),this.isRouting&&this.commitLinks()},gg.prototype.commitNodes=function(){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},gg.prototype.mu=function(){if(this.layerStyle===vm){for(var t=this.Ev,e=[],n=null,i=this.network.vertexes.iterator;i.next();){var a=i.value;null===n?n=a.bounds.copy():n.Xc(a.bounds);var o=e[a.level];o=void 0===o?Ug(a):Math.max(o,Ug(a)),e[a.level]=o}for(i=0;i<e.length;i++)void 0===e[i]&&(e[i]=0);if(90===this.angle||270===this.angle?(n.vc(this.nodeSpacing/2,this.layerSpacing),i=new gt(-this.nodeSpacing/2,-this.layerSpacing/2)):(n.vc(this.layerSpacing,this.nodeSpacing/2),i=new gt(-this.layerSpacing/2,-this.nodeSpacing/2)),a=[],n=90===this.angle||270===this.angle?n.width:n.height,o=0,180===this.angle||270===this.angle)for(var r=0;r<t.length;r++)o+=t[r]+e[r];for(r=0;r<t.length;r++){var s=t[r]+e[r];270===this.angle?(o-=s,a.push(new jt(0,o,n,s))):90===this.angle?(a.push(new jt(0,o,n,s)),o+=s):180===this.angle?(o-=s,a.push(new jt(o,0,s,n))):(a.push(new jt(o,0,s,n)),o+=s)}this.commitLayers(a,i)}},gg.prototype.commitLayers=function(){},gg.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},gg.prototype.dv=function(){for(var t=this.Qb.iterator;t.next();){var e=t.value;e instanceof xm&&Vg(this,e)}},gg.prototype.setPortSpots=function(t){var e=t.alignment;if(kg(e)){var n=this.qd===Yg,i=Gg(t);switch(i){case 0:var a=Ce;break;case 90:a=Ne;break;case 180:a=Ee;break;default:a=Ae}var o=t.children,r=o.length;switch(e){case im:case am:for(e=0;e<r;e++){var s=o[e];if(null!==(s=(n?s.sourceEdges:s.destinationEdges).first())&&null!==(s=s.link)){var l=90===i||270===i?Ee:Ae;if(1===r||e===r-1&&1==r%2)switch(i){case 0:l=Ee;break;case 90:l=Ae;break;case 180:l=Ce;break;default:l=Ne}else 0==e%2&&(l=90===i||270===i?Ce:Ne);n?(t.setsPortSpot&&(s.fromSpot=a),t.setsChildPortSpot&&(s.toSpot=l)):(t.setsPortSpot&&(s.fromSpot=l),t.setsChildPortSpot&&(s.toSpot=a))}}break;case om:for(i=90===i||270===i?Ce:Ne,o=n?t.destinationEdges:t.sourceEdges;o.next();)null!==(r=o.value.link)&&(n?(t.setsPortSpot&&(r.fromSpot=a),t.setsChildPortSpot&&(r.toSpot=i)):(t.setsPortSpot&&(r.fromSpot=i),t.setsChildPortSpot&&(r.toSpot=a)));break;case rm:for(i=90===i||270===i?Ee:Ae,o=n?t.destinationEdges:t.sourceEdges;o.next();)null!==(r=o.value.link)&&(n?(t.setsPortSpot&&(r.fromSpot=a),t.setsChildPortSpot&&(r.toSpot=i)):(t.setsPortSpot&&(r.fromSpot=i),t.setsChildPortSpot&&(r.toSpot=a)))}}else if(n=Gg(t),this.qd===Yg){for(a=t.destinationEdges;a.next();)if(null!==(i=a.value.link)){if(t.setsPortSpot)if(t.portSpot.Sb())switch(n){case 0:i.fromSpot=Ce;break;case 90:i.fromSpot=Ne;break;case 180:i.fromSpot=Ee;break;default:i.fromSpot=Ae}else i.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Sb())switch(n){case 0:i.toSpot=Ee;break;case 90:i.toSpot=Ae;break;case 180:i.toSpot=Ce;break;default:i.toSpot=Ne}else i.toSpot=t.childPortSpot}}else for(a=t.sourceEdges;a.next();)if(null!==(i=a.value.link)){if(t.setsPortSpot)if(t.portSpot.Sb())switch(n){case 0:i.toSpot=Ce;break;case 90:i.toSpot=Ne;break;case 180:i.toSpot=Ee;break;default:i.toSpot=Ae}else i.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Sb())switch(n){case 0:i.fromSpot=Ee;break;case 90:i.fromSpot=Ae;break;case 180:i.fromSpot=Ce;break;default:i.fromSpot=Ne}else i.fromSpot=t.childPortSpot}},u.Object.defineProperties(gg.prototype,{roots:{get:function(){return this.Qb},set:function(t){this.Qb!==t&&(this.Qb=t,this.D())}},path:{get:function(){return this.En},set:function(t){this.En!==t&&(this.En=t,this.D())}},treeStyle:{get:function(){return this.Yn},set:function(t){this.Nb===t||t!==cm&&t!==dm&&t!==hm&&t!==um||(this.Yn=t,this.D())}},layerStyle:{get:function(){return this.aq},set:function(t){this.Nb===t||t!==mm&&t!==ym&&t!==vm||(this.aq=t,this.D())}},comments:{get:function(){return this.od},set:function(t){this.od!==t&&(this.od=t,this.D())}},arrangement:{get:function(){return this.Nb},set:function(t){this.Nb===t||t!==fm&&t!==pm&&t!==gm||(this.Nb=t,this.D())}},arrangementSpacing:{get:function(){return this.Td},set:function(t){this.Td.C(t)||(this.Td.assign(t),this.D())}},rootDefaults:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t,this.D())}},alternateDefaults:{get:function(){return this.Y},set:function(t){this.Y!==t&&(this.Y=t,this.D())}},sorting:{get:function(){return this.V.sorting},set:function(t){this.V.sorting===t||t!==Kg&&t!==Zg&&t!==$g&&!Jg||(this.V.sorting=t,this.D())}},comparer:{get:function(){return this.V.comparer},set:function(t){this.V.comparer!==t&&(this.V.comparer=t,this.D())}},angle:{get:function(){return this.V.angle},set:function(t){this.V.angle!==t&&(0===t||90===t||180===t||270===t?(this.V.angle=t,this.D()):b("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.V.alignment},set:function(t){this.V.alignment!==t&&(this.V.alignment=t,this.D())}},nodeIndent:{get:function(){return this.V.nodeIndent},set:function(t){this.V.nodeIndent!==t&&0<=t&&(this.V.nodeIndent=t,this.D())}},nodeIndentPastParent:{get:function(){return this.V.nodeIndentPastParent},set:function(t){this.V.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.V.nodeIndentPastParent=t,this.D())}},nodeSpacing:{get:function(){return this.V.nodeSpacing},set:function(t){this.V.nodeSpacing!==t&&(this.V.nodeSpacing=t,this.D())}},layerSpacing:{get:function(){return this.V.layerSpacing},set:function(t){this.V.layerSpacing!==t&&(this.V.layerSpacing=t,this.D())}},layerSpacingParentOverlap:{get:function(){return this.V.layerSpacingParentOverlap},set:function(t){this.V.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.V.layerSpacingParentOverlap=t,this.D())}},compaction:{get:function(){return this.V.compaction},set:function(t){this.V.compaction===t||t!==sm&&t!==lm||(this.V.compaction=t,this.D())}},breadthLimit:{get:function(){return this.V.breadthLimit},set:function(t){this.V.breadthLimit!==t&&0<=t&&(this.V.breadthLimit=t,this.D())}},rowSpacing:{get:function(){return this.V.rowSpacing},set:function(t){this.V.rowSpacing!==t&&(this.V.rowSpacing=t,this.D())}},rowIndent:{get:function(){return this.V.rowIndent},set:function(t){this.V.rowIndent!==t&&0<=t&&(this.V.rowIndent=t,this.D())}},commentSpacing:{get:function(){return this.V.commentSpacing},set:function(t){this.V.commentSpacing!==t&&(this.V.commentSpacing=t,this.D())}},commentMargin:{get:function(){return this.V.commentMargin},set:function(t){this.V.commentMargin!==t&&(this.V.commentMargin=t,this.D())}},setsPortSpot:{get:function(){return this.V.setsPortSpot},set:function(t){this.V.setsPortSpot!==t&&(this.V.setsPortSpot=t,this.D())}},portSpot:{get:function(){return this.V.portSpot},set:function(t){this.V.portSpot.C(t)||(this.V.portSpot=t,this.D())}},setsChildPortSpot:{get:function(){return this.V.setsChildPortSpot},set:function(t){this.V.setsChildPortSpot!==t&&(this.V.setsChildPortSpot=t,this.D())}},childPortSpot:{get:function(){return this.V.childPortSpot},set:function(t){this.V.childPortSpot.C(t)||(this.V.childPortSpot=t,this.D())}},alternateSorting:{get:function(){return this.Y.sorting},set:function(t){this.Y.sorting===t||t!==Kg&&t!==Zg&&t!==$g&&!Jg||(this.Y.sorting=t,this.D())}},alternateComparer:{get:function(){return this.Y.comparer},set:function(t){this.Y.comparer!==t&&(this.Y.comparer=t,this.D())}},alternateAngle:{get:function(){return this.Y.angle},set:function(t){this.Y.angle===t||0!==t&&90!==t&&180!==t&&270!==t||(this.Y.angle=t,this.D())}},alternateAlignment:{get:function(){return this.Y.alignment},set:function(t){this.Y.alignment!==t&&(this.Y.alignment=t,this.D())}},alternateNodeIndent:{get:function(){return this.Y.nodeIndent},set:function(t){this.Y.nodeIndent!==t&&0<=t&&(this.Y.nodeIndent=t,this.D())}},alternateNodeIndentPastParent:{get:function(){return this.Y.nodeIndentPastParent},set:function(t){this.Y.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.Y.nodeIndentPastParent=t,this.D())}},alternateNodeSpacing:{get:function(){return this.Y.nodeSpacing},set:function(t){this.Y.nodeSpacing!==t&&(this.Y.nodeSpacing=t,this.D())}},alternateLayerSpacing:{get:function(){return this.Y.layerSpacing},set:function(t){this.Y.layerSpacing!==t&&(this.Y.layerSpacing=t,this.D())}},alternateLayerSpacingParentOverlap:{get:function(){return this.Y.layerSpacingParentOverlap},set:function(t){this.Y.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.Y.layerSpacingParentOverlap=t,this.D())}},alternateCompaction:{get:function(){return this.Y.compaction},set:function(t){this.Y.compaction===t||t!==sm&&t!==lm||(this.Y.compaction=t,this.D())}},alternateBreadthLimit:{get:function(){return this.Y.breadthLimit},set:function(t){this.Y.breadthLimit!==t&&0<=t&&(this.Y.breadthLimit=t,this.D())}},alternateRowSpacing:{get:function(){return this.Y.rowSpacing},set:function(t){this.Y.rowSpacing!==t&&(this.Y.rowSpacing=t,this.D())}},alternateRowIndent:{get:function(){return this.Y.rowIndent},set:function(t){this.Y.rowIndent!==t&&0<=t&&(this.Y.rowIndent=t,this.D())}},alternateCommentSpacing:{get:function(){return this.Y.commentSpacing},set:function(t){this.Y.commentSpacing!==t&&(this.Y.commentSpacing=t,this.D())}},alternateCommentMargin:{get:function(){return this.Y.commentMargin},set:function(t){this.Y.commentMargin!==t&&(this.Y.commentMargin=t,this.D())}},alternateSetsPortSpot:{get:function(){return this.Y.setsPortSpot},set:function(t){this.Y.setsPortSpot!==t&&(this.Y.setsPortSpot=t,this.D())}},alternatePortSpot:{get:function(){return this.Y.portSpot},set:function(t){this.Y.portSpot.C(t)||(this.Y.portSpot=t,this.D())}},alternateSetsChildPortSpot:{get:function(){return this.Y.setsChildPortSpot},set:function(t){this.Y.setsChildPortSpot!==t&&(this.Y.setsChildPortSpot=t,this.D())}},alternateChildPortSpot:{get:function(){return this.Y.childPortSpot},set:function(t){this.Y.childPortSpot.C(t)||(this.Y.childPortSpot=t,this.D())}}});var qg=new H(gg,"PathDefault",-1),Yg=new H(gg,"PathDestination",0),Xg=new H(gg,"PathSource",1),Kg=new H(gg,"SortingForwards",10),Zg=new H(gg,"SortingReverse",11),$g=new H(gg,"SortingAscending",12),Jg=new H(gg,"SortingDescending",13),Qg=new H(gg,"AlignmentCenterSubtrees",20),tm=new H(gg,"AlignmentCenterChildren",21),em=new H(gg,"AlignmentStart",22),nm=new H(gg,"AlignmentEnd",23),im=new H(gg,"AlignmentBus",24),am=new H(gg,"AlignmentBusBranching",25),om=new H(gg,"AlignmentTopLeftBus",26),rm=new H(gg,"AlignmentBottomRightBus",27),sm=new H(gg,"CompactionNone",30),lm=new H(gg,"CompactionBlock",31),cm=new H(gg,"StyleLayered",40),hm=new H(gg,"StyleLastParents",41),dm=new H(gg,"StyleAlternating",42),um=new H(gg,"StyleRootOnly",43),fm=new H(gg,"ArrangementVertical",50),pm=new H(gg,"ArrangementHorizontal",51),gm=new H(gg,"ArrangementFixedRoots",52),mm=new H(gg,"LayerIndividual",60),ym=new H(gg,"LayerSiblings",61),vm=new H(gg,"LayerUniform",62);function wm(t){su.call(this,t)}function xm(t){uu.call(this,t),this.W=!1,this.cb=null,this.u=[],this.hb=this.Ga=this.F=this.ga=0,this.od=null,this.S=new gt(0,0),this.Ca=new Et(0,0),this.ka=new gt(0,0),this.Ql=this.Pl=this.Xz=!1,this.No=this.Bo=null,this.fd=Kg,this.Zc=fu,this.Gb=0,this.Fb=tm,this.uq=this.tq=0,this.vq=20,this.be=50,this.$p=0,this.kp=lm,this.cp=0,this.Mq=25,this.jp=this.Lq=10,this.ip=20,this.Uq=!0,this.Cq=Me,this.Tq=!0,this.gp=Me}function bm(t){pu.call(this,t),this.Ft=new gt(0,0)}gg.className="TreeLayout",gg.PathDefault=qg,gg.PathDestination=Yg,gg.PathSource=Xg,gg.SortingForwards=Kg,gg.SortingReverse=Zg,gg.SortingAscending=$g,gg.SortingDescending=Jg,gg.AlignmentCenterSubtrees=Qg,gg.AlignmentCenterChildren=tm,gg.AlignmentStart=em,gg.AlignmentEnd=nm,gg.AlignmentBus=im,gg.AlignmentBusBranching=am,gg.AlignmentTopLeftBus=om,gg.AlignmentBottomRightBus=rm,gg.CompactionNone=sm,gg.CompactionBlock=lm,gg.StyleLayered=cm,gg.StyleLastParents=hm,gg.StyleAlternating=dm,gg.StyleRootOnly=um,gg.ArrangementVertical=fm,gg.ArrangementHorizontal=pm,gg.ArrangementFixedRoots=gm,gg.LayerIndividual=mm,gg.LayerSiblings=ym,gg.LayerUniform=vm,d(wm,su),wm.prototype.createVertex=function(){return new xm(this)},wm.prototype.createEdge=function(){return new bm(this)},wm.className="TreeNetwork",d(xm,uu),xm.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.fd=t.sorting,this.Zc=t.comparer,this.Gb=t.angle,this.Fb=t.alignment,this.tq=t.nodeIndent,this.uq=t.nodeIndentPastParent,this.vq=t.nodeSpacing,this.be=t.layerSpacing,this.$p=t.layerSpacingParentOverlap,this.kp=t.compaction,this.cp=t.breadthLimit,this.Mq=t.rowSpacing,this.Lq=t.rowIndent,this.jp=t.commentSpacing,this.ip=t.commentMargin,this.Uq=t.setsPortSpot,this.Cq=t.portSpot,this.Tq=t.setsChildPortSpot,this.gp=t.childPortSpot)},u.Object.defineProperties(xm.prototype,{initialized:{get:function(){return this.W},set:function(t){this.W!==t&&(this.W=t)}},parent:{get:function(){return this.cb},set:function(t){this.cb!==t&&(this.cb=t)}},children:{get:function(){return this.u},set:function(t){if(this.u!==t){if(null!==t)for(var e=t.length,n=0;n<e;n++);this.u=t}}},level:{get:function(){return this.ga},set:function(t){this.ga!==t&&(this.ga=t)}},descendantCount:{get:function(){return this.F},set:function(t){this.F!==t&&(this.F=t)}},maxChildrenCount:{get:function(){return this.Ga},set:function(t){this.Ga!==t&&(this.Ga=t)}},maxGenerationCount:{get:function(){return this.hb},set:function(t){this.hb!==t&&(this.hb=t)}},comments:{get:function(){return this.od},set:function(t){if(this.od!==t){if(null!==t)for(var e=t.length,n=0;n<e;n++);this.od=t}}},sorting:{get:function(){return this.fd},set:function(t){this.fd!==t&&(this.fd=t)}},comparer:{get:function(){return this.Zc},set:function(t){this.Zc!==t&&(this.Zc=t)}},angle:{get:function(){return this.Gb},set:function(t){this.Gb!==t&&(this.Gb=t)}},alignment:{get:function(){return this.Fb},set:function(t){this.Fb!==t&&(this.Fb=t)}},nodeIndent:{get:function(){return this.tq},set:function(t){this.tq!==t&&(this.tq=t)}},nodeIndentPastParent:{get:function(){return this.uq},set:function(t){this.uq!==t&&(this.uq=t)}},nodeSpacing:{get:function(){return this.vq},set:function(t){this.vq!==t&&(this.vq=t)}},layerSpacing:{get:function(){return this.be},set:function(t){this.be!==t&&(this.be=t)}},layerSpacingParentOverlap:{get:function(){return this.$p},set:function(t){this.$p!==t&&(this.$p=t)}},compaction:{get:function(){return this.kp},set:function(t){this.kp!==t&&(this.kp=t)}},breadthLimit:{get:function(){return this.cp},set:function(t){this.cp!==t&&(this.cp=t)}},rowSpacing:{get:function(){return this.Mq},set:function(t){this.Mq!==t&&(this.Mq=t)}},rowIndent:{get:function(){return this.Lq},set:function(t){this.Lq!==t&&(this.Lq=t)}},commentSpacing:{get:function(){return this.jp},set:function(t){this.jp!==t&&(this.jp=t)}},commentMargin:{get:function(){return this.ip},set:function(t){this.ip!==t&&(this.ip=t)}},setsPortSpot:{get:function(){return this.Uq},set:function(t){this.Uq!==t&&(this.Uq=t)}},portSpot:{get:function(){return this.Cq},set:function(t){this.Cq.C(t)||(this.Cq=t)}},setsChildPortSpot:{get:function(){return this.Tq},set:function(t){this.Tq!==t&&(this.Tq=t)}},childPortSpot:{get:function(){return this.gp},set:function(t){this.gp.C(t)||(this.gp=t)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.S},set:function(t){this.S.set(t)}},subtreeSize:{get:function(){return this.Ca},set:function(t){this.Ca.set(t)}},subtreeOffset:{get:function(){return this.ka},set:function(t){this.ka.set(t)}}}),xm.className="TreeVertex",d(bm,pu),bm.prototype.commit=function(){var t=this.link;if(null!==t&&!t.isAvoiding){var e=this.network.layout,n=null,i=null;switch(e.qd){case Yg:n=this.fromVertex,i=this.toVertex;break;case Xg:n=this.toVertex,i=this.fromVertex;break;default:b("Unhandled path value "+e.qd.toString())}if(null!==n&&null!==i)if(0!==(e=this.Ft).x||0!==e.y||n.Xz){i=n.bounds;var a=Gg(n),o=Ug(n),r=n.rowSpacing;t.mg();var s,l=t.curve===ud,c=t.isOrthogonal;if(t.jh(),c||l){for(s=2;4<t.pointsCount;)t.Xu(2);var h=t.i(1),d=t.i(2)}else{for(s=1;3<t.pointsCount;)t.Xu(1);h=t.i(0),d=t.i(t.pointsCount-1)}var u=t.i(t.pointsCount-1);0===a?(n.alignment===nm?(a=i.bottom+e.y,0===e.y&&h.y>u.y+n.rowIndent&&(a=Math.min(a,Math.max(h.y,a-Wg(n))))):n.alignment===em?(a=i.top+e.y,0===e.y&&h.y<u.y-n.rowIndent&&(a=Math.max(a,Math.min(h.y,a+Wg(n))))):a=n.Pl||n.Ql&&1===n.maxGenerationCount?i.top-n.ka.y+e.y:i.y+i.height/2+e.y,l?(t.l(s,h.x,a),s++,t.l(s,i.right+o,a),s++,t.l(s,i.right+o+(e.x-r)/3,a),s++,t.l(s,i.right+o+2*(e.x-r)/3,a),s++,t.l(s,i.right+o+(e.x-r),a),s++,t.l(s,d.x,a)):(c&&(t.l(s,i.right+o/2,h.y),s++),t.l(s,i.right+o/2,a),s++,t.l(s,i.right+o+e.x-(c?r/2:r),a),s++,c&&t.l(s,t.i(s-1).x,d.y))):90===a?(n.alignment===nm?(a=i.right+e.x,0===e.x&&h.x>u.x+n.rowIndent&&(a=Math.min(a,Math.max(h.x,a-Wg(n))))):n.alignment===em?(a=i.left+e.x,0===e.x&&h.x<u.x-n.rowIndent&&(a=Math.max(a,Math.min(h.x,a+Wg(n))))):a=n.Pl||n.Ql&&1===n.maxGenerationCount?i.left-n.ka.x+e.x:i.x+i.width/2+e.x,l?(t.l(s,a,h.y),s++,t.l(s,a,i.bottom+o),s++,t.l(s,a,i.bottom+o+(e.y-r)/3),s++,t.l(s,a,i.bottom+o+2*(e.y-r)/3),s++,t.l(s,a,i.bottom+o+(e.y-r)),s++,t.l(s,a,d.y)):(c&&(t.l(s,h.x,i.bottom+o/2),s++),t.l(s,a,i.bottom+o/2),s++,t.l(s,a,i.bottom+o+e.y-(c?r/2:r)),s++,c&&t.l(s,d.x,t.i(s-1).y))):180===a?(n.alignment===nm?(a=i.bottom+e.y,0===e.y&&h.y>u.y+n.rowIndent&&(a=Math.min(a,Math.max(h.y,a-Wg(n))))):n.alignment===em?(a=i.top+e.y,0===e.y&&h.y<u.y-n.rowIndent&&(a=Math.max(a,Math.min(h.y,a+Wg(n))))):a=n.Pl||n.Ql&&1===n.maxGenerationCount?i.top-n.ka.y+e.y:i.y+i.height/2+e.y,l?(t.l(s,h.x,a),s++,t.l(s,i.left-o,a),s++,t.l(s,i.left-o+(e.x+r)/3,a),s++,t.l(s,i.left-o+2*(e.x+r)/3,a),s++,t.l(s,i.left-o+(e.x+r),a),s++,t.l(s,d.x,a)):(c&&(t.l(s,i.left-o/2,h.y),s++),t.l(s,i.left-o/2,a),s++,t.l(s,i.left-o+e.x+(c?r/2:r),a),s++,c&&t.l(s,t.i(s-1).x,d.y))):270===a?(n.alignment===nm?(a=i.right+e.x,0===e.x&&h.x>u.x+n.rowIndent&&(a=Math.min(a,Math.max(h.x,a-Wg(n))))):n.alignment===em?(a=i.left+e.x,0===e.x&&h.x<u.x-n.rowIndent&&(a=Math.max(a,Math.min(h.x,a+Wg(n))))):a=n.Pl||n.Ql&&1===n.maxGenerationCount?i.left-n.ka.x+e.x:i.x+i.width/2+e.x,l?(t.l(s,a,h.y),s++,t.l(s,a,i.top-o),s++,t.l(s,a,i.top-o+(e.y+r)/3),s++,t.l(s,a,i.top-o+2*(e.y+r)/3),s++,t.l(s,a,i.top-o+(e.y+r)),s++,t.l(s,a,d.y)):(c&&(t.l(s,h.x,i.top-o/2),s++),t.l(s,a,i.top-o/2),s++,t.l(s,a,i.top-o+e.y+(c?r/2:r)),s++,c&&t.l(s,d.x,t.i(s-1).y))):b("Invalid angle "+a),t.pf()}else t=this.link,(o=Gg(n))!==Gg(i)&&(r=Ug(n),l=n.bounds,n=i.bounds,0===o&&n.left-l.right<r+1||90===o&&n.top-l.bottom<r+1||180===o&&l.left-n.right<r+1||270===o&&l.top-n.bottom<r+1||(t.mg(),n=t.curve===ud,e=t.isOrthogonal,i=kg(this.fromVertex.alignment),t.jh(),0===o?(o=l.right+r/2,n?4===t.pointsCount&&(n=t.i(3).y,t.M(1,o-20,t.i(1).y),t.l(2,o-20,n),t.l(3,o,n),t.l(4,o+20,n),t.M(5,t.i(5).x,n)):e?i?t.M(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.M(2,o,t.i(2).y),t.M(3,o,t.i(3).y)):4===t.pointsCount?t.l(2,o,t.i(2).y):3===t.pointsCount?t.M(1,o,t.i(2).y):2===t.pointsCount&&t.l(1,o,t.i(1).y)):90===o?(o=l.bottom+r/2,n?4===t.pointsCount&&(n=t.i(3).x,t.M(1,t.i(1).x,o-20),t.l(2,n,o-20),t.l(3,n,o),t.l(4,n,o+20),t.M(5,n,t.i(5).y)):e?i?t.M(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.M(2,t.i(2).x,o),t.M(3,t.i(3).x,o)):4===t.pointsCount?t.l(2,t.i(2).x,o):3===t.pointsCount?t.M(1,t.i(2).x,o):2===t.pointsCount&&t.l(1,t.i(1).x,o)):180===o?(o=l.left-r/2,n?4===t.pointsCount&&(n=t.i(3).y,t.M(1,o+20,t.i(1).y),t.l(2,o+20,n),t.l(3,o,n),t.l(4,o-20,n),t.M(5,t.i(5).x,n)):e?i?t.M(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.M(2,o,t.i(2).y),t.M(3,o,t.i(3).y)):4===t.pointsCount?t.l(2,o,t.i(2).y):3===t.pointsCount?t.M(1,o,t.i(2).y):2===t.pointsCount&&t.l(1,o,t.i(1).y)):270===o&&(o=l.top-r/2,n?4===t.pointsCount&&(n=t.i(3).x,t.M(1,t.i(1).x,o+20),t.l(2,n,o+20),t.l(3,n,o),t.l(4,n,o-20),t.M(5,n,t.i(5).y)):e?i?t.M(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.M(2,t.i(2).x,o),t.M(3,t.i(3).x,o)):4===t.pointsCount?t.l(2,t.i(2).x,o):3===t.pointsCount?t.M(1,t.i(2).x,o):2===t.pointsCount&&t.l(1,t.i(1).x,o)),t.pf()))}},u.Object.defineProperties(bm.prototype,{fromVertex:{get:function(){return this.ad},set:function(t){this.ad!==t&&(this.ad=t)}},toVertex:{get:function(){return this.jd},set:function(t){this.jd!==t&&(this.jd=t)}},relativePoint:{get:function(){return this.Ft},set:function(t){this.Ft.set(t)}}}),bm.className="TreeEdge",bn.prototype.initializeStandardTools=function(){this.gb("Action",new fi,this.mouseDownTools),this.gb("Relinking",new ni,this.mouseDownTools),this.gb("LinkReshaping",new ai,this.mouseDownTools),this.gb("Rotating",new di,this.mouseDownTools),this.gb("Resizing",new hi,this.mouseDownTools),this.gb("Linking",new Jn,this.mouseMoveTools),this.gb("Dragging",new An,this.mouseMoveTools),this.gb("DragSelecting",new gi,this.mouseMoveTools),this.gb("Panning",new mi,this.mouseMoveTools),this.gb("ContextMenu",new wi,this.mouseUpTools),this.gb("TextEditing",new Li,this.mouseUpTools),this.gb("ClickCreating",new pi,this.mouseUpTools),this.gb("ClickSelecting",new ui,this.mouseUpTools)},Cl("Horizontal",new Ks),Cl("Spot",new $s),Cl("Table",new tl),Cl("Viewbox",new il),Cl("TableRow",new el),Cl("TableColumn",new nl),Cl("Graduated",new ll),Cl("Grid",new al),No.add("GraphLinksModel",Du),No.add("TreeModel",zu),Jd(sp,null),Jd(wp,null);var Sm=m.go,km={get licenseKey(){return ka.licenseKey},set licenseKey(t){ka.licenseKey=t},get version(){return ka.version},Group:jh,EnumValue:H,List:$,Set:Q,Map:pt,Point:gt,Size:Et,Rect:jt,Margin:Kt,Spot:Fe,Geometry:We,PathFigure:Qe,PathSegment:tn,InputEvent:hn,DiagramEvent:dn,ChangedEvent:un,Model:Vu,GraphLinksModel:wf,TreeModel:Af,Binding:pf,Transaction:yn,UndoManager:vn,CommandHandler:_r,Tool:xn,DraggingTool:An,DraggingInfo:rr,DraggingOptions:wr,LinkingBaseTool:Zn,LinkingTool:Jn,RelinkingTool:ni,LinkReshapingTool:ai,ResizingTool:hi,RotatingTool:di,ClickSelectingTool:ui,ActionTool:fi,ClickCreatingTool:pi,HTMLInfo:yi,ContextMenuTool:wi,DragSelectingTool:gi,PanningTool:mi,TextEditingTool:Li,ToolManager:bn,Animation:oa,AnimationManager:Gi,AnimationTrigger:pa,Layer:xa,Diagram:ka,Palette:xr,Overview:Sr,Brush:vs,GraphObject:Tr,Panel:cl,RowColumnDefinition:Rl,Shape:Gl,TextBlock:ec,Picture:Nc,Part:$c,Adornment:vh,Node:xh,Link:Ih,Placeholder:Rh,Layout:Yd,LayoutNetwork:su,LayoutVertex:uu,LayoutEdge:pu,GridLayout:gu,PanelLayout:Ys,CircularLayout:Ef,CircularNetwork:ip,CircularVertex:ap,CircularEdge:rp,ForceDirectedLayout:sp,ForceDirectedNetwork:gp,ForceDirectedVertex:mp,ForceDirectedEdge:yp,LayeredDigraphLayout:wp,LayeredDigraphNetwork:ug,LayeredDigraphVertex:fg,LayeredDigraphEdge:pg,TreeLayout:gg,TreeNetwork:wm,TreeVertex:xm,TreeEdge:bm};"object"==typeof Sm&&Sm.version&&P("WARNING: a `go` object on the root object is already defined.  "+("Debug"in Sm?"debug ":"")+"version: "+Sm.version+", replaced with version: "+km.version),ka.prototype.go=km,m.go=km,"object"==typeof i.exports&&(i.exports=void 0!==t?t.go:self.go)}(),e.e=void 0!==t?t.go:self.go;const a=void 0!==t?t.go:self.go,o=(a.Group,a.EnumValue,a.List,a.Set,a.Map,a.Point),r=(a.Size,a.Rect,a.Margin,a.Spot,a.Geometry,a.PathFigure,a.PathSegment,a.InputEvent,a.DiagramEvent,a.ChangedEvent,a.Model,a.GraphLinksModel,a.TreeModel,a.Binding,a.Transaction,a.UndoManager,a.CommandHandler,a.Tool,a.DraggingTool,a.DraggingInfo,a.LinkingBaseTool,a.LinkingTool,a.RelinkingTool,a.LinkReshapingTool,a.ResizingTool,a.RotatingTool,a.ClickSelectingTool,a.ActionTool,a.ClickCreatingTool,a.HTMLInfo,a.ContextMenuTool,a.DragSelectingTool,a.PanningTool,a.TextEditingTool,a.ToolManager,a.Animation,a.AnimationManager,a.AnimationTrigger,a.Layer,a.Diagram,a.Palette,a.Overview,a.Brush,a.GraphObject,a.Panel),s=(a.RowColumnDefinition,a.Shape,a.TextBlock),l=(a.TextBlockMetrics,a.Picture,a.Part);a.Adornment,a.Node,a.Link,a.Placeholder,a.Layout,a.LayoutNetwork,a.LayoutVertex,a.LayoutEdge,a.GridLayout,a.PanelLayout,a.CircularLayout,a.CircularNetwork,a.CircularVertex,a.CircularEdge,a.ForceDirectedLayout,a.ForceDirectedNetwork,a.ForceDirectedVertex,a.ForceDirectedEdge,a.LayeredDigraphLayout,a.LayeredDigraphNetwork,a.LayeredDigraphVertex,a.LayeredDigraphEdge,a.TreeLayout,a.TreeNetwork,a.TreeVertex,a.TreeEdge,a.version}).call(this,n(47),n(134)(t))},function(t,e,n){"use strict";(function(t){var i=n(43),a=n.n(i),o=n(26);const r=window.location.origin;a.a.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",a.a.defaults.headers.REQUEST_HEADER="binary-http-client-header",a.a.defaults.baseURL="development"===t.env.MODE?"":r;const s="development"===t.env.MODE?"/topo-api":r+"/topo-api";function l(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;return new Promise((r,s)=>{a()({method:t,url:"GET"===t||"DELETE"===t?o.a.queryString(e,n):e,data:"POST"===t||"PUT"===t?n:null,baseURL:i,timeout:6e4}).then(t=>{r(t.data)},t=>{s(t)}).catch(()=>{})})}e.a={get:function(t,e,n){return l("GET",t,e,n)},post:function(t,e,n){return l("POST",t,e,n)},put:function(t,e,n){return l("PUT",t,e,n)},delete:function(t,e,n){return l("DELETE",t,e,n)},downTable:(t,e)=>new Promise((n,i)=>{a()({method:"POST",data:e,url:t,baseURL:s,timeout:6e4,responseType:"blob"}).then(t=>{n(t.data)},t=>{i(t)}).catch(()=>{})}),downfile:(t,e,n,i)=>new Promise((r,l)=>{a()({method:t,url:"GET"===t||"DELETE"===t?o.a.queryString(e,n):e,data:"POST"===t||"PUT"===t?n:null,baseURL:s,responseType:"blob",headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(t=>{const e=new Blob([t.data]);let n=t.headers["content-disposition"];if(null!==n&&""!==n&&(n=n.slice(n.indexOf("=")+1)),n=decodeURI(n),n=(i||"")+n,"download"in document.createElement("a")){const t=document.createElement("a");t.download=n,t.style.display="none",t.href=URL.createObjectURL(e),document.body.appendChild(t),t.onclick=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},t.click(),URL.revokeObjectURL(t.href),document.body.removeChild(t)}else navigator.msSaveBlob(e,n);r()},t=>{l(t)}).catch(()=>{})})}}).call(this,n(48))},function(t,e,n){"use strict";n.d(e,"z",(function(){return P})),n.d(e,"o",(function(){return _})),n.d(e,"O",(function(){return T})),n.d(e,"E",(function(){return O})),n.d(e,"B",(function(){return A})),n.d(e,"C",(function(){return E})),n.d(e,"A",(function(){return C})),n.d(e,"D",(function(){return N})),n.d(e,"H",(function(){return B})),n.d(e,"I",(function(){return j})),n.d(e,"r",(function(){return D})),n.d(e,"p",(function(){return F})),n.d(e,"d",(function(){return R})),n.d(e,"h",(function(){return I})),n.d(e,"e",(function(){return z})),n.d(e,"c",(function(){return H})),n.d(e,"g",(function(){return V})),n.d(e,"f",(function(){return G})),n.d(e,"b",(function(){return U})),n.d(e,"a",(function(){return W})),n.d(e,"K",(function(){return q})),n.d(e,"q",(function(){return Y})),n.d(e,"i",(function(){return X})),n.d(e,"P",(function(){return K})),n.d(e,"s",(function(){return Z})),n.d(e,"m",(function(){return $})),n.d(e,"k",(function(){return J})),n.d(e,"G",(function(){return Q})),n.d(e,"j",(function(){return et})),n.d(e,"l",(function(){return nt})),n.d(e,"J",(function(){return it})),n.d(e,"x",(function(){return at})),n.d(e,"n",(function(){return ot})),n.d(e,"F",(function(){return ct})),n.d(e,"Q",(function(){return ht})),n.d(e,"R",(function(){return dt})),n.d(e,"w",(function(){return ft})),n.d(e,"y",(function(){return pt})),n.d(e,"M",(function(){return gt})),n.d(e,"L",(function(){return mt})),n.d(e,"N",(function(){return yt})),n.d(e,"v",(function(){return vt})),n.d(e,"u",(function(){return wt})),n.d(e,"t",(function(){return xt}));var i=n(0),a=n(40),o=n(10),r=n(35);const s=i.e.GraphObject.make,l=function(){return s(i.e.Adornment,"Spot",{name:"anchorAdornment",zOrder:o.b.iconAdornment},new i.e.Binding("layerName","",(t,e)=>{const n=e.diagram;if(t.layerName&&n.findLayer(t.layerName)){if(!n.findLayer(t.layerName).pickable)return t.layerName}return"Adornment"}),new i.e.Binding("visible","",(t,e)=>{const n=e.diagram;if(r.b[n.mode]&&"Standard-hotspot"===t.category)return!1;return e.part.adornedPart.layer.visible}),s(i.e.Shape,"Rectangle",{fill:null,stroke:null,strokeWidth:2},new i.e.Binding("width","",(t,e)=>{const{category:n,items:o,width:r}=t;return"image"===n?i.e.Size.parse(t.size).width:a.a.includes(n)?o.reduce((t,e)=>t+=e.width,0):r}),new i.e.Binding("height","",(t,e)=>{const{category:n,height:o,headerHeight:r}=t;return"image"===n?i.e.Size.parse(t.size).height:a.a.includes(n)?o+r:o})),s(i.e.Shape,{fill:null,stroke:null,minSize:new i.e.Size(5,5),width:38,height:38},new i.e.Binding("figure","badge",t=>{let e=t;return"string"==typeof t&&(e=JSON.parse(t)),e.figure?e.figure:"Circle"}),new i.e.Binding("fill","badge",t=>{let e=t;return"string"==typeof t&&(e=JSON.parse(t)),e.color}),new i.e.Binding("width","badge",t=>{let e=t;return"string"==typeof t&&(e=JSON.parse(t)),e.figure,38}),new i.e.Binding("alignment","badge",t=>{let e=t;return"string"==typeof t&&(e=JSON.parse(t)),e.alignment instanceof i.e.Spot?e.alignment:i.e.Spot.parse(e.alignment)}),new i.e.Binding("parameter1","badge",t=>{let e=t;return"string"==typeof t&&(e=JSON.parse(t)),"TriangleUp"===e.figure?10:0}),new i.e.Binding("alignmentFocus","badge",t=>{let e=t;return"string"==typeof t&&(e=JSON.parse(t)),e.alignmentFocus instanceof i.e.Spot?e.alignmentFocus:i.e.Spot.parse(e.alignmentFocus)}),new i.e.Binding("visible","badge",t=>{let e=t;return"string"==typeof t&&(e=JSON.parse(t)),!!e&&!!e.image})),s(i.e.Picture,{name:"IMAGE",imageStretch:i.e.GraphObject.Uniform,minSize:new i.e.Size(38,38),sourceCrossOrigin:()=>"anonymous",source:"/topo-static/images/templates/XLine.png",width:38,height:38,alignment:new i.e.Spot(0,0),alignmentFocus:new i.e.Spot(0,0)},new i.e.Binding("source","badge",t=>{let e=t;return"string"==typeof t&&(e=JSON.parse(t)),e.image}),new i.e.Binding("visible","badge",t=>{let e=t;return"string"==typeof t&&(e=JSON.parse(t)),!!e&&!!e.image}),new i.e.Binding("alignment","badge",t=>{let e=t;return"string"==typeof t&&(e=JSON.parse(t)),e.alignment instanceof i.e.Spot?e.alignment:i.e.Spot.parse(e.alignment)}),new i.e.Binding("alignmentFocus","badge",t=>{let e=t;return"string"==typeof t&&(e=JSON.parse(t)),e.alignmentFocus instanceof i.e.Spot?e.alignmentFocus:i.e.Spot.parse(e.alignmentFocus)})),s(i.e.Placeholder))};var c=n(31),h=n(7),d=n(6),u=n(17),f=n(28),p=(n(125),n(3));const g=i.e.GraphObject.make;function m(t,e){let n=50,i=50,a=25,o=31.25;return e.invalid&&(n=109,i=34,a=272.5,o=25.5),{wrapWidth:n,wrapHeight:i,pictureWidth:a,pictureHeight:o}}function y(t,e){let n=[];return t&&(n=[3,3]),e.invalid&&(n=[10,10]),n}const v="/topo-static/images/templates/dropci.svg";var w=n(80);const x=new Map([["微信1","f03380e9168748ff8d2c4c0ac3d4b9e6"],["微信2","dcc54b0f040f4210b13951510b4c7291"],["支付宝","8505fa34f5554823bd1650715652a7a4"],["AdminStation","d5ba1c08c0ae4c4bb3911d5f94f5dbac"],["AP","6af85f3da86d4770bbf8be9e1893009c"],["APP1","b800f573e5484c22bdcd8f31382f609c"],["APP2","b800f573e5484c22bdcd8f31382f609c"],["APP3","b800f573e5484c22bdcd8f31382f609c"],["APP4","b800f573e5484c22bdcd8f31382f609c"],["AppCluster","48f03c4a292a48b7bd0ef9fe1578b911"],["AppInst","cebbda718b014fa49ec04590e4a15a6c"],["Application","b800f573e5484c22bdcd8f31382f609c"],["AppNode","62691324faca4741a1b5b419acaf9576"],["AppServer","ff9dfe06469d4ad4b657474ce8f7ed12"],["AppSystem","75b9ee8c20224cc69eaef3444bd2e332"],["ATMRouter1","50431ae3b32e4c1b857665660b3136ad"],["ATMRouter2","50431ae3b32e4c1b857665660b3136ad"],["ATMSwitch","3a71849b938741babbc8282670885221"],["BizService","c5e3aa5e5a6a4106a7f1bdc85c655aa6"],["Business","2174aa5f1f7e4f97993c0a6569884100"],["CategoryDefault","f03380e9168748ff8d2c4c0ac3d4b9e6"],["CertficateServer","590a0867e522408291fee025fa517fc7"],["City1","b222b2d076fd4ecbb42e527d78bad334"],["City2","e8c48282e48f4f369b1ce00f02dd0036"],["Client1","793246ef49a049e89dd22002368dd48e"],["Client2","b4c0830ffb00469fba4db0a2b5061300"],["Client3","b42e1f73336b442994d730e35a6efec6"],["Client4","370ef38b7e9c426890c03e14ea604b73"],["Cloud1","1edb66c6e59e4e3b87c610de6ef82c5a"],["Cloud2","60d8958099d749b8bd3bba867d375d96"],["Cluster1","a0ebad14923d4570af4968ab2989b5a7"],["Cluster2","98a4c7266cf246fd9e10f509b9bcc59d"],["Component","49bc44c042134ab78eaf73400d69b658"],["ComputerPool","33faf03512e3468796ee47539fe1fa19"],["ContentSwitch","0c43b44ec451496eb0efccdf8b5b5b2a"],["DataCenter","e8c48282e48f4f369b1ce00f02dd0036"],["DB","8f8e3b23b6c34f3a8d7074bef9823e23"],["DBlnst","f90d40437f5c4953b8af07bc8b602a0c"],["DBServer","45728a9a51c042d89631ad55a03f5769"],["DBService","8ecba670172e409b812af7037a2de78d"],["DeployUnit","5bbb55b1e9cc4865966cb845391d6a8d"],["DirectoryServer","3898fdfb5b6349a3aacd514135d636f1"],["Disk","50095a00d07645b8b0e0eb040233ab4f"],["DiskArray","50095a00d07645b8b0e0eb040233ab4f"],["DWDM-Filter","85062b831a25429ea0f141147f670581"],["E-mailServer","590a0867e522408291fee025fa517fc7"],["Facility","7fe873406d6b41aca564851ab849630d"],["FileServer","adca68a06bcc42a982877f98bf51a502"],["Firewall-V","f6a06857e2a34bc19414817f705ede93"],["Firewall","ee8e509ad9ce4b83a3c98a8ec90c79b3"],["FTPServer","cc899e2a67fb4e7aa85832b8103bdce5"],["Gateway","6249cc717fcd4d809746bcb76b8deb71"],["Generator","fea1a2ac517d4261ac16fe17f4a133ce"],["Gslb","2201bdefab164490b6a8d7340ae1d951"],["HBACard-85","5ca208902da24ada95abfc144f9ffa43"],["HBAcard","3e23d86155d840ebbb33a2f673e8f268"],["Internet","194a77e01957419b8e49c7f52bf22207"],["IPS-25","1397a25e7a144a15895ccc45f9f902fc"],["IPS1","e236cc4af3054d908e0b58888f9c447c"],["IPS2","e236cc4af3054d908e0b58888f9c447c"],["KeyLock","ec897174e17b424fa9827481d7738aec"],["KVM","185066f77d6b4f60b13c0c4567146db0"],["LayerServer","590a0867e522408291fee025fa517fc7"],["Leaf","a07bbb2555ea41848baecd0424bfb2ac"],["Lightung","7884f498637a4996a62ecb80d5e6396a"],["Linux","a29709edea8b4c558a8b36594a69a606"],["llb","090ce916711e4f2c9e9959cb6952892f"],["LoadBalance1","ecdbe8fd01b64e26a44212e01f13c505"],["LoadBalance2","ecdbe8fd01b64e26a44212e01f13c505"],["LPAR","80d4a2cf22214c058467d3fdd0a22973"],["LUN","5c412de2559241e5be61bf7a58b6b1eb"],["MainFrame","21481a846cd64e209ddd279b9d09d5f9"],["ManagementServer","33faf03512e3468796ee47539fe1fa19"],["MediaServer","590a0867e522408291fee025fa517fc7"],["MiddleWarelnst","88ea1c31aa0b4e72989703675480ece2"],["NAS","e03f5e8814a440ff8a43f77869ac54ef"],["NASService","7ec2f5f1f56847a7a7fe7a35b82ce7fe"],["NET","50216081226d4a7695617a36c29d5e86"],["NetPoint","8f21a16dcf1147458b98e5857fa0d61cd"],["NetPool","01bbc4d45ec542718f6e900d4751140a"],["NetService","0a359fc9a643496a82c0f60de88d7657"],["PCServer","9ade1056e3d748499cd37ebb5a1a989f"],["PDU","b7a3a8f622524f70b6dc31553d4d59b9"],["Platform","133bc8e191094dd9bb83077f73e83451"],["Pool","17594f1a6291484db231fb1847c94556"],["Port1","9ec06a2779a449bb93b1975064ca93a2"],["Port2","6b09ab041ea549c98fd98556d6cd3c1e"],["PowerLine","42c227c66b094cde83259c65dcd896fa"],["PowerVM","64656f53768e4b3b9fc4388dcffadbec"],["PrinterServer","590a0867e522408291fee025fa517fc7"],["Production","8bb4a2fe4e394e6ead7353331fbd5b21"],["ProxyServer","590a0867e522408291fee025fa517fc7"],["Rack","147d2567e5fe4c12acaf3a2431c273c6"],["RackServer","380dff49f57047d19eddb57294f16656"],["Router1","5ca208902da24ada95abfc144f9ffa43"],["Router2","50431ae3b32e4c1b857665660b3136ad"],["Router3","50431ae3b32e4c1b857665660b3136ad"],["Router4","50431ae3b32e4c1b857665660b3136ad"],["RouterSwitch","e1fe1c61c40546be9f8279bbccd7329a"],["SAN-Port","9e3c4c914adb4fe09dbe511156ece860"],["SANSwitch1","020bdff537d34b17a67a91a4d9514b46"],["SANSwitch2","3b67b6b3dd60432ebd5828b7817628ef"],["SecurityServer1","0abfe95c725442ca840c7d36f536a26f"],["SecurityServer2","0abfe95c725442ca840c7d36f536a26f"],["SecurityVPN","b903049ecaf544808c305f99f0a3d740"],["Server","590a0867e522408291fee025fa517fc7"],["Service","c777552525604850b6cc816d83f40e8c"],["Softwarelnst","64f24a80c35e46ecafa32c88c1f66c7b"],["Spine-Border-Leaf","ae95d06820ec48f485509473265c5e90"],["SSL","7bac0b7bf561456995a21a375c6157b4"],["Storage","a8ea23650ad04793b96df291ccc7ee90"],["StorageDevice","45728a9a51c042d89631ad55a03f5769"],["Switch1","3a71849b938741babbc8282670885221"],["Switch2","3a71849b938741babbc8282670885221"],["Switch3","3a71849b938741babbc8282670885221"],["SwitchC-(si)","c56ea26fb16d483091f9b85a318a83c9"],["SwitchC","784bd235c306471da98aafcd7e0f590b"],["SwitchD","f6621e80a2fc485ea71242cfced87749"],["SwitchD(si)","89cabdd3e0ad44f884d261369309fc73"],["Tape","6333c2c9b1454eb3aec7d6d0535bd0b9"],["TransactionServer","ff9dfe06469d4ad4b657474ce8f7ed12"],["Universal-Gateway","b0b7692de7bb49d19645a266e737e009"],["UNIX","9339b17c10b44d0b9662eb32d5eb1fab"],["User","1bd805eaeefe45808a7acd53c4ccd5a7"],["Vip","74dd5340c0f94326b6db25ea6a806250"],["VM1","4b7be2387b4e4c09b7eec431d23b788a"],["VM2","4b7be2387b4e4c09b7eec431d23b788a"],["WEBlnst","6f09f958f5d34904b6a99736ab641073"],["WebServer","730ec83030bd431ba08e6e3461000cf6"],["Windows","2e716ca547064b54856b27449598bbef"],["X86KVM","9331a01edd4a45c78bd0d53f97f14202"],["X86Server","500b66590ee441eb9b5000dcad9bcd6c"],["X86Server2","500b66590ee441eb9b5000dcad9bcd6c"]]);const b=[{icon:"iconduigou",color:"#78B740",image:"/topo-static/images/templates/badgeIcon/duigou.svg",figure:"Circle"},{icon:"iconjinggao",color:"#FDC51F",image:"/topo-static/images/templates/badgeIcon/tria.svg",figure:"TriangleUp"},{icon:"iconcha",color:"#CB2B35",image:"/topo-static/images/templates/badgeIcon/x.svg",figure:"Circle"},{icon:"iconzhushi",color:"#32A5DF",image:"/topo-static/images/templates/badgeIcon/zhushi.svg",figure:"Circle"},{icon:"iconwenhao",color:"#989898",image:"/topo-static/images/templates/badgeIcon/wenhao.svg",figure:"Circle"},{icon:"iconyuandian",color:"#78B740",image:"/topo-static/images/templates/badgeIcon/circle.svg",figure:"Circle"},{icon:"iconyuandian",color:"#FDC51F",image:"/topo-static/images/templates/badgeIcon/circle.svg",figure:"Circle"},{icon:"iconyuandian",color:"#CB2B35",image:"/topo-static/images/templates/badgeIcon/circle.svg",figure:"Circle"},{icon:"iconyuandian",color:"#32A5DF",image:"/topo-static/images/templates/badgeIcon/circle.svg",figure:"Circle"},{icon:"iconyuandian",color:"#989898",image:"/topo-static/images/templates/badgeIcon/circle.svg",figure:"Circle"}];var S=n(5);const k=i.e.GraphObject.make;function P(t,e){const n=t-e;return n<.5&&n>-.5}function M(t,e){return P(t.x,e.x)&&P(t.y,e.y)}function _(t,e){const n=function(t,e){let n=t.position;const a=t.autoScrollRegion;if(a.top<=0&&a.left<=0&&a.right<=0&&a.bottom<=0)return n;const o=t.viewportBounds,r=t.scale,s=new i.e.Rect(0,0,o.width*r,o.height*r),l=new i.e.Point(0,0);e.x<s.x+a.left?(l.x-=10,e.x<s.x+a.left/2&&(l.x-=10),e.x<s.x+a.left/4&&(l.x-=40)):e.x>s.x+s.width-a.right&&(l.x+=10,e.x>s.x+s.width-a.right/2&&(l.x+=10),e.x>s.x+s.width-a.right/4&&(l.x+=40));e.y<s.y+a.top?(l.y-=10,e.y<s.y+a.top/2&&(l.y-=10),e.y<s.y+a.top/4&&(l.y-=40)):e.y>s.y+s.height-a.bottom&&(l.y+=10,e.y>s.y+s.height-a.bottom/2&&(l.y+=10),e.y>s.y+s.height-a.bottom/4&&(l.y+=40));M(l,new i.e.Point(0,0))||(n=new i.e.Point(n.x+l.x/r,n.y+l.y/r));return n}(t,e);M(n,t.position)?L(t):function t(e){if(-1!==i.e.Diagram.prototype.autoScrollTimer)return;i.e.Diagram.prototype.autoScrollTimer=setTimeout((function(){if(-1!==i.e.Diagram.prototype.autoScrollTimer){L();if(null===e.lastInput.event)return;const n=e.computeAutoScrollPosition(e.lastInput.viewPoint);M(n,e.position)||(e.position=n,e.lastInput.documentPoint=e.transformViewToDoc(e.lastInput.viewPoint),e.doMouseMove(),e.computeBounds(),1===e.lastInput.buttons&&t())}}),250)}(t)}function L(t){-1!==i.e.Diagram.prototype.autoScrollTimer&&(clearTimeout(i.e.Diagram.prototype.autoScrollTimer),i.e.Diagram.prototype.autoScrollTimer=-1)}function T(t,e,n,a){const o=new i.e.Point(t.x-e.centerX,t.y-e.centerY),r=n.part.angle||n.angle;let s;return s=a?o.rotate(r):o.rotate(0-r),new i.e.Point(e.centerX+s.x,e.centerY+s.y)}function O(t,e){if(!e||!e.findObject("SHAPE"))return;const n=e.findObject("SHAPE").actualBounds.width*t.scale,i=e.findObject("SHAPE").actualBounds.height*t.scale,a=Math.max(n,i),o=Math.min(n,i);return!(a>31&&o>=11)}function A(t){return t&&t.data&&"around-group"===t.category&&t.data.aroundLock}function E(t){return t&&t.data&&"around-group"===t.category&&!t.data.aroundLock}function C(t){return t&&t.data&&"around-group"===t.category}function N(t){return t&&t.data&&"combo"===t.category}function B(t){let e=!1;for(;t.data.group;){const n=t.diagram.findNodeForKey(t.data.group);if("smart-container"===n.category){e=!0;break}t=n}return e}function j(t,e,n,a){let o;a&&(o=t.skipsUndoManager,t.skipsUndoManager=!0,t.startTransaction());const r=n.toArray?n.toArray():n;r.forEach(n=>{e&&n.data&&n.data.__gohashid!==e.data.__gohashid&&(a?n.data.group&&r.find(t=>t.key===n.data.group)||(t.model.setDataProperty(n.data,"tempGroup",e.data.key),!n.data.tempAroundPart&&t.model.setDataProperty(n.data,"tempAroundPart",!0)):n.data.group||(t.model.setDataProperty(n.data,"group",e.data.key),n instanceof i.e.Node&&n.updateRelationshipsFromData(),!n.data.aroundPart&&t.model.setDataProperty(n.data,"aroundPart",!0)))}),a&&(t.commitTransaction(),t.skipsUndoManager=o)}function D(t,e,n){const a=F(t,e,n||(t=>t.part instanceof i.e.Adornment?null:t));return a?a.part:null}function F(t,e,n,i){const a={};return t.findObjectAt(e,n,t=>!!t&&(!("function"==typeof i&&!i(t))&&("EMPTY"===t.name&&(a[t.part.key]=!0),!a[t.part.key]&&!!t)))}function R(t,e){Array.isArray(e)&&(e=(new i.e.List).addAll(e));(e||t.nodes).each(e=>{const n=t.findLayer(e.data.layerName);if((n&&n.visible||!n)&&!e.findAdornment("anchorAdornment")&&"around-group"!==e.category&&e instanceof i.e.Node&&e.data.badge){const t=l(),n=e.findObject("SHAPE");t.adornedObject=n,e.addAdornment("anchorAdornment",t)}})}function I(t){return!!(!t.findAdornment("noteAdornment")&&t instanceof i.e.Node&&t.data&&t.data.note)}function z(t,e,n){Array.isArray(e)&&(e=(new i.e.List).addAll(e));const a=t.skipsUndoManager;t.skipsUndoManager=!0,t.startTransaction();(e||t.nodes.filter(e=>t.findLayer(e.layerName).visible)).each(t=>{if(I(t)||n){const e=Object(c.a)("NOTE");e.adornedObject=t.findObject("SHAPE"),t.addAdornment("noteAdornment",e)}}),setTimeout(()=>{const e=t.skipsUndoManager;t.skipsUndoManager=!0,t.startTransaction(),t.nodes.each(t=>{t.findAdornment("noteAdornment")&&t.updateAdornments()}),t.skipsUndoManager=e,t.commitTransaction()},20),t.skipsUndoManager=a,t.commitTransaction()}function H(t,e){const n=new i.e.List;n.addAll(e);const a=["image","loadErrorImage"];n.each(t=>{if(t.data.isProduct&&t.data.isInvalid){const e=t.selectionObject,n=function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=m(0,n);return g(i.e.Adornment,"Spot",{name:"dropCiObjAdornment",alignment:i.e.Spot.Center,zOrder:o.b.dropCiOrInvalid},g(i.e.Placeholder),g(i.e.Shape,"Rectangle",{fill:"rgba(255, 255, 255, 0.45)",stroke:p.d,strokeDashArray:y(e,n)},new i.e.Binding("fill","",t=>n.maskFill||"rgba(255, 255, 255, 0.45)"),new i.e.Binding("stroke","",t=>n.maskStroke||p.d),new i.e.Binding("strokeWidth","",t=>n.strokeWidth||1),new i.e.Binding("width","",e=>(t?i.e.Size.parse(e.size):e).width),new i.e.Binding("height","",e=>(t?i.e.Size.parse(e.size):e).height)),g(i.e.Shape,"RoundedRectangle",{fill:"#fff",stroke:null,parameter1:4},new i.e.Binding("visible","",t=>e),new i.e.Binding("fill","",t=>n.fill||"#fff"),new i.e.Binding("width","",e=>{const n=t?i.e.Size.parse(e.size):e,{width:o,height:r}=n;return Math.min(o,r,a.wrapWidth)}),new i.e.Binding("height","",e=>{const n=t?i.e.Size.parse(e.size):e,{width:o,height:r}=n;return Math.min(o,r,a.wrapHeight)})),g(i.e.Picture,{alignment:i.e.Spot.Center,name:"DROP_CI_IMAGE",imageStretch:i.e.GraphObject.Uniform,source:v},new i.e.Binding("source","",t=>n.imgSrc||v),new i.e.Binding("visible","",t=>e),new i.e.Binding("width","",e=>{const o=t?i.e.Size.parse(e.size):e,{width:r,height:s}=o,l=Math.min(r,a.pictureWidth),c=Math.min(s,a.pictureHeight),h=l/c;let d=.8;return n.invalid&&(d=3),h>d?c*d:l}),new i.e.Binding("height","",e=>{const o=t?i.e.Size.parse(e.size):e,{width:r,height:s}=o,l=Math.min(r,a.pictureWidth),c=Math.min(s,a.pictureHeight),h=l/c;let d=.8;return n.invalid&&(d=3),h>d?c:l*d})))}(a.includes(t.category),!0,{invalid:!0,imgSrc:"/topo-static/images/templates/invalid.png",maskFill:"transparent",maskStroke:"#ccc",fill:"transparent",strokeWidth:3});n.adornedObject=e,t.addAdornment("InvalidAdornment",n)}})}function V(t,e){e.forEach(e=>{const n=t.findPartForData(e);if(n){if(e.badge){if(!n.findAdornment("anchorAdornment")&&"around-group"!==n.category&&n instanceof i.e.Node){const t=l(),e=n.findObject("SHAPE");t.adornedObject=e,n.addAdornment("anchorAdornment",t)}}else n.findAdornment("anchorAdornment")&&n.removeAdornment("anchorAdornment");n.updateAdornments()}})}function G(t,e){e.forEach(e=>{const n=t.findPartForData(e);if(n){if(e.note){if(!n.findAdornment("noteAdornment")&&n instanceof i.e.Node){const t=Object(c.a)("NOTE"),e=n.findObject("SHAPE");t.adornedObject=e,n.addAdornment("noteAdornment",t)}}else n.findAdornment("noteAdornment")&&n.removeAdornment("noteAdornment");n.updateAdornments()}})}function U(t,e){Array.isArray(e)&&(e=(new i.e.List).addAll(e));(e||t.nodes).each(t=>{if(p.c.includes(t.data.shapeName)){const e=Object(c.a)("CurcuitConfig");e.adornedObject=t.findObject("SHAPE"),t.addAdornment("CONFIG_ADORNMENT",e)}})}function W(t,e){Array.isArray(e)&&(e=(new i.e.List).addAll(e));const n=e||t.nodes.filter(e=>t.findLayer(e.layerName).visible);n.each(t=>{if(t.data.commentCount&&!t.findAdornment("commentAdornment")){const e=Object(c.a)("COMMENT");e.adornedObject=t.findObject("SHAPE"),t.addAdornment("commentAdornment",e)}}),setTimeout(()=>{n.each(t=>{t.findAdornment("commentAdornment")&&t.updateAdornments()})},20)}function q(t,e,n){t.model.setDataProperty(e.data,"tempAroundPart",n)}function Y(t,e,n,i){const a={};return t.findObjectsAt(e,n,t=>!!t&&(!("function"==typeof i&&!i(t))&&("EMPTY"===t.name&&(a[t.part.key]=!0),!a[t.part.key]&&!(!t||"SHAPE"!==t.name&&"PORT_SHAPE"!==t.name&&"HEADER"!==t.name&&"ROUTELINK"!==t.part.name&&"TEXT"!==t.name||"around-group"===t.part.category))))}function X(t,e,n){const a=t.elt(1),o=t.elt(2);switch(a.scale=1/e.scale,o.scale=1/e.scale,n){case"topRight":a.margin=new i.e.Margin(0,0,5*a.scale,5*a.scale),o.margin=new i.e.Margin(0,0,0,5*o.scale);break;case"bottomLeft":a.alignment=new i.e.Spot(1,0,0,5*a.scale),o.alignment=new i.e.Spot(1,0,0,20*o.scale);break;case"bottomRight":a.alignment=new i.e.Spot(0,0,5*a.scale,-35*a.scale),o.alignment=new i.e.Spot(0,0,5*o.scale,-14*o.scale)}}function K(t){let e=new i.e.List;e.addAll(t.nodes.filter(t=>Object(o.c)(t))),e.addAll(t.links),e=e.toArray(),e.sort((t,e)=>t.__gohashid-e.__gohashid);const n=[],a=[];let r=NaN,s=NaN;e.length&&(e.forEach(t=>{isNaN(t.zOrder)?n.push(t):a.push(t)}),n.length===e.length?(s=0,r=e.length-1,n.forEach((e,n)=>{t.model.setDataProperty(e.data,"zOrder",n)})):(a.sort((t,e)=>t.zOrder-e.zOrder),s=a[0].zOrder,r=a[a.length-1].zOrder,n.length&&(n.forEach((e,n)=>{t.model.setDataProperty(e.data,"zOrder",r+n+1)}),r+=n.length))),!isNaN(r)&&(t.model.modelData.maxCellZorder=r),!isNaN(s)&&(t.model.modelData.minCellZorder=s)}function Z(t,e,n,a){if(a.borderSvg)return a.borderSvg;const o=new i.e.Geometry;t.forEach(t=>{let a;t.forEach((o,r)=>{0===r?a=new i.e.PathFigure(o[0]*e,o[1]*n,!0):r===t.length-1?a.add(new i.e.PathSegment(i.e.PathSegment.Line,o[0]*e,o[1]*n).close()):a.add(new i.e.PathSegment(i.e.PathSegment.Line,o[0]*e,o[1]*n))}),o.add(a)});const r=new i.e.PathFigure(0,0,!0),s=new i.e.PathFigure(e,n,!0);return o.add(r),o.add(s),a.borderSvg=o,o}function $(t){const e=t.selection.copy().first();if(e){const{category:n,label:i}=e.data;if("bgText"===n&&!i){const n=t.skipsUndoManager;t.skipsUndoManager=!1,t.startTransaction("clearEmptyBgText"),t.remove(e),t.commitTransaction("clearEmptyBgText"),t.skipsUndoManager=n,t.raiseDiagramEvent("ChangedSelection",t.selection)}}}function J(t,e){if(!t||isNaN(e))return;if(!(t instanceof i.e.Group)||"around-group"!==t.category)return void(t.scale=e);const n=t.diagram,a=t.scale,o=e/a,r=t.location.copy();t.scale=e,t.data.scale=e,t.memberParts.each(t=>{if(t instanceof i.e.Node){t.scale=e,t.data.scale=e;const n=t.location.copy().copy().subtract(r).scale(o,o);t.location=r.copy().add(n),t.data.loc=i.e.Point.stringify(t.location)}}),n.links.each(n=>{n.data.group===t.data.key&&function(t,e,n){if(!t||isNaN(e))return;const i=t.diagram,a=t.scale;if(a===e)return;const o=e/a,r=t.defaultFromPoint.copy(),s=t.defaultToPoint.copy();if(t.scale=e,t.data.scale=e,!t.fromNode){const e=r.copy().subtract(n).scale(o,o);t.defaultFromPoint=n.copy().add(e)}if(!t.toNode){const e=s.copy().subtract(n).scale(o,o);t.defaultToPoint=n.copy().add(e)}i.updateLinkPoints(t)}(n,e,r)})}function Q(t,e){var n,a;Array.isArray(e)&&(e=new i.e.Point(...e));const o=t.diagram,r=Object(h.b)([t],!1),s=null!==(n=e.x)&&void 0!==n?n:r.x,l=null!==(a=e.y)&&void 0!==a?a:r.y,c=i.e.Point.parse(t.data.loc);c.x=s+r.width/2,c.y=l+r.height/2;const d=c.copy().subtract(t.location);t.data.aroundLock&&(t.moveTo(c.x,c.y,!0),o.moveLinksInGroup(t,d),t.memberParts.each(t=>{t instanceof i.e.Node&&(t.data.loc=i.e.Point.stringify(t.location))}));const u=i.e.Point.stringify(c);o.model.setDataProperty(t.data,"loc",u)}function tt(t,e,n,i,a){this.size=t,this.relativeLocation=e,this.locoffset=n,this.rotationAngle=i,this.points=a}function et(t,e){const n=t.diagram,a=Object(d.g)(n,[t]),o=t.angle;if(o===e)return;const r=e-o,s=Object(h.b)([t]),l=s.size.copy(),c=t.rotateCenterPoint||"Center",u=t.locationObject.getDocumentPoint(i.e.Spot[c]),f=new i.e.Map;a.forEach(t=>{const e=t.locationObject.getDocumentPoint(i.e.Spot.Center),n=e.copy().subtract(t.location),a=e.subtract(u),o=t.points&&t.points.toArray();f.add(t,new tt(t.resizeObject.actualBounds.size,a,n,t.angle,o))});const p=new i.e.Point(s.width/2,s.height/2);f.each(t=>{const e=t.key,n=t.value;if(e instanceof i.e.Link&&n.points&&n.points.length>1){const t=n.points,i=[];t.forEach((t,e)=>{const n=t.copy();n.subtract(u).rotate(r).add(u),i[e]=n}),e.points=i}else{const t=n.rotationAngle+r;e.angle=t;const a=new i.e.Point(n.relativeLocation.x+l.width/2,n.relativeLocation.y+l.height/2),o=Math.sqrt(p.distanceSquaredPoint(a)),s=p.directionPoint(a),c=(r+s)*(Math.PI/180),h=n.locoffset.copy();h.rotate(r),e.location=new i.e.Point(u.x+o*Math.cos(c),u.y+o*Math.sin(c)).subtract(h)}})}function nt(t,e,n){if(!(t instanceof i.e.Node))return;if("width"!==e&&"height"!==e)return;const a=t.findObject("SHAPE"),o=a&&a[e];if(!a||o===n)return;const r=Object(h.b)([t],!1),{x:s,y:l}=r,c=t.location.copy();if(A(t)){const a=t.findObject("AROUND_GROUP_MAIN");a&&(a[e]=n);const r=t.findObject("SHAPE");r&&(r[e]=n),t.data[e]=r[e],t.location=c;const s=n/o,l=t.angle;t.memberParts.each(t=>{if(t instanceof i.e.Node){const n=t.findObject("SHAPE");if(n&&(n[e]=n[e]*s),"image"===t.category){const n=t.findObject("IMAGE");n&&(n[e]=n[e]*s),t.data.size="".concat(n.width," ").concat(n.height)}else t.data[e]=n[e];const i=t.location.copy(),a=i.copy().subtract(c).rotate(-l);switch(e){case"width":{const e=a.x*(s-1)*Math.cos(l*(Math.PI/180)),n=a.x*(s-1)*Math.sin(l*(Math.PI/180));t.location=i.copy().offset(e,n);break}case"height":{const e=a.y*(s-1)*Math.sin(-l*(Math.PI/180)),n=a.y*(s-1)*Math.cos(l*(Math.PI/180));t.location=i.copy().offset(e,n);break}}}}),t.diagram.links.each(n=>{if(n.data.group===t.data.key){const t=n.points.toArray(),i="width"===e?"x":"y";if(!n.toNode){const e=t[t.length-1],a=e.copy();a[i]=(e[i]-c[i])*s+c[i],n.defaultToPoint=a}if(!n.fromNode){const e=t[0],a=e.copy();a[i]=(e[i]-c[i])*s+c[i],n.defaultFromPoint=a}n.startRoute(),n.computePoints(),n.commitRoute()}})}else{const i=t.findObject("SHAPE");if(i&&(i[e]=n),"image"===t.category){const i=t.findObject("IMAGE");i&&(i[e]=n),t.data.size="".concat(i.width," ").concat(i.height)}else t.data[e]=i[e],"electronic"===t.data.category&&(i.geometry=Object(w.a)(i,t.data))}const d=Object(h.b)([t],!1),u=new i.e.Point(s,l).offset(d.width/2,d.height/2);if(t.moveTo(u.x,u.y,!0),t.data.loc=i.e.Point.stringify(t.location),t.data.aroundLock){const e=u.copy().subtract(c);t.diagram.moveLinksInGroup(t,e),t.memberParts.each(t=>{t instanceof i.e.Node&&(t.data.loc=i.e.Point.stringify(t.location))})}}function it(t,e,n){const a=new i.e.List;e.changes.each(t=>{const e=n?t.oldValue:t.newValue;"parts"===t.propertyName&&e&&a.add(e)}),U(t,a),H(0,a),W(t,a)}function at(t,e,n){if(!Array.isArray(e))return;const a=t.skipsUndoManager;n&&(t.skipsUndoManager=!0),t.startTransaction("handleLayer"),e.forEach(e=>{if(e.layerName&&!t.findLayer(e.layerName)){const n=t.findLayer("");t.addLayerAfter(k(i.e.Layer,{name:e.layerName}),n)}t.findLayer(e.layerName).visible=!e.isVisibility,t.findLayer(e.layerName)._visible=!e.isVisibility}),t.isReadOnly&&(t.findLayer("").pickable=!0,e.forEach(e=>{const n=t.findLayer(e.layerName);n.opacity=1,n.pickable=!0}),R(t),z(t),W(t)),t.commitTransaction("handleLayer"),n&&(t.skipsUndoManager=a)}function ot(t){let e=new i.e.List;const n=t.selection.filter(t=>t.data&&t.data.attatch).iterator;for(;n.next();){const i=n.value.actualBounds;t.findPartsIn(i,!1,!0,e)}return e=e.filter(t=>t.data&&!t.data.group),t.Attatchments=e,e}let rt=!1,st=!1,lt=null;function ct(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function(n){lt=()=>t(n),rt?st&&(st=!0):(rt=!0,t(n),setTimeout(()=>{rt=!1,st&&lt&&lt(),st=!1,lt=null},e))}}function ht(t,e){const n=t.labeledLink,i=n.path.getLocalPoint(e),a=n.path.geometry.getFractionForPoint(i);n.diagram.model.set(t.data,"segmentFraction",a)}function dt(t,e){const n=new i.e.Point(0,0),a=("route-pipe"===e.category?e.findObject("CONNECT_FROM"):e.findObject("FROM_ARROW")).angle;n.x=e.fromShortLength,n.rotate(a);const o=e.geometry.getAngleAlongPath(t.segmentFraction);n.rotate(-o),t.segmentOffset=n}function ut(t,e){return(t+"").padStart(e,"0")}function ft(t){function e(t){const n=t.nodes.filter(t=>t.data&&t.data.isTimer),i=new Date;n.each(e=>{t.model.setDataProperty(e.data,"label",function(t,e){t instanceof Date||(t=new Date);const n=t.getFullYear(),i=+t.getMonth()+1,a=t.getDate(),o=t.getHours(),r=t.getMinutes(),s=t.getSeconds();return e.replace(/\{(.+?)\}/g,(function(t,e){let l="";switch(e){case"yy":l=ut(n,4);break;case"MM":l=ut(i,2);break;case"dd":l=ut(a,2);break;case"hh":l=ut(o,2);break;case"mm":l=ut(r,2);break;case"ss":l=ut(s,2)}return l}))}(i,e.data.timerFormatter))}),clearTimeout(t._globalTimer),t._globalTimer=null,n.count&&function(t){t._globalTimer||(t._globalTimer=setTimeout(e,1e3,t))}(t)}e(t)}function pt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.skipsUndoManager;t.skipsUndoManager=!0,t.startTransaction();const a=["InfiniteCanvasOff","ViewportBoundsChanged"];a.includes(e)||Object(f.h)(t,n),Object(u.i)(t),t.commitTransaction(),t.skipsUndoManager=i}function gt(t){t.nodes.each(e=>{const n=e.data.hide;if(t.isReadOnly&&(!1===n?e.data.visible=!0:!0===n&&(e.data.visible=!1)),e.updateTargetBindings("visible"),!e.diagram.isReadOnly)if(C(e))e.memberParts.each(t=>{const e=n||t.data.hide?0:1;t.elements.each(t=>{t.opacity=e})});else{const t=!0===n?0:1;e.elements.each(e=>{e.opacity=t})}}),t.links.each(e=>{const n=!0===e.data.hide?0:1;e.elements.each(t=>{t.opacity=n}),t.isReadOnly&&(e.data.visible=!e.data.hide,e.updateTargetBindings("visible"))})}function mt(t){t.nodes.each(e=>{const n=e.data;if("image"===n.category&&"IT"===n.shapeParentName&&void 0===n.model3d){const e=n.image.match(/\/it\/(.+)\.png/);if(e&&e[1]){const i=decodeURIComponent(e[1]),a=x.get(i);if(a){const e="/topo-static/models/it/".concat(a,"/");t.model.setDataProperty(n,"model3d",e)}}}})}function yt(t,e){if(t.data){const n=null!=e?e:t.data.hide;if(C(t))t.memberParts.each(t=>{const e=n||t.data.hide?0:1;t.elements.each(t=>{t.opacity=e})});else{const e=!0===n?0:1;t.elements.each(t=>{t.opacity=e})}}}function vt(t){return{solid:null,dashed:[10,6],dotted:[2,2]}[t]||null}function wt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"None";t=Object(S.d)(t);const e={Yes:"iconduigou",No:"iconcha",Warn:"iconjinggao",Question:"iconwenhao",Note:"iconzhushi",None:"iconyuandian"},n=e[t];let i=b.find(t=>t.icon===n);return i={...i},"None"===t&&(i.color="transparent"),i}function xt(t){const e=[{alignment:"0 0 0 0",alignmentFocus:"0.5 0.5 0 0"},{alignment:"0.5 0 0 0",alignmentFocus:"0.5 0.5 0 0"},{alignment:"1 0 0 0",alignmentFocus:"0.5 0.5 0 0"},{alignment:"1 0.5 0 0",alignmentFocus:"0.5 0.5 0 0"},{alignment:"1 1 0 0",alignmentFocus:"0.5 0.5 0 0"},{alignment:"0.5 1 0 0",alignmentFocus:"0.5 0.5 0 0"},{alignment:"0 1 0 0",alignmentFocus:"0.5 0.5 0 0"},{alignment:"0 0.5 0 0",alignmentFocus:"0.5 0.5 0 0"},{alignment:"0 0 -5 -5",alignmentFocus:"1 1 0 0"},{alignment:"0.5 0 0 -5",alignmentFocus:"0.5 1 0 0"},{alignment:"1 0 5 -5",alignmentFocus:"0 1 0 0"},{alignment:"1 0.5 5 0",alignmentFocus:"0 0.5 0 0"},{alignment:"1 1 5 5",alignmentFocus:"0 0 0 0"},{alignment:"0.5 1 0 5",alignmentFocus:"0.5 0 0 0"},{alignment:"0 1 -5 5",alignmentFocus:"1 0 0 0"},{alignment:"0 0.5 -5 0",alignmentFocus:"1 0.5 0 0"},{alignment:"0 0 5 5",alignmentFocus:"0 0 0 0"},{alignment:"0.5 0 0 5",alignmentFocus:"0.5 0 0 0"},{alignment:"1 0 -5 5",alignmentFocus:"1 0 0 0"},{alignment:"1 0.5 -5 0",alignmentFocus:"1 0.5 0 0"},{alignment:"1 1 -5 -5",alignmentFocus:"1 1 0 0"},{alignment:"0.5 1 0 -5",alignmentFocus:"0.5 1 0 0"},{alignment:"0 1 5 -5",alignmentFocus:"0 1 0 0"},{alignment:"0 0.5 5 0",alignmentFocus:"0 0.5 0 0"},{alignment:"0.5 0.5",alignmentFocus:"0.5 0.5 0 0"}].find(e=>e.alignment===t);return e&&e.alignmentFocus}},function(t,e,n){"use strict";n.d(e,"i",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"p",(function(){return s})),n.d(e,"q",(function(){return l})),n.d(e,"r",(function(){return c})),n.d(e,"s",(function(){return h})),n.d(e,"m",(function(){return d})),n.d(e,"l",(function(){return u})),n.d(e,"t",(function(){return f})),n.d(e,"o",(function(){return p})),n.d(e,"d",(function(){return g})),n.d(e,"h",(function(){return m})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return v})),n.d(e,"g",(function(){return w})),n.d(e,"k",(function(){return x})),n.d(e,"j",(function(){return b})),n.d(e,"n",(function(){return S})),n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return P})),n.d(e,"v",(function(){return M})),n.d(e,"u",(function(){return _}));var i=n(19);const a="/topo-static/images/templates/",o="#E05966",r="#019DE0",s=18,l=8,c=1,h="#5E5E5E",d="#1D1D95",u="#E6E6F3",f="rgb(255,236,169)",p="transparent",g="#4371f2",m="#D7D9DB",y="#F6F6F6",v="rgb(232,233,233)",w={iframe:a+"dom/iframe.svg",video:a+"dom/video.svg",videoStream:a+"dom/videoStream.svg"},x="#2465FF",b="rgba(36, 101, 255, 0.03)",S={"flowchart-Containers":!0},k={charge:["EE_OpAmp","EE_Capacitor2","EE_VoltageSource","EE_ControlledVoltageSource"],orient:["EE_Capacitor1","EE_Capacitor2","EE_Resistor","EE_VariableResistor","EE_Potentiometer","EE_Inductor","EE_VariableInductor","EE_AcSource","EE_VoltageSource","EE_CurrentSource","EE_ControlledCurrentSource","EE_ControlledVoltageSource","EE_DcSource1","EE_DcSource2"],labelDirection:["EE_Capacitor1","EE_Capacitor2","EE_Resistor","EE_VariableResistor","EE_Potentiometer","EE_Inductor","EE_VariableInductor","EE_AcSource","EE_VoltageSource","EE_CurrentSource","EE_ControlledCurrentSource","EE_ControlledVoltageSource","EE_DcSource1","EE_DcSource2"],wires:["EE_Multiplexer","EE_Demultiplexer","EE_IntegratedCircuit"],waveType:["EE_AcSource"],current:["EE_CurrentSource","EE_ControlledCurrentSource"]},P=["EE_OpAmp","EE_Capacitor1","EE_Capacitor2","EE_Resistor","EE_VariableResistor","EE_Potentiometer","EE_Inductor","EE_VariableInductor","EE_Multiplexer","EE_Demultiplexer","EE_IntegratedCircuit","EE_AcSource","EE_VoltageSource","EE_CurrentSource","EE_ControlledCurrentSource","EE_ControlledVoltageSource","EE_DcSource1","EE_DcSource2"],M=JSON.stringify({deleteStroke:!1,lineHeight:0,leftIndent:0,rightIndent:0,before:0,padding:5,after:0,rotate:0,disabled:!1}),_=["label","textAlign",...Object.keys(i.k)]},function(t,e,n){"use strict";n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return f})),n.d(e,"e",(function(){return p})),n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return y}));var i=n(0),a=n(34),o=n(78),r=n(63),s=n(8),l=n(9),c=n(13),h=n(3);const d=i.e.GraphObject.make;function u(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={locationSpot:i.e.Spot.Center,rotationSpot:i.e.Spot.Center,resizable:!0,rotatable:!0,selectable:!0,locationObjectName:"SHAPE",resizeObjectName:"SHAPE",rotateObjectName:"SHAPE",selectionObjectName:"SHAPE",resizeAdornmentTemplate:r.a,rotateAdornmentTemplate:o.a,selectionAdornmentTemplate:Object(a.d)(),isShadowed:!1},n={...e,...t};return[n,n.resizable?l.a.resizable():{},n.rotatable?l.a.rotatable():{},n.rotatable?l.a.angle():{},l.a.selectable(),c.a.mouseMotion(),l.a.location(),l.a.zOrder(),l.a.movable(),l.a.deletable(),l.a.layerName(),l.a.opacity(),l.a.visible(),l.a.scale(),l.a.cursor(),s.a.makeContextMenu(),y()]}function f(){return[{fill:null,minSize:new i.e.Size(1,1),maxSize:new i.e.Size(9999,9999)},new i.e.Binding("width").makeTwoWay(),new i.e.Binding("height").makeTwoWay(),l.a.fill(),new i.e.Binding("stroke","",t=>t.stroke?t.stroke:"text"===t.category||"bgText"===t.category?null:h.s),new i.e.Binding("strokeWidth"),new i.e.Binding("strokeDashArray")]}function p(t){return[{portId:"",fill:t?null:"transparent",stroke:null,fromLinkableSelfNode:!0,toLinkableSelfNode:!0,fromLinkable:!0,toLinkable:!0,fromLinkableDuplicates:!0,toLinkableDuplicates:!0,geometry:null},l.a.toLinkable(),l.a.fromLinkable()]}function g(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return d(i.e.Panel,"Spot",d(i.e.Shape,p(e),new i.e.Binding("strokeWidth","strokeWidth",t=>Number(t)||1),new i.e.Binding("width"),new i.e.Binding("height"),...t))}function m(){return[{fill:"transparent",stroke:null,cursor:"default"}]}function y(){return[new i.e.Binding("isShadowed"),new i.e.Binding("shadowOffset","shadowOffset",t=>("object"!=typeof t||t instanceof i.e.Point||(t=(new i.e.Point).setTo(t.x,t.y)),t||new i.e.Point(0,8))),new i.e.Binding("shadowColor","shadowColor",t=>t||"rgba(0,0,0,0.5)"),new i.e.Binding("shadowBlur","shadowBlur",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;return t}))]}},function(t,e,n){"use strict";n.d(e,"x",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"d",(function(){return h})),n.d(e,"z",(function(){return d})),n.d(e,"h",(function(){return u})),n.d(e,"t",(function(){return f})),n.d(e,"c",(function(){return p})),n.d(e,"e",(function(){return g})),n.d(e,"y",(function(){return y})),n.d(e,"n",(function(){return v})),n.d(e,"a",(function(){return w})),n.d(e,"l",(function(){return x})),n.d(e,"o",(function(){return b})),n.d(e,"q",(function(){return S})),n.d(e,"r",(function(){return k})),n.d(e,"s",(function(){return P})),n.d(e,"j",(function(){return M})),n.d(e,"i",(function(){return _})),n.d(e,"b",(function(){return L})),n.d(e,"p",(function(){return T})),n.d(e,"u",(function(){return O})),n.d(e,"v",(function(){return A})),n.d(e,"w",(function(){return E})),n.d(e,"k",(function(){return C})),n.d(e,"m",(function(){return N}));n(55);var i=n(0),a=n(15),o=n(16),r=n(6);const s="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";function l(){return Math.random().toString(36).slice(-8)}function c(){return Math.round(9e7*Math.random()+1e7)}function h(t){return t.toLowerCase().replace(/( |^)[a-z]/g,t=>t.toUpperCase())}function d(t,e,n,i,a){if(t&&e&&n&&i){let o=t,r=e;return(!!a||t>n)&&(o=n,r=parseInt(n/t*e),r>i&&(o=parseInt(i/r*n),r=i)),r>i&&(o=parseInt(i/r*o),r=i),{width:o,height:r}}return null}function u(t,e){e instanceof i.e.Size||(e=i.e.Size.parse(e));const{width:n,height:a}=e;return new Promise((e,i)=>{const o=new Image,r="string"==typeof t?t:window.URL.createObjectURL(t);o.onerror=t=>{i(t)},o.onload=()=>{window.URL.revokeObjectURL(r);const t=o.width,i=o.height,{width:s,height:l}=d(t,i,n,a,!0),c="".concat(s," ").concat(l);e({image:r,size:c})},o.src=r})}function f(t,e){const{image:n,size:i}=e,a=t.diagram;Object(o.a)(t.data.image)&&Object(o.b)(t),a.model.setCategoryForNodeData(t.data,"image"),a.model.assignAllDataProperties(t.data,{image:n,size:i}),t.containingGroup&&"around-group"===t.containingGroup.category&&Object(r.n)(t.diagram,t.containingGroup,!1,!1),Object(o.a)(n)&&Object(o.c)(t)}function p(t){if("object"!=typeof t||null===t)return t;const e=t instanceof Array?[]:{};for(const n in t)e[n]="object"==typeof t[n]?p(t[n]):t[n];return e}function g(t){return t.currentLayerName||""}function m(t){const e=Object.prototype.toString.call(t).match(/\b\w+\b/g);return e.length<2?void 0:e[1]}function y(t,e){if(null===t||null===e)return!0;const n=t=>["Object","Array"].includes(m(t));if(m(t)!==m(e))return!0;if(!n(t)&&!n(e))return Boolean(t!==e);const i=Object.keys(t),a=Object.keys({...t,...e});return i.length!==a.length||a.some(i=>n(t[i])?y(t[i],e[i]):t[i]!==e[i])}function v(t){for(const e in t)return!1;return!0}function w(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return{};if(!Array.isArray(t))return t;const n={};return t.forEach(t=>{e?t.key&&(n[t.key]=t.value):n[t.key]=t.value}),n}function x(t,e){if(e){const t=document.querySelector("style[id='".concat(e,"']"));t&&t.remove()}const n=document.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet"),e&&n.setAttribute("id",e),n.appendChild(document.createTextNode(t));document.getElementsByTagName("head")[0].appendChild(n)}function b(t){return"function"==typeof t}function S(t){return null!==t&&t instanceof Object}function k(t){return"Object"===Object.prototype.toString.call(t).slice(8,-1)}function P(t,e){if("object"!=typeof t||null===t)return t;Object.keys(t).forEach(n=>{!function(t,e,n,i){P(n,i),Object.defineProperty(t,e,{get:()=>n,set(t){t!==n&&(n=t,b(i)&&i(e))}})}(t,n,t[n],e)})}function M(t){let e=.5,n=.5,i=0,a=1;return t>=0&&t<=90?(e=t/180,n=1-e,i=(t+90)/180,a=1-i):t>90&&t<=180?(e=t/180,n=1-e,i=(360-t-90)/180,a=1-i):t>180&&t<=270?(e=(360-t)/180,n=1-e,i=(360-t-90)/180,a=1-i):t>270&&t<=360&&(e=(360-t)/180,n=1-e,i=(t-360+90)/180,a=1-i),{start:"".concat(e," ").concat(i),end:"".concat(n," ").concat(a)}}function _(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:270,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;360===t&&(t=0);const n=Number((Math.cos(t*Math.PI/180)*e).toFixed(1)),i=Number((-Math.sin(t*Math.PI/180)*e).toFixed(1));return{x:n,y:i}}function L(t,e,n){switch(t){case"=":return String(e)===String(n);case"!=":return String(e)!==String(n);case"<":return parseFloat(e)<parseFloat(n);case"<=":return parseFloat(e)<=parseFloat(n);case">":return parseFloat(e)>parseFloat(n);case">=":return parseFloat(e)>=parseFloat(n);default:return!1}}function T(t){try{if("string"==typeof t&&"object"==typeof JSON.parse(t))return!0}catch(t){return!1}return!1}function O(t,e){if(!t)return;const n=new RegExp("(^|&)".concat(e,"=([^&]*)(&|$)")),i=t.split("?"),a=i[1]&&i[1].match(n);return{baseUrl:i[0],value:null!=a?a[2]:""}}function A(t){try{return new Function("value","return ".concat(t))()}catch{return!1}}function E(t){return t=isNaN(+t.toString())?t:+t}function C(t){if(!t)return;const{viewLink:e,viewPage:n}=t;let i=window.location.origin;const o=window.location.hash.split("?")[0],r=o.lastIndexOf("/")+1;let s,l=o.substring(0,r)+e;if(o.includes("thingtopo")){const t=/(share\/|inset\/)/;l=l.replace(t,""),s="".concat(i,"/").concat(l,"?relationPageId=").concat(n)}else o.includes("openview")?s="".concat(i,"/").concat(l,"?page=").concat(n.split("-")[1]):(i=a.c,s="".concat(i,"/#/openview/").concat(e,"?page=").concat(n));return s}function N(t,e){return new Promise(n=>{const i=document.createElement("script");i.type="text/javascript",i.src=t,e&&(i.id=e),document.getElementsByTagName("head")[0].appendChild(i),i.onload=()=>{n()}})}},function(t,e,n){"use strict";n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"k",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"n",(function(){return p})),n.d(e,"a",(function(){return g})),n.d(e,"o",(function(){return m})),n.d(e,"l",(function(){return y})),n.d(e,"h",(function(){return v})),n.d(e,"e",(function(){return w})),n.d(e,"b",(function(){return x})),n.d(e,"d",(function(){return b})),n.d(e,"i",(function(){return S})),n.d(e,"m",(function(){return k}));var i=n(0),a=n(42),o=n(2),r=n(7),s=n(5);function l(t){let e=[],n=[];for(e=t,n=t;n.length>0;){const t=[];n.forEach(e=>{if(e){let n=e.memberParts;Object(o.C)(e)&&(n=d(e)),n.each(e=>{e instanceof i.e.Group&&t.push(e)})}}),e=e.concat(t),n=t}return e}function c(t,e){let n=[],a=!1;return e.forEach(t=>{t&&t.data&&t instanceof i.e.Group&&(a=!0)}),a?e.forEach(e=>{if(e instanceof i.e.Group){const i=e.data.key,a=Object(o.C)(e)?"tempGroup":"group";n.push(e),t.nodes.each(t=>{t.data&&t.data[a]===i&&n.push(t)}),t.links.each(t=>{t.data&&t.data[a]===i&&n.push(t)})}else n.push(e)}):n=e,n}function h(t){let e;return t.each(t=>{"around-group"!==t.data.category||t.data.group||t.data.tempGroup||(e=t)}),e}function d(t){const e=t.diagram,n=new i.e.Set;return e.nodes.each(e=>{e.data.tempAroundPart&&e.data.tempGroup===t.data.key&&n.add(e)}),e.links.each(e=>{e.data.tempAroundPart&&e.data.tempGroup===t.data.key&&n.add(e)}),n}function u(t,e){let n=a.a.filterCellsInFirstGroup(t,e);return n.forEach(e=>{e.data&&(t.model.setDataProperty(e.data,"group",void 0),e instanceof i.e.Node&&e.updateRelationshipsFromData(),e.data.tempAroundPart&&t.model.setDataProperty(e.data,"tempAroundPart",!1),e.data.aroundPart&&t.model.setDataProperty(e.data,"aroundPart",!1))}),Object(o.C)(e)&&(n=d(e).toArray(),n.forEach(e=>{t.model.setDataProperty(e.data,"tempAroundPart",!1),t.model.setDataProperty(e.data,"tempGroup",void 0)})),n}function f(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=t.nodes.filter(t=>t.data&&"around-group"===t.data.category&&!t.data.aroundLock&&!~e.indexOf(t)),a=t.skipsUndoManager;n&&(t.skipsUndoManager=!0);const o=[];i.each(e=>{o.push(e),u(t,e)}),t.removeParts(o),t.skipsUndoManager=a}function p(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!t.isReadOnly&&e&&e.data&&e.data.isGroup&&"around-group"===e.category){const s=t.skipsUndoManager;a&&(t.skipsUndoManager=!0);const h=c(t,l([e]).filter(t=>"around-group"===t.category)),d=h.filter(t=>"around-group"!==t.data.category);if(d.length<=1)u(t,e),o&&t.removeParts([e]),n&&t.selectCollection(d);else if(h.length>0){const a=h.filter(t=>t instanceof i.e.Node&&"around-group"!==t.category),o=h.filter(t=>t instanceof i.e.Link),s=Object(r.a)(a,o);s&&(t.model.assignAllDataProperties(e.data,{width:s.width,height:s.height,angle:0,loc:"".concat(s.x+s.width/2," ").concat(s.y+s.height/2)}),e.ensureBounds()),n&&h.forEach(t=>{!t.isSelected&&(t.isSelected=!0)})}t.skipsUndoManager=s}}function g(t,e){let n=e.toArray?e.toArray():e;const a=[],o=[];n=n.filter(t=>t.data&&!t.data.tempAroundPart),n.forEach(t=>{t instanceof i.e.Link?o.push(t):a.push(t)});const l=Object(r.a)(a,o);if(l){const e={category:"around-group",width:l.width,height:l.height,aroundLock:!1,isGroup:!0,loc:"".concat(l.x+l.width/2," ").concat(l.y+l.height/2)};e.layerName=Object(s.e)(t),t.model.addNodeData(e);const n=t.findPartForData(e);return n.ensureBounds(),n}return!1}function m(t){const e=t.getEditingSelection(),n=y(t);if(e.count&&n){const t=e.filter(t=>!(Object(o.C)(t)||t.data.lock)),{x:i,y:a,width:s,height:l}=Object(r.b)(t,!0),c=n.data;c.width=s,c.height=l,c.loc="".concat(i+s/2," ").concat(a+l/2),n.updateTargetBindings()}}function y(t,e){let n;return e||(e=t.selection),e.toArray&&(e=e.toArray()),e.forEach(t=>{"around-group"!==t.data.category||t.data.group||t.data.aroundLock||(n=t)}),n}function v(t,e){if(!Object(o.A)(e))return{};const n=new i.e.List;n.addAll(t.nodes),n.addAll(t.links);const r=a.a.filterCellsInGroup(t,e,n.toArray()).toArray();if(Array.isArray(r)&&r.length){r.sort((t,e)=>t.zOrder-e.zOrder);const t=r[r.length-1],e=t.zOrder,n=r[0];return{minZorderCell:n,minZorder:n.zOrder,maxZorderCell:t,maxZorder:e,groupMems:r}}return{}}function w(t){const e=[];t.model.nodeDataArray.forEach(t=>{t.isGroup&&e.push(t.key)}),t.model.nodeDataArray.forEach(t=>{const n=t.tempGroup?"tempGroup":"group";t[n]&&!~e.indexOf(t[n])&&(delete t[n],delete t.tempAroundPart)}),t.model.linkDataArray.forEach(t=>{const n=t.tempGroup?"tempGroup":"group";t[n]&&!~e.indexOf(t[n])&&(delete t[n],delete t.tempAroundPart)})}function x(t){const e=h(t);if(e&&e.data.aroundLock)return!t.any(t=>"around-group"!==t.data.category&&t.data.group!==e.data.key)&&e}function b(t,e){if(e.count<=1)return null;const n=t.skipsUndoManager;t.skipsUndoManager=!0,t.startTransaction();const i=g(t,e);return Object(o.I)(t,i,e,!0),i.isSelected=!0,e.each(t=>{t.isSelected=!0}),t.commitTransaction(),t.skipsUndoManager=n,i}function S(t){const e=t.memberParts,n=t.diagram.links.filter(e=>e.data.group===t.data.key);return(new i.e.Set).addAll(e).addAll(n)}function k(t,e){const n=null==e?void 0:e.data.group;t.model.setDataProperty(e.data,"aroundPart",!1),t.model.setDataProperty(e.data,"group",void 0),p(t,t.findPartForKey(n),!1,!1,!0)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var i=n(0);function a(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=r(t,"SHAPE"),a=r(e,"LINK_SHAPE",n);let s;if(isFinite(i.x)||isFinite(a.x))return s=isFinite(i.x)?isFinite(a.x)?o(i,a):i:a,s}function o(t,e){const n=Math.min(t.x,e.x),a=Math.min(t.y,e.y),o=Math.max(t.x+t.width,e.x+e.width),r=Math.max(t.y+t.height,e.y+e.height);return new i.e.Rect(n,a,o-n,r-a)}const r=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Array.isArray(t)||(t=t.toArray());let a=1/0,o=1/0,r=-1/0,s=-1/0;t.forEach(t=>{let l=0,c=0;t.ensureBounds();const h=t.findObject(e);if(!h)return;const d=t instanceof i.e.Link?t.routeBounds.copy():h.getDocumentBounds().copy();if(t instanceof i.e.Link)d.inflate(n,n);else if("flowchart-Annotation"!==t.data.category){const e=0-(t.data.strokeWidth||1)/2;d.inflate(e,e)}l=d.width,c=d.height,d.x<a&&(a=d.x),d.y<o&&(o=d.y),d.x+l>r&&(r=d.x+l),d.y+c>s&&(s=d.y+c)});const l=isFinite(r-a)?r-a:0,c=isFinite(s-o)?s-o:0;return{x:a,y:o,width:l,height:c}};function s(t,e,n,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];void 0===e&&(e=!1);const r=new i.e.Rect;let s=null;const c=new i.e.Spot(.5,.5);if(t=t.filter(t=>t.data&&"JointLabel"!==t.data.category),o||(t=t.filter(t=>t.data&&("slides-container"!==t.data.category||t.data.slidesVisible))),Array.isArray(t))for(let o=0;o<t.length;o++){const h=t[o];!e&&h instanceof i.e.Link||(h.ensureBounds(),l(h,n||c,r,a),null===s?s=r.copy():s.unionRect(r.copy()))}else{const o=t.iterator;for(;o.next();){const t=o.value;!e&&t instanceof i.e.Link||(t.ensureBounds(),l(t,n||c,r,a),null===s?s=r.copy():s.unionRect(r))}}return null===s?new i.e.Rect(NaN,NaN,0,0):s}const l=function(t,e,n,a){if(n||(n=new i.e.Rect),t instanceof i.e.Link)return n.set(t.routeBounds),n;const o=a?t:t.resizeObject,r=o.getDocumentAngle(),s=o.getDocumentPoint(i.e.Spot.Center),l=o.actualBounds;let{width:h,height:d}=l;if(!a){const t=r*Math.PI/180,e=Math.sin(t),n=Math.cos(t);h=Math.abs(l.width*n)+Math.abs(l.height*e),d=Math.abs(l.width*e)+Math.abs(l.height*n)}n.setTo(s.x-.5*h,s.y-.5*d,h,d);const u="number"==typeof o.strokeWidth?o.strokeWidth:0;return c(n,r,u,e),n},c=function(t,e,n,i){return n="number"==typeof n?n:0,(e%=90)>0&&(n=Math.round(n/Math.sin(Math.PI*Math.max(90-e,e)/180))),t.setTo(t.x+n*i.x,t.y+n*i.y,t.width-n*i.x*2,t.height-n*i.y*2),t}},function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return w}));var i=n(0);var a=n(9),o=n(55),r=n.n(o),s=n(12);const l=i.e.GraphObject.make,c=["image","loadErrorImage","collapse-group"];function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;const h={name:"TEXT",editable:!0,textAlign:"center",alignment:i.e.Spot.Center,alignmentFocus:i.e.Spot.Center,wrap:i.e.TextBlock.WrapBreakAll},d={...h,...t},u=Object.assign({text:"label",stroke:"fontColor",textAlign:"textAlign",isUnderline:"isUnderline",fontStyle:"fontStyle",fontVariant:"fontVariant",fontWeight:"fontWeight",fontSize:"fontSize",fontFamily:"fontFamily",editable:"textEditable"},!Array.isArray(e)||"object"!=typeof e[0]||e[0]instanceof i.e.Binding?Array.isArray(e)?{}:e:e[0]);function f(t){return"number"==typeof t?new i.e.Binding("text","",e=>e.linkItems[t].label).makeTwoWay(v(t)):new i.e.Binding("text",u.text).makeTwoWay()}return l(i.e.TextBlock,d,...Object(a.b)("editable",[u.editable,"lock","noEdit","isTimer"],(t,e)=>{const n=e.part.data,i=e.part;return!(n.lock||i.data.lock||n.noEdit||n.isTimer)&&("boolean"!=typeof n[u.editable]||n[u.editable])}),...Object(a.b)("width",["textOption","width","height","fontSize","orient"],(t,e)=>{const a=e.part.data,o=Object(s.a)(e).data;if("image"===a.category&&n)return NaN;let r;const l="string"==typeof o.textOption?JSON.parse(o.textOption):o.textOption,c=l?l.padding:5;if("table"===a.category)return e.panel.width-2*c;if(r=!l||90!==l.rotate&&270!==l.rotate?o.width-2*c:o.height-2*c,a.category.indexOf("BPMN-")>-1||a.category.indexOf("uml-")>-1||a.category.indexOf("archi-")>-1){if(o.textSpot||n)return NaN;const t=e.panel.findMainElement();let a=t.geometry;if(!a){const e=i.e.Shape.getFigureGenerators().get(t.figure);a="function"==typeof e?e(t,t.width,t.height):null}const s=a?a.spot1:i.e.Spot.TopLeft,c=a?a.spot2:i.e.Spot.BottomRight;return!l||90!==l.rotate&&270!==l.rotate?r*c.x+c.offsetX-(r*s.x+s.offsetX):r*c.y+c.offsetY-(r*s.y+s.offsetY)}if(o.hasOwnProperty("orient")){const t=/\s|\n/,e=o.label.split(t);let n=1;for(const t of e)t.length>n&&(n=t.length);const i=(o.fontSize||10)*n*1.2;"circuit-orient"===a.category?r=o.orient?o.width:i:"circuit-orient-side"===o.category&&(r=o.orient?i:o.width)}return r}),Array.isArray(e)?e:{},f(o),new i.e.Binding("stroke",u.stroke).makeTwoWay(),new i.e.Binding("textAlign",u.textAlign,t=>{const e=i.e.Spot[t];return e.x<.5?"left":e.x>.5?"right":"center"}),new i.e.Binding("alignment","",(t,e)=>{var n;let a=t[u.textAlign];const o=t.category||e.part.data.category,r="string"==typeof t.textOption?JSON.parse(t.textOption):t.textOption;if(a||(a=c.includes(t.category)?"Bottom":"Center"),o.indexOf("BPMN-")>-1||o.indexOf("uml-")>-1||o.indexOf("archi-")>-1){const e=i.e.Spot[a]||i.e.Spot.Center;let n=r?r.padding:5;n=t.textSpot?-n:n,o.indexOf("BPMN-SwimLane")>-1&&(n=0);const s=(r&&r.leftIndent||0)-(r&&r.rightIndent||0);return new i.e.Spot(e.x,e.y,s+(e.x<.5?n:e.x>.5?-n:0),e.y<.5?n:e.y>.5?-n:0)}if("circuit-orient"===t.category&&t.orient)return t.labelDirection?i.e.Spot.Bottom:i.e.Spot.Top;const s=g(a,t.category,r).alignment;return(null===(n=t.category)||void 0===n?void 0:n.indexOf("flowcharNote"))>-1&&("Right"===t.textSpot&&s.x<=0?s.offsetX=2*t.parameter1:"Right"===t.textSpot&&.5===s.x?s.offsetX=t.parameter1:"Left"===t.textSpot&&s.x>=1?s.offsetX=2*-t.parameter1:"Left"===t.textSpot&&.5===s.x&&(s.offsetX=-t.parameter1)),s}).makeTwoWay(b(u)),new i.e.Binding("alignmentFocus",u.textAlign,(t,e)=>{const n=e.part.data;let a=n;if("table"===n.category){a=Object(s.a)(e).data}const o="string"==typeof a.textOption?JSON.parse(a.textOption):a.textOption;let r=t;if(r||(r=c.includes(n.category)?"Bottom":"Center"),n.category.indexOf("BPMN-")>-1||n.category.indexOf("uml-")>-1||n.category.indexOf("archi-")>-1){const t=e.part,n=i.e.Spot[r]||i.e.Spot.Center;return t.data.textSpot?new i.e.Spot(-(n.x-1),-(n.y-1),0,0):n}return"circuit-orient"===n.category&&a.orient?a.labelDirection?i.e.Spot.Top:i.e.Spot.Bottom:g(r,a.category,o).alignmentFocus}),new i.e.Binding("isUnderline",u.isUnderline).makeTwoWay(),new i.e.Binding("font","",(t,e)=>(p(e)||e.part.ensureBounds(),y({fontStyle:t[u.fontStyle],fontVariant:t[u.fontVariant],fontWeight:t[u.fontWeight],fontSize:t[u.fontSize],fontFamily:t[u.fontFamily]}))).makeTwoWay(x(u)),...Object(a.b)("spacingAbove",["textOption","fontFamily","fontSize"],(t,e)=>{const n=Object(s.a)(e).data;let{textOption:i,fontFamily:a,fontSize:o}=n;return i="string"==typeof i?JSON.parse(i):i,i?i.lineHeight/2||0:(o||(o="12px"),/(宋体|黑体|楷体)/.test(a)?parseInt(o)/3:0)}),...Object(a.b)("spacingBelow",["textOption","fontFamily","fontSize"],(t,e)=>{const n=Object(s.a)(e).data;let{textOption:i,fontFamily:a,fontSize:o}=n;return i="string"==typeof i?JSON.parse(i):i,i?i.lineHeight/2||0:(o||(o="12px"),/(宋体|黑体|楷体)/.test(a)?parseInt(o)/3:0)}),new i.e.Binding("isStrikethrough","textOption",t=>{var e;if("string"!=typeof t)return!1;try{t=JSON.parse(t)}catch(t){}return!(null===(e=t)||void 0===e||!e.deleteStroke)}),a.a.textPanel.textPanelAngle(),...Object(a.b)("shadowVisible",["category","fill"],(t,e)=>{const n=e.part.data;let i=!1;if("bgText"===n.category)i=!0;else if("text"===n.category){null!==n.fill&&"transparent"!==n.fill||(i=!0);const t=r()(n.fill);t.isValid()&&0===t.getAlpha()&&(i=!0)}return i}))}const d=l(i.e.HTMLInfo,{show:function(t,e,n){e._uDiagram.trigger("showContextMenu",t,e,n)},hide:function(t){t._uDiagram.trigger("hideContextMenu",t)}});function u(){return{contextMenu:d}}const f={};function p(t){if(f[t.__gohashid])return!0;f[t.__gohashid]=!0}function g(t,e,n){let a,o;const r=n?n.padding:5;let s=r;const l=(n&&n.leftIndent||0)-(n&&n.rightIndent||0);switch("switch"===e&&(s=5),t){case"TopLeft":a=c.includes(e)?new i.e.Spot(0,0,-r+l,-s):new i.e.Spot(0,0,r+l,s),o=c.includes(e)?i.e.Spot.BottomRight:i.e.Spot.TopLeft,"swtich"===e&&(a.offsetY=0);break;case"Top":a=c.includes(e)?new i.e.Spot(.5,0,l,-s):new i.e.Spot(.5,0,l,s),o=c.includes(e)?i.e.Spot.Bottom:i.e.Spot.Top,"swtich"===e&&(a.offsetY=0);break;case"TopRight":a=c.includes(e)?new i.e.Spot(1,0,r+l,-s):new i.e.Spot(1,0,-r+l,s),o=c.includes(e)?i.e.Spot.BottomLeft:i.e.Spot.TopRight,"swtich"===e&&(a.offsetY=0);break;case"Left":a=c.includes(e)?new i.e.Spot(0,.5,-r+l,0):new i.e.Spot(0,.5,r+l,0),o=c.includes(e)?i.e.Spot.Right:i.e.Spot.Left;break;case"Center":a=new i.e.Spot(.5,.5,l,0),o=i.e.Spot.Center;break;case"Right":a=c.includes(e)?new i.e.Spot(1,.5,r+l,0):new i.e.Spot(1,.5,-r+l,0),o=c.includes(e)?i.e.Spot.Left:i.e.Spot.Right;break;case"BottomLeft":a=c.includes(e)?new i.e.Spot(0,1,-r+l,s):new i.e.Spot(0,1,r+l,-s),o=c.includes(e)?i.e.Spot.TopRight:i.e.Spot.BottomLeft;break;case"Bottom":a=c.includes(e)?new i.e.Spot(.5,1,l,s):new i.e.Spot(.5,1,l,-s),o=c.includes(e)?i.e.Spot.Top:i.e.Spot.Bottom;break;case"BottomRight":a=c.includes(e)?new i.e.Spot(1,1,r+l,s):new i.e.Spot(1,1,-r+l,-s),o=c.includes(e)?i.e.Spot.TopLeft:i.e.Spot.BottomRight;break;default:a=new i.e.Spot(.5,1,l,-s),o=c.includes(e)?i.e.Spot.Top:i.e.Spot.Bottom}return{alignment:a,alignmentFocus:o}}function m(t){const e={};if(t){const n=t.split(" ");for(;n.length;)if(n[0]&&/(normal|Normal|italic|Italic|oblique|Oblique|inherit|Inherit)/.test(n[0])&&!e.fontStyle)e.fontStyle=n[0],n.shift();else if(n[0]&&/(normal|Normal|small-caps|Small-caps|inherit|Inherit)/.test(n[0])&&!e.fontVariant)e.fontVariant=n[0],n.shift();else if(n[0]&&/(normal|Normal|bold|Bold|bolder|Bolder|lighter|Lighter)|(\d)/.test(n[0])&&!e.fontWeight)e.fontWeight=n[0],n.shift();else{if(e.fontSize||!n[0]||!/(xx-small|x-small|small|medium|large|x-large|xx-large|smaller|larger)|(\d{1,}px)/.test(n[0]))break;e.fontSize=Math.round(parseFloat(n[0])/1.9922208491047502),n.shift()}const i=n.join(" ");i&&(e.fontFamily=i)}return e}function y(t){let e=t.fontSize?parseFloat(t.fontSize):10;e=1.9922208491047502*e+"px";return[t.fontStyle||"normal",t.fontVariant||"normal",t.fontWeight||"normal",e,t.fontFamily||'"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei"'].join(" ")}function v(t){return(e,n,i)=>{i.setDataProperty(n.linkItems[t],"label",e)}}function w(t){return l(i.e.Panel,"Vertical",{visible:!0,name:"LABEL",segmentIndex:NaN},new i.e.Binding("visible","",e=>!!(e.linkItems||[])[t]),new i.e.Binding("segmentFraction","",e=>(e.linkItems||[])[t].segmentFraction).makeTwoWay(function(t){return(e,n,i)=>{i.setDataProperty(n.linkItems[t],"segmentFraction",e)}}(t)),h({background:"#fff"},null,null,t),new i.e.Binding("segmentOffset","",e=>{const n=e.linkItems||[];return n[t]&&n[t].segmentOffset?i.e.Point.parse(n[t].segmentOffset):i.e.Point.parse("0 0")}).makeTwoWay(function(t){return(e,n,a)=>{a.setDataProperty(n.linkItems[t],"segmentOffset",i.e.Point.stringify(e))}}(t)))}function x(t){return(e,n,i)=>{const a=m(e);("normal"!==a.fontStyle||n.hasOwnProperty(t.fontStyle))&&i.setDataProperty(n,t.fontStyle,a.fontStyle),("normal"!==a.fontVariant||n.hasOwnProperty(t.fontVariant))&&i.setDataProperty(n,t.fontVariant,a.fontVariant),("normal"!==a.fontWeight||n.hasOwnProperty(t.fontWeight))&&i.setDataProperty(n,t.fontWeight,a.fontWeight),("12px"!==a.fontSize||n.hasOwnProperty(t.fontSize))&&i.setDataProperty(n,t.fontSize,a.fontSize),('"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei"'!==a.fontFamily||n.hasOwnProperty(t.fontFamily))&&i.setDataProperty(n,t.fontFamily,a.fontFamily)}}function b(t){return(e,n,i)=>{let a=n.textAlign||"Center";0===e.x&&0===e.y?a="TopLeft":.5===e.x&&0===e.y?a="Top":1===e.x&&0===e.y?a="TopRight":0===e.x&&.5===e.y?a="Left":.5===e.x&&.5===e.y?a="Center":1===e.x&&.5===e.y?a="Right":0===e.x&&1===e.y?a="BottomLeft":.5===e.x&&1===e.y?a="Bottom":1===e.x&&1===e.y&&(a="BottomRight"),i.setDataProperty(n,t.textAlign,a)}}function S(t){let e="";switch(t){case"Conversation":e="BPMN-Conversation";break;case"Start":case"End":e="Ellipse";break;case"Intermediate":e="BPMN-Intermediate";break;case"File":e="BPMN-File";break;case"Diamond":e="Diamond";break;case"Task":case"Event Sub-Process":case"Call Activity":e="BPMN-RoundedRectangle";break;case"Transaction":e="BPMN-Transaction";break;case"Data Store":e="BPMN-DataStore";break;case"Text Annotation":e="BPMN-TextAnnotation"}return e}e.a={makeTextBlock:h,makeContextMenu:u,makeTextBlockPanel:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return l(i.e.Panel,"Spot",{alignment:i.e.Spot.Center,alignmentFocusName:"TEXT_PANEL"},new i.e.Binding("visible","",t=>!t.noEdit),new i.e.Binding("type","",t=>t.category.indexOf("BPMN-")>-1?t.textSpot?i.e.Panel.Spot:i.e.Panel.Auto:i.e.Panel.Spot),l(i.e.Shape,{name:"TEXT_PANEL",fill:"transparent",strokeWidth:0,figure:"Rectangle"},new i.e.Binding("figure","",t=>t.category.indexOf("BPMN-")>-1?S(t.shapeName):t.figure),new i.e.Binding("width","",t=>{let e=0;if(t.width?e=t.width:t.size&&(e=Number(t.size.split(" ")[0])),e)return e}),new i.e.Binding("height","",t=>{let e=0;if(t.height?e=t.height:t.size&&(e=Number(t.size.split(" ")[1])),e)return e}),new i.e.Binding("spot2","",t=>{if("archi-shape"===t.category){const e=i.e.Shape.getFigureGenerators().get(t.figure)("",t.width,t.height).spot2,n=t.icon?19:0;return new i.e.Spot(e.x,e.y,e.offsetX-n,e.offsetY)}})),h(t,e,n))}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return l}));var i=n(0);function a(t,e){let n=!1;if(t.tempAroundPart)n=!0;else if(t.aroundPart){const i=e.diagram.findNodeForKey(t.group);i&&!i.selection.has(e)&&(n=!0)}return n}var o=n(24),r=n(20),s=n(2);function l(t,e,n,a){const o=[];return e.forEach(e=>{const r=new i.e.Binding(t,e,n);a&&r.makeTwoWay(a),o.push(r)}),o}const c={textPanelAlignment:function(){return new i.e.Binding("alignment","",t=>{let{textOption:e}=t;if(e="string"==typeof e?JSON.parse(e):e,e){let n=e.leftIndent-e.rightIndent,a=0,o=t.width,r=t.height;if(o||(o=Number(t.size.split(" ")[0])),r||(r=Number(t.size.split(" ")[1])),e.rotate)switch(e.rotate){case 90:n=(o-r)/2,a=e.leftIndent-e.rightIndent-(o-r)/2;break;case 180:n=-(e.leftIndent-e.rightIndent),a=0;break;case 270:n=(o-r)/2,a=-(e.leftIndent-e.rightIndent)-(o-r)/2}return Number(e.padding)&&(n+=e.padding,a+=e.padding),new i.e.Spot(.5,.5,n,a)}return i.e.Spot.Center})},textPanelPadding:function(){return new i.e.Binding("padding","",t=>{let{textOption:e}=t;return e="string"==typeof e?JSON.parse(e):e,e&&e.padding?new i.e.Margin(e.padding):new i.e.Margin(0)})},textPanelAngle:function(){return new i.e.Binding("angle","",t=>{let{textOption:e}=t;return e="string"==typeof e?JSON.parse(e):e,e&&e.rotate?e.rotate:0})}};e.a={location:function(){return new i.e.Binding("location","loc",i.e.Point.parse).makeTwoWay(i.e.Point.stringify)},zOrder:function(){return new i.e.Binding("zOrder").makeTwoWay()},angle:function(){return new i.e.Binding("angle").makeTwoWay()},cursor:function(){return new i.e.Binding("cursor","movable",(t,e)=>e.diagram.isReadOnly?"auto":t?"move":"auto").ofObject()},resizable:function(){return new i.e.Binding("resizable","",t=>!t.data.lock&&(!t.data.autoSize&&(!Object(o.d)(t.data.category)&&(void 0===t.data.resizable||t.data.resizable)))).ofObject()},rotatable:function(){return new i.e.Binding("rotatable","",t=>!t.data.activation&&(!t.data.lock&&(!Object(o.e)(t.data.category)&&(!1===t.rotatable?!t.data.lock:t.rotatable)))).ofObject()},movable:function(){return new i.e.Binding("movable","",t=>!t.data.lock).ofObject()},deletable:function(){return new i.e.Binding("deletable","",t=>!t.data.lock).ofObject()},layerName:function(){return[new i.e.Binding("layerName","layerName",t=>t||""),new i.e.Binding("layerName","dragAndDrop",(t,e)=>{let n=e.layerName||"";return t&&(n="Tool"),n})]},selectable:function(){return new i.e.Binding("selectable","layerName",(t,e)=>{const n=e.diagram;return"Group"===t&&"Group"===n.currentLayerName||!Object(s.H)(e)}).ofObject()},visible:function(){return new i.e.Binding("visible").makeTwoWay()},scale:function(){return new i.e.Binding("scale").makeTwoWay()},outerShapeVisible:function(){return new i.e.Binding("visible","",t=>!t.part.data.lock&&!t.diagram.isReadOnly).ofObject()},toLinkable:function(){return new i.e.Binding("toLinkable","",(t,e)=>{var n,i,a;return null===(n=null===(i=e.diagram.pageSetting)||void 0===i||null===(a=i.diagramSetting)||void 0===a?void 0:a.linkingAdornmentVisible)||void 0===n||n})},fromLinkable:function(){return new i.e.Binding("fromLinkable","",(t,e)=>{var n,i,a;return null===(n=null===(i=e.diagram.pageSetting)||void 0===i||null===(a=i.diagramSetting)||void 0===a?void 0:a.linkingAdornmentVisible)||void 0===n||n})},reshapable:function(){return new i.e.Binding("reshapable","",(t,e)=>!t.lock&&!a(t,e))},relinkableTo:function(){return new i.e.Binding("relinkableTo","",t=>!t.data.lock).ofObject()},relinkableFrom:function(){return new i.e.Binding("relinkableFrom","",t=>!t.data.lock).ofObject()},resegmentable:function(){return new i.e.Binding("resegmentable","",(t,e)=>!a(t,e))},textPanel:c,opacity:function(){return new i.e.Binding("opacity","",t=>"number"==typeof t.opacity?t.opacity:1)},fill:function(){return new i.e.Binding("fill","",t=>{const e=t.fill||"transparent";return Object(r.a)({color:e,width:t.width,height:t.height})})}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r}));var i=n(0);n(6),n(2);const a=function(t,e){let n=(e=e.toArray?e.toArray():e).sort((e,n)=>n.zOrder===e.zOrder&&e instanceof i.e.Node&&n instanceof i.e.Node?t.model.nodeDataArray.indexOf(n.data)-t.model.nodeDataArray.indexOf(e.data):n.zOrder-e.zOrder);const a=t.layers.iterator,o={};for(;a.next();){const t=a.value,e=a.key;o[t.name]=e}return n=e.sort((t,e)=>(e.layerName||(e.layerName=""),t.layerName||(t.layerName=""),o[e.layerName]-o[t.layerName])),n[0]},o={linkReshapingAdornment:15,linkReshapingLink:1,dragGuidedLine:9,selection:3,marks:8,compareAdornment:3,coopTrackAdornment:1,iconAdornment:4,linking1:11,linking2:12,linkingMouseHover:10,lockAdornment:17,makeRelAdornment:6,ralationLinkAd:6,resize:13,rotate:12,noteAdornment:16,commentAdornment:16,linkRelinkAdornment:12,linkSelectionAdornmentTemplate:13,linkOutlineAdornmentTemplate:2,ToolTipPartTemplate:5,historyVersion:2,socket:1,dropCiOrInvalid:8};function r(t){return!(!t||"around-group"===t.category||"JointLabel"===t.category)}},function(t,e,n){"use strict";const i=new(n(50).a);e.a=i},function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return h})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return u}));var i=n(0);function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const e={value:t},n=t=>{e.value=null!==t&&"object"==typeof t?f(t):null};return[e,n]}const o=a(null),r=a(null),s=a(null),l=()=>o,c=()=>r,h=()=>s;function d(t,e,n){void 0===n&&(n=8);const a=new WeakMap;let o=!0;const r=t.findObjectsNear(e,n,(function(t){if(!o)return null;const n=t.part;if(n.layer.isTemporary)return null;const i=t.geometry;if(!i)return null;const r=t.getLocalPoint(e);return i.containsPoint(r)&&(o=!1),a.set(n,t),n}),(function(t){let e=!1;return t instanceof i.e.Part&&(e=t.canSelect()),o||e||(o=!0),e}),!0);let s=null;if(1===r.count)s=r.first();else if(r.count>1){const t=r.iterator;let n=1/0;for(;t.next();){const i=t.value,o=a.get(i);a.delete(i);const r=o.getLocalPoint(e),l=o.geometry,c=l.getFractionForPoint(r),h=l.getPointAlongPath(c),d=0|Math.sqrt(h.distanceSquaredPoint(r));d<n&&(n=d,s=i)}}return s}function u(t){if(!t)return null;for(;!t.data&&t.panel;)t=t.panel;return t}function f(t){return window.WeakRef&&window.WeakRef.constructor?new window.WeakRef(t):new class{constructor(t){this._element=t}deref(){return this._element}}(t)}},function(t,e,n){"use strict";var i=n(0);e.a={dbclickEditing:function(t){return{doubleClick:(e,n)=>{if(window.diagram.holdDownSpace)return!1;const a=n.part;if(a){const e=a.diagram;if(!e||e.isReadOnly||a.data.lock)return;if(a.data&&"Hotspot"===a.data.shapeName)return;if("uml-shape"===a.data.category&&(n instanceof i.e.Node||n instanceof i.e.Panel))return;const o=n.findObject(t||"TEXT");if(o&&o instanceof i.e.TextBlock&&(o.editable||o.defaultEditable)&&"TextEditing"!==e.currentTool.name){const t=e.toolManager.textEditingTool;t.textBlock=o,e.currentTool=t,t.doActivate()}}}}},mouseMotion:function(){return{mouseEnter:(t,e,n)=>{if(n){const t=n.part;if(t&&"NODE_RELATION_INFO"===t.name)return}e.diagram._uDiagram.trigger("mouseEnter:node",t,e)},mouseLeave:(t,e)=>{if(!e||!e.diagram)return;e.diagram._uDiagram.trigger("mouseLeave:node",t,e)}}}}},function(t,e,n){"use strict";n.d(e,"h",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"e",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"c",(function(){return p}));var i=n(0),a=n(34);function o(t,e){var n,o;const r=null==t||null===(n=t.pageSetting)||void 0===n||null===(o=n.pageOptions)||void 0===o?void 0:o.linkJumpOver;t.links.each(t=>{t.findAdornment("linkOutlineAdornmentTemplate")&&t.removeAdornment("linkOutlineAdornmentTemplate")}),e.each(t=>{if(t instanceof i.e.Link)if(!t.isSelected&&t.findAdornment("linkOutlineAdornmentTemplate"))t.removeAdornment("linkOutlineAdornmentTemplate");else if(t.isSelected){const e=Object(a.a)();t.findAdornment("linkOutlineAdornmentTemplate")&&t.removeAdornment("linkOutlineAdornmentTemplate"),e.adornedObject=t.findObject("LINK_SHAPE"),t.addAdornment("linkOutlineAdornmentTemplate",e),r&&setTimeout(()=>{t.updateAdornments()})}})}const r=function(t,e,n,i){const a=Math.abs(e.x-n.x),o=Math.abs(e.y-n.y);let r=null,s=5;return"Linking"!==t.currentTool.name&&"Relinking"!==t.currentTool.name||(s=i),a<o&&a<s?r="x":o<a&&o<s&&(r="y"),r},s=function(t,e){const n=e.y-t.y,a=e.x-t.x,o=.7*Math.sqrt(a*a+n*n),r=Math.round(o),s=Math.atan2(n,a),l=180/Math.PI*s;return l>=-22.5&&l<22.5?new i.e.Point(e.x,t.y):l>=22.5&&l<67.5?new i.e.Point(t.x+r,t.y+r):l>=67.5&&l<112.5?new i.e.Point(t.x,e.y):l>=112.5&&l<157.5?new i.e.Point(t.x-r,t.y+r):l>=157.5&&l<=180||l>=-180&&l<-157.5?new i.e.Point(e.x,t.y):l>=-157.5&&l<-112.5?new i.e.Point(t.x-r,t.y-r):l>=-112.5&&l<-67.5?new i.e.Point(t.x,e.y):new i.e.Point(t.x+r,t.y-r)},l=function(t,e,n){let i=null;if(t.lastInput&&t.lastInput.shift){i=[];t.currentTool.isForwards?(i.push(e),i.push(s(e,n))):(i.push(s(n,e)),i.push(n))}return i};function c(t){var e,n;null!=t&&null!==(e=t.pageSetting)&&void 0!==e&&null!==(n=e.pageOptions)&&void 0!==n&&n.linkJumpOver&&t.links.each(t=>{t.invalidateRoute(),setTimeout(()=>{t.updateAdornments()},0)})}function h(t,e,n,a,o){const r=new i.e.ChangedEvent;r.diagram=t,r.change=i.e.ChangedEvent.Property,r.propertyName=n,r.object=e,r.oldValue=a,r.newValue=o,r.oldParam=null,r.newParam=null,t.undoManager.handleChanged(r)}function d(t,e){const n=t[0],i=t[1],a=e[0],o=e[1],r=[i[0]-n[0],i[1]-n[1]],s=[o[0]-a[0],o[1]-a[1]],l=u(r,s);if(Math.abs(l)>1e-7){const t=u([a[0]-n[0],a[1]-n[1]],s)/l;return[n[0]+t*(i[0]-n[0]),n[1]+t*(i[1]-n[1])]}return null}function u(t,e){return t[0]*e[1]-t[1]*e[0]}function f(t,e){if(t)return t.routing&&(t.routing=function(t,e){let n;if("toString"===e){if("string"==typeof t)return t;n="Normal",t===i.e.Link.Normal&&(n="Normal"),t===i.e.Link.Orthogonal&&(n="Orthogonal"),t===i.e.Link.AvoidsNodes&&(n="AvoidsNodes")}else{if("string"!=typeof t)return t;n=i.e.Link.Normal,"Normal"===t&&(n=i.e.Link.Normal),"Orthogonal"===t&&(n=i.e.Link.Orthogonal),"AvoidsNodes"===t&&(n=i.e.Link.AvoidsNodes)}return n}(t.routing,e)),t.curve&&(t.curve=function(t,e){let n;if("toString"===e){if("string"==typeof t)return t;n="None",t===i.e.Link.None&&(n="None"),t===i.e.Link.Bezier&&(n="Bezier"),t===i.e.Link.JumpGap&&(n="JumpGap"),t===i.e.Link.JumpOver&&(n="JumpOver")}else n=i.e.Link.None,"None"!==t&&"None"!==t.name||(n=i.e.Link.None),"Bezier"!==t&&"Bezier"!==t.name||(n=i.e.Link.Bezier),"JumpGap"!==t&&"JumpGap"!==t.name||(n=i.e.Link.JumpGap),"JumpOver"!==t&&"JumpOver"!==t.name||(n=i.e.Link.JumpOver);return n}(t.curve,e)),t}function p(t){const e=[];if(!(t&&t instanceof i.e.Link))return e;const n=t.fromNode;n&&n.labeledLink&&(e.push(n.labeledLink),e.push.apply(e,p(n.labeledLink)));const a=t.toNode;return a&&a.labeledLink&&(e.push(a.labeledLink),e.push.apply(e,p(a.labeledLink))),[...new Set(e)]}},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"g",(function(){return h})),n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return p}));const i=window.location.origin,a=t.env.VITE_APP_MODE,o="https://topo.thingjs.com"===i?"https://www.thingjs.com":"https://test-thingjs.3dlink.cn",r="https://www.thingjs.com"===i?"https://topo.thingjs.com":"https://test-topo.3dlink.cn",{studoOrigin:s,chartOrigin:l,dixOrigin:c}=function(t){let e="http://test-studio.thingjs.com",n="http://hundun-test.thingjs.com",i="http://192.168.1.182:1551";switch(t){case"https://topo.thingjs.com":case"https://www.thingjs.com":case"http://www.thingjs.com":case"https://charts.thingjs.com":e="https://studio.thingjs.com",n="https://charts.thingjs.com",i="https://dix.thingjs.com";break;case"https://test-topo.3dlink.cn":case"https://test-thingjs.3dlink.cn":case"http://test-thingjs.3dlink.cn":case"https://test-charts.3dlink.cn":e="https://test-studio.3dlink.cn",n="https://test-charts.3dlink.cn",i="https://test-dix.3dlink.cn";break;default:e="http://test-studio.thingjs.com",n="http://hundun-test.thingjs.com",i="http://192.168.1.182:1551"}return{studoOrigin:e,chartOrigin:n,dixOrigin:i}}(i),h=s,d=l,u="offline"===a,f="offlineRun"===a,p=u||f?"":"/v1/no-auth"}).call(this,n(48))},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d}));var i=function(){var t=function(t){return t.reduce((function(t,e){return 2*t+e}),0)},e=function(t){for(var e=[],n=7;n>=0;n--)e.push(!!(t&1<<n));return e},n=function(t){this.data=t,this.len=this.data.length,this.pos=0,this.readByte=function(){if(this.pos>=this.data.length)throw new Error("Attempted to read past end of stream.");return t instanceof Uint8Array?t[this.pos++]:255&t.charCodeAt(this.pos++)},this.readBytes=function(t){for(var e=[],n=0;n<t;n++)e.push(this.readByte());return e},this.read=function(t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(this.readByte());return e},this.readUnsigned=function(){var t=this.readBytes(2);return(t[1]<<8)+t[0]}},i=function(n,i){i||(i={});var a=function(t){for(var e=[],i=0;i<t;i++)e.push(n.readBytes(3));return e},o=function(){var t,e;e="";do{t=n.readByte(),e+=n.read(t)}while(0!==t);return e},r=function(r){r.leftPos=n.readUnsigned(),r.topPos=n.readUnsigned(),r.width=n.readUnsigned(),r.height=n.readUnsigned();var s=e(n.readByte());r.lctFlag=s.shift(),r.interlaced=s.shift(),r.sorted=s.shift(),r.reserved=s.splice(0,2),r.lctSize=t(s.splice(0,3)),r.lctFlag&&(r.lct=a(1<<r.lctSize+1)),r.lzwMinCodeSize=n.readByte();var l=o();r.pixels=function(t,e){for(var n,i,a=0,o=function(t){for(var n=0,i=0;i<t;i++)e.charCodeAt(a>>3)&1<<(7&a)&&(n|=1<<i),a++;return n},r=[],s=1<<t,l=s+1,c=t+1,h=[],d=function(){h=[],c=t+1;for(var e=0;e<s;e++)h[e]=[e];h[s]=[],h[l]=null};;)if(i=n,(n=o(c))!==s){if(n===l)break;if(n<h.length)i!==s&&h.push(h[i].concat(h[n][0]));else{if(n!==h.length)throw new Error("Invalid LZW code.");h.push(h[i].concat(h[i][0]))}r.push.apply(r,h[n]),h.length===1<<c&&c<12&&c++}else d();return r}(r.lzwMinCodeSize,l),r.interlaced&&(r.pixels=function(t,e){for(var n=new Array(t.length),i=t.length/e,a=function(i,a){var o=t.slice(a*e,(a+1)*e);n.splice.apply(n,[i*e,e].concat(o))},o=[0,4,2,1],r=[8,8,4,2],s=0,l=0;l<4;l++)for(var c=o[l];c<i;c+=r[l])a(c,s),s++;return n}(r.pixels,r.width)),i.img&&i.img(r)},s=function(){var a={};switch(a.sentinel=n.readByte(),String.fromCharCode(a.sentinel)){case"!":a.type="ext",function(a){switch(a.label=n.readByte(),a.label){case 249:a.extType="gce",function(a){n.readByte();var o=e(n.readByte());a.reserved=o.splice(0,3),a.disposalMethod=t(o.splice(0,3)),a.userInput=o.shift(),a.transparencyGiven=o.shift(),a.delayTime=n.readUnsigned(),a.transparencyIndex=n.readByte(),a.terminator=n.readByte(),i.gce&&i.gce(a)}(a);break;case 254:a.extType="com",function(t){t.comment=o(),i.com&&i.com(t)}(a);break;case 1:a.extType="pte",function(t){n.readByte();t.ptHeader=n.readBytes(12),t.ptData=o(),i.pte&&i.pte(t)}(a);break;case 255:a.extType="app",function(t){n.readByte();switch(t.identifier=n.read(8),t.authCode=n.read(3),t.identifier){case"NETSCAPE":!function(t){n.readByte();t.unknown=n.readByte(),t.iterations=n.readUnsigned(),t.terminator=n.readByte(),i.app&&i.app.NETSCAPE&&i.app.NETSCAPE(t)}(t);break;default:!function(t){t.appData=o(),i.app&&i.app[t.identifier]&&i.app[t.identifier](t)}(t)}}(a);break;default:a.extType="unknown",function(t){t.data=o(),i.unknown&&i.unknown(t)}(a)}}(a);break;case",":a.type="img",r(a);break;case";":a.type="eof",i.eof&&i.eof(a);break;default:throw new Error("Unknown block: 0x"+a.sentinel.toString(16))}"eof"!==a.type&&setTimeout(s,0)};!function(){var o={};if(o.sig=n.read(3),o.ver=n.read(3),"GIF"!==o.sig)throw new Error("Not a GIF file.");o.width=n.readUnsigned(),o.height=n.readUnsigned();var r=e(n.readByte());o.gctFlag=r.shift(),o.colorRes=t(r.splice(0,3)),o.sorted=r.shift(),o.gctSize=t(r.splice(0,3)),o.bgColor=n.readByte(),o.pixelAspectRatio=n.readByte(),o.gctFlag&&(o.gct=a(1<<o.gctSize+1)),i.hdr&&i.hdr(o)}(),setTimeout(s,0)};return function(t){var e,a,o={vp_l:0,vp_t:0,vp_w:null,vp_h:null,c_w:null,c_h:null};for(var r in t)o[r]=t[r];o.vp_w&&o.vp_h&&(o.is_vp=!0);var s=!1,l=null,c=null,h=null,d=null,u=null,f=null,p=null,g=null,m=!0,y=!1,v=[],w=[],x=o.gif;void 0===o.auto_play&&(o.auto_play=!x.getAttribute("rel:auto_play")||"1"==x.getAttribute("rel:auto_play"));var b,S,k,P,M=o.hasOwnProperty("on_end")?o.on_end:null,_=o.hasOwnProperty("loop_delay")?o.loop_delay:0,L=o.hasOwnProperty("loop_mode")?o.loop_mode:"auto",T=!o.hasOwnProperty("draw_while_loading")||o.draw_while_loading,O=!!T&&(!o.hasOwnProperty("show_progress_bar")||o.show_progress_bar),A=o.hasOwnProperty("progressbar_height")?o.progressbar_height:25,E=o.hasOwnProperty("progressbar_background_color")?o.progressbar_background_color:"rgba(255,255,255,0.4)",C=o.hasOwnProperty("progressbar_foreground_color")?o.progressbar_foreground_color:"rgba(255,0,22,.8)",N=function(){l=null,c=null,u=h,h=null,f=null},B=function(){try{i(e,G)}catch(t){F("parse")}},j=function(t,e){b.width=t*W(),b.height=e*W(),k.style.minWidth=t*W()+"px",P.width=t,P.height=e,P.style.width=t+"px",P.style.height=e+"px",P.getContext("2d").setTransform(1,0,0,1,0,0)},D=function(t,e,n){if(n&&O){var i,a,r,s=A;if(o.is_vp)y?(a=(o.vp_t+o.vp_h-s)/W(),s/=W(),i=o.vp_l/W()+t/e*(o.vp_w/W()),r=b.width/W()):(a=o.vp_t+o.vp_h-s,s=s,i=o.vp_l+t/e*o.vp_w,r=b.width);else a=(b.height-s)/(y?W():1),i=t/e*b.width/(y?W():1),r=b.width/(y?W():1),s/=y?W():1;S.fillStyle=E,S.fillRect(i,a,r-i,s),S.fillStyle=C,S.fillRect(0,a,i,s)}},F=function(t){t,a={width:x.width,height:x.height},v=[],S.fillStyle="black",S.fillRect(0,0,o.c_w?o.c_w:a.width,o.c_h?o.c_h:a.height),S.strokeStyle="red",S.lineWidth=3,S.moveTo(0,0),S.lineTo(o.c_w?o.c_w:a.width,o.c_h?o.c_h:a.height),S.moveTo(0,o.c_h?o.c_h:a.height),S.lineTo(o.c_w?o.c_w:a.width,0),S.stroke()},R=function(){if(!f)return;let t=1;if(o.maxSize&&g){const e=o.maxSize/g;e<1&&(t=e)}const e=f.canvas.toDataURL("image/webp",t);v.push({data:e,delay:c,size:e.length}),w.push({x:0,y:0})},I=function(){var t,e,n,i=-1,a=0,o=function(t){i+=t,s()},r=(t=!1,e=function(){null!==M&&M(x),a++,!1!==L||a<0?n():(t=!1,m=!1)},n=function(){if(t=m){o(1);var a=10*v[i].delay;a||(a=100),0==(i+1+v.length)%v.length?(a+=_,setTimeout(e,a)):setTimeout(n,a)}},function(){t||setTimeout(n,0)}),s=function(){var t;(i=parseInt(i,10))>v.length-1&&(i=0),i<0&&(i=0),t=w[i],P.getContext("2d").putImageData(v[i].data,t.x,t.y),S.globalCompositeOperation="copy",S.drawImage(P,0,0)};return{init:function(){},step:r,play:function(){m=!0,r()},pause:function(){m=!1},playing:m,move_relative:o,current_frame:function(){return i},length:function(){return v.length},move_to:function(t){i=t,s()}}}(),z=function(t){D(e.pos,e.data.length,t)},H=function(){},V=function(t,e){return function(n){t(n),z(e)}},G={hdr:V((function(t){j((a=t).width,a.height)})),gce:V((function(t){R(),N(),l=t.transparencyGiven?t.transparencyIndex:null,c=t.delayTime,h=t.disposalMethod})),com:V(H),app:{NETSCAPE:V(H)},img:V((function(t){f||(f=P.getContext("2d"));var e=v.length,n=t.lctFlag?t.lct:a.gct;e>0&&(3===u?null!==d?f.putImageData(v[d].data,0,0):f.clearRect(p.leftPos,p.topPos,p.width,p.height):d=e-1,2===u&&f.clearRect(p.leftPos,p.topPos,p.width,p.height));var i=f.getImageData(t.leftPos,t.topPos,t.width,t.height);t.pixels.forEach((function(t,e){t!==l&&(i.data[4*e+0]=n[t][0],i.data[4*e+1]=n[t][1],i.data[4*e+2]=n[t][2],i.data[4*e+3]=255)})),f.putImageData(i,t.leftPos,t.topPos),y||(S.scale(W(),W()),y=!0),T&&(S.drawImage(P,0,0),T=o.auto_play),p=t}),!0),eof:function(t){R(),z(!1),o.c_w&&o.c_h||(b.width=a.width*W(),b.height=a.height*W()),I.init(),s=!1,Y&&Y(x)}},U=function(){var t=x.parentNode,e=document.createElement("div");b=document.createElement("canvas"),S=b.getContext("2d"),k=document.createElement("div"),P=document.createElement("canvas"),e.width=b.width=x.width,e.height=b.height=x.height,k.style.minWidth=x.width+"px",e.className="jsgif",k.className="jsgif_toolbar",e.appendChild(b),e.appendChild(k),t.insertBefore(e,x),t.removeChild(x),o.c_w&&o.c_h&&j(o.c_w,o.c_h),q=!0},W=function(){return o.max_width&&a&&a.width>o.max_width?o.max_width/a.width:1},q=!1,Y=!1,X=function(t){return!s&&(Y=t||!1,s=!0,v=[],N(),d=null,u=null,f=null,p=null,!0)},K=function(){return v.reduce((function(t,e){return t+e.delay}),0)};return{get_size:function(){return g},play:I.play,pause:I.pause,move_relative:I.move_relative,move_to:I.move_to,get_playing:function(){return m},get_canvas:function(){return b},get_canvas_scale:function(){return W()},get_loading:function(){return s},get_auto_play:function(){return o.auto_play},get_length:function(){return I.length()},get_frames:function(){return v},get_duration:function(){return K()},get_duration_ms:function(){return 10*K()},get_current_frame:function(){return I.current_frame()},load_url:function(t,i){if(X(i)){var a=new XMLHttpRequest;a.open("GET",t,!0),"overrideMimeType"in a?a.overrideMimeType("text/plain; charset=x-user-defined"):"responseType"in a?a.responseType="arraybuffer":a.setRequestHeader("Accept-Charset","x-user-defined"),a.onloadstart=function(){q||U()},a.onload=function(t){200!=this.status&&F("xhr - response"),"response"in this||(this.response=new VBArray(this.responseText).toArray().map(String.fromCharCode).join(""));var i=this.response;g=i.length,i.toString().indexOf("ArrayBuffer")>0&&(i=new Uint8Array(i)),e=new n(i),setTimeout(B,0)},a.onprogress=function(t){t.lengthComputable&&D(t.loaded,t.total,!0)},a.onerror=function(){F("xhr")},a.send()}},load:function(t){this.load_url(x.getAttribute("rel:animated_src")||x.src,t)},load_raw:function(t,i){X(i)&&(q||U(),e=new n(t),setTimeout(B,0))},set_frame_offset:function(t,e){w[t]?(void 0!==e.x&&(w[t].x=e.x),void 0!==e.y&&(w[t].y=e.y)):w[t]=e}}}};let a;const o={};let r=[],s=new Date;function l(t){return!(!t||!/(.*\.gif$)|(.*\.gif\?)/.test(t))}function c(t){window.diagram&&(t=window.diagram),clearInterval(a),a=null,r=[],function(t){const e=t.nodes;let n=!1;e.count>0&&e.each(t=>{let e=t.data.image;"image"===t.data.category&&l(e)&&(/.*\.gif\?/.test(e)&&(e=e.match(/(.*\.gif)/g)[0]),r.push({key:t.data.key,pic:t.findObject("IMAGE"),image:e}),n=!0)});return n}(t)&&(a=setInterval(()=>{const e=(new Date).getTime(),n=e-s;s=e,n<=60&&r.forEach(n=>{const a=o[n.image];if(a){const i=n.pic,o=n.expireTime||0;if(a.frames&&o<=e){const o=n.i<a.frames.length-1?n.i+1:0,r=a.frames;if(r[o]){const s=t.skipsUndoManager;t.skipsUndoManager=!0,i.source=r[o].data,t.skipsUndoManager=s,n.i=o,n.expireTime=a.expireDiff+e}}}else{const e=document.createElement("div"),a=new Image,s=i(),l=0;e.appendChild(a),a.src=n.image;const c=new s({gif:a,maxSize:5e4});c.load((function(e,i,a){if(!r.find(t=>t===n))return;const s=c.get_frames();let h=c.get_duration_ms();h=h<200?10*h:h;const d=h&&s?h/s.length:50,u=d+(new Date).getTime(),f=n.pic,p=t.skipsUndoManager;t.skipsUndoManager=!0,f.source=s[l].data,t.skipsUndoManager=p,o[n.image]={expireDiff:d,frames:s},n.i=l,n.expireTime=u})),o[n.image]={}}})},10))}function h(t){const{category:e,key:n,image:i}=t.data;if("image"!==e||!l(i))return;const a=r.findIndex(t=>t.key===n);a>-1&&r.splice(a,1)}function d(t){let{category:e,key:n,image:i}=t.data;r.findIndex(t=>t.key===n)>-1||"image"===e&&l(i)&&(/.*\.gif\?/.test(i)&&(i=i.match(/(.*\.gif)/g)[0]),a?r.push({key:n,pic:t.findObject("IMAGE"),image:i}):c(t.diagram))}},function(t,e,n){"use strict";n.d(e,"h",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"i",(function(){return d})),n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return f})),n.d(e,"e",(function(){return p})),n.d(e,"a",(function(){return m})),n.d(e,"g",(function(){return y})),n.d(e,"b",(function(){return v}));var i=n(0),a=(n(2),n(7)),o=n(3);var r=n(5);n(6);const s=i.e.GraphObject.make;function l(t,e){void 0===e&&(e=t.currentLayerName);const n=t.skipsUndoManager;t.skipsUndoManager=!0;const r=e?t.findLayer(e):null;let l=t.layerRect;if(l||(l=function(t){const e=s(i.e.Part,{name:"LAYER_RECT",layerName:"Foreground",selectable:!1,pickable:!1,data:{}});return t.add(e),t.layerRect=e,e}(t)),l.visible=!!r&&r.visible,l.visible){const{x:t,y:e,width:n,height:s}=Object(a.b)(r.parts,!0);l.position=new i.e.Point(t,e),l.desiredSize=new i.e.Size(n,s),function(t){let e=t.findAdornment("boundingBox");if(e)return void(e.visible=!0);e=new i.e.Adornment("Auto",{name:"boundingBox",zOrder:0}).add(new i.e.Shape({fill:null,stroke:o.a,opacity:.7}).bind(new i.e.Binding("strokeWidth","",t=>{let e;const n=t.diagram.scale;return e=n<=1?1/n:n<=3?1:3/n,e}).ofObject())).add(new i.e.Placeholder),e.adornedObject=t,t.addAdornment("boundingBox",e)}(l)}return t.skipsUndoManager=n,l}function c(t){const e=t.findAdornment("boundingBox");e&&(e.visible=!1)}function h(t){let e=null;const n=(t=t||window.diagram).parts.filter(t=>"LAYERSHADOW"===t.name);return n.count&&(e=n.first()),e}function d(t){const e=h(t=t||window.diagram),n=t.parts.filter(t=>"LAYER"===t.name);if(e&&e.visible){let{x:a,y:o,width:r,height:s}=t.viewportBounds;if(n.count){n.first().ensureBounds();const t=n.first().actualBounds;a=t.x,o=t.y,r=t.width,s=t.height}e.desiredSize=new i.e.Size(r,s),e.position=new i.e.Point(a,o)}}function u(t){const e=(t=t||window.diagram).skipsUndoManager;t.skipsUndoManager=!0,t.startTransaction();const n=h(t);n&&(n.visible=!1),t.findLayer("Foreground").pickable=!0,t.commitTransaction(),t.skipsUndoManager=e}function f(t){const e=(t=t||window.diagram).skipsUndoManager;t.skipsUndoManager=!0,t.startTransaction();const n=h(t);n?n.visible=!0:function(t,e){e=e||window.diagram;const n=s(i.e.Part,{name:"LAYERSHADOW",layerName:t,selectable:!1,pickable:!1,opacity:.6,background:"#fff",zOrder:1/0,data:{}});e.add(n),d(e)}("Foreground",t),t.findLayer("Foreground").pickable=!1,d(t),t.commitTransaction(),t.skipsUndoManager=e}function p(t,e){const n=t.skipsUndoManager;t.skipsUndoManager=!0,t.startTransaction(),e.length&&e.forEach((t,n)=>{!0===t.selected&&(n+1===e.length?g(t.layerName,""):g(t.layerName,e[n+1].layerName))}),t.commitTransaction(),t.skipsUndoManager=n}function g(t,e,n,i){const a=(i=i||window.diagram).findLayer(t),o=i.findLayer(e);if(a&&o)switch(n){case"before":i.addLayerBefore(a,o);break;case"after":default:i.addLayerAfter(a,o)}}function m(t,e){t.model.setDataProperty(e,"layerName",t.currentLayerName||"")}function y(t){const e=t.currentLayerName;return Boolean(e&&~e.indexOf("layer"))}function v(t,e){var n,i;const a=null==t||null===(n=t.pageSetting)||void 0===n||null===(i=n.pageOptions)||void 0===i?void 0:i.layer;Array.isArray(a)&&a.length&&a.forEach(n=>{if(n.layerOptions){const i=Math.round(100*e),{layerName:a}=n,{attribute:o,displayType:s}=n.layerOptions,l=t.findLayer(a);if(l){let e=l._visible;o.some(t=>t.every(t=>{const{operator:e}=t,n=t.refValue,a=i;return Object(r.b)(e,a,n)}))&&(e="show"===s),l.visible=e,l.parts.count&&l.parts.each(n=>{n.dom&&(((t,e)=>{t.update(),e?t.fadeIn({duration:1}):t.fadeOut({duration:1})})(n.dom,e),"chart"===n.dom.type&&e&&t.chartManager.getChart(n.key).resize())})}}})}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return h}));var i=n(0),a=n(3),o=n(36);function r(){i.e.Tool.call(this),this.name="PartConstraint",this.snapDis=5}let s;function l(t){let{alignment:e,type:n,direction:a,parameter1:o,parameter2:r,spot1:s,spot2:l,horizontalReverse:c,verticalReverse:h,snap:d}=t;this.direction=a||"",this.alignment=e||i.e.Spot.Center,this.parameter1=o||"parameter1",this.parameter2=r||"parameter2",this.type=n||"Auto",this.spot1=s||i.e.Spot.TopLeft,this.spot2=l||i.e.Spot.BottomRight,this.horizontalReverse=c,this.verticalReverse=h,this.snap=d}i.e.Diagram.inherit(r,i.e.Tool),r.prototype.canStart=function(){if(!this.isEnabled)return!1;const t=this.diagram;if(!t||t.isReadOnly)return!1;if(!t.allowResize)return!1;if(!t.lastInput.left)return!1;if(!t.allowReshape)return!1;return null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},r.prototype.updateAdornments=function(t){const e=t.data;if(t.isSelected&&null!==e&&null!==this.diagram&&!this.diagram.isReadOnly)if(t.constraintShape&&t.constraint.length){let n=t.findAdornment(this.name);if(null===n){const o=i.e.GraphObject.make;n=o(i.e.Adornment,"Spot",o(i.e.Placeholder),new i.e.Binding("visible","",t=>!t.aroundPart&&!t.lock)),t.constraint.forEach(t=>{n.add(o(i.e.Shape,"Rectangle",{name:t.parameter1+" "+t.parameter2,fill:a.l,alignment:r.getAlignment(t,e),stroke:a.m,cursor:"pointer"},new i.e.Binding("width","",t=>8/this.diagram.scale),new i.e.Binding("height","",t=>8/this.diagram.scale),new i.e.Binding("strokeWidth","",t=>1/this.diagram.scale)))}),n.adornedObject=t.constraintShape,t.addAdornment(this.name,n)}else h.call(this,n,t)}else t.removeAdornment(this.name);else t.removeAdornment(this.name)},r.prototype.doActivate=function(){const t=this.diagram;if(null===t)return;if(this._handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),null===this._handle)return;const e=this._handle.part.adornedPart;if(null===e||null===e.data)return;this.fromLinks=e.findLinksOutOf(),this.toLinks=e.findLinksInto(),this.fromLinks.each(t=>{const e=t.points.first().copy();t.tempFirstPoint=e}),this.toLinks.each(t=>{const e=t.points.last().copy();t.tempLastPoint=e}),this.registerEvent();const n=e.data,i=this.getConstraint(this._handle);this._originalParameter1=n[i.parameter1],this._originalParameter2=n[i.parameter2],this.startTransaction(this.name),this.isActive=!0},r.prototype.mouseEventHandler=function(){const t=this.diagram;t.div.removeEventListener("mouseleave",s),t.commitTransaction(this.name),this.stopTool()},r.prototype.registerEvent=function(){s=this.mouseEventHandler.bind(this);this.diagram.div.addEventListener("mouseleave",s)},r.prototype.doDeactivate=function(){this.fromLinks.each(t=>{delete t.tempFirstPoint}),this.toLinks.each(t=>{delete t.tempFirstPoint}),this.stopTransaction(),this._handle=null,this.isActive=!1},r.prototype.doCancel=function(){if(null!==this._handle&&null!==this.diagram){const t=this._handle.part.adornedPart;if(null!==t){const e=this.getConstraint(this._handle),n=this.diagram.model;n.setDataProperty(t.data,e.parameter1,this._originalParameter1),n.setDataProperty(t.data,e.parameter2,this._originalParameter2)}}this.stopTool()},r.prototype.doMouseMove=function(){const t=this.diagram;if(this.isActive&&null!==t){const e=this._handle,n=t.lastInput.documentPoint,a=e.part.adornedObject.getDocumentPoint(i.e.Spot.Center),o=Math.sqrt((n.x-a.x)*(n.x-a.x)+(n.y-a.y)*(n.y-a.y)),r=Math.atan2(n.y-a.y,n.x-a.x),s=e.part.adornedPart,c=r-s.angle/180*Math.PI,h=this.getConstraint(e);let d=.5*s.naturalBounds.width+o*Math.cos(c),u=.5*s.naturalBounds.height+o*Math.sin(c);h.horizontalReverse&&(d=.5*s.naturalBounds.width-o*Math.cos(c)),h.verticalReverse&&(u=.5*s.naturalBounds.height-o*Math.sin(c));const f=s.naturalBounds.width*h.spot1.x+h.spot1.offsetX,p=s.naturalBounds.width*h.spot2.x+h.spot2.offsetX,g=s.naturalBounds.height*h.spot1.y+h.spot1.offsetY,m=s.naturalBounds.height*h.spot2.y+h.spot2.offsetY;h.snap&&(d=Math.ceil(d/this.snapDis)*this.snapDis,u=Math.ceil(u/this.snapDis)*this.snapDis),d=Math.min(Math.max(d,f),p),u=Math.min(Math.max(u,g),m),"Auto"===h.type&&(d/=e.part.adornedObject.naturalBounds.width,u/=e.part.adornedObject.naturalBounds.height),h.direction===l.Horizontal?t.model.setDataProperty(s.data,h.parameter1,d):(h.direction===l.Vertical||t.model.setDataProperty(s.data,h.parameter1,d),t.model.setDataProperty(s.data,h.parameter2,u)),s.ensureBounds(),this.updateLinks(t,s)}},r.prototype.doMouseUp=function(){const t=this.diagram;this.isActive&&null!==t&&(this.transactionResult=this.name),this.stopTool()},r.prototype.getConstraint=function(t){if(!t)return null;const e=t.name.split(" "),n=t.part.adornedPart;if(null===n||null===n.data)return null;return n.constraint.find(t=>t.parameter1===e[0]&&t.parameter2===e[1])},r.prototype.updateLinks=function(t,e){const n=e.findObject("SHAPE");n.geometry&&(this.fromLinks.each(e=>{const i=e.tempFirstPoint,a=Object(o.a)(t,n,i);t.model.setDataProperty(e.data,"fromSpot",a),t.updateLinkPoints(e)}),this.toLinks.each(e=>{const i=e.tempLastPoint,a=Object(o.a)(t,n,i);t.model.setDataProperty(e.data,"toSpot",a),t.updateLinkPoints(e)}))},r.getAlignment=function(t,e){let n=0,a=0;t.direction===l.Horizontal?n=e[t.parameter1]||0:(t.direction===l.Vertical||(n=e[t.parameter1]||0),a=e[t.parameter2]||0);return new i.e.Spot(t.alignment.x+("Auto"===t.type?n:0),t.alignment.y+("Auto"===t.type?a:0),t.alignment.offsetX+("Spot"===t.type?n:0),t.alignment.offsetY+("Spot"===t.type?a:0))},l.Horizontal="Horizontal",l.Vertical="Vertical",l.Auto="Auto",l.Spot="Spot";const c=i.e.Node.prototype.cloneProtected;function h(t,e){const n=e.data;e.constraint.forEach(e=>{t.findObject(e.parameter1+" "+e.parameter2).alignment=r.getAlignment(e,n)})}i.e.Node.prototype.cloneProtected=function(t){c.call(this,t),t._constraint=this._constraint,t._constraintShapeName=this._constraintShapeName},window.Object.defineProperties(i.e.Node.prototype,{constraint:{get:function(){return Array.isArray(this._constraint)?this._constraint:[]},set:function(t){this._constraint=t}},constraintShapeName:{get:function(){return"string"==typeof this._constraintShapeName?this._constraintShapeName:""},set:function(t){this._constraintShapeName=t}},constraintShape:{get:function(){const t=this.constraintShapeName;let e=t?this.findObject(t):null;if(!e)for(e=this;e&&!(e instanceof i.e.Shape)&&e.elements;)e=e.elements.first();return e instanceof i.e.Shape?e:null}}})},function(t,e,n){"use strict";n.d(e,"l",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"j",(function(){return r})),n.d(e,"i",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"k",(function(){return c})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return f})),n.d(e,"d",(function(){return p}));const i=["fill","stroke","strokeWidth","strokeDashArray","opacity","fontFamily","fontColor","fontSize","fontWeight","fontStyle","isUnderline","textAlign"],a=["key","category","visible","style","label","scale","group","isGroup"].concat(["id","name","userData"]).concat(["width","height","position","angle","figure","image","flip","relationInfo","waterVolume","rowCols"]).concat(["source","target"]),o={visible:!0,scale:1},r={category:"shape",figure:"Rectangle",width:100,height:100,position:[0,0],angle:0,label:"",image:null},s={source:null,target:null},l={autoSize:!0,collapsable:!1},c={fill:"#fff",stroke:"#5E5E5E",strokeWidth:2,strokeDashArray:null,opacity:1,fontFamily:'"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei"',fontColor:"#000",fontSize:10,fontWeight:"normal",fontStyle:"normal",isUnderline:!1},h={duration:500,easing:"EaseInOutQuad",reversible:!1,runCount:1,finished:void 0,cosmetic:!1,id:void 0},d=["position","opacity","angle","scale","width","height","fill","fontColor","stroke","strokeWidth","waterVolume","progressValue","shadowBlur","shadowOffset","switchState"],u=["stroke","strokeWidth","opacity","fontColor"],f=["opacity","fill","fontColor","stroke","strokeWidth"],p={link:["flicker","flow","flywire","lightDot","hide","color","custom"],node:["flicker","water","pipeFlow","hide","rotate","move","size","scale","color","pause","text","image","flip","progress","state","badge","custom","switchState"],group:["flicker","hide","rotate","move","size","scale","color","custom"]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var i=n(0);const a=i.e.GraphObject.make;function o(t){let{color:e,width:n,height:o}=t,r=a(i.e.Brush,{color:"#fff"});try{const t=JSON.parse(e),{type:s,colorStops:l,color:c,start:h,end:d,radius:u}=t;if("Linear"===s)r=a(i.e.Brush,s,{...l,color:c,start:h?i.e.Spot.parse(h):i.e.Spot.Top,end:d?i.e.Spot.parse(d):i.e.Spot.Bottom});else if("Radial"===s){const t=Math.max(n,o);let e="number"==typeof u?t*u/2:NaN;e<.1&&(e=.1),r=a(i.e.Brush,s,{...l,color:c,start:h?i.e.Spot.parse(h):i.e.Spot.Center,end:d?i.e.Spot.parse(d):i.e.Spot.Center,startRadius:0,endRadius:e})}}catch(t){r=a(i.e.Brush,{color:e})}return r}function r(t){let{color:e}=t,n=e;try{const t=JSON.parse(e),{type:i,colorStops:a,start:o,radius:r,rotation:s}=t,l=Object.keys(a).sort(),c=[];l.forEach(t=>{c.push(a[t])});const h=c.join(","),d=o.split(" ").map(t=>String(100*Number(t))+"%").join(" ");let u=r,f=s;"Linear"===i?(f=90-s,n="linear-gradient(".concat(f,"deg, ").concat(h,")")):"Radial"===i&&(u="".concat(50*r,"%"),n="radial-gradient(".concat(u," ").concat(u," at ").concat(d,", ").concat(h,")"))}catch(t){n=e}return n}},function(t,e,n){"use strict";n.r(e),n.d(e,"initTemplate",(function(){return l})),n.d(e,"setToolTipPartTemplate",(function(){return c})),n.d(e,"createOrUpdateTip",(function(){return d})),n.d(e,"clearToolTip",(function(){return u}));var i=n(0),a=n(32),o=n(7),r=n(10);const s=i.e.GraphObject.make,l=function(t){t.nodeTemplateMap.add("toolTip",c())};function c(){return s(i.e.Part,"Auto",{},{locationSpot:i.e.Spot.Center,locationObjectName:"SHAPE"},new i.e.Binding("layerName","layerName",t=>t),new i.e.Binding("zOrder","zOrder",t=>t||r.b.ToolTipPartTemplate),new i.e.Binding("location","loc",i.e.Point.parse).makeTwoWay(i.e.Point.stringify),new i.e.Binding("visible").ofObject(),new i.e.Binding("scale","",t=>1/t.diagram.scale).ofObject(),s(i.e.Shape,"Rectangle",{fill:"#fff",stroke:"rgb(179, 179, 179)",strokeWidth:1,name:"SHAPE"},new i.e.Binding("stroke","stroke"),new i.e.Binding("fill","fill"),new i.e.Binding("strokeWidth","strokeWidth")),s(i.e.TextBlock,{name:"TEXT",margin:new i.e.Margin(5,5,5,5)},new i.e.Binding("text","label")))}function h(t){let{diagram:e,tipType:n,node:r,spotPt:s}=t;const l=Object(o.b)((new i.e.List).add(r)),{text:c,lines:h}=function(t,e,n){let i="",o=1;switch(t){case"dragging":i="X: ".concat(Math.floor(e.x)," px Y: ").concat(Math.floor(e.y)," px");break;case"resizing":n.x>=.5&&n.y>=.5?i="W: ".concat(Math.floor(e.width)," px H: ").concat(Math.floor(e.height)," px"):(i="X: ".concat(Math.floor(e.x)," px Y: ").concat(Math.floor(e.y)," px \n W: ").concat(Math.floor(e.width)," px H: ").concat(Math.floor(e.height)," px"),o=2);break;case"jumpToLink":i="".concat(Object(a.b)("Shift+Ctrl"),"+点击 跳转")}return{text:i,lines:o}}(n,l,s),d=1===h?27.5:43,u=Math.floor(r.location.x),f=Math.floor(r.location.y+(1-r.locationSpot.y)*l.height+Math.floor((1-r.locationSpot.y)*(d/e.scale))+5);return{location:new i.e.Point(u,f),text:c}}function d(t,e,n,a){let o;if(t.parts.each(t=>{"nodeDraggingToolTipPart"===t.locationObjectName&&(o=t)}),o)o.update({diagram:t,tipType:n,node:e||o.sourceNode,spotPt:a});else if(e){const o=function(t){let{diagram:e,tipType:n,node:a,spotPt:o}=t;const{location:r,text:l}=h({diagram:e,tipType:n,node:a,spotPt:o}),c=s(i.e.Part,"Auto",{layerName:"Adornment",locationObjectName:"nodeDraggingToolTipPart",locationSpot:i.e.Spot.Center,isInDocumentBounds:!1,scale:1/e.scale,zOrder:4,location:r},s(i.e.Shape,"Rectangle",{fill:"#fff",stroke:"rgb(179, 179, 179)",strokeWidth:1,name:"SHAPE"}),s(i.e.TextBlock,{name:"TEXT",margin:new i.e.Margin(5,5,5,5),text:l}));return c.sourceNode=a,c.update=function(t){let{diagram:e,tipType:n,node:i,spotPt:a}=t;const{location:o,text:r}=h({diagram:e,tipType:n,node:i,spotPt:a});c.location=o,c.scale=1/e.scale;c.findObject("TEXT").text=r,c.sourceNode=i},c}({diagram:t,tipType:n,node:e,spotPt:a});t.add(o)}}function u(t){let e;return t.parts.each(n=>{"nodeDraggingToolTipPart"===n.locationObjectName&&(e=n,t.remove(n))}),e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));const i={Load:"load",SwitchPage:"switchpage",Click:"click",DBLClick:"dblclick",MouseEnter:"mouseenter",MouseLeave:"mouseleave",Select:"select",Deselect:"deselect",SelectionChange:"selectionchange"};class a{constructor(t){this._graph=t,this._diagram=t.diagram,this._div=this._diagram.div,this._initEvents()}_initEvents(){const t=this._diagram._uDiagram;this._diagram.addDiagramListener("ObjectSingleClicked",()=>{const t=this._getEventObject(i.Click),e=t.object;e&&e.trigger(i.Click,t),this._graph.trigger(i.Click,t),this._graph._sendMessage(i.Click,e._cfg)}),this._diagram.addDiagramListener("BackgroundSingleClicked",()=>{this._graph.trigger(i.Click,this._getEventObject(i.Click))}),this._diagram.addDiagramListener("ObjectDoubleClicked",()=>{const t=this._getEventObject(i.DBLClick),e=t.object;e&&e.trigger(i.DBLClick,t),this._graph.trigger(i.DBLClick,t),this._graph._sendMessage(i.DBLClick,e._cfg)}),this._diagram.addDiagramListener("BackgroundDoubleClicked",()=>{this._graph.trigger(i.DBLClick,this._getEventObject(i.DBLClick))}),t.on("mouseEnter:node",(t,e)=>{const n=this._getEventObject(i.MouseEnter,e),a=n.object;a&&a.trigger(i.MouseEnter,n),this._graph.trigger(i.MouseEnter,n),this._graph._sendMessage(i.MouseEnter,a._cfg)}),t.on("mouseLeave:node",(t,e)=>{const n=this._getEventObject(i.MouseLeave,e),a=n.object;a&&a.trigger(i.MouseLeave,n),this._graph.trigger(i.MouseLeave,n),this._graph._sendMessage(i.MouseLeave,a._cfg)}),t.on("mouseEnter:link",(t,e)=>{const n=this._getEventObject(i.MouseEnter,e),a=n.object;a&&a.trigger(i.MouseEnter,n),this._graph.trigger(i.MouseEnter,n),this._graph._sendMessage(i.MouseEnter,a._cfg)}),t.on("mouseLeave:link",(t,e)=>{const n=this._getEventObject(i.MouseLeave,e),a=n.object;a&&a.trigger(i.MouseLeave,n),this._graph.trigger(i.MouseLeave,n),this._graph._sendMessage(i.MouseLeave,a._cfg)})}_getEventObject(t,e){const n={};let i=this._diagram.findPartAt(this._diagram.lastInput.documentPoint,!1);return i=this._diagram.findTopAroundGroup(i),e&&(i=e),n.type=t,n.originalEvent=this._diagram.lastInput.event,n.object=i?i._object:null,n}}},function(t,e,n){var i=n(155);t.exports=function(t){return i(t,5)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return h})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return u})),n.d(e,"b",(function(){return f}));var i=n(40);const a=40,o=40,r=[...i.a,"JointLabel"],s=[],l=["around-group","layer-around-group","smart-container","BPMN-SwimLane","uml-SwimLane","BPMN-group","bgText","uml-lifeline","dynamic-pipe","dynamic-pipe-t","dynamic-pipe-corner","dynamic-pipe-cross","dynamic-wave","dynamic-wave-cistern","chart","JointLabel"],c=[],h=["circuit","circuit-orient","circuit-orient-side","electronic"],d=function(t){return~r.indexOf(t)},u=function(t){return~s.indexOf(t)},f=function(t){return~l.indexOf(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),a=n(8),o=n(4);n(82);const r=i.e.GraphObject.make;function s(){return r(i.e.Node,"Spot",Object(o.d)(),r(i.e.Panel,"Spot",{name:"WRAP_PANEL"},r(i.e.Shape,"Rectangle",{name:"PORT_SHAPE",fill:"transparent",stroke:"transparent"},new i.e.Binding("width"),new i.e.Binding("height")),r(i.e.Shape,{name:"SHAPE",isPanelMain:!0,strokeMiterLimit:5},Object(o.f)(),Object(o.e)(),new i.e.Binding("figure"),new i.e.Binding("parameter1"),new i.e.Binding("parameter2"),new i.e.Binding("geometry","shapeGeo",t=>i.e.Geometry.parse(t)))),r("Progress","SHAPE","top","Rectangle","blue",{visible:!1},new i.e.Binding("color","progressColor").makeTwoWay(),new i.e.Binding("direction","progressDirection").makeTwoWay(),new i.e.Binding("figure","progressFigure"),new i.e.Binding("visible","progressColor",t=>!!t)),a.a.makeTextBlockPanel())}},function(t,e,n){"use strict";(function(t){var i=n(79),a=n(5);const o={getUrlParams(){const t={},e=location.search.substring(1).split("&");for(let n=0;n<e.length;n++){const i=e[n].indexOf("=");if(-1===i)continue;const a=e[n].substring(0,i),o=e[n].substring(i+1);t[a]=unescape(o)}return t},getHashQueryString(t){const e=new RegExp("(^|&)".concat(t,"=([^&]*)(&|$)")),n=window.location.hash.split("?"),i=n[1]&&n[1].match(e);return null!=i?i[2]:""},queryString(t,e){const n=[];for(const t in e)n.push(t+"="+e[t]);const i=n.join("&");return i?"".concat(t,"?").concat(i):t},deleteQueryString(t,e){let n="";if(-1===t.indexOf("?"))return t;n=t.substr(t.indexOf("?")+1);let i=[],a="";if(-1!==n.indexOf("&")){i=n.split("&");for(const t in i)i[t].split("=")[0]!==e&&(a=a+i[t].split("=")[0]+"="+i[t].split("=")[1]+"&");return t.substr(0,t.indexOf("?"))+"?"+a.substr(0,a.length-1)}return i=n.split("="),i[0]===e?t.substr(0,t.indexOf("?")):t},getUserAgent(){let e=null;if("development"===t.env.MODE)e="monet-local";else{switch(location.host){case"192.168.21.214":e="monet-dev";break;case"192.168.21.182":e="monet-test";break;case"topo.uino.local":e="thingjs-topo-test-highavail";break;case"test-topo.3dlink.cn":e="3dlink-topo-test";break;case"topo.thingjs.com":e="thingjs-topo"}}return"".concat(e," (Internal App)")},raiseRequest(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s={requestMethod:t,url:"GET"===t?o.queryString(e,n):e};return!Object(a.n)(r)&&(s.headers=r),"POST"===t&&(!Array.isArray(n)&&Object(a.r)(n)?s.formbean=n:n&&(s.singleParam={obj:n})),new Promise((t,e)=>{i.a.requestByUrl(s).then(e=>{const n=Object(a.p)(e.data)?JSON.parse(e.data):e.data;t(n)},t=>{e(t)}).catch(()=>{})})}};e.a=o}).call(this,n(48))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(0),a=(n(10),n(3));const o=i.e.GraphObject.make;function r(){return o(i.e.Panel,"Spot",{name:"REFRESH_PANEL",stretch:i.e.GraphObject.Fill},o(i.e.Shape,"Rectangle",{stretch:i.e.GraphObject.Fill,fill:"rgba(255, 255, 255, 0.35)",stroke:a.d,strokeDashArray:[3,3]}),o(i.e.Picture,{alignment:i.e.Spot.Center,name:"REFRESH_IMAGE",imageStretch:i.e.GraphObject.Uniform,cursor:"pointer",source:"/topo-static/images/templates/refresh.png"}),new i.e.Binding("visible","",t=>t.isHighlighted).ofObject())}},function(t,e,n){"use strict";n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"a",(function(){return g})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return y})),n.d(e,"g",(function(){return w})),n.d(e,"b",(function(){return x})),n.d(e,"h",(function(){return b}));var i=n(0),a=n(37),o=n(11),r=n(20),s=n(5);const l=i.e.GraphObject.make,c={"自适应":"UniformToFill","填充":"Fill","按图形伸展":"Uniform","原始尺寸":"None","平铺":"None"};function h(t,e){let n=null;try{const i=t||e.pageSetting.pageOptions,a=JSON.parse(i.canvasBackgroundImage);n={imageUrl:a.url,stretch:a.stretch}}catch{n=null}if(!n)try{const i=t||e.pageSetting.pageOptions,a=JSON.parse(i.canvasBackgroundColor);"Image"===(null==a?void 0:a.type)&&null!=a&&a.color&&(n={imageUrl:a.color,stretch:a.stretch})}catch{n=null}return n}function d(t){return t.parts.filter(t=>"LAYER"===t.name).first()}function u(t){return t.findObject("BACKGROUNDIMAGE")}async function f(t,e,n,a,o){if(!a||!e)return!1;if("平铺"===a&&n){const a=await function t(e){return new Promise((n,i)=>{const a=new Image;a.setAttribute("crossOrigin","Anonymous"),a.src=e,a.onload=()=>{n(a)},a.onerror=()=>{t("/topo-static/images/templates/defaultBackground.png")}})}(n),r=l(i.e.Brush,"Pattern",{pattern:a});let c=null;o&&o.findObject("BACKGROUNDIMAGESHAPE")&&(c=o.findObject("BACKGROUNDIMAGESHAPE"));const h=t.skipsUndoManager;t.skipsUndoManager=!0,e.source=s.x,e.imageStretch=i.e.GraphObject.None,e.background=r,c&&(c.width=e.width,c.height=e.height,c.fill=r,c.visible=!0),t.skipsUndoManager=h}else{const n=t.skipsUndoManager;t.skipsUndoManager=!0,e.background=null,e.imageStretch=i.e.GraphObject[c[a]],t.skipsUndoManager=n}}function p(t){if(!t)return!1;const e=u(t);e&&(e.source=s.x,e.background="")}async function g(t,e,n,o){if(null!=e&&e.isInfiniteCanvas)return!1;const s=t.parts.filter(t=>"BACKGROUNDPICTURELAYER"===t.name).first();s&&t.remove(s);const c=d(t);if(c){u(c).visible=!1}const f=n?l(i.e.Part,{name:"BACKGROUNDPICTURELAYER",locationObjectName:"BACKGROUNDPICTURE",layerName:"Background",position:new i.e.Point(0,0),selectable:!1,pickable:!1,movable:!1,zOrder:1},l(i.e.Picture,{name:"BACKGROUNDIMAGE",sourceCrossOrigin:()=>"anonymous"}),l(i.e.Shape,{name:"BACKGROUNDIMAGESHAPE",visible:!1,stroke:"transparent",strokeWidth:0})):l(i.e.Part,{name:"BACKGROUNDPICTURELAYER",locationObjectName:"BACKGROUNDPICTURE",layerName:"Background",position:new i.e.Point(0,0),selectable:!1,pickable:!1,movable:!1,zOrder:1},l(i.e.Picture,{name:"BACKGROUNDIMAGE",sourceCrossOrigin:()=>"anonymous"}));let{width:p,height:g}=Object(a.c)(t,e);if(o?(p=o.width,g=o.height,f.desiredSize=new i.e.Size(p,g),f.position=o.position,f.location=o.position):(f.desiredSize=new i.e.Size(p,g),f.position=Object(a.b)(t,e),f.location=Object(a.b)(t,e)),t.nodes.count||t.links.count||(p=e.canvasWidth,g=e.canvasHeight,f.desiredSize=new i.e.Size(p,g),f.position=new i.e.Point(0,0),f.location=new i.e.Point(0,0)),null!=e&&e.canvasBackgroundColor){const t=Object(r.a)({color:null==e?void 0:e.canvasBackgroundColor});f.background=t}const m=h(e,t);null!=m&&m.imageUrl&&await b(t,{width:p,height:g,source:m.imageUrl,stretch:m.stretch},f),t.add(f)}function m(t,e){return new Promise((n,i)=>{const a=new Image;a.setAttribute("crossOrigin","Anonymous"),a.src=t+"?".concat((new Date).getTime()),a.onerror=()=>{n({url:"/topo-static/images/templates/defaultBackground.png",stretch:e})},a.onload=()=>{n()}})}function y(t){var e,n,i,a;if("share"!==(null==t?void 0:t.mode)&&"inset"!==(null==t?void 0:t.mode))return!1;t.grid.background="transparent",w(t.div,null==t||null===(e=t.pageSetting)||void 0===e||null===(n=e.pageOptions)||void 0===n?void 0:n.canvasBackgroundColor,null==t||null===(i=t.pageSetting)||void 0===i||null===(a=i.pageOptions)||void 0===a?void 0:a.canvasBackgroundImage)}function v(t,e){t=JSON.stringify(t);return{"自适应":"url(".concat(t,") no-repeat center/cover"),"填充":"url(".concat(t,") no-repeat center/100% 100%"),"按图形伸展":"url(".concat(t,") no-repeat center/contain"),"原始尺寸":"url(".concat(t,") no-repeat center"),"平铺":"url(".concat(t,")")}[e]}function w(t,e,n){var i;if(void 0===e&&(e="#fff"),!e&&!n)return!1;let a=null,o=null;try{a=JSON.parse(e)}catch{a=e}try{o=JSON.parse(n)}catch{}if("Image"===(null===(i=a)||void 0===i?void 0:i.type)){const{color:e,stretch:n}=a,i=v(e,n);t.style.background=i}else{var s;const n=Object(r.b)({color:e});if(null!==(s=o)&&void 0!==s&&s.url){const{url:e,stretch:i}=o,a=v(e,i);t.style.background="".concat(a,",").concat(n)}else t.style.background=n}}function x(t){!function(t){const e=h(null,t);null!=e&&e.imageUrl&&m(e.imageUrl,e.stretch).then(t=>{t&&o.a.$emit("backgroundImageChange",{url:JSON.stringify(t),typeName:"fillBackgroundImage"})})}(t),y(t)}async function b(t,e,n){let{width:i,height:a,source:o,stretch:r}=e;const s=n||d(t);if(!s)return!1;const l=u(s),c=t.skipsUndoManager;t.skipsUndoManager=!0,s.ensureBounds(),l.width=i||s.actualBounds.width,l.height=a||s.actualBounds.height,function(t,e){if(!e||!t)return!1;t.source=e}(l,o),t.skipsUndoManager=c,await f(t,l,o,r,s)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h}));var i=n(0);function a(t){"route-pipe"===t.category&&(t.flowAnimation||(t.flowAnimation=s(t)),t.flowAnimation.start())}function o(t){"route-pipe"===t.category&&t.flowAnimation&&(t.flowAnimation.stop(),t.data.isFlowing&&t.diagram.model.set(t.data,"isFlowing",!1))}function r(t){t.flowAnimation&&t.flowAnimation.stop(),t.flowAnimation=s(t);const{isFlowing:e}=t.data;e&&a(t)}function s(t){const e=t.findObject("PIPE");if(!e)return null;const{flowColor:n="#C1E4F7",flowWidth:a=8,velocity:o=600,reverseFlow:r}=t.data,s="string"==typeof o?{low:800,middle:600,high:300}[o]:o,l=r?0:60,c=r?60:0;e.stroke=n,e.strokeWidth=a;const h=new i.e.Animation;return h.add(e,"strokeDashOffset",l,c,!0),h.duration=s,h.easing=i.e.Animation.EaseLinear,h.runCount=1/0,h}function l(t){const e=t.nodes.filter(t=>"dynamic-wave-cistern"===t.category||"dynamic-wave"===t.category);e.count&&e.each(t=>{c(t)})}function c(t){const e=new i.e.Animation,n=t.findObject("WaveShape");t.category,e.add(n,"alignmentFocus",new i.e.Spot(0,1,80,0),new i.e.Spot(0,1)),e.duration=3e3,e.easing=i.e.Animation.EaseLinear,e.runCount=1/0,e.start()}function h(t){t.nodes.each(t=>{t.category.startsWith("dynamic-pipe")||t.category.startsWith("dynamic-wave")&&c(t)}),t.links.each(r)}},function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"initTemplate",(function(){return T}));var a={};n.r(a),n.d(a,"initTemplate",(function(){return H})),n.d(a,"initContextMenu",(function(){return V}));var o={};n.r(o),n.d(o,"initTemplate",(function(){return Nt})),n.d(o,"initContextMenu",(function(){return Bt}));var r={};n.r(r),n.d(r,"initTemplate",(function(){return de})),n.d(r,"initContextMenu",(function(){return ue}));var s={};n.r(s),n.d(s,"initTemplate",(function(){return ge}));var l={};n.r(l),n.d(l,"initTemplate",(function(){return ke}));var c={};n.r(c),n.d(c,"initTemplate",(function(){return Ne}));var h={};n.r(h),n.d(h,"initTemplate",(function(){return tn}));var d={};n.r(d),n.d(d,"initTemplate",(function(){return ln})),n.d(d,"setCircuitTemplate",(function(){return cn}));var u={};n.r(u),n.d(u,"initTemplate",(function(){return kn}));var f={};n.r(f),n.d(f,"initTemplate",(function(){return On})),n.d(f,"initContextMenu",(function(){return An}));var p={};n.r(p),n.d(p,"initTemplate",(function(){return Bn}));var g={};n.r(g),n.d(g,"initTemplate",(function(){return Un}));var m={};n.r(m),n.d(m,"initTemplate",(function(){return ni}));var y={};n.r(y),n.d(y,"initTemplate",(function(){return Si}));var v=n(0),w=n(20);function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}v.e.GraphObject.defineBuilder("Progress",t=>{const e=v.e.GraphObject.make,n=v.e.GraphObject.takeBuilderArgument(t),i=v.e.GraphObject.takeBuilderArgument(t,"top"),a=v.e.GraphObject.takeBuilderArgument(t,"Rectangle"),o=v.e.GraphObject.takeBuilderArgument(t,"blue"),r=[new v.e.Binding("width","value",(t,e)=>{const n=e.panel.findMainElement(),i=e.panel.panel.direction,{width:a,strokeWidth:o}=n;return"left"===i||"right"===i?l(t,a,o):a}).ofObject("Progress"),new v.e.Binding("width","width",(t,e)=>{const n=e.panel.findMainElement(),{direction:i,value:a}=e.panel.panel;if("left"===i||"right"===i){return l(a,t,n.strokeWidth)}return t}).ofObject("ProgressMain"),new v.e.Binding("height","value",(t,e)=>{const n=e.panel.findMainElement(),i=e.panel.panel.direction,{height:a,strokeWidth:o}=n;return"top"===i||"bottom"===i?l(t,a,o):a}).ofObject("Progress"),new v.e.Binding("height","height",(t,e)=>{const n=e.panel.findMainElement(),{direction:i,value:a}=e.panel.panel;if("top"===i||"bottom"===i){return l(a,t,n.strokeWidth)}return t}).ofObject("ProgressMain"),new v.e.Binding("fill","color",(t,e)=>Object(w.a)({color:t})).ofObject("Progress"),new v.e.Binding("figure","figure").ofObject("Progress")];class s extends v.e.Panel{constructor(){super(...arguments),x(this,"_value",0),x(this,"_direction",i),x(this,"_color",o),x(this,"_figure",a)}get value(){return this._value}set value(t){const e=this._value;e!==t&&(this._value=t,this.raiseChanged("value",e,t))}get figure(){return this._figure}set figure(t){const e=this._figure;e!==t&&(this._figure=t,this.raiseChanged("figure",e,t))}get color(){return this._color}set color(t){const e=this._color;e!==t&&(this._color=t,this.raiseChanged("color",e,t))}get direction(){return this._direction}set direction(t){const e=this._value;e!==t&&(this._direction=t,this.raiseChanged("direction",e,t),this.raiseChanged("value",this.value,this.value))}setProgress(){let{figure:t,color:e,direction:n,value:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.diagram.commit(()=>{void 0!==t&&(this.figure=t),void 0!==e&&(this.color=e),void 0!==n&&(this.direction=n),void 0!==i&&(this.value=i)},"Changed Progress")}cloneProtected(t){super.cloneProtected(t),t._value=this._value,t._color=this._color,t._direction=this._direction,t._figure=this._figure}}function l(t,e,n){return"number"!=typeof t&&(t=0),t<0&&(t=0),t>1&&(t=1),void 0===n&&(n=0),t*e+.5*n}return e(s,"Spot",{name:"Progress"},e(v.e.Panel,"Spot",{isClipping:!0},e(v.e.Shape,{name:"ProgressMain",isPanelMain:!0},new v.e.Binding("figure").ofObject(n),new v.e.Binding("width").ofObject(n),new v.e.Binding("height").ofObject(n),new v.e.Binding("strokeWidth").ofObject(n),new v.e.Binding("parameter1").ofObject(n)),e(v.e.Shape,{fill:null,strokeWidth:0,stretch:v.e.GraphObject.Fill},new v.e.Binding("figure").ofObject(n)),e(v.e.Shape,{name:"ProgressShape",strokeWidth:0,scale:1,alignment:function(t){switch(t){case"top":return v.e.Spot.Bottom;case"right":return v.e.Spot.Left;case"bottom":return v.e.Spot.Top;case"left":return v.e.Spot.Right}}(i)},...r,new v.e.Binding("alignment","value",(t,e)=>{const n=e.panel.findMainElement(),i=e.panel.panel.direction,{width:a,height:o,strokeWidth:r}=n,s=l(t,o,r),c=l(t,a,r);return"top"===i?new v.e.Spot(.5,1,0,-s/2):"bottom"===i?new v.e.Spot(.5,0,0,s/2):"right"===i?new v.e.Spot(0,.5,c/2,0):"left"===i?new v.e.Spot(1,.5,-c/2,0):void 0}).ofObject("Progress"))),e(v.e.Shape,{name:"ProgressStroke",fill:null},new v.e.Binding("width").ofObject(n),new v.e.Binding("height").ofObject(n),new v.e.Binding("figure").ofObject(n),new v.e.Binding("strokeWidth").ofObject(n),new v.e.Binding("strokeDashArray").ofObject(n),new v.e.Binding("stroke").ofObject(n),new v.e.Binding("parameter1").ofObject(n)))}),v.e.AnimationManager.defineAnimationEffect("progressValue",(function(t,e,n,i,a,o,r){t.value=i(a,e,n-e,o)}));var b=n(56),S=n(25),k=n(27),P=n(8),M=n(4);n(82);const _=v.e.GraphObject.make;const L=Object(b.b)();L.resizeObjectName="SHAPE",L.locationObjectName="SHAPE",L.selectionObjectName="SHAPE",L.rotateObjectName="SHAPE";L.findObject("SHAPE").bind(new v.e.Binding("desiredSize","size",v.e.Size.parse).makeTwoWay(v.e.Size.stringify));const T=function(t){t.nodeTemplateMap.add("image",Object(b.b)()),t.nodeTemplateMap.add("loadErrorImage",L),t.nodeTemplateMap.add("shape",Object(S.a)()),t.nodeTemplateMap.add("text",Object(S.a)()),t.nodeTemplateMap.add("bgText",_(v.e.Node,"Spot",Object(M.d)(),_(v.e.Panel,"Spot",{name:"WRAP_PANEL"},_(v.e.Shape,{name:"SHAPE",isPanelMain:!0},Object(M.e)(),Object(M.f)(),new v.e.Binding("minSize",t=>t.minSize||new v.e.Size(10,10)),new v.e.Binding("figure")),Object(k.a)()),P.a.makeTextBlockPanel()))};v.e.Shape.defineFigureGenerator("Archi-Note",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(0,0,!0);return i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-10)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-10,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0)),i.spot1=new v.e.Spot(0,0,0,0),i.spot2=new v.e.Spot(1,1,-10,0),i})),v.e.Shape.defineFigureGenerator("Archi-Object",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(0,0,!0);i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close());const o=new v.e.PathFigure(0,15,!1,!1);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,15)),i.spot1=new v.e.Spot(0,15/n,0,0),i.spot2=v.e.Spot.BottomRight,i})),v.e.Shape.defineFigureGenerator("Archi-CreateRequest",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(0,0,!0);i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close());const o=new v.e.PathFigure(0,15,!1,!1);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,15)),o.add(new v.e.PathSegment(v.e.PathSegment.Move,0,n-15)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-15)),i.spot1=new v.e.Spot(0,15/n),i.spot2=new v.e.Spot(1,1-15/n),i})),v.e.Shape.defineFigureGenerator("Archi-Representation",(function(t,e,n){const i=new v.e.Geometry;n+=11.25;const a=new v.e.PathFigure(0,n-15,!0);i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-15)),a.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,n-15,.5*e,n-37.5,.5*e,n).close());const o=new v.e.PathFigure(0,15,!1,!1);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,15)),i.spot1=new v.e.Spot(0,15/n),i.spot2=new v.e.Spot(1,1-11.25/n),i})),v.e.Shape.defineFigureGenerator("Archi-Product",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(0,0,!0);i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close());const o=new v.e.PathFigure(0,15,!1,!1);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,15)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,0)),i.spot1=new v.e.Spot(0,15/n),i.spot2=v.e.Spot.BottomRight,i})),v.e.Shape.defineFigureGenerator("Archi-Node",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(0,15,!0);i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e-15,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-15)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,15,0).close());const o=new v.e.PathFigure(0,15,!1,!1);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e-15,15)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Move,e-15,15)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e-15,n)),i.spot1=new v.e.Spot(0,15/n,0,0),i.spot2=new v.e.Spot(1-15/e,1,0,0),i})),v.e.Shape.defineFigureGenerator("Archi-Artifact",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(0,0,!0);i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e-15,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,15)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close());const o=new v.e.PathFigure(e-15,0,!1,!1);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e-15,15)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,15)),i.spot1=new v.e.Spot(0,0,0,0),i.spot2=new v.e.Spot(1,1,-15,0),i})),v.e.Shape.defineFigureGenerator("Archi-Stakeholder",(function(t,e,n){const i=new v.e.Geometry;let a=10;const o=new v.e.PathFigure(a,0,!0);return a=Math.min(a,e/2),i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e-a,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,a)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-a)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e-a,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,a,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n-a)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,a)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,a,0).close()),i.spot1=new v.e.Spot(.125,0,0,0),i.spot2=new v.e.Spot(.875,1,0,0),i})),v.e.Shape.defineFigureGenerator("Archi-Deliverable",(function(t,e,n){const i=.1*n,a=(Math.sqrt(2)-1)/3*1;return(new v.e.Geometry).add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-.5*i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,n-.5*i,.5*e,n-2*i,.5*e,n+i+a*i)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close())).setSpots(0,0,1,.9)})),v.e.Shape.defineFigureGenerator("Archi-Meaning",(function(t,e,n){return(new v.e.Geometry).add(new v.e.PathFigure(.05*e,.5*n,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,.05*n,-.125*e,.2*n,.2*e,-.125*n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,.91*e,.57*n,.8*e,-.125*n,1.175*e,.2*n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,.9*n,.95*e,.8*n,.6*e,n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,.05*e,.5*n,.2*e,1.175*n,-.125*e,.8*n))).setSpots(.0625,.0625,.9375,.9375)})),v.e.Shape.defineFigureGenerator("Archi-ValueStream",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(0,0,!0);return i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,30,.5*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e-30,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e-30,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,0)),i.spot1=new v.e.Spot(30/e,0,0,0),i.spot2=new v.e.Spot(1-30/e,1,0,0),i})),v.e.Shape.defineFigureGenerator("Archi-Process",(function(t,e,n){let i=40;i>e&&(i=e);const a=.65*n,o=e-i,r=(n-a)/2,s=r+a,l=new v.e.Geometry,c=new v.e.PathFigure(0,r,!0);return l.add(c),c.add(new v.e.PathSegment(v.e.PathSegment.Line,o,r)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,o,0)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,o,0)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,o,n)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,o,s)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,0,s).close()),l.spot1=new v.e.Spot(0,r/n),l.spot2=new v.e.Spot(1,s/n,-.6*i,-5),l})),v.e.Shape.defineFigureGenerator("Archi-Event",(function(t,e,n){let i=Math.max(15,.25*n);i=Math.min(e,i);const a=new v.e.Geometry,o=new v.e.PathFigure(e-i,0);return o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,i,.5*n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,0,e+.25*i,.75*n,e+.25*i,.25*n).close()),a.spot1=new v.e.Spot(i/e,0),a.spot2=new v.e.Spot(1-i/e,1),a.add(o),a})),v.e.Shape.defineFigureGenerator("Archi-Service",(function(t,e,n){let i=Math.max(30,.25*n);i=Math.min(i,.5*e),i=.35*e;const a=new v.e.Geometry,o=new v.e.PathFigure(i,0);return o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,n,-.3*i,0,-.3*i,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,0,e+.3*i,n,e+.3*i,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,i,0).close()),a.add(o),a.spot1=new v.e.Spot(.3*i/e,0),a.spot2=new v.e.Spot(1-.3*i/e,1),a})),v.e.Shape.defineFigureGenerator("Archi-Component",(function(t,e,n){const i=new v.e.Geometry,a=.5*n,o=new v.e.PathFigure(e,n,!0);i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,15,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,15,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n).close());const r=new v.e.PathFigure(0,a-22.5,!0);i.add(r),r.add(new v.e.PathSegment(v.e.PathSegment.Line,0,a-7.5)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,30,a-7.5)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,30,a-22.5)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,0,a-22.5).close());const s=new v.e.PathFigure(0,a+7.5,!0);return i.add(s),s.add(new v.e.PathSegment(v.e.PathSegment.Line,0,a+22.5)),s.add(new v.e.PathSegment(v.e.PathSegment.Line,30,a+22.5)),s.add(new v.e.PathSegment(v.e.PathSegment.Line,30,a+7.5)),s.add(new v.e.PathSegment(v.e.PathSegment.Line,0,a+7.5).close()),i.spot1=new v.e.Spot(30/e,0),i})),v.e.Shape.defineFigureGenerator("Archi-Device",(function(t,e,n){let i=20;i=Math.min(i,e/3),i=Math.min(i,n/3);const a=i*((Math.sqrt(2)-1)/3*4),o=.25*n,r=(new v.e.Geometry).add(new v.e.PathFigure(i,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,0)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,i,e-i+a,0,e,i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-o-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,n-o,e,n-o-i+a,e-i+a,n-o)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n-o)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,n-o-i,i-a,n-o,0,n-o-i+a)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,0,0,i-a,i-a,0).close())).add(new v.e.PathFigure(i,n-o,!1,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n-o)));return a>1&&(r.spot1=new v.e.Spot(a/e,a/n),r.spot2=new v.e.Spot(1-a/e,1-(a+o)/n,0,0)),r})),v.e.Shape.defineFigureGenerator("Archi-Requirement",(function(t,e,n){let i=15;i=Math.min(i,e/2);const a=(new v.e.Geometry).add(new v.e.PathFigure(i,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,0)));return a.spot1=new v.e.Spot(i/e,0),a.spot2=new v.e.Spot(1-i/e,1),a})),v.e.Shape.defineFigureGenerator("Archi-Constraint",(function(t,e,n){let i=15;i=Math.min(i,e/2);const a=(new v.e.Geometry).add(new v.e.PathFigure(i,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,0))).add(new v.e.PathFigure(2*i,0,!1,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n)));return a.spot1=new v.e.Spot(2*i/e,0),a.spot2=new v.e.Spot(1-i/e,1),a}));var O=n(3);const A=v.e.GraphObject.make,E=A(v.e.Group,"Spot",Object(M.d)({rotatable:!1,computesBoundsAfterDrag:!0,computesBoundsIncludingLinks:!1,handlesDragDropForMembers:!0,computesBoundsIncludingLocation:!0}),A(v.e.Panel,"Spot",A(v.e.Panel,"Spot",A(v.e.Shape,{name:"SHAPE",shadowVisible:!0},Object(M.e)(),new v.e.Binding("fill"),new v.e.Binding("geometry","",(t,e)=>function(t,e){const n=new v.e.Geometry;return n.add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*t,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*t,25)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,25)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0))),n}(t.width,t.height,t.figure)),new v.e.Binding("strokeWidth","strokeWidth",t=>Number(t)||1),new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay())),A(v.e.Panel,"Vertical",{name:"GROUP_PANEL"},new v.e.Binding("width","width",(t,e)=>{const n=e.part.data,i="number"==typeof n.strokeWidth?n.strokeWidth:1;return Number(t)+i}).ofObject("SHAPE"),new v.e.Binding("height","height",(t,e)=>Number(t)).ofObject("SHAPE"),A(v.e.Panel,"Auto",{name:"HEADER",alignment:v.e.Spot.TopLeft},A(v.e.Shape,"Rectangle",{alignment:v.e.Spot.Left,fill:"rgb(175, 180, 180)",height:25,stroke:"rgb(129, 132, 132)"},new v.e.Binding("width","width",t=>Number(t)/2).ofObject("SHAPE"),new v.e.Binding("strokeWidth","strokeWidth",t=>"number"==typeof t?t:1).makeTwoWay(),new v.e.Binding("fill").ofObject("SHAPE"),new v.e.Binding("strokeDashArray"),new v.e.Binding("stroke","",t=>t.stroke||O.s))),A(v.e.Panel,"Spot",{name:"CONTENT"},new v.e.Binding("alignment","",t=>{const e="number"==typeof t.strokeWidth?t.strokeWidth:1;return new v.e.Spot(0,0,0,-e)}),A(v.e.Shape,"Rectangle",{fill:"rgb(200, 206, 206)",stroke:"rgb(129, 132, 132)"},new v.e.Binding("width","width").ofObject("SHAPE"),new v.e.Binding("height","height",(t,e)=>{const n=e.part.data,i="number"==typeof n.strokeWidth?n.strokeWidth:1;return Number(t)-25-i}).ofObject("SHAPE"),new v.e.Binding("alignment","",t=>{const e="number"==typeof t.strokeWidth?t.strokeWidth:1;return new v.e.Spot(0,0,0,-e)}),new v.e.Binding("strokeWidth","strokeWidth",t=>"number"==typeof t?t:1).makeTwoWay(),new v.e.Binding("fill","groupFill"),new v.e.Binding("strokeDashArray"),new v.e.Binding("stroke","",t=>t.stroke||O.s)))),A(v.e.Panel,"Spot",{alignment:v.e.Spot.TopLeft,alignmentFocus:new v.e.Spot(0,0,0,3),alignmentFocusName:"TEXT_PANEL"},A(v.e.Shape,{name:"TEXT_PANEL",height:25,fill:null,stroke:"transparent"},new v.e.Binding("width","width",t=>.5*t),new v.e.Binding("strokeWidth")),P.a.makeTextBlock({}))));const C=v.e.Shape.getFigureGenerators(),N=function(t,e,n,i){let a=null,o=null,r=1/0,s=1/0,l=1/0;switch(n){case"Archi-Product":case"Archi-Object":case"Archi-CreateRequest":case"flowchart-InternalStorage":case"flowchart-Predifined-Process":case"BPMN-TextAnnotation":a=C.get("Rectangle")(i,t,e);break;case"Archi-Representation":o=new v.e.Geometry,r=15,e+=.75*r,o.add(new v.e.PathFigure(0,e-r,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,e-r)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,e-r,.5*t,e-2.5*r,.5*t,e).close())),a=o;break;case"Archi-Component":o=new v.e.Geometry,s=15,s=Math.max(s,.1*e),s=Math.min(s,e),l=2*s,l=Math.min(l,t),o.add(new v.e.PathFigure(t,e,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,t,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*l,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*l,.5*e-1.4*s)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*e-1.4*s)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*e-.4*s)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*l,.5*e-.4*s)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*l,.5*e+.4*s)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*e+.4*s)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*e+1.4*s)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*l,.5*e+1.4*s)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*l,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,e).close())),a=o;break;case"Archi-Node":o=new v.e.Geometry,r=15,o.add(new v.e.PathFigure(0,r,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,0,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,t-r,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,e-r)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,r,0).close())),a=o;break;case"Archi-Device":s=20,s=Math.min(s,t/3),s=Math.min(s,e/3);const c=s*((Math.sqrt(2)-1)/3*4);l=.25*e,o=(new v.e.Geometry).add(new v.e.PathFigure(s,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,t-s,0)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,t,s,t-s+c,0,t,s-c)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,e-l-s)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,t-s,e-l,t,e-l-s+c,t-s+c,e-l)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,s,e-l)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,e-l-s,s-c,e-l,0,e-l-s+c)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,s)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,s,0,0,s-c,s-c,0).close())),o.spot1=new v.e.Spot(0,0),o.spot2=new v.e.Spot(1,.75),a=o;break;case"Archi-Artifact":o=new v.e.Geometry,r=15,o.add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,t-r,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,r)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close())),a=o;break;case"Archi-Constraint":a=C.get("Archi-Requirement")(i,t,e);break;case"Archi-Group":r=20,o=new v.e.Geometry,o.add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*t,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*t,r)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,r)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close())),a=o;break;case"UML-HistoryPseudostate":case"UML-FlowFinal":case"flowchart-Junction":case"flowchart-Or":a=C.get("Ellipse")(i,t,e);break;case"flowchart-MultiDocument":case"flowchart-Cylinder1":case"flowchart-Cylinder4":a=C.get("".concat(n,"-edge"))(i,t,e);break;default:a=v.e.Shape.getFigureGenerators().get(n)(i,t,e)}return a},B={"Business/Business Object":!0,"Application/Application Component":!0,"Physical/Equipment":!0,"Physical/Facility":!0,"Technology/Device":!0,"Business/Contract":!0,"Business/Product":!0,"Technology/Node":!0,"Implementation and Migration/Plateau":!0,"Business/Representation":!0,"Application/Data Object":!0},j=v.e.GraphObject.make,D=P.a.makeTextBlock({},null,!1),F=["Plateau","Equipment","Facility","Device"],R=j(v.e.Group,"Spot",Object(M.d)({computesBoundsAfterDrag:!0,computesBoundsIncludingLinks:!1,handlesDragDropForMembers:!0,computesBoundsIncludingLocation:!0}),new v.e.Binding("textEditable","",t=>!t.part.data.noLabel).ofObject(),j(v.e.Panel,"Spot",j(v.e.Panel,"Spot",{alignment:new v.e.Spot(.5,.5,0,0)},j(v.e.Shape,{stroke:"rgb(163, 163, 163)",name:"SHAPE",cursor:"pointer",alignment:new v.e.Spot(.5,.5,0,0),shadowVisible:!0},Object(M.f)(),new v.e.Binding("geometryStretch"),new v.e.Binding("figure"),new v.e.Binding("strokeWidth","strokeWidth",t=>"number"==typeof t?t:1).makeTwoWay())),j(v.e.Panel,"Spot",{alignment:v.e.Spot.Center},new v.e.Binding("visible","",t=>t.isHighlighted).ofObject(),j(v.e.Shape,{name:"REFRESH_SHAPE",fill:null,strokeWidth:0},new v.e.Binding("figure"),new v.e.Binding("width","width").makeTwoWay(),new v.e.Binding("height","height").makeTwoWay())),j(v.e.Panel,"Auto",{alignment:new v.e.Spot(1,0,-5,5),alignmentFocus:v.e.Spot.TopRight,visible:!1},new v.e.Binding("visible","icon",t=>!!t),new v.e.Binding("maxSize","width",t=>new v.e.Size(t,NaN)),new v.e.Binding("alignment","",t=>F.includes(t.shapeName)?new v.e.Spot(1,0,-20,20):new v.e.Spot(1,0,-5,5)),j(v.e.Picture,{name:"ICON",imageStretch:v.e.GraphObject.Uniform,imageAlignment:v.e.Spot.Top,width:20,height:20},new v.e.Binding("margin","strokeWidth",t=>t/2),new v.e.Binding("source","icon"))),Object(M.b)([new v.e.Binding("figure"),new v.e.Binding("geometry","",(t,e)=>N(t.width,t.height,t.figure,e))]),j(v.e.Panel,"Spot",{alignment:v.e.Spot.Center,alignmentFocusName:"TEXT_PANEL"},j(v.e.Shape,"Rectangle",{name:"TEXT_PANEL",fill:"transparent",strokeWidth:0},new v.e.Binding("figure","",t=>{const{shapeName:e,shapeParentName:n}=t;return B["".concat(n,"/").concat(e)]?t.figure:null}),new v.e.Binding("width","width"),new v.e.Binding("height","height")),D)));var I=n(57);const z=function(t,e){const n=e?e.resizeObject.getLocalPoint(t.documentPoint):null;(null!==(e&&e.resizeObject.containsPoint(n)?e:null)?e.addMembers(e.diagram.selection,!0):t.diagram.commandHandler.addTopLevelParts(t.diagram.selection,!0))||t.diagram.currentTool.doCancel()},H=function(t){t.groupTemplateMap.add("archi-group",E),E.mouseDrop=z,t.groupTemplateMap.add("archi-shape",R),R.mouseDrop=z,t.linkTemplateMap.add("archi-link",Object(I.setLinkTemplate)())},V=function(t,e){if("function"==typeof e){const n=["archi-shape"],i=t.groupTemplateMap.get("archi-group");i&&e(i),n.forEach(n=>{const i=t.groupTemplateMap.get(n);i&&e(i)})}},G=(Math.sqrt(2)-1)/3*4,U=new v.e.Spot(.156,.156),W=new v.e.Spot(.844,.844);v.e.Shape.defineFigureGenerator("UML-ActiveClass",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(0,0,!0);i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close());const o=new v.e.PathFigure(.1*e,0,!1,!1);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.1*e,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Move,e-.1*e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e-.1*e,n)),i.spot1=new v.e.Spot(.1,0),i.spot2=new v.e.Spot(.9,1),i})),v.e.Shape.defineFigureGenerator("UML-Multiplicity",(function(t,e,n){const i=new v.e.Geometry,a=Math.min(.1*Math.min(e,n),30),o=new v.e.PathFigure(a,a,!0);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,a,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-a)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e-a,n-a)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e-a,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,a)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,a,a)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e-a,a)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e-a,n-a)),i.spot1=new v.e.Spot(0,.1),i.spot2=new v.e.Spot(.9,.9),i})),v.e.Shape.defineFigureGenerator("UML-Constraint",(function(t,e,n){const i=Math.min(.1*e,60);return(new v.e.Geometry).add(new v.e.PathFigure(i,0,!1).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.5*n,0,0,i,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,n,i,.5*n,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Move,e-i,n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.5*n,e,n,e-i,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,0,e-i,.5*n,e,0))).setSpots(i/e,0,1-i/e,1)})),v.e.Shape.defineFigureGenerator("UML-Constraint-Fill",(function(t,e,n){const i=Math.min(.1*e,60);return(new v.e.Geometry).add(new v.e.PathFigure(i,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.5*n,0,0,i,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,n,i,.5*n,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.5*n,e,n,e-i,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,0,e-i,.5*n,e,0).close())).setSpots(i/e,0,1-i/e,1)})),v.e.Shape.defineFigureGenerator("UML-Note",(function(t,e,n){const i=Math.min(.15*e,120);return(new v.e.Geometry).add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close())).add(new v.e.PathFigure(e-i,0,!1,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,i))).setSpots(0,0,1-i/e,1)})),v.e.Shape.defineFigureGenerator("UML-Actor",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(.75*e,.25*n/2,!0);a.add(new v.e.PathSegment(v.e.PathSegment.Arc,0,360,e/2,.25*n/2,.25*e,.25*n/2)),i.add(a);const o=new v.e.PathFigure(.5*e,.25*n,!1);return o.add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,.75*n)).add(new v.e.PathSegment(v.e.PathSegment.Move,0,.4*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.4*n)).add(new v.e.PathSegment(v.e.PathSegment.Move,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,.75*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),i.add(o),i.spot1=new v.e.Spot(0,0),i.spot2=new v.e.Spot(1,1),i})),v.e.Shape.defineFigureGenerator("UML-OffPageActivity",(function(t,e,n){let i=t?t.parameter1:NaN;(isNaN(i)||i<0)&&(i=.2*e),i=Math.min(i,e/3),i=Math.min(i,n/3);const a=i*G,o=(new v.e.Geometry).add(new v.e.PathFigure(i,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,0)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,i,e-a,0,e,a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,n,e,n-a,e-a,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,n-i,a,n,0,n-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,0,0,a,a,0).close()));return a>1&&(o.spot1=new v.e.Spot((26+a)/e,a/n,0,0),o.spot2=new v.e.Spot(1-a/e,1-a/n,0,0)),o.spot1=new v.e.Spot((16+a)/e,a/n,0,0),o})),v.e.Shape.defineFigureGenerator("UML-OffPageActivityIcon",(function(t,e,n){return(new v.e.Geometry).add(new v.e.PathFigure(.5*e,0,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,n)).add(new v.e.PathSegment(v.e.PathSegment.Move,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)))})),v.e.Shape.defineFigureGenerator("UML-FlowFinal",(function(t,e,n){const i=new v.e.Geometry,a=1/Math.SQRT2,o=(1-1/Math.SQRT2)/2,r=.5*G,s=new v.e.PathFigure(e,.5*n,!0);i.add(s),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,n,e,(.5+r)*n,(.5+r)*e,n)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.5*n,(.5-r)*e,n,0,(.5+r)*n)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,0,0,(.5-r)*n,(.5-r)*e,0)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.5*n,(.5+r)*e,0,e,(.5-r)*n));const l=new v.e.PathFigure((o+a)*e,(o+a)*n,!1,!1);return i.add(l),l.add(new v.e.PathSegment(v.e.PathSegment.Line,o*e,o*n)),l.add(new v.e.PathSegment(v.e.PathSegment.Move,o*e,(o+a)*n)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,(o+a)*e,o*n)),i})),v.e.Shape.defineFigureGenerator("UML-HistoryPseudostate",(function(t,e,n){const i=new v.e.Geometry,a=.5*G,o=new v.e.PathFigure(e,.5*n,!0);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,n,e,(.5+a)*n,(.5+a)*e,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.5*n,(.5-a)*e,n,0,(.5+a)*n)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,0,0,(.5-a)*n,(.5-a)*e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.5*n,(.5+a)*e,0,e,(.5-a)*n)),i})),v.e.Shape.defineFigureGenerator("UML-HistoryPseudostateIcon",(function(t,e,n){const i=new v.e.Geometry;return i.add(new v.e.PathFigure(0,0,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Move,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)).add(new v.e.PathSegment(v.e.PathSegment.Move,0,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n))),i})),v.e.Shape.defineFigureGenerator("UML-End",(function(t,e,n){const i=new v.e.Geometry,a=.15*Math.min(e,n),o=new v.e.PathFigure(e-a,n/2,!1).add(new v.e.PathSegment(v.e.PathSegment.Arc,0,360,e/2,n/2,e/2-a,n/2-a));i.add(o);const r=new v.e.PathFigure(e,n/2,!0).add(new v.e.PathSegment(v.e.PathSegment.Arc,0,360,e/2,n/2,e/2,n/2));return i.add(r),i.spot1=new v.e.Spot(.156,0),i.spot2=new v.e.Spot(.844,1),i})),v.e.Shape.defineFigureGenerator("UML-SendSignal",(function(t,e,n){const i=Math.min(.2*e,120);return(new v.e.Geometry).add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close())).setSpots(0,0,1-i/e,1)})),v.e.Shape.defineFigureGenerator("UML-ReceiveSignal",(function(t,e,n){const i=Math.min(.2*e,120);return(new v.e.Geometry).add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close())).setSpots(i/e,0,1,1)})),v.e.Shape.defineFigureGenerator("UML-AcceptTimeEventAction",(function(t,e,n){return(new v.e.Geometry).add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close())).setSpots(0,0,1,1)})),v.e.Shape.defineFigureGenerator("UML-Entity",(function(t,e,n){const i=(Math.sqrt(2)-1)/3*4,a=.5*e,o=.5*n,r=a,s=o,l=i*a,c=i*o;return(new v.e.Geometry).add(new v.e.PathFigure(r,s-o,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,r+a,s,r+l,s-o,r+a,s-c)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,r,s+o,r+a,s+c,r+l,s+o)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,r-a,s,r-l,s+o,r-a,s+c)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,r,s-o,r-a,s-c,r-l,s-o))).add(new v.e.PathFigure(0,n,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)))})),v.e.Shape.defineFigureGenerator("UML-Boundary",(function(t,e,n){const i=(Math.sqrt(2)-1)/3*4,a=.5*(e-20),o=.5*n,r=e-2*a+a,s=o,l=i*a,c=i*o;return(new v.e.Geometry).add(new v.e.PathFigure(r,s-o,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,r+a,s,r+l,s-o,r+a,s-c)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,r,s+o,r+a,s+c,r+l,s+o)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,r-a,s,r-l,s+o,r-a,s+c)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,r,s-o,r-a,s-c,r-l,s-o))).add(new v.e.PathFigure(0,s,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,r-a,s)).add(new v.e.PathSegment(v.e.PathSegment.Move,0,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)))})),v.e.Shape.defineFigureGenerator("UML-ControlIcon",(function(t,e,n){return(new v.e.Geometry).add(new v.e.PathFigure(e,0,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)))})),v.e.Shape.defineFigureGenerator("UML-Component",(function(t,e,n){const i=new v.e.Geometry,a=.5*n,o=new v.e.PathFigure(e,n,!0);i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,15,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,15,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n).close());const r=new v.e.PathFigure(0,a-22.5,!0);i.add(r),r.add(new v.e.PathSegment(v.e.PathSegment.Line,0,a-7.5)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,30,a-7.5)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,30,a-22.5)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,0,a-22.5).close());const s=new v.e.PathFigure(0,a+7.5,!0);return i.add(s),s.add(new v.e.PathSegment(v.e.PathSegment.Line,0,a+22.5)),s.add(new v.e.PathSegment(v.e.PathSegment.Line,30,a+22.5)),s.add(new v.e.PathSegment(v.e.PathSegment.Line,30,a+7.5)),s.add(new v.e.PathSegment(v.e.PathSegment.Line,0,a+7.5).close()),i.spot1=new v.e.Spot(30/e,0),i})),v.e.Shape.defineFigureGenerator("UML-ComponentBox",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(e,n,!0);i.add(a);const o=.2*n;let r=2.5*o;r=Math.min(r,e),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.5*r,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.5*r,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n).close());const s=new v.e.PathFigure(0,.5*n-.3*n,!0);i.add(s),s.add(new v.e.PathSegment(v.e.PathSegment.Line,r,.5*n-.3*n)),s.add(new v.e.PathSegment(v.e.PathSegment.Line,r,.5*n-.3*n+o)),s.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n-.3*n+o)),s.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n-.3*n).close());const l=new v.e.PathFigure(0,.5*n+.3*n,!0);return i.add(l),l.add(new v.e.PathSegment(v.e.PathSegment.Line,r,.5*n+.3*n)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,r,.5*n+.3*n-o)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n+.3*n-o)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n+.3*n).close()),i.spot1=new v.e.Spot(.2,0),i})),v.e.Shape.defineFigureGenerator("UML-Node",(function(t,e,n){const i=Math.min(.1*Math.min(e,n),60);return(new v.e.Geometry).add(new v.e.PathFigure(i,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,0).close())).add(new v.e.PathFigure(0,i,!1,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Move,e-i,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n))).setSpots(0,i/n,1-i/n,1)})),v.e.Shape.defineFigureGenerator("UML-Assembly",(function(t,e,n){const i=.3*e,a=.375*n,o=.5*e,r=.5*n,s=(Math.sqrt(2)-1)/3*4,l=s*i,c=s*a,h=a+(r-a),d=i+(r-a),u=s*d,f=s*h;return(new v.e.Geometry).add(new v.e.PathFigure(0,.5*n,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,.25*e,.5*n))).add(new v.e.PathFigure(o+d,.5*n,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n))).add(new v.e.PathFigure(o,r-h,!1).add(new v.e.PathSegment(v.e.PathSegment.Bezier,o+d,r,o+u,r-h,o+d,r-f)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,o,r+h,o+d,r+f,o+u,r+h))).add(new v.e.PathFigure(o,r-a,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,o+i,r,o+l,r-a,o+i,r-c)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,o,r+a,o+i,r+c,o+l,r+a)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,o-i,r,o-l,r+a,o-i,r+c)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,o,r-a,o-i,r-c,o-l,r-a)))})),v.e.Shape.defineFigureGenerator("UML-ProvidedInterface",(function(t,e,n){const i=(Math.sqrt(2)-1)/3*4,a=.4*e,o=.5*n,r=e-2*a+a,s=o,l=i*a,c=i*o;return(new v.e.Geometry).add(new v.e.PathFigure(r,s-o,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,r+a,s,r+l,s-o,r+a,s-c)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,r,s+o,r+a,s+c,r+l,s+o)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,r-a,s,r-l,s+o,r-a,s+c)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,r,s-o,r-a,s-c,r-l,s-o))).add(new v.e.PathFigure(0,s,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,r-a,s)))})),v.e.Shape.defineFigureGenerator("UML-RequiredInterface",(function(t,e,n){const i=new v.e.Geometry,a=.6*G,o=.5*G,r=new v.e.PathFigure(0*e,0*n,!1);i.add(r),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.6*e,.5*n,(0+a)*e,0*n,.6*e,(.5-o)*n)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0*e,1*n,.6*e,(.5+o)*n,(0+a)*e,1*n));const s=new v.e.PathFigure(.6*e,.5*n,!1);return i.add(s),s.add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n)),i})),v.e.Shape.defineFigureGenerator("UML-WeakEntity",(function(t,e,n){const i=.05*Math.min(e,n);return(new v.e.Geometry).add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close())).add(new v.e.PathFigure(i,i,!1,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,i).close())).setSpots(.1,.1,.9,.9)})),v.e.Shape.defineFigureGenerator("UML-MultivaluedAttribute",(function(t,e,n){const i=new v.e.Geometry,a=.5*G;let o=.45;let r=.45*G;const s=.45*G;o=.5-(.5*n-.45*n)/e,r=G*o;const l=new v.e.PathFigure(0*e,.5*n,!0);i.add(l),l.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,0*n,0*e,(.5-a)*n,(.5-a)*e,0*n)),l.add(new v.e.PathSegment(v.e.PathSegment.Bezier,1*e,.5*n,(.5+a)*e,0*n,1*e,(.5-a)*n)),l.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,1*n,1*e,(.5+a)*n,(.5+a)*e,1*n)),l.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0*e,.5*n,(.5-a)*e,1*n,0*e,(.5+a)*n));const c=new v.e.PathFigure((.5-o)*e,.5*n,!1,!1);return i.add(c),c.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,(.5-.45)*n,(.5-o)*e,(.5-s)*n,(.5-r)*e,(.5-.45)*n)),c.add(new v.e.PathSegment(v.e.PathSegment.Bezier,(.5+o)*e,.5*n,(.5+r)*e,(.5-.45)*n,(.5+o)*e,(.5-s)*n)),c.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,.95*n,(.5+o)*e,(.5+s)*n,(.5+r)*e,.95*n)),c.add(new v.e.PathSegment(v.e.PathSegment.Bezier,(.5-o)*e,.5*n,(.5-r)*e,.95*n,(.5-o)*e,(.5+s)*n)),i.spot1=U,i.spot2=W,i})),v.e.Shape.defineFigureGenerator("UML-WeakRelationship",(function(t,e,n){const i=.05*Math.min(e,n);return(new v.e.Geometry).add(new v.e.PathFigure(.5*e,0).add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n).close())).add(new v.e.PathFigure(.5*e,i,!1,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,i,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,.5*n).close())).setSpots(.125,.125,.875,.875)})),v.e.Shape.defineFigureGenerator("UML-Lifeline",(function(t,e,n){let i=t?t.parameter1:NaN;return isNaN(i)&&(i=.2*n),(new v.e.Geometry).add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close())).add(new v.e.PathFigure(.5*e,i,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,n))).setSpots(0,0,1,i/n)})),v.e.Shape.defineFigureGenerator("UML-Package",(function(t,e,n){const i=new v.e.Geometry;let a=t?t.parameter1:NaN;isNaN(a)&&(a=20);const o=new v.e.PathFigure(0,a,!0);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.55*e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.6*e,a)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,a)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,a)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.6*e,a)),i})),v.e.Shape.defineFigureGenerator("UML-OptionLoop",(function(t,e,n){const i=new v.e.Geometry;let a=t?t.parameter1:NaN;isNaN(a)&&(a=.4*e);const o=new v.e.PathFigure(0,0,!1);i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close());const r=new v.e.PathFigure(0,0,!0);return i.add(r),r.add(new v.e.PathSegment(v.e.PathSegment.Line,a,0)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,a,25)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,a-5,30)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,0,30)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close()),i.spot1=new v.e.Spot(0,0),i.spot2=new v.e.Spot(a/e,30/n),i})),v.e.Shape.defineFigureGenerator("UML-Interface",(function(t,e,n){let i=t?t.parameter1:NaN;return isNaN(i)&&(i=56.76814270019531),i=Math.min(i,n),(new v.e.Geometry).add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close())).add(new v.e.PathFigure(0,i,!1,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e,i)))})),v.e.Shape.defineFigureGenerator("UML-Class",(function(t,e,n){let i=t?t.parameter1:NaN,a=t?t.parameter2:NaN;return isNaN(i)&&(i=32.84025573730469),isNaN(a)&&(a=103.57987213134766),(new v.e.Geometry).add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0).close())).add(new v.e.PathFigure(0,i,!1,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e,i))).add(new v.e.PathFigure(0,i+a,!1,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e,i+a)))})),v.e.Shape.defineFigureGenerator("UML-Diamond",(function(t,e,n){return(new v.e.Geometry).add(new v.e.PathFigure(.5*e,0).add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n).close())).setSpots(.15,.15,.85,.85)}));var q=n(13);const Y=v.e.GraphObject.make,X=Y(v.e.Node,"Spot",Object(M.d)(),Y(v.e.Shape,"UML-Class",{name:"SHAPE"},Object(M.f)(),new v.e.Binding("parameter1","height",(t,e)=>e.part.data.titleHeight),new v.e.Binding("parameter2","height",(t,e)=>e.part.data.attrHeight),new v.e.Binding("parameter1","titleHeight"),new v.e.Binding("parameter2","attrHeight"),new v.e.Binding("height","height",(t,e)=>{const n=e.diagram,i=e.part,a=i.findObject("TEXT"),o=i.findObject("TEXT0"),r=i.findObject("TEXT1");if(i.data.titleLabel===a.text){let e=a.naturalBounds.height,s=o.naturalBounds.height,l=r.naturalBounds.height;if("TextEditing"===n.currentTool.name){const t=n.currentTool.currentTextEditor.tempText();t&&(n.currentTool.textBlock===a?e=t.naturalBounds.height:n.currentTool.textBlock===o?s=t.naturalBounds.height:n.currentTool.textBlock===r&&(l=t.naturalBounds.height))}i.data.titleHeight=e+10;const c=t-i.data.titleHeight;i.data.attrHeight=s+Math.max(.5*(c-(s+l)),10),i.data.funcHeight=l+Math.max(.5*(c-(s+l)),10)}return Math.max(t,i.data.attrHeight+i.data.funcHeight+i.data.titleHeight)}).makeTwoWay()),Object(M.b)(),Y(v.e.Panel,"Vertical",{defaultAlignment:v.e.Spot.TopLeft},Y(v.e.Panel,"Spot",Y(v.e.Shape,"Rectangle",{fill:"transparent",stroke:null},new v.e.Binding("height","titleHeight",t=>t).makeTwoWay(),new v.e.Binding("width"),new v.e.Binding("strokeWidth")),q.a.dbclickEditing(),P.a.makeTextBlock({margin:5},{text:"titleLabel",fontFamily:"titleFontFamily",fontSize:"titleFontSize",fontWeight:"titleFontWeight",fontStyle:"titleFontStyle",isUnderline:"titleUnderline",stroke:"titleFontColor",textAlign:"titleTextAlign"})),Y(v.e.Panel,"Spot",Y(v.e.Shape,"Rectangle",{fill:"transparent",stroke:null},new v.e.Binding("height","attrHeight",t=>t).makeTwoWay(),new v.e.Binding("width"),new v.e.Binding("strokeWidth")),q.a.dbclickEditing("TEXT0"),P.a.makeTextBlock({name:"TEXT0"},{text:"attrLabel",fontFamily:"attrFontFamily",fontSize:"attrFontSize",fontWeight:"attrFontWeight",fontStyle:"attrFontStyle",isUnderline:"attrUnderline",stroke:"attrFontColor",textAlign:"attrTextAlign"})),Y(v.e.Panel,"Spot",Y(v.e.Shape,"Rectangle",{fill:"transparent",stroke:null},new v.e.Binding("height","funcHeight",t=>t).makeTwoWay(),new v.e.Binding("width"),new v.e.Binding("strokeWidth")),q.a.dbclickEditing("TEXT1"),P.a.makeTextBlock({name:"TEXT1",margin:5},{text:"funcLabel",fontFamily:"funcFontFamily",fontSize:"funcFontSize",fontWeight:"funcFontWeight",fontStyle:"funcFontStyle",isUnderline:"funcUnderline",stroke:"funcFontColor",textAlign:"funcTextAlign"})))),K=v.e.GraphObject.make,Z=K(v.e.Node,"Spot",Object(M.d)(),K(v.e.Panel,"Spot",{name:"WRAP_PANEL"},K(v.e.Shape,{name:"SHAPE",isPanelMain:!0},Object(M.f)(),new v.e.Binding("figure")),K(v.e.Shape,"UML-ControlIcon",{fill:null,alignment:new v.e.Spot(.5,0,0,-2),alignmentFocus:v.e.Spot.Left},new v.e.Binding("visible","",t=>"uml-control"===t.category||"Control"===t.shapeName),new v.e.Binding("strokeWidth"),new v.e.Binding("width","width",t=>.1*t),new v.e.Binding("height","height",t=>.15*t),new v.e.Binding("alignment","strokeWidth",t=>new v.e.Spot(.5,0,0,.5*t)),new v.e.Binding("stroke","",t=>t.stroke||O.s)),K(v.e.Shape,"Ellipse",{fill:"#000"},new v.e.Binding("visible","",t=>"uml-end"===t.category||"End"===t.shapeName),new v.e.Binding("width","",t=>t.width-.15*Math.min(t.width,t.height)*2),new v.e.Binding("height","",t=>t.height-.15*Math.min(t.width,t.height)*2),new v.e.Binding("stroke","",t=>t.stroke||O.s),new v.e.Binding("strokeWidth"),new v.e.Binding("strokeDashArray")),Object(M.b)([new v.e.Binding("geometry","",(t,e)=>N(t.width,t.height,t.figure,e))])),K(v.e.Panel,"Spot",{alignment:v.e.Spot.Center,alignmentFocusName:"TEXT_PANEL"},K(v.e.Shape,{name:"TEXT_PANEL",fill:"transparent",strokeWidth:0},new v.e.Binding("figure"),new v.e.Binding("width","width"),new v.e.Binding("height","height")),K(v.e.Shape,{name:"SHAPE",fill:"transparent",strokeWidth:0},new v.e.Binding("visible","figure",t=>"UML-Actor"===t),new v.e.Binding("width"),new v.e.Binding("height")),K(v.e.Shape,{fill:"transparent",stroke:null,name:"SHAPE"},new v.e.Binding("visible","label",(t,e)=>{const n=e.part;return!t&&"UML-Constraint"===n.data.figure}),new v.e.Binding("width","width",t=>Math.max(.8*t,0)),new v.e.Binding("height","height")),P.a.makeTextBlock({})));var $=n(9);const J=v.e.GraphObject.make,Q=P.a.makeTextBlock({margin:5});Q.bind(new v.e.Binding("maxSize","",t=>new v.e.Size(t.width,NaN)));const tt=J(v.e.Node,"Spot",Object(M.d)(),J(v.e.Panel,"Spot",{name:"WRAP_PANEL"},J(v.e.Shape,"UML-Lifeline",{fill:"transparent",stroke:"transparent",name:"SHAPE",isPanelMain:!0,maxSize:new v.e.Size(9999,9999),minSize:new v.e.Size(20,60),parameter1:40},new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay(),new v.e.Binding("strokeWidth")),J(v.e.Panel,"Vertical",J(v.e.Shape,"Rectangle",{fill:"transparent",height:40,stroke:O.s,shadowVisible:!0},new v.e.Binding("width"),$.a.fill(),new v.e.Binding("stroke"),new v.e.Binding("strokeWidth"),new v.e.Binding("strokeDashArray")),J(v.e.Shape,"LineV",{fill:null,strokeDashArray:[2,2],strokeWidth:2,stroke:O.s,shadowVisible:!0},new v.e.Binding("stroke"),new v.e.Binding("height","height",(t,e)=>{const n=e.part.data;return t-40-("number"==typeof n.strokeWidth?n.strokeWidth:2)}))),Object(k.a)()),J(v.e.Panel,"Spot",{alignment:v.e.Spot.Top,alignmentFocus:v.e.Spot.Top,alignmentFocusName:"TEXT_PANEL"},J(v.e.Shape,"UML-Lifeline",{name:"TEXT_PANEL",fill:null,strokeWidth:0,height:40,parameter1:40},new v.e.Binding("width","width")),Q),Object(M.b)([{figure:"Rectangle"},new v.e.Binding("figure")])),et=v.e.GraphObject.make,nt=et(v.e.Node,"Spot",Object(M.d)(),et(v.e.Shape,"UML-Interface",{name:"SHAPE"},Object(M.f)(),new v.e.Binding("parameter1","height",(t,e)=>e.part.data.headerHeight),new v.e.Binding("parameter1","headerHeight"),new v.e.Binding("parameter2","contentHeight"),new v.e.Binding("height","height",(t,e)=>{const n=e.diagram,i=e.part,a=i.findObject("TEXT"),o=i.findObject("TEXT0");if(i.data.label===a.text){let e=a.naturalBounds.height,r=o.naturalBounds.height;if("TextEditing"===n.currentTool.name){const t=n.currentTool.currentTextEditor.tempText();t&&(n.currentTool.textBlock===a?e=t.naturalBounds.height:n.currentTool.textBlock===o&&(r=t.naturalBounds.height))}i.data.headerHeight=e+10,i.data.contentHeight=Math.max(t-i.data.headerHeight,r+10)}return Math.max(t,i.data.headerHeight+i.data.contentHeight)}).makeTwoWay()),Object(M.b)(),et(v.e.Panel,"Vertical",{defaultAlignment:v.e.Spot.TopLeft},et(v.e.Panel,"Spot",et(v.e.Shape,"Rectangle",{fill:"transparent",stroke:null},new v.e.Binding("height","headerHeight",t=>t).makeTwoWay(),new v.e.Binding("width"),new v.e.Binding("strokeWidth")),q.a.dbclickEditing("TEXT"),P.a.makeTextBlock({margin:5},{text:"label",fontFamily:"titleFontFamily",fontSize:"titleFontSize",fontWeight:"titleFontWeight",fontStyle:"titleFontStyle",isUnderline:"titleUnderline",stroke:"titleFontColor",textAlign:"titleTextAlign"})),et(v.e.Panel,"Spot",et(v.e.Shape,"Rectangle",{fill:"transparent",stroke:null},new v.e.Binding("height","contentHeight",t=>t).makeTwoWay(),new v.e.Binding("width"),new v.e.Binding("strokeWidth")),q.a.dbclickEditing("TEXT0"),P.a.makeTextBlock({margin:5,name:"TEXT0"},{text:"content",fontFamily:"contentFontFamily",fontSize:"contentFontSize",fontWeight:"contentFontWeight",fontStyle:"contentFontStyle",isUnderline:"contentUnderline",stroke:"contentFontColor",textAlign:"contentTextAlign"})))),it=v.e.GraphObject.make,at=it(v.e.Node,"Spot",Object(M.d)(),it(v.e.Panel,"Spot",{name:"WRAP_PANEL"},it(v.e.Shape,"UML-Package",Object(M.f)(),{name:"SHAPE",isPanelMain:!0,minSize:new v.e.Size(5,5),parameter1:30}),Object(k.a)()),Object(M.b)([{figure:"UML-Package",parameter1:30}]),it(v.e.Panel,"Auto",it(v.e.Panel,"Vertical",{alignment:v.e.Spot.TopLeft,alignmentFocus:v.e.Spot.TopLeft,defaultAlignment:v.e.Spot.Left},it(v.e.Panel,"Spot",q.a.dbclickEditing(),it(v.e.Shape,"Rectangle",{height:30,strokeWidth:0,fill:"transparent"},new v.e.Binding("width","width",t=>.6*t)),P.a.makeTextBlock({},{text:"label",fontFamily:"titleFontFamily",fontSize:"titleFontSize",fontWeight:"titleFontWeight",fontStyle:"titleFontStyle",isUnderline:"titleUnderline",stroke:"titleFontColor",textAlign:"titleTextAlign"})),it(v.e.Panel,"Auto",q.a.dbclickEditing("TEXT0"),it(v.e.Shape,"Rectangle",{strokeWidth:0,fill:"transparent"},new v.e.Binding("width","width",t=>t),new v.e.Binding("height","height",t=>t-30)),P.a.makeTextBlock({name:"TEXT0"},{text:"content",fontFamily:"contentFontFamily",fontSize:"contentFontSize",fontWeight:"contentFontWeight",fontStyle:"contentFontStyle",isUnderline:"contentUnderline",stroke:"contentFontColor",textAlign:"contentTextAlign"}))))),ot=v.e.GraphObject.make;function rt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ot(v.e.Node,"Auto",Object(M.d)({rotatable:!1}),ot(v.e.Panel,"Spot",{name:"WRAP_PANEL"},ot(v.e.Shape,{name:"SHAPE"},Object(M.f)(),new v.e.Binding("figure"),new v.e.Binding("parameter1")),ot(v.e.Shape,{name:"EMPTY",cursor:"auto"},Object(M.a)(),new v.e.Binding("figure"),new v.e.Binding("parameter1"),new v.e.Binding("width","width",(t,e)=>t-30),new v.e.Binding("height","height",(t,e)=>t-30))),t.label?ot(v.e.Panel,"Auto",{alignment:v.e.Spot.Center,alignmentFocus:v.e.Spot.Top,alignmentFocusName:"TEXT_PANEL"},ot(v.e.Shape,{name:"TEXT_PANEL",fill:null,strokeWidth:0},new v.e.Binding("figure"),new v.e.Binding("width"),new v.e.Binding("height")),ot(v.e.Panel,"Auto",{alignment:v.e.Spot.Top},q.a.dbclickEditing(),ot(v.e.Shape,"Rectangle",{height:40,fill:"transparent",stroke:null,strokeWidth:0},new v.e.Binding("width")),P.a.makeTextBlock({}))):{},Object(M.b)([new v.e.Binding("figure"),new v.e.Binding("parameter1")],!0))}const st=rt(),lt=rt({label:!0}),ct=v.e.GraphObject.make;function ht(){return ct(v.e.Panel,"Vertical",{cursor:"default"},ct(v.e.Shape,{height:30,fill:null,stroke:null}),ct(v.e.Panel,"Auto",q.a.dbclickEditing("TEXT0"),ct(v.e.Shape,"Rectangle",{fill:"transparent",stroke:"transparent"},new v.e.Binding("width"),new v.e.Binding("height","",t=>t.height-30)),P.a.makeTextBlock({margin:5,name:"TEXT0"},{text:"content",fontFamily:"contentFontFamily",fontSize:"contentFontSize",fontWeight:"contentFontWeight",fontStyle:"contentFontStyle",isUnderline:"contentUnderline",stroke:"contentFontColor",textAlign:"contentTextAlign"})))}function dt(){return ct(v.e.Panel,"Vertical",{cursor:"default"},ct(v.e.Shape,{height:30,fill:null,stroke:null}),ct(v.e.Panel,"Auto",q.a.dbclickEditing("TEXT0"),ct(v.e.Shape,"Rectangle",{fill:"transparent",stroke:"transparent"},new v.e.Binding("width"),new v.e.Binding("height","",t=>.5*(t.height-30))),P.a.makeTextBlock({margin:5,name:"TEXT0"},{text:"content",fontFamily:"contentFontFamily",fontSize:"contentFontSize",fontWeight:"contentFontWeight",fontStyle:"contentFontStyle",isUnderline:"contentUnderline",stroke:"contentFontColor",textAlign:"contentTextAlign"})),ct(v.e.Panel,"Auto",ct(v.e.Shape,"LineH",{strokeDashArray:[8,8]},new v.e.Binding("width"),new v.e.Binding("height","",t=>t.strokeWidth||1))),ct(v.e.Panel,"Auto",q.a.dbclickEditing("TEXT1"),ct(v.e.Shape,"Rectangle",{fill:"transparent",stroke:"transparent"},new v.e.Binding("width"),new v.e.Binding("height","",t=>.5*(t.height-30))),P.a.makeTextBlock({name:"TEXT1",margin:5},{text:"elseContent",fontFamily:"elseFontFamily",fontSize:"elseFontSize",fontWeight:"elseFontWeight",fontStyle:"elseFontStyle",isUnderline:"elseUnderline",stroke:"elseFontColor",textAlign:"elseTextAlign"})))}var ut=n(18);const ft=v.e.GraphObject.make;function pt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ft(v.e.Node,"Spot",Object(M.d)({rotatable:!1,constraintShapeName:"SHAPE"}),new v.e.Binding("constraint","",t=>[new ut.a({alignment:new v.e.Spot(0,0,0,30),type:ut.a.Spot,direction:ut.a.Horizontal,parameter1:"parameter1",spot1:new v.e.Spot(0,0,50,0),spot2:new v.e.Spot(1,1,-t.strokeWidth,0)})]),ft(v.e.Panel,"Spot",{name:"WRAP_PANEL"},ft(v.e.Shape,{name:"SHAPE"},Object(M.f)(),new v.e.Binding("minSize","",e=>"alternativeCondition"===t.type?new v.e.Size(120,120):new v.e.Size(120,80)),new v.e.Binding("figure"),new v.e.Binding("parameter1")),ft(v.e.Shape,{name:"EMPTY",alignment:new v.e.Spot(.5,.5,0,15)},Object(M.a)(),new v.e.Binding("width","width",(t,e)=>t-30),new v.e.Binding("height","height",(t,e)=>t-60))),ft(v.e.Panel,"Spot",{alignment:v.e.Spot.Center,alignmentFocus:v.e.Spot.Center,alignmentFocusName:"TEXT_PANEL"},ft(v.e.Shape,{name:"TEXT_PANEL",fill:null,strokeWidth:0},new v.e.Binding("figure"),new v.e.Binding("width"),new v.e.Binding("height")),ft(v.e.Panel,"Spot",{alignment:v.e.Spot.Top,alignmentFocus:v.e.Spot.Top},q.a.dbclickEditing(),ft(v.e.Shape,"Rectangle",{height:30,fill:"transparent",stroke:null,strokeWidth:0},new v.e.Binding("width","width",t=>.4*t)),P.a.makeTextBlock({margin:5}))),Object(M.b)([{figure:"Rectangle"}],!0),"condition"===t.type?ht():{},"alternativeCondition"===t.type?dt():{})}const gt=pt(),mt=pt({type:"condition"}),yt=pt({type:"alternativeCondition"}),vt=v.e.GraphObject.make,wt=vt(v.e.Node,"Spot",Object(M.d)(),vt(v.e.Shape,"RoundedRectangle",{name:"SHAPE"},Object(M.f)(),new v.e.Binding("parameter1","",t=>.25*Math.min(t.width,t.height))),Object(M.b)([{figure:"RoundedRectangle"},new v.e.Binding("parameter1","",t=>.25*Math.min(t.width,t.height))]),vt(v.e.Panel,"Vertical",vt(v.e.Panel,"Auto",vt(v.e.Shape,"Rectangle",{fill:"transparent",stroke:"transparent"},new v.e.Binding("width"),new v.e.Binding("height","",t=>.3*t.height))),vt(v.e.Panel,"Auto",vt(v.e.Shape,"LineH",new v.e.Binding("width"),new v.e.Binding("height","",t=>t.strokeWidth||1),new v.e.Binding("stroke","",t=>t.stroke||O.s),new v.e.Binding("strokeWidth"),new v.e.Binding("strokeDashArray"))),vt(v.e.Panel,"Auto",vt(v.e.Shape,"Rectangle",{fill:"transparent",stroke:"transparent"},new v.e.Binding("width"),new v.e.Binding("height","",t=>.7*t.height)))),vt(v.e.Panel,"Spot",{alignment:v.e.Spot.Top,alignmentFocus:v.e.Spot.Top,alignmentFocusName:"TEXT_PANEL"},q.a.dbclickEditing(),vt(v.e.Shape,{name:"TEXT_PANEL",fill:"transparent",stroke:"transparent"},new v.e.Binding("width"),new v.e.Binding("height","height",t=>.3*t)),P.a.makeTextBlock({margin:5},{text:"label",fontFamily:"titleFontFamily",fontSize:"titleFontSize",fontWeight:"titleFontWeight",fontStyle:"titleFontStyle",isUnderline:"titleUnderline",stroke:"titleFontColor",textAlign:"titleTextAlign"})),vt(v.e.Panel,"Spot",{alignment:v.e.Spot.Bottom,alignmentFocus:v.e.Spot.Bottom,alignmentFocusName:"TEXT_PANEL"},q.a.dbclickEditing("TEXT0"),vt(v.e.Shape,{name:"TEXT_PANEL",fill:"transparent",stroke:"transparent"},new v.e.Binding("width"),new v.e.Binding("height","height",t=>.7*t)),P.a.makeTextBlock({name:"TEXT0",margin:5},{text:"content",fontFamily:"contentFontFamily",fontSize:"contentFontSize",fontWeight:"contentFontWeight",fontStyle:"contentFontStyle",isUnderline:"contentUnderline",stroke:"contentFontColor",textAlign:"contentTextAlign"}))),xt=v.e.GraphObject.make;let bt;const St=xt(v.e.Panel,"Spot",{alignmentFocusName:"SHAPE",click(t,e){if(bt)return void(bt=!1);const n=t.diagram;if(e.part.isSelected&&!e.data.isSelected){const t=n.skipsUndoManager;n.skipsUndoManager=!0,n.startTransaction("Selected Item"),e.part.data.items.some(t=>!!t.isSelected&&(n.model.setDataProperty(t,"isSelected",!1),!0)),n.model.setDataProperty(e.data,"isSelected",!0),n.commitTransaction("Selected Item"),n.skipsUndoManager=t}}},new v.e.Binding("alignment","",(t,e)=>{const n=e.part,i=n.data.items.findIndex(e=>e===t),a="number"==typeof n.data.strokeWidth?n.data.strokeWidth:1,o=a*i;return new v.e.Spot(0,0,-o,-a)}),xt(v.e.Panel,"Auto",{alignmentFocusName:"SHAPE",doubleClick(t,e){const n=t.diagram.lastInput.documentPoint,i=e.panel.findObject("EMPTY");if(i){const t=i.getLocalPoint(n);if(i.containsPoint(t))return}q.a.dbclickEditing("TEXT").doubleClick(t,e.panel)}},xt(v.e.Shape,{fill:"transparent",name:"SHAPE"},new v.e.Binding("fill"),new v.e.Binding("width","",(t,e)=>t.width),new v.e.Binding("height","",(t,e)=>e.part.data.height),new v.e.Binding("stroke","",(t,e)=>e.part.data.stroke||O.s),new v.e.Binding("strokeWidth","",(t,e)=>"number"==typeof e.part.data.strokeWidth?e.part.data.strokeWidth:1),new v.e.Binding("strokeDashArray","",(t,e)=>e.part.data.strokeDashArray||null)),xt(v.e.Panel,"Spot",xt(v.e.Shape,{name:"EMPTY",cursor:"auto"},Object(M.a)(),new v.e.Binding("width","width",(t,e)=>t-20/e.part.diagram.scale),new v.e.Binding("height","",(t,e)=>{const n=e.part,i=n.diagram;return n.data.orientation||n.data.textOrientation?(n.data.orientation&&n.data.textOrientation,n.data.height-20/i.scale):n.data.height-20/i.scale}))),xt(v.e.Shape,{fill:"transparent",stroke:O.a,strokeDashArray:[4,4],strokeWidth:2,visible:!1},new v.e.Binding("visible","isSelected",(t,e)=>{if(t&&!e.part.isSelected){const t=e.diagram;for(;e&&!e.data;)e=e.panel;t.model.setDataProperty(e.data,"isSelected",!1)}return t&&e.part.isSelected}),new v.e.Binding("width","width",(t,e)=>t-4-("number"==typeof e.part.data.strokeWidth?e.part.data.strokeWidth:1)),new v.e.Binding("height","",(t,e)=>{const n=e.part,i="number"==typeof e.part.data.strokeWidth?e.part.data.strokeWidth:1;return n.data.height-4-i})))),kt=xt(v.e.Node,"Spot",Object(M.d)({resizable:!1,rotatable:!1}),{selectionChanged(t){if(!t.data)return;const e=t.diagram;t.isSelected?t.updateTargetBindings():t.data.items.some(t=>!!t.isSelected&&(e.model.setDataProperty(t,"isSelected",!1),!0)),bt=!0,setTimeout(()=>{bt=!1},50)}},new v.e.Binding("angle"),xt(v.e.Shape,"Rectangle",{name:"SHAPE",fill:null,stroke:null,stretch:v.e.GraphObject.Fill,alignmentFocus:v.e.Spot.Top,alignment:v.e.Spot.Top},new v.e.Binding("margin","strokeWidth",t=>new v.e.Margin(0,0,t,0)),new v.e.Binding("strokeWidth")),xt(v.e.Panel,"Spot",{isPanelMain:!0},xt(v.e.Panel,"Vertical",xt(v.e.Panel,"Spot",{alignmentFocusName:"HEADER",alignment:v.e.Spot.Top},q.a.dbclickEditing(),xt(v.e.Shape,"Rectangle",{name:"HEADER",fill:"#fff"},$.a.fill(),new v.e.Binding("stroke","",t=>t.stroke||O.s),new v.e.Binding("strokeWidth"),new v.e.Binding("strokeDashArray"),new v.e.Binding("height","",t=>t.headerHeight),new v.e.Binding("width","",t=>{let e=0;for(let n=0;n<t.items.length;n+=1)e+=t.items[n].width;return e}))),xt(v.e.Panel,"Horizontal",{name:"FIELDS",itemTemplate:St,alignment:v.e.Spot.Center},new v.e.Binding("width","",t=>{const e="number"==typeof t.strokeWidth?t.strokeWidth:1;let n=0;for(let e=0;e<t.items.length;e+=1)n+=t.items[e].width;return n+e}),new v.e.Binding("height","",t=>{const e="number"==typeof t.strokeWidth?t.strokeWidth:1;return t.height+e}),new v.e.Binding("itemArray","items")))),xt(v.e.Panel,"Spot",{alignment:new v.e.Spot(.5,0,0,2),alignmentFocus:v.e.Spot.Top,alignmentFocusName:"TEXT_PANEL"},new v.e.Binding("alignment","strokeWidth",t=>new v.e.Spot(.5,0,0,"number"==typeof t?t:2)),xt(v.e.Shape,{name:"TEXT_PANEL",isPanelMain:!0,fill:null,stroke:null,strokeWidth:0},new v.e.Binding("width","",t=>{let e=0;for(let n=0;n<t.items.length;n+=1)e+=t.items[n].width;return e}),new v.e.Binding("height","",t=>t.headerHeight-("number"==typeof t.strokeWidth?t.strokeWidth:2))),P.a.makeTextBlock({stretch:v.e.GraphObject.Horizontal,margin:new v.e.Margin(0,0,0,10)}))),Pt=v.e.GraphObject.make,Mt=P.a.makeTextBlock({margin:5}),_t=Pt(v.e.Node,"Spot",Object(M.d)(),Pt(v.e.Panel,"Spot",{name:"WRAP_PANEL"},Pt(v.e.Shape,"Rectangle",{name:"SHAPE",isPanelMain:!0},Object(M.f)())),Pt(v.e.Panel,"Auto",{alignment:v.e.Spot.Center,alignmentFocusName:"TEXT_PANEL"},Pt(v.e.Shape,"Rectangle",{name:"TEXT_PANEL",fill:null,strokeWidth:0},new v.e.Binding("width","width"),new v.e.Binding("height","height")),Pt(v.e.Picture,{alignment:new v.e.Spot(1,0,-5,5),width:16,height:16,source:"/topo-static/images/templates/archi/application-component.svg"}),Mt),Object(M.b)([{figure:"Rectangle"}])),Lt=v.e.GraphObject.make,Tt=P.a.makeTextBlock({},null),Ot=Lt(v.e.Node,"Spot",Object(M.d)(),Lt(v.e.Panel,"Spot",{name:"WRAP_PANEL",alignmentFocusName:"SHAPE"},Lt(v.e.Shape,{name:"SHAPE",isPanelMain:!0},Object(M.f)(),new v.e.Binding("figure")),Lt(v.e.Shape,"UML-OffPageActivityIcon",{fill:null,width:16,height:16,stroke:O.s,maxSize:new v.e.Size(9999,9999),name:"ICON",alignment:new v.e.Spot(0,.5,10,0),alignmentFocus:v.e.Spot.Left},new v.e.Binding("stroke"),new v.e.Binding("strokeWidth")),Object(k.a)()),Object(M.b)([new v.e.Binding("geometry","",(t,e)=>N(t.width,t.height,t.figure,e))]),Lt(v.e.Panel,"Spot",{alignment:v.e.Spot.Center,alignmentFocusName:"TEXT_PANEL"},Lt(v.e.Shape,{name:"TEXT_PANEL",fill:"transparent",strokeWidth:0},new v.e.Binding("figure"),new v.e.Binding("width","width"),new v.e.Binding("height","height")),Tt)),At=v.e.GraphObject.make,Et=P.a.makeTextBlock({},null,!0),Ct=At(v.e.Node,"Spot",Object(M.d)(),At(v.e.Panel,"Spot",{name:"WRAP_PANEL",alignmentFocusName:"SHAPE"},At(v.e.Shape,{name:"SHAPE",isPanelMain:!0},Object(M.f)(),new v.e.Binding("figure")),At(v.e.Shape,"UML-HistoryPseudostateIcon",{fill:null,width:16,height:16,stroke:O.s,maxSize:new v.e.Size(9999,9999),name:"ICON",alignment:v.e.Spot.Center,alignmentFocus:v.e.Spot.Center},new v.e.Binding("width","width",t=>.5*t),new v.e.Binding("height","height",t=>.5*t),new v.e.Binding("stroke"),new v.e.Binding("strokeWidth")),Object(k.a)()),Object(M.b)([new v.e.Binding("geometry","",(t,e)=>N(t.width,t.height,t.figure,e))]),At(v.e.Panel,"Spot",{alignment:v.e.Spot.Center,alignmentFocusName:"TEXT_PANEL"},new v.e.Binding("type","textSpot",t=>t?v.e.Panel.Spot:v.e.Panel.Auto),At(v.e.Shape,{name:"TEXT_PANEL",fill:"transparent",strokeWidth:0},new v.e.Binding("figure"),new v.e.Binding("width","width"),new v.e.Binding("height","height")),Et)),Nt=function(t){t.nodeTemplateMap.add("uml-class",X),t.nodeTemplateMap.add("uml-shape",Z),t.nodeTemplateMap.add("uml-lifeline",tt),t.nodeTemplateMap.add("uml-interface",nt),t.nodeTemplateMap.add("uml-package",at),t.nodeTemplateMap.add("uml-compositeState",wt),t.nodeTemplateMap.add("uml-alternative",yt),t.nodeTemplateMap.add("uml-componentBox",_t),t.nodeTemplateMap.add("uml-optionLoopCondition",mt),t.nodeTemplateMap.add("uml-end",Z),t.nodeTemplateMap.add("uml-emptyGroup",st),t.nodeTemplateMap.add("uml-emptyGroupRect",lt),t.nodeTemplateMap.add("uml-optionLoop",gt),t.nodeTemplateMap.add("uml-SwimLane",kt),t.nodeTemplateMap.add("uml-pageActivity",Ot),t.nodeTemplateMap.add("uml-historyPseudostate",Ct),t.nodeTemplateMap.add("uml-control",Z)},Bt=function(t,e){if("function"==typeof e){["uml-class","uml-shape","uml-lifeline","uml-interface","uml-package"].forEach(n=>{const i=t.nodeTemplateMap.get(n);i&&e(i)})}},jt=(Math.sqrt(2)-1)/3*4,Dt=new v.e.Spot(.156,.156),Ft=new v.e.Spot(.844,.844),Rt=[];function It(t){const e=function(){const t=Rt.pop();return void 0===t?[]:t}(),n=Math.PI;let i=0;for(let a=0;a<t;a++)i=2*Math.PI/t*a+n,e[a]=new v.e.Point(.5+.5*Math.cos(i),.5+.5*Math.sin(i));return e.push(e[0]),e}v.e.Shape.defineFigureGenerator("BPMN-RoundedRectangle",(function(t,e,n){let i=t?t.parameter1:NaN;(isNaN(i)||i<0)&&(i=5),i=Math.min(i,e/3),i=Math.min(i,n/3);const a=i*jt,o=(new v.e.Geometry).add(new v.e.PathFigure(i,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,0)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,i,e-a,0,e,a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,n,e,n-a,e-a,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,n-i,a,n,0,n-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,0,0,a,a,0).close()));return a>1&&(o.spot1=new v.e.Spot(0,0,a,a),o.spot2=new v.e.Spot(1,1,-a,-a)),o})),v.e.Shape.defineFigureGenerator("BPMN-Transaction",(function(t,e,n){let i=t?t.parameter1:NaN;(isNaN(i)||i<0)&&(i=5),i=Math.min(i,e/3),i=Math.min(i,n/3);const a=i*jt,o=(new v.e.Geometry).add(new v.e.PathFigure(i,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,0)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,i,e-a,0,e,a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,n,e,n-a,e-a,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,n-i,a,n,0,n-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,0,0,a,a,0).close())).add(new v.e.PathFigure(i+5,5,!1,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i-5,5)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-5,i+5,e-a-5,5,e-5,a+5)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-5,n-i-5)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i-5,n-5,e-5,n-a-5,e-a-5,n-5)).add(new v.e.PathSegment(v.e.PathSegment.Line,i+5,n-5)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,5,n-i-5,a+5,n-5,5,n-a-5)).add(new v.e.PathSegment(v.e.PathSegment.Line,5,i+5)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i+5,5,5,a+5,a+5,5).close()));return a>1&&(o.spot1=new v.e.Spot(0,0,a,a),o.spot2=new v.e.Spot(1,1,-a,-a)),o})),v.e.Shape.defineFigureGenerator("BPMN-Intermediate",(function(t,e,n){const i=new v.e.Geometry,a=.5*jt;let o=.45;let r=.45*jt;const s=.45*jt;o=.5-(.5*n-.45*n)/e,r=jt*o;const l=new v.e.PathFigure(0*e,.5*n,!0);i.add(l),l.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,0*n,0*e,(.5-a)*n,(.5-a)*e,0*n)),l.add(new v.e.PathSegment(v.e.PathSegment.Bezier,1*e,.5*n,(.5+a)*e,0*n,1*e,(.5-a)*n)),l.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,1*n,1*e,(.5+a)*n,(.5+a)*e,1*n)),l.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0*e,.5*n,(.5-a)*e,1*n,0*e,(.5+a)*n));const c=new v.e.PathFigure((.5-o)*e,.5*n,!1,!1);return i.add(c),c.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,(.5-.45)*n,(.5-o)*e,(.5-s)*n,(.5-r)*e,(.5-.45)*n)),c.add(new v.e.PathSegment(v.e.PathSegment.Bezier,(.5+o)*e,.5*n,(.5+r)*e,(.5-.45)*n,(.5+o)*e,(.5-s)*n)),c.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,.95*n,(.5+o)*e,(.5+s)*n,(.5+r)*e,.95*n)),c.add(new v.e.PathSegment(v.e.PathSegment.Bezier,(.5-o)*e,.5*n,(.5-r)*e,.95*n,(.5-o)*e,(.5+s)*n)),i.spot1=Dt,i.spot2=Ft,i})),v.e.Shape.defineFigureGenerator("BPMN-File",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(0,0,!0);i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.75*e,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,.25*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close());const o=new v.e.PathFigure(.75*e,0,!1,!1);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.75*e,.25*n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,.25*n)),i.spot1=new v.e.Spot(0,.25),i.spot2=v.e.Spot.BottomRight,i})),v.e.Shape.defineFigureGenerator("BPMN-Conversation",(function(t,e,n){const i=It(6),a=new v.e.Geometry,o=new v.e.PathFigure(i[0].x*e,i[0].y*n,!0);a.add(o);for(let t=1;t<6;t++)o.add(new v.e.PathSegment(v.e.PathSegment.Line,i[t].x*e,i[t].y*n));var r;return o.add(new v.e.PathSegment(v.e.PathSegment.Line,i[0].x*e,i[0].y*n).close()),(r=i).length=0,Rt.push(r),a.spot1=new v.e.Spot(.07,.25),a.spot2=new v.e.Spot(.93,.75),a})),v.e.Shape.defineFigureGenerator("BPMN-TextAnnotation",(function(t,e,n){let i=t?t.parameter1:NaN;(isNaN(i)||i<0)&&(i=5),i=Math.min(i,e/3),i=Math.min(i,n/3);const a=i*jt,o=(new v.e.Geometry).add(new v.e.PathFigure(.1*e,0,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,i,0)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,i,a,0,0,a)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,n,0,n-a,a,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.1*e,n)));return a>1&&(o.spot1=new v.e.Spot(0,0,0,0),o.spot2=new v.e.Spot(1,1,0,0)),o})),v.e.Shape.defineFigureGenerator("BPMN-DataStore",(function(t,e,n){const i=new v.e.Geometry,a=.5*jt,o=.1*jt,r=new v.e.PathFigure(e,.1*n,!0);i.add(r),r.add(new v.e.PathSegment(v.e.PathSegment.Line,e,.9*n)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,n,e,(.9+o)*n,(.5+a)*e,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.9*n,(.5-a)*e,n,0,(.9+o)*n)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.1*n)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,0,0,(.1-o)*n,(.5-a)*e,0)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.1*n,(.5+a)*e,0,e,(.1-o)*n));const s=new v.e.PathFigure(e,.1*n,!1,!1);return i.add(s),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,.2*n,e,(.1+o)*n,(.5+a)*e,.2*n)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.1*n,(.5-a)*e,.2*n,0,(.1+o)*n)),s.add(new v.e.PathSegment(v.e.PathSegment.Move,e,.2*n)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,.3*n,e,(.2+o)*n,(.5+a)*e,.3*n)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.2*n,(.5-a)*e,.3*n,0,(.2+o)*n)),s.add(new v.e.PathSegment(v.e.PathSegment.Move,e,.3*n)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,.4*n,e,(.3+o)*n,(.5+a)*e,.4*n)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.3*n,(.5-a)*e,.4*n,0,(.3+o)*n)),i.spot1=new v.e.Spot(0,.4),i.spot2=new v.e.Spot(1,.9),i}));const zt=v.e.GraphObject.make;let Ht;const Vt={};const Gt=zt(v.e.Panel,"Spot",{alignmentFocusName:"SHAPE",click(t,e){if(Ht)return void(Ht=!1);const n=t.diagram;if(e.part.isSelected&&!e.data.isSelected){const t=n.skipsUndoManager;n.skipsUndoManager=!0,n.startTransaction("Selected Item"),e.part.data.items.some(t=>!!t.isSelected&&(n.model.setDataProperty(t,"isSelected",!1),!0)),n.model.setDataProperty(e.data,"isSelected",!0),n.commitTransaction("Selected Item"),n.skipsUndoManager=t}}},new v.e.Binding("alignment","",(t,e)=>{const n=e.part,i=n.data.items.findIndex(e=>e===t),a="number"==typeof n.data.strokeWidth?n.data.strokeWidth:1,o=a*i;return new v.e.Spot(0,0,-o,-a)}),zt(v.e.Panel,"Spot",{alignmentFocusName:"SHAPE"},zt(v.e.Shape,{fill:"transparent",name:"SHAPE"},new v.e.Binding("fill"),new v.e.Binding("width","",(t,e)=>t.width),new v.e.Binding("height","",(t,e)=>{const n=e.part,i=e.panel.findObject("TEXT");return t.label===i.text&&(!function(t){const e=t.part.key,n=Vt[e];return Vt[e]=!0,n}(i)&&i.angle&&n.ensureBounds(),n.data.orientation||n.data.textOrientation?n.data.orientation&&n.data.textOrientation?t.emptyHeight=n.data.height-i.naturalBounds.width-20:t.emptyHeight=n.data.height-i.naturalBounds.height-20:t.emptyHeight=n.data.height-i.naturalBounds.width-20),n.data.height}),new v.e.Binding("stroke","",(t,e)=>e.part.data.stroke||O.s),new v.e.Binding("strokeWidth","",(t,e)=>"number"==typeof e.part.data.strokeWidth?e.part.data.strokeWidth:1),new v.e.Binding("strokeDashArray","",(t,e)=>e.part.data.strokeDashArray||null)),zt(v.e.Panel,"Spot",{name:"EMPTY",stretch:v.e.GraphObject.Vertical,cursor:"default",background:"transparent"},new v.e.Binding("width","width",(t,e)=>t-("number"==typeof e.part.data.strokeWidth?e.part.data.strokeWidth:1)),new v.e.Binding("margin","",(t,e)=>new v.e.Margin("number"==typeof e.part.data.strokeWidth?e.part.data.strokeWidth:1,0,"number"==typeof e.part.data.strokeWidth?e.part.data.strokeWidth:1,0)),zt(v.e.Panel,"Auto",{stretch:v.e.GraphObject.Horizontal,cursor:"move",background:"transparent",doubleClick(t,e){const n=t.diagram,i=e.part;i.isSelected=!0,n.raiseDiagramEvent("changedSelection",(new v.e.List).add(i));let a=e.panel;for(;!a.data;)a=a.panel;n.model.setDataProperty(a.data,"isSelected",!0),q.a.dbclickEditing("TEXT").doubleClick(t,e.panel)}},new v.e.Binding("angle","",(t,e)=>{const n=e.part;return n.data.orientation||n.data.textOrientation?n.data.orientation&&n.data.textOrientation?90:0:90}).ofObject("TEXT"),zt(v.e.Shape,{fill:null,stroke:null,stretch:v.e.GraphObject.Fill}),P.a.makeTextBlock({margin:0,stretch:v.e.GraphObject.Horizontal},[new v.e.Binding("margin","",(t,e)=>{const n=e.part,i=t.textAlign||"Center";let a=0;switch(!0){case/Top/.test(i):a=0;break;case/Bottom/.test(i):a=20;break;default:a=10}if(!n.data.orientation&&!n.data.textOrientation||n.data.orientation&&n.data.textOrientation){switch(!0){case/Left/.test(i):a=0;break;case/Right/.test(i):a=20;break;default:a=10}return new v.e.Margin(0,0,0,a)}return new v.e.Margin(a,0,0,0)})]))),zt(v.e.Shape,{fill:"transparent",stroke:O.a,strokeDashArray:[4,4],strokeWidth:2,visible:!1,doubleClick:(t,e)=>{q.a.dbclickEditing("TEXT").doubleClick(t,e.panel)}},new v.e.Binding("visible","isSelected",(t,e)=>{if(t&&!e.part.isSelected){const t=e.diagram;for(;e&&!e.data;)e=e.panel;t.model.setDataProperty(e.data,"isSelected",!1)}return t&&e.part.isSelected}),new v.e.Binding("width","width",(t,e)=>t-4-("number"==typeof e.part.data.strokeWidth?e.part.data.strokeWidth:1)),new v.e.Binding("height","",(t,e)=>{const n=e.part,i="number"==typeof e.part.data.strokeWidth?e.part.data.strokeWidth:1;return n.data.height-4-i})))),Ut=zt(v.e.Node,"Spot",Object(M.d)({resizable:!1,rotatable:!1}),new v.e.Binding("angle"),{selectionChanged(t){if(!t.data)return;const e=t.diagram;t.isSelected?t.updateTargetBindings():t.data.items.some(t=>!!t.isSelected&&(e.model.setDataProperty(t,"isSelected",!1),!0)),Ht=!0,setTimeout(()=>{Ht=!1},50)}},zt(v.e.Shape,"Rectangle",{name:"SHAPE",fill:null,stroke:null,stretch:v.e.GraphObject.Fill,alignmentFocus:v.e.Spot.Top,alignment:v.e.Spot.Top},new v.e.Binding("margin","strokeWidth",t=>new v.e.Margin(0,0,t,0)),new v.e.Binding("strokeWidth")),zt(v.e.Panel,"Spot",{isPanelMain:!0},zt(v.e.Panel,"Vertical",zt(v.e.Panel,"Spot",{alignmentFocusName:"HEADER",alignment:v.e.Spot.Top},q.a.dbclickEditing(),zt(v.e.Shape,{name:"HEADER",fill:"#fff"},$.a.fill(),new v.e.Binding("stroke","",t=>t.stroke||O.s),new v.e.Binding("strokeWidth"),new v.e.Binding("strokeDashArray"),new v.e.Binding("height","",t=>t.headerHeight),new v.e.Binding("width","",t=>{let e=0;for(let n=0;n<t.items.length;n+=1)e+=t.items[n].width;return e}))),zt(v.e.Panel,"Horizontal",{name:"FIELDS",itemTemplate:Gt,alignment:v.e.Spot.Center},new v.e.Binding("width","",t=>{const e="number"==typeof t.strokeWidth?t.strokeWidth:1;let n=0;for(let e=0;e<t.items.length;e+=1)n+=t.items[e].width;return n+e}),new v.e.Binding("height","",t=>{const e="number"==typeof t.strokeWidth?t.strokeWidth:1;return t.height+e}),new v.e.Binding("itemArray","items")))),zt(v.e.Panel,"Spot",{alignment:new v.e.Spot(.5,0,0,2),alignmentFocus:v.e.Spot.Top,alignmentFocusName:"TEXT_SHAPE"},new v.e.Binding("alignment","strokeWidth",t=>new v.e.Spot(.5,0,0,"number"==typeof t?t:2)),zt(v.e.Shape,{name:"TEXT_SHAPE",isPanelMain:!0,fill:null,stroke:null,strokeWidth:0},new v.e.Binding("width","",t=>{const e="number"==typeof t.strokeWidth?t.strokeWidth:2;let n=0;for(let e=0;e<t.items.length;e+=1)n+=t.items[e].width;return n+e}),new v.e.Binding("height","",t=>t.headerHeight-("number"==typeof t.strokeWidth?t.strokeWidth:2))),P.a.makeTextBlock({stretch:v.e.GraphObject.Horizontal}))),Wt=zt(v.e.Node,"Spot",Object(M.d)({rotatable:!1}),new v.e.Binding("angle"),zt(v.e.Panel,"Spot",{name:"WRAP_PANEL"},zt(v.e.Shape,{name:"SHAPE",isPanelMain:!0},Object(M.f)(),new v.e.Binding("figure","shapeName",t=>"RoundedRectangle"),new v.e.Binding("parameter1","parameter1")),Object(k.a)()),Object(M.b)([new v.e.Binding("geometry","",(t,e)=>N(t.width,t.height,(t.shapeName,"RoundedRectangle"),e))],!0),zt(v.e.Panel,"Auto",{alignment:v.e.Spot.Center,alignmentFocusName:"TEXT_PANEL"},new v.e.Binding("type","textSpot",t=>t?v.e.Panel.Spot:v.e.Panel.Auto),zt(v.e.Shape,{name:"TEXT_PANEL",fill:null,strokeWidth:0},new v.e.Binding("figure","shapeName",t=>"RoundedRectangle"),new v.e.Binding("width","width"),new v.e.Binding("height","height")),P.a.makeTextBlock({},null,!0)));const qt=v.e.GraphObject.make,Yt=P.a.makeTextBlock({name:"TEXT0"},{text:"bottom",fontFamily:"bottomFontFamily",fontSize:"bottomFontSize",fontWeight:"bottomFontWeight",fontStyle:"bottomFontStyle",isUnderline:"bottomUnderline",stroke:"bottomFontColor",textAlign:"bottomTextAlign"},!0),Xt=qt(v.e.Node,"Spot",Object(M.d)(),{doubleClick:(t,e)=>{const n=e.part;if(n){const t=n.diagram;if(!t||t.isReadOnly||n.data.lock)return;for(;e instanceof v.e.Shape;)e=e.panel;let i=e.findObject("TEXT");const a=t.lastInput.documentPoint,o=e.getDocumentPoint(v.e.Spot.Center);if((Math.max(a.x,o.x)-Math.min(a.x,o.x)>.5*e.actualBounds.width*.5||Math.max(a.y,o.y)-Math.min(a.y,o.y)>.5*e.actualBounds.height*.5)&&(i=e.findObject("TEXT0")),i&&i instanceof v.e.TextBlock&&(i.editable||i.defaultEditable)&&"TextEditing"!==t.currentTool.name){const e=t.toolManager.textEditingTool;e.textBlock=i,t.currentTool=e,e.doActivate()}}}},qt(v.e.Panel,"Spot",{name:"WRAP_PANEL"},qt(v.e.Shape,{name:"SHAPE",isPanelMain:!0},Object(M.f)(),new v.e.Binding("figure","shapeName",t=>"BPMN-File")),Object(k.a)()),Object(M.b)([new v.e.Binding("geometry","",(t,e)=>N(t.width,t.height,(t.shapeName,"BPMN-File"),e))]),qt(v.e.Panel,"Spot",{alignment:v.e.Spot.Center,alignmentFocusName:"SHAPE_ICONS"},qt(v.e.Shape,{name:"SHAPE_ICONS",fill:null,strokeWidth:0},new v.e.Binding("figure","shapeName",t=>"BPMN-File"),new v.e.Binding("width","width"),new v.e.Binding("height","height")),qt(v.e.Picture,{name:"Data Type",imageStretch:v.e.GraphObject.Uniform,alignment:v.e.Spot.Center,alignmentFocus:v.e.Spot.Center,visible:!1},new v.e.Binding("imageStretch","",t=>"Collection"===t.dataType?v.e.GraphObject.Uniform:v.e.GraphObject.Fill),new v.e.Binding("alignment","",t=>"Collection"===t.dataType?v.e.Spot.Bottom:v.e.Spot.TopLeft),new v.e.Binding("alignmentFocus","",t=>"Collection"===t.dataType?v.e.Spot.Bottom:v.e.Spot.TopLeft),new v.e.Binding("width","",t=>"Collection"===t.dataType?40:.75*t.width),new v.e.Binding("height","",t=>"Collection"===t.dataType?40:.3*t.height),new v.e.Binding("visible","",t=>!!Kt(t.dataType)),new v.e.Binding("source","",t=>Kt(t.dataType)))),qt(v.e.Panel,"Spot",{alignmentFocusName:"TEXT_PANEL"},qt(v.e.Shape,{name:"TEXT_PANEL",fill:null,strokeWidth:0},new v.e.Binding("figure","shapeName",t=>"BPMN-File"),new v.e.Binding("width","width"),new v.e.Binding("height","height")),P.a.makeTextBlock()),qt(v.e.Panel,"Spot",{alignment:v.e.Spot.Bottom,alignmentFocusName:"TEXT_BOTTOM_PANEL",alignmentFocus:v.e.Spot.Top},qt(v.e.Shape,{alignmentFocus:v.e.Spot.Top,name:"TEXT_BOTTOM_PANEL",fill:null,strokeWidth:0,height:30},new v.e.Binding("width","width")),Yt));function Kt(t){let e="/topo-static/images/templates/transparent.png";switch(t){case"Collection":e="/topo-static/images/templates/bpmn/shapeIcon/collection.svg";break;case"Input":e="/topo-static/images/templates/bpmn/shapeIcon/input.svg";break;case"Output":e="/topo-static/images/templates/bpmn/shapeIcon/output.svg"}return e}const Zt=v.e.GraphObject.make,$t=new WeakMap;const Jt=P.a.makeTextBlock({},null,!0);Jt.bind(new v.e.Binding("maxSize","",t=>{if(t.textSpot)return new v.e.Size(NaN,NaN);const e=v.e.Shape.getFigureGenerators().get((t.shapeName,"RoundedRectangle"))("",t.width,t.height),n=t.width*e.spot2.x+e.spot2.offsetX-(t.width*e.spot1.x+e.spot1.offsetX);return new v.e.Size(n-5,NaN)})),Jt.bind(new v.e.Binding("alignmentFocus","textAlign",(t,e)=>{const n=e.part,i=v.e.Spot[t]||v.e.Spot.Center;if(n.data.textSpot){const t=5,e=i.x<.5?t:i.x>.5?-t:0,n=i.y<.5?t:i.y>.5?-t:0;return new v.e.Spot(Math.abs(i.x-1),Math.abs(i.y-1),e,n)}return i}));const Qt=Zt(v.e.Node,"Spot",Object(M.d)({rotatable:!1}),Zt(v.e.Panel,"Spot",{name:"WRAP_PANEL"},Zt(v.e.Shape,{name:"SHAPE",isPanelMain:!0,strokeDashArray:[30,18,3,18]},Object(M.f)(),new v.e.Binding("figure","shapeName",t=>"RoundedRectangle"),new v.e.Binding("strokeDashArray","strokeDashArray",t=>[30,18,3,18])),Object(k.a)()),Object(M.b)([new v.e.Binding("geometry","",(t,e)=>N(t.width,t.height,(t.shapeName,"RoundedRectangle"),e))],!0),Zt(v.e.Panel,"Auto",{alignment:v.e.Spot.Center,alignmentFocusName:"TEXT_PANEL"},new v.e.Binding("type","textSpot",t=>t?v.e.Panel.Spot:v.e.Panel.Auto),Zt(v.e.Shape,{name:"TEXT_PANEL",fill:null,strokeWidth:0},new v.e.Binding("figure","shapeName",t=>"RoundedRectangle"),new v.e.Binding("width","width"),new v.e.Binding("height","height")),Zt(v.e.Panel,"Vertical",Jt,Zt(v.e.Shape,{name:"EMPTY"},Object(M.a)(),new v.e.Binding("width","width",(t,e)=>t-20/e.part.diagram.scale),new v.e.Binding("height","",(t,e)=>{const n=e.part,i=n.diagram,a=e.panel.findObject("TEXT");return function(t){const e=$t.get(t);return $t.set(t,!0),e}(a)||n.ensureBounds(),n.data.height-a.naturalBounds.height-20/i.scale})))));var te=n(62);const ee=v.e.GraphObject.make;function ne(t){let e="/topo-static/images/templates/transparent.png";return t&&(e="/topo-static/images/templates/bpmn/shapeIcon/sub-process.svg"),e}const ie=v.e.GraphObject.make;function ae(t,e){let n="/topo-static/images/templates/transparent.png";const i=e.throwing,a=e.shapeName;switch(t){case"Message":n="/topo-static/images/templates/bpmn/shapeIcon/message.svg","Intermediate"===a&&i&&(n="/topo-static/images/templates/bpmn/shapeIcon/message-off.svg");break;case"Timer":n="/topo-static/images/templates/bpmn/shapeIcon/timer.svg";break;case"Escalation":n="/topo-static/images/templates/bpmn/shapeIcon/escalation.svg","Intermediate"===a&&i&&(n="/topo-static/images/templates/bpmn/shapeIcon/escalation-off.svg");break;case"Conditional":n="/topo-static/images/templates/bpmn/shapeIcon/conditional.svg";break;case"Link":n="/topo-static/images/templates/bpmn/shapeIcon/link.svg","Intermediate"===a&&i&&(n="/topo-static/images/templates/bpmn/shapeIcon/link-off.svg");break;case"Error":n="/topo-static/images/templates/bpmn/shapeIcon/error.svg","Intermediate"===a&&i&&(n="/topo-static/images/templates/bpmn/shapeIcon/error-off.svg");break;case"Cancel":n="/topo-static/images/templates/bpmn/shapeIcon/cancel.svg","Intermediate"===a&&i&&(n="/topo-static/images/templates/bpmn/shapeIcon/cancel-off.svg");break;case"Compensation":n="/topo-static/images/templates/bpmn/shapeIcon/compensation.svg","Intermediate"===a&&i&&(n="/topo-static/images/templates/bpmn/shapeIcon/compensation-off.svg");break;case"Signal":n="/topo-static/images/templates/bpmn/shapeIcon/signal.svg","Intermediate"===a&&i&&(n="/topo-static/images/templates/bpmn/shapeIcon/signal-off.svg");break;case"Multiple":n="/topo-static/images/templates/bpmn/shapeIcon/multiple.svg","Intermediate"===a&&i&&(n="/topo-static/images/templates/bpmn/shapeIcon/multiple-off.svg");break;case"Parallel Multiple":n="/topo-static/images/templates/bpmn/shapeIcon/parallel-multiple.svg";break;case"Terminate":n="/topo-static/images/templates/bpmn/shapeIcon/terminate.svg"}return n}const oe=v.e.GraphObject.make;function re(t){let e="/topo-static/images/templates/transparent.png";switch(t){case"Exclusive":e="/topo-static/images/templates/bpmn/shapeIcon/exclusive.svg";break;case"Event Based":e="/topo-static/images/templates/bpmn/shapeIcon/event-based.svg";break;case"Parallel":e="/topo-static/images/templates/bpmn/shapeIcon/parallel.svg";break;case"Inclusive":e="/topo-static/images/templates/bpmn/shapeIcon/inclusive.svg";break;case"Exclusive Event Based":e="/topo-static/images/templates/bpmn/shapeIcon/exclusive-event-based.svg";break;case"Complex":e="/topo-static/images/templates/bpmn/shapeIcon/complex.svg";break;case"Parallel Event Based":e="/topo-static/images/templates/bpmn/shapeIcon/parallel-event-based.svg"}return e}const se=["BPMN-Rectangle","BPMN-Conversation","BPMN-Gateway","BPMN-Ellipse"],le=v.e.GraphObject.make,ce=le(v.e.Node,"Spot",Object(M.d)(),le(v.e.Panel,"Spot",{name:"WRAP_PANEL"},le(v.e.Shape,{name:"PORT_SHAPE",stroke:null},new v.e.Binding("visible","shapeName",t=>"Text Annotation"===t),$.a.fill(),new v.e.Binding("geometry","",(t,e)=>N(t.width,t.height,he(t.shapeName),e)),new v.e.Binding("strokeWidth","strokeWidth",t=>Number(t)||1),new v.e.Binding("width"),new v.e.Binding("height")),le(v.e.Shape,{name:"SHAPE",isPanelMain:!0},Object(M.f)(),new v.e.Binding("figure","shapeName",t=>he(t)),new v.e.Binding("strokeWidth","",t=>{const e="number"==typeof t.strokeWidth?t.strokeWidth:1;return"Call Activity"===t.shapeName||t.call?e+2:"End"===t.shapeName?e+4:e}),new v.e.Binding("strokeDashArray","",t=>"Event Sub-Process"===t.shapeName?[4,8]:"BPMN-Ellipse"===t.category&&t.interrupting&&"End"!==t.shapeName?[12,8]:t.strokeDashArray||null),new v.e.Binding("parameter1")),Object(k.a)()),Object(M.b)([new v.e.Binding("figure","shapeName",t=>he(t)),new v.e.Binding("geometry","",(t,e)=>"BPMN-TextAnnotation"===t.figure?N(t.width,t.height,he(t.shapeName),e):null)]),le(v.e.Panel,"Spot",{alignment:v.e.Spot.Center,alignmentFocusName:"SHAPE_ICONS",visible:!1},new v.e.Binding("visible","category",t=>se.includes(t)),le(v.e.Shape,{name:"SHAPE_ICONS",fill:null,strokeWidth:0},new v.e.Binding("figure","shapeName",t=>he(t)),new v.e.Binding("width","width"),new v.e.Binding("height","height")),ee(v.e.Picture,{name:"SubConversation",imageStretch:v.e.GraphObject.Uniform,alignmentFocus:v.e.Spot.Bottom,width:20,height:20,visible:!1},new v.e.Binding("alignment","",t=>new v.e.Spot(.5,1,0,.06698729810778076*t.height*-1-5)),new v.e.Binding("visible","",t=>"BPMN-Conversation"===t.category&&!!ne(t.subConversation)),new v.e.Binding("source","",t=>ne(t.subConversation))),Object(te.b)(),oe(v.e.Picture,{name:"GatewayType",imageStretch:v.e.GraphObject.Uniform,alignment:v.e.Spot.Center,alignmentFocus:v.e.Spot.Center,visible:!1},new v.e.Binding("width","width",t=>.65*t),new v.e.Binding("height","height",t=>.65*t),new v.e.Binding("visible","",t=>"BPMN-Gateway"===t.category&&!!re(t.gatewayType)),new v.e.Binding("source","",t=>re(t.gatewayType))),ie(v.e.Picture,{name:"EventType",imageStretch:v.e.GraphObject.Uniform,alignment:v.e.Spot.Center,alignmentFocus:v.e.Spot.Center,visible:!1},new v.e.Binding("width","width",t=>{const e=(1-1/Math.SQRT2)/2;return(e+1/Math.SQRT2)*t-e*t*.25-(e*t+e*t*.25)}),new v.e.Binding("height","height",t=>{const e=(1-1/Math.SQRT2)/2;return(e+1/Math.SQRT2)*t-e*t*.25-(e*t+e*t*.25)}),new v.e.Binding("visible","",t=>"BPMN-Ellipse"===t.category&&!!ae(t.eventType,t)),new v.e.Binding("source","",t=>ae(t.eventType,t)))),le(v.e.Panel,"Spot",{alignment:v.e.Spot.Center,alignmentFocusName:"TEXT_PANEL"},le(v.e.Shape,{name:"TEXT_PANEL",fill:"transparent",strokeWidth:0},new v.e.Binding("figure","shapeName",t=>he(t)),new v.e.Binding("width","width"),new v.e.Binding("height","height")),P.a.makeTextBlock()));function he(t){let e="";switch(t){case"Data Store":e="BPMN-DataStore";break;case"Text Annotation":e="BPMN-TextAnnotation";break;case"Task":case"Event Sub-Process":case"Call Activity":e="BPMN-RoundedRectangle";break;case"Transaction":e="BPMN-Transaction";break;case"Conversation":e="BPMN-Conversation";break;case"Gateway":e="Diamond";break;case"Start":case"End":e="Ellipse";break;case"Intermediate":e="BPMN-Intermediate"}return e}const de=function(t){t.nodeTemplateMap.add("BPMN-Rectangle",ce),t.nodeTemplateMap.add("BPMN-Gateway",ce),t.nodeTemplateMap.add("BPMN-Ellipse",ce),t.nodeTemplateMap.add("BPMN-SwimLane",Ut),t.nodeTemplateMap.add("BPMN-File",Xt),t.nodeTemplateMap.add("BPMN-Conversation",ce),t.nodeTemplateMap.add("BPMN-poolBlackBox",Wt),t.nodeTemplateMap.add("BPMN-group",Qt),t.nodeTemplateMap.add("BPMN-shape",ce)},ue=function(t,e){if("function"==typeof e){[].forEach(n=>{const i=t.nodeTemplateMap.get(n);i&&e(i)})}};var fe=n(35);const pe=v.e.GraphObject.make;const ge=function(t,e){t.nodeTemplateMap.add("Standard-stickynote",function(t){const e=Object(S.a)(),n=e.findObject("SHAPE");return n.shadowVisible=!0,n.bind(new v.e.Binding("fill","",t=>{const e=t.fill||O.t;return Object(w.a)({color:e,width:t.width,height:t.height})})),n.bind(new v.e.Binding("strokeWidth","",e=>"other-shape-image"===t.div.id?0:e.strokeWidth)),e.findObject("TEXT").margin=new v.e.Margin(0,0,0,0),e}(t)),t.nodeTemplateMap.add("Standard-hotspot",Object(fe.a)(t)),t.nodeTemplateMap.add("slides-container",function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return pe(v.e.Node,"auto",{name:"SLIDES_CONTAINER",layerName:"Foreground"},{selectionChanged(t){const e=t.diagram;if(!t.data)return;const n=e.skipsUndoManager;e.skipsUndoManager=!0;t.data.fill=t.isSelected?O.j:"transparent",t.updateTargetBindings("fill"),e.skipsUndoManager=n}},Object(M.d)({rotatable:!1}),new v.e.Binding("visible","slidesVisible"),pe(v.e.Panel,"Horizontal",{isPanelMain:!0,name:"SLIDES_PANEL"},pe(v.e.TextBlock,{name:"TEXT",alignment:new v.e.Spot(0,0,-1,5)},new v.e.Binding("text","order",t=>t),new v.e.Binding("visible","",t=>!e)),pe(v.e.Panel,"Spot",pe(v.e.Shape,{name:"SHAPE",cursor:"move",stroke:O.k,strokeWidth:2},Object(M.f)(),new v.e.Binding("fill","fill",t=>t),new v.e.Binding("figure"),new v.e.Binding("parameter1")),pe(v.e.Shape,{name:"EMPTY",cursor:"auto"},Object(M.a)(),new v.e.Binding("visible","fill",t=>"transparent"===t),new v.e.Binding("figure"),new v.e.Binding("parameter1"),new v.e.Binding("width","width",(t,e)=>t-30),new v.e.Binding("height","height",(t,e)=>t-30)))))}(t,e))};function me(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=1/0),this._name=t,this._defaultValue=e,this._minimum=n,this._maximum=i}Object.defineProperty(me.prototype,"name",{get:function(){return this._name},set:function(t){if("string"!=typeof t||""===t)throw new Error("Shape name must be a valid string.");this._name=t}}),Object.defineProperty(me.prototype,"defaultValue",{get:function(){return this._defaultValue},set:function(t){if("number"!=typeof t||isNaN(t))throw new Error("The default value must be a real number, not: "+t);this._defaultValue=t}}),Object.defineProperty(me.prototype,"minimum",{get:function(){return this._minimum},set:function(t){if("number"!=typeof t||isNaN(t))throw new Error("Minimum must be a real number, not: "+t);this._minimum=t}}),Object.defineProperty(me.prototype,"maximum",{get:function(){return this._maximum},set:function(t){if("number"!=typeof t||isNaN(t))throw new Error("Maximum must be a real number, not: "+t);this._maximum=t}}),v.e.Shape._FigureParameters={},v.e.Shape.getFigureParameter=function(t,e){const n=v.e.Shape._FigureParameters[t];return n?n[e]:null},v.e.Shape.setFigureParameter=function(t,e,n){if(!(n instanceof me))throw new Error("Third argument to Shape.setFigureParameter is not FigureParameter: "+n);if(n.defaultValue<n.minimum||n.defaultValue>n.maximum)throw new Error("defaultValue must be between minimum and maximum, not: "+n.defaultValue);let i=v.e.Shape._FigureParameters[t];i||(i=[],v.e.Shape._FigureParameters[t]=i),i[e]=n};const ye=(Math.sqrt(2)-1)/3*4;v.e.Shape.defineFigureGenerator("FlowRoundedRectangle",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(.25*e,0,!0);return i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.75*e,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Arc,270,180,.75*e,.5*n,.25*e,.5*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.25*e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Arc,90,180,.25*e,.5*n,.25*e,.5*n)),i.spot1=new v.e.Spot(.25,0),i.spot2=new v.e.Spot(.75,1),i})),v.e.Shape.defineFigureGenerator("flowchart-Predifined-Process",(function(t,e,n){const i=new v.e.Geometry;let a=t?t.parameter1:NaN;isNaN(a)&&(a=.1);const o=new v.e.PathFigure(0,0,!0);i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close());const r=new v.e.PathFigure((1-a)*e,0,!1,!1);return i.add(r),r.add(new v.e.PathSegment(v.e.PathSegment.Line,(1-a)*e,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Move,a*e,0)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,a*e,n)),i})),v.e.Shape.defineFigureGenerator("Preparation",(function(t,e,n){return(new v.e.Geometry).add(new v.e.PathFigure(.25*e,0).add(new v.e.PathSegment(v.e.PathSegment.Line,.75*e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.75*e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.25*e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.25*e,0).close()))})),v.e.Shape.defineFigureGenerator("TriangleDown",(function(t,e,n){let i=t?t.parameter1:NaN;(isNaN(i)||i<0)&&(i=0),i=Math.min(i,.5*e),i=Math.min(i,.5*Math.sqrt(.5*e*(.5*e)+n*n));const a=Math.atan(.5*e/n),o=180*a/Math.PI,r=(90-o)/2*Math.PI/180,s=i*Math.tan(a),l=i*Math.tan(r),c=new v.e.Geometry;return i>1?c.add(new v.e.PathFigure(i,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Arc,-90,-(o+90),i,i*Math.tan(r),l,l)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e-i*Math.sin(a),n-i*Math.cos(a))).add(new v.e.PathSegment(v.e.PathSegment.Arc,-(o+180),-(180-2*o),.5*e,n-i/Math.cos(a),s,s)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i*Math.sin(a),i*Math.cos(a))).add(new v.e.PathSegment(v.e.PathSegment.Arc,-(360-o),-(o+90),e-i,i*Math.tan(r),l,l).close())).setSpots(.25,0,.75,.5):c.add(new v.e.PathFigure(i,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e-i*Math.sin(a),n-i*Math.cos(a))).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i*Math.sin(a),i*Math.cos(a)).close())).setSpots(.25,0,.75,.5),c})),v.e.Shape.defineFigureGenerator("flowchart-Cylinder1",(function(t,e,n){let i=t?t.parameter1:NaN;isNaN(i)&&(i=5),i=Math.min(i,n/3);const a=new v.e.Geometry,o=.5*ye,r=new v.e.PathFigure(0,.1*n,!0);a.add(r),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,0,0,0,.5*e-o,0)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.1*n,.5*e+o,0,e,0)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,e,.9*n)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,n,e,n,.5*e+o,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.9*n,.5*e-o,n,0,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.1*n));const s=new v.e.PathFigure(e,.1*n,!1,!1);return a.add(s),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,.2*n,e,.2*n,.5*e+o,.2*n)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.1*n,.5*e-o,.2*n,0,.2*n)),a})),v.e.Shape.defineFigureGenerator("flowchart-Cylinder4",(function(t,e,n){let i=t?t.parameter1:NaN;isNaN(i)&&(i=5),i=Math.min(i,e/3);const a=new v.e.Geometry,o=.5*ye,r=new v.e.PathFigure(.9*e,0,!0);a.add(r),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.5*n,e,0,e,n/2-o)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.9*e,n,e,n/2-o,e,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,.1*e,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.5*n,0,n,0,n/2+o)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.1*e,0,0,n/2-o,0,0)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,.9*e,0));const s=new v.e.PathFigure(.9*e,0,!1,!1);return a.add(s),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.8*e,.5*n,.8*e,0,.8*e,n/2-o)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.9*e,n,.8*e,n/2+o,.8*e,n)),a})),v.e.Shape.defineFigureGenerator("DataStorage",(function(t,e,n){const i=5*ye,a=new v.e.Geometry,o=new v.e.PathFigure(.15*e,0,!0);return a.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,1)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.85*e,.5*n,.85*e,0,.85*e,n/2-i)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,n-1,.85*e,n/2+i,.85*e,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n,.85*e,n/2+i,.85*e,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.15*e,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.5*n,0,n,0,n/2+i)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.15*e,0,0,n/2-i,0,0).close()),a.spot1=new v.e.Spot(.226,0),a.spot2=new v.e.Spot(.81,1),a})),v.e.Shape.defineFigureGenerator("Display",(function(t,e,n){const i=5*ye,a=new v.e.Geometry,o=new v.e.PathFigure(.25*e,0,!0);return a.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.85*e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,n/2,e,0,e,n/2-i)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.85*e,n,e,n/2+i,e,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.25*e,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n).close()),a.spot1=new v.e.Spot(.25,0),a.spot2=new v.e.Spot(.75,1),a})),v.e.Shape.defineFigureGenerator("Document",(function(t,e,n){const i=new v.e.Geometry;n/=.8;const a=new v.e.PathFigure(0,.7*n,!0);return i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,.7*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.7*n,.5*e,.4*n,.5*e,n).close()),i.spot1=v.e.Spot.TopLeft,i.spot2=new v.e.Spot(1,.6),i})),v.e.Shape.defineFigureGenerator("flowchart-InternalStorage",(function(t,e,n){const i=new v.e.Geometry;let a=t?t.parameter1:NaN,o=t?t.parameter2:NaN;isNaN(a)&&(a=.1),isNaN(o)&&(o=.1);const r=new v.e.PathFigure(0,0,!0);i.add(r),r.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close());const s=new v.e.PathFigure(a*e,0,!1,!1);return i.add(s),s.add(new v.e.PathSegment(v.e.PathSegment.Line,a*e,n)),s.add(new v.e.PathSegment(v.e.PathSegment.Move,0,o*n)),s.add(new v.e.PathSegment(v.e.PathSegment.Line,e,o*n)),i})),v.e.Shape.defineFigureGenerator("flowchart-Junction",(function(t,e,n){const i=new v.e.Geometry,a=1/Math.SQRT2,o=(1-1/Math.SQRT2)/2,r=.5*ye,s=new v.e.PathFigure(e,.5*n,!0);i.add(s),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,n,e,(.5+r)*n,(.5+r)*e,n)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.5*n,(.5-r)*e,n,0,(.5+r)*n)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,0,0,(.5-r)*n,(.5-r)*e,0)),s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.5*n,(.5+r)*e,0,e,(.5-r)*n));const l=new v.e.PathFigure((o+a)*e,(o+a)*n,!1,!1);return i.add(l),l.add(new v.e.PathSegment(v.e.PathSegment.Line,o*e,o*n)),l.add(new v.e.PathSegment(v.e.PathSegment.Move,o*e,(o+a)*n)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,(o+a)*e,o*n)),i})),v.e.Shape.defineFigureGenerator("ManualInput",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(e,0,!0);return i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.25*n).close()),i.spot1=new v.e.Spot(0,.25),i.spot2=v.e.Spot.BottomRight,i})),v.e.Shape.defineFigureGenerator("flowchart-MultiDocument",(function(t,e,n){n/=.8;const i=new v.e.Geometry,a=new v.e.PathFigure(e,0,!0);i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.94*e,.44*n,.98*e,.47*n,.96*e,.45*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.94*e,.6*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.88*e,.54*n,.92*e,.57*n,.9*e,.55*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.88*e,.7*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.7*n,.4*e,.4*n,.4*e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.12*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.06*e,.12*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.06*e,.06*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.12*e,.06*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.12*e,0).close());const o=new v.e.PathFigure(.06*e,.12*n,!1,!1);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.88*e,.12*n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.88*e,.54*n)),o.add(new v.e.PathSegment(v.e.PathSegment.Move,.06*e,.06*n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.94*e,.06*n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.94*e,.44*n)),i.spot1=new v.e.Spot(0,.25),i.spot2=new v.e.Spot(.8,.77),i})),v.e.Shape.defineFigureGenerator("flowchart-Or",(function(t,e,n){const i=new v.e.Geometry,a=.5*ye,o=new v.e.PathFigure(e,.5*n,!0);i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,n,e,(.5+a)*n,(.5+a)*e,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.5*n,(.5-a)*e,n,0,(.5+a)*n)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,0,0,(.5-a)*n,(.5-a)*e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.5*n,(.5+a)*e,0,e,(.5-a)*n));const r=new v.e.PathFigure(e,.5*n,!1,!1);return i.add(r),r.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n)),r.add(new v.e.PathSegment(v.e.PathSegment.Move,.5*e,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,0)),i})),v.e.Shape.defineFigureGenerator("Paper Tape",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(0,.7*n,!0);return i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.7*e,0,.35*e,.25*n,.35*e,0)),a.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.15*n,.8*e,0,e,.12*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.3*e,n,.65*e,.75*n,.65*e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.85*n,.2*e,n,0,.9*n).close()),i.spot1=new v.e.Spot(0,.49),i.spot2=new v.e.Spot(1,.75),i})),v.e.Shape.defineFigureGenerator("Delay",(function(t,e,n){const i=new v.e.Geometry,a=.5*ye,o=new v.e.PathFigure(0,0,!0);return i.add(o),o.add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,0)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.5*n,(.5+a)*e,0,e,(.5-a)*n)),o.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,n,e,(.5+a)*n,(.5+a)*e,n)),o.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close()),i.spot1=v.e.Spot.TopLeft,i.spot2=new v.e.Spot(.55,1),i})),v.e.Shape.setFigureParameter("Parallelogram1",0,new me("Indent",.1,-.99,.99)),v.e.Shape.defineFigureGenerator("Parallelogram1",(function(t,e,n){let i=t?t.parameter1:NaN;isNaN(i)?i=.1:i<-1?i=-1:i>1&&(i=1);const a=Math.abs(i)*e;let o;return 0===i?(o=new v.e.Geometry(v.e.Geometry.Rectangle),o.startX=0,o.startY=0,o.endX=e,o.endY=n,o):(o=new v.e.Geometry,i>0?o.add(new v.e.PathFigure(a,0).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-a,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close())):o.add(new v.e.PathFigure(0,0).add(new v.e.PathSegment(v.e.PathSegment.Line,e-a,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,a,n).close())),a<e/2&&o.setSpots(a/e,0,(e-a)/e,1),o)})),v.e.Shape.setFigureParameter("Manual Operation",0,new me("Indent",10,-1/0,1/0)),v.e.Shape.defineFigureGenerator("Manual Operation",(function(t,e,n){let i=t?t.parameter1:NaN;isNaN(i)?i=10:i<-e?i=-e/2:i>e&&(i=e/2);const a=Math.abs(i);let o;return 0===i?(o=new v.e.Geometry(v.e.Geometry.Rectangle),o.startX=0,o.startY=0,o.endX=e,o.endY=n,o):(o=new v.e.Geometry,i>0?o.add(new v.e.PathFigure(0,0).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-a,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,a,n).close())):o.add(new v.e.PathFigure(a,0).add(new v.e.PathSegment(v.e.PathSegment.Line,e-a,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close())),a<e/2&&o.setSpots(a/e,0,(e-a)/e,1),o)})),v.e.Shape.defineFigureGenerator("flowcharNoteLeft",(function(t,e,n){const i=t&&t.parameter1||5,a=i*ye;return(new v.e.Geometry).add(new v.e.PathFigure(e,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,i,e-a,0,e-i,i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n/2-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-2*i,n/2,e-i,n/2-i+a,e-2*i+a,n/2)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,n/2+i,e-2*i+a,n/2,e-i,n/2+i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,n,e-i,n-i+a,e-a,n)))})),v.e.Shape.defineFigureGenerator("flowcharNoteRight",(function(t,e,n){const i=t&&t.parameter1||5,a=i*ye;return(new v.e.Geometry).add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,i,i-a,0,i,a)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n/2-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,2*i,n/2,i,n/2-i+a,2*i-a,n/2)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,n/2+i,2*i-a,n/2,i,n/2+i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,n,i,n-i+a,a,n)))})),v.e.Shape.defineFigureGenerator("DoubleBrace",(function(t,e,n){let i=t&&t.parameter1||5;i=Math.min(i,e/4,n/4);const a=i*ye,o=2*i;return(new v.e.Geometry).add(new v.e.PathFigure(0,o,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,i,0,o-a,i-a,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e/2-i,i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e/2,0,e/2-i+a,i,e/2,a)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e/2+i,i,e/2,a,e/2+i-a,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,o,e-i+a,i,e,o-a)).add(new v.e.PathSegment(v.e.PathSegment.Move,0,n-o)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,n-i,0,n-o+a,i-a,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e/2-i,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e/2,n,e/2-i+a,n-i,e/2,n-a)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e/2+i,n-i,e/2,n-a,e/2+i-a,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,n-o,e-i+a,n-i,e,n-o+a)))})),v.e.Shape.defineFigureGenerator("DoubleBrace-Fill",(function(t,e,n){let i=t&&t.parameter1||5;i=Math.min(i,e/4,n/4);const a=i*ye,o=2*i;return(new v.e.Geometry).add(new v.e.PathFigure(0,o,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,i,0,o-a,i-a,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e/2-i,i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e/2,0,e/2-i+a,i,e/2,a)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e/2+i,i,e/2,a,e/2+i-a,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,o,e-i+a,i,e,o-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-o)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,n-i,e,n-o+a,e-i+a,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Line,e/2+i,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e/2,n,e/2+i-a,n-i,e/2,n-a)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e/2-i,n-i,e/2,n-a,e/2-i+a,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,n-o,i-a,n-i,0,n-o+a).close()))})),v.e.Shape.defineFigureGenerator("DoubleBraceH",(function(t,e,n){let i=t&&t.parameter1||5;i=Math.min(i,e/4,n/4);const a=i*ye,o=2*i;return(new v.e.Geometry).add(new v.e.PathFigure(o,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,i,o-a,0,i,i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n/2-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,n/2,i,n/2-i+a,a,n/2)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,n/2+i,a,n/2,i,n/2+i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,o,n,i,n-i+a,i+a,n)).add(new v.e.PathSegment(v.e.PathSegment.Move,e-o,0)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,i,e-i-a,0,e-i,i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n/2-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,n/2,e-i,n/2-i+a,e-a,n/2)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,n/2+i,e-a,n/2,e-i,n/2+i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-o,n,e-i,n-i+a,e-o+a,n)))})),v.e.Shape.defineFigureGenerator("DoubleBraceH-Fill",(function(t,e,n){let i=t&&t.parameter1||5;i=Math.min(i,e/4,n/4);const a=i*ye,o=2*i;return(new v.e.Geometry).add(new v.e.PathFigure(o,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,i,o-a,0,i,i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n/2-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,n/2,i,n/2-i+a,a,n/2)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,n/2+i,a,n/2,i,n/2+i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,o,n,i,n-i+a,i+a,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-o,n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,n-i,e-o+a,n,e-i,n-i+a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n/2+i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,n/2,e-i,n/2+i-a,e-a,n/2)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,n/2-i,e-a,n/2,e-i,n/2-i+a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-o,0,e-i,i-a,e-o+a,0).close()))})),v.e.Shape.defineFigureGenerator("DoubleBracket",(function(t,e,n){let i=t&&t.parameter1||5;i=Math.min(i,e/2,n/2);const a=i*ye;return(new v.e.Geometry).add(new v.e.PathFigure(0,i,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,0,0,i-a,i-a,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,0)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,i,e-i+a,0,e,i-a)).add(new v.e.PathSegment(v.e.PathSegment.Move,0,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,n,0,n-i+a,i-a,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,n-i,e-i+a,n,e,n-i+a)))})),v.e.Shape.defineFigureGenerator("DoubleBracket-Fill",(function(t,e,n){let i=t&&t.parameter1||5;i=Math.min(i,e/2,n/2);const a=i*ye;return(new v.e.Geometry).add(new v.e.PathFigure(0,i,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,0,0,i-a,i-a,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,0)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,i,e-i+a,0,e,i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,n,e,n-i+a,e-i+a,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,n-i,i-a,n,0,n-i+a).close()))})),v.e.Shape.defineFigureGenerator("DoubleBracketH",(function(t,e,n){let i=t&&t.parameter1||5;i=Math.min(i,e/2,n/2);const a=i*ye;return(new v.e.Geometry).add(new v.e.PathFigure(i,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,i,i-a,0,0,i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,n,0,n-i+a,i-a,n)).add(new v.e.PathSegment(v.e.PathSegment.Move,e-i,0)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,i,e-i+a,0,e,i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,n,e,n-i+a,e-i+a,n)))})),v.e.Shape.defineFigureGenerator("DoubleBracketH-Fill",(function(t,e,n){let i=t&&t.parameter1||5;i=Math.min(i,e/2,n/2);const a=i*ye;return(new v.e.Geometry).add(new v.e.PathFigure(i,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,i,i-a,0,0,i-a)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n-i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,i,n,0,n-i+a,i-a,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,n-i,e-i+a,n,e,n-i+a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,i)).add(new v.e.PathSegment(v.e.PathSegment.Bezier,e-i,0,e,i-a,e-i+a,0).close()))})),v.e.Shape.defineFigureGenerator("Connector","Ellipse"),v.e.Shape.defineFigureGenerator("flowchartInput","Parallelogram1"),v.e.Shape.defineFigureGenerator("flowchart-MultiDocument-edge",(function(t,e,n){n/=.8;const i=new v.e.Geometry,a=new v.e.PathFigure(e,0,!0);return i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.94*e,.44*n,.98*e,.47*n,.96*e,.45*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.94*e,.6*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.88*e,.54*n,.92*e,.57*n,.9*e,.55*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.88*e,.7*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.7*n,.4*e,.4*n,.4*e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.12*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.06*e,.12*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.06*e,.06*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.12*e,.06*n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,.12*e,0).close()),i.spot1=new v.e.Spot(0,.25),i.spot2=new v.e.Spot(.8,.77),i})),v.e.Shape.defineFigureGenerator("flowchart-Cylinder1-edge",(function(t,e,n){let i=t?t.parameter1:NaN;isNaN(i)&&(i=5),i=Math.min(i,n/3);const a=new v.e.Geometry,o=.5*ye,r=new v.e.PathFigure(0,.1*n,!0);return a.add(r),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,0,0,0,.5*e-o,0)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.1*n,.5*e+o,0,e,0)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,e,.9*n)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.5*e,n,e,n,.5*e+o,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.9*n,.5*e-o,n,0,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.1*n)),a})),v.e.Shape.defineFigureGenerator("flowchart-Cylinder4-edge",(function(t,e,n){let i=t?t.parameter1:NaN;isNaN(i)&&(i=5),i=Math.min(i,e/3);const a=new v.e.Geometry,o=.5*ye,r=new v.e.PathFigure(.9*e,0,!0);return a.add(r),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,e,.5*n,e,0,e,n/2-o)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.9*e,n,e,n/2-o,e,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,.1*e,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,0,.5*n,0,n,0,n/2+o)),r.add(new v.e.PathSegment(v.e.PathSegment.Bezier,.1*e,0,0,n/2-o,0,0)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,.9*e,0)),a}));const ve=Object(S.a)();xe(ve),ve.constraintShapeName="SHAPE",ve.bind(new v.e.Binding("constraint","",t=>{const{VFlipReverse:e}=t;let n=new v.e.Spot(0,.25,0,0);return e&&(n=new v.e.Spot(0,.75,0,0)),[new ut.a({type:ut.a.Spot,direction:ut.a.Horizontal,parameter1:"parameter1",alignment:n,spot1:new v.e.Spot(0,0,10,0),spot2:new v.e.Spot(0,0,30,0)})]}));const we=Object(S.a)();function xe(t){t.findObject("SHAPE").bind(new v.e.Binding("fill","",t=>O.o))}xe(we),we.constraintShapeName="SHAPE",we.bind(new v.e.Binding("constraint","",t=>{const{VFlipReverse:e,parameter1:n}=t;let i=new v.e.Spot(1,.25,-2*n,0);return e&&(i=new v.e.Spot(1,.75,-2*n,0)),[new ut.a({type:ut.a.Spot,direction:ut.a.Horizontal,parameter1:"parameter1",alignment:i,spot1:new v.e.Spot(0,0,10,0),spot2:new v.e.Spot(0,0,30,0),horizontalReverse:!0})]}));const be=rt(),Se=be.findObject("EMPTY");Se.bind(new v.e.Binding("figure","figure",t=>t+"-Fill")),Se.bind(new v.e.Binding("width","",t=>{const{figure:e,strokeWidth:n}=t;return e.indexOf("H")>-1?t.width-2*n-45:t.width})),Se.bind(new v.e.Binding("height","",t=>{const{figure:e,strokeWidth:n}=t;return e.indexOf("H")>-1?t.height:t.height-2*n-45}));const ke=function(t){t.nodeTemplateMap.add("flowcharNoteRight",ve),t.nodeTemplateMap.add("flowcharNoteLeft",we),t.nodeTemplateMap.add("flowchart-Containers",be)},Pe=Object(S.a)();Pe.constraintShapeName="SHAPE",Pe.bind(new v.e.Binding("constraint","",t=>{const{VFlipReverse:e,parameter1:n,parameter2:i}=t,a=new v.e.Spot(1,0,-2*n,0),o=new v.e.Spot(0,0,0,0),r=new v.e.Spot(1,.5,-15,-5);let s=!1;return e&&(a.y=1,a.offsetY=-2*i,r.y=.5,r.offsetY=-5,s=!0),[new ut.a({type:ut.a.Spot,parameter1:"parameter1",parameter2:"parameter2",horizontalReverse:!0,verticalReverse:s,alignment:a,spot1:o,spot2:r,snap:!0})]}));const Me=Object(S.a)();Me.constraintShapeName="SHAPE",Me.bind(new v.e.Binding("constraint","",t=>{const{VFlipReverse:e,parameter2:n}=t,i=new v.e.Spot(0,1,0,-2*n),a=new v.e.Spot(0,0,0,0),o=new v.e.Spot(1,.5,-15,-5);let r=!0;return e&&(i.y=0,i.offsetY=0,r=!1),[new ut.a({type:ut.a.Spot,parameter1:"parameter1",parameter2:"parameter2",verticalReverse:r,alignment:i,spot1:a,spot2:o,snap:!0})]}));const _e=Object(S.a)();_e.constraintShapeName="SHAPE",_e.bind(new v.e.Binding("constraint","",t=>{const{HFlipReverse:e,parameter1:n,parameter2:i}=t,a=new v.e.Spot(1,1,-2*n,-2*i),o=new v.e.Spot(0,0,0,0),r=new v.e.Spot(.5,1,-5,-15);let s=!0;return e&&(a.x=0,a.offsetX=0,r.x=.5,r.offsetX=-5,s=!1),[new ut.a({type:ut.a.Spot,parameter1:"parameter1",parameter2:"parameter2",alignment:a,spot1:o,spot2:r,horizontalReverse:s,verticalReverse:!0,snap:!0})]}));const Le=Object(S.a)();Le.constraintShapeName="SHAPE",Le.bind(new v.e.Binding("constraint","",t=>{const{HFlipReverse:e,parameter1:n}=t,i=new v.e.Spot(0,0,0,0),a=new v.e.Spot(0,0,0,0),o=new v.e.Spot(.5,1,-5,-15);let r=!1;return e&&(i.x=1,i.offsetX=-2*n,r=!0),[new ut.a({type:ut.a.Spot,parameter1:"parameter1",parameter2:"parameter2",alignment:i,spot1:a,spot2:o,horizontalReverse:r,snap:!0})]}));[Pe,Me,_e,Le].forEach(t=>{t.findObject("SHAPE").bind(new v.e.Binding("minSize","",()=>new v.e.Size(5,5)))});const Te=Object(S.a)();Te.findObject("SHAPE").bind(new v.e.Binding("minSize","",()=>new v.e.Size(40,20))),Te.constraintShapeName="SHAPE",Te.bind(new v.e.Binding("constraint","",t=>{const{HFlipReverse:e,VFlipReverse:n,parameter1:i,parameter2:a}=t,o=new v.e.Spot(1,0,-2*i,0),r=new v.e.Spot(0,0,15,0),s=new v.e.Spot(.5,.5,-10,-5);let l=!0,c=!1;return e&&(o.x=0,o.offsetX=0,l=!1),n&&(o.y=1,o.offsetY=-2*a,c=!0),[new ut.a({type:ut.a.Spot,parameter1:"parameter1",parameter2:"parameter2",alignment:o,spot1:r,spot2:s,horizontalReverse:l,verticalReverse:c,snap:!0})]}));const Oe=Object(S.a)();Oe.findObject("SHAPE").bind(new v.e.Binding("minSize","",()=>new v.e.Size(20,40))),Oe.constraintShapeName="SHAPE",Oe.bind(new v.e.Binding("constraint","",t=>{const{HFlipReverse:e,VFlipReverse:n,parameter1:i,parameter2:a}=t,o=new v.e.Spot(1,1,-2*i,-2*a),r=new v.e.Spot(0,0,0,15),s=new v.e.Spot(.5,.5,-5,-10);let l=!0,c=!0;return e&&(o.x=0,o.offsetX=0,l=!1),n&&(o.y=0,o.offsetY=0,c=!1),[new ut.a({type:ut.a.Spot,parameter1:"parameter1",parameter2:"parameter2",alignment:o,spot1:r,spot2:s,horizontalReverse:l,verticalReverse:c,snap:!0})]}));const Ae=Object(S.a)();function Ee(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=1/0),this._name=t,this._defaultValue=e,this._minimum=n,this._maximum=i}Ae.findObject("SHAPE").bind(new v.e.Binding("geometry","shapeGeo",t=>{const e=v.e.Geometry.parse(t);return e.normalize(),e})),Object.defineProperty(Ee.prototype,"name",{get:function(){return this._name},set:function(t){if("string"!=typeof t||""===t)throw new Error("Shape name must be a valid string.");this._name=t}}),Object.defineProperty(Ee.prototype,"defaultValue",{get:function(){return this._defaultValue},set:function(t){if("number"!=typeof t||isNaN(t))throw new Error("The default value must be a real number, not: "+t);this._defaultValue=t}}),Object.defineProperty(Ee.prototype,"minimum",{get:function(){return this._minimum},set:function(t){if("number"!=typeof t||isNaN(t))throw new Error("Minimum must be a real number, not: "+t);this._minimum=t}}),Object.defineProperty(Ee.prototype,"maximum",{get:function(){return this._maximum},set:function(t){if("number"!=typeof t||isNaN(t))throw new Error("Maximum must be a real number, not: "+t);this._maximum=t}}),v.e.Shape._FigureParameters={},v.e.Shape.getFigureParameter=function(t,e){const n=v.e.Shape._FigureParameters[t];return n?n[e]:null},v.e.Shape.setFigureParameter=function(t,e,n){if(!(n instanceof Ee))throw new Error("Third argument to Shape.setFigureParameter is not FigureParameter: "+n);if(n.defaultValue<n.minimum||n.defaultValue>n.maximum)throw new Error("defaultValue must be between minimum and maximum, not: "+n.defaultValue);let i=v.e.Shape._FigureParameters[t];i||(i=[],v.e.Shape._FigureParameters[t]=i),i[e]=n};const Ce=[];v.e.Shape.defineFigureGenerator("Pentagon",(function(t,e,n){const i=.1*Math.PI,a=2*i,o=new v.e.Geometry,r=new v.e.PathFigure(e/2,0,!0),s=Math.sin(a)/(Math.sin(a)+Math.cos(i))*n,l=Math.sin(i)/(2*Math.sin(i)+1)*e;return r.add(new v.e.PathSegment(v.e.PathSegment.Line,e,s)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,e-l,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,l,n)),r.add(new v.e.PathSegment(v.e.PathSegment.Line,0,s).close()),o.add(r),o})),v.e.Shape.defineFigureGenerator("Right Triangle",(function(t,e,n){let i=t?t.parameter1:NaN;(isNaN(i)||i<0)&&(i=0),i=Math.min(i,.5*e),i=Math.min(i,.5*n);const a=Math.atan(e/n),o=180*a/Math.PI,r=(90-o)*Math.PI/180,s=i*Math.tan(a/2),l=i*Math.tan(r/2),c=new v.e.Geometry;return i>1?c.add(new v.e.PathFigure(0,i,!0).add(new v.e.PathSegment(v.e.PathSegment.Arc,180,180-o,s,i,s,s)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i*Math.sin(a),n-i*Math.cos(a))).add(new v.e.PathSegment(v.e.PathSegment.Arc,360-o,90+o,e-i,n-l,l,l)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n)).add(new v.e.PathSegment(v.e.PathSegment.Arc,90,90,i,n-i,i,i).close())).setSpots(0,.5,.5,1):c.add(new v.e.PathFigure(0,i,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i*Math.sin(a),n-i*Math.cos(a))).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n).close())).setSpots(0,.5,.5,1),c})),v.e.Shape.defineFigureGenerator("Right Triangle ReverseV",(function(t,e,n){let i=t?t.parameter1:NaN;(isNaN(i)||i<0)&&(i=0),i=Math.min(i,.5*e),i=Math.min(i,.5*n);const a=Math.atan(e/n),o=180*a/Math.PI,r=(90-o)*Math.PI/180,s=i*Math.tan(a/2),l=i*Math.tan(r/2),c=new v.e.Geometry;return i>1?c.add(new v.e.PathFigure(0,n-i,!0).add(new v.e.PathSegment(v.e.PathSegment.Arc,-180,-(180-o),s,n-i,s,s)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i*Math.sin(a),i*Math.cos(a))).add(new v.e.PathSegment(v.e.PathSegment.Arc,-(360-o),-(90+o),e-i,l,l,l)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,0)).add(new v.e.PathSegment(v.e.PathSegment.Arc,-90,-90,i,i,i,i).close())).setSpots(0,0,.5,.5):c.add(new v.e.PathFigure(0,n-i,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i*Math.sin(a),i*Math.cos(a))).add(new v.e.PathSegment(v.e.PathSegment.Line,i,0).close())).setSpots(0,0,.5,.5),c})),v.e.Shape.defineFigureGenerator("Left Triangle",(function(t,e,n){let i=t?t.parameter1:NaN;(isNaN(i)||i<0)&&(i=0),i=Math.min(i,.5*e),i=Math.min(i,.5*n);const a=Math.atan(e/n),o=180*a/Math.PI,r=(90-o)*Math.PI/180,s=i*Math.tan(a/2),l=i*Math.tan(r/2),c=new v.e.Geometry;return i>1?c.add(new v.e.PathFigure(e,i,!0).add(new v.e.PathSegment(v.e.PathSegment.Arc,0,-(180-o),e-s,i,s,s)).add(new v.e.PathSegment(v.e.PathSegment.Line,i*Math.sin(a),n-i*Math.cos(a))).add(new v.e.PathSegment(v.e.PathSegment.Arc,180+o,-(90+o),i,n-l,l,l)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n)).add(new v.e.PathSegment(v.e.PathSegment.Arc,90,-90,e-i,n-i,i,i).close())).setSpots(.5,.5,1,1):c.add(new v.e.PathFigure(e,i,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,i*Math.sin(a),n-i*Math.cos(a))).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,n).close())).setSpots(.5,.5,1,1),c})),v.e.Shape.defineFigureGenerator("Left Triangle ReverseV",(function(t,e,n){let i=t?t.parameter1:NaN;(isNaN(i)||i<0)&&(i=0),i=Math.min(i,.5*e),i=Math.min(i,.5*n);const a=Math.atan(e/n),o=180*a/Math.PI,r=(90-o)*Math.PI/180,s=i*Math.tan(a/2),l=i*Math.tan(r/2),c=new v.e.Geometry;return i>1?c.add(new v.e.PathFigure(e,n-i,!0).add(new v.e.PathSegment(v.e.PathSegment.Arc,0,180-o,e-s,n-i,s,s)).add(new v.e.PathSegment(v.e.PathSegment.Line,i*Math.sin(a),i*Math.cos(a))).add(new v.e.PathSegment(v.e.PathSegment.Arc,-(180+o),90+o,i,l,l,l)).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,0)).add(new v.e.PathSegment(v.e.PathSegment.Arc,-90,90,e-i,i,i,i).close())).setSpots(.5,0,1,.5):c.add(new v.e.PathFigure(e,n-i,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,i*Math.sin(a),i*Math.cos(a))).add(new v.e.PathSegment(v.e.PathSegment.Line,e-i,0).close())).setSpots(.5,0,1,.5),c})),v.e.Shape.defineFigureGenerator("Octagon",(function(t,e,n){const i=1/(Math.SQRT2+2);return(new v.e.Geometry).add(new v.e.PathFigure(i*e,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,(1-i)*e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,i*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,(1-i)*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,(1-i)*e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,i*e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,(1-i)*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,i*n).close())).setSpots(i/2,i/2,1-i/2,1-i/2)})),v.e.Shape.setFigureParameter("Cross",0,new Ee("Thickness",30)),v.e.Shape.defineFigureGenerator("Cross",(function(t,e,n){let i=t?t.parameter1:NaN;(isNaN(i)||i<0)&&(i=30);const a=e/4,o=n/4;return(new v.e.Geometry).add(new v.e.PathFigure(a,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,3*a,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,3*a,o)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,o)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,3*o)).add(new v.e.PathSegment(v.e.PathSegment.Line,3*a,3*o)).add(new v.e.PathSegment(v.e.PathSegment.Line,3*a,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,a,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,a,3*o)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,3*o)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,o)).add(new v.e.PathSegment(v.e.PathSegment.Line,a,o).close()))})),v.e.Shape.defineFigureGenerator("Cloud",(function(t,e,n){const i=v.e.Geometry.parse("M15.66,52.86A15.16,15.16,0,0,1,.5,37.69h0A14.93,14.93,0,0,1,11,23.27C10.61,3.58,35.88-.21,46,7.37,51-4,76.32-.21,76.32,11.16c15.16-3.79,30.33,11.37,20.22,30.33,10.11,15.16,0,34.12-20.22,26.54C71.26,77.88,51,77.88,46,68,35.88,75.6,15.66,71.81,15.66,52.86Z",!0);return i.normalize(),i.scale(e/100,n/75)})),v.e.Shape.defineFigureGenerator("Right Arrow",(function(t,e,n){let i=t?t.parameter1:NaN;isNaN(i)&&(i=40),i>e&&(i=e);let a=t?t.parameter2:NaN;isNaN(a)&&(a=20);const o=e-i,r=a,s=n-a,l=new v.e.Geometry,c=new v.e.PathFigure(0,r,!0);l.add(c),c.add(new v.e.PathSegment(v.e.PathSegment.Line,o,r)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,o,0)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,o,0)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,o,n)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,o,s)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,0,s).close()),l.spot1=new v.e.Spot(0,r/n);const h=function(t,e,n,i,a,o,r,s,l){const c=t-n,h=a-r;let d,u,f,p,g,m;return 0===c||0===h?0===c?(f=(o-s)/h,p=o-f*a,d=t,u=f*d+p):(g=(e-i)/c,m=e-g*t,d=a,u=g*d+m):(g=(e-i)/c,f=(o-s)/h,m=e-g*t,p=o-f*a,d=(p-m)/(g-f),u=g*d+m),l.x=d,l.y=u,l}(0,s/n,1,s/n,o/e,1,1,.5,function(){const t=Ce.pop();return void 0===t?new v.e.Point:t}());return l.spot2=new v.e.Spot(h.x,h.y),function(t){Ce.push(t)}(h),l})),v.e.Shape.defineFigureGenerator("Down Arrow",(function(t,e,n){let i=t?t.parameter1:NaN;isNaN(i)&&(i=20),i>e&&(i=e);let a=t?t.parameter2:NaN;isNaN(a)&&(a=40);const o=n-a,r=i,s=e-i,l=new v.e.Geometry,c=new v.e.PathFigure(0,o,!0);return l.add(c),c.add(new v.e.PathSegment(v.e.PathSegment.Line,r,o)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,r,0)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,s,0)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,s,o)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,e,o)),c.add(new v.e.PathSegment(v.e.PathSegment.Line,e/2,n).close()),l})),v.e.Shape.defineFigureGenerator("Left Arrow",(function(t,e,n){let i=t?t.parameter1:NaN;isNaN(i)&&(i=40),i>e&&(i=e);let a=t?t.parameter2:NaN;isNaN(a)&&(a=20);const o=a,r=n-a,s=new v.e.Geometry,l=new v.e.PathFigure(i,o,!0);return s.add(l),l.add(new v.e.PathSegment(v.e.PathSegment.Line,e,o)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,e,r)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,i,r)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,i,n)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,i,0).close()),s})),v.e.Shape.defineFigureGenerator("Up Arrow",(function(t,e,n){let i=t?t.parameter1:NaN;isNaN(i)&&(i=20),i>e&&(i=e);let a=t?t.parameter2:NaN;isNaN(a)&&(a=40);const o=i,r=e-i,s=new v.e.Geometry,l=new v.e.PathFigure(0,a,!0);return s.add(l),l.add(new v.e.PathSegment(v.e.PathSegment.Line,e/2,0)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,e,a)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,r,a)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,r,n)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,o,n)),l.add(new v.e.PathSegment(v.e.PathSegment.Line,o,a).close()),s})),v.e.Shape.setFigureParameter("Double Arrow East-West",0,new Ee("ConnecterHeight",40)),v.e.Shape.setFigureParameter("Double Arrow East-West",1,new Ee("ArrowHeight",100)),v.e.Shape.defineFigureGenerator("Double Arrow East-West",(function(t,e,n){let i=t?t.parameter1:NaN;isNaN(i)&&(i=40);let a=t?t.parameter2:NaN;isNaN(a)&&(a=20);const o=a,r=n-a,s=i,l=e-i,c=new v.e.Geometry,h=new v.e.PathFigure(e,.5*n,!0);return c.add(h),h.add(new v.e.PathSegment(v.e.PathSegment.Line,l,n)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,l,r)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,s,r)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,s,n)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n/2)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,0,.5*n)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,s,0)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,s,o)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,l,o)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,l,0).close()),c})),v.e.Shape.setFigureParameter("Double Arrow North-South",0,new Ee("ConnecterHeight",40)),v.e.Shape.setFigureParameter("Double Arrow North-South",1,new Ee("ArrowHeight",100)),v.e.Shape.defineFigureGenerator("Double Arrow North-South",(function(t,e,n){let i=t?t.parameter1:NaN;isNaN(i)&&(i=20);let a=t?t.parameter2:NaN;isNaN(a)&&(a=40);const o=i,r=e-i,s=a,l=n-a,c=new v.e.Geometry,h=new v.e.PathFigure(e/2,0,!0);return c.add(h),h.add(new v.e.PathSegment(v.e.PathSegment.Line,e,s)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,r,s)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,r,l)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,e,l)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,e/2,n)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,0,l)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,o,l)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,o,s)),h.add(new v.e.PathSegment(v.e.PathSegment.Line,0,s).close()),c})),v.e.Shape.defineFigureGenerator("fiveStar",(function(t,e,n){return v.e.Geometry.parse("M50.1,1.1L38,35.9L1.2,36.7l29.3,22.2L19.8,94.1l30.2-21l30.2,21L69.6,58.9L99,36.7l-36.8-0.8L50.1,1.1z",!0).scale(e/100,n/95.51)}));const Ne=function(t){t.nodeTemplateMap.add("shapes-right-arrow",Pe),t.nodeTemplateMap.add("shapes-left-arrow",Me),t.nodeTemplateMap.add("shapes-down-arrow",_e),t.nodeTemplateMap.add("shapes-up-arrow",Le),t.nodeTemplateMap.add("shapes-ew-arrow",Te),t.nodeTemplateMap.add("shapes-ns-arrow",Oe),t.nodeTemplateMap.add("shapes-fiveStar",Ae)};var Be=n(34),je=n(63),De=n(78),Fe=n(6);function Re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Ie=v.e.GraphObject.make;class ze extends v.e.Group{constructor(){super(v.e.Group),Re(this,"_editStatus",!1),Re(this,"_selection",new v.e.Set)}get editStatus(){return this._editStatus}set editStatus(t){if(this._editStatus===t)return;const e=this._editStatus;this._editStatus=t,this.raiseChanged("editStatus",e,t)}get selection(){return this._selection}set selection(t){if(this._selection===t)return;if(!(t instanceof v.e.Set))return;const e=this._selection;this._selection=t,this.raiseChanged("selection",e,t)}updateSelection(t){if(!t||!t.count)return void this.clearSelection();const e=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,this.selection=(new v.e.Set).addAll(t),this.editStatus=!0,this.diagram.raiseDiagramEvent("ChangedSelection",this.diagram.selection),this.diagram.skipsUndoManager=e}clearSelection(){if(!this.selection.count)return;if(!this.diagram)return;const t=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,this.selection=new v.e.Set,this.editStatus=!1,this.diagram.raiseDiagramEvent("ChangedSelection",this.diagram.selection),this.diagram.skipsUndoManager=t}}const He=new v.e.Size(1,1);function Ve(t,e,n){if(e){if(t.handled=!0,n){const n=e.diagram.toolManager.draggingTool,i=n.draggedParts||n.copiedParts;if(i&&e.canAddMembers(i.toKeySet())||e.canAddMembers(t.draggedParts))return e.isHighlighted=!0,void e.updateTargetBindings("fill")}e.isHighlighted=!1,e.updateTargetBindings("fill")}}var Ge=n(7);const Ue=v.e.GraphObject.make;class We extends v.e.Group{constructor(){var t,e,n;super(v.e.Group.Auto),n=!0,(e="_autoSize")in(t=this)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}get autoSize(){return this._autoSize}set autoSize(t){if(t===this._autoSize)return;this._autoSize=t;const e=this.diagram;if(t)e.commit(()=>{e.model.set(this.data,"width",NaN),e.model.set(this.data,"height",NaN)});else{this.data.width&&this.data.height||e.commit(()=>{const{width:t,height:n}=Object(Ge.b)([this]);e.model.set(this.data,"width",t),e.model.set(this.data,"height",n)})}}}function qe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"10",e=arguments.length>1?arguments[1]:void 0;t=v.e.Margin.parse(String(t));const n=e.part,i=n.findObject("TEXT_PANEL"),a=i.actualBounds,o=n.data.label,r=o?a.height:0;return t.top+=r,t}function Ye(t,e,n){if(e)if(t.handled=!0,n){const t=e.diagram.toolManager.draggingTool,n=t.draggedParts||t.copiedParts;n&&e.canAddMembers(n.toKeySet())&&(e.isHighlighted=!0)}else e.isHighlighted=!1}function Xe(t,e){return"Group"===t.layerName&&(e.data.key!==t.data.key&&("around-group"!==e.category&&(!e.data.aroundPart&&!e.data.tempAroundPart)))}function Ke(t,e){if(!e.isHighlighted)return;const n=e.diagram.selection;n.each(t=>{t.data.tempAroundPart&&!t.data.tempGroup&&(t.data.tempGroup=t.data.group)});e.addMembers(n,!0)||t.diagram.currentTool.doCancel()}const Ze=v.e.GraphObject.make;function $e(t,e,n){if(e)if(t.handled=!0,n){const t=e.diagram.toolManager.draggingTool,n=t.draggedParts||t.copiedParts;n&&e.canAddMembers(n.toKeySet())&&(e.isHighlighted=!0)}else e.isHighlighted=!1}function Je(t,e){return"Group"===t.layerName&&(e.data.key!==t.data.key&&("smart-container"!==e.category&&("around-group"!==e.category&&(!e.data.aroundPart&&!e.data.tempAroundPart))))}function Qe(t,e){if(!e.isHighlighted)return;const n=e.diagram.selection;n.each(t=>{t.data.tempAroundPart&&!t.data.tempGroup&&(t.data.tempGroup=t.data.group)});e.addMembers(n,!0)||t.diagram.currentTool.doCancel()}const tn=function(t){t.groupTemplateMap.add("around-group",function(){return Ie(ze,"Auto",{mouseDragEnter:(t,e,n)=>{Ve(t,e,!0)},mouseDragLeave:(t,e,n)=>{Ve(t,e,!1)},selectionChanged:t=>{setTimeout(()=>{!t.isSelected&&t.clearSelection()})},minSize:He,locationSpot:v.e.Spot.Center,resizable:!0,resizeAdornmentTemplate:je.a,rotateAdornmentTemplate:De.a,selectionAdornmentTemplate:Object(Be.d)(),computesBoundsAfterDrag:!0,computesBoundsIncludingLinks:!1,handlesDragDropForMembers:!1,locationObjectName:"AROUND_GROUP_MAIN",selectionObjectName:"AROUND_GROUP_MAIN",resizeObjectName:"AROUND_GROUP_MAIN"},q.a.mouseMotion(),$.a.rotatable(),P.a.makeContextMenu(),$.a.location(),$.a.angle(),$.a.resizable(),$.a.movable(),$.a.deletable(),$.a.layerName(),new v.e.Binding("visible"),new v.e.Binding("scale"),new v.e.Binding("opacity"),new v.e.Binding("","editStatus",(t,e)=>{e.updateAdornments()}).ofObject(),new v.e.Binding("","selection",(t,e)=>{Object(Fe.i)(e).each(t=>{t.updateTargetBindings()})}).ofObject(),Ie(v.e.Panel,"Spot",{name:"WRAP_PANEL"},Ie(v.e.Shape,"Rectangle",{name:"SHAPE",fill:null,stroke:"transparent",strokeWidth:0},new v.e.Binding("stroke","isHighlighted",(t,e,n)=>t?"rgb(25,95,200)":"transparent").ofObject(),new v.e.Binding("fill","",(t,e)=>e.diagram.isReadOnly?"transparent":null),new v.e.Binding("width","width"),new v.e.Binding("height","height")),Ie(v.e.Panel,"Vertical",{name:"AROUND_GROUP_MAIN",defaultAlignment:v.e.Spot.Left,minSize:He},new v.e.Binding("toLinkable","inValidToLinkable",t=>!t),new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay(),Ie(v.e.Panel,"Auto",{name:"MAIN_PANEL",stretch:v.e.GraphObject.Fill}))))}()),t.groupTemplateMap.add("combo",Ue(We,Object(M.d)({rotatable:!1,resizeObjectName:"",selectionObjectName:""}),new v.e.Binding("autoSize"),new v.e.Binding("selectionObjectName","autoSize",t=>t?"":"SHAPE"),new v.e.Binding("resizeObjectName","autoSize",t=>t?"":"SHAPE"),{memberValidation:Xe,memberAdded:(t,e)=>{setTimeout(()=>{e.layerName=t.layerName})},mouseDragEnter:(t,e,n)=>{Ye(t,e,!0)},mouseDragLeave:(t,e,n)=>{Ye(t,e,!1)},mouseDrop:Ke},Ue(v.e.Panel,"Spot",{name:"WRAP_PANEL",alignment:v.e.Spot.TopLeft,alignmentFocus:v.e.Spot.TopLeft},Ue(v.e.Shape,Object(M.e)(),{name:"SHAPE",fill:"transparent",stroke:O.s},Object(M.f)(),new v.e.Binding("fill","isHighlighted",(t,e)=>{const n=e.part;return t?"rgba(207, 228, 255, 0.5)":n.data.fill||"transparent"}).ofObject(),new v.e.Binding("parameter1")),Ue(v.e.Panel,"Spot",{name:"TEXT_PANEL",alignment:v.e.Spot.Top,alignmentFocus:v.e.Spot.Top,padding:new v.e.Margin(10,0,0,0)},P.a.makeTextBlock()),Ue("SubGraphExpanderButton",{alignment:v.e.Spot.TopLeft,alignmentFocus:new v.e.Spot(0,0,-8,-8),visible:!1},new v.e.Binding("visible","collapsable"))),Ue(v.e.Placeholder,{name:"PLACEHOLDER",minSize:new v.e.Size(80,80),padding:10,visible:!0},new v.e.Binding("visible","autoSize").ofObject(),new v.e.Binding("padding","padding",(t,e)=>qe(t,e)),new v.e.Binding("padding","label",(t,e)=>qe(e.part.data.padding,e))))),t.groupTemplateMap.add("smart-container",Ze(v.e.Group,"Auto",Object(M.d)({rotatable:!1,resizable:!1,resizeObjectName:"",selectionObjectName:"",computesBoundsAfterDrag:!0}),{memberValidation:Je,memberAdded:(t,e)=>{setTimeout(()=>{e.layerName=t.layerName})},mouseDragEnter:(t,e,n)=>{$e(t,e,!0)},mouseDragLeave:(t,e,n)=>{$e(t,e,!1)},mouseDrop:Qe},Ze(v.e.Panel,"Spot",{name:"WRAP_PANEL"},Ze(v.e.Shape,{name:"SHAPE",fill:"transparent",strokeWidth:0},new v.e.Binding("width"),new v.e.Binding("height")),Ze(v.e.Shape,{name:"EMPTY",cursor:"auto",strokeWidth:0},Object(M.a)(),new v.e.Binding("width","width",(t,e)=>t-30),new v.e.Binding("height","height",(t,e)=>t-30))),Ze(v.e.Placeholder,{name:"PLACEHOLDER",minSize:new v.e.Size(80,80),padding:10})))},en=[].concat([{shapeName:"EE_Amplifier",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n      <path d="M2 2v24h4.8V2z" fill="none"></path>\n      <path d="M4.4 2l19.2 12L4.4 26z" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n      <path d="M4.88 14h-2.88M23.12 14H26" stroke="#000" stroke-width="1.5" fill="none"></path>\n      </svg>'},{shapeName:"EE_OpAmp",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n      <path d="M2 2v24h4.8V2z" fill="none"></path>\n      <path d="M4.4 2l19.2 12L4.4 26z" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n      <path d="M4.88 6.8h-2.88M4.88 21.2h-2.88M14 19.52V26M14 8.48V2M23.12 14H26" stroke="#000" stroke-width="1.5" fill="none"></path>\n      <path d="M6.44 5.96V7.64M5.6 6.8H7.28M5.6 21.2H7.28" stroke="#000" stroke-width="1.5" fill="none" data-type="inner"></path>\n      </svg>'},{shapeName:"EE_ControlledAmp",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M2 2v24h4.8V2z" fill="none"></path>\n    <path d="M4.4 2l19.2 12L4.4 26z" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    <path d="M4.88 14h-2.88M23.12 14H26M18.8 26v-6.72m-.6 0h1.2l-.6-1.92-.6 1.92z" stroke="#000" stroke-width="1.5" fill="none"></path>\n    </svg>'},{shapeName:"EE_Multiplexer",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n      <path d="M8 2h12v24H8z" fill="none"></path>\n      <path d="M10.4 2v24l7.2-4.8V6.8z" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n      <path d="M17.6 14H20M12.8 24.4V26m2.4-3.2V26M10.4 5.9H8M10.4 11.3H8M10.4 16.7H8M10.4 22.1H8" stroke="#000" stroke-width="1.5" fill="none"></path>\n      </svg>'},{shapeName:"EE_Demultiplexer",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M8 2h12v24H8z" fill="none"></path><path d="M10.4 2v24l7.2-4.8V6.8z" stroke="#000" stroke-width="1.5" fill="#fff"></path><path d="M10.4 14H8M12.8 24.4V26m2.4-3.2V26M17.6 8.6H20M17.6 12.2H20M17.6 15.8H20M17.6 19.4H20" stroke="#000" stroke-width="1.5" fill="none"></path></svg>'},{shapeName:"EE_Capacitor1",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 2h24v24H2z" fill="none"></path><path d="M2 14h10.8m0-7.2v14.4m2.4-7.2H26M15.2 6.8v14.4" stroke="#000" stroke-width="1.5" fill="none"></path></svg>'},{shapeName:"EE_Capacitor2",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n      <path d="M2 14h10.8m0-7.2v14.4M14 14h12m-9.6 7.2c-1.344 0-2.4-3.216-2.4-7.2s1.08-7.2 2.4-7.2" stroke="#000" stroke-width="1.5" fill="none"></path>\n      <path d="M9.2 9.2h2.4m-1.2 1.44V7.76" stroke="#000" stroke-width="1.5" fill="none" data-type="inner"></path>\n      </svg>'},{shapeName:"EE_Diode",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 6h24v16H2z" fill="none"></path><path d="M2 14h7.2m0-8v16l7.2-8-7.2-8zm7.2 0v16m0-8H26z" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>'},{shapeName:"EE_Resistor",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n      <path d="M2 8h24v12H2z" fill="none"></path>\n      <path d="M2 14h5.4l1.2-1.8 1.8 3.6 1.8-3.6 1.8 3.6 1.8-3.6 1.8 3.6 1.8-3.6 1.8 3.6 1.2-1.8H26" stroke="#000" stroke-width="1.5" fill="none"></path>\n      </svg>',scale:{x:1,y:.302}},{shapeName:"EE_VariableResistor",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 8h24v12H2z" fill="none"></path><path d="M2 14h5.4l1.2-1.8 1.8 3.6 1.8-3.6 1.8 3.6 1.8-3.6 1.8 3.6 1.8-3.6 1.8 3.6 1.2-1.8H26" stroke="#000" stroke-width="1.5" fill="none"></path><path d="M4.4 16.4l19.2-4.2h-2.16m2.16 0l-1.92.96" stroke="#000" stroke-width="1.5" fill="none"></path></svg>',scale:{x:1,y:.352},offset:{x:0,y:.025}},{shapeName:"EE_Potentiometer",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 8h24v12H2z" fill="none"></path><path d="M2 14h5.4l1.2-1.8 1.8 3.6 1.8-3.6 1.8 3.6 1.8-3.6 1.8 3.6 1.8-3.6 1.8 3.6 1.2-1.8H26M14 20v-3.36l1.2.96m-1.2-.96l-1.2.96" stroke="#000" stroke-width="1.5" fill="none"></path></svg>',scale:{x:1,y:.65},offset:{x:0,y:.175}},{shapeName:"EE_ProtectiveEarth",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 5h24v18H2z" fill="none"></path><path d="M14 5v3.6zM2 8.6h24m-3.6 3.6H5.6m3.6 3.6h9.6m-7.2 3.6h4.8M15.2 23h-2.4" stroke="#000" stroke-width="1.5" fill="none"></path></svg>'},{shapeName:"EE_SignalGround",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 5h24v18H2z" fill="none"></path><path d="M14 5v3.6zM2 8.6h24L14 23z" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>'},{shapeName:"EE_Transformer",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 5.6h24v16.8H2z" fill="none"></path><path d="M4.4 5.6v3.36c0 3.26 1.08 4.2 2.4 4.2 1.32 0 2.4-.94 2.4-2.1 0 1.16 1.08 2.1 2.4 2.1 1.32 0 2.4-.94 2.4-2.1 0 1.16 1.08 2.1 2.4 2.1 1.32 0 2.4-.94 2.4-2.1 0 1.16 1.08 2.1 2.4 2.1 1.32 0 2.4-.94 2.4-2.1V5.6m0 8.4H4.4m19.2.84H4.4m0 7.56v-3.36c0-2.42 1.08-3.36 2.4-3.36 1.32 0 2.4.94 2.4 2.1 0-1.16 1.08-2.1 2.4-2.1 1.32 0 2.4.94 2.4 2.1 0-1.16 1.08-2.1 2.4-2.1 1.32 0 2.4.94 2.4 2.1 0-1.16 1.08-2.1 2.4-2.1 1.32 0 2.4.94 2.4 2.1v4.62" stroke="#000" stroke-width="1.5" fill="none"></path></svg>',scale:{x:.8,y:1}},{shapeName:"EE_Inductor",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 7.143v13.714h4.8V7.143z" fill="none"></path><path d="M2 15.37h2.4c0-2.577 1.08-4.113 2.4-4.113 1.32 0 2.4 1.536 2.4 3.43 0-1.894 1.08-3.43 2.4-3.43 1.32 0 2.4 1.536 2.4 3.43 0-1.894 1.08-3.43 2.4-3.43 1.32 0 2.4 1.536 2.4 3.43 0-1.894 1.08-3.43 2.4-3.43 1.32 0 2.4 1.536 2.4 3.43 0 .246-.024.438-.048.684H26" stroke="#000" stroke-width="1.5" fill="none"></path></svg>',scale:{x:1,y:.3},offset:{x:0,y:-.05}},{shapeName:"EE_VariableInductor",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M2 7.143v13.714h4.8V7.143z" fill="none"></path>\n    <path d="M2 15.37h2.4c0-2.578 1.075-4.113 2.4-4.113s2.4 1.535 2.4 3.43c0-1.895 1.075-3.43 2.4-3.43s2.4 1.535 2.4 3.43c0-1.895 1.075-3.43 2.4-3.43s2.4 1.535 2.4 3.43c0-1.895 1.075-3.43 2.4-3.43s2.4 1.535 2.4 3.43c0 .24-.014.443-.048.68L26 15.37m-21.6 0l19.2-5.484-1.7.9m1.7-.9l-1.92.068" stroke="#000" stroke-width="1.5" fill="none"></path>\n    </svg>',scale:{x:1,y:.4},offset:{x:0,y:-.1}},{shapeName:"EE_2WaySwitch",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 8.857h24v10.286H2z" fill="none"></path><path d="M2 16.057h7.2c0 .833.528 1.368 1.2 1.368.672 0 1.2-.535 1.2-1.193 0-.67-.528-1.203-1.2-1.203-.672 0-1.2.533-1.2 1.202m2.4-.175l6.48-4.114m.72 0c0 .833.528 1.368 1.2 1.368.672 0 1.2-.534 1.2-1.192 0-.67-.528-1.204-1.2-1.204-.672 0-1.2.535-1.2 1.204m2.4-.175H26m-7.2 4.114c0 .833.528 1.368 1.2 1.368.672 0 1.2-.535 1.2-1.193 0-.67-.528-1.203-1.2-1.203-.672 0-1.2.533-1.2 1.202m2.4-.175H26" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>',scale:{x:1,y:.64}},{shapeName:"EE_OnOffSwitch",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 8.857h24v10.286H2z" fill="none"></path><path d="M2 16.057h7.2c0 .833.528 1.368 1.2 1.368.672 0 1.2-.535 1.2-1.193 0-.67-.528-1.203-1.2-1.203-.672 0-1.2.533-1.2 1.202m2.4-.175l6.48-4.114m.72 4.114c0 .833.528 1.368 1.2 1.368.672 0 1.2-.535 1.2-1.193 0-.67-.528-1.203-1.2-1.203-.672 0-1.2.533-1.2 1.202m2.4-.175H26" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>',scale:{x:1,y:.54},offset:{x:0,y:.05}},{shapeName:"EE_Loudspeaker",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M6.8 2h14.4v24H6.8z" fill="none"></path><path d="M6.8 11.6h5.76zm0 4.8h5.76zm5.76-7.2v9.6H14V9.2zm1.44 0L21.2 2v24L14 18.8" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>'},{shapeName:"EE_Motor",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n      <path d="M2 5h24v18H2z" fill="none"></path>\n      <path d="M2 14h4.8c0 3.978 3.216 7.2 7.2 7.2s7.2-3.222 7.2-7.2-3.216-7.2-7.2-7.2A7.194 7.194 0 0 0 6.8 14m14.4 0H26z" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n      <path d="M11.6 16.7v-5.4l2.4 5.4 2.4-5.4v5.4" stroke="#000" stroke-width="1.5" fill="none" data-shadow="none"></path>\n      </svg>',scale:{x:1,y:.83}},{shapeName:"EE_LED1",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 3.714h24v20.572H2z" fill="none"></path><path d="M11.6 7.83l4.8-4.116-.72 1.07m.72-1.07l-1.152.453M14 7.83l4.8-4.116-.72 1.07m.72-1.07l-1.152.453M2 14h7.2m0-6.17v12.34L16.4 14 9.2 7.83zm7.2 0v12.34m0-6.17H26z" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>',scale:{x:1,y:.8},offset:{x:0,y:-.1}},{shapeName:"EE_Lightbulb",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 2h24v24H2z" fill="none"></path><path d="M26 14c0 6.627-5.373 12-12 12S2 20.627 2 14 7.373 2 14 2s12 5.373 12 12M5.6 5.6l16.8 16.8m0-16.8L5.6 22.4" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>'},{shapeName:"EE_IntegratedCircuit",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M7.6 4.4v19.2h12.8V4.4z" stroke="#000" stroke-width="1.5" fill="#fff"></path><path d="M15.6 4.4c0 1.325-.716 2.4-1.6 2.4-.884 0-1.6-1.075-1.6-2.4M20.4 6.8H22m-16 0h1.6m12.8 4.8H22m-16 0h1.6m12.8 4.8H22m-16 0h1.6m12.8 4.8H22m-16 0h1.6" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>'}],[{shapeName:"EE_AcSource",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M23.6 14c0 5.28-4.32 9.6-9.6 9.6-5.28 0-9.6-4.32-9.6-9.6 0-5.28 4.32-9.6 9.6-9.6 5.28 0 9.6 4.32 9.6 9.6zM14 4.4V2m0 21.6V26" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    <path d="M14 14c0-1.92-1.68-3.6-3.6-3.6-1.92 0-3.6 1.68-3.6 3.6m14.4 0c0 1.92-1.68 3.6-3.6 3.6-1.92 0-3.6-1.68-3.6-3.6" stroke="#000" stroke-width="1.5" fill="none" data-type="inner"></path>\n    </svg>',scale:{x:.8,y:1}},{shapeName:"EE_VoltageSource",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M23.6 14c0 5.28-4.32 9.6-9.6 9.6-5.28 0-9.6-4.32-9.6-9.6 0-5.28 4.32-9.6 9.6-9.6 5.28 0 9.6 4.32 9.6 9.6zM14 4.4V2m0 21.6V26" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    <path d="M12.8 18.8h2.4m-2.4-9.6h2.4M14 8v2.4" stroke="#000" stroke-width="1.5" fill="none" data-type="inner"></path>\n    </svg>',scale:{x:.8,y:1}},{shapeName:"EE_CurrentSource",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M23.6 14c0 5.28-4.32 9.6-9.6 9.6-5.28 0-9.6-4.32-9.6-9.6 0-5.28 4.32-9.6 9.6-9.6 5.28 0 9.6 4.32 9.6 9.6zM14 4.4V2m0 21.6V26" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    <path d="M14 18.8v-8.64h.48-.96L14 9.2l.48.96H14" stroke="#000" stroke-width="1.5" fill="none" data-type="inner"></path>\n    </svg>',scale:{x:.8,y:1}},{shapeName:"EE_ControlledCurrentSource",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M14 4.4l9.6 9.6-9.6 9.6L4.4 14zm0 0V2m0 21.6V26" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    <path d="M14 18.8v-8.64h.48-.96L14 9.2l.48.96H14" stroke="#000" stroke-width="1.5" fill="none" data-type="inner"></path>\n    </svg>',scale:{x:.8,y:1}},{shapeName:"EE_ControlledVoltageSource",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M14 4.4l9.6 9.6-9.6 9.6L4.4 14zm0 0V2m0 21.6V26" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    <path d="M12.8 18.8h2.4m-2.4-9.6h2.4M14 8v2.4" stroke="#000" stroke-width="1.5" fill="none" data-type="inner"></path>\n    </svg>',scale:{x:.8,y:1}},{shapeName:"EE_DcSource1",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M3.5 2h21v24h-21z" fill="none"></path><path d="M3.5 14h9.45m0 4.8V9.2m2.1 7.2v-4.8m0 2.4h9.45" stroke="#000" stroke-width="1.5" fill="none"></path></svg>',scale:{x:1,y:.8}},{shapeName:"EE_DcSource2",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M3.5 2h21v24h-21z" fill="none"></path><path d="M3.5 14h8.4m0 4.8V9.2m2.1 7.2v-4.8m2.1 7.2V9.2m2.1 7.2v-4.8m0 2.4h6.3" stroke="#000" stroke-width="1.5" fill="none"></path></svg>',scale:{x:1,y:.8}},{shapeName:"EE_Vss",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2.12 10.88h23.832m-12.192 0V26M9.752 8.312L7.088 2h.984l2.232 5.304L12.512 2h.984l-2.664 6.312h-1.08zm6.576-1.272v.48c-.144-.072-.312-.12-.48-.168a3.925 3.925 0 0 0-.528-.048c-.288 0-.504.048-.624.12a.362.362 0 0 0-.216.336c0 .12.048.216.144.288.096.072.312.12.6.192l.192.024c.408.096.696.192.864.336.168.144.24.336.24.576 0 .288-.12.528-.384.696-.24.168-.576.24-1.032.24-.168 0-.36-.024-.576-.048a3.79 3.79 0 0 1-.624-.144v-.528c.216.096.432.168.624.24.192.024.408.048.6.048.264 0 .456-.024.6-.12a.362.362 0 0 0 .216-.336c0-.144-.048-.24-.144-.312-.12-.072-.336-.144-.672-.216l-.216-.048c-.336-.048-.6-.168-.744-.288a.795.795 0 0 1-.24-.576c0-.288.12-.504.36-.672.216-.144.552-.216.96-.216.216 0 .408 0 .576.024.192.024.36.072.504.12zm3.264 0v.48a3.103 3.103 0 0 0-.504-.168c-.168-.024-.336-.048-.528-.048-.264 0-.48.048-.624.12-.144.072-.192.192-.192.336 0 .12.048.216.144.288.096.072.288.12.6.192l.192.024c.384.096.672.192.84.336a.73.73 0 0 1 .264.576c0 .288-.144.528-.384.696-.264.168-.6.24-1.032.24a4.66 4.66 0 0 1-.576-.048 3.307 3.307 0 0 1-.624-.144v-.528c.216.096.408.168.6.24.216.024.408.048.6.048.264 0 .48-.024.624-.12a.362.362 0 0 0 .216-.336.375.375 0 0 0-.168-.312c-.096-.072-.312-.144-.672-.216l-.192-.048c-.336-.048-.6-.168-.744-.288-.168-.144-.24-.336-.24-.576 0-.288.12-.504.336-.672.24-.144.552-.216.984-.216.192 0 .384 0 .576.024.192.024.36.072.504.12z" stroke="#000" stroke-width="1.5"></path><path d="M11.36 26v-1.2h4.8V26z" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>'},{shapeName:"EE_Vdd",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2.096 17.312h23.808M14 2.096v15.048m-4.488 7.224l-2.688-6.24h1.008l2.208 5.256 2.232-5.256h.984l-2.688 6.24H9.512zm6.648-.864v-1.656h.552V26h-.552v-.36c-.12.168-.264.312-.456.36h-.648c-.408 0-.744 0-1.008-.264-.264-.312-.384-.696-.384-1.176s.12-.864.384-1.152c.264-.288.6-.432 1.008-.432.264 0 .48.048.648.12.192.096.336.24.456.408m-1.92 1.056c0 .384.096.672.264.888a.87.87 0 0 0 .696.312c.288 0 .528-.12.696-.312.168-.216.264-.504.264-.888 0-.36-.096-.648-.264-.864a.906.906 0 0 0-.696-.312.87.87 0 0 0-.696.312c-.168.216-.264.504-.264.864m5.88-1.056v-1.656h.552V26h-.552v-.36c-.12.168-.264.312-.456.36h-.648c-.408 0-.744 0-1.008-.264-.264-.312-.384-.696-.384-1.176s.12-.864.384-1.152c.264-.288.6-.432 1.008-.432.264 0 .48.048.648.12.192.096.336.24.456.408M18.2 24.56c0 .384.096.672.264.888a.906.906 0 0 0 .696.312c.288 0 .528-.12.696-.312.168-.216.264-.504.264-.888 0-.36-.096-.648-.264-.864a.906.906 0 0 0-.696-.312.906.906 0 0 0-.696.312c-.168.216-.264.504-.264.864" stroke="#000" stroke-width="1.5"></path><path d="M11.6 2v1.2h4.8V2z" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>'}],[{shapeName:"EE_BJT_PNP1_V2",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M5.273 2h17.454v24H5.273z" fill="none"></path><path d="M22.605 14c0 3.432-2.478 6.192-5.55 6.192-3.072 0-5.55-2.76-5.55-6.192 0-3.432 2.478-6.192 5.55-6.192 3.072 0 5.55 2.76 5.55 6.192z" stroke="#000" stroke-width="1.5" fill="#fff"></path><path d="M15.135 14.984l3.49 3.888V26m-3.49-12.984l3.49-3.888V2m-3.49 12H5.273m9.862-3.912v7.824" stroke="#000" stroke-width="1.5" fill="none"></path><path d="M15.833 12.248l.523-1.944 1.222 1.344-1.745.6z" stroke="#000" stroke-width="1.5"></path></svg>'},{shapeName:"EE_BJT_NPN1_V2",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M5.273 2h17.454v24H5.273z" fill="none"></path><path d="M22.605 14c0 3.432-2.478 6.192-5.55 6.192-3.072 0-5.55-2.76-5.55-6.192 0-3.432 2.478-6.192 5.55-6.192 3.072 0 5.55 2.76 5.55 6.192z" stroke="#000" stroke-width="1.5" fill="#fff"></path><path d="M15.135 14.984l3.49 3.888V26m-3.49-12.984l3.49-3.888V2m-3.49 12H5.273m9.862-3.912v7.824" stroke="#000" stroke-width="1.5" fill="none"></path><path d="M18.45 18.68l-1.745-.576 1.222-1.368.524 1.944z" stroke="#000" stroke-width="1.5"></path></svg>'},{shapeName:"EE_JFET_P_V2",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M5.273 2h17.454v24H5.273z" fill="none"></path><path d="M22.588 14c0 3.936-2.723 7.104-6.057 7.104-3.333 0-6.056-3.168-6.056-7.104s2.723-7.104 6.057-7.104c3.335 0 6.058 3.168 6.058 7.104z" stroke="#000" stroke-width="1.5" fill="#fff"></path><path d="M15.484 17.072h3.14V26M5.275 10.928h13.35V2m-3.14 7.08v9.84" stroke="#000" stroke-width="1.5" fill="none"></path><path d="M13.913 9.896v2.064l-1.658-1.032 1.658-1.032z" stroke="#000" stroke-width="1.5"></path></svg>'},{shapeName:"EE_JFET_N_V2",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M5.273 2h17.454v24H5.273z" fill="none"></path><path d="M22.588 14c0 3.936-2.723 7.104-6.057 7.104-3.333 0-6.056-3.168-6.056-7.104s2.723-7.104 6.057-7.104c3.335 0 6.058 3.168 6.058 7.104z" stroke="#000" stroke-width="1.5" fill="#fff"></path><path d="M5.273 17.072h13.352V26m-3.14-15.072h3.14V2m-3.14 7.08v9.84" stroke="#000" stroke-width="1.5" fill="none"></path><path d="M13.39 16.04v2.064l1.57-1.032-1.57-1.032z" stroke="#000" stroke-width="1.5"></path></svg>'},{shapeName:"EE_MOSFET_P1_V2",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n      <path d="M5.273 2h17.454v24H5.273z" fill="none"></path>\n      <path d="M22.605 14c0 3.432-2.478 6.192-5.55 6.192-3.072 0-5.55-2.76-5.55-6.192 0-3.432 2.478-6.192 5.55-6.192 3.072 0 5.55 2.76 5.55 6.192z" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n      <path d="M15.484 9.32v2.328m0 1.176v2.352m0 1.176v2.328m0-8.184h3.14M15.485 14h3.14V2m-4.188 15.504v-7.008H5.273m10.21-1.176v2.328m0 1.176v2.352m0 1.176v2.328m0-8.184h3.142m-3.14 7.008h3.14V26" stroke="#000" stroke-width="1.5" fill="none"></path>\n      <path d="M16.53 12.248v3.504L18.103 14l-1.57-1.752z" stroke="#000" stroke-width="1.5"></path>\n      </svg>'},{shapeName:"EE_MOSFET_P2_V2",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n      <path d="M5.273 2h17.454v24H5.273z" fill="none"></path>\n      <path d="M22.605 14c0 3.432-2.478 6.192-5.55 6.192-3.072 0-5.55-2.76-5.55-6.192 0-3.432 2.478-6.192 5.55-6.192 3.072 0 5.55 2.76 5.55 6.192z" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n      <path d="M14.436 17.816v-7.632M18.626 26v-8.496h-3.142v-7.008h3.14V2M5.275 14h7.59m1.572 0c0 .48-.35.888-.785.888-.435 0-.785-.408-.785-.888 0-.48.35-.888.786-.888.437 0 .786.408.786.888zm1.048-4.68v9.36" stroke="#000" stroke-width="1.5" fill="none"></path>\n      </svg>'},{shapeName:"EE_MOSFET_P3_V2",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M5.273 2h17.454v24H5.273z" fill="none"></path><path d="M22.605 14c0 3.432-2.478 6.192-5.55 6.192-3.072 0-5.55-2.76-5.55-6.192 0-3.432 2.478-6.192 5.55-6.192 3.072 0 5.55 2.76 5.55 6.192z" stroke="#000" stroke-width="1.5" fill="#fff"></path><path d="M15.484 13.976h3.14V2m-4.188 15.504v-7.008H5.273m10.21 0h3.142m-3.14 7.008h3.14V26" stroke="#000" stroke-width="1.5" fill="none"></path><path d="M15.484 9.32v9.36m1.047-6.432v3.504L18.103 14l-1.57-1.752z" stroke="#000" stroke-width="1.5"></path></svg>'},{shapeName:"EE_MOSFET_N1_V2",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M5.273 2h17.454v24H5.273z" fill="none"></path>\n    <path d="M22.605 14c0 3.432-2.478 6.192-5.55 6.192-3.072 0-5.55-2.76-5.55-6.192 0-3.432 2.478-6.192 5.55-6.192 3.072 0 5.55 2.76 5.55 6.192z" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    <path d="M17.7 14h1.065v12m-3.177-8.496h3.177m-3.177-7.008h3.177V2m-4.24 8.496v7.608H5.272M15.588 9.32v2.328m0 1.176v2.352m0 1.176v2.328" stroke="#000" stroke-width="1.5" fill="none"></path>\n    <path d="M15.588 9.32v2.328m0 1.176v2.352M16.112 14l1.588-1.752v3.504L16.112 14z" stroke="#000" stroke-width="1.5"></path>\n    </svg>'},{shapeName:"EE_MOSFET_N2_V2",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M5.273 2h17.454v24H5.273z" fill="none"></path><path d="M22.605 14c0 3.432-2.478 6.192-5.55 6.192-3.072 0-5.55-2.76-5.55-6.192 0-3.432 2.478-6.192 5.55-6.192 3.072 0 5.55 2.76 5.55 6.192z" stroke="#000" stroke-width="1.5" fill="#fff"></path><path d="M5.535 14h9.163m-.262 3.816v-7.632M18.626 26v-8.496h-3.142v-7.008h3.14V2M5.275 14h9.424m.786-4.68v9.36" stroke="#000" stroke-width="1.5" fill="none"></path></svg>'},{shapeName:"EE_MOSFET_N3_V2",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M5.273 2h17.454v24H5.273z" fill="none"></path>\n    <path d="M22.605 14c0 3.432-2.478 6.192-5.55 6.192-3.072 0-5.55-2.76-5.55-6.192 0-3.432 2.478-6.192 5.55-6.192 3.072 0 5.55 2.76 5.55 6.192z" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    <path d="M16.007 14l1.57-1.752v3.504L16.008 14zm1.57 0h1.048v12m-3.14-8.496h3.14M16.007 14l1.57-1.752v3.504L16.008 14zm-.523 3.504h3.14m-3.14-7.008h3.14V2m-4.188 8.496v7.608H5.273m10.21-8.784v9.36" stroke="#000" stroke-width="1.5" fill="none"></path>\n    <path d="M16.007 14l1.57-1.752v3.504L16.008 14z" stroke="#000" stroke-width="1.5"></path>\n    </svg>'}],[{shapeName:"EE_SPST",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M2 3.8h24v20.4H2z" fill="none"></path>\n    <path d="M2.744 24.2v-2c6.936 0 6.936-3.243 0-3.243 6.936 0 6.936-3.264.024-3.243 6.96 0 6.96-3.244 0-3.244 6.912 0 6.912-3.244-.024-3.244 6.936 0 6.936-3.244 0-3.244V3.8M9.2 5.84v16.32m.24-16.32v16.32" stroke="#000" stroke-width="1.5" fill="none"></path>\n    <path d="M14 3.8v6.12m1.2 1.02c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02M14 18.08v6.12m1.2-7.14c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m-.576-.714L17 11.96" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    </svg>',scale:{x:.6,y:1},offset:{x:-.175,y:0}},{shapeName:"EE_SPDT",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 3.8h24v20.4H2z" fill="none"></path>\n    <path d="M2.744 24.2v-2c6.936 0 6.936-3.243 0-3.243 6.936 0 6.936-3.264.024-3.243 6.96 0 6.96-3.244 0-3.244 6.912 0 6.912-3.244-.024-3.244 6.936 0 6.936-3.244 0-3.244V3.8M9.2 5.84v16.32m.24-16.32v16.32" stroke="#000" stroke-width="1.5" fill="none"></path>\n    <path d="M11.6 3.8v6.12m1.2 1.02c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m6-7.14v6.12m1.2 1.02c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m-4.8 7.14v6.12m1.2-7.14c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m-.576-.714L17.6 11.96" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    </svg>',scale:{x:.73,y:1},offset:{x:-.11,y:0}},{shapeName:"EE_DPST",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 3.8h24v20.4H2z" fill="none"></path>\n    <path d="M2.744 24.2v-2c6.936 0 6.936-3.243 0-3.243 6.936 0 6.936-3.264.024-3.243 6.96 0 6.96-3.244 0-3.244 6.912 0 6.912-3.244-.024-3.244 6.936 0 6.936-3.244 0-3.244V3.8M9.2 5.84v16.32m.24-16.32v16.32" stroke="#000" stroke-width="1.5" fill="none"></path>\n    <path d="M11.6 3.8v6.12m1.2 1.02c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m-1.2 7.14v6.12m1.2-7.14c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m-.576-.714L14.6 11.96M18.8 3.8v6.12m1.2 1.02c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m-1.2 7.14v6.12m1.2-7.14c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m-.576-.714L21.8 11.96" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    <path d="M10.16 14h.72m.72 0h.72m.72 0h.72m.72 0h.72m.72 0h.72m.72 0h.72m.72 0h.72m.72 0h.72m.72 0h.72m.72 0h.72" stroke="#000" stroke-width="1.5"></path>\n    </svg>',scale:{x:.892,y:1},offset:{x:-.029,y:0}},{shapeName:"EE_DPDT",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 3.8h24v20.4H2z" fill="none"></path>\n    <path d="M2.744 24.2v-2c6.936 0 6.936-3.243 0-3.243 6.936 0 6.936-3.264.024-3.243 6.96 0 6.96-3.244 0-3.244 6.912 0 6.912-3.244-.024-3.244 6.936 0 6.936-3.244 0-3.244V3.8M9.2 5.84v16.32m.24-16.32v16.32" stroke="#000" stroke-width="1.5" fill="none"></path>\n    <path d="M10.16 14h.72m.72 0h.72m.72 0h.72m.72 0h.72m.72 0h.72m.72 0h.72m.72 0h.72m.72 0h.72m.72 0h.72m.72 0h.72" stroke="#000" stroke-width="1.5"></path>\n    <path d="M11.6 3.8v6.12m1.2 1.02c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m2.88-7.14v6.12m1.2 1.02c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m-3.24 7.14v6.12m1.2-7.14c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m-.576-.714l1.776-4.386M20 3.8v6.12m1.2 1.02c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m2.88-7.14v6.12m1.2 1.02c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m-3.24 7.14v6.12m1.2-7.14c0 .563-.538 1.02-1.2 1.02-.662 0-1.2-.457-1.2-1.02s.538-1.02 1.2-1.02c.662 0 1.2.457 1.2 1.02m-.576-.714l1.776-4.386" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>',scale:{x:.95,y:1}}],[{shapeName:"EE_AND",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 6v16h4.8V6zM21.2 6v16H26V6z" fill="none"></path><path d="M8.72 10H2m6.72 8H2zm10.8-4H26zM8.72 6v16H14c3.12 0 5.52-3.52 5.52-8 0-4.32-2.4-8-5.52-8H8.72z" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>'},{shapeName:"EE_OR",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M2 6v16h4.8V6zM21.2 6v16H26V6z" fill="none"></path>\n    <path d="M8.96 10H2m6.96 8H2zm10.464-4H26zM7.784 7.6l.48.784C8.96 9.632 9.632 11.36 9.632 14c0 3.376-1.368 5.616-1.368 5.616l-.48.784h4.128c.576 0 1.824 0 3.264-.768 1.416-.784 3-2.352 4.248-5.408v-.448C16.952 7.664 13.04 7.6 11.912 7.6H7.784z" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    </svg>',scale:{x:1,y:.8}},{shapeName:"EE_Inverter",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 6v16h4.8V6zM21.2 6v16H26V6z" fill="none"></path><path d="M9.2 14H2zm12 0H26zm-12-8l9.6 8-9.6 8zm12 8c0 .64-.48 1.28-1.2 1.28s-1.2-.64-1.2-1.28.48-1.28 1.2-1.28 1.2.64 1.2 1.28" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>'},{shapeName:"EE_NAND",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 6v16h4.8V6zM21.2 6v16H26V6z" fill="none"></path><path d="M8.72 10H2m6.72 8H2zm13.2-4H26zM8.72 6v16H14c3.12 0 5.52-3.52 5.52-8 0-4.32-2.4-8-5.52-8H8.72zm13.2 8c0 .64-.48 1.28-1.2 1.28s-1.2-.64-1.2-1.28.48-1.28 1.2-1.28 1.2.64 1.2 1.28" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>'},{shapeName:"EE_NOR",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M2 6v16h4.8V6zM21.2 6v16H26V6z" fill="none"></path>\n    <path d="M8.96 10H2m6.96 8H2zm12.96-4H26zM7.784 7.6l.48.784C8.96 9.632 9.632 11.36 9.632 14c0 3.376-1.368 5.616-1.368 5.616l-.48.784h4.128c.576 0 1.824 0 3.264-.768 1.416-.784 3-2.352 4.248-5.408v-.448C16.952 7.664 13.04 7.6 11.912 7.6H7.784zM21.92 14c0 .707-.538 1.28-1.2 1.28-.662 0-1.2-.573-1.2-1.28 0-.707.538-1.28 1.2-1.28.662 0 1.2.573 1.2 1.28" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    </svg>',scale:{x:1,y:.8}},{shapeName:"EE_XOR",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M2 6v16h4.8V6zM21.2 6v16H26V6z" fill="none"></path>\n    <path d="M8.96 10H2m6.96 8H2zm10.464-4H26zM7.784 7.6l.48.784C8.96 9.632 9.632 11.36 9.632 14c0 3.376-1.368 5.616-1.368 5.616l-.48.784h4.128c.576 0 1.824 0 3.264-.768 1.416-.784 3-2.352 4.248-5.408v-.448C16.952 7.664 13.04 7.6 11.912 7.6H7.784z" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    <path d="M6.44 20.4c1.313 0 2.28-2.866 2.28-6.4 0-3.534-.967-6.4-2.16-6.4" stroke="#000" stroke-width="1.5" fill="none"></path>\n    </svg>',scale:{x:1,y:.8}},{shapeName:"EE_NXOR",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M2 6v16h4.8V6zM21.2 6v16H26V6z" fill="none"></path>\n    <path d="M8.96 10H2m6.96 8H2zm12.96-4H26zM7.784 7.6l.48.784C8.96 9.632 9.632 11.36 9.632 14c0 3.376-1.368 5.616-1.368 5.616l-.48.784h4.128c.576 0 1.824 0 3.264-.768 1.416-.784 3-2.352 4.248-5.408v-.448C16.952 7.664 13.04 7.6 11.912 7.6H7.784zM21.92 14c0 .707-.538 1.28-1.2 1.28-.662 0-1.2-.573-1.2-1.28 0-.707.538-1.28 1.2-1.28.662 0 1.2.573 1.2 1.28" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    <path d="M6.44 20.4c1.313 0 2.28-2.866 2.28-6.4 0-3.534-.967-6.4-2.16-6.4" stroke="#000" stroke-width="1.5" fill="none"></path>\n    </svg>',scale:{x:1,y:.8}},{shapeName:"EE_DTypeRSFlipFlop",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M8.47 5.192h11.367v17.736H8.47V5.192zm.7 3.576v1.584h.307c.256 0 .444-.048.564-.192.12-.12.188-.312.188-.6s-.068-.48-.187-.6c-.12-.144-.307-.192-.563-.192H9.17m-.256-.24h.512c.376 0 .65.096.82.264.17.144.255.408.255.768 0 .36-.084.624-.272.792-.17.144-.426.24-.802.24h-.512V8.528m1.946 10.248l-1.895.792v-.288l1.588-.648-1.588-.648v-.288l1.895.768v.312m7.407-9.984a.524.524 0 0 0-.444.24c-.102.144-.154.36-.154.6 0 .264.05.48.153.624.12.144.273.216.444.216.187 0 .34-.072.443-.216.12-.144.17-.36.17-.624 0-.24-.05-.456-.17-.6a.486.486 0 0 0-.443-.24m.358 1.848l.34.384h-.306l-.274-.312H18.268a.78.78 0 0 1-.633-.288c-.153-.192-.24-.456-.24-.792 0-.312.087-.576.24-.768a.78.78 0 0 1 .632-.288c.273 0 .478.096.648.288.154.192.24.456.24.768 0 .24-.052.456-.137.624a.925.925 0 0 1-.393.384m-.512 7.248a.532.532 0 0 0-.427.24c-.12.144-.17.36-.17.624 0 .24.05.456.17.6.103.144.256.24.427.24a.54.54 0 0 0 .444-.24c.12-.144.17-.36.17-.6 0-.264-.05-.48-.17-.624a.54.54 0 0 0-.444-.24m.358 1.848l.343.384h-.307l-.273-.312H18.113a.78.78 0 0 1-.63-.288c-.155-.192-.24-.456-.24-.768 0-.336.085-.6.24-.792a.78.78 0 0 1 .63-.288c.273 0 .478.096.65.288.152.192.238.456.238.792 0 .216-.05.432-.136.6a.925.925 0 0 1-.393.384M14.667 5.864v.288c-.086-.072-.188-.096-.273-.12-.086-.024-.17-.048-.24-.048a.544.544 0 0 0-.324.096c-.086.048-.12.144-.12.24s.034.168.068.216c.05.048.154.096.29.12l.154.024c.188.048.34.12.427.216a.61.61 0 0 1 .135.408.526.526 0 0 1-.188.432c-.12.12-.307.168-.53.168-.1 0-.186-.024-.29-.048-.1 0-.204-.048-.323-.096v-.288c.12.072.222.12.307.144a.688.688 0 0 0 .308.048c.137 0 .256-.024.325-.072.085-.072.12-.168.12-.288 0-.096-.018-.168-.086-.216-.052-.072-.137-.12-.273-.144L14 6.92a1.04 1.04 0 0 1-.41-.192.547.547 0 0 1-.136-.384c0-.168.05-.312.17-.432.12-.096.29-.144.495-.144.085 0 .17 0 .273.024.085.024.187.048.273.072m-.188 15.6c.068.024.12.072.17.144.052.048.103.144.154.264l.256.552h-.273l-.24-.528c-.067-.12-.118-.216-.187-.264-.05-.048-.136-.072-.24-.072h-.272v.864h-.256v-2.04h.58c.205 0 .376.048.48.144.1.096.152.24.152.432 0 .144-.017.24-.068.336-.068.072-.137.144-.256.168m-.632-.864v.744h.325c.12 0 .205-.048.274-.096a.4.4 0 0 0 .102-.288c0-.12-.034-.216-.102-.264-.07-.072-.154-.096-.273-.096h-.324m3.09-3.216h2.406m.495-7.872h2.696m-2.68 9.12h2.68m-16.93 0h2.73M5.57 9.56h2.798m5.803-7.44v2.976m0 17.856v2.976" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>'},{shapeName:"EE_DTypeFlipFlop",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M8.47 5.216h11.367v17.712H8.47V5.216zm11.367 4.296h2.696m-2.68 9.12h2.68m-16.93 0h2.73M5.57 9.56H8.3m1.075-.816v1.584h.307c.256 0 .444-.048.563-.192.12-.12.188-.312.188-.6s-.068-.48-.188-.6c-.12-.144-.307-.192-.563-.192h-.307m-.256-.24h.51c.376 0 .65.096.82.264.17.144.256.408.256.768 0 .36-.085.624-.273.792-.17.144-.427.24-.802.24h-.51V8.504m9.027.096a.518.518 0 0 0-.444.216c-.102.144-.17.36-.17.624s.068.456.17.6c.103.168.256.24.444.24s.324-.072.444-.24c.103-.144.155-.336.155-.6 0-.264-.052-.48-.154-.624a.54.54 0 0 0-.443-.216m.36 1.824l.34.408h-.324l-.273-.336H18.147a.814.814 0 0 1-.648-.288c-.155-.192-.223-.456-.223-.768 0-.336.068-.6.222-.792a.814.814 0 0 1 .647-.288.78.78 0 0 1 .632.288c.152.192.238.456.238.792 0 .24-.052.432-.137.6-.084.168-.204.312-.374.384m-.376 7.344a.518.518 0 0 0-.444.216 1.14 1.14 0 0 0-.17.624c0 .264.068.456.17.624a.518.518 0 0 0 .444.216.54.54 0 0 0 .444-.216c.102-.168.153-.36.153-.624s-.05-.456-.153-.624a.54.54 0 0 0-.444-.216m.36 1.824l.34.408h-.307l-.29-.336H18.13c-.273 0-.478-.096-.63-.288-.172-.192-.24-.432-.24-.768s.068-.576.24-.768a.777.777 0 0 1 .63-.312.8.8 0 0 1 .632.312c.153.192.24.432.24.768 0 .24-.053.432-.138.624a.727.727 0 0 1-.375.36m-1.555-2.328h2.407m-8.704 1.752l-1.895.792v-.288l1.588-.648-1.587-.648v-.312l1.895.792v.312" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>',scale:{x:1,y:.75}},{shapeName:"EE_DTypeFlipFlopWithClear",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M8.47 5.192h11.367v17.712H8.47V5.192zM13.12 5.192c0 -1.3 2.1 -1.3 2.1 0zM8.47 5.192m11.367 4.296h2.696m-2.68 9.12h2.68m-16.93 0h2.73M5.57 9.536h2.78m5.82-6.576v1.248m-4.95 4.44v1.608h.31c.255 0 .442-.072.562-.192.136-.144.187-.336.187-.624 0-.264-.052-.48-.188-.6-.12-.12-.307-.192-.563-.192h-.31m-.255-.24h.53c.358 0 .63.096.802.264.17.168.256.408.256.768 0 .36-.086.624-.256.792-.17.168-.444.24-.803.24h-.53V8.408m1.964 10.416l-1.894.768v-.288l1.587-.648-1.586-.648v-.288l1.894.768v.336M18.3 8.672a.518.518 0 0 0-.443.216c-.12.144-.17.36-.17.624s.05.456.17.6c.102.168.256.24.444.24a.46.46 0 0 0 .427-.24c.12-.144.17-.336.17-.6 0-.264-.05-.48-.17-.624a.488.488 0 0 0-.426-.216m.36 1.824l.323.408h-.307l-.273-.336H18.3a.814.814 0 0 1-.648-.288c-.153-.192-.24-.456-.24-.768 0-.336.087-.6.24-.792a.814.814 0 0 1 .65-.288.78.78 0 0 1 .63.288c.154.192.24.456.24.792 0 .24-.052.432-.137.6a.85.85 0 0 1-.376.384m-.257 7.32a.518.518 0 0 0-.444.216 1.14 1.14 0 0 0-.17.624c0 .264.067.456.17.624a.518.518 0 0 0 .443.216c.188 0 .342-.072.444-.216.102-.168.154-.36.154-.624s-.05-.456-.153-.624a.518.518 0 0 0-.444-.216m.36 1.824l.34.408h-.307l-.29-.336c-.017 0-.052 0-.07.024h-.033c-.273 0-.478-.096-.63-.288-.172-.216-.24-.456-.24-.792 0-.312.068-.576.24-.768.152-.192.357-.288.63-.288s.478.096.632.288c.17.192.24.456.24.768 0 .24-.036.456-.138.624a.727.727 0 0 1-.375.36m-1.536-2.328h2.39" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>',scale:{x:1,y:.85},offset:{x:0,y:-.047}},{shapeName:"EE_RSLatch",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M8.47 5.192h11.367v17.736H8.47V5.192zM10.28 8.48v.264c-.103-.048-.188-.096-.274-.12-.102-.024-.17-.024-.256-.024-.136 0-.256.024-.324.096a.273.273 0 0 0-.12.24c0 .096.035.168.086.216.05.048.137.072.29.096l.154.048a.642.642 0 0 1 .41.192.57.57 0 0 1 .136.408c0 .192-.05.36-.188.456-.12.096-.29.144-.53.144-.084 0-.187 0-.29-.024a1.51 1.51 0 0 1-.306-.096v-.288a.89.89 0 0 0 .307.144c.085.024.188.048.29.048.137 0 .256-.024.34-.096.07-.072.12-.144.12-.264 0-.096-.033-.192-.084-.24a.68.68 0 0 0-.29-.12l-.153-.048a.642.642 0 0 1-.41-.192c-.085-.072-.136-.216-.136-.36 0-.192.07-.336.188-.432a.738.738 0 0 1 .478-.168c.086 0 .188.024.273.048.085 0 .187.024.29.072m-.274 10.392c.052 0 .12.048.17.12.052.072.103.168.155.264l.257.576h-.273l-.24-.528c-.068-.144-.12-.24-.187-.288-.05-.048-.137-.048-.24-.048h-.272v.864H9.12v-2.064h.58c.204 0 .375.048.477.144.102.096.154.24.154.456 0 .12-.016.24-.085.312-.05.096-.136.144-.24.192m-.63-.864v.72H9.7c.12 0 .204-.024.272-.096.07-.048.086-.144.086-.264 0-.12-.017-.216-.086-.288a.454.454 0 0 0-.273-.072h-.325m7.646-.456h2.39m.427-8.04h2.696m-2.68 9.12h2.68m-16.93 0h2.73m.137-13.44h11.367v17.736H8.47V5.192zm10.036 3.36a.518.518 0 0 0-.444.216c-.103.144-.17.36-.17.624s.067.456.17.6c.102.168.256.24.444.24.187 0 .324-.072.443-.24.102-.144.153-.336.153-.6 0-.264-.05-.48-.154-.624a.54.54 0 0 0-.444-.216m.358 1.824l.34.408H18.9l-.29-.336h-.068-.034c-.273 0-.478-.096-.632-.288-.17-.192-.24-.456-.24-.768 0-.336.07-.6.24-.792.154-.192.36-.288.632-.288a.78.78 0 0 1 .63.288c.155.192.24.456.24.792 0 .24-.034.432-.137.6a.69.69 0 0 1-.376.384m-.666 7.68a.54.54 0 0 0-.443.24c-.103.144-.17.36-.17.624 0 .24.067.456.17.6a.54.54 0 0 0 .443.24c.188 0 .325-.096.444-.24.103-.144.154-.36.154-.6 0-.264-.05-.48-.154-.624-.12-.144-.256-.24-.444-.24m.36 1.848l.34.408h-.307l-.29-.336h-.067-.035c-.273 0-.477-.096-.63-.288-.172-.192-.24-.456-.24-.768 0-.336.068-.6.24-.792.153-.192.357-.288.63-.288s.478.096.632.288c.17.192.24.456.24.792 0 .216-.035.432-.138.6a.884.884 0 0 1-.375.384M5.57 9.56h2.798" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>',scale:{x:1,y:.75}},{shapeName:"EE_SyncRSLatch",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M8.47 5.192h11.367v17.736H8.47V5.192zm2.304 9.144l-1.877.792v-.312l1.587-.648-1.587-.648v-.288l1.877.792v.312m7.493-5.616a.563.563 0 0 0-.444.216c-.102.144-.154.36-.154.624s.05.456.153.6c.12.168.273.24.444.24.187 0 .34-.072.443-.24.12-.144.17-.336.17-.6 0-.264-.05-.48-.17-.624a.518.518 0 0 0-.443-.216m.358 1.824l.34.408h-.306l-.274-.336H18.268a.78.78 0 0 1-.633-.288c-.153-.192-.24-.456-.24-.768 0-.336.087-.576.24-.792a.78.78 0 0 1 .632-.288c.273 0 .478.096.648.288.154.216.24.456.24.792 0 .24-.052.432-.137.6a.718.718 0 0 1-.393.384m-.427 7.344a.54.54 0 0 0-.443.24c-.103.144-.17.36-.17.624 0 .24.067.456.17.6a.54.54 0 0 0 .443.24c.188 0 .325-.096.444-.24.103-.144.154-.36.154-.6 0-.264-.05-.48-.154-.624-.12-.144-.256-.24-.444-.24m.36 1.848l.34.384h-.307l-.29-.312h-.067-.035c-.273 0-.477-.096-.63-.288-.172-.192-.24-.456-.24-.768 0-.336.068-.6.24-.792.153-.192.357-.288.63-.288s.478.096.632.288c.17.192.24.456.24.792 0 .216-.035.432-.138.6a.884.884 0 0 1-.375.384M10.28 8.816v.264c-.103-.048-.188-.096-.274-.12-.102-.024-.17-.024-.256-.024-.136 0-.256.024-.324.096a.273.273 0 0 0-.12.24c0 .096.035.168.086.216.05.048.137.072.29.096l.154.048a.642.642 0 0 1 .41.192.57.57 0 0 1 .136.408c0 .192-.05.36-.188.456-.12.096-.29.144-.53.144-.084 0-.187 0-.29-.024-.1-.024-.204-.048-.306-.096v-.288a.89.89 0 0 0 .307.144c.085.024.188.048.29.048.137 0 .256-.024.34-.096.07-.072.12-.144.12-.264 0-.096-.033-.192-.084-.24a.68.68 0 0 0-.29-.12l-.153-.048a.642.642 0 0 1-.41-.192c-.085-.072-.136-.216-.136-.36 0-.192.07-.336.188-.432a.738.738 0 0 1 .478-.168c.086 0 .188.024.273.048.085 0 .187.024.29.072m-.274 10.056c.052 0 .12.048.17.12.052.072.103.168.155.264l.257.576h-.273l-.24-.528c-.068-.144-.12-.24-.187-.288-.05-.048-.137-.048-.24-.048h-.272v.864H9.12v-2.064h.58c.204 0 .375.048.477.144.102.096.154.24.154.456 0 .12-.016.24-.085.312-.05.096-.136.144-.24.192m-.63-.864v.72H9.7c.12 0 .204-.024.272-.096.07-.048.086-.144.086-.264 0-.12-.017-.216-.086-.288a.454.454 0 0 0-.273-.072h-.325m7.646-.624h2.39m.427-7.872h2.696m-2.68 9.12h2.68m-16.93 0h2.73M5.57 9.56h2.798m-2.73 4.512h2.73" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>',scale:{x:1,y:.75}},{shapeName:"EE_TTypeFlipFlop",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M8.47 5.192h11.367v17.736H8.47V5.192zm2.356 13.68l-1.895.768v-.288l1.605-.648-1.604-.648v-.288l1.896.792v.312M18.37 8.648a.54.54 0 0 0-.445.24c-.12.144-.17.36-.17.6 0 .264.05.48.17.624a.54.54 0 0 0 .444.24c.187 0 .323-.096.443-.24.102-.144.153-.36.153-.624 0-.24-.05-.456-.153-.6-.12-.144-.256-.24-.444-.24m.357 1.848l.325.384h-.307l-.274-.312h-.101a.814.814 0 0 1-.65-.288c-.153-.192-.238-.456-.238-.792 0-.312.085-.576.24-.768a.814.814 0 0 1 .647-.288.78.78 0 0 1 .63.288c.154.192.24.456.24.768 0 .24-.052.456-.137.624a.988.988 0 0 1-.376.384M8.863 8.528h1.604v.24h-.682v1.824H9.53V8.768h-.667v-.24m9.506 9.456a.518.518 0 0 0-.445.216c-.12.168-.17.36-.17.624s.05.48.17.624a.518.518 0 0 0 .444.216.54.54 0 0 0 .443-.216c.102-.144.153-.36.153-.624s-.05-.456-.153-.624a.54.54 0 0 0-.444-.216m.357 1.824l.325.408h-.307l-.274-.336c-.033 0-.05.024-.067.024h-.034a.814.814 0 0 1-.65-.288 1.285 1.285 0 0 1-.238-.792c0-.312.085-.576.24-.768a.814.814 0 0 1 .647-.288.78.78 0 0 1 .63.288c.154.192.24.456.24.768 0 .24-.052.456-.137.624a.795.795 0 0 1-.376.36m-1.553-2.328h2.407m.257-7.968h2.696m-2.68 9.12h2.68m-16.93 0h2.73M5.57 9.56h2.798" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>',scale:{x:1,y:.75}}],[{shapeName:"EE_Plus",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 2h24v24H2z" fill="none"></path><path d="M14 2v24M2 14h24" stroke="#000" stroke-width="1.5" fill="none"></path></svg>'},{shapeName:"EE_Negative",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 2h24v24H2z" fill="none"></path><path d="M2 14h24" stroke="#000" stroke-width="1.5"></path></svg>'},{shapeName:"EE_InverterContact",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 2h24v24H2z" fill="none"></path><path d="M21.44 14c0 4.08-3.36 7.44-7.44 7.44S6.56 18.08 6.56 14 9.92 6.56 14 6.56s7.44 3.36 7.44 7.44" stroke="#000" stroke-width="1.5" fill="#fff"></path></svg>'},{shapeName:"EE_Voltmeter",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n    <path d="M2 2h24v24H2z" fill="none"></path>\n    <path d="M26 14c0 6.72-5.28 12-12 12S2 20.72 2 14 7.28 2 14 2s12 5.28 12 12" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n    <path d="M6.8 6.8L14 21.2l7.2-14.4" stroke="#000" stroke-width="1.5" fill="none" data-shadow="none"></path>\n    </svg>'},{shapeName:"EE_Ammeter",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n      <path d="M2 2h24v24H2z" fill="none"></path>\n      <path d="M26 14c0 6.72-5.28 12-12 12S2 20.72 2 14 7.28 2 14 2s12 5.28 12 12" stroke="#000" stroke-width="1.5" fill="#fff"></path>\n      <path d="M14 4.4L6.8 21.2M14 4.4l7.2 16.8M9.68 14h8.64z" stroke="#000" stroke-width="1.5"></path>\n      </svg>'},{shapeName:"EE_SineWave",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 8h24v12H2z" fill="none"></path><path d="M2 14c0-3.36 2.64-6 6-6s6 2.64 6 6m0 0c0 3.36 2.64 6 6 6s6-2.64 6-6" stroke="#000" stroke-width="1.5" fill="none"></path></svg>'},{shapeName:"EE_Sawtooth",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 8h24v12H2z" fill="none"></path><path d="M2 20L14 8l12 12" stroke="#000" stroke-width="1.5" fill="none"></path></svg>'},{shapeName:"EE_SquareWave",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path d="M2 8h24v12H2z" fill="none"></path><path d="M2 14V8h12v12h12v-6" stroke="#000" stroke-width="1.5" fill="none"></path></svg>'}]);v.e.Shape.defineFigureGenerator("Positive",(function(t,e,n){const i=new v.e.Geometry;return i.add(new v.e.PathFigure(0,.5*n).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Move,.5*e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,n))),i})),v.e.Shape.defineFigureGenerator("Negative",(function(t,e,n){const i=new v.e.Geometry;return i.add(new v.e.PathFigure(0,.5*n).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n))),i})),v.e.Shape.defineFigureGenerator("SineWave",(function(t,e,n){const i=.25*e,a=.25*n,o=new v.e.Geometry;return o.add(new v.e.PathFigure(0,.5*n,!1).add(new v.e.PathSegment(v.e.PathSegment.Arc,180,180,.25*e,.5*n,i,a)).add(new v.e.PathSegment(v.e.PathSegment.Arc,180,-180,.75*e,.5*n,i,a))),o})),v.e.Shape.defineFigureGenerator("SquareWave",(function(t,e,n){const i=new v.e.Geometry;return i.add(new v.e.PathFigure(0,.5*n,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,0,.325*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,.325*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,.675*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.675*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n))),i})),v.e.Shape.defineFigureGenerator("SawtoothWave",(function(t,e,n){const i=new v.e.Geometry;return i.add(new v.e.PathFigure(0,.7*n,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,.2*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.7*n))),i})),v.e.Shape.defineFigureGenerator("CurrentUp",(function(t,e,n){const i=new v.e.Geometry;return i.add(new v.e.PathFigure(.5*e,n).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,.1*n)).add(new v.e.PathSegment(v.e.PathSegment.Move,.45*e,.1*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.55*e,.1*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,0).close())),i})),v.e.Shape.defineFigureGenerator("CurrentDown",(function(t,e,n){const i=new v.e.Geometry;return i.add(new v.e.PathFigure(.5*e,0).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,.9*n)).add(new v.e.PathSegment(v.e.PathSegment.Move,.45*e,.9*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.55*e,.9*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,n).close())),i})),v.e.Shape.defineFigureGenerator("EE_Multiplexer",(function(t,e,n){const i=(null==t?void 0:t.parameter2)||4,a=Math.ceil(Math.log(i)/Math.log(2)),o=new v.e.Geometry;o.add(new v.e.PathFigure(.2*e,0).add(new v.e.PathSegment(v.e.PathSegment.Line,.2*e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.8*e,.8*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.8*e,.2*n).close()).add(new v.e.PathSegment(v.e.PathSegment.Move,.8*e,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.5*n)));const r=.9*n/i;for(let t=1;t<=i;t++){const i=new v.e.PathFigure(0,.05*n+r*(t-.5)).add(new v.e.PathSegment(v.e.PathSegment.Line,.2*e,.05*n+r*(t-.5)));o.add(i)}const s=.6*e/(a+1),l=.2*n/(.6*e);for(let t=1;t<=a;t++){const i=new v.e.PathFigure(.2*e+s*t,n-s*t*l).add(new v.e.PathSegment(v.e.PathSegment.Line,.2*e+s*t,n));o.add(i)}return o})),v.e.Shape.defineFigureGenerator("EE_Demultiplexer",(function(t,e,n){const i=(null==t?void 0:t.parameter2)||4,a=Math.ceil(Math.log(i)/Math.log(2)),o=new v.e.Geometry;o.add(new v.e.PathFigure(.2*e,0).add(new v.e.PathSegment(v.e.PathSegment.Line,.2*e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.8*e,.8*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.8*e,.2*n).close()).add(new v.e.PathSegment(v.e.PathSegment.Move,0,.5*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.2*e,.5*n)));const r=.6*n/i;for(let t=1;t<=i;t++){const i=new v.e.PathFigure(.8*e,.2*n+r*(t-.5)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.2*n+r*(t-.5)));o.add(i)}const s=.6*e/(a+1),l=.2*n/(.6*e);for(let t=1;t<=a;t++){const i=new v.e.PathFigure(.2*e+s*t,n-s*t*l).add(new v.e.PathSegment(v.e.PathSegment.Line,.2*e+s*t,n));o.add(i)}return o})),v.e.Shape.defineFigureGenerator("EE_IntegratedCircuit",(function(t,e,n){const i=(null==t?void 0:t.parameter2)||8,a=new v.e.Geometry,o=new v.e.PathFigure(.1*e,.1*n).add(new v.e.PathSegment(v.e.PathSegment.Line,.1*e,.9*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.9*e,.9*n)).add(new v.e.PathSegment(v.e.PathSegment.Line,.9*e,.1*n).close());a.add(o);const r=new v.e.PathFigure(.4*e,.1*n,!1,!1).add(new v.e.PathSegment(v.e.PathSegment.Bezier,.6*e,.1*n,.4*e,.25*n,.6*e,.25*n)),s=null==t?void 0:t.fill.color;r.isShadowed="rgba(0,0,0,0)"===s,a.add(r);const l=Math.ceil(.5*i),c=i%2==0;for(let t=1;t<=l;t++){const i=.8*n/l,o=new v.e.PathFigure(.1*e,.1*n+i*(t-.5)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,.1*n+i*(t-.5))),r=new v.e.PathFigure(.9*e,.1*n+i*(t-.5)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,.1*n+i*(t-.5)));(t<l||c)&&a.add(o),a.add(r)}return a})),v.e.Shape.defineFigureGenerator("EE_Negative",(function(t,e,n){return v.e.Shape.getFigureGenerators().get("LineH")(t,e,n)}));for(const t of en){const{shapeName:e,svgstr:n,scale:i={x:1,y:1},offset:a={x:0,y:0}}=t;v.e.Shape.getFigureGenerators().get(e)||v.e.Shape.defineFigureGenerator(e,(function(t,e,o){const r=nn(n),{width:s,height:l}=r.bounds;return r.scale(e/s*i.x,o/l*i.y),r.offset(e*(1-i.x)*.5+e*a.x,o*(1-i.y)*.5+o*a.y),r}))}function nn(t){const e=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("path"),n=new v.e.Geometry;for(let t=0;t<e.length;t++){const i=e[t],a=i.getAttribute("d"),o="inner"===i.getAttribute("data-type"),r=parseFloat(i.getAttribute("stroke-width")||i.style.strokeWidth);if("string"==typeof a&&r&&!o){const t=v.e.Geometry.parse(a,!0),e=i.getAttribute("fill")||i.style.fill,o="none"!==i.getAttribute("data-shadow");t.figures.each(t=>{"string"==typeof e&&(t.isFilled="none"!==e,t.isShadowed=o),n.figures.add(t)})}}return n.normalize(),n}const an=v.e.GraphObject.make;function on(t){const e={EE_OpAmp:{size:16,width:200,height:200},EE_Capacitor2:{size:16,width:160,height:80},EE_VoltageSource:{size:12,width:120,height:120},EE_ControlledVoltageSource:{size:12,width:120,height:120}},{width:n,height:i,shapeName:a}=t,o=e[a].size;return{width:o*n/e[a].width,height:o*i/e[a].height}}function rn(t,e){const n={EE_OpAmp:{p:"0.2 0.2",n:"0.2 0.8"},EE_Capacitor2:{p:"0.35 0.16"},EE_VoltageSource:{p:"0.5 0.3",n:"0.5 0.7"},EE_ControlledVoltageSource:{p:"0.5 0.3",n:"0.5 0.7"}}[t][e];return v.e.Spot.parse(n)}const sn=v.e.GraphObject.make,ln=function(t){t.nodeTemplateMap.add("circuit",cn()),t.nodeTemplateMap.add("circuit-orient",cn("normal")),t.nodeTemplateMap.add("circuit-orient-side",cn("side"))};function cn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return sn(v.e.Node,"Spot",Object(M.d)(),hn(),dn(t))}function hn(){return sn(v.e.Panel,"Spot",{name:"WRAP_PANEL"},sn(v.e.Shape,"Rectangle",{name:"PORT_SHAPE",fill:"transparent",stroke:"transparent"},new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay()),sn(v.e.Shape,{name:"SHAPE",isPanelMain:!0,strokeMiterLimit:5,minSize:new v.e.Size(10,10),maxSize:new v.e.Size(9999,9999)},Object(M.f)(),Object(M.e)(),new v.e.Binding("figure"),new v.e.Binding("parameter2","wires")),an(v.e.Shape,"Positive",{strokeMiterLimit:5,alignmentFocus:v.e.Spot.Center},new v.e.Binding("visible","",t=>{const{charge:e,shapeName:n}=t;return!!e&&e.includes("+")&&O.b.charge.includes(n)}),new v.e.Binding("alignment","",t=>{const{shapeName:e,charge:n}=t;return rn(e,0===n.indexOf("+")?"p":"n")}),new v.e.Binding("width","",t=>{const{width:e}=on(t);return e}),new v.e.Binding("height","",t=>{const{height:e}=on(t);return e}),new v.e.Binding("strokeWidth"),new v.e.Binding("stroke")),an(v.e.Shape,"Negative",{strokeMiterLimit:5},new v.e.Binding("visible","",t=>{const{charge:e,shapeName:n}=t;return!!e&&e.includes("-")&&O.b.charge.includes(n)}),new v.e.Binding("alignment","",t=>{const{shapeName:e,charge:n}=t;return rn(e,0===n.indexOf("+")?"n":"p")}),new v.e.Binding("width","",t=>{const{width:e}=on(t);return e}),new v.e.Binding("strokeWidth"),new v.e.Binding("stroke")),an(v.e.Shape,{strokeMiterLimit:5,fill:null,alignment:v.e.Spot.Center,alignmentFocus:v.e.Spot.Center},new v.e.Binding("visible","shapeName",t=>"EE_AcSource"===t),new v.e.Binding("figure","waveType"),new v.e.Binding("width","",t=>{const{width:e,height:n,orient:i}=t;return i?.6*e:.6*n}),new v.e.Binding("height","",t=>{const{width:e,height:n,orient:i}=t;return i?.6*n:.6*e}),new v.e.Binding("strokeWidth"),new v.e.Binding("stroke"),new v.e.Binding("angle","orient",t=>t?0:90)),an(v.e.Shape,{strokeMiterLimit:5,fill:null,alignment:v.e.Spot.Center,alignmentFocus:v.e.Spot.Center},new v.e.Binding("visible","shapeName",t=>O.b.current.includes(t)),new v.e.Binding("figure","current",t=>({up:"CurrentUp",down:"CurrentDown"}[t])),new v.e.Binding("width","",t=>{const{width:e,height:n,orient:i}=t;return i?.4*e:.4*n}),new v.e.Binding("height","",t=>{const{width:e,height:n,orient:i}=t;return i?.4*n:.4*e}),new v.e.Binding("strokeWidth"),new v.e.Binding("stroke")),an(v.e.Panel,"Spot",an(v.e.Shape,{fill:null,stroke:null,isPanelMain:!0},new v.e.Binding("width"),new v.e.Binding("height")),new v.e.Binding("visible","shapeName",t=>"EE_IntegratedCircuit"===t),new v.e.Binding("itemArray","wires",t=>{const e=[],n=Math.ceil(.5*t);for(let i=1;i<=n;i++){const a=.1+.8/n*(i-.5);if(i<=.5*t){const t={num:i,spot:"0.2 "+a};e.push(t)}const o={num:t+1-i,spot:"0.8 "+a};e.push(o)}return e}),{itemTemplate:an(v.e.Panel,"Spot",{alignmentFocus:v.e.Spot.Center},new v.e.Binding("alignment","spot",t=>v.e.Spot.parse(t)),an(v.e.Shape,{fill:null,stroke:null},new v.e.Binding("width","",(t,e)=>.2*e.part.data.width),new v.e.Binding("height","",(t,e)=>e.part.data.fontSize||10)),an(v.e.TextBlock,{editable:!1},new v.e.Binding("text","num"),new v.e.Binding("font","",t=>t.part.findObject("TEXT").font).ofObject(),new v.e.Binding("stroke","",t=>t.part.findObject("TEXT").stroke).ofObject()))}))}function dn(t){switch(t){case"normal":return sn(v.e.Panel,"Spot",{alignmentFocusName:"TEXT_PANEL",alignment:v.e.Spot.TopLeft,alignmentFocus:v.e.Spot.TopLeft},new v.e.Binding("angle","orient",t=>{let e=0;return!1===t&&(e=90),e}),new v.e.Binding("alignment","",t=>{const{orient:e,labelDirection:n}=t;return!1===e?n?v.e.Spot.BottomRight:v.e.Spot.TopRight:!0===e?n?v.e.Spot.Bottom:v.e.Spot.Top:v.e.Spot.TopLeft}),new v.e.Binding("alignmentFocus","",t=>{const{orient:e,labelDirection:n}=t;return!1===e?n?v.e.Spot.TopRight:v.e.Spot.BottomRight:!0===e?n?v.e.Spot.Top:v.e.Spot.Bottom:v.e.Spot.TopLeft}),P.a.makeTextBlock({wrap:v.e.TextBlock.WrapFit}));case"side":return sn(v.e.Panel,"Auto",{alignmentFocusName:"TEXT_PANEL",alignment:v.e.Spot.TopLeft,alignmentFocus:v.e.Spot.TopLeft},new v.e.Binding("angle","orient",t=>{let e=0;return!1===t&&(e=90),e}),new v.e.Binding("alignment","",t=>{const{orient:e,labelDirection:n}=t;return!1===e?n?v.e.Spot.Left:v.e.Spot.Right:!0===e&&n?v.e.Spot.TopRight:v.e.Spot.TopLeft}),new v.e.Binding("alignmentFocus","",t=>{const{orient:e,labelDirection:n}=t;return!1===e?n?v.e.Spot.Right:v.e.Spot.Left:!0===e?n?v.e.Spot.TopLeft:v.e.Spot.TopRight:v.e.Spot.TopLeft}),P.a.makeTextBlock({wrap:v.e.TextBlock.WrapFit}));default:return sn(v.e.Panel,"Spot",{alignmentFocusName:"TEXT_PANEL"},sn(v.e.Shape,{name:"TEXT_PANEL",fill:null,strokeWidth:0,opacity:.2},new v.e.Binding("width"),new v.e.Binding("height")),P.a.makeTextBlock())}}var un=n(21);v.e.Shape.defineFigureGenerator("Wave",(function(t,e,n){const i=new v.e.Geometry;let a=null==t?void 0:t.parameter1;a=isNaN(a)?20:a;const o=.3*a,r=Math.ceil(e/80),s=new v.e.PathFigure(0,o,!0);i.add(s);for(let t=1;t<=r;t++)s.add(new v.e.PathSegment(v.e.PathSegment.Bezier,80*t,o,80*(t-.5),o-a,80*(t-.5),o+a));return s.add(new v.e.PathSegment(v.e.PathSegment.Line,80*r,n)),s.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close()),i.spot1=v.e.Spot.TopLeft,i.spot2=new v.e.Spot(1,.6),i})),v.e.Shape.defineFigureGenerator("Cistern",(function(t,e,n){const i=new v.e.Geometry,a=new v.e.PathFigure(0,0,!1);return i.add(a),a.add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)),a.add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)),i.spot1=v.e.Spot.TopLeft,i.spot2=new v.e.Spot(1,.6),i}));const fn=v.e.GraphObject.make,pn=fn(v.e.Node,"Spot",Object(M.d)(),fn(v.e.Panel,"Spot",{name:"WRAP_PANEL"},fn(v.e.Shape,{name:"SHAPE",isPanelMain:!0,fill:"transparent",strokeWidth:0},new v.e.Binding("width","width",t=>t).makeTwoWay(),new v.e.Binding("height","height",t=>t).makeTwoWay()),fn(v.e.Shape,"Cistern",{alignment:v.e.Spot.Center,alignmentFocus:new v.e.Spot(.5,.5),fill:"transparent",stroke:"#D9DCE5",strokeWidth:12,opacity:1,strokeJoin:"round",strokeCap:"round",shadowVisible:!0},new v.e.Binding("width","width",t=>t-12).ofObject("SHAPE"),new v.e.Binding("height","height",t=>Math.max(t-12,0)).ofObject("SHAPE"),new v.e.Binding("opacity")),fn(v.e.Panel,"Spot",{isClipping:!0,alignment:v.e.Spot.Bottom,alignmentFocus:new v.e.Spot(.5,1,0,12)},fn(v.e.Shape,{name:"MASK",isPanelMain:!0,strokeWidth:0},new v.e.Binding("width","width",t=>t-12).ofObject("SHAPE"),new v.e.Binding("height","height",t=>t).ofObject("SHAPE")),fn(v.e.Shape,"Wave",{name:"WaveShape",alignment:v.e.Spot.BottomLeft,alignmentFocus:v.e.Spot.BottomLeft,fill:fn(v.e.Brush,"Linear",{0:"#BCE5FF",1:"#7EB4FF",start:v.e.Spot.Top,end:v.e.Spot.Bottom}),strokeWidth:0},new v.e.Binding("width","width",t=>t+80).ofObject("SHAPE"),new v.e.Binding("height","",t=>{const e=t.height,n=t.part.data,{waterVolume:i=70}=n;return Math.max(e-12,0)*i*.01}).ofObject("SHAPE"),new v.e.Binding("parameter1","amplitude",t=>2*t),new v.e.Binding("fill","",mn)),fn(v.e.Shape,{fill:null,strokeWidth:0},new v.e.Binding("width"),new v.e.Binding("height"))),fn(v.e.Shape,"Cistern",{name:"CisternShape",alignment:v.e.Spot.Center,alignmentFocus:new v.e.Spot(.5,.5),fill:"transparent",stroke:"#D9DCE5",strokeWidth:12,opacity:1,strokeJoin:"round",strokeCap:"round"},new v.e.Binding("width","width",t=>t-12).ofObject("SHAPE"),new v.e.Binding("height","height",t=>Math.max(t-12,0)).ofObject("SHAPE"),new v.e.Binding("opacity")))),gn=fn(v.e.Node,"Spot",Object(M.d)(),fn(v.e.Panel,"Spot",{name:"WRAP_PANEL",isClipping:!0},fn(v.e.Shape,{name:"SHAPE",fill:"transparent",strokeWidth:0},new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay()),fn(v.e.Shape,"BottomRoundedRectangle",{name:"MASK",isPanelMain:!0,strokeWidth:0},new v.e.Binding("parameter1"),new v.e.Binding("width").ofObject("SHAPE"),new v.e.Binding("height").ofObject("SHAPE")),fn(v.e.Shape,"Wave",{name:"WaveShape",alignment:v.e.Spot.BottomLeft,alignmentFocus:v.e.Spot.BottomLeft,fill:fn(v.e.Brush,"Linear",{0:"#BCE5FF",1:"#7EB4FF",start:v.e.Spot.Top,end:v.e.Spot.Bottom}),strokeWidth:0},new v.e.Binding("width","width",t=>t+80).ofObject("SHAPE"),new v.e.Binding("height","",t=>{const e=t.height,n=t.part.data,{waterVolume:i=100}=n;return e*i*.01}).ofObject("SHAPE"),new v.e.Binding("fill","",mn),new v.e.Binding("parameter1","amplitude",t=>2*t),new v.e.Binding("opacity"))));function mn(t){const e=t.waterFill||"#BCE5FF";let n;return n="#BCE5FF"===e?fn(v.e.Brush,"Linear",{0:e,1:v.e.Brush.darkenBy(e,.2,v.e.Brush.HSL),start:v.e.Spot.Top,end:v.e.Spot.Bottom}):Object(w.a)({color:e,width:t.width,height:t.height}),n}const yn=v.e.GraphObject.make;function vn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"horizontal";const e="vertical"!==t,n={fill:yn(v.e.Brush,"Linear",{0:"#C4C7CF",.5:"#ECF0F4",1:"#C4C7CF",start:e?v.e.Spot.Top:v.e.Spot.Left,end:e?v.e.Spot.Bottom:v.e.Spot.Right}),stroke:null,strokeWidth:0};return n}const wn=v.e.GraphObject.make,xn=v.e.GraphObject.make,bn=v.e.GraphObject.make,Sn=v.e.GraphObject.make;v.e.Shape.defineFigureGenerator("PipeCornerGeo",(function(t,e,n){const i=.5*e,a=.5*n,o=.1*e,r=.1*n,s=new v.e.Geometry;return s.add(new v.e.PathFigure(0,a,!0).add(new v.e.PathSegment(v.e.PathSegment.Arc,180,90,i,a,i,a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,a-r)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,a-r)).add(new v.e.PathSegment(v.e.PathSegment.Arc,270,-90,i,a,o,r)).add(new v.e.PathSegment(v.e.PathSegment.Line,i-o,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n).close())),s})),v.e.Shape.defineFigureGenerator("PipeCorner",(function(t,e,n){const i=.5*e,a=.5*n,o=.1*e,r=.1*n,s=new v.e.Geometry;return s.add(new v.e.PathFigure(0,a,!0).add(new v.e.PathSegment(v.e.PathSegment.Arc,180,90,i,a,i,a)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,a-r)).add(new v.e.PathSegment(v.e.PathSegment.Arc,270,-90,i,a,o,r).close())),s})),v.e.Shape.defineFigureGenerator("PipeCrossGeo",(function(t,e,n){const i=.5*e,a=.5*n,o=.25*e*.5,r=.25*n*.5,s=new v.e.Geometry;return s.add(new v.e.PathFigure(0,a+r,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,0,a-r)).add(new v.e.PathSegment(v.e.PathSegment.Line,i-o,a-r)).add(new v.e.PathSegment(v.e.PathSegment.Line,i-o,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,i+o,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,i+o,a-r)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,a-r)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,a+r)).add(new v.e.PathSegment(v.e.PathSegment.Line,i+o,a+r)).add(new v.e.PathSegment(v.e.PathSegment.Line,i+o,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,i-o,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,i-o,a+r).close())),s})),v.e.Shape.defineFigureGenerator("PipeCrossVertical",(function(t,e,n){const i=.5*e,a=.5*n,o=i*(.25*n/e),r=new v.e.Geometry;return r.add(new v.e.PathFigure(i,a,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,0,a-o)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,a-o)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,a)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,a+o)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,a+o).close())),r})),v.e.Shape.defineFigureGenerator("TPipeGeo",(function(t,e,n){const i=.25*e,a=n/.625*.25,o=.5*e,r=new v.e.Geometry;return r.add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,a)).add(new v.e.PathSegment(v.e.PathSegment.Line,o+.5*i,a)).add(new v.e.PathSegment(v.e.PathSegment.Line,o+.5*i,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,o-.5*i,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,o-.5*i,a)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,a).close())),r})),v.e.Shape.defineFigureGenerator("TPipeVertical",(function(t,e,n){const i=e,a=n/.625*.25,o=.5*e,r=new v.e.Geometry;return r.add(new v.e.PathFigure(o,.5*a,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,e,a)).add(new v.e.PathSegment(v.e.PathSegment.Line,o+.5*i,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,o-.5*i,n)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,a).close())),r})),v.e.Shape.defineFigureGenerator("PipeFlowH",(function(t,e,n){const i=e+52,a=v.e.Shape.getFigureGenerators().get("LineH")(t,i,n);return a.startX=-26,a})),v.e.Shape.defineFigureGenerator("PipeCornerFlow",(function(t,e,n){const i=.5*e,a=.5*n,o=.1*e,r=.1*n,s=.5*(i+o),l=.5*(a+r),c=.5*(i-o),h=.5*(a-r),d=new v.e.Geometry;return d.add(new v.e.PathFigure(c,n,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,c,a)).add(new v.e.PathSegment(v.e.PathSegment.Arc,180,90,i,a,s,l)).add(new v.e.PathSegment(v.e.PathSegment.Line,e,h))),d})),v.e.Shape.defineFigureGenerator("PipeCrossFlow",(function(t,e,n){const i=.5*e,a=.5*n,o=new v.e.Geometry;return o.add(new v.e.PathFigure(-7,a,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e+7,a)).add(new v.e.PathSegment(v.e.PathSegment.Move,i,-7)).add(new v.e.PathSegment(v.e.PathSegment.Line,i,n+7))),o})),v.e.Shape.defineFigureGenerator("TPipeFlow",(function(t,e,n){const i=n/.625*.125,a=new v.e.Geometry;return a.add(new v.e.PathFigure(-7,i,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e+7,i)).add(new v.e.PathSegment(v.e.PathSegment.Move,.5*e,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,n+7))),a})),v.e.Shape.defineFigureGenerator("TPipeFlowBottom",(function(t,e,n){const i=n/.625*.125,a=new v.e.Geometry;return a.add(new v.e.PathFigure(e+7,i,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,-7,i)).add(new v.e.PathSegment(v.e.PathSegment.Move,.5*e,n+7)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,i))),a})),v.e.Shape.defineFigureGenerator("TPipeFlowLeft",(function(t,e,n){const i=n/.625*.125,a=new v.e.Geometry;return a.add(new v.e.PathFigure(e+7,i,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,-7,i)).add(new v.e.PathSegment(v.e.PathSegment.Move,.5*e,i)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,n+7))),a})),v.e.Shape.defineFigureGenerator("TPipeFlowRight",(function(t,e,n){const i=n/.625*.125,a=new v.e.Geometry;return a.add(new v.e.PathFigure(-7,i,!1).add(new v.e.PathSegment(v.e.PathSegment.Line,e+7,i)).add(new v.e.PathSegment(v.e.PathSegment.Move,.5*e,n+7)).add(new v.e.PathSegment(v.e.PathSegment.Line,.5*e,i))),a}));const kn=function(t){t.nodeTemplateMap.add("dynamic-wave",gn),t.nodeTemplateMap.add("dynamic-wave-cistern",pn),t.nodeTemplateMap.add("dynamic-pipe",wn(v.e.Node,"Spot",Object(M.d)(),wn(v.e.Panel,"Spot",{name:"WRAP_PANEL"},wn(v.e.Shape,"Rectangle",{name:"SHAPE",isPanelMain:!0,alignment:v.e.Spot.TopLeft,alignmentFocus:v.e.Spot.TopLeft,width:240,height:22},vn(),new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay())))),t.nodeTemplateMap.add("dynamic-pipe-corner",xn(v.e.Node,"Spot",Object(M.d)(),xn(v.e.Panel,"Spot",{name:"WRAP_PANEL"},xn(v.e.Shape,"PipeCornerGeo",{name:"SHAPE",isPanelMain:!0,fill:"#fff",strokeWidth:0},new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay()),xn(v.e.Panel,"Spot",{isClipping:!0},xn(v.e.Shape,"PipeCornerGeo",{fill:"#fff",strokeWidth:0},new v.e.Binding("width"),new v.e.Binding("height")),xn(v.e.Shape,"Rectangle",{fill:xn(v.e.Brush,"Radial",{.2:"#C4C7CF",.6:"#ECF0F4",1:"#C4C7CF",start:v.e.Spot.Center,end:v.e.Spot.Center}),strokeWidth:0},new v.e.Binding("width"),new v.e.Binding("height"))),xn(v.e.Shape,"Rectangle",{alignment:v.e.Spot.BottomLeft,alignmentFocus:v.e.Spot.BottomLeft},vn("vertical"),new v.e.Binding("width","width",t=>.4*t),new v.e.Binding("height","height",t=>.5*t)),xn(v.e.Shape,"Rectangle",{alignment:v.e.Spot.TopRight,alignmentFocus:v.e.Spot.TopRight},vn(),new v.e.Binding("width","width",t=>.5*t),new v.e.Binding("height","height",t=>.4*t))))),t.nodeTemplateMap.add("dynamic-pipe-cross",bn(v.e.Node,"Spot",Object(M.d)(),bn(v.e.Panel,"Spot",{name:"WRAP_PANEL"},bn(v.e.Shape,"PipeCrossGeo",{name:"SHAPE",isPanelMain:!0,fill:"#fff",strokeWidth:0},new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay()),bn(v.e.Shape,"Rectangle",vn(),new v.e.Binding("width"),new v.e.Binding("height","height",t=>.25*t)),bn(v.e.Panel,"Spot",bn(v.e.Shape,"PipeCrossVertical",vn("vertical"),new v.e.Binding("width","width",t=>.25*t),new v.e.Binding("height")))))),t.nodeTemplateMap.add("dynamic-pipe-t",Sn(v.e.Node,"Spot",Object(M.d)(),Sn(v.e.Panel,"Spot",{name:"WRAP_PANEL"},Sn(v.e.Shape,"TPipeGeo",{name:"SHAPE",isPanelMain:!0,fill:"#fff",strokeWidth:0},new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay()),Sn(v.e.Shape,"Rectangle",{alignment:v.e.Spot.Top,alignmentFocus:v.e.Spot.Top},vn(),new v.e.Binding("width"),new v.e.Binding("height","height",t=>t/.625*.25)),Sn(v.e.Panel,"Spot",Sn(v.e.Shape,"TPipeVertical",vn("vertical"),new v.e.Binding("width","width",t=>.25*t),new v.e.Binding("height"))))))},Pn=v.e.GraphObject.make,Mn=Pn(v.e.Group,"Spot",Object(M.d)({rotatable:!1,computesBoundsAfterDrag:!0,computesBoundsIncludingLinks:!1,handlesDragDropForMembers:!0,computesBoundsIncludingLocation:!0}),Pn(v.e.Panel,"Spot",Pn(v.e.Panel,"Spot",Pn(v.e.Shape,{name:"SHAPE"},Object(M.e)(),new v.e.Binding("geometry","",(t,e)=>function(t,e){const n=new v.e.Geometry;return n.add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,t,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0))),n}(t.width,t.height,t.figure)),new v.e.Binding("strokeWidth","strokeWidth",t=>Number(t)||1),new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay())),Pn(v.e.Panel,"Vertical",{name:"GROUP_PANEL"},new v.e.Binding("width","width",(t,e)=>{const n=e.part.data,i="number"==typeof n.strokeWidth?n.strokeWidth:1;return Number(t)+i}),new v.e.Binding("height","height",(t,e)=>Number(t)),Pn(v.e.Panel,"Auto",{name:"HEADER",alignment:v.e.Spot.TopLeft},Pn(v.e.Shape,"Rectangle",{alignment:v.e.Spot.Left,fill:"#fff",height:25,stroke:"rgb(129, 132, 132)"},new v.e.Binding("width","width",t=>Number(t)),new v.e.Binding("strokeWidth","strokeWidth",t=>"number"==typeof t?t:1).makeTwoWay(),new v.e.Binding("fill","fill"),new v.e.Binding("strokeDashArray"),new v.e.Binding("stroke","",t=>t.stroke||O.s))),Pn(v.e.Panel,"Spot",{name:"CONTENT"},new v.e.Binding("alignment","",t=>{const e="number"==typeof t.strokeWidth?t.strokeWidth:1;return new v.e.Spot(0,0,0,-e)}),Pn(v.e.Shape,"Rectangle",{name:"EMPTY",fill:"transparent",stroke:"rgb(129, 132, 132)"},new v.e.Binding("width","width"),new v.e.Binding("height","height",(t,e)=>{const n=e.part.data,i="number"==typeof n.strokeWidth?n.strokeWidth:1;return Number(t)-25-i}),new v.e.Binding("alignment","",t=>{const e="number"==typeof t.strokeWidth?t.strokeWidth:1;return new v.e.Spot(0,0,0,-e)}),new v.e.Binding("strokeWidth","strokeWidth",t=>"number"==typeof t?t:1).makeTwoWay(),new v.e.Binding("strokeDashArray"),new v.e.Binding("stroke","",t=>t.stroke||O.s)))),Pn(v.e.Panel,"Spot",{alignment:v.e.Spot.TopLeft,alignmentFocus:new v.e.Spot(0,0,0,3),alignmentFocusName:"TEXT_PANEL"},Pn(v.e.Shape,{name:"TEXT_PANEL",height:25,fill:null,stroke:"transparent"},new v.e.Binding("width","width",t=>t),new v.e.Binding("strokeWidth")),P.a.makeTextBlock({}))));const _n=v.e.GraphObject.make,Ln=_n(v.e.Group,"Spot",Object(M.d)({rotatable:!1,computesBoundsAfterDrag:!0,computesBoundsIncludingLinks:!1,handlesDragDropForMembers:!0,computesBoundsIncludingLocation:!0}),_n(v.e.Panel,"Spot",_n(v.e.Panel,"Spot",_n(v.e.Shape,{name:"SHAPE"},Object(M.e)(),new v.e.Binding("geometry","",(t,e)=>function(t,e){const n=new v.e.Geometry;return n.add(new v.e.PathFigure(0,0,!0).add(new v.e.PathSegment(v.e.PathSegment.Line,t,0)).add(new v.e.PathSegment(v.e.PathSegment.Line,t,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,e)).add(new v.e.PathSegment(v.e.PathSegment.Line,0,0))),n}(t.width,t.height,t.figure)),new v.e.Binding("strokeWidth","strokeWidth",t=>Number(t)||1),new v.e.Binding("stroke","",t=>t.stroke||"transparent"),new v.e.Binding("fill","",t=>!t.fill||t.fill&&t.fill.toLowerCase().endsWith("ffffff")?"transparent":Object(w.a)({color:t.fill,width:t.width,height:t.height})),new v.e.Binding("strokeDashArray"),new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay())),_n(v.e.Panel,"Vertical",{name:"GROUP_PANEL"},new v.e.Binding("width","width",(t,e)=>{const n=e.part.data,i="number"==typeof n.strokeWidth?n.strokeWidth:1;return Number(t)+i}),new v.e.Binding("height","height",(t,e)=>Number(t)),_n(v.e.Panel,"Auto",{name:"HEADER",alignment:v.e.Spot.TopLeft},_n(v.e.Shape,"Rectangle",{alignment:v.e.Spot.Left,fill:"transparent",height:25,stroke:"transparent"},new v.e.Binding("width","width",t=>Number(t)),new v.e.Binding("strokeWidth","strokeWidth",t=>"number"==typeof t?t:1).makeTwoWay(),new v.e.Binding("strokeDashArray"))),_n(v.e.Panel,"Spot",{name:"CONTENT"},new v.e.Binding("alignment","",t=>{const e="number"==typeof t.strokeWidth?t.strokeWidth:1;return new v.e.Spot(0,0,0,-e)}),_n(v.e.Shape,"Rectangle",{name:"EMPTY",fill:"transparent",stroke:"transparent"},new v.e.Binding("width","width"),new v.e.Binding("height","height",(t,e)=>{const n=e.part.data,i="number"==typeof n.strokeWidth?n.strokeWidth:1;return Number(t)-25-i}),new v.e.Binding("alignment","",t=>{const e="number"==typeof t.strokeWidth?t.strokeWidth:1;return new v.e.Spot(0,0,0,-e)}),new v.e.Binding("strokeWidth","strokeWidth",t=>"number"==typeof t?t:1).makeTwoWay()))),_n(v.e.Panel,"Spot",{alignment:v.e.Spot.TopLeft,alignmentFocus:new v.e.Spot(0,0,0,3),alignmentFocusName:"TEXT_PANEL"},_n(v.e.Shape,{name:"TEXT_PANEL",height:25,fill:null,stroke:"transparent"},new v.e.Binding("width","width",t=>t),new v.e.Binding("height","height",t=>t),new v.e.Binding("strokeWidth")),P.a.makeTextBlock({}))));const Tn=function(t,e){const n=e?e.resizeObject.getLocalPoint(t.documentPoint):null;(null!==(e&&e.resizeObject.containsPoint(n)?e:null)?e.addMembers(e.diagram.selection,!0):t.diagram.commandHandler.addTopLevelParts(t.diagram.selection,!0))||t.diagram.currentTool.doCancel()},On=function(t){t.groupTemplateMap.add("Visio-group",Mn),Mn.mouseDrop=Tn,t.groupTemplateMap.add("Visio-default-group",Ln),Mn.mouseDrop=Tn},An=function(t,e){if("function"==typeof e){const n=[],i=t.groupTemplateMap.get("visio-group");i&&e(i),n.forEach(n=>{const i=t.groupTemplateMap.get(n);i&&e(i)})}};var En=n(58);const Cn=v.e.GraphObject.make;function Nn(t,e){const n=e.diagram;if(n.isReadOnly&&"coop-readOnly"!==n.mode)return null;if(!e.visible)return null;const i=e.part.data.key,a=e.part.data.chartJs,o=function(t,e){let n=t.chartManager.getImage(e);n||(n=t.chartManager.setImage(e));return n}(e.diagram,i);return o.onload=()=>{e.redraw()},Object(En.a)(n,i,t,null,a),o}const Bn=function(t,e){e&&Object(En.b)(t),t.nodeTemplateMap.add("chart",Cn(v.e.Node,"Spot",Object(M.d)({rotatable:!1}),Cn(v.e.Panel,"Spot",{name:"WRAP_PANEL"},Cn(v.e.Shape,"Rectangle",{name:"SHAPE",isPanelMain:!0,width:400,height:240},Object(M.e)(),new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay(),new v.e.Binding("fill","dragAndDrop",t=>t?"rgba(207, 228, 255, 0.3)":"transparent")),Cn(v.e.Picture,{name:"CHART",imageStretch:v.e.GraphObject.Uniform,shadowVisible:!0,sourceCrossOrigin:()=>"anonymous"},new v.e.Binding("visible","dragAndDrop",t=>!t),new v.e.Binding("element","conchId",Nn),new v.e.Binding("width"),new v.e.Binding("height"))),Cn(v.e.Picture,{name:"SNAP_SHOT",imageStretch:v.e.GraphObject.Uniform,sourceCrossOrigin:()=>"anonymous"},new v.e.Binding("visible","",(t,e)=>{const n=t.image;return!e.diagram.chartManager&&!!n}),new v.e.Binding("source","image"),new v.e.Binding("width"),new v.e.Binding("height"))))};n(64);const jn={Electronic_142_true:O.s,Electronic_177_true:O.s,Electronic_58_true:O.s,Electronic_130_true:O.s,Electronic_158_true:O.s,Electronic_275_false:"transparent",Electronic_143_false:"transparent",Electronic_59_false:"transparent",Electronic_131_false:"transparent",Electronic_157_false:"transparent"},Dn=Object.assign({},{Electronic_142:"false",Electronic_275:"true"},{Electronic_177:"false",Electronic_58:"false",Electronic_130:"false",Electronic_158:"false",Electronic_143:"true",Electronic_59:"true",Electronic_131:"true",Electronic_157:"true"}),Fn={Electronic_161:"false",Electronic_162:"true"},Rn={Electronic_128:"true",Electronic_127:"false"};Object.assign({},{Electronic_13:"false",Electronic_14:"true",Electronic_15:"left"},{Electronic_80:"false",Electronic_81:"right",Electronic_82:"left"},{Electronic_135:"false",Electronic_136:"true",Electronic_139:"false",Electronic_140:"true",Electronic_174:"false",Electronic_175:"true",Electronic_176:"false",Electronic_222:"true",Electronic_179:"false",Electronic_180:"true",Electronic_159:"false",Electronic_160:"true",Electronic_232:"false",Electronic_233:"true",Electronic_234:"false",Electronic_178:"true",Electronic_235:"false",Electronic_236:"true",Electronic_269:"false",Electronic_268:"true",Electronic_163:"false",Electronic_164:"true"});var In=n(80);const zn=v.e.GraphObject.make;function Hn(){return zn(v.e.Node,"Spot",Object(M.d)(),zn(v.e.Panel,"Spot",{name:"WRAP_PANEL"},zn(v.e.Shape,"Rectangle",{name:"PORT_SHAPE",fill:"transparent",stroke:"transparent"},new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay()),zn(v.e.Shape,{name:"SHAPE",isPanelMain:!0,strokeMiterLimit:5,geometryStretch:v.e.GraphObject.None},Object(M.f)(),Object(M.e)(),new v.e.Binding("minSize",t=>t.minSize||new v.e.Size(1,1)),new v.e.Binding("geometry","",(t,e)=>Object(In.a)(e,t)),new v.e.Binding("fill","",t=>{const{fill:e,parameter1:n,shapeName:i}=t;if(i in Dn){const t="".concat(i,"_").concat(n);return t in jn?jn[t]:e}return e}),new v.e.Binding("parameter1"),new v.e.Binding("parameter2")),zn(v.e.Shape,{figure:"XLine"},new v.e.Binding("visible","",t=>{let{shapeName:e,parameter1:n}=t;return e in Fn&&("true"!==n&&"false"!==n||(n=JSON.parse(n)),!n)}),new v.e.Binding("width","",t=>.86*t.width),new v.e.Binding("height","",t=>.49*t.height),new v.e.Binding("stroke"),new v.e.Binding("strokeWidth")),zn(v.e.Shape,{figure:"LineV"},new v.e.Binding("visible","",t=>{let{shapeName:e,parameter1:n}=t;return e in Rn&&("true"!==n&&"false"!==n||(n=JSON.parse(n)),!n)}),new v.e.Binding("width"),new v.e.Binding("height"),new v.e.Binding("stroke"),new v.e.Binding("strokeWidth"))))}const Vn=["red","yellow","blue","green"];function Gn(){const t=Math.floor(3*Math.random());return Vn[t]}const Un=function(t){t.nodeTemplateMap.add("electronic",Hn()),t.nodeTemplateMap.add("electronicColorful",zn(v.e.Node,"Spot",Object(M.d)(),zn(v.e.Panel,{name:"WRAP_PANEL"},zn(v.e.Shape,{name:"SHAPE",isPanelMain:!0,strokeMiterLimit:5,figure:"Rectangle"},Object(M.f)(),Object(M.e)(),new v.e.Binding("minSize",t=>t.minSize||new v.e.Size(1,1)),new v.e.Binding("width"),new v.e.Binding("height")),zn(v.e.Panel,{itemTemplate:zn(v.e.Panel,{defaultAlignment:v.e.Spot.Center},zn(v.e.Shape,{stroke:null,strokeWidth:2},new v.e.Binding("fill","",Gn),new v.e.Binding("stroke","",Gn),new v.e.Binding("width"),new v.e.Binding("height"),new v.e.Binding("geometry","",v.e.Geometry.parse)))},new v.e.Binding("itemArray","geoItems")))))};var Wn=n(45);const qn=v.e.GraphObject.make,Yn=v.e.GraphObject.make,Xn=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Yn(v.e.Node,"Spot",Object(M.d)({rotatable:!1}),Yn(v.e.Panel,"Spot",{name:"WRAP_PANEL"},Yn(v.e.Shape,"Rectangle",Object(M.e)(),{name:"SHAPE",isPanelMain:!0,strokeWidth:0},new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay()),Yn(v.e.Panel,"Spot",{stretch:v.e.GraphObject.Fill},new v.e.Binding("visible","",(t,e)=>!Object(Wn.b)(e.diagram._uDiagram)),Yn(v.e.Shape,"RoundedRectangle",{stretch:v.e.GraphObject.Fill,fill:O.e,stroke:O.f}),Yn(v.e.Panel,"Viewbox",{name:"DOM_IMG",maxSize:new v.e.Size(100,100),stretch:v.e.GraphObject.Fill,viewboxStretch:v.e.GraphObject.Uniform},Yn(v.e.Picture,{sourceCrossOrigin:()=>"anonymous",source:t.img||O.g.video})))))},Kn=v.e.GraphObject.make,Zn=[void 0,"viewMode","share","insert"],$n=(t,e)=>{var n;const i=null===(n=e.part)||void 0===n?void 0:n.data,{height:a,strokeWidth:o}=i;return a-2*o-5};function Jn(t,e){const n=e.part,i=null==n?void 0:n.data,{height:a,strokeWidth:o,switchState:r}=i,s=Qn(r,a-2*o-5);i.textOption=s,n.updateTargetBindings("textOption")}const Qn=(t,e)=>{const n=.25*e+5,i=JSON.parse(O.v);return t?i.rightIndent=n:i.leftIndent=n,i.padding=.75*e,JSON.stringify(i)};function ti(t,e,n,i){const a=e.findObject("SLIDERSHAPE");t.animationManager.isEnabled=!0;const o=new v.e.Animation;o.add(a,"switchState",n,i),o.duration=200,o.easing=v.e.Animation.EaseLinear,o.runCount=1,o.start()}function ei(){return Kn(v.e.Node,"Spot",Object(M.d)(),Kn(v.e.Panel,"Spot",{name:"WRAP_PANEL"},Kn(v.e.Shape,"Rectangle",{name:"PORT_SHAPE",fill:"transparent",stroke:"transparent"},new v.e.Binding("width"),new v.e.Binding("height")),Kn(v.e.Shape,{name:"SHAPE",isPanelMain:!0},Object(M.f)(),Object(M.e)(),(()=>{const t=[];return O.u.forEach(e=>{const n=new v.e.Binding("",e,(t,n)=>{const i=n.diagram.mode;if(!Zn.includes(i)){var a;const i=null===(a=n.part)||void 0===a?void 0:a.data,o=i.switchConfig;i.switchState?o.on[e]=t:o.off[e]=t}});t.push(n)}),t})(),new v.e.Binding("","switchState",(t,e)=>{const n=e.diagram,i=e.part,a=null==i?void 0:i.data,{switchConfig:o,switchState:r,height:s,preSwitchState:l}=a;O.u.forEach(e=>{const n=t?o.on[e]:o.off[e];a[e]=n,i.updateTargetBindings(e)}),Jn(0,e);const c=new v.e.Spot(0,.5,s/2,0),h=new v.e.Spot(1,.5,-s/2,0);l!==t&&(r?ti(n,i,c,h):ti(n,i,h,c),a.preSwitchState=t)}),new v.e.Binding("","strokeWidth",Jn),new v.e.Binding("","width",Jn),new v.e.Binding("","height",Jn),new v.e.Binding("figure"),new v.e.Binding("parameter1","height"),new v.e.Binding("parameter2"),new v.e.Binding("geometry","shapeGeo",t=>v.e.Geometry.parse(t))),Kn(v.e.Shape,{name:"SLIDERSHAPE",fill:"#fff",figure:"Ellipse",strokeWidth:0,background:"transparent",alignment:new v.e.Spot(1,.5,-20,0)},new v.e.Binding("fill","sliderColor"),new v.e.Binding("width","",$n),new v.e.Binding("height","",$n),new v.e.Binding("alignment","",(t,e)=>{var n;const i=null===(n=e.part)||void 0===n?void 0:n.data,{height:a,switchState:o}=i,r=new v.e.Spot(0,.5,a/2,0),s=new v.e.Spot(1,.5,-a/2,0);return o?s:r}))),P.a.makeTextBlockPanel(),Kn(v.e.Shape,{name:"EVENTSHAPE",background:"transparent",fill:"transparent",stroke:"transparent",click:(t,e)=>{var n;const i=null===(n=e.part)||void 0===n?void 0:n.data,{animationConfig:a}=i;if(Array.isArray(a)&&a.find(t=>"状态切换"===t.effectName))return!1;{const t=e.diagram,{switchState:n}=i;t.model.setDataProperty(i,"switchState",!n)}}},new v.e.Binding("visible","",t=>{const e=t.diagram.mode;return Zn.includes(e)}).ofObject(),new v.e.Binding("width","width"),new v.e.Binding("height","height"),new v.e.Binding("figure"),new v.e.Binding("parameter1","height"),new v.e.Binding("parameter2"),new v.e.Binding("geometry","shapeGeo",t=>v.e.Geometry.parse(t))))}const ni=function(t){t.nodeTemplateMap.add("iframe",qn(v.e.Node,"Spot",Object(M.d)({rotatable:!1}),qn(v.e.Panel,"Spot",{name:"WRAP_PANEL"},qn(v.e.Shape,"Rectangle",Object(M.e)(),{name:"SHAPE",isPanelMain:!0,strokeWidth:0},new v.e.Binding("width").makeTwoWay(),new v.e.Binding("height").makeTwoWay()),qn(v.e.Panel,"Spot",{stretch:v.e.GraphObject.Fill},new v.e.Binding("visible","",(t,e)=>!Object(Wn.b)(e.diagram._uDiagram)),qn(v.e.Shape,"RoundedRectangle",{stretch:v.e.GraphObject.Fill,fill:O.e,stroke:O.f}),qn(v.e.Panel,"Viewbox",{name:"DOM_IMG",maxSize:new v.e.Size(100,100),stretch:v.e.GraphObject.Fill,viewboxStretch:v.e.GraphObject.Uniform},qn(v.e.Picture,{sourceCrossOrigin:()=>"anonymous",source:O.g.iframe})))))),t.nodeTemplateMap.add("video",Xn()),t.nodeTemplateMap.add("videoStream",Xn({img:O.g.videoStream})),t.nodeTemplateMap.add("timer",Object(S.a)()),t.nodeTemplateMap.add("switch",ei())};var ii=n(32),ai=n(12),oi=n(5);function ri(t){if(!t)return;let e=t;for(;e!==v.e.Panel.Table&&e.panel;)e=e.panel;return e.type===v.e.Panel.Table?e:e.findObject("TABLE")}function si(t,e){const n=e.diagram,i=Object(ai.a)(e);if(n.undoManager.isUndoingRedoing){const t=e.part;window.requestAnimationFrame((function e(){if(!n.undoManager.isUndoingRedoing){const e=n.skipsUndoManager;n.skipsUndoManager=!0;const i=t.findObject("TABLE");i.raiseChanged("_colDefs",i._colDefs,i._colDefs);const a=i.elements.iterator;for(;a.next();){const t=a.value.elements.iterator;for(;t.next();){const e=t.value;e.raiseChanged("column",e.column,e.column),e.updateTargetBindings("width")}}return t.ensureBounds(),void(n.skipsUndoManager=e)}setTimeout(()=>window.requestAnimationFrame(e))}))}if("Resizing"===n.currentTool.name){const a=e.columnCount,o=e.defaultColumnSeparatorStrokeWidth,r=new Array(a);let s=a,l=t;for(;s--;){const t=e.getColumnDefinition(s);r[s]=t,l-=t.actual+o}Math.abs(l)>0&&n.commit(e=>{const n=new v.e.List;let a=0;for(const c of r){var s;const r=null!==(s=c._scale)&&void 0!==s?s:(c.actual+o)/(t-l),h=t*r-o;c.minimum>h?a+=c.minimum-h:h>c.minimum&&n.add(c),c.width=Math.max(c.minimum,h),e.model.setDataProperty(i.data.colDefs[c.index],"width",c.width+o)}for(;a>0&&n.count;){const t=a/n.count;if(t<=0)break;const r=n.iterator;for(;r.next();){const s=r.value,l=s.actual-t;l<=s.minimum?(a-=t-(s.minimum-l),n.remove(s)):a-=t,s.width=Math.max(s.minimum,l),e.model.setDataProperty(i.data.colDefs[s.index],"width",s.width+o)}}i.data.width!==t&&e.model.setDataProperty(i.data,"width",t)},"Table Update Width")}}function li(t,e){const n=e.diagram,i=Object(ai.a)(e);if(n.undoManager.isUndoingRedoing){const t=e.part;window.requestAnimationFrame((function e(){if(!n.undoManager.isUndoingRedoing){const e=n.skipsUndoManager;n.skipsUndoManager=!0;const i=t.findObject("TABLE");i.raiseChanged("_rowDefs",i._rowDefs,i._rowDefs);const a=i.elements.iterator;for(;a.next();){const t=a.value.elements.iterator;for(;t.next();){const e=t.value;e.raiseChanged("column",e.column,e.column),e.updateTargetBindings("height")}}return t.ensureBounds(),void(n.skipsUndoManager=e)}setTimeout(()=>window.requestAnimationFrame(e))}))}if("Resizing"===n.currentTool.name){const a=e.rowCount,o=e.defaultColumnSeparatorStrokeWidth,r=new Array(a);let s=a,l=t;for(;s--;){const t=e.getRowDefinition(s);r[s]=t,l-=t.actual+o}Math.abs(l)>0&&n.commit(e=>{const n=new v.e.List;let a=0;for(const c of r){var s;const r=null!==(s=c._scale)&&void 0!==s?s:(c.actual+o)/(t-l),h=t*r-o;c.minimum>h?a+=c.minimum-h:h>c.minimum&&n.add(c),c.height=Math.max(c.minimum,h),e.model.setDataProperty(i.data.rowDefs[c.index],"height",c.height+o)}for(;a>0&&n.count;){const t=a/n.count;if(t<=0)break;const r=n.iterator;for(;r.next();){const s=r.value,l=s.actual-t;l<=s.minimum?(a-=t-(s.minimum-l),n.remove(s)):a-=t,s.height=Math.max(s.minimum,l),e.model.setDataProperty(i.data.rowDefs[s.index],"height",s.height+o)}}i.data.height!==t&&e.model.setDataProperty(i.data,"height",t)},"Table Update Height")}}function ci(t,e){const n=t.length;let i=0;for(t.forEach((t,n)=>{const a=e.getRowDefinition(n);let o=a.separatorStrokeWidth;isNaN(o)&&(o=e.defaultRowSeparatorStrokeWidth),a.height=t.height-o,a.minimum=20-o,i+=a.minimum+o}),isNaN(i)||(e.part.resizeObject.minSize=new v.e.Size(e.part.resizeObject.minSize.width,i));e.rowCount>n;)e.removeRowDefinition(e.rowCount-1)}function hi(t,e){const n=t.length;let i=0;for(t.forEach((t,n)=>{const a=e.getColumnDefinition(n);let o=a.separatorStrokeWidth;isNaN(o)&&(o=e.defaultColumnSeparatorStrokeWidth),a.width=t.width-o,a.minimum=30-o,i+=a.minimum+o}),isNaN(i)||(e.part.resizeObject.minSize=new v.e.Size(i,e.part.resizeObject.minSize.height));e.columnCount>n;)e.removeColumnDefinition(e.columnCount-1)}function di(t,e){const n=Object(ai.a)(e),i=ri(e),a=e.panel.panel.row,o=i.stripingColors,r=o.length,s=t;let l=1/0;return i.verticalStriping&&(l=a%r),i.horizontalStriping&&(l=Math.min(l,s%r)),l===1/0?n.data.fill?ui(n.data.fill,e):n.data.background?ui(n.data.background,e):ui(e.part.data.fill,e.part.resizeObject):n.data.stripedColor&&n.data.fill?ui(n.data.fill,e):ui(o[l],e)}function ui(t,e){return Object(w.a)({color:t,width:e.width,height:e.height})}function fi(t){if(!t)return null;const e=Object(oi.c)(t);if(delete e.__gohashid,delete e.animationConfig,e.label&&(e.label=""),Array.isArray(e.cols)){delete e.cols.__gohashid;for(const t of e.cols)t.label&&(t.label=""),delete t.__gohashid,delete t.animationConfig}if(Array.isArray(e.rowCols)){delete e.rowCols.__gohashid;for(const t of e.rowCols)if(delete t.__gohashid,delete t.animationConfig,Array.isArray(t.cols)){delete t.cols.__gohashid;for(const e of t.cols)e.label&&(e.label=""),delete e.__gohashid,delete e.animationConfig}}return e}var pi=n(11);function gi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class mi extends v.e.Panel{constructor(){super(v.e.Panel.Spot),gi(this,"_isSelected",!1)}get isSelected(){return this._isSelected}set isSelected(t){if(this._isSelected===t)return;if(null===this.diagram)return;const e=this._isSelected;this._isSelected=t,this.raiseChanged("isSelected",e,this._isSelected)}}class yi extends v.e.Panel{constructor(){super(v.e.Panel.Table),gi(this,"_selection",new v.e.Set),gi(this,"_currentCell",null),gi(this,"_selectionRowCols",[]),gi(this,"_horizontalStriping",!1),gi(this,"_verticalStriping",!1),gi(this,"_stripingColors",["rgb(242, 243, 245)","rgb(255, 255, 255)"])}get selectionRowCols(){return this._selectionRowCols}set selectionRowCols(t){if(this._selectionRowCols===t)return;const e=this._selectionRowCols,n=this.part,i=this.diagram;if(null===n)return;if(null===i)return;const a=t;if(this._selectionRowCols=a,i.undoManager.isUndoingRedoing){const t=this,e=i.skipsUndoManager;return i.skipsUndoManager=!0,t.clearSelection(),i.skipsUndoManager=e,void window.requestAnimationFrame((function e(){if(!i.undoManager.isUndoingRedoing){const e=i.skipsUndoManager;i.skipsUndoManager=!0;const a=n.position.copy();return n.isSelected?t.updateSelectionList():t.clearStatus(!0),t.raiseChanged("_rowDefs",t._rowDefs,t._rowDefs),t.raiseChanged("_colDefs",t._colDefs,t._colDefs),n.ensureBounds(),n.move(a),void(i.skipsUndoManager=e)}setTimeout(()=>window.requestAnimationFrame(e))}))}const o=this.selection;o.clear();const r=i.skipsUndoManager;i.skipsUndoManager=!0,a.forEach((t,e)=>{t.cols.forEach((t,n)=>{if(t===n){const t=this.findCellForRowCol(e,n);t&&(t.isSelected=!0,o.has(t)||o.add(t))}})}),i.skipsUndoManager=r,this.raiseChanged("selectionRowCols",e,t)}get selection(){return this._selection}set selection(t){if(this._selection===t)return;const e=this._selection;this._selection=t,this.raiseChanged("selection",e,t)}get horizontalStriping(){return this._horizontalStriping}set horizontalStriping(t){if(this._horizontalStriping===t)return;const e=this._horizontalStriping;this._horizontalStriping=t,this.raiseChanged("horizontalStriping",e,t),this._updateStripingColor()}get verticalStriping(){return this._verticalStriping}set verticalStriping(t){if(this._verticalStriping===t)return;const e=this._verticalStriping;this._verticalStriping=t,this.raiseChanged("verticalStriping",e,t),this._updateStripingColor()}get stripingColors(){return this._stripingColors}set stripingColors(t){if(!Array.isArray(t))return;if(t.length<2)return;const e=this._stripingColors;this._stripingColors=t,this.raiseChanged("stripingColors",e,t),this._updateStripingColor()}getCells(){const t=this.elements.iterator,e=new v.e.Set;for(;t.next();){const n=t.value.elements.iterator;for(;n.next();){const t=n.value;e.add(t)}}return e}_updateStripingColor(){if(this.elements.count){const t=this.elements.iterator;for(;t.next();){const e=t.value.elements.iterator;for(;e.next();){const t=e.value;t.raiseChanged("_colorIndex",t._colorIndex,t._colorIndex)}}}}updateSelectionList(t){const e=this._selectionRowCols;if(!t)return this.selection.clear(),void e.forEach((t,e)=>{t.cols.forEach((t,n)=>{if(t===n){const n=this.findCellForRowCol(e,t);n&&(n.isSelected=!0,this.updateSelectionList(n))}})});let n=t.row;const i=t.column;t.panel&&t.row!==t.panel.row&&(n=t.panel.row),void 0===e[n]&&(e[n]={cols:[],count:0});const a=e[n];t.isSelected?(a.cols[i]!==i&&(a.cols[i]=i,a.count+=1),this.selection.has(t)||this.selection.add(t)):(a.cols[i]===i&&(delete a.cols[i],a.count-=1),this.selection.has(t)&&this.selection.remove(t))}clearSelection(){if(null===this.diagram)return;const t=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,this.selection.each(t=>{t.isSelected=!1}),this.selection.clear(),this.diagram.skipsUndoManager=t}clearStatus(t){this.clearSelection(),t&&(this._currentCell=null);const e=this.selectionRowCols;this.elements.count<1||e.forEach((t,e)=>{t.cols.forEach((n,i)=>{if(n===i){const a=this.findCellForRowCol(e,n);if(!a)return;a.isSelected=!1,t.count-=1,delete t.cols[i]}})})}cellClicked(t,e){var n;const i=this.diagram;if(null!==i&&!(i.isReadOnly||null===this.part||null!==(n=this.part.data)&&void 0!==n&&n.lock))if(i.getEditingSelection().count>1)this.clearSelection();else if(this.part.isSelected&&e&&(!(ii.c?t.meta:t.control)||!t.shift)){if(ii.c?t.meta:t.control)e.isSelected=!e.isSelected,this.updateSelectionList(e);else if(t.shift){const t=this._currentCell;if(null===t)return;if(!t.isSelected)return;const n=Math.min(t.row,e.row),i=Math.max(t.row,e.row),a=Math.min(t.column,e.column),o=Math.max(t.column,e.column),r=new Array((i-n+1)*(o-a+1));let s=0,l=n,c=!1;for(;l<=i;){let t=a;for(;t<=o;){const e=this.findCellForRowCol(l,t++);r[s++]=e,e.isSelected||(c=!0)}l+=1}if(c||this.selection.count>s){this.clearStatus();let t=0;for(;t<s;){const e=r[t++];e.isSelected=!0,this.updateSelectionList(e)}}}else{if(setTimeout(()=>{const t=e.findObject("TEXT");if(t&&t instanceof v.e.TextBlock&&(t.editable||t.defaultEditable)&&"TextEditing"!==i.currentTool.name){const e=i.toolManager.textEditingTool;e.textBlock=t,i.currentTool=e,e.doActivate()}},20),e.isSelected&&1===this.selection.count)return;this.clearStatus(),e.isSelected=!0,this.updateSelectionList(e),this._currentCell=e}pi.a.$emit("editor/diagram/tables/changedSelection")}}findCellForRowCol(t,e){if(this.elements.count<=t)return null;const n=this.elt(t);return n.elements.count<=e?null:n.elt(e)}insertRowCol(t){switch(t){case"left":if(0===this._selection.count)this.insertColAt(0,0);else{const t=this.columnCount;let e=0;for(;e<t&&!this._selectionRowCols.some(t=>t.cols[e]===e);)e+=1;this.insertColAt(e,e)}break;case"right":if(0===this._selection.count){const t=this.columnCount;this.insertColAt(t,t-1)}else{let t=this.columnCount;for(;t>=0&&!this._selectionRowCols.some(e=>e.cols[t-1]===t-1);)t-=1;this.insertColAt(t,t-1)}break;case"top":if(0===this._selection.count)this.insertRowAt(0,0);else{const t=this.rowCount;let e=0;for(;e<t;){const t=e;if(void 0!==this._selectionRowCols[t]){if(this._selectionRowCols[t].cols.some((t,e)=>t===e))break;e+=1}else e+=1}this.insertRowAt(e,e)}break;case"bottom":{const t=this.rowCount;if(0===this._selection.count)this.insertRowAt(t,t-1);else{let e=t;for(;e>=0;){const t=e-1;if(void 0!==this._selectionRowCols[t]){if(this._selectionRowCols[t].cols.some((t,e)=>t===e))break;e-=1}else e-=1}this.insertRowAt(e,e-1)}}}}insertRowAt(t,e){const n=this.diagram;if(null===n)return;const i=Object(ai.a)(this).data;if(null===i)return;if(t>this.rowCount)return;if(e>=i.rowDefs.length)return;const a=n.skipsUndoManager;n.skipsUndoManager=!0,this.clearSelection(),n.skipsUndoManager=a,n.commit(n=>{const a=this.part.position.copy(),o=fi(i.rowDefs[e]);n.model.insertArrayItem(i.rowDefs,t,o);const r=fi(i.rowCols[e]),s=Object(oi.c)(this.selectionRowCols);if(t===e)s.splice(t,0,void 0),delete s[t];else if(this.horizontalStriping||this.verticalStriping){const e=i.rowCols[t];r.cols.forEach((t,n)=>{e&&e.cols[n].fill||(delete t.fill,delete t.stripedColor)})}n.model.insertArrayItem(i.rowCols,t,r),this.raiseChanged("_rowDefs",this._rowDefs,this._rowDefs),n.model.setDataProperty(i,"height",i.height+o.height),this.part.ensureBounds(),this.part.move(a),this.selectionRowCols=s;const l=this.part.containingGroup;l&&"around-group"===l.category&&Object(Fe.n)(n,l,!1,!1),this.updateAnimationConfigs(n)},"Table Insert Row")}insertColAt(t,e){const n=this.diagram;if(null===n)return;const i=Object(ai.a)(this).data;if(null===i)return;if(t>this.columnCount)return;if(e>=i.colDefs.length)return;const a=n.skipsUndoManager;n.skipsUndoManager=!0,this.clearSelection(),n.skipsUndoManager=a,n.commit(n=>{const a=this.part.position.copy(),o=fi(i.colDefs[e]);n.model.insertArrayItem(i.colDefs,t,o);const r=Object(oi.c)(this.selectionRowCols);t===e&&r.forEach(e=>{e.cols.splice(t,0,void 0),delete e.cols[t];for(let n=t+1;n<e.cols.length;n+=1)e.cols[n]===n-1&&(e.cols[n]=n)}),i.rowCols.forEach(i=>{const a=fi(i.cols[e]);if(t!==e&&(this.horizontalStriping||this.verticalStriping)){const e=i.cols[t];e&&e.fill||(delete a.fill,delete a.stripedColor)}a.column=t,n.model.insertArrayItem(i.cols,t,a);for(let e=t+1;e<i.cols.length;e+=1)n.model.setDataProperty(i.cols[e],"column",i.cols[e].column+1)}),this.raiseChanged("_colDefs",this._colDefs,this._colDefs),n.model.setDataProperty(i,"width",i.width+o.width),this.part.ensureBounds(),this.part.move(a),this.selectionRowCols=r;const s=this.part.containingGroup;s&&"around-group"===s.category&&Object(Fe.n)(n,s,!1,!1),this.updateAnimationConfigs(n)},"Table Insert Column")}canDeleteRow(){const t=this._selectionRowCols;let e=t.length,n=0;for(;e--;){const i=t[e];if(void 0!==i&&(i.count&&(n+=1,n>1)))break}return 1===n}removeRow(t){const e=this.diagram,n=this._selectionRowCols;if(void 0===t){if(!this.canDeleteRow())return;t=n.findIndex(t=>t&&t.count>0)}if(void 0!==t&&t>=0&&t<this.rowCount){if(1===this.rowCount)return void this.diagram.deleteParts([this.part]);const n=Object(ai.a)(this).data;if(null===n)return;const i=e.skipsUndoManager;e.skipsUndoManager=!0,this.clearSelection(),e.skipsUndoManager=i,e.commit(e=>{const i=this.part.position.copy(),a=n.rowDefs[t].height;e.model.removeArrayItem(n.rowDefs,t),e.model.removeArrayItem(n.rowCols,t),e.model.setDataProperty(n,"height",n.height-a),this.removeRowDefinition(this.rowCount-1),this.raiseChanged("_rowDefs",this._rowDefs,this._rowDefs);for(let e=t;e<this.rowCount;e+=1){const t=this.elt(e).elements.iterator;for(;t.next();){const e=t.value;e.raiseChanged("column",e.column,e.column),e.updateTargetBindings("height")}}this.part.ensureBounds(),this.part.move(i);const o=Object(oi.c)(this.selectionRowCols);o.length>this.rowCount&&o.pop(),this.selectionRowCols=o;const r=this.part.containingGroup;r&&"around-group"===r.category&&Object(Fe.n)(e,r,!1,!1),this.updateAnimationConfigs(e)},"Table Remove Row")}}canDeleteCol(){let t,e=this._selectionRowCols.length;for(;e--;){const n=this._selectionRowCols[e];if(void 0!==n){if(n.count>1)return!1;if(1===n.count)if(void 0===t)t=n.cols.findIndex((t,e)=>t===e);else if(n.cols[t]!==t)return!1}}return void 0!==t}removeCol(t){const e=this.diagram;if(void 0===t){if(!this.canDeleteCol())return;let e=this._selectionRowCols.length;for(;e--;){const n=this._selectionRowCols[e];if(void 0!==n&&1===n.count){t=n.cols.findIndex((t,e)=>t===e);break}}}if(void 0!==t&&t>=0&&t<this.columnCount){if(1===this.columnCount)return void this.diagram.deleteParts([this.part]);const n=Object(ai.a)(this).data;if(null===n)return;const i=e.skipsUndoManager;e.skipsUndoManager=!0,this.clearSelection(),e.skipsUndoManager=i,e.commit(e=>{const i=this.part.position.copy(),a=n.colDefs[t].width;e.model.removeArrayItem(n.colDefs,t),n.rowCols.forEach(n=>{e.model.removeArrayItem(n.cols,t);for(let i=t;i<n.cols.length;i+=1)e.model.setDataProperty(n.cols[i],"column",n.cols[i].column-1)}),e.model.setDataProperty(n,"width",n.width-a),this.removeColumnDefinition(this.columnCount-1),this.raiseChanged("_colDefs",this._colDefs,this._colDefs);const o=this.elements.iterator;for(;o.next();){const e=o.value;for(let n=t;n<this.columnCount;n+=1){if(n>=e.elements.count)continue;const t=e.elt(n);t.raiseChanged("column",t.column,t.column),t.updateTargetBindings("width")}}this.part.ensureBounds(),this.part.move(i);const r=Object(oi.c)(this.selectionRowCols),s=this.columnCount;r.forEach(t=>{if(t&&t.cols.length>s){t.cols.pop()===t.cols.length&&(t.count-=1)}}),this.selectionRowCols=r;const l=this.part.containingGroup;l&&"around-group"===l.category&&Object(Fe.n)(e,l,!1,!1),this.updateAnimationConfigs(e)},"Table Remove Column")}}setupColumns(t){if(isNaN(t))return;if("number"!=typeof t)return;if(t<1)return;const e=this.diagram;if(null===e)return;if(t===this.columnCount)return;const n=Object(ai.a)(this).data;t>this.columnCount?e.commit(e=>{const i=this.part.position.copy();let a=0;for(let i=this.columnCount;i<t;i+=1){const t=fi(n.colDefs[i-1]);a+=t.width,e.model.addArrayItem(n.colDefs,t),n.rowCols.forEach(t=>{const n=fi(t.cols[i-1]);(this.horizontalStriping||this.verticalStriping)&&(delete n.fill,delete n.stripedColor),n.column+=1,e.model.addArrayItem(t.cols,n)})}this.raiseChanged("_colDefs",this._colDefs,this._colDefs),e.model.setDataProperty(n,"width",n.width+a),this.part.ensureBounds(),this.part.move(i);const o=this.part.containingGroup;o&&"around-group"===o.category&&Object(Fe.n)(e,o,!1,!1)},"Table setup columns"):e.commit(e=>{const i=this.part.position.copy();let a=0;for(let i=this.columnCount-1;i>=t;i-=1)a+=n.colDefs[i].width,e.model.removeArrayItem(n.colDefs,i),n.rowCols.forEach(t=>{e.model.removeArrayItem(t.cols,i);for(let n=i;n<t.cols.length;n+=1)e.model.setDataProperty(t.cols[n],"column",t.cols[n].column-1)}),this.removeColumnDefinition(i);this.raiseChanged("_colDefs",this._colDefs,this._colDefs),e.model.setDataProperty(n,"width",n.width-a),this.part.ensureBounds(),this.part.move(i);const o=Object(oi.c)(this.selectionRowCols),r=this.columnCount;o.forEach(t=>{if(void 0!==t)for(;t.cols.length>r;){t.cols.pop()===t.cols.length&&(t.count-=1)}}),this.selectionRowCols=o;const s=this.part.containingGroup;s&&"around-group"===s.category&&Object(Fe.n)(e,s,!1,!1)},"Table setup columns")}setupRows(t){if(isNaN(t))return;if("number"!=typeof t)return;if(t<1)return;const e=this.diagram;if(null===e)return;if(t===this.rowCount)return;const n=Object(ai.a)(this).data;t>this.rowCount?e.commit(e=>{const i=this.part.position.copy();let a=0;for(let i=this.rowCount;i<t;i+=1){const t=fi(n.rowDefs[i-1]);a+=t.height,e.model.addArrayItem(n.rowDefs,t);const o=fi(n.rowCols[i-1]);(this.horizontalStriping||this.verticalStriping)&&o.cols.forEach(t=>{delete t.fill,delete t.stripedColor}),e.model.addArrayItem(n.rowCols,o)}this.raiseChanged("_rowDefs",this._rowDefs,this._rowDefs),e.model.setDataProperty(n,"height",n.height+a),this.part.ensureBounds(),this.part.move(i);const o=this.part.containingGroup;o&&"around-group"===o.category&&Object(Fe.n)(e,o,!1,!1)},"Table setup rows"):e.commit(e=>{const i=this.part.position.copy();let a=0;for(let i=this.rowCount-1;i>=t;i-=1)a+=n.rowDefs[i].height,e.model.removeArrayItem(n.rowDefs,i),e.model.removeArrayItem(n.rowCols,i),this.removeRowDefinition(i);this.raiseChanged("_rowDefs",this._rowDefs,this._rowDefs),e.model.setDataProperty(n,"height",n.height-a),this.part.ensureBounds(),this.part.move(i);const o=Object(oi.c)(this.selectionRowCols);for(;o.length>this.rowCount;)o.pop();this.selectionRowCols=o;const r=this.part.containingGroup;r&&"around-group"===r.category&&Object(Fe.n)(e,r,!1,!1)},"Table setup rows")}setupFill(t){const e=this.diagram,n=Object(ai.a)(this).data;if(this._selection.count)e.commit(e=>{this._selection.each(n=>{const i=Object(ai.a)(n).data;e.model.setDataProperty(i,"fill",t),i.stripedColor||!this.horizontalStriping&&!this.verticalStriping||e.model.setDataProperty(i,"stripedColor",!0),n.updateTargetBindings("fill"),delete i.background})},"Table setup cell color");else{const i=[],a=[],o=this.elements.iterator;for(;o.next();){const t=o.value.elements.iterator;for(;t.next();){const e=t.value,n=Object(ai.a)(e);n.data.hasOwnProperty("fill")&&i.push(e),n.data.hasOwnProperty("background")&&a.push(e)}}e.commit(e=>{i.forEach(n=>{const i=Object(ai.a)(n).data;i.stripedColor?e.model.setDataProperty(i,"fill",t):(e.model.setDataProperty(i,"fill",null),n.updateTargetBindings("fill"),delete i.fill)}),a.forEach(t=>{const n=Object(ai.a)(t).data;e.model.setDataProperty(n,"background",null),t.updateTargetBindings("background"),delete n.background}),e.model.setDataProperty(n,"fill",t),n.horizontalStriping&&e.model.setDataProperty(n,"horizontalStriping",!1),n.verticalStriping&&e.model.setDataProperty(n,"verticalStriping",!1)},"Table setup color")}}setupCellDataProperty(t,e){const n=this.diagram;if(this._selection.count)n.commit(n=>{this._selection.each(i=>{const a=Object(ai.a)(i).data;n.model.setDataProperty(a,t,e),i.updateTargetBindings(t)})},"Table setup cell property");else{const i=this.elements.iterator;n.commit(n=>{for(;i.next();){const a=i.value.elements.iterator;for(;a.next();){const i=a.value,o=Object(ai.a)(i).data;n.model.setDataProperty(o,t,e),i.updateTargetBindings(t)}}},"Table setup cell property")}}canMerge(){const t=this._selectionRowCols;let e="";return this._selection.count>1&&t.every(t=>{const n=t.join("");return""===n||(""===e?(e=n,!0):n===e)})}merge(){}updateAnimationConfigs(t){let{animationConfig:e=[],rowCols:n}=this.part.data;e=e.filter(t=>!t.general.forCell);const i=e.map(t=>t.id);n.forEach((t,n)=>{t.cols.forEach((t,a)=>{t.animationConfig&&t.animationConfig.forEach(t=>{t.general.forCell="row_".concat(n,"_col_").concat(a),i.includes(t.id)&&(t.id=Object(oi.f)()),e.push(t),i.push(t.id)})})}),t.model.setDataProperty(this.part.data,"animationConfig",e)}}const vi=v.e.GraphObject.make;function wi(){return vi(v.e.Node,v.e.Panel.Spot,Object(M.d)({rotatable:!1}),new v.e.Binding("_lock","lock"),{alignmentFocusName:"SHAPE"},{selectionChanged(t){if(!t.isSelected||1!==t.diagram.selection.count){ri(t).clearStatus(!0)}}},vi(v.e.Shape,"Rectangle",{name:"SHAPE",isPanelMain:!0,shadowVisible:!1},{fill:"transparent",strokeWidth:2,stroke:"black"},new v.e.Binding("strokeWidth"),new v.e.Binding("stroke"),new v.e.Binding("strokeDashArray"),new v.e.Binding("width"),new v.e.Binding("height"),...Object(M.e)()),vi(yi,{name:"TABLE",shadowVisible:!1},{defaultRowSeparatorStroke:"black",defaultColumnSeparatorStroke:"black",defaultRowSeparatorStrokeWidth:2,defaultColumnSeparatorStrokeWidth:2,defaultRowSeparatorDashArray:null,defaultColumnSeparatorDashArray:null},new v.e.Binding("defaultRowSeparatorStroke","stroke"),new v.e.Binding("defaultColumnSeparatorStroke","stroke"),new v.e.Binding("defaultRowSeparatorStrokeWidth","strokeWidth"),new v.e.Binding("defaultColumnSeparatorStrokeWidth","strokeWidth"),new v.e.Binding("defaultRowSeparatorDashArray","strokeDashArray"),new v.e.Binding("defaultColumnSeparatorDashArray","strokeDashArray"),new v.e.Binding("_rowCols","rowCols"),new v.e.Binding("_rowDefs","rowDefs"),new v.e.Binding("_colDefs","colDefs"),new v.e.Binding("","lock",(t,e)=>{t&&e.clearStatus()}),new v.e.Binding("verticalStriping"),new v.e.Binding("horizontalStriping"),new v.e.Binding("stripingColors"),new v.e.Binding("","strokeWidth",(t,e)=>{e.raiseChanged("_rowDefs",e._rowDefs,e._rowDefs),e.raiseChanged("_colDefs",e._colDefs,e._colDefs)}),new v.e.Binding("","width",si).ofObject("SHAPE"),new v.e.Binding("","height",li).ofObject("SHAPE"),new v.e.Binding("","_rowDefs",ci).ofObject("."),new v.e.Binding("","_colDefs",hi).ofObject("."),new v.e.Binding("itemArray","_rowCols").ofObject("."),{itemTemplate:vi(v.e.Panel,v.e.Panel.TableRow,{name:"TABLE_ROW"},new v.e.Binding("itemArray","cols"),{itemTemplate:vi(mi,v.e.Panel.Spot,{name:"TABLE_CELL",defaultAlignment:v.e.Spot.Center,alignmentFocusName:"MAIN_SHAPE",shadowVisible:!1},new v.e.Binding("column"),new v.e.Binding("_colorIndex","column").ofObject("."),new v.e.Binding("width","column",(t,e)=>ri(e).getColumnDefinition(t).actual).ofObject("."),new v.e.Binding("height","column",(t,e)=>{const n=ri(e),i=e.panel.row;return n.getRowDefinition(i).actual}).ofObject("."),{click(t,e){if(!e.part._clickStatus)return;const n=e.diagram,i=n.skipsUndoManager;n.skipsUndoManager=!0;ri(e).cellClicked(t,e),n.skipsUndoManager=i},doubleClick(t,e){const n=e.diagram;if(e.part.data.lock)return;const i=n.skipsUndoManager,a=ri(e);n.skipsUndoManager=!0,a.clearSelection(),a.cellClicked(t,e),n.skipsUndoManager=i,xi.doubleClick(t,e)}},vi(v.e.Shape,"Rectangle",{name:"MAIN_SHAPE",strokeWidth:0,fill:"transparent",isPanelMain:!0,shadowVisible:!0},new v.e.Binding("width").ofObject(".."),new v.e.Binding("height").ofObject(".."),new v.e.Binding("fill","_colorIndex",di).ofObject(".."),new v.e.Binding("fill","fill",(t,e)=>di(e.panel._colorIndex,e)),new v.e.Binding("fill","background",(t,e)=>di(e.panel._colorIndex,e))),vi(v.e.Shape,"Rectangle",{name:"SELECT_SHAPE",strokeWidth:2,fill:null,stroke:null},new v.e.Binding("width","width",t=>t-3).ofObject(".."),new v.e.Binding("height","height",t=>t-3).ofObject(".."),new v.e.Binding("stroke","isSelected",t=>t?"#2465FF":null).ofObject("TABLE_CELL")),bi())})}))}const xi=q.a.dbclickEditing("TEXT");function bi(){const t=P.a.makeTextBlock();return t.bind(new v.e.Binding("width").ofObject("..")),t.bind(new v.e.Binding("editable","_lock",t=>!t).ofObject("/")),vi(v.e.Panel,"Spot",{alignment:v.e.Spot.Center,alignmentFocusName:"TEXT_PANEL",isClipping:!0},new v.e.Binding("width","width",(t,e)=>{const n=Object(ai.a)(e).data,i="string"==typeof n.textOption?JSON.parse(n.textOption):n.textOption,a=i&&"number"==typeof i.padding?i.padding:5;return Math.max(0,t-2*a)}).ofObject(".."),new v.e.Binding("height").ofObject(".."),vi(v.e.Shape,"Rectangle",{name:"TEXT_PANEL",fill:"transparent",strokeWidth:0},new v.e.Binding("width").ofObject(".."),new v.e.Binding("height").ofObject("..")),t)}function Si(t){t.nodeTemplateMap.add("table",wi())}e.a={nodes:i,archi:a,uml:o,bpmn:r,standard:s,flowchart:l,shapes:c,groups:h,circuit:d,toolTip:un,links:I,dynamic:u,visio:f,charts:p,electronics:g,dom:m,tables:y}},function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var i=n(0),a=n(7);const o=i.e.GraphObject.make,r=function(t,e,n){return n=n||200,o(i.e.Adornment,"Auto",new i.e.Binding("visible","",t=>!!t[e]||!1),o(i.e.Shape,"RoundedRectangle",{fill:"#000",stroke:"#000",parameter1:4}),o(i.e.TextBlock,{wrap:i.e.TextBlock.WrapFit,desiredSize:new i.e.Size(200,NaN),font:"12px Microsoft Yahei",alignment:i.e.Spot.Center,margin:6,stroke:"#fff"},new i.e.Binding("text","",e=>"string"==typeof t?e[t]||t:"function"==typeof t?t(e):void 0)))};var s=n(65),l=n.n(s),c=n(10),h=n(35),d=n(3);const u=i.e.GraphObject.make,f={viewMode:!0,inset:!0,share:!0},p=function(){this.panelOptions={name:"LOCK_ADORNMENT",alignment:i.e.Spot.Center,width:24,zOrder:c.b.lockAdornment,visible:new i.e.Binding("visible","",t=>!!t.lock),position:new i.e.Binding("position","",(t,e)=>{let n;const o=e.adornedObject.part,r=b(o,3,"LOCK_ADORNMENT");if(o instanceof i.e.Link){let n;const{fromArrow:a,toArrow:r}=t;n=r&&"none"!==l()(r)?t.points.last():a&&"none"!==l()(a)?t.points.first():t.points.last();const s=b(o,8,"LOCK_ADORNMENT");return new i.e.Point(n.x+s/e.diagram.scale,n.y)}if("image"===t.category){const t=Object(a.b)((new i.e.List).add(o),!1,new i.e.Spot(0,0));n=new i.e.Point(t.x+t.width+r/e.diagram.scale,t.y)}else{const t=Object(a.b)((new i.e.List).add(o),!1,new i.e.Spot(0,0));n=new i.e.Point(t.x+t.width+r/e.diagram.scale,t.y)}return n})},this.imageOptions={name:"FULLY_LOCK",imageUrl:"/topo-static/images/templates/fully-lock.png",toolTip:r("完全锁定","lock"),width:20}},g=function(){this.panelOptions={name:"REL_ADORNMENT",width:24,zOrder:c.b.makeRelAdornment,visible:new i.e.Binding("visible","",t=>!t.lock&&!t.group),position:new i.e.Binding("position","",(t,e)=>{const n=e.adornedObject.part,o=Object(a.b)((new i.e.List).add(n),!1,new i.e.Spot(0,0)),r=b(n,3);return new i.e.Point(o.x+o.width+r/e.diagram.scale,o.y)})},this.imageOptions={name:"RELATION-LOGO",width:20,imageUrl:"/topo-static/images/templates/hotspot.png"}},m=function(){this.panelOptions={name:"noteAdornment",width:24,zOrder:c.b.noteAdornment,visible:new i.e.Binding("visible","",(t,e)=>{const n=e.diagram;return!(!n.mode||h.b[n.mode]&&"Standard-hotspot"===t.category)&&"historyMode"!==n.mode}),position:new i.e.Binding("position","",(t,e)=>{const n=e.adornedObject.part,o=b(n,3,"noteAdornment"),r=h.b[e.diagram.mode]&&t.relationInfo?25:0,s=Object(a.b)((new i.e.List).add(n),!1,new i.e.Spot(0,0));return new i.e.Point(s.x+s.width+o/e.diagram.scale,s.y+r/e.diagram.scale)})},this.imageOptions={name:"NOTE-IMAGE",imageUrl:"/topo-static/images/templates/note-adornment.png",width:20,alignment:new i.e.Spot(1,0,0,0),alignmentFocus:new i.e.Spot(0,0,0,0)}},y=function(){this.panelOptions={name:"RELATION_LINKAD",offsetX:3,offsetY:0,zOrder:c.b.ralationLinkAd,width:24,visible:new i.e.Binding("visible","",(t,e)=>{const n=e.part.adornedPart,i=e.diagram;return h.b[i.mode]&&n.layer.visible})},this.imageOptions={name:"RELATION_LINKAD",width:20,imageUrl:"/topo-static/images/templates/linkAd.svg",toolTip:r((function(t){const{name:e,type:n,value:i}=t.relationInfo;return"web"===n?i:e}),"relationInfo")}},v=function(){this.panelOptions={name:"CONFIG_ADORNMENT",width:24,zOrder:c.b.makeRelAdornment,visible:new i.e.Binding("visible","",t=>{const e=t.adornedObject.part,{shapeName:n,lock:i,aroundPart:a}=e.data;return d.c.includes(n)&&!i&&!a&&e.isSelected}).ofObject(),position:new i.e.Binding("position","",(t,e)=>{const n=e.adornedObject.part,o=Object(a.b)((new i.e.List).add(n),!1,new i.e.Spot(0,0)),r=b(n,3);return new i.e.Point(o.x+o.width+r/e.diagram.scale,o.y)})},this.imageOptions={name:"CONFIG",width:20,imageUrl:"/topo-static/images/templates/hotspot.png"}},w=function(){this.panelOptions={name:"COMMENT_ADORNMENT",width:24,zOrder:c.b.commentAdornment,visible:new i.e.Binding("visible","",(t,e)=>{const n=e.diagram;return!f[n.mode]}),position:new i.e.Binding("position","",(t,e)=>{const n=e.diagram,o=e.adornedObject.part,r="coop-readOnly"===n.mode&&t.relationInfo?28:0,s=Object(a.b)((new i.e.List).add(o),!1,new i.e.Spot(0,0));return new i.e.Point(s.x+s.width+3/n.scale,s.y+r/n.scale)})},this.imageOptions={name:"COMMENT-IMAGE",bindingImageUrl:new i.e.Binding("source","",t=>t.commentUnreadCount?"/topo-static/images/templates/comment-dot.png":"/topo-static/images/templates/comment.png"),width:20,alignment:new i.e.Spot(1,0,0,0),alignmentFocus:new i.e.Spot(0,0,0,0)}},x=function(){const t="ANIMATION_ADORNMENT";this.panelOptions={name:t,width:24,zOrder:c.b.commentAdornment,visible:new i.e.Binding("visible","",(t,e)=>{const n=e.diagram;return!h.b[n.mode]&&"historyMode"!==n.mode&&"Relinking"!==n.currentTool.name&&!(!t.animationConfig||!t.animationConfig.length)}),position:new i.e.Binding("position","",(e,n)=>{const o=n.diagram,r=n.adornedObject.part,s=b(r,3,t);let c;if(r instanceof i.e.Link){let n;const{fromArrow:a,toArrow:s}=e;n=s&&"none"!==l()(s)?e.points.last():a&&"none"!==l()(a)?e.points.first():e.points.last();const c=b(r,8,t);return new i.e.Point(n.x+c/o.scale,n.y)}{const t=Object(a.b)((new i.e.List).add(r),!0,new i.e.Spot(0,0));c=new i.e.Point(t.x+t.width+s/o.scale,t.y)}return c})},this.imageOptions={name:"ANIMATION",width:20,imageUrl:"/topo-static/images/templates/animation.svg"}};function b(t,e,n){const i=[{name:"commentAdornment",value:!1},{name:"noteAdornment",value:!1},{name:"ANIMATION_ADORNMENT",value:!1},{name:"LOCK_ADORNMENT",value:!1}];if(n){const t=i.findIndex(t=>t.name===n);t>-1&&i.splice(t)}i.forEach(e=>{const n=t.findAdornment(e.name);e.value=n&&n.visible});const a=i.filter(t=>t.value).length;return a?27*a+e:e}function S(t){let e={},n={};switch(t){case"LOCK":{const t=new p;e=t.panelOptions,n=t.imageOptions}break;case"NOTE":{const t=new m;e=t.panelOptions,n=t.imageOptions}break;case"HOTSPOT":{const t=new g;e=t.panelOptions,n=t.imageOptions}break;case"LINKAD":{const t=new y;e=t.panelOptions,n=t.imageOptions}break;case"CurcuitConfig":{const t=new v;e=t.panelOptions,n=t.imageOptions}break;case"COMMENT":{const t=new w;e=t.panelOptions,n=t.imageOptions}break;case"AnimationConfig":{const t=new x;e=t.panelOptions,n=t.imageOptions}}return u(i.e.Adornment,"Spot",{name:e.name,zOrder:e.zOrder?e.zOrder:6,alignment:e.alignment?e.alignment:i.e.Spot.Center},e.visible?e.visible:{},e.position?e.position:new i.e.Binding("position","",(t,n)=>{const o=n.adornedObject.part,r=Object(a.b)((new i.e.List).add(o),!1,new i.e.Spot(0,0));return new i.e.Point(r.x+r.width+e.offsetX/n.diagram.scale,r.y+e.offsetY)}),u(i.e.Panel,"Spot",{visible:!0,alignment:n.alignment?n.alignment:i.e.Spot.BottomRight,alignmentFocus:n.alignmentFocus?n.alignmentFocus:i.e.Spot.TopLeft},u(i.e.Shape,{fill:n.fill?n.fill:"#FFF",stroke:n.stroke?n.stroke:"transparent"},new i.e.Binding("parameter1","",(t,e)=>4/e.diagram.scale),new i.e.Binding("desiredSize","",(t,n)=>{const a=n.diagram.scale;return new i.e.Size(e.width/a,e.width/a)})),u(i.e.Picture,{name:n.name,source:n.imageUrl||"",cursor:"pointer",imageStretch:i.e.GraphObject.Uniform,isActionable:!0,toolTip:n.toolTip},n.bindingImageUrl?n.bindingImageUrl:{},new i.e.Binding("desiredSize","",(t,e)=>{const a=e.diagram.scale;return new i.e.Size(n.width/a,n.width/a)}))))}},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return l}));n(0);const i={Command:"⌘",Option:"⌥",Shift:"⇧",Control:"⌃",Return:"↵",Enter:"⌅"},a={Ctrl:"Command",Shift:"Shift",Alt:"Option",Return:"Return"},o=window.navigator&&window.navigator.platform&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0;function r(t){const e=function(t){let e=/\+/;const n=~t.indexOf("++")||~t.indexOf("+-");n&&(e=/\+(?=\+)|\+(?=-)/);let r=t.split(e),s=r;return o&&(r=r.map(t=>a[t]?a[t]:t),s=r.map(t=>i[t]?i[t]:t)),{key:r,alias:s,isSpecial:n}}(t);return{key:e.key.join("+"),alias:e.alias.join(e.isSpecial?" ":"+")}}function s(t){return Array.isArray(t)?t.map(t=>r(t).key):r(t).key}function l(t){return!(!t||0!==t.lastInput.documentPoint.x||0!==t.lastInput.documentPoint.y)}},function(t,e,n){"use strict";var i=n(116),a=Object.prototype.toString;function o(t){return"[object Array]"===a.call(t)}function r(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function l(t){return"[object Function]"===a.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:function(t){return null!==t&&!r(t)&&null!==t.constructor&&!r(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:r,isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:l,isStream:function(t){return s(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,a=arguments.length;i<a;i++)c(arguments[i],n);return e},deepMerge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]="object"==typeof n?t({},n):n}for(var i=0,a=arguments.length;i<a;i++)c(arguments[i],n);return e},extend:function(t,e,n){return c(e,(function(e,a){t[a]=n&&"function"==typeof e?i(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return p})),n.d(e,"a",(function(){return g}));var i=n(0),a=n(3);const o={constructPath:function(t,e){const n=[];for(let i=0;i<t.length;i++){const a=[];for(let e=0;e<t[i].length;e+=2)a.push({x:1*t[i][e],y:1*t[i][e+1]});for(;;){let t=!0;for(let n=a.length-1;n>0;n--){const i=a[n-1],o=a[n];if(Math.abs(i.x-o.x)<e&&Math.abs(i.y-o.y)<e){a.splice(n,1),t=!1;break}}if(t)break}n.push(a)}return n},ConvexHull:function(t){let e=0;for(let n=1;n<t.length;n++){t[n].y<t[e].y&&(e=n)}const n=[],i=[],a=[];for(let o=0;o<t.length;o++)o!==e&&(n.push(t[o]),i.push(Math.atan2(t[o].y-t[e].y,t[o].x-t[e].x)),a.push((t[o].x-t[e].x)*(t[o].x-t[e].x)+(t[o].y-t[e].y)*(t[o].y-t[e].y)));for(;;){let t=!0;for(let e=0;e<n.length-1;e++)if(i[e]>i[e+1]||i[e]===i[e+1]&&a[e]>a[e+1]){let o=n[e];n[e]=n[e+1],n[e+1]=o;let r=i[e];i[e]=i[e+1],i[e+1]=r;let s=a[e];a[e]=a[e+1],a[e+1]=s,t=!1}if(t)break}n.splice(0,0,t[e]);const o=[0,1,2];for(let t=3;t<n.length;t++){const e=n[t];for(let t=o.length-2;t>0;t--){let t=Math.atan2(e.y-n[o[o.length-1]].y,e.x-n[o[o.length-1]].x)-Math.atan2(n[o[o.length-2]].y-n[o[o.length-1]].y,n[o[o.length-2]].x-n[o[o.length-1]].x);for(;t>Math.PI;)t-=2*Math.PI;for(;t<-Math.PI;)t+=2*Math.PI;if(!(t>0))break;o.splice(o.length-1,1)}o.push(t)}const r=[];for(let t=0;t<o.length;t++)r.push(n[o[t]]);return r},crossProduct:function(t,e){return t[0]*e[1]-t[1]*e[0]},initPolygon:function(t){const e={};for(let n=0;n<t.length;n++)e[n+""]={id:n+"",coordinate:t[n]};for(let n=0;n<t.length;n++){let t=null;t=0===n?e[Object.keys(e).length-1+""]:e[n-1+""];let i=null;i=n===Object.keys(e).length-1?e[0]:e[n+1+""],e[n].prev=t,e[n].next=i}return e},isPointOnLine:function(t,e,n){const i=Math.sqrt((e[0].x-e[1].x)*(e[0].x-e[1].x)+(e[0].y-e[1].y)*(e[0].y-e[1].y)),a=Math.sqrt((e[0].x-t.x)*(e[0].x-t.x)+(e[0].y-t.y)*(e[0].y-t.y)),o=Math.sqrt((e[1].x-t.x)*(e[1].x-t.x)+(e[1].y-t.y)*(e[1].y-t.y));return{dist:a,isOnLine:Math.abs(i-a-o)<n}},vertexInLine:function(t,e,n){const i=Object.keys(e);let a={};for(;Object.keys(a).length<Object.keys(t).length;){let r=null;const s=Object.keys(t);for(let t=0;t<s.length;t++)if(!a[s[t]]){r=s[t];break}let l=r;for(;;){const s=t[l],c=s.next,h=[];for(let t=0;t<i.length;t++)if(!0!==e[i[t]].vsIds[l]&&!0!==e[i[t]].vsIds[c.id]){const a=o.isPointOnLine(e[i[t]].coordinate,[s.coordinate,c.coordinate],n);if(a.isOnLine){let o=null;for(let t=0;t<h.length;t++)if(Math.abs(h[t].dist-a.dist)<n){o=h[t];break}null===o?(o={dist:a.dist,vsVertexes:{}},o.vsVertexes[i[t]]=e[i[t]],h.push(o)):o.vsVertexes[i[t]]=e[i[t]]}}for(;;){let t=!0;for(let e=0;e<h.length-1;e++)if(h[e].dist>h[e+1].dist){let n=h[e];h[e]=h[e+1],h[e+1]=n,t=!1}if(t)break}if(h.length>0){const n=[];for(let t=0;t<h.length;t++){const e=Object.keys(h[t].vsVertexes),i={};for(let t=0;t<e.length;t++)i[e[t]]=!0;n.push({coordinate:h[t].vsVertexes[e[0]].coordinate,vsIds:i})}for(let i=0;i<n.length;i++){const o=n[i],r=1*Object.keys(t)[Object.keys(t).length-1]+1+"";o.id=r,o.prev=0===i?s:n[i-1],i===n.length-1?o.next=c:o.next=n[i+1],t[o.id]=o;const l=Object.keys(o.vsIds);for(let t=0;t<l.length;t++)e[l[t]].vsIds[o.id]=!0;a[o.id]=!0}s.next=n[0],c.prev=n[n.length-1]}if(a[l]=!0,l=c.id,l===r)break}}},exteriorOutline:function(t,e,n,i){const a={},o=[],r=Object.keys(e);for(let t=0;t<r.length;t++){const n=e[r[t]].coordinate,a=e[r[t]].next.coordinate;Math.abs(n.x-a.x)>=i&&o.push([n,a,(a.y-n.y)/(a.x-n.x)])}const s=Object.keys(t);for(let r=0;r<s.length;r++){const l=t[s[r]],c=l.next;let h=!1,d=null,u=null;const f=Object.keys(l.vsIds);for(let t=0;t<f.length;t++){if(e[f[t]].prev.vsIds[c.id]){d=e[f[t]];break}if(e[f[t]].next.vsIds[c.id]){u=e[f[t]];break}}if(null!==d)n&&l.isRight!==d.isRight&&(h=!0);else if(null!==u)n&&l.isRight===u.isRight&&(h=!0);else{const t={x:.5*(l.coordinate.x+c.coordinate.x),y:.5*(l.coordinate.y+c.coordinate.y)};let e=0;const n=[];for(let a=0;a<o.length;a++){const r=o[a][0],s=o[a][1],l=o[a][2];if(!(t.x>=r.x+i&&t.x>=s.x+i||t.x<=r.x-i&&t.x<=s.x-i)){const a=l*(t.x-r.x)+r.y;if(t.y<=a-i){let a=null;if(Math.abs(r.x-t.x)<i?a=s.x<t.x:Math.abs(s.x-t.x)<i&&(a=r.x<t.x),null===a)e++;else{let e=null;for(let a=0;a<n.length;a++)if(Math.abs(n[a][0]-t.x)<i){e=n[a];break}null===e?n.push([t.x,[a]]):e[1].push(a)}}}}for(let t=0;t<n.length;t++){let i=0;for(let e=0;e<n[t][1].length;e++)n[t][1][e]&&i++;e+=i%2}e%2==0&&(h=!0)}h&&(a[s[r]]=!0)}return a},isContain:function(t,e,n){const i=e.subPolygon[Object.keys(e.subPolygon)[0]].coordinate;let a=0;const o=[];for(let e=0;e<t.segments.length;e++){const r=t.segments[e][0],s=t.segments[e][1],l=t.segments[e][2];if(!(i.x>=r.x+n&&i.x>=s.x+n||i.x<=r.x-n&&i.x<=s.x-n)){const t=l*(i.x-r.x)+r.y;if(i.y<=t-n){let t=null;if(Math.abs(r.x-i.x)<n?t=s.x<i.x:Math.abs(s.x-i.x)<n&&(t=r.x<i.x),null===t)a++;else{let e=null;for(let t=0;t<o.length;t++)if(Math.abs(o[t][0]-i.x)<n){e=o[t];break}null===e?o.push([i.x,[t]]):e[1].push(t)}}}}for(let t=0;t<o.length;t++){let e=0;for(let n=0;n<o[t][1].length;n++)o[t][1][n]&&e++;a+=e%2}return a%2==1},resolveDirection:function(t,e,n){const i=Object.keys(t.subPolygon);let a=null,r=[];for(let e=0;e<i.length;e++){const o=t.subPolygon[i[e]];null===a||a-o.coordinate.y>=n?(r=[o],a=o.coordinate.y):Math.abs(a-o.coordinate.y)<n&&r.push(o)}let s=null;for(let t=0;t<r.length;t++){const i=r[t],a=i.prev,l=i.next;if(Math.abs(i.coordinate.y-a.coordinate.y)>=n||Math.abs(i.coordinate.y-l.coordinate.y)>=n){const t=o.crossProduct([i.coordinate.x-a.coordinate.x,i.coordinate.y-a.coordinate.y],[l.coordinate.x-i.coordinate.x,l.coordinate.y-i.coordinate.y]);t>0?s=e:t<0&&(s=!e);break}}for(let e=0;e<i.length;e++)t.subPolygon[i[e]].isRight=s},layerPolygon:function(t,e){const n=[],i={},a=Object.keys(t);for(;Object.keys(i).length<a.length;){let o=null;for(let t=0;t<a.length;t++)if(!i[a[t]]){o=a[t];break}const r={};let s=t[o];for(;;){r[s.id]=s,i[s.id]=!0;const t=s.next;if(t.id===o)break;s=t}const l=[],c=Object.keys(r);for(let t=0;t<c.length;t++){const n=r[c[t]].coordinate,i=r[c[t]].next.coordinate;Math.abs(n.x-i.x)>=e&&l.push([n,i,(i.y-n.y)/(i.x-n.x)])}n.push({id:n.length+"",subPolygon:r,segments:l,parent:null,children:[]})}for(let t=0;t<n.length;t++){const i=n[t];for(let t=0;t<n.length;t++){const a=n[t];if(i.id!==a.id){let t=!1,n=[a];for(;;){const e=n.pop();if(null===e.parent)break;if(e.parent.id===i.id){t=!0;break}n.push(e.parent)}if(!t&&o.isContain(i,a,e))if(null===a.parent)a.parent=i,i.children.push(a);else{const t=[];for(n=[a.parent];;){const e=n.pop();if(t.push(e),null===e.parent)break;n.push(e.parent)}let r=null;for(let n=t.length-1;n>=0;n--)if(o.isContain(i,t[n],e)){r=t[n];break}if(null===r){const t=a.parent,e=t.children;for(let t=0;t<e.length;t++)if(e[t].id===a.id){e.splice(t,1,i);break}i.parent=t,i.children.push(a),a.parent=i}else if(null===r.parent)r.parent=i,i.children.push(r);else{const t=r.parent,e=t.children;for(let t=0;t<e.length;t++)if(e[t].id===r.id){e.splice(t,1,i);break}i.parent=t,i.children.push(r),r.parent=i}}}}}for(let t=0;t<n.length;t++){const i=n[t];if(null===i.parent){let t=[i],n=!0;for(;t.length>0;){const i=[];for(let a=0;a<t.length;a++){o.resolveDirection(t[a],n,e);for(let e=0;e<t[a].children.length;e++)i.push(t[a].children[e])}n=!n,t=i}}}},union:function(t,e,n){let i=Object.keys(t),a=Object.keys(e);for(let e=0;e<i.length;e++){t[i[e]].vsIds={}}for(let t=0;t<a.length;t++){e[a[t]].vsIds={}}for(let o=0;o<i.length;o++){const r=t[i[o]];for(let t=0;t<a.length;t++){const i=e[a[t]];Math.abs(r.coordinate.x-i.coordinate.x)<n&&Math.abs(r.coordinate.y-i.coordinate.y)<n&&(r.vsIds[i.id]=!0,i.vsIds[r.id]=!0)}}o.vertexInLine(t,e,n),o.vertexInLine(e,t,n),i=Object.keys(t),a=Object.keys(e);const r={};for(let s=0;s<i.length;s++){const l=t[i[s]],c=l.next,h=[c.coordinate.x-l.coordinate.x,c.coordinate.y-l.coordinate.y],d=[];for(let t=0;t<a.length;t++){const i=e[a[t]],r=i.next;if(!0!==i.vsIds[l.id]&&!0!==i.vsIds[c.id]&&!0!==r.vsIds[l.id]&&!0!==r.vsIds[c.id]){const e=[r.coordinate.x-i.coordinate.x,r.coordinate.y-i.coordinate.y],s=o.crossProduct(h,e);if(Math.abs(s)>=n){const r=o.crossProduct([i.coordinate.x-l.coordinate.x,i.coordinate.y-l.coordinate.y],e)/s;if(r>-n&&r<1+n){const e=o.crossProduct(h,[l.coordinate.x-i.coordinate.x,l.coordinate.y-i.coordinate.y])/s;if(e>-n&&e<1+n){let e=null;for(let t=0;t<d.length;t++)if(Math.abs(d[t].t-r)<n){e=d[t];break}if(null===e){const e={};e[a[t]]=!0,d.push({t:r,vsIds:e})}else e.vsIds[a[t]]=!0}}}}}for(;;){let t=!0;for(let e=0;e<d.length-1;e++)if(d[e].t>d[e+1].t){const n=d[e];d[e]=d[e+1],d[e+1]=n,t=!1}if(t)break}if(d.length>0){const e=[],n=1*Object.keys(t)[Object.keys(t).length-1]+1;for(let t=0;t<d.length;t++){const i={x:l.coordinate.x+d[t].t*h[0],y:l.coordinate.y+d[t].t*h[1]};e.push({id:n+t+"",coordinate:i,vsIds:{}})}for(let n=0;n<e.length;n++){const i=e[n];i.prev=0===n?l:e[n-1],n===e.length-1?i.next=c:i.next=e[n+1],t[i.id]=i;const a=Object.keys(d[n].vsIds);for(let t=0;t<a.length;t++)r[a[t]]||(r[a[t]]={}),r[a[t]][i.id]=i.coordinate}l.next=e[0],c.prev=e[e.length-1]}}a=Object.keys(r);for(let i=0;i<a.length;i++){const o=e[a[i]],s=o.next,l=Object.keys(r[a[i]]),c=[];for(let t=0;t<l.length;t++){const e=r[a[i]][l[t]],s=Math.sqrt((e.x-o.coordinate.x)*(e.x-o.coordinate.x)+(e.y-o.coordinate.y)*(e.y-o.coordinate.y));let h=null;for(let t=0;t<c.length;t++)if(Math.abs(c[t].dist-s)<n){h=c[t];break}if(null===h){const e={};e[l[t]]=!0,c.push({dist:s,vsIds:e})}else h.vsIds[l[t]]=!0}for(;;){let t=!0;for(let e=0;e<c.length-1;e++)if(c[e].dist>c[e+1].dist){const n=c[e];c[e]=c[e+1],c[e+1]=n,t=!1}if(t)break}const h=[];for(let e=0;e<c.length;e++){const n=c[e],i={};i.coordinate=t[Object.keys(n.vsIds)[0]].coordinate,i.vsIds=n.vsIds,h.push(i)}for(let n=0;n<h.length;n++){const i=h[n];i.id=1*Object.keys(e)[Object.keys(e).length-1]+1+"",i.prev=0===n?o:h[n-1],n===h.length-1?i.next=s:i.next=h[n+1],e[i.id]=i;const a=Object.keys(i.vsIds);for(let e=0;e<a.length;e++)t[a[e]].vsIds[i.id]=!0}o.next=h[0],s.prev=h[h.length-1]}o.layerPolygon(t,n),o.layerPolygon(e,n);const s=o.exteriorOutline(t,e,!0,n),l=o.exteriorOutline(e,t,!1,n),c={};let h=0;for(;Object.keys(s).length>0||Object.keys(l).length>0;){const i=Object.keys(s).length>0,a=i?Object.keys(s)[0]:Object.keys(l)[0];let o=i,r=!0,d=a;const u=[];for(;;){const n=o?t[d]:e[d];if(!n)break;if(u.push(n.coordinate),o?delete s[d]:r?delete l[d]:delete l[n.prev.id],i&&o&&a===n.next.id||i&&!o&&r&&n.next.vsIds[a]||i&&!o&&!r&&n.prev.vsIds[a]||!i&&a===n.next.id)break;if(o){const i={};i[n.next.id]=!0;const a={};for(;;){const n=Object.keys(i),o=Object.keys(a);for(let e=0;e<n.length;e++){const i=Object.keys(t[n[e]].vsIds);for(let t=0;t<i.length;t++)a[i[t]]=!0}for(let t=0;t<o.length;t++){const n=Object.keys(e[o[t]].vsIds);for(let t=0;t<n.length;t++)i[n[t]]=!0}if(Object.keys(i).length===n.length&&Object.keys(a).length===o.length)break}const c=Object.keys(i),h=Object.keys(a);let u=null;for(let t=0;t<c.length;t++)if(s[c[t]]){u=c[t];break}if(null!==u)d=u;else{let t=null;for(let e=0;e<h.length;e++)if(l[h[e]]){t=h[e];break}if(null!==t)d=t,r=!0;else{d=null;for(let t=0;t<h.length;t++)if(l[e[h[t]].prev.id]){d=h[t];break}r=!1}o=!1}}else if(r){const i={};i[n.next.id]=!0;const a={};for(;;){const n=Object.keys(i),o=Object.keys(a);for(let t=0;t<n.length;t++){const i=Object.keys(e[n[t]].vsIds);for(let t=0;t<i.length;t++)a[i[t]]=!0}for(let e=0;e<o.length;e++){const n=Object.keys(t[o[e]].vsIds);for(let t=0;t<n.length;t++)i[n[t]]=!0}if(Object.keys(a).length===o.length&&Object.keys(i).length===n.length)break}const r=Object.keys(i),c=Object.keys(a);let h=null;for(let t=0;t<r.length;t++)if(l[r[t]]){h=r[t];break}if(null!==h)d=h;else{d=null;for(let t=0;t<c.length;t++)if(s[c[t]]){d=c[t];break}o=!0}}else{const i={};i[n.prev.id]=!0;const a={};for(;;){const n=Object.keys(i),o=Object.keys(a);for(let t=0;t<n.length;t++){const i=Object.keys(e[n[t]].vsIds);for(let t=0;t<i.length;t++)a[i[t]]=!0}for(let e=0;e<o.length;e++){const n=Object.keys(t[o[e]].vsIds);for(let t=0;t<n.length;t++)i[n[t]]=!0}if(Object.keys(a).length===o.length&&Object.keys(i).length===n.length)break}const r=Object.keys(i),c=Object.keys(a);let h=null;for(let t=0;t<r.length;t++)if(l[e[r[t]].prev.id]){h=r[t];break}if(null!==h)d=h;else{d=null;for(let t=0;t<c.length;t++)if(s[c[t]]){d=c[t];break}o=!0}}}for(let t=u.length-1;t>0;t--)Math.abs(u[t].x-u[t-1].x)<n&&Math.abs(u[t].y-u[t-1].y)<n&&u.splice(t,1);const f=[];for(let t=0;t<u.length;t++)f.push({id:h+"",coordinate:u[t]}),h++;for(let t=0;t<f.length;t++){const e=f[t];e.prev=0===t?f[f.length-1]:f[t-1],t===f.length-1?e.next=f[0]:e.next=f[t+1],c[e.id]=e}}return c},getSingleOutline:function(t,e,n){let i=null;const a=.5*e,r=[],s=[];for(let e=0;e<t.length-1;e++){const n=t[e],i=t[e+1],o=Math.atan2(i.y-n.y,i.x-n.x),l={x:n.x+a*Math.cos(o-.5*Math.PI),y:n.y+a*Math.sin(o-.5*Math.PI)},c={x:n.x+a*Math.cos(o+.5*Math.PI),y:n.y+a*Math.sin(o+.5*Math.PI)},h={x:i.x+a*Math.cos(o-.5*Math.PI),y:i.y+a*Math.sin(o-.5*Math.PI)},d={x:i.x+a*Math.cos(o+.5*Math.PI),y:i.y+a*Math.sin(o+.5*Math.PI)};r.push(o),s.push([l,h,d,c])}Math.abs(t[0].x-t[t.length-1].x)<n&&Math.abs(t[0].y-t[t.length-1].y)<n&&r.push(r[0]);const l=[];for(let e=0;e<s.length;e++)if(l.push(o.initPolygon(s[e])),e<r.length-1){let i=r[e+1]-r[e];for(;i<-Math.PI;)i+=2*Math.PI;for(;i>Math.PI;)i-=2*Math.PI;const c=t[e+1];let h=null,d=null;if(i>0?(h=s[e][1],d=e<s.length-1?s[e+1][0]:s[0][0]):(h=e<s.length-1?s[e+1][3]:s[0][3],d=s[e][2]),Math.abs(h.x-d.x)>=n||Math.abs(h.y-d.y)>=n){const t=Math.atan2(h.y-c.y,h.x-c.x);let e=Math.atan2(d.y-c.y,d.x-c.x);for(;t>e;)e+=2*Math.PI;const i=.5*(e-t);if(Math.abs(i-.5*Math.PI)>=n){const e=a/Math.cos(i),n={x:c.x+e*Math.cos(t+i),y:c.y+e*Math.sin(t+i)};l.push(o.initPolygon([c,h,n,d]))}}}for(let t=0;t<l.length;t++)i=null===i?l[t]:o.union(i,l[t],n);return i},__getOutline:function(t,e,n,i){let a=null;for(let e=t.length-1;e>=0;e--)t[e].length<2&&t.splice(e,1);for(let n=0;n<t.length;n++){const r=o.getSingleOutline(t[n],e,i);a=null===a?r:o.union(a,r,i)}if(n){const t=[],e=Object.keys(a),n={};for(;Object.keys(n).length<e.length;){let i=null;for(let t=0;t<e.length;t++)if(!n[e[t]]){i=e[t];break}const o={};let r=a[i];for(;;){o[r.id]=r,n[r.id]=!0;const t=r.next;if(t.id===i)break;r=t}t.push(o)}if(t.length>0){let e=t[0];for(let n=1;n<t.length;n++)e=o.union(e,t[n],i);a=e}}return a},_getOutline:function(t,e,n,i,a,r,s,l){for(let a=0;a<t.length;a++)for(let o=0;o<t[a].length;o++){const s=t[a][o];if(s.x=s.x*r,s.y=s.y*r,null!==i){const t=Math.sqrt((s.x-n.x)*(s.x-n.x)+(s.y-n.y)*(s.y-n.y)),e=Math.atan2(s.y-n.y,s.x-n.x);s.x=n.x+t*Math.cos(e+i),s.y=n.y+t*Math.sin(e+i)}s.x=s.x+e.x,s.y=s.y+e.y}return o.__getOutline(t,a,s,l)},transformArrowRotate:function(t,e,n,i,a,o){let r=null,s=null;for(let e=0;e<t.length;e++)for(let n=0;n<t[e].length;n++){const i=t[e][n];(null===r||r<i.x)&&(r=i.x),(null===s||s<i.y)&&(s=i.y)}return a?{x:-.25*e*n,y:.5*s*n}:{x:(r+.25*e)*n,y:.5*s*n}},__getSvg:function(t,e,n,i){let a=[],r=null,s=null;for(let e=0;e<t.linePath.length;e++)for(let n=0;n<t.linePath[e].length;n+=2)(null===r||r>t.linePath[e][n])&&(r=t.linePath[e][n]),(null===s||s>t.linePath[e][n+1])&&(s=t.linePath[e][n+1]);r<0&&(t.lineCenterPoint.x=t.lineCenterPoint.x-r),s<0&&(t.lineCenterPoint.y=t.lineCenterPoint.y-s);let l=o._getOutline(o.constructPath(t.linePath,i),{x:t.lineCenterPoint.x+.5*e,y:t.lineCenterPoint.y+.5*e},null,null,e+n,1,!1,i);if(null!==l&&a.push(l),t.sourceArrowVisible){const r=o.constructPath(t.sourceArrowPath,i),s=t.sourceArrowAngle/180*Math.PI,l=o.transformArrowRotate(r,e,t.sourceArrowScale,s,!0,i),c=o._getOutline(r,{x:t.sourceArrowRotatePoint.x-l.x,y:t.sourceArrowRotatePoint.y-l.y},l,s,.9*e+n,t.sourceArrowScale,!0,i);null!==c&&a.push(c)}if(t.targetArrowVisible){const r=o.constructPath(t.targetArrowPath,i),s=t.targetArrowAngle/180*Math.PI,l=o.transformArrowRotate(r,e,t.targetArrowScale,s,!1,i),c=o._getOutline(r,{x:t.targetArrowRotatePoint.x-l.x,y:t.targetArrowRotatePoint.y-l.y},l,s,.9*e+n,t.targetArrowScale,!0,i);null!==c&&a.push(c)}if(!(a.length>0))return null;{let t=a[0];for(let e=1;e<a.length;e++)t=o.union(t,a[e],i);l=t}const c=Object.keys(l);for(let n=0;n<c.length;n++){const i=l[c[n]];i.coordinate={x:i.coordinate.x-t.lineCenterPoint.x-.5*e,y:i.coordinate.y-t.lineCenterPoint.y-.5*e},r<0&&(i.coordinate.x=i.coordinate.x-r),s<0&&(i.coordinate.y=i.coordinate.y-s)}return l},_getSvg:function(t,e,n){return o.__getSvg(t,e,n,1e-8)},getSvg:function(t,e,n){const i=o._getSvg(t,e,n)||{};let a="";const r=Object.keys(i),s={};for(;Object.keys(s).length<r.length;){let t=null;for(let e=0;e<r.length;e++)if(!s[r[e]]){t=r[e];break}let e=i[t];for(a=a+"M"+e.coordinate.x+" "+e.coordinate.y+" ";;){s[e.id]=!0;const n=e.next;if(a=a+"L"+n.coordinate.x+" "+n.coordinate.y+" ",n.id===t){a+="z ";break}e=n}}return a}};var r=o,s=n(77),l=n(10),c=n(59);const h={Electronic_123:!0,Electronic_171:!0},d=i.e.GraphObject.make;i.e.Shape.defineArrowheadGeometry("SimpleTriangle","F1 m 0,0 l 10,3 -10,3 z");const u=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(i.e.Adornment,"Auto",{name:"nodeSelection",zOrder:t.zOrder||l.b.selection},new i.e.Binding("visible","",t=>{const e=t.part.adornedPart,n=e.diagram;if(("Dragging"===n.currentTool.name||"Resizing"===n.currentTool.name)&&t.data.tempAroundPart)return!1;if(e.editStatus&&["Rotating","Dragging","Resizing","RowResizing","ColumnResizing"].includes(n.currentTool.name))return!1;if(!n.isReadOnly&&e._object&&e._object.effectHandler){const t=e._object.effectHandler.animationMap.values();for(const e of t)if(e.isAnimating)return!1}return!n.inPickCanvasColorState}).ofObject(),d(i.e.Shape,"Rectangle",{name:"SHAPE",fill:null,stroke:t.stroke||a.a,strokeWidth:t.strokeWidth||1,opacity:t.opacity||.7,cursor:t.cursor||"default"},new i.e.Binding("geometryStretch","",e=>(e.tempAroundPart&&!e.aroundPart||"historyCompare"===t.mode||"cooperUserTrack"===t.mode||"comment"===t.mode)&&"around-group"!==e.category&&"image"!==e.category&&"loadErrorImage"!==e.category?i.e.GraphObject.None:i.e.GraphObject.Default),new i.e.Binding("strokeWidth","",e=>{if("historyCompare"===t.mode)return t.strokeWidth;if("cooperUserTrack"===t.mode)return t.strokeWidth;if("comment"===t.mode)return t.strokeWidth;if(e.data.aroundPart){const t=e.part.adornedPart;if(!t.containingGroup.selection.has(t))return 0}let n;if(e.part.data.tempAroundPart)return 2;{const t=e.diagram.scale;n=t<=1?1/t:t<=3?1:3/t}return n}).ofObject(),new i.e.Binding("geometry","",(e,n)=>{const{strokeWidth:a,noNeedMakeUpPoint:o,shapeName:r,shapeParentName:l}=e,d=a||0,u=n.part.adornedPart;if(("Dragging"===u.diagram.currentTool.name||"Resizing"===u.diagram.currentTool.name)&&"cooperUserTrack"!==t.mode&&"comment"!==t.mode)return null;if(Object(c.d)(e,t)){let e=u.findObject("SHAPE")||u.findPort("");h[r]&&(e=u.findObject("PORT_SHAPE"));const n=Object(c.c)(u);if(u.mark&&u.mark===n&&u.shapeOutLine)return i.e.Geometry.parse(u.shapeOutLine);{const a=e.geometry,c=e.strokeMiterLimit;let h=a.flattenedSegments;"Logic Gates"===l&&~r.search(/Flop|RSLatch/)&&(h=h.filter(t=>t.length<=20));const f=s.a.getSvg(h,(t.strokeWidth||2)+d,c,o);return u.mark=n,u.shapeOutLine=f,i.e.Geometry.parse(f)}}return null}),new i.e.Binding("margin","",t=>{const{category:e,shapeName:n,strokeWidth:i}=t.data;if("flowchart-Annotation"===e||"around-group"===e)return 0;let a=i||0;return"End"===n&&"BPMN-Ellipse"===e&&(a+=4),a/2}).ofObject()),d(i.e.Placeholder))},f=()=>d(i.e.Adornment,{type:i.e.Panel.Link,zOrder:l.b.linkRelinkAdornment},new i.e.Binding("visible","",(t,e)=>{let n=!0;const i=e.diagram,a=e.part.adornedPart;if(i&&("Dragging"===i.currentTool.name||"LinkReshaping"===i.currentTool.name||i.isReadOnly||i.freeDrawLine)&&(n=!1),(t.tempAroundPart||t.lock||t.rltCode)&&(n=!1),t.aroundPart){const e=i.findNodeForKey(t.group);e&&!e.selection.has(a)&&(n=!1)}return n}),d(i.e.Shape,"Rectangle",{name:"RelinkFrom",cursor:"move",fill:"#FFFFFF",stroke:a.a,segmentIndex:0,isActionable:!0,mouseEnter:(t,e)=>{e.fill=a.a},mouseLeave:(t,e)=>{e.fill="#fff"},actionDown:(t,e)=>{if(t.left){const n=e.part.adornedPart,i=t.diagram.toolManager.relinkingTool;i.originalLink=n,i.handle=e,i.isForwards=!1,n.removeAdornment("nodeSelectionTemplate"),n.data.aroundPart||t.diagram.select(n),t.diagram.currentTool=i,i.doActivate()}else{const e=t.diagram.toolManager.panningTool;e.canStart()&&(t.diagram.currentTool=e,e.doActivate())}}},new i.e.Binding("height",t=>10/t.diagram.scale).ofObject(),new i.e.Binding("width",t=>10/t.diagram.scale).ofObject(),new i.e.Binding("strokeWidth",t=>1/t.diagram.scale).ofObject()),d(i.e.Shape,"Rectangle",{name:"RelinkTo",width:10,height:10,cursor:"move",fill:"#FFFFFF",stroke:a.a,segmentIndex:-1,isActionable:!0,mouseEnter:(t,e)=>{e.fill=a.a},mouseLeave:(t,e)=>{e.fill="#fff"},actionDown:(t,e)=>{if(t.left){const n=e.part.adornedPart,i=t.diagram.toolManager.relinkingTool;i.originalLink=n,i.isForwards=!0,n.removeAdornment("nodeSelectionTemplate"),n.data.aroundPart||t.diagram.select(n),i.handle=e,t.diagram.currentTool=i,i.doActivate()}else{const e=t.diagram.toolManager.panningTool;e.canStart()&&(t.diagram.currentTool=e,e.doActivate())}}},new i.e.Binding("height",t=>10/t.diagram.scale).ofObject(),new i.e.Binding("width",t=>10/t.diagram.scale).ofObject(),new i.e.Binding("strokeWidth",t=>1/t.diagram.scale).ofObject())),p=d(i.e.Adornment,{zOrder:l.b.linkSelectionAdornmentTemplate},new i.e.Binding("visible","",(t,e)=>{let n=!0;const i=e.diagram,a=e.part.adornedPart;if(i&&("Dragging"===i.currentTool.name||"LinkReshaping"===i.currentTool.name||i.isReadOnly||i.freeDrawLine)&&(n=!1),(t.tempAroundPart||t.lock||t.rltCode)&&(n=!1),t.aroundPart){const e=i.findNodeForKey(t.group);e&&!e.selection.has(a)&&(n=!1)}return n}),d(i.e.Shape,{isPanelMain:!0,stroke:a.a,strokeWidth:4,visible:!1},new i.e.Binding("strokeWidth","",t=>{const e=t.strokeWidth;return"number"!=typeof e||isNaN(e)?4:(e&&e)+2})),d(i.e.Shape,{name:"FROM_ARROW",fromArrow:"none"},{stroke:a.a,strokeWidth:2,visible:!1},new i.e.Binding("strokeWidth","",t=>{const e=t.strokeWidth;return"number"!=typeof e||isNaN(e)?2:(e&&e/2)+1}),new i.e.Binding("fromArrow","fromArrow",t=>t.split("/")[0]),new i.e.Binding("scale","",t=>{const e=(t.fromArrow||"").split("/")[1];return"large"===e?2:"small"===e?1.5:1.75}),new i.e.Binding("fill","",t=>{let e=a.a;return t.fromArrowOutline&&(e="#fff"),e})),d(i.e.Shape,{name:"TO_ARROW"},{toArrow:"SimpleTriangle",fill:a.a,stroke:a.a,visible:!1,strokeWidth:2},new i.e.Binding("toArrow","",t=>{const e=t.toArrow;return e?e.split("/")[0]:"SimpleTriangle"}),new i.e.Binding("scale","",t=>{const e=(t.toArrow||"").split("/")[1];return"large"===e?2:"small"===e?1.5:1.75}),new i.e.Binding("strokeWidth","",t=>{const e=t.strokeWidth;return"number"!=typeof e||isNaN(e)?2:(e&&e/2)+1}),new i.e.Binding("fill","",t=>{let e=a.a;return t.toArrowOutline&&(e="#fff"),e})),d(i.e.Shape,"Rectangle",{name:"RelinkFrom",width:10,height:10,cursor:"move",fill:"#FFFFFF",stroke:a.a,segmentIndex:0,isActionable:!0,mouseEnter:(t,e)=>{e.fill=a.a},mouseLeave:(t,e)=>{e.fill="#fff"},actionDown:(t,e)=>{if(t.left){const n=e.part.adornedPart,i=t.diagram.toolManager.relinkingTool;i.originalLink=n,i.handle=e,i.isForwards=!1,n.removeAdornment("nodeSelectionTemplate"),n.data.aroundPart||t.diagram.select(n),t.diagram.currentTool=i,i.doActivate()}else{const e=t.diagram.toolManager.panningTool;e.canStart()&&(t.diagram.currentTool=e,e.doActivate())}}},new i.e.Binding("scale","",t=>1/t.part.diagram.scale).ofObject()),d(i.e.Shape,"Rectangle",{name:"RelinkTo",width:10,height:10,cursor:"move",fill:"#FFFFFF",stroke:a.a,segmentIndex:-1,isActionable:!0,mouseEnter:(t,e)=>{e.fill=a.a},mouseLeave:(t,e)=>{e.fill="#fff"},actionDown:(t,e)=>{if(t.left){const n=e.part.adornedPart,i=t.diagram.toolManager.relinkingTool;i.originalLink=n,i.isForwards=!0,n.removeAdornment("nodeSelectionTemplate"),n.data.aroundPart||t.diagram.select(n),i.handle=e,t.diagram.currentTool=i,i.doActivate()}else{const e=t.diagram.toolManager.panningTool;e.canStart()&&(t.diagram.currentTool=e,e.doActivate())}}},new i.e.Binding("scale","",t=>1/t.part.diagram.scale).ofObject()));function g(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(i.e.Adornment,{zOrder:t.zOrder||l.b.linkOutlineAdornmentTemplate},new i.e.Binding("visible","",e=>{if("cooperUserTrack"===t.mode)return!0;if("historyCompare"===t.mode)return!0;if("lockAdornment"===t.mode)return!0;const n=e.part.adornedPart,i=n.diagram;if(("Dragging"===i.currentTool.name||"Resizing"===i.currentTool.name||"Rotating"===i.currentTool.name)&&e.data.tempAroundPart)return!1;if(e.data.lock)return!1;if("Dragging"===i.currentTool.name||"LinkReshaping"===i.currentTool.name)return!1;if(e.data.aroundPart){const t=i.findNodeForKey(e.data.group);if(t&&!t.selection.has(n))return!1}return!i.inPickCanvasColorState&&n.isSelected}).ofObject(),d(i.e.Shape,{name:"SHAPE",fill:"transparent",stroke:t.stroke||a.a,strokeWidth:t.strokeWidth||1,opacity:t.opacity||.7},new i.e.Binding("geometryString","",e=>{const n=e.adornedPart,i=n.points.toArray(),a=n.findObject("LINK_SHAPE"),o=n.findObject("FROM_ARROW"),s=n.findObject("TO_ARROW"),l=Object(c.b)(n);if(n.mark===l&&n.linkOutLine||!e.part.visible)return n.linkOutLine;const h={linePath:n.geometry.flattenedSegments,lineCenterPoint:{x:a.getDocumentBounds().x,y:a.getDocumentBounds().y},sourceArrowPath:o.geometry.flattenedSegments,sourceArrowVisible:o.visible,sourceArrowAngle:o.angle,sourceArrowScale:o.scale,sourceArrowRotatePoint:i[0],targetArrowPath:s.geometry.flattenedSegments,targetArrowVisible:s.visible,targetArrowAngle:s.angle,targetArrowScale:s.scale,targetArrowRotatePoint:i[i.length-1]},d=t.outLineWidth||4,u=r.getSvg(h,a.strokeWidth,d);return n.mark=l,n.linkOutLine=u,u}).ofObject(),new i.e.Binding("margin","",e=>{const n=e.adornedPart,a=t.strokeWidth||1,o=n.findObject("LINK_SHAPE").strokeWidth-a;return new i.e.Margin(o/2,0,0,o/2)}).ofObject()),d(i.e.Placeholder))}},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return r}));var i=n(25),a=n(0);const o={viewMode:!0,inset:!0,share:!0,"coop-readOnly":!0};function r(t){const e=Object(i.a)();return e.bind(new a.e.Binding("opacity","",(e,n)=>{const i=n.diagram.mode;return+("other-shape-image"===t.div.id||"normal"===i||"historyMode"===i)})),e}},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return h}));var i=n(0),a=n(2),o=n(23),r=n.n(o);function s(t,e,n){if(e&&e.part.isLinkLabel)return function(t,e,n){try{const a=n||t.lastInput.documentPoint,o=e.part.labeledLink.path,r=o.getLocalPoint(a),s=o.geometry,l=s.getFractionForPoint(r);let c=s.getAngleAlongPath(l);c<0&&(c+=360);const h=t.currentTool,d=h.isForwards?h.temporaryLink.defaultFromPoint:h.temporaryLink.defaultToPoint;let u=i.e.Spot.Default;switch(c){case 0:u=d.y<=a.y?i.e.Spot.Top:i.e.Spot.Bottom;break;case 180:u=d.y<=a.y?i.e.Spot.Bottom:i.e.Spot.Top;break;case 90:u=d.x<=a.x?i.e.Spot.Bottom:i.e.Spot.Top;break;case 270:u=d.x<=a.x?i.e.Spot.Top:i.e.Spot.Bottom}return{type:"link",spot:u}}catch(t){}}(t,e,n);if(e instanceof i.e.Shape){const o=n||t.lastInput.documentPoint,s=e.getDocumentNaturalBounds(),c=Object(a.O)(o,s,e),h=c.x-s.x,d=c.y-s.y,{category:u,predefinedPortArr:f}=e.part.data;if("electronic"===u&&f&&f.length){const{spot:t}=l(f,s,new i.e.Point(h,d));return{type:"onBorder",spot:t}}const p=e.geometry.getFractionForPoint(new i.e.Point(h,d)),g=e.geometry.getPointAlongPath(p),m={x:g.x/s.width,y:g.y/s.height},y=r()(e.part.data.portArray||[]);y.push(m);const{spot:v,distance:w}=l(y,s,new i.e.Point(h,d)),x=t.findObjectAt(o,t=>t===e?t:null);if(w<400/t.scale||!x)return{type:"onBorder",spot:v};{const t=h/s.width,e=d/s.height;return{type:"inner",spot:new i.e.Spot(t,e)}}}return!1}function l(t,e,n){let a,o,r=1/0;return t.forEach((s,l)=>{Array.isArray(s)&&(s=new i.e.Spot(s[0],s[1]));const c=new i.e.Point;c.x=s.x*e.width,c.y=s.y*e.height;const h=c.distanceSquaredPoint(n);h<r&&(r=h,a=new i.e.Spot(s.x,s.y),o=l<t.length-1)}),{distance:r,spot:a,inner:o}}function c(t,e,n){if(e instanceof i.e.Shape){var o,r;const s=n||t.lastInput.documentPoint,l=e.getDocumentNaturalBounds(),c=Object(a.O)(s,l,e),h=c.x-l.x,d=c.y-l.y,u=null==e||null===(o=e.geometry)||void 0===o?void 0:o.getFractionForPoint(new i.e.Point(h,d)),f=null==e||null===(r=e.geometry)||void 0===r?void 0:r.getPointAlongPath(u),p=f.x/l.width,g=f.y/l.height;return new i.e.Spot(p,g)}return!1}function h(t,e,n){const a=e.getDocumentNaturalBounds(),o=new i.e.Point(a.x+n.x*a.width,a.y+n.y*a.height),r=new i.e.Point(o.x-a.centerX,o.y-a.centerY),s=t.angle||e.angle||0,l=r.rotate(s);return new i.e.Point(Math.round(a.centerX+l.x),Math.round(a.centerY+l.y))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return u}));var i=n(0),a=n(7),o=n(5);const r=i.e.GraphObject.make;function s(t,e,n){const a=t.pageSetting?t.pageSetting.pageOptions:null;e=e||a||{};const o=r(i.e.Part,"Horizontal",{name:"WATERMARKLAYER",locationObjectName:"WATERMARKLAYER",isInDocumentBounds:!1,layerName:"Background",selectable:!1,pickable:!1,movable:!1,zOrder:2},new i.e.Binding("desiredSize","",a=>function(t,e,n){let{width:a,height:o}=u(t,e);const{textWidth:r,textHeight:s}=h(n);e.isInfiniteCanvas&&(a<r&&0!==a&&(a=r),o<s&&0!==o&&(o=s));return new i.e.Size(a,o)}(t,e,n)),new i.e.Binding("position","",n=>d(t,e)),new i.e.Binding("location","",n=>d(t,e)),new i.e.Binding("opacity","translucent",t=>t?.5:1),r(i.e.Panel,"Position",new i.e.Binding("width","",i=>c(t,e,n).finalFontWidth),r(i.e.TextBlock,{alignment:i.e.Spot.Center,maxLines:1},new i.e.Binding("margin","",t=>e.isInfiniteCanvas||e.isThumbnail?0:20),new i.e.Binding("stroke","stroke",t=>t),new i.e.Binding("text","text",t=>t),new i.e.Binding("font","fontSize",i=>c(t,e,n).finalFont),new i.e.Binding("angle","deg",i=>function(t,e,n){if(0===n.deg)return 0;const{width:i,height:a}=u(t,e),o=Math.atan(a/i);return-Math.floor(180/(Math.PI/o))}(t,e,n)),new i.e.Binding("position","",i=>c(t,e,n).point))));return o.data=n,o}function l(t,e,n,i){var a,r,l;if(!t)return;const c=t.mode,h=(null===(a=t.model)||void 0===a||null===(r=a.modelData)||void 0===r?void 0:r.watermarkInfo)||null,d="historyMode"!==c&&i&&i[n]||h;e=e||(null===(l=t.pageSetting)||void 0===l?void 0:l.pageOptions)||{},Object(o.n)(d)||"0"===d.showWatermark?function(t){const e=t.skipsUndoManager;t.skipsUndoManager=!0;const n=t.parts.filter(t=>"WATERMARKLAYER"===t.name).first();n&&t.remove(n),t.skipsUndoManager=e}(t):function(t,e,n){let i=null;const a=t.skipsUndoManager;t.skipsUndoManager=!0;const o=t.parts.filter(t=>"WATERMARKLAYER"===t.name).first();"0"===n.showWatermark?o&&t.remove(o):o?(Object.keys(n).forEach(e=>{t.model.setDataProperty(o.data,e,n[e])}),o.updateTargetBindings()):(i=s(t,e,n),t.add(i));t.skipsUndoManager=a}(t,e,d)}function c(t,e,n){let{fontSize:a,fontFamily:o}=n;const{width:r,height:s}=u(t,e),l=[];let c=20,d=r;if((e.isInfiniteCanvas||e.isThumbnail)&&(c=0),!a||"auto"===a){const{textWidth:t,textHeight:e}=h(n);if(0===n.deg){const n=Math.floor(14*Number(r-2*c)/Number(t)),i=Math.floor(14*Number(s)/Number(e));a=Math.min(n,i)+"px",d=r}else{const n=Math.sqrt(s*s+r*r);if(r>=s){const i=s/r;a=Math.floor(e*n*i/(e+t*i))+"px"}else{const i=r/s;a=Math.floor(e*n*i/(e+t*i))+"px"}d=NaN}}o||(o="Microsoft Yahei"),a.indexOf("px")<0&&"auto"!==a&&(a=parseInt(a)+"px"),l.push(a),l.push(o);const f=l.join(" "),p=h(n,f).textWidth,g=0===n.deg?r-(p+2*c):r-p;return{finalFont:f,finalFontWidth:d,point:new i.e.Point(g/2,NaN)}}function h(t,e){const{text:n,fontFamily:i}=t,a=document.createElement("canvas");a.style.display="none";const o=a.getContext("2d");o.font=e||"14px ".concat(i);return{textWidth:o.measureText(n).width,textHeight:14}}function d(t,e){const{x:n,y:a}=u(t,e);return e.isInfiniteCanvas||e.isThumbnail?new i.e.Point(n-20,a-20):new i.e.Point(n,a)}function u(t,e){let{width:n,height:i,x:o,y:r}={};const s=t.parts.filter(t=>"LAYER"===t.name).first(),l=s?s.actualBounds:{};if(e.isInfiniteCanvas||e.isThumbnail){const e=[];t.nodes.each(t=>{e.push(t)}),t.links.each(t=>{e.push(t)});const s=Object(a.b)(e,!0);n=s.width+40,i=s.height+40,o=s.x,r=s.y}else if(e.runPage){const t=e.bounds;o=t.x||0,r=t.y||0,n=t.width||e.canvasWidth,i=t.height||e.canvasHeight}else o=l.x||0,r=l.y||0,n=l.width||e.canvasWidth,i=l.height||e.canvasHeight;return{x:o,y:r,width:n,height:i}}},function(t,e,n){var i=n(96),a="object"==typeof self&&self&&self.Object===Object&&self,o=i||a||Function("return this")();t.exports=o},function(t,e,n){"use strict";var i=n(0),a=n(7);const o={_storageMap:{},addDiagram:function(t){t instanceof i.e.Diagram&&(this._storageMap[t.__gohashid]={_keys:[],_boundsMap:{}},this.listenEvents(t,this._storageMap[t.__gohashid]))},getKeys:function(t){if(t instanceof i.e.Diagram)return this._storageMap[t.__gohashid]._keys},getMap:function(t){if(t instanceof i.e.Diagram&&this._storageMap[t.__gohashid])return this._storageMap[t.__gohashid]._boundsMap},_getChangeKey:t=>t.object&&t.object.key?t.object&&t.object.key||null:t.newValue?t.newValue.key:t.oldValue?t.oldValue.key:null,_getChangePart:(t,e,n)=>t.object&&t.object.part||n.findNodeForKey(e),_changeProperty(t,e,n,i){if(i)switch(t.propertyName){case"width":case"height":case"loc":case"angle":case"position":case"desiredSize":case"location":this._addPart(n,e,i)}},_addPart(t,e,n){n&&n&&n.key&&(n instanceof i.e.Node||n instanceof i.e.Group)&&n.data&&"around-group"!==n.data.category&&"layer-around-group"!==n.data.category&&("slides-container"!==n.data.category||n.visible)&&(n.isLinkLabel||!e[n.key]&&n.diagram&&(t.add(n),e[n.key]=!0))},_addDeleteKey(t,e,n){e[t]||(n.add(t),e[t]=!0)},_updateChagne(t,e,n,a){const o={};if(t.object&&t.object.changes)"FinishedUndo"===t.propertyName?t.object.changes.each(t=>{const r=this._getChangeKey(t),s=this._getChangePart(t,r,a);"nodeDataArray"===t.propertyName&&(t.change===i.e.ChangedEvent.Insert?this._addDeleteKey(r,o,n):t.change===i.e.ChangedEvent.Remove&&this._addPart(e,o,s)),this._changeProperty(t,o,e,s)}):t.object.changes.each(t=>{var r;const s=this._getChangeKey(t),l=this._getChangePart(t,s,a);if("nodeDataArray"===t.propertyName)t.change===i.e.ChangedEvent.Insert?this._addPart(e,o,l):t.change===i.e.ChangedEvent.Remove&&this._addDeleteKey(s,o,n);else if("visible"===t.propertyName&&"slides-container"===(null==l||null===(r=l.data)||void 0===r?void 0:r.category)){var c;null!=l&&null!==(c=l.data)&&void 0!==c&&c.slidesVisible?this._addPart(e,o,l):this._addDeleteKey(s,o,n)}this._changeProperty(t,o,e,l)});else{var r;const l=this._getChangeKey(t),c=this._getChangePart(t,l,a);if("nodeDataArray"===t.propertyName)t.change===i.e.ChangedEvent.Insert?this._addPart(e,o,c):t.change===i.e.ChangedEvent.Remove&&this._addDeleteKey(l,o,n);else if("visible"===t.propertyName&&"slides-container"===(null==c||null===(r=c.data)||void 0===r?void 0:r.category)){var s;null!=c&&null!==(s=c.data)&&void 0!==s&&s.slidesVisible?this._addPart(e,o,c):this._addDeleteKey(l,o,n)}this._changeProperty(t,o,e,c)}},listenEvents(t,e){t.addModelChangedListener(n=>{if(!n.isTransactionFinished&&!t.skipsUndoManager&&t.undoManager.isInTransaction)return;const a=new i.e.List,o=new i.e.List;this._updateChagne(n,o,a,t),setTimeout(()=>{this.updateParts(o.filter(t=>!a.has(t.key)),e),a.count&&this.removeKeys(a,e)},20)}),t.addDiagramListener("InitialLayoutCompleted",()=>{e._keys=[],e._boundsMap={};const n=new i.e.List,a={};t.nodes.each(t=>{this._addPart(n,a,t)}),n.count&&this.updateParts(n,e)})},updateParts(t,e){t.each(t=>{if(!t.key)return;if(!t.diagram)return;const n=Object(a.b)([t]);-1===e._keys.indexOf(t.key)&&e._keys.push(t.key),e._boundsMap[t.key]=n})},removeKeys(t,e){t.each(t=>{const n=e._keys.indexOf(t);-1!==n&&e._keys.splice(n,1),delete e._boundsMap[t]})}};e.a=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=["BPMN-SwimLane","uml-SwimLane"]},function(t,e,n){"use strict";n.d(e,"d",(function(){return g})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return y})),n.d(e,"e",(function(){return v})),n.d(e,"a",(function(){return T}));var i=n(0),a=n(3),o=n(77),r=n(2),s=n(36),l=n(6),c=n(24),h=n(16),d=n(10),u=n(12);const f=i.e.GraphObject.make,[p]=Object(u.e)();function g(t,e){return f(i.e.Adornment,"Spot",{name:"LINKING_ADORNMENT",zOrder:10,background:"transparent"},new i.e.Binding("zOrder","",(t,e)=>e.part.adornedPart.isShowLinkingAdornment?d.b.linking2:d.b.linking1),new i.e.Binding("visible","",t=>{const e=t.part.adornedPart,n=e.diagram;if(n.inPickCanvasColorState||"slides-container"===t.data.category||"image"===t.data.category&&!t.data.anchorData)return!1;const i=n.pageSetting.diagramSetting.linkingAdornmentVisible;return i?"Dragging"!==n.currentTool.name&&"Resizing"!==n.currentTool.name&&"Rotating"!==n.currentTool.name&&"RowResizing"!==n.currentTool.name&&"ColumnResizing"!==n.currentTool.name&&!Object(r.E)(n,e):i}).ofObject(),new i.e.Binding("","visible",(t,e)=>{if(!t)return;const n=e.findObject("OUTERSHAPE");if(!n||n.elements.count<2)return;const i=n.elt(1).elt(0);i.mouseOver(i.diagram.lastInput,i)}).ofObject("."),f(i.e.Placeholder),f(i.e.Panel,"Spot",{name:"OUTERSHAPE"},f(i.e.Shape,"Rectangle",{fill:"transparent",stroke:"transparent",name:"outerShapeRect"},new i.e.Binding("cursor","",(t,e)=>"electronic"===t.category?"move":"auto"),new i.e.Binding("width","",(t,e)=>t.width||i.e.Size.parse(t.size).width),new i.e.Binding("height","",(t,e)=>t.height||i.e.Size.parse(t.size).height)),f(i.e.Panel,"Spot",{},new i.e.Binding("alignment","",(t,e)=>new i.e.Spot(.5,.5)),new i.e.Binding("alignmentFocus","",(t,e)=>new i.e.Spot(.5,.5)),f(i.e.Shape,"Rectangle",{fill:"transparent",stroke:"transparent",cursor:"move"},new i.e.Binding("figure","figure",t=>"UML-Constraint"===t?"UML-Constraint-Fill":["UML-Actor","BPMN-TextAnnotation","flowcharNoteLeft","flowcharNoteRight"].includes(t)||t.startsWith("EE_")?"Rectangle":t),new i.e.Binding("parameter1","",t=>["flowcharNoteLeft","flowcharNoteRight"].includes(t.category)?0:t.parameter1),new i.e.Binding("width","",(t,e)=>t.width||i.e.Size.parse(t.size).width),new i.e.Binding("height","",(t,e)=>t.height||i.e.Size.parse(t.size).height)),...function(t,e){const{shapeName:n,category:o,wires:r,predefinedPortArr:s}=t;let l=4;if(o.startsWith("circuit")||o.startsWith("electronic"))switch(n){case"EE_Multiplexer":case"EE_Demultiplexer":l=r+Math.ceil(Math.log(r)/Math.log(2))+1;break;case"EE_IntegratedCircuit":l=r;break;default:l=(null==s?void 0:s.length)||0}return[M({nearSpotOnShape:new i.e.Spot(.5,0),attr:"portArray",index:0}),M({nearSpotOnShape:new i.e.Spot(1,.5),attr:"portArray",index:1}),M({nearSpotOnShape:new i.e.Spot(.5,1),attr:"portArray",index:2}),M({nearSpotOnShape:new i.e.Spot(0,.5),attr:"portArray",index:3}),...P(l),f(i.e.Shape,"Circle",{fill:a.i,cursor:"crosshair",opacity:1,stroke:a.i,strokeWidth:1,visible:!1},new i.e.Binding("width","",t=>a.q/t.diagram.scale).ofObject(),new i.e.Binding("height","",t=>a.q/t.diagram.scale).ofObject(),new i.e.Binding("alignment","",t=>t.borderDot),new i.e.Binding("visible","",(t,e)=>{const n=e.diagram,i=n.currentTool;return!!t.borderDot&&(!!t.borderDot&&!i.beforeInner)})),b(),...k({alignment:new i.e.Spot(.5,0)}),...k({alignment:new i.e.Spot(1,.5)}),...k({alignment:new i.e.Spot(.5,1)}),...k({alignment:new i.e.Spot(0,.5)}),...k({nearSpotOnShape:new i.e.Spot(.5,0),attr:"portArray",index:0}),...k({nearSpotOnShape:new i.e.Spot(1,.5),attr:"portArray",index:1}),...k({nearSpotOnShape:new i.e.Spot(.5,1),attr:"portArray",index:2}),...k({nearSpotOnShape:new i.e.Spot(0,.5),attr:"portArray",index:3}),...S(l)]}(t.data))))}function m(){return f(i.e.Adornment,"Spot",{name:"LINKING_ADORNMENT",zOrder:10,background:"transparent"},new i.e.Binding("zOrder","",(t,e)=>e.part.adornedPart.isShowLinkingAdornment?d.b.linking2:d.b.linking1),new i.e.Binding("visible","",t=>{const e=t.part.adornedPart,n=e.diagram;if(n.inPickCanvasColorState)return!1;const i=n.pageSetting.diagramSetting.linkingAdornmentVisible;return i?"Dragging"!==n.currentTool.name&&"Resizing"!==n.currentTool.name&&"Rotating"!==n.currentTool.name&&!Object(r.E)(n,e):i}).ofObject(),f(i.e.Placeholder),f(i.e.Panel,"Spot",{alignment:i.e.Spot.Center,alignmentFocus:i.e.Spot.Center},f(i.e.Shape,"Circle",{fill:a.i,stroke:a.i,strokeWidth:1,cursor:"crosshair"},new i.e.Binding("width","",(t,e)=>a.q/e.diagram.scale),new i.e.Binding("height","",(t,e)=>a.q/e.diagram.scale))))}function y(){return{}}function v(){return f(i.e.Adornment,"Spot",{name:"MOUSE_HOVER_ADORNMENT",zOrder:d.b.linkingMouseHover},f(i.e.Shape,"Rectangle",{stroke:a.a,strokeWidth:3,opacity:.5,alignment:new i.e.Spot(.5,.5),alignmentFocus:i.e.Spot.Center,fill:"transparent"},new i.e.Binding("geometry","",(t,e)=>{const n=e.part.adornedPart;if("image"===t.category)return null;return(n.findPort("")||n.findObject("SHAPE")).geometry}),new i.e.Binding("geometryStretch","",t=>{const{category:e}=t;return"electronic"===e?i.e.GraphObject.None:i.e.GraphObject.Default}),new i.e.Binding("width",t=>t.width),new i.e.Binding("parameter1"),new i.e.Binding("parameter2"),new i.e.Binding("height",t=>t.height),new i.e.Binding("desiredSize","size",(t,e)=>{const n=e.part,{category:a}=n.data;return"image"===a?i.e.Size.parse(t):i.e.Size.NoSize})),f(i.e.Placeholder))}let w=null,x=null;function b(){const t=["UML-ProvidedInterface","UML-Assembly","UML-RequiredInterface"],e=["circuit","circuit-orient","circuit-orient-side","electronic","slides-container"],n=["bgText"];return f(i.e.Panel,"Spot",{alignment:i.e.Spot.Center,alignmentFocus:i.e.Spot.Center,cursor:"crosshair"},f(i.e.Shape,{name:"LINKING_SHAPE",fill:null,stroke:"transparent",alignment:i.e.Spot.TopLeft,geometryStretch:i.e.GraphObject.None,..._(),mouseOver:(t,e)=>{if(p.value&&"function"==typeof p.value.deref){e.isActionable=!1;const t=e.part.adornedPart;return delete t.data.borderDot,void t.updateTargetBindings()}"crosshair"!==e.panel.cursor&&(e.panel.cursor="crosshair"),e.isActionable||(e.isActionable=!0);const n=e.part.adornedPart,i=n.findPort("")||n.findObject("SHAPE");!function(t,e,n){const i=Object(s.a)(t,n);n&&e.data&&(e.data.borderDot=i),e.updateTargetBindings("borderDot")}(t.diagram,n,i)},mouseLeave:(t,e)=>{const n=e.part.adornedPart;delete n.data.borderDot,n.updateTargetBindings()}},new i.e.Binding("visible","",(i,a)=>!~t.indexOf(i.figure)&&(!~e.indexOf(i.category)&&(~n.indexOf(i.category)?a.part.adornedObject.isSelected:!i.image||!Object(h.a)(i.image)))),new i.e.Binding("geometry","",(t,e)=>{const n=e.part.adornedPart,{category:r}=n.data,s=n.data.strokeWidth||0,l=n.findPort(""),c=l.geometry,h=l.strokeMiterLimit,d=e.diagram.scale+n.findObject("SHAPE").geometryString;if(w===d||"ToolManager"!==e.diagram.currentTool.name||e.diagram.isScaling)return i.e.Geometry.parse(x);{w=d;let t=15/e.diagram.scale+s/2;a.n[r]&&(t=s+30);const n=o.a.getSvg(c.flattenedSegments,t,h);return x=n,i.e.Geometry.parse(n)}}).ofObject(),new i.e.Binding("strokeWidth","",(t,e)=>function(t){const{category:e,strokeWidth:n}=t.data;if(a.n[e])return 15;const i=n||0;return 15/t.diagram.scale+i/2}(e.part.adornedPart)),new i.e.Binding("width","",(t,e)=>t.width?t.width:i.e.Size.parse(t.size).width),new i.e.Binding("height","",(t,e)=>t.height?t.height:i.e.Size.parse(t.size).height)))}function S(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;const e=[];for(let n=0;n<t;n++)e[n]=k({useDefineData:!0,attr:"portArray",index:n});return e}function k(t){let{alignment:e,nearSpotOnShape:n,useDefineData:o,attr:r,index:s}=t;return[f(i.e.Panel,"Auto",new i.e.Binding("alignment","",(t,a)=>{const l=L({data:t,item:a,alignment:e,nearSpotOnShape:n,attr:r,index:s,useDefineData:o});return new i.e.Spot(1-l.x,1-l.y)}),new i.e.Binding("alignmentFocus","",(t,n)=>{const a=A(n.diagram,e);return new i.e.Spot(a.x,a.y,.5-a.offsetX,.5-a.offsetY)}),new i.e.Binding("visible","",(t,n)=>E(t,n,o,e)),f(i.e.Shape,"Circle",{fill:null,stroke:"transparent",strokeWidth:1},new i.e.Binding("width","",t=>(a.q+10)/t.diagram.scale).ofObject(),new i.e.Binding("height","",t=>(a.q+10)/t.diagram.scale).ofObject(),new i.e.Binding("strokeWidth","",t=>a.r/t.diagram.scale).ofObject())),f(i.e.Panel,"Auto",{mouseOver:(t,e)=>{!function(t,e){const n=e.part.adornedPart,i=e.findObject("PORT_ANCHOR");i&&(i&&(i.fill=a.i),i.scale=1.4,delete n.data.borderDot,n.updateTargetBindings("borderDot"))}(0,e)},mouseLeave:(t,e)=>{!function(t,e){const n=e.findObject("PORT_ANCHOR");n.scale=1,n.fill="#fff"}(0,e)},..._(!0)},new i.e.Binding("alignment","",(t,i)=>L({data:t,item:i,alignment:e,nearSpotOnShape:n,attr:r,index:s,useDefineData:o})),new i.e.Binding("alignmentFocus","",(t,n)=>A(n.diagram,e)),new i.e.Binding("visible","",(t,n)=>E(t,n,o,e)),f(i.e.Shape,"Circle",{name:"PORT_PLACEHOLDER",fill:"transparent",stroke:"transparent",strokeWidth:1},new i.e.Binding("width","",t=>(a.q+10)/t.diagram.scale).ofObject(),new i.e.Binding("height","",t=>(a.q+10)/t.diagram.scale).ofObject(),new i.e.Binding("strokeWidth","",t=>a.r/t.diagram.scale).ofObject()),f(i.e.Shape,"Circle",{name:"PORT_ANCHOR",fill:"#fff",stroke:a.i,strokeWidth:1,cursor:"crosshair"},new i.e.Binding("width","",(t,e)=>a.q/e.diagram.scale),new i.e.Binding("height","",(t,e)=>a.q/e.diagram.scale),new i.e.Binding("strokeWidth","",t=>a.r/t.diagram.scale).ofObject(),new i.e.Binding("angle","angle",t=>-t),{toolTip:f(i.e.Adornment,"Spot",{visible:!1},f(i.e.Placeholder,{padding:0}),f(i.e.Panel,"Auto",new i.e.Binding("angle","",(t,i)=>[0,90,180,270][O(L({data:t,item:i.part.adornedPart,alignment:e,nearSpotOnShape:n,attr:r,index:s,useDefineData:o}),t.angle)]),new i.e.Binding("alignmentFocus","",(t,a)=>{const l=["Top","Right","Bottom","Left"],c=O(L({data:t,item:a.part.adornedPart,alignment:e,nearSpotOnShape:n,attr:r,index:s,useDefineData:o}),t.angle),h=i.e.Spot[l[c]];let d=0,u=0;switch(l[c]){case"Top":u=-20;break;case"Right":d=20;break;case"Bottom":u=20;break;case"Left":d=-20}return new i.e.Spot(1-h.x,1-h.y,-d,-u)}),f(i.e.Shape,"TriangleTip",{parameter1:3,fill:"#000"},new i.e.Binding("width","",(t,i)=>{const a=O(L({data:t,item:i.part.adornedPart,alignment:e,nearSpotOnShape:n,attr:r,index:s,useDefineData:o}),t.angle);return 0===a||2===a?100:30}),new i.e.Binding("height","",(t,i)=>{const a=O(L({data:t,item:i.part.adornedPart,alignment:e,nearSpotOnShape:n,attr:r,index:s,useDefineData:o}),t.angle);return 1===a||3===a?110:40})),f(i.e.TextBlock,{text:"可快速连接形状",stroke:"#FFF"},new i.e.Binding("angle","",(t,i)=>-[0,90,180,270][O(L({data:t,item:i.part.adornedPart,alignment:e,nearSpotOnShape:n,attr:r,index:s,useDefineData:o}),t.angle)]))))}))]}function P(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;const e=[];for(let n=0;n<t;n++)e[n]=M({useDefineData:!0,attr:"portArray",index:n});return e}function M(t){let{alignment:e,nearSpotOnShape:n,attr:a,index:o,useDefineData:r,type:s="shape"}=t;return f(i.e.Shape,"Circle",{width:8,height:8,fill:"#fff",stroke:"#000",strokeWidth:1,cursor:"crosshair",..._(!0)},new i.e.Binding("alignment","",(t,i)=>L({data:t,item:i,alignment:e,nearSpotOnShape:n,attr:a,index:o,useDefineData:r})),new i.e.Binding("visible","",(t,i)=>!i.diagram.inPickCanvasColorState&&(!!i.part.adornedPart.selectable&&(!t.aroundPart&&("shape"===s?("Relinking"===i.diagram.currentTool.name||"Linking"===i.diagram.currentTool.name)&&("bgText"!==t.category&&(e?i.part.adornedPart.isSelected:t.predefinedPortArr?!(n||!t.predefinedPortArr[o])&&!i.part.adornedPart.isSelected:!i.alignment.isDefault()&&!i.part.adornedPart.isSelected)):"image"===s||("autoGroup"===s||void 0))))),new i.e.Binding("width","",t=>8/t.diagram.scale).ofObject(),new i.e.Binding("height","",t=>8/t.diagram.scale).ofObject(),new i.e.Binding("strokeWidth","",t=>1/t.diagram.scale).ofObject())}function _(t){return{isActionable:!0,actionDown(e,n){if(e.diagram.toolManager.panningTool.canStart())return e.diagram.currentTool=e.diagram.toolManager.panningTool,void e.diagram.toolManager.panningTool.doActivate();e.diagram.freeDrawLine=!1;const i=n.part.adornedPart,a=e.diagram.toolManager.linkingTool;Object(l.c)(e.diagram),a.startObject=i.port,e.diagram.currentTool=a,e.diagram.clearSelection();let o=null;if(o=n.spotOnLink?n.spotOnLink:i.data.borderDot?i.data.borderDot:Object(s.b)(e.diagram,a.startObject).spot,t&&Array.isArray(i.data.portArray)){let t=null,e=null;i.data.portArray.forEach(n=>{if(null===t)t=(n.x-o.x)*(n.x-o.x)+(n.y-o.y)*(n.y-o.y),e=n;else{const i=(n.x-o.x)*(n.x-o.x)+(n.y-o.y)*(n.y-o.y);i<t&&(t=i,e=n)}}),e&&(o=e)}a.doActivate("fromSpot",o)}}}function L(t){let{data:e,item:n,alignment:a,nearSpotOnShape:o,useDefineData:r,attr:s,index:l}=t;if(r&&e.predefinedPortArr&&e.predefinedPortArr[l]){if(!(n.part.adornedPart.findPort("")||n.part.adornedPart.findObject("SHAPE")))return null;const t=new i.e.Spot(...e.predefinedPortArr[l]);return s&&(e[s]||(e[s]=[null,null,null,null]),e[s][l]=t),n.spotOnLink=t,t}if(a){const t=n.part.adornedPart.findPort("")||n.part.adornedPart.findObject("SHAPE"),e=new i.e.Spot(a.x,a.y);return n.spotOnLink=C(t,e)||new i.e.Spot(a.x,a.y),e}if(o){const t=n.part.adornedPart.findPort("")||n.part.adornedPart.findObject("SHAPE");if(!t)return null;const i=C(t,o);if(!i)return;return n.spotOnLink=i,s&&(e[s]||(e[s]=[null,null,null,null]),e[s][l]=i),i}return null}function T(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const a=e.shift(),o=e.shift(),r=a.data;if(a&&r&&o)if(Array.isArray(r.predefinedPortArr))r[o]=r.predefinedPortArr.map(t=>new i.e.Spot(...t));else if(4!==e.length){e=[new i.e.Spot(.5,0),new i.e.Spot(1,.5),new i.e.Spot(.5,1),new i.e.Spot(0,.5)];const t=a.findPort("")||a.findObject("SHAPE");if(!t)return null;e.forEach((e,n)=>{const i=C(t,e);r[o]||(r[o]=[null,null,null,null]),r[o][n]=i})}}function O(t,e){e="number"==typeof e?e:0;const n=t.x-.5,i=t.y-.5;let a;a=Math.abs(n)>=Math.abs(i)?n<=0?3:1:i<=0?0:2;return a=(a+(e+45-(e+45)%90)/90)%4,a}function A(t,e){let n,o,r=0,s=0;return 0===e.x?n=1:1===e.x&&(n=0),0===e.y?o=1:1===e.y&&(o=0),"number"==typeof n||"number"==typeof o?(0===n?r=-a.p:1===n&&(r=a.p),0===o?s=-a.p:1===o&&(s=a.p),new i.e.Spot(.5,.5,r/t.scale,s/t.scale)):new i.e.Spot(.5,.5)}function E(t,e,n,a){return"Relinking"!==e.diagram.currentTool.name&&"Linking"!==e.diagram.currentTool.name&&(!!e.part.adornedPart.selectable&&(!t.aroundPart&&(!~c.f.indexOf(t.category)&&(!~c.c.indexOf(t.category)&&(a?!c.g.includes(t.category)&&e.part.adornedPart.isSelected:t.predefinedPortArr?!(!n||e.alignment===i.e.Spot.Default)&&(!!c.g.includes(t.category)||!e.part.adornedPart.isSelected):!e.alignment.isDefault()&&(!function(t){const e=t.part instanceof i.e.Adornment?t.part.adornedPart:t.part;if("ToolManager"!==t.diagram.currentTool.name)return!1;if(e&&t.alignment&&(e.findPort("")||e.findObject("SHAPE"))){const n=e.data.angle||0,a=(e.findPort("")||e.findObject("SHAPE")).getDocumentNaturalBounds(),o=new i.e.Point(a.x+a.width*t.alignment.x,a.y+a.height*t.alignment.y),r=new i.e.Point(o.x-a.centerX,o.y-a.centerY).rotate(n),s=new i.e.Point(a.centerX+r.x,a.centerY+r.y);if(t.diagram.findObjectsAt(s,t=>"simulateBox"===t.name?t:null).count>0)return!0}return!1}(e)&&!e.part.adornedPart.isSelected))))))}function C(t,e){var n;const a=t.getDocumentRotateBounds();let o,r,s,l;if(.5===e.x?(o="x",r=a.x+a.width/2,s=new i.e.Spot(r,a.y+a.height*e.y)):.5===e.y&&(o="y",r=a.y+a.height/2,s=new i.e.Spot(a.x+a.width*e.x,r)),!o)return!1;const c=null===(n=t.geometry)||void 0===n?void 0:n.getPointByXOrY(a,o,r,!0,s);return c?(l="x"===o?new i.e.Spot(.5,(c.y-a.y)/a.height):new i.e.Spot((c.x-a.x)/a.width,.5),l):new i.e.Spot(.5,.5)}},function(t,e,n){"use strict";var i=n(0),a=n(2),o=n(6);const r={filterOperableCellList(t,e){const n=t||window.diagram,r=n.getEditingSelection(),s=new i.e.List;if(r&&r.count){const t=Object(o.l)(n);Object(a.C)(t)&&r.each(t=>{if(!["table","slides-container"].includes(t.category)&&t.data){const n=!t.data.lock,o=!Object(a.C)(t),r=t.data.tempAroundPart;n&&o&&r&&(t instanceof i.e.Link?!t.fromNode&&!t.toNode&&"matchSize"!==e&&s.add(t):s.add(t))}})}return s},filterCellsInGroup(t,e,n,o){const r=t||window.diagram,s=n||r.selection.toArray(),l=new i.e.List,c=e&&e.data&&e.data.key;return Array.isArray(s)&&s.length&&!Number.isNaN(c)&&s.forEach(t=>{(t.data&&t.data.group)===c&&(Object(a.B)(t)?(s.forEach(e=>{(e.data&&e.data.group)===t.key&&l.add(e)}),o&&l.add(t)):l.add(t))}),l},filterCellsInFirstGroup(t,e){const n=[],i=e.data&&e.data.key;return i&&(t.nodes.each(t=>{t.data&&t.data.group===i&&t.data.key!==i&&n.push(t)}),t.links.each(t=>{t.data&&t.data.group===i&&n.push(t)})),n},filterTopGroupByCell(t,e){const n=(t||window.diagram).selection;if(e.data&&e.data.aroundPart&&n&&n.count)for(;e.data.group&&e.data.aroundPart;)n.each(t=>{t&&t.data&&e.data.group===t.data.key&&(e=t)});return e}};e.a=r},function(t,e,n){t.exports=n(209)},function(t,e,n){(function(e){var i;t.exports=(i=i||function(t,i){var a;if("undefined"!=typeof window&&window.crypto&&(a=window.crypto),"undefined"!=typeof self&&self.crypto&&(a=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(a=globalThis.crypto),!a&&"undefined"!=typeof window&&window.msCrypto&&(a=window.msCrypto),!a&&void 0!==e&&e.crypto&&(a=e.crypto),!a)try{a=n(226)}catch(t){}var o=function(){if(a){if("function"==typeof a.getRandomValues)try{return a.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof a.randomBytes)try{return a.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),s={},l=s.lib={},c=l.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},h=l.WordArray=c.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,a=t.sigBytes;if(this.clamp(),i%4)for(var o=0;o<a;o++){var r=n[o>>>2]>>>24-o%4*8&255;e[i+o>>>2]|=r<<24-(i+o)%4*8}else for(var s=0;s<a;s+=4)e[i+s>>>2]=n[s>>>2];return this.sigBytes+=a,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(o());return new h.init(e,t)}}),d=s.enc={},u=d.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],a=0;a<n;a++){var o=e[a>>>2]>>>24-a%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new h.init(n,e/2)}},f=d.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],a=0;a<n;a++){var o=e[a>>>2]>>>24-a%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new h.init(n,e)}},p=d.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},g=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,i=this._data,a=i.words,o=i.sigBytes,r=this.blockSize,s=o/(4*r),l=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*r,c=t.min(4*l,o);if(l){for(var d=0;d<l;d+=r)this._doProcessBlock(a,d);n=a.splice(0,l),i.sigBytes-=c}return new h.init(n,c)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),m=(l.Hasher=g.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new m.HMAC.init(t,n).finalize(e)}}}),s.algo={});return s}(Math),i)}).call(this,n(47))},function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return f}));var i=n(0),a=n(7),o=n(58),r=n(22),s=n(5);const l="/topo-static/js/videoStream/",c="".concat(l,"flv.min.js"),h="".concat(l,"hls.min.js");class d{constructor(t){this.node=t,this.src=t.data.src,this.type=t.category,this._div=this.createDiv(),this._dataUrl=null,this._firstLoaded=!1,this._dispatchEvent(),this.click_store=null}get div(){return this._div}set visible(t){this._div.style.visibility=t?"visible":"hidden"}createDiv(){const t=document.createElement("div");t.id=this.node.key,t.style.cssText=this.computeDivStyle();const e=this._createElementByType();return this.node.data.hide&&(t.style.opacity=0,t.style.visibility="hidden"),e instanceof Promise?e.then(e=>{t.appendChild(e)}):t.appendChild(e),t}update(){const t="opacity: ".concat(this._div.style.opacity,"; visibility: ").concat(this._div.style.visibility,";");this._div.style.cssText=t+this.computeDivStyle()}remove(){const t=this._div.parentNode;t&&t.removeChild(this._div)}fadeIn(t){let{duration:e}=t;this.visible=!0;const n=(.001*e).toFixed(3);this._div.style.transition="opacity ".concat(n,"s"),this._div.style.opacity=1}fadeOut(t){let{duration:e}=t;const n=(.001*e).toFixed(3);this._div.style.transition="opacity ".concat(n,"s"),this._div.style.opacity=0}computeDivStyle(){const t=this.node.diagram,e=this.node.data;let n=!0;if(e.layerName){n=t.findLayer(e.layerName).visible}const{left:i,top:a,width:o,height:r}=this.computeDivBounds(this.node),s=this.node.diagram.scale;let l="position: absolute; left: ".concat(i,"px; top: ").concat(a,"px; width: ").concat(o,"px; height: ").concat(r,"px; transform-origin: 0 0; transform: scale(").concat(s,"); background: none; z-index: 2;");return n||(l="".concat(l," display: none;")),l}computeDivBounds(){const t=this.node.diagram,{x:e,y:n,width:o,height:r}=Object(a.b)([this.node]),s=new i.e.Point(e,n),l=t.transformDocToView(s);return{left:l.x,top:l.y,width:o,height:r}}async _createElementByType(){const t=this.node.data,e=this._getTagName(),n=document.createElement(e);switch(n.setAttribute("width","100%"),n.setAttribute("height","100%"),this.type){case"iframe":n.style.border="none",n.setAttribute("src",t.src),n.setAttribute("id",t.iframeId);break;case"video":n.controls=t.controls,n.autoplay=t.autoplay,n.loop=t.loop,n.muted=t.muted,n.setAttribute("src",t.src);break;case"videoStream":{n.controls=t.controls,n.autoplay=t.autoplay,n.muted=t.muted;const e=t.src;if(e.match(/\.flv/)){let e=window.flvjs;if(e||(await Object(s.m)(c),e=window.flvjs),e.isSupported()){const i=e.createPlayer({type:"flv",url:t.src});i.attachMediaElement(n),i.load(),i.play()}else n.setAttribute("src",t.src)}else if(function(t){return t.match(/\.m3u8/)}(e)){let e=window.Hls;if(e||(await Object(s.m)(h),e=window.Hls),e.isSupported()){const i=new e;i.loadSource(t.src),i.attachMedia(n)}else n.setAttribute("src",t.src)}else n.canPlayType("application/vnd.apple.mpegurl"),n.setAttribute("src",t.src);break}case"chart":n.style.width=t.width+"px",n.style.height=t.height+"px",Object(o.a)(this.node.diagram,t.key,t.conchId,n,t.chartJs)}return n}_getTagName(){return{iframe:"iframe",video:"video",videoStream:"video",chart:"div"}[this.type]}_dispatchEvent(){this._div.addEventListener("wheel",t=>{t.preventDefault(),t.stopPropagation();const e={};["clientX","clientY","deltaX","deltaY","deltaZ","deltaMode","offsetX","offsetY","wheelDelta","wheelDeltaX","wheelDeltaY","altKey","ctrlKey","metaKey","shiftKey"].forEach(n=>{e[n]=t[n]});const n=new WheelEvent(t.type,e);this.node.diagram.div.childNodes[0].dispatchEvent(n)},!0),"chart"===this.node.data.category&&(this._div.addEventListener("click",t=>{t.preventDefault(),this.click_store&&(clearTimeout(this.click_store),this.click_store=null),this.click_store=setTimeout(()=>{const e={type:"click",originalEvent:t,object:this.node._object},n=e.object;n&&n.trigger(r.a.Click,e),this.node._object._graph.trigger(r.a.Click,e)},300)},!1),this._div.addEventListener("dblclick",t=>{t.preventDefault(),clearTimeout(this.click_store),this.click_store=null;const e={type:"dblclick",originalEvent:t,object:this.node._object},n=e.object;n&&n.trigger(r.a.DBLClick,e),this.node._object._graph.trigger(r.a.DBLClick,e)},!1))}}function u(t){if(!f(t))return;const e=t.getDomNodes();if(e.length){const n=function(t){const e=document.createDocumentFragment();return t.sort((t,e)=>t.zOrder-e.zOrder),t.forEach(t=>{const n=new d(t);t.dom=n;const i=n.div;e.appendChild(i)}),e}(e);t.diagram.div.appendChild(n)}!function(t){const e=t.diagram,n=e=>{!function(t){const e=t.getDomNodes();e.length&&e.forEach(t=>{t.dom&&t.dom.update()})}(t)};e.removeDiagramListener("ViewportBoundsChanged",n),e.addDiagramListener("ViewportBoundsChanged",n),t.off("clear",p),t.on("clear",p)}(t)}function f(t){let e=!1;return t.isReadOnly&&t.isEnabled&&"coop-readOnly"!==t.mode&&(e=!0),e}function p(t){t.getDomNodes().forEach(t=>{t.dom&&t.dom.remove()})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return u}));n(0),n(7);var i=n(41),a=n(2),o=n(16);function r(t){if(t.length>2)for(let e=t.length-1;e>0;e--){const n=t[e-1],i=t[e],o=t[e+1];if(n&&o){if(Object(a.z)(n.x,i.x)&&Object(a.z)(i.x,o.x)||Object(a.z)(n.y,i.y)&&Object(a.z)(i.y,o.y))return t.splice(e,1),r(t);if(s(n,o,i))return t.splice(e,1),r(t)}else;}return t}function s(t,e,n){return Math.abs(n.compareWithLineSegmentPoint(t,e))<=1e-7}const l=function(t){const e=[],n=t.width,i=t.height,a=[],o=[];let r=0;const s=[];for(let e=0;e<i;e++){const i=[];for(let a=0;a<n;a++)t.data[4*(e*n+a)+3]>0?i.push(!0):i.push(!1);s.push(i)}for(let t=0;t<n+2;t++)o.push(!1);a.push(o);for(let t=0;t<i;t++){const e=[!1];for(let i=0;i<n;i++)s[t][i]||t<s.length-1&&s[t+1][i]?e.push(!0):(e.push(!1),r++);e.push(!1),a.push(e)}if(r<100)return{anchors:[],orientationAnchor:[[.5,0],[1,.5],[.5,1],[0,.5]]};a.push(o);const l={},d={},u=[];let f=0;for(let t=0;t<a.length;t++){const e=d[t-1],n={};let i=-1;const o=a[t];for(let a=0;a<o.length;a++)if(i<0)o[a]&&(i=a);else if(!o[a]){f=c([i,a-1],l,d,u,e,n,f,t),i=-1}if(i>0){f=c([i,o.length-1],l,d,u,e,n,f,t)}Object.keys(n).length>0&&(d[t]=n)}for(;Object.keys(l).length>0;){let t=-1;for(let e=0;e<f;e++)if(l[e]){t=e;break}const a={};a[t]=!0;const o=[t];for(;o.length>0;){const t=o.shift(0);for(let e=0;e<u.length;e++){const n=u[e];1*n[0]+""==t+""?a[n[1]]||(o.push(n[1]),a[n[1]]=!0):1*n[1]+""==t+""&&(a[n[0]]||(o.push(n[0]),a[n[0]]=!0))}}const r=[];for(let t=0;t<i+2;t++){const t=[];for(let e=0;e<n+2;e++)t.push(!1);r.push(t)}const s=Object.keys(a);for(let t=0;t<s.length;t++){const e=s[t];for(let t=0;t<l[e].length;t++){const n=l[e][t];for(let t=n.xs[0];t<=n.xs[1];t++)r[n.y][t]=!0}delete l[e]}const c=h(r),d=[];let p=null;for(let t=0;t<c.length;t++)if(null===p)d.push([(c[t][0]-1)/n,(c[t][1]-1)/i]),p=[(c[t][0]-1)/n,(c[t][1]-1)/i];else{const e=(c[t][0]-1)/n-p[0],a=(c[t][1]-1)/i-p[1];e*e+a*a>.1*.1&&(d.push([(c[t][0]-1)/n,(c[t][1]-1)/i]),p=[(c[t][0]-1)/n,(c[t][1]-1)/i])}e.push(d)}let p=null,g=null,m=null,y=null;for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++){const i=e[t][n];(null===p||i[0]<p)&&(p=i[0]),(null===g||i[0]>g)&&(g=i[0]),(null===m||i[1]<m)&&(m=i[1]),(null===y||i[1]>y)&&(y=i[1])}return{anchors:e,orientationAnchor:[[0,.5],[1,.5],[.5,0],[.5,1]]}};function c(t,e,n,i,a,o,r,s){const l=[];if(a){const e=Object.keys(a);for(let n=0;n<e.length;n++){const i=e[n];for(let e=0;e<a[i].length;e++){const n=a[i][e];if(n[1]>=t[0]-1&&t[1]>=n[0]-1){l.push(i);break}}}}if(l.length>0){let n=0;for(let t=1;t<l.length;t++)l[n]>l[t]&&(n=t);let a=o[l[n]];a||(a=[],o[l[n]]=a),a.push(t);const r={xs:t,y:s};let c=e[l[n]];c||(c=[],e[l[n]]=c),c.push(r);for(let t=0;t<l.length;t++)t!==n&&i.push([l[n],l[t]])}else{const n=[t];o[r]=n;const i={xs:t,y:s};let a=e[r];a||(a=[],e[r]=a),a.push(i),r++}return r}function h(t){const e=[];let n=-1,i=-1;for(let e=0;e<t.length;e++){const a=t[e];for(let t=0;t<a.length;t++)if(a[t]){n=t,i=e;break}if(n>0)break}const a=[];for(a.push([n,i]);;){n=a[a.length-1][0],i=a[a.length-1][1];let e=-1,o=-1;1===a.length?(e=n-1,o=i):(e=a[a.length-2][0],o=a[a.length-2][1]);let r=[];r=e===n-1&&o===i?[[n-1,i-1],[n,i-1],[n+1,i-1],[n+1,i],[n+1,i+1],[n,i+1],[n-1,i+1],[n-1,i]]:e===n-1&&o===i-1?[[n,i-1],[n+1,i-1],[n+1,i],[n+1,i+1],[n,i+1],[n-1,i+1],[n-1,i],[n-1,i-1]]:e===n&&o===i-1?[[n+1,i-1],[n+1,i],[n+1,i+1],[n,i+1],[n-1,i+1],[n-1,i],[n-1,i-1],[n,i-1]]:e===n+1&&o===i-1?[[n+1,i],[n+1,i+1],[n,i+1],[n-1,i+1],[n-1,i],[n-1,i-1],[n,i-1],[n+1,i-1]]:e===n+1&&o===i?[[n+1,i+1],[n,i+1],[n-1,i+1],[n-1,i],[n-1,i-1],[n,i-1],[n+1,i-1],[n+1,i]]:e===n+1&&o===i+1?[[n,i+1],[n-1,i+1],[n-1,i],[n-1,i-1],[n,i-1],[n+1,i-1],[n+1,i],[n+1,i+1]]:e===n&&o===i+1?[[n-1,i+1],[n-1,i],[n-1,i-1],[n,i-1],[n+1,i-1],[n+1,i],[n+1,i+1],[n,i+1]]:[[n-1,i],[n-1,i-1],[n,i-1],[n+1,i-1],[n+1,i],[n+1,i+1],[n,i+1],[n-1,i+1]];let s=-1,l=-1;for(let e=0;e<r.length;e++){const n=r[e];if(t[n[1]][n[0]]){s=n[0],l=n[1];break}}if(s<0)break;if(s===a[0][0]&&l===a[0][1])break;a.push([s,l])}for(let t=0;t<a.length;t++){const n=a[t];let i=!1;for(let e=0;e<t;e++)if(n[0]===a[e][0]&&n[1]===a[e][1]){i=!0;break}i||e.push([n[0],n[1]])}return e}const d=[];function u(t,e){const n=t.part,a=n.diagram;if(!n.data.anchorData){const t=function(t,e){var n;const i=e.path[0];let a,o;if(t.data.anchorData)return;if(null!==(n=t.data)&&void 0!==n&&n.isVisioShape){const e=t.data.size.split(" ");a=e[0],o=e[1]}let r=document.createElement("canvas");a=a||i.width,o=o||i.height,r.width=a,r.height=o;const s=r.getContext("2d");s.drawImage(i,0,0,a,o);const c=s.getImageData(0,0,a,o);if((c.width>1e3||c.height>1e3)&&c.data.length>2e6||c.data.length>5e6)return t.data.anchorData=[],void(t.data.predefinedPortArr=[[.5,0],[1,.5],[.5,1],[0,.5]]);const h=l(c);return r=null,h}(n,e);if(t)if(~d.indexOf(n.data.image))f(a,n,t),Object(i.a)(n,"portArray"),Object(o.a)(n.data.image)||n.linksConnected.each(t=>{a.updateLinkPoints(t)});else{d.push(n.data.image);const e=Object(o.a)(n.data.image);a.nodes.each(o=>{o.data.image===n.data.image&&(f(a,o,t),Object(i.a)(o,"portArray"),e||o.linksConnected.each(t=>{a.updateLinkPoints(t)}))})}else;}}function f(t,e,n){if(!e.data.anchorData){const i=t.skipsUndoManager;t.skipsUndoManager=!0;const a=n.anchors,o=n.orientationAnchor;e.data.predefinedPortArr=o,t.model.setDataProperty(e.data,"anchorData",a),t.skipsUndoManager=i}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(t){i=r}}();var l,c=[],h=!1,d=-1;function u(){h&&l&&(h=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!h){var t=s(u);h=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||h||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";(function(t,i){n.d(e,"a",(function(){return qn}));
/*!
 * Vue.js v2.7.8
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var a=Object.freeze({}),o=Array.isArray;function r(t){return null==t}function s(t){return null!=t}function l(t){return!0===t}function c(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function h(t){return"function"==typeof t}function d(t){return null!==t&&"object"==typeof t}var u=Object.prototype.toString;function f(t){return"[object Object]"===u.call(t)}function p(t){return"[object RegExp]"===u.call(t)}function g(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function m(t){return s(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function y(t){return null==t?"":Array.isArray(t)||f(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)}function v(t){var e=parseFloat(t);return isNaN(e)?t:e}function w(t,e){for(var n=Object.create(null),i=t.split(","),a=0;a<i.length;a++)n[i[a]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}w("slot,component",!0);var x=w("key,ref,slot,slot-scope,is");function b(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var S=Object.prototype.hasOwnProperty;function k(t,e){return S.call(t,e)}function P(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var M=/-(\w)/g,_=P((function(t){return t.replace(M,(function(t,e){return e?e.toUpperCase():""}))})),L=P((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),T=/\B([A-Z])/g,O=P((function(t){return t.replace(T,"-$1").toLowerCase()}));var A=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function E(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function C(t,e){for(var n in e)t[n]=e[n];return t}function N(t){for(var e={},n=0;n<t.length;n++)t[n]&&C(e,t[n]);return e}function B(t,e,n){}var j=function(t,e,n){return!1},D=function(t){return t};function F(t,e){if(t===e)return!0;var n=d(t),i=d(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var a=Array.isArray(t),o=Array.isArray(e);if(a&&o)return t.length===e.length&&t.every((function(t,n){return F(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(a||o)return!1;var r=Object.keys(t),s=Object.keys(e);return r.length===s.length&&r.every((function(n){return F(t[n],e[n])}))}catch(t){return!1}}function R(t,e){for(var n=0;n<t.length;n++)if(F(t[n],e))return n;return-1}function I(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function z(t,e){return t===e?0===t&&1/t!=1/e:t==t||e==e}var H=["component","directive","filter"],V=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],G={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:j,isReservedAttr:j,isUnknownElement:j,getTagNamespace:B,parsePlatformTagName:D,mustUseProp:j,async:!0,_lifecycleHooks:V},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function W(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function q(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var Y=new RegExp("[^".concat(U.source,".$_\\d]"));var X="__proto__"in{},K="undefined"!=typeof window,Z=K&&window.navigator.userAgent.toLowerCase(),$=Z&&/msie|trident/.test(Z),J=Z&&Z.indexOf("msie 9.0")>0,Q=Z&&Z.indexOf("edge/")>0;Z&&Z.indexOf("android");var tt=Z&&/iphone|ipad|ipod|ios/.test(Z);Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z);var et,nt=Z&&Z.match(/firefox\/(\d+)/),it={}.watch,at=!1;if(K)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){at=!0}}),window.addEventListener("test-passive",null,ot)}catch(t){}var rt=function(){return void 0===et&&(et=!K&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),et},st=K&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function lt(t){return"function"==typeof t&&/native code/.test(t.toString())}var ct,ht="undefined"!=typeof Symbol&&lt(Symbol)&&"undefined"!=typeof Reflect&&lt(Reflect.ownKeys);ct="undefined"!=typeof Set&&lt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var dt=null;function ut(t){void 0===t&&(t=null),t||dt&&dt._scope.off(),dt=t,t&&t._scope.on()}var ft=function(){function t(t,e,n,i,a,o,r,s){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=a,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=r,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),pt=function(t){void 0===t&&(t="");var e=new ft;return e.text=t,e.isComment=!0,e};function gt(t){return new ft(void 0,void 0,void 0,String(t))}function mt(t){var e=new ft(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var yt=0,vt=function(){function t(){this.id=yt++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){b(this.subs,t)},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.slice();for(var n=0,i=e.length;n<i;n++){e[n].update()}},t}();vt.target=null;var wt=[];function xt(t){wt.push(t),vt.target=t}function bt(){wt.pop(),vt.target=wt[wt.length-1]}var St=Array.prototype,kt=Object.create(St);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=St[t];q(kt,t,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a,o=e.apply(this,n),r=this.__ob__;switch(t){case"push":case"unshift":a=n;break;case"splice":a=n.slice(2)}return a&&r.observeArray(a),r.dep.notify(),o}))}));var Pt=Object.getOwnPropertyNames(kt),Mt={},_t=!0;function Lt(t){_t=t}var Tt={notify:B,depend:B,addSub:B,removeSub:B},Ot=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?Tt:new vt,this.vmCount=0,q(t,"__ob__",this),o(t)){if(!n)if(X)t.__proto__=kt;else for(var i=0,a=Pt.length;i<a;i++){q(t,s=Pt[i],kt[s])}e||this.observeArray(t)}else{var r=Object.keys(t);for(i=0;i<r.length;i++){var s;Et(t,s=r[i],Mt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)At(t[e],!1,this.mock)},t}();function At(t,e,n){var i;if(!(!d(t)||Rt(t)||t instanceof ft))return k(t,"__ob__")&&t.__ob__ instanceof Ot?i=t.__ob__:!_t||!n&&rt()||!o(t)&&!f(t)||!Object.isExtensible(t)||t.__v_skip||(i=new Ot(t,e,n)),i}function Et(t,e,n,i,a,r){var s=new vt,l=Object.getOwnPropertyDescriptor(t,e);if(!l||!1!==l.configurable){var c=l&&l.get,h=l&&l.set;c&&!h||n!==Mt&&2!==arguments.length||(n=t[e]);var d=!a&&At(n,!1,r);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=c?c.call(t):n;return vt.target&&(s.depend(),d&&(d.dep.depend(),o(e)&&Bt(e))),Rt(e)&&!a?e.value:e},set:function(e){var i=c?c.call(t):n;if(z(i,e)){if(h)h.call(t,e);else{if(c)return;if(!a&&Rt(i)&&!Rt(e))return void(i.value=e);n=e}d=!a&&At(e,!1,r),s.notify()}}}),s}}function Ct(t,e,n){if(!Ft(t)){var i=t.__ob__;return o(t)&&g(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),i&&!i.shallow&&i.mock&&At(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||i&&i.vmCount?n:i?(Et(i.value,e,n,void 0,i.shallow,i.mock),i.dep.notify(),n):(t[e]=n,n)}}function Nt(t,e){if(o(t)&&g(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||Ft(t)||k(t,e)&&(delete t[e],n&&n.dep.notify())}}function Bt(t){for(var e=void 0,n=0,i=t.length;n<i;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),o(e)&&Bt(e)}function jt(t){return Dt(t,!0),q(t,"__v_isShallow",!0),t}function Dt(t,e){if(!Ft(t)){At(t,e,rt());0}}function Ft(t){return!(!t||!t.__v_isReadonly)}function Rt(t){return!(!t||!0!==t.__v_isRef)}function It(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(Rt(t))return t.value;var i=t&&t.__ob__;return i&&i.dep.depend(),t},set:function(t){var i=e[n];Rt(i)&&!Rt(t)?i.value=t:e[n]=t}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var zt;var Ht=function(){function t(t){void 0===t&&(t=!1),this.active=!0,this.effects=[],this.cleanups=[],!t&&zt&&(this.parent=zt,this.index=(zt.scopes||(zt.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=zt;try{return zt=this,t()}finally{zt=e}}else 0},t.prototype.on=function(){zt=this},t.prototype.off=function(){zt=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(this.parent&&!t){var i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}},t}();function Vt(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}var Gt=P((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:n,capture:i,passive:e}}));function Ut(t,e){function n(){var t=n.fns;if(!o(t))return _e(t,null,arguments,e,"v-on handler");for(var i=t.slice(),a=0;a<i.length;a++)_e(i[a],null,arguments,e,"v-on handler")}return n.fns=t,n}function Wt(t,e,n,i,a,o){var s,c,h,d;for(s in t)c=t[s],h=e[s],d=Gt(s),r(c)||(r(h)?(r(c.fns)&&(c=t[s]=Ut(c,o)),l(d.once)&&(c=t[s]=a(d.name,c,d.capture)),n(d.name,c,d.capture,d.passive,d.params)):c!==h&&(h.fns=c,t[s]=h));for(s in e)r(t[s])&&i((d=Gt(s)).name,e[s],d.capture)}function qt(t,e,n){var i;t instanceof ft&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function o(){n.apply(this,arguments),b(i.fns,o)}r(a)?i=Ut([o]):s(a.fns)&&l(a.merged)?(i=a).fns.push(o):i=Ut([a,o]),i.merged=!0,t[e]=i}function Yt(t,e,n,i,a){if(s(e)){if(k(e,n))return t[n]=e[n],a||delete e[n],!0;if(k(e,i))return t[n]=e[i],a||delete e[i],!0}return!1}function Xt(t){return c(t)?[gt(t)]:o(t)?function t(e,n){var i,a,h,d,u=[];for(i=0;i<e.length;i++)r(a=e[i])||"boolean"==typeof a||(h=u.length-1,d=u[h],o(a)?a.length>0&&(Kt((a=t(a,"".concat(n||"","_").concat(i)))[0])&&Kt(d)&&(u[h]=gt(d.text+a[0].text),a.shift()),u.push.apply(u,a)):c(a)?Kt(d)?u[h]=gt(d.text+a):""!==a&&u.push(gt(a)):Kt(a)&&Kt(d)?u[h]=gt(d.text+a.text):(l(e._isVList)&&s(a.tag)&&r(a.key)&&s(n)&&(a.key="__vlist".concat(n,"_").concat(i,"__")),u.push(a)));return u}(t):void 0}function Kt(t){return s(t)&&s(t.text)&&!1===t.isComment}function Zt(t,e){var n,i,a,r,l=null;if(o(t)||"string"==typeof t)for(l=new Array(t.length),n=0,i=t.length;n<i;n++)l[n]=e(t[n],n);else if("number"==typeof t)for(l=new Array(t),n=0;n<t;n++)l[n]=e(n+1,n);else if(d(t))if(ht&&t[Symbol.iterator]){l=[];for(var c=t[Symbol.iterator](),h=c.next();!h.done;)l.push(e(h.value,l.length)),h=c.next()}else for(a=Object.keys(t),l=new Array(a.length),n=0,i=a.length;n<i;n++)r=a[n],l[n]=e(t[r],r,n);return s(l)||(l=[]),l._isVList=!0,l}function $t(t,e,n,i){var a,o=this.$scopedSlots[t];o?(n=n||{},i&&(n=C(C({},i),n)),a=o(n)||(h(e)?e():e)):a=this.$slots[t]||(h(e)?e():e);var r=n&&n.slot;return r?this.$createElement("template",{slot:r},a):a}function Jt(t){return An(this.$options,"filters",t,!0)||D}function Qt(t,e){return o(t)?-1===t.indexOf(e):t!==e}function te(t,e,n,i,a){var o=G.keyCodes[e]||n;return a&&i&&!G.keyCodes[e]?Qt(a,i):o?Qt(o,t):i?O(i)!==e:void 0===t}function ee(t,e,n,i,a){if(n)if(d(n)){o(n)&&(n=N(n));var r=void 0,s=function(o){if("class"===o||"style"===o||x(o))r=t;else{var s=t.attrs&&t.attrs.type;r=i||G.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=_(o),c=O(o);l in r||c in r||(r[o]=n[o],a&&((t.on||(t.on={}))["update:".concat(o)]=function(t){n[o]=t}))};for(var l in n)s(l)}else;return t}function ne(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e||ae(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),"__static__".concat(t),!1),i}function ie(t,e,n){return ae(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function ae(t,e,n){if(o(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&oe(t[i],"".concat(e,"_").concat(i),n);else oe(t,e,n)}function oe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function re(t,e){if(e)if(f(e)){var n=t.on=t.on?C({},t.on):{};for(var i in e){var a=n[i],o=e[i];n[i]=a?[].concat(a,o):o}}else;return t}function se(t,e,n,i){e=e||{$stable:!n};for(var a=0;a<t.length;a++){var r=t[a];o(r)?se(r,e,n):r&&(r.proxy&&(r.fn.proxy=!0),e[r.key]=r.fn)}return i&&(e.$key=i),e}function le(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"==typeof i&&i&&(t[e[n]]=e[n+1])}return t}function ce(t,e){return"string"==typeof t?e+t:t}function he(t){t._o=ie,t._n=v,t._s=y,t._l=Zt,t._t=$t,t._q=F,t._i=R,t._m=ne,t._f=Jt,t._k=te,t._b=ee,t._v=gt,t._e=pt,t._u=se,t._g=re,t._d=le,t._p=ce}function de(t,e){if(!t||!t.length)return{};for(var n={},i=0,a=t.length;i<a;i++){var o=t[i],r=o.data;if(r&&r.attrs&&r.attrs.slot&&delete r.attrs.slot,o.context!==e&&o.fnContext!==e||!r||null==r.slot)(n.default||(n.default=[])).push(o);else{var s=r.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(ue)&&delete n[c];return n}function ue(t){return t.isComment&&!t.asyncFactory||" "===t.text}function fe(t){return t.isComment&&t.asyncFactory}function pe(t,e,n,i){var o,r=Object.keys(n).length>0,s=e?!!e.$stable:!r,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&i&&i!==a&&l===i.$key&&!r&&!i.$hasNormal)return i;for(var c in o={},e)e[c]&&"$"!==c[0]&&(o[c]=ge(t,n,c,e[c]))}else o={};for(var h in n)h in o||(o[h]=me(n,h));return e&&Object.isExtensible(e)&&(e._normalized=o),q(o,"$stable",s),q(o,"$key",l),q(o,"$hasNormal",r),o}function ge(t,e,n,i){var a=function(){var e=dt;ut(t);var n=arguments.length?i.apply(null,arguments):i({}),a=(n=n&&"object"==typeof n&&!o(n)?[n]:Xt(n))&&n[0];return ut(e),n&&(!a||1===n.length&&a.isComment&&!fe(a))?void 0:n};return i.proxy&&Object.defineProperty(e,n,{get:a,enumerable:!0,configurable:!0}),a}function me(t,e){return function(){return t[e]}}function ye(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};q(e,"_v_attr_proxy",!0),ve(e,t.$attrs,a,t,"$attrs")}return t._attrsProxy},get listeners(){t._listenersProxy||ve(t._listenersProxy={},t.$listeners,a,t,"$listeners");return t._listenersProxy},get slots(){return function(t){t._slotsProxy||xe(t._slotsProxy={},t.$scopedSlots);return t._slotsProxy}(t)},emit:A(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return It(t,e,n)}))}}}function ve(t,e,n,i,a){var o=!1;for(var r in e)r in t?e[r]!==n[r]&&(o=!0):(o=!0,we(t,r,i,a));for(var r in t)r in e||(o=!0,delete t[r]);return o}function we(t,e,n,i){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[i][e]}})}function xe(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}var be=null;function Se(t,e){return(t.__esModule||ht&&"Module"===t[Symbol.toStringTag])&&(t=t.default),d(t)?e.extend(t):t}function ke(t){if(o(t))for(var e=0;e<t.length;e++){var n=t[e];if(s(n)&&(s(n.componentOptions)||fe(n)))return n}}function Pe(t,e,n,i,a,u){return(o(n)||c(n))&&(a=i,i=n,n=void 0),l(u)&&(a=2),function(t,e,n,i,a){if(s(n)&&s(n.__ob__))return pt();s(n)&&s(n.is)&&(e=n.is);if(!e)return pt();0;o(i)&&h(i[0])&&((n=n||{}).scopedSlots={default:i[0]},i.length=0);2===a?i=Xt(i):1===a&&(i=function(t){for(var e=0;e<t.length;e++)if(o(t[e]))return Array.prototype.concat.apply([],t);return t}(i));var c,u;if("string"==typeof e){var f=void 0;u=t.$vnode&&t.$vnode.ns||G.getTagNamespace(e),c=G.isReservedTag(e)?new ft(G.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!s(f=An(t.$options,"components",e))?new ft(e,n,i,void 0,void 0,t):xn(f,n,t,i,e)}else c=xn(e,n,t,i);return o(c)?c:s(c)?(s(u)&&function t(e,n,i){e.ns=n,"foreignObject"===e.tag&&(n=void 0,i=!0);if(s(e.children))for(var a=0,o=e.children.length;a<o;a++){var c=e.children[a];s(c.tag)&&(r(c.ns)||l(i)&&"svg"!==c.tag)&&t(c,n,i)}}(c,u),s(n)&&function(t){d(t.style)&&He(t.style);d(t.class)&&He(t.class)}(n),c):pt()}(t,e,n,i,a)}function Me(t,e,n){xt();try{if(e)for(var i=e;i=i.$parent;){var a=i.$options.errorCaptured;if(a)for(var o=0;o<a.length;o++)try{if(!1===a[o].call(i,t,e,n))return}catch(t){Le(t,i,"errorCaptured hook")}}Le(t,e,n)}finally{bt()}}function _e(t,e,n,i,a){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&m(o)&&!o._handled&&(o.catch((function(t){return Me(t,i,a+" (Promise/async)")})),o._handled=!0)}catch(t){Me(t,i,a)}return o}function Le(t,e,n){if(G.errorHandler)try{return G.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Te(e,null,"config.errorHandler")}Te(t,e,n)}function Te(t,e,n){if(!K||"undefined"==typeof console)throw t;console.error(t)}var Oe,Ae=!1,Ee=[],Ce=!1;function Ne(){Ce=!1;var t=Ee.slice(0);Ee.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&lt(Promise)){var Be=Promise.resolve();Oe=function(){Be.then(Ne),tt&&setTimeout(B)},Ae=!0}else if($||"undefined"==typeof MutationObserver||!lt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Oe=void 0!==i&&lt(i)?function(){i(Ne)}:function(){setTimeout(Ne,0)};else{var je=1,De=new MutationObserver(Ne),Fe=document.createTextNode(String(je));De.observe(Fe,{characterData:!0}),Oe=function(){je=(je+1)%2,Fe.data=String(je)},Ae=!0}function Re(t,e){var n;if(Ee.push((function(){if(t)try{t.call(e)}catch(t){Me(t,e,"nextTick")}else n&&n(e)})),Ce||(Ce=!0,Oe()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}function Ie(t){return function(e,n){if(void 0===n&&(n=dt),n)return function(t,e,n){var i=t.$options;i[e]=_n(i[e],n)}(n,t,e)}}Ie("beforeMount"),Ie("mounted"),Ie("beforeUpdate"),Ie("updated"),Ie("beforeDestroy"),Ie("destroyed"),Ie("errorCaptured"),Ie("activated"),Ie("deactivated"),Ie("serverPrefetch"),Ie("renderTracked"),Ie("renderTriggered");var ze=new ct;function He(t){return function t(e,n){var i,a,r=o(e);if(!r&&!d(e)||Object.isFrozen(e)||e instanceof ft)return;if(e.__ob__){var s=e.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(r)for(i=e.length;i--;)t(e[i],n);else if(Rt(e))t(e.value,n);else for(a=Object.keys(e),i=a.length;i--;)t(e[a[i]],n)}(t,ze),ze.clear(),t}var Ve,Ge=0,Ue=function(){function t(t,e,n,i,a){var o,r;o=this,void 0===(r=zt||(t?t._scope:void 0))&&(r=zt),r&&r.active&&r.effects.push(o),(this.vm=t)&&a&&(t._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Ge,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ct,this.newDepIds=new ct,this.expression="",h(e)?this.getter=e:(this.getter=function(t){if(!Y.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=B)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;xt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Me(t,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&He(t),bt(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():un(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||d(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');_e(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&b(this.vm._scope.effects,this),this.active){for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function We(t,e){Ve.$on(t,e)}function qe(t,e){Ve.$off(t,e)}function Ye(t,e){var n=Ve;return function i(){var a=e.apply(null,arguments);null!==a&&n.$off(t,i)}}function Xe(t,e,n){Ve=t,Wt(e,n||{},We,qe,Ye,t),Ve=void 0}var Ke=null;function Ze(t){var e=Ke;return Ke=t,function(){Ke=e}}function $e(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Je(t,e){if(e){if(t._directInactive=!1,$e(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Je(t.$children[n]);Qe(t,"activated")}}function Qe(t,e,n,i){void 0===i&&(i=!0),xt();var a=dt;i&&ut(t);var o=t.$options[e],r="".concat(e," hook");if(o)for(var s=0,l=o.length;s<l;s++)_e(o[s],t,n||null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),i&&ut(a),bt()}var tn=[],en=[],nn={},an=!1,on=!1,rn=0;var sn=0,ln=Date.now;if(K&&!$){var cn=window.performance;cn&&"function"==typeof cn.now&&ln()>document.createEvent("Event").timeStamp&&(ln=function(){return cn.now()})}var hn=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function dn(){var t,e;for(sn=ln(),on=!0,tn.sort(hn),rn=0;rn<tn.length;rn++)(t=tn[rn]).before&&t.before(),e=t.id,nn[e]=null,t.run();var n=en.slice(),i=tn.slice();rn=tn.length=en.length=0,nn={},an=on=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Je(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],i=n.vm;i&&i._watcher===n&&i._isMounted&&!i._isDestroyed&&Qe(i,"updated")}}(i),st&&G.devtools&&st.emit("flush")}function un(t){var e=t.id;if(null==nn[e]&&(t!==vt.target||!t.noRecurse)){if(nn[e]=!0,on){for(var n=tn.length-1;n>rn&&tn[n].id>t.id;)n--;tn.splice(n+1,0,t)}else tn.push(t);an||(an=!0,Re(dn))}}function fn(t,e){if(t){for(var n=Object.create(null),i=ht?Reflect.ownKeys(t):Object.keys(t),a=0;a<i.length;a++){var o=i[a];if("__ob__"!==o){var r=t[o].from;if(r in e._provided)n[o]=e._provided[r];else if("default"in t[o]){var s=t[o].default;n[o]=h(s)?s.call(e):s}else 0}}return n}}function pn(t,e,n,i,r){var s,c=this,h=r.options;k(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var d=l(h._compiled),u=!d;this.data=t,this.props=e,this.children=n,this.parent=i,this.listeners=t.on||a,this.injections=fn(h.inject,i),this.slots=function(){return c.$slots||pe(i,t.scopedSlots,c.$slots=de(n,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return pe(i,t.scopedSlots,this.slots())}}),d&&(this.$options=h,this.$slots=this.slots(),this.$scopedSlots=pe(i,t.scopedSlots,this.$slots)),h._scopeId?this._c=function(t,e,n,a){var r=Pe(s,t,e,n,a,u);return r&&!o(r)&&(r.fnScopeId=h._scopeId,r.fnContext=i),r}:this._c=function(t,e,n,i){return Pe(s,t,e,n,i,u)}}function gn(t,e,n,i,a){var o=mt(t);return o.fnContext=n,o.fnOptions=i,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function mn(t,e){for(var n in e)t[_(n)]=e[n]}function yn(t){return t.name||t.__name||t._componentTag}he(pn.prototype);var vn={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;vn.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;s(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,Ke)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,i,o){var r=i.data.scopedSlots,s=t.$scopedSlots,l=!!(r&&!r.$stable||s!==a&&!s.$stable||r&&t.$scopedSlots.$key!==r.$key||!r&&t.$scopedSlots.$key),c=!!(o||t.$options._renderChildren||l),h=t.$vnode;t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o;var d=i.data.attrs||a;t._attrsProxy&&ve(t._attrsProxy,d,h.data&&h.data.attrs||a,t,"$attrs")&&(c=!0),t.$attrs=d,n=n||a;var u=t.$options._parentListeners;if(t._listenersProxy&&ve(t._listenersProxy,n,u||a,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,Xe(t,n,u),e&&t.$options.props){Lt(!1);for(var f=t._props,p=t.$options._propKeys||[],g=0;g<p.length;g++){var m=p[g],y=t.$options.props;f[m]=En(m,y,e,t)}Lt(!0),t.$options.propsData=e}c&&(t.$slots=de(o,i.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Qe(i,"mounted")),t.data.keepAlive&&(n._isMounted?((e=i)._inactive=!1,en.push(e)):Je(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,$e(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)t(e.$children[i]);Qe(e,"deactivated")}}(e,!0):e.$destroy())}},wn=Object.keys(vn);function xn(t,e,n,i,c){if(!r(t)){var h=n.$options._base;if(d(t)&&(t=h.extend(t)),"function"==typeof t){var u;if(r(t.cid)&&void 0===(t=function(t,e){if(l(t.error)&&s(t.errorComp))return t.errorComp;if(s(t.resolved))return t.resolved;var n=be;if(n&&s(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),l(t.loading)&&s(t.loadingComp))return t.loadingComp;if(n&&!s(t.owners)){var i=t.owners=[n],a=!0,o=null,c=null;n.$on("hook:destroyed",(function(){return b(i,n)}));var h=function(t){for(var e=0,n=i.length;e<n;e++)i[e].$forceUpdate();t&&(i.length=0,null!==o&&(clearTimeout(o),o=null),null!==c&&(clearTimeout(c),c=null))},u=I((function(n){t.resolved=Se(n,e),a?i.length=0:h(!0)})),f=I((function(e){s(t.errorComp)&&(t.error=!0,h(!0))})),p=t(u,f);return d(p)&&(m(p)?r(t.resolved)&&p.then(u,f):m(p.component)&&(p.component.then(u,f),s(p.error)&&(t.errorComp=Se(p.error,e)),s(p.loading)&&(t.loadingComp=Se(p.loading,e),0===p.delay?t.loading=!0:o=setTimeout((function(){o=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,h(!1))}),p.delay||200)),s(p.timeout)&&(c=setTimeout((function(){c=null,r(t.resolved)&&f(null)}),p.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}(u=t,h)))return function(t,e,n,i,a){var o=pt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:i,tag:a},o}(u,e,n,i,c);e=e||{},Wn(t),s(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var a=e.on||(e.on={}),r=a[i],l=e.model.callback;s(r)?(o(r)?-1===r.indexOf(l):r!==l)&&(a[i]=[l].concat(r)):a[i]=l}(t.options,e);var f=function(t,e,n){var i=e.options.props;if(!r(i)){var a={},o=t.attrs,l=t.props;if(s(o)||s(l))for(var c in i){var h=O(c);Yt(a,l,c,h,!0)||Yt(a,o,c,h,!1)}return a}}(e,t);if(l(t.options.functional))return function(t,e,n,i,r){var l=t.options,c={},h=l.props;if(s(h))for(var d in h)c[d]=En(d,h,e||a);else s(n.attrs)&&mn(c,n.attrs),s(n.props)&&mn(c,n.props);var u=new pn(n,c,r,i,t),f=l.render.call(null,u._c,u);if(f instanceof ft)return gn(f,n,u.parent,l,u);if(o(f)){for(var p=Xt(f)||[],g=new Array(p.length),m=0;m<p.length;m++)g[m]=gn(p[m],n,u.parent,l,u);return g}}(t,f,e,n,i);var p=e.on;if(e.on=e.nativeOn,l(t.options.abstract)){var g=e.slot;e={},g&&(e.slot=g)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<wn.length;n++){var i=wn[n],a=e[i],o=vn[i];a===o||a&&a._merged||(e[i]=a?bn(o,a):o)}}(e);var y=yn(t.options)||c;return new ft("vue-component-".concat(t.cid).concat(y?"-".concat(y):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:f,listeners:p,tag:c,children:i},u)}}}function bn(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}var Sn=B,kn=G.optionMergeStrategies;function Pn(t,e){if(!e)return t;for(var n,i,a,o=ht?Reflect.ownKeys(e):Object.keys(e),r=0;r<o.length;r++)"__ob__"!==(n=o[r])&&(i=t[n],a=e[n],k(t,n)?i!==a&&f(i)&&f(a)&&Pn(i,a):Ct(t,n,a));return t}function Mn(t,e,n){return n?function(){var i=h(e)?e.call(n,n):e,a=h(t)?t.call(n,n):t;return i?Pn(i,a):a}:e?t?function(){return Pn(h(e)?e.call(this,this):e,h(t)?t.call(this,this):t)}:e:t}function _n(t,e){var n=e?t?t.concat(e):o(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Ln(t,e,n,i){var a=Object.create(t||null);return e?C(a,e):a}kn.data=function(t,e,n){return n?Mn(t,e,n):e&&"function"!=typeof e?t:Mn(t,e)},V.forEach((function(t){kn[t]=_n})),H.forEach((function(t){kn[t+"s"]=Ln})),kn.watch=function(t,e,n,i){if(t===it&&(t=void 0),e===it&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var a={};for(var r in C(a,t),e){var s=a[r],l=e[r];s&&!o(s)&&(s=[s]),a[r]=s?s.concat(l):o(l)?l:[l]}return a},kn.props=kn.methods=kn.inject=kn.computed=function(t,e,n,i){if(!t)return e;var a=Object.create(null);return C(a,t),e&&C(a,e),a},kn.provide=Mn;var Tn=function(t,e){return void 0===e?t:e};function On(t,e,n){if(h(e)&&(e=e.options),function(t,e){var n=t.props;if(n){var i,a,r={};if(o(n))for(i=n.length;i--;)"string"==typeof(a=n[i])&&(r[_(a)]={type:null});else if(f(n))for(var s in n)a=n[s],r[_(s)]=f(a)?a:{type:a};else 0;t.props=r}}(e),function(t,e){var n=t.inject;if(n){var i=t.inject={};if(o(n))for(var a=0;a<n.length;a++)i[n[a]]={from:n[a]};else if(f(n))for(var r in n){var s=n[r];i[r]=f(s)?C({from:r},s):{from:s}}else 0}}(e),function(t){var e=t.directives;if(e)for(var n in e){var i=e[n];h(i)&&(e[n]={bind:i,update:i})}}(e),!e._base&&(e.extends&&(t=On(t,e.extends,n)),e.mixins))for(var i=0,a=e.mixins.length;i<a;i++)t=On(t,e.mixins[i],n);var r,s={};for(r in t)l(r);for(r in e)k(t,r)||l(r);function l(i){var a=kn[i]||Tn;s[i]=a(t[i],e[i],n,i)}return s}function An(t,e,n,i){if("string"==typeof n){var a=t[e];if(k(a,n))return a[n];var o=_(n);if(k(a,o))return a[o];var r=L(o);return k(a,r)?a[r]:a[n]||a[o]||a[r]}}function En(t,e,n,i){var a=e[t],o=!k(n,t),r=n[t],s=jn(Boolean,a.type);if(s>-1)if(o&&!k(a,"default"))r=!1;else if(""===r||r===O(t)){var l=jn(String,a.type);(l<0||s<l)&&(r=!0)}if(void 0===r){r=function(t,e,n){if(!k(e,"default"))return;var i=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return h(i)&&"Function"!==Nn(e.type)?i.call(t):i}(i,a,t);var c=_t;Lt(!0),At(r),Lt(c)}return r}var Cn=/^\s*function (\w+)/;function Nn(t){var e=t&&t.toString().match(Cn);return e?e[1]:""}function Bn(t,e){return Nn(t)===Nn(e)}function jn(t,e){if(!o(e))return Bn(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Bn(e[n],t))return n;return-1}var Dn={enumerable:!0,configurable:!0,get:B,set:B};function Fn(t,e,n){Dn.get=function(){return this[e][n]},Dn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Dn)}function Rn(t){var e=t.$options;if(e.props&&function(t,e){var n=t.$options.propsData||{},i=t._props=jt({}),a=t.$options._propKeys=[];t.$parent&&Lt(!1);var o=function(o){a.push(o);var r=En(o,e,n,t);Et(i,o,r),o in t||Fn(t,"_props",o)};for(var r in e)o(r);Lt(!0)}(t,e.props),function(t){var e=t.$options,n=e.setup;if(n){var i=t._setupContext=ye(t);ut(t),xt();var a=_e(n,null,[t._props||jt({}),i],t,"setup");if(bt(),ut(),h(a))e.render=a;else if(d(a))if(t._setupState=a,a.__sfc){var o=t._setupProxy={};for(var r in a)"__sfc"!==r&&It(o,a,r)}else for(var r in a)W(r)||It(t,a,r);else 0}}(t),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?B:A(e[n],t)}(t,e.methods),e.data)!function(t){var e=t.$options.data;f(e=t._data=h(e)?function(t,e){xt();try{return t.call(e,e)}catch(t){return Me(t,e,"data()"),{}}finally{bt()}}(e,t):e||{})||(e={});var n=Object.keys(e),i=t.$options.props,a=(t.$options.methods,n.length);for(;a--;){var o=n[a];0,i&&k(i,o)||W(o)||Fn(t,"_data",o)}var r=At(e);r&&r.vmCount++}(t);else{var n=At(t._data={});n&&n.vmCount++}e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),i=rt();for(var a in e){var o=e[a],r=h(o)?o:o.get;0,i||(n[a]=new Ue(t,r||B,B,In)),a in t||zn(t,a,o)}}(t,e.computed),e.watch&&e.watch!==it&&function(t,e){for(var n in e){var i=e[n];if(o(i))for(var a=0;a<i.length;a++)Gn(t,n,i[a]);else Gn(t,n,i)}}(t,e.watch)}var In={lazy:!0};function zn(t,e,n){var i=!rt();h(n)?(Dn.get=i?Hn(e):Vn(n),Dn.set=B):(Dn.get=n.get?i&&!1!==n.cache?Hn(e):Vn(n.get):B,Dn.set=n.set||B),Object.defineProperty(t,e,Dn)}function Hn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),vt.target&&e.depend(),e.value}}function Vn(t){return function(){return t.call(this,this)}}function Gn(t,e,n,i){return f(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,i)}var Un=0;function Wn(t){var e=t.options;if(t.super){var n=Wn(t.super);if(n!==t.superOptions){t.superOptions=n;var i=function(t){var e,n=t.options,i=t.sealedOptions;for(var a in n)n[a]!==i[a]&&(e||(e={}),e[a]=n[a]);return e}(t);i&&C(t.extendOptions,i),(e=t.options=On(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function qn(t){this._init(t)}function Yn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,a=t._Ctor||(t._Ctor={});if(a[i])return a[i];var o=yn(t)||yn(n.options);var r=function(t){this._init(t)};return(r.prototype=Object.create(n.prototype)).constructor=r,r.cid=e++,r.options=On(n.options,t),r.super=n,r.options.props&&function(t){var e=t.options.props;for(var n in e)Fn(t.prototype,"_props",n)}(r),r.options.computed&&function(t){var e=t.options.computed;for(var n in e)zn(t.prototype,n,e[n])}(r),r.extend=n.extend,r.mixin=n.mixin,r.use=n.use,H.forEach((function(t){r[t]=n[t]})),o&&(r.options.components[o]=r),r.superOptions=n.options,r.extendOptions=t,r.sealedOptions=C({},r.options),a[i]=r,r}}function Xn(t){return t&&(yn(t.Ctor.options)||t.tag)}function Kn(t,e){return o(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!p(t)&&t.test(e)}function Zn(t,e){var n=t.cache,i=t.keys,a=t._vnode;for(var o in n){var r=n[o];if(r){var s=r.name;s&&!e(s)&&$n(n,o,i,a)}}}function $n(t,e,n,i){var a=t[e];!a||i&&a.tag===i.tag||a.componentInstance.$destroy(),t[e]=null,b(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=Un++,e._isVue=!0,e.__v_skip=!0,e._scope=new Ht(!0),t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var a=i.componentOptions;n.propsData=a.propsData,n._parentListeners=a.listeners,n._renderChildren=a.children,n._componentTag=a.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=On(Wn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Xe(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=de(e._renderChildren,i),t.$scopedSlots=n?pe(t.$parent,n.data.scopedSlots,t.$slots):a,t._c=function(e,n,i,a){return Pe(t,e,n,i,a,!1)},t.$createElement=function(e,n,i,a){return Pe(t,e,n,i,a,!0)};var o=n&&n.data;Et(t,"$attrs",o&&o.attrs||a,null,!0),Et(t,"$listeners",e._parentListeners||a,null,!0)}(e),Qe(e,"beforeCreate",void 0,!1),function(t){var e=fn(t.$options.inject,t);e&&(Lt(!1),Object.keys(e).forEach((function(n){Et(t,n,e[n])})),Lt(!0))}(e),Rn(e),function(t){var e=t.$options.provide;if(e){var n=h(e)?e.call(t):e;if(!d(n))return;for(var i=Vt(t),a=ht?Reflect.ownKeys(n):Object.keys(n),o=0;o<a.length;o++){var r=a[o];Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))}}}(e),Qe(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(qn),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Ct,t.prototype.$delete=Nt,t.prototype.$watch=function(t,e,n){if(f(e))return Gn(this,t,e,n);(n=n||{}).user=!0;var i=new Ue(this,t,e,n);if(n.immediate){var a='callback for immediate watcher "'.concat(i.expression,'"');xt(),_e(e,this,[i.value],this,a),bt()}return function(){i.teardown()}}}(qn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(o(t))for(var a=0,r=t.length;a<r;a++)i.$on(t[a],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(o(t)){for(var i=0,a=t.length;i<a;i++)n.$off(t[i],e);return n}var r,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;for(var l=s.length;l--;)if((r=s[l])===e||r.fn===e){s.splice(l,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?E(n):n;for(var i=E(arguments,1),a='event handler for "'.concat(t,'"'),o=0,r=n.length;o<r;o++)_e(n[o],e,i,e,a)}return e}}(qn),function(t){t.prototype._update=function(t,e){var n=this,i=n.$el,a=n._vnode,o=Ze(n);n._vnode=t,n.$el=a?n.__patch__(a,t):n.__patch__(n.$el,t,e,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Qe(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||b(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Qe(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(qn),function(t){he(t.prototype),t.prototype.$nextTick=function(t){return Re(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,a=n._parentVnode;a&&e._isMounted&&(e.$scopedSlots=pe(e.$parent,a.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&xe(e._slotsProxy,e.$scopedSlots)),e.$vnode=a;try{ut(e),be=e,t=i.call(e._renderProxy,e.$createElement)}catch(n){Me(n,e,"render"),t=e._vnode}finally{be=null,ut()}return o(t)&&1===t.length&&(t=t[0]),t instanceof ft||(t=pt()),t.parent=a,t}}(qn);var Jn=[String,RegExp,Array],Qn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Jn,exclude:Jn,max:[String,Number]},methods:{cacheVNode:function(){var t=this.cache,e=this.keys,n=this.vnodeToCache,i=this.keyToCache;if(n){var a=n.tag,o=n.componentInstance,r=n.componentOptions;t[i]={name:Xn(r),tag:a,componentInstance:o},e.push(i),this.max&&e.length>parseInt(this.max)&&$n(t,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)$n(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Zn(t,(function(t){return Kn(e,t)}))})),this.$watch("exclude",(function(e){Zn(t,(function(t){return!Kn(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=ke(t),n=e&&e.componentOptions;if(n){var i=Xn(n),a=this.include,o=this.exclude;if(a&&(!i||!Kn(a,i))||o&&i&&Kn(o,i))return e;var r=this.cache,s=this.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;r[l]?(e.componentInstance=r[l].componentInstance,b(s,l),s.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return G}};Object.defineProperty(t,"config",e),t.util={warn:Sn,extend:C,mergeOptions:On,defineReactive:Et},t.set=Ct,t.delete=Nt,t.nextTick=Re,t.observable=function(t){return At(t),t},t.options=Object.create(null),H.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,C(t.options.components,Qn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=E(arguments,1);return n.unshift(this),h(t.install)?t.install.apply(t,n):h(t)&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=On(this.options,t),this}}(t),Yn(t),function(t){H.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&f(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&h(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(qn),Object.defineProperty(qn.prototype,"$isServer",{get:rt}),Object.defineProperty(qn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(qn,"FunctionalRenderContext",{value:pn}),qn.version="2.7.8";var ti=w("style,class"),ei=w("input,textarea,option,select,progress"),ni=w("contenteditable,draggable,spellcheck"),ii=w("events,caret,typing,plaintext-only"),ai=w("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),oi="http://www.w3.org/1999/xlink",ri=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},si=function(t){return ri(t)?t.slice(6,t.length):""},li=function(t){return null==t||!1===t};function ci(t){for(var e=t.data,n=t,i=t;s(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=hi(i.data,e));for(;s(n=n.parent);)n&&n.data&&(e=hi(e,n.data));return function(t,e){if(s(t)||s(e))return di(t,ui(e));return""}(e.staticClass,e.class)}function hi(t,e){return{staticClass:di(t.staticClass,e.staticClass),class:s(t.class)?[t.class,e.class]:e.class}}function di(t,e){return t?e?t+" "+e:t:e||""}function ui(t){return Array.isArray(t)?function(t){for(var e,n="",i=0,a=t.length;i<a;i++)s(e=ui(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):d(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var fi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},pi=w("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),gi=w("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),mi=function(t){return pi(t)||gi(t)};var yi=Object.create(null);var vi=w("text,number,password,search,email,tel,url");var wi=Object.freeze({__proto__:null,createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(fi[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),xi={create:function(t,e){bi(e)},update:function(t,e){t.data.ref!==e.data.ref&&(bi(t,!0),bi(e))},destroy:function(t){bi(t,!0)}};function bi(t,e){var n=t.data.ref;if(s(n)){var i=t.context,a=t.componentInstance||t.elm,r=e?null:a,l=e?void 0:a;if(h(n))_e(n,i,[r],i,"template ref function");else{var c=t.data.refInFor,d="string"==typeof n||"number"==typeof n,u=Rt(n),f=i.$refs;if(d||u)if(c){var p=d?f[n]:n.value;e?o(p)&&b(p,a):o(p)?p.includes(a)||p.push(a):d?(f[n]=[a],Si(i,n,f[n])):n.value=[a]}else if(d){if(e&&f[n]!==a)return;f[n]=l,Si(i,n,r)}else if(u){if(e&&n.value!==a)return;n.value=r}else 0}}}function Si(t,e,n){var i=t._setupState;i&&k(i,e)&&(Rt(i[e])?i[e].value=n:i[e]=n)}var ki=new ft("",{},[]),Pi=["create","activate","update","remove","destroy"];function Mi(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&s(t.data)===s(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,i=s(n=t.data)&&s(n=n.attrs)&&n.type,a=s(n=e.data)&&s(n=n.attrs)&&n.type;return i===a||vi(i)&&vi(a)}(t,e)||l(t.isAsyncPlaceholder)&&r(e.asyncFactory.error))}function _i(t,e,n){var i,a,o={};for(i=e;i<=n;++i)s(a=t[i].key)&&(o[a]=i);return o}var Li={create:Ti,update:Ti,destroy:function(t){Ti(t,ki)}};function Ti(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,i,a,o=t===ki,r=e===ki,s=Ai(t.data.directives,t.context),l=Ai(e.data.directives,e.context),c=[],h=[];for(n in l)i=s[n],a=l[n],i?(a.oldValue=i.value,a.oldArg=i.arg,Ci(a,"update",e,t),a.def&&a.def.componentUpdated&&h.push(a)):(Ci(a,"bind",e,t),a.def&&a.def.inserted&&c.push(a));if(c.length){var d=function(){for(var n=0;n<c.length;n++)Ci(c[n],"inserted",e,t)};o?qt(e,"insert",d):d()}h.length&&qt(e,"postpatch",(function(){for(var n=0;n<h.length;n++)Ci(h[n],"componentUpdated",e,t)}));if(!o)for(n in s)l[n]||Ci(s[n],"unbind",t,t,r)}(t,e)}var Oi=Object.create(null);function Ai(t,e){var n,i,a=Object.create(null);if(!t)return a;for(n=0;n<t.length;n++)(i=t[n]).modifiers||(i.modifiers=Oi),a[Ei(i)]=i,e._setupState&&e._setupState.__sfc&&(i.def=i.def||An(e,"_setupState","v-"+i.name)),i.def=i.def||An(e.$options,"directives",i.name);return a}function Ei(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function Ci(t,e,n,i,a){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,i,a)}catch(i){Me(i,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var Ni=[xi,Li];function Bi(t,e){var n=e.componentOptions;if(!(s(n)&&!1===n.Ctor.options.inheritAttrs||r(t.data.attrs)&&r(e.data.attrs))){var i,a,o=e.elm,c=t.data.attrs||{},h=e.data.attrs||{};for(i in(s(h.__ob__)||l(h._v_attr_proxy))&&(h=e.data.attrs=C({},h)),h)a=h[i],c[i]!==a&&ji(o,i,a,e.data.pre);for(i in($||Q)&&h.value!==c.value&&ji(o,"value",h.value),c)r(h[i])&&(ri(i)?o.removeAttributeNS(oi,si(i)):ni(i)||o.removeAttribute(i))}}function ji(t,e,n,i){i||t.tagName.indexOf("-")>-1?Di(t,e,n):ai(e)?li(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):ni(e)?t.setAttribute(e,function(t,e){return li(e)||"false"===e?"false":"contenteditable"===t&&ii(e)?e:"true"}(e,n)):ri(e)?li(n)?t.removeAttributeNS(oi,si(e)):t.setAttributeNS(oi,e,n):Di(t,e,n)}function Di(t,e,n){if(li(n))t.removeAttribute(e);else{if($&&!J&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var Fi={create:Bi,update:Bi};function Ri(t,e){var n=e.elm,i=e.data,a=t.data;if(!(r(i.staticClass)&&r(i.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var o=ci(e),l=n._transitionClasses;s(l)&&(o=di(o,ui(l))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var Ii,zi={create:Ri,update:Ri};function Hi(t,e,n){var i=Ii;return function a(){var o=e.apply(null,arguments);null!==o&&Ui(t,a,n,i)}}var Vi=Ae&&!(nt&&Number(nt[1])<=53);function Gi(t,e,n,i){if(Vi){var a=sn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=a||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Ii.addEventListener(t,e,at?{capture:n,passive:i}:n)}function Ui(t,e,n,i){(i||Ii).removeEventListener(t,e._wrapper||e,n)}function Wi(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};Ii=e.elm||t.elm,function(t){if(s(t.__r)){var e=$?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}s(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),Wt(n,i,Gi,Ui,Hi,e.context),Ii=void 0}}var qi,Yi={create:Wi,update:Wi,destroy:function(t){return Wi(t,ki)}};function Xi(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,i,a=e.elm,o=t.data.domProps||{},c=e.data.domProps||{};for(n in(s(c.__ob__)||l(c._v_attr_proxy))&&(c=e.data.domProps=C({},c)),o)n in c||(a[n]="");for(n in c){if(i=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===o[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=i;var h=r(i)?"":String(i);Ki(a,h)&&(a.value=h)}else if("innerHTML"===n&&gi(a.tagName)&&r(a.innerHTML)){(qi=qi||document.createElement("div")).innerHTML="<svg>".concat(i,"</svg>");for(var d=qi.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;d.firstChild;)a.appendChild(d.firstChild)}else if(i!==o[n])try{a[n]=i}catch(t){}}}}function Ki(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,i=t._vModifiers;if(s(i)){if(i.number)return v(n)!==v(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var Zi={create:Xi,update:Xi},$i=P((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}));function Ji(t){var e=Qi(t.style);return t.staticStyle?C(t.staticStyle,e):e}function Qi(t){return Array.isArray(t)?N(t):"string"==typeof t?$i(t):t}var ta,ea=/^--/,na=/\s*!important$/,ia=function(t,e,n){if(ea.test(e))t.style.setProperty(e,n);else if(na.test(n))t.style.setProperty(O(e),n.replace(na,""),"important");else{var i=oa(e);if(Array.isArray(n))for(var a=0,o=n.length;a<o;a++)t.style[i]=n[a];else t.style[i]=n}},aa=["Webkit","Moz","ms"],oa=P((function(t){if(ta=ta||document.createElement("div").style,"filter"!==(t=_(t))&&t in ta)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<aa.length;n++){var i=aa[n]+e;if(i in ta)return i}}));function ra(t,e){var n=e.data,i=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var a,o,l=e.elm,c=i.staticStyle,h=i.normalizedStyle||i.style||{},d=c||h,u=Qi(e.data.style)||{};e.data.normalizedStyle=s(u.__ob__)?C({},u):u;var f=function(t,e){var n,i={};if(e)for(var a=t;a.componentInstance;)(a=a.componentInstance._vnode)&&a.data&&(n=Ji(a.data))&&C(i,n);(n=Ji(t.data))&&C(i,n);for(var o=t;o=o.parent;)o.data&&(n=Ji(o.data))&&C(i,n);return i}(e,!0);for(o in d)r(f[o])&&ia(l,o,"");for(o in f)(a=f[o])!==d[o]&&ia(l,o,null==a?"":a)}}var sa={create:ra,update:ra},la=/\s+/;function ca(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(la).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function ha(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(la).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" ".concat(t.getAttribute("class")||""," "),i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function da(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&C(e,ua(t.name||"v")),C(e,t),e}return"string"==typeof t?ua(t):void 0}}var ua=P((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),fa=K&&!J,pa="transition",ga="transitionend",ma="animation",ya="animationend";fa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(pa="WebkitTransition",ga="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ma="WebkitAnimation",ya="webkitAnimationEnd"));var va=K?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function wa(t){va((function(){va(t)}))}function xa(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),ca(t,e))}function ba(t,e){t._transitionClasses&&b(t._transitionClasses,e),ha(t,e)}function Sa(t,e,n){var i=Pa(t,e),a=i.type,o=i.timeout,r=i.propCount;if(!a)return n();var s="transition"===a?ga:ya,l=0,c=function(){t.removeEventListener(s,h),n()},h=function(e){e.target===t&&++l>=r&&c()};setTimeout((function(){l<r&&c()}),o+1),t.addEventListener(s,h)}var ka=/\b(transform|all)(,|$)/;function Pa(t,e){var n,i=window.getComputedStyle(t),a=(i[pa+"Delay"]||"").split(", "),o=(i[pa+"Duration"]||"").split(", "),r=Ma(a,o),s=(i[ma+"Delay"]||"").split(", "),l=(i[ma+"Duration"]||"").split(", "),c=Ma(s,l),h=0,d=0;return"transition"===e?r>0&&(n="transition",h=r,d=o.length):"animation"===e?c>0&&(n="animation",h=c,d=l.length):d=(n=(h=Math.max(r,c))>0?r>c?"transition":"animation":null)?"transition"===n?o.length:l.length:0,{type:n,timeout:h,propCount:d,hasTransform:"transition"===n&&ka.test(i[pa+"Property"])}}function Ma(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return _a(e)+_a(t[n])})))}function _a(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function La(t,e){var n=t.elm;s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=da(t.data.transition);if(!r(i)&&!s(n._enterCb)&&1===n.nodeType){for(var a=i.css,o=i.type,l=i.enterClass,c=i.enterToClass,u=i.enterActiveClass,f=i.appearClass,p=i.appearToClass,g=i.appearActiveClass,m=i.beforeEnter,y=i.enter,w=i.afterEnter,x=i.enterCancelled,b=i.beforeAppear,S=i.appear,k=i.afterAppear,P=i.appearCancelled,M=i.duration,_=Ke,L=Ke.$vnode;L&&L.parent;)_=L.context,L=L.parent;var T=!_._isMounted||!t.isRootInsert;if(!T||S||""===S){var O=T&&f?f:l,A=T&&g?g:u,E=T&&p?p:c,C=T&&b||m,N=T&&h(S)?S:y,B=T&&k||w,j=T&&P||x,D=v(d(M)?M.enter:M);0;var F=!1!==a&&!J,R=Aa(N),z=n._enterCb=I((function(){F&&(ba(n,E),ba(n,A)),z.cancelled?(F&&ba(n,O),j&&j(n)):B&&B(n),n._enterCb=null}));t.data.show||qt(t,"insert",(function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),N&&N(n,z)})),C&&C(n),F&&(xa(n,O),xa(n,A),wa((function(){ba(n,O),z.cancelled||(xa(n,E),R||(Oa(D)?setTimeout(z,D):Sa(n,o,z)))}))),t.data.show&&(e&&e(),N&&N(n,z)),F||R||z()}}}function Ta(t,e){var n=t.elm;s(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=da(t.data.transition);if(r(i)||1!==n.nodeType)return e();if(!s(n._leaveCb)){var a=i.css,o=i.type,l=i.leaveClass,c=i.leaveToClass,h=i.leaveActiveClass,u=i.beforeLeave,f=i.leave,p=i.afterLeave,g=i.leaveCancelled,m=i.delayLeave,y=i.duration,w=!1!==a&&!J,x=Aa(f),b=v(d(y)?y.leave:y);0;var S=n._leaveCb=I((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),w&&(ba(n,c),ba(n,h)),S.cancelled?(w&&ba(n,l),g&&g(n)):(e(),p&&p(n)),n._leaveCb=null}));m?m(k):k()}function k(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),u&&u(n),w&&(xa(n,l),xa(n,h),wa((function(){ba(n,l),S.cancelled||(xa(n,c),x||(Oa(b)?setTimeout(S,b):Sa(n,o,S)))}))),f&&f(n,S),w||x||S())}}function Oa(t){return"number"==typeof t&&!isNaN(t)}function Aa(t){if(r(t))return!1;var e=t.fns;return s(e)?Aa(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Ea(t,e){!0!==e.data.show&&La(e)}var Ca=function(t){var e,n,i={},a=t.modules,h=t.nodeOps;for(e=0;e<Pi.length;++e)for(i[Pi[e]]=[],n=0;n<a.length;++n)s(a[n][Pi[e]])&&i[Pi[e]].push(a[n][Pi[e]]);function d(t){var e=h.parentNode(t);s(e)&&h.removeChild(e,t)}function u(t,e,n,a,o,r,c){if(s(t.elm)&&s(r)&&(t=r[c]=mt(t)),t.isRootInsert=!o,!function(t,e,n,a){var o=t.data;if(s(o)){var r=s(t.componentInstance)&&o.keepAlive;if(s(o=o.hook)&&s(o=o.init)&&o(t,!1),s(t.componentInstance))return f(t,e),p(n,t.elm,a),l(r)&&function(t,e,n,a){var o,r=t;for(;r.componentInstance;)if(r=r.componentInstance._vnode,s(o=r.data)&&s(o=o.transition)){for(o=0;o<i.activate.length;++o)i.activate[o](ki,r);e.push(r);break}p(n,t.elm,a)}(t,e,n,a),!0}}(t,e,n,a)){var d=t.data,u=t.children,m=t.tag;s(m)?(t.elm=t.ns?h.createElementNS(t.ns,m):h.createElement(m,t),v(t),g(t,u,e),s(d)&&y(t,e),p(n,t.elm,a)):l(t.isComment)?(t.elm=h.createComment(t.text),p(n,t.elm,a)):(t.elm=h.createTextNode(t.text),p(n,t.elm,a))}}function f(t,e){s(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,m(t)?(y(t,e),v(t)):(bi(t),e.push(t))}function p(t,e,n){s(t)&&(s(n)?h.parentNode(n)===t&&h.insertBefore(t,e,n):h.appendChild(t,e))}function g(t,e,n){if(o(e)){0;for(var i=0;i<e.length;++i)u(e[i],n,t.elm,null,!0,e,i)}else c(t.text)&&h.appendChild(t.elm,h.createTextNode(String(t.text)))}function m(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return s(t.tag)}function y(t,n){for(var a=0;a<i.create.length;++a)i.create[a](ki,t);s(e=t.data.hook)&&(s(e.create)&&e.create(ki,t),s(e.insert)&&n.push(t))}function v(t){var e;if(s(e=t.fnScopeId))h.setStyleScope(t.elm,e);else for(var n=t;n;)s(e=n.context)&&s(e=e.$options._scopeId)&&h.setStyleScope(t.elm,e),n=n.parent;s(e=Ke)&&e!==t.context&&e!==t.fnContext&&s(e=e.$options._scopeId)&&h.setStyleScope(t.elm,e)}function x(t,e,n,i,a,o){for(;i<=a;++i)u(n[i],o,t,e,!1,n,i)}function b(t){var e,n,a=t.data;if(s(a))for(s(e=a.hook)&&s(e=e.destroy)&&e(t),e=0;e<i.destroy.length;++e)i.destroy[e](t);if(s(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function S(t,e,n){for(;e<=n;++e){var i=t[e];s(i)&&(s(i.tag)?(k(i),b(i)):d(i.elm))}}function k(t,e){if(s(e)||s(t.data)){var n,a=i.remove.length+1;for(s(e)?e.listeners+=a:e=function(t,e){function n(){0==--n.listeners&&d(t)}return n.listeners=e,n}(t.elm,a),s(n=t.componentInstance)&&s(n=n._vnode)&&s(n.data)&&k(n,e),n=0;n<i.remove.length;++n)i.remove[n](t,e);s(n=t.data.hook)&&s(n=n.remove)?n(t,e):e()}else d(t.elm)}function P(t,e,n,i){for(var a=n;a<i;a++){var o=e[a];if(s(o)&&Mi(t,o))return a}}function M(t,e,n,a,o,c){if(t!==e){s(e.elm)&&s(a)&&(e=a[o]=mt(e));var d=e.elm=t.elm;if(l(t.isAsyncPlaceholder))s(e.asyncFactory.resolved)?T(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(l(e.isStatic)&&l(t.isStatic)&&e.key===t.key&&(l(e.isCloned)||l(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,p=e.data;s(p)&&s(f=p.hook)&&s(f=f.prepatch)&&f(t,e);var g=t.children,y=e.children;if(s(p)&&m(e)){for(f=0;f<i.update.length;++f)i.update[f](t,e);s(f=p.hook)&&s(f=f.update)&&f(t,e)}r(e.text)?s(g)&&s(y)?g!==y&&function(t,e,n,i,a){var o,l,c,d=0,f=0,p=e.length-1,g=e[0],m=e[p],y=n.length-1,v=n[0],w=n[y],b=!a;for(0;d<=p&&f<=y;)r(g)?g=e[++d]:r(m)?m=e[--p]:Mi(g,v)?(M(g,v,i,n,f),g=e[++d],v=n[++f]):Mi(m,w)?(M(m,w,i,n,y),m=e[--p],w=n[--y]):Mi(g,w)?(M(g,w,i,n,y),b&&h.insertBefore(t,g.elm,h.nextSibling(m.elm)),g=e[++d],w=n[--y]):Mi(m,v)?(M(m,v,i,n,f),b&&h.insertBefore(t,m.elm,g.elm),m=e[--p],v=n[++f]):(r(o)&&(o=_i(e,d,p)),r(l=s(v.key)?o[v.key]:P(v,e,d,p))?u(v,i,t,g.elm,!1,n,f):Mi(c=e[l],v)?(M(c,v,i,n,f),e[l]=void 0,b&&h.insertBefore(t,c.elm,g.elm)):u(v,i,t,g.elm,!1,n,f),v=n[++f]);d>p?x(t,r(n[y+1])?null:n[y+1].elm,n,f,y,i):f>y&&S(e,d,p)}(d,g,y,n,c):s(y)?(s(t.text)&&h.setTextContent(d,""),x(d,null,y,0,y.length-1,n)):s(g)?S(g,0,g.length-1):s(t.text)&&h.setTextContent(d,""):t.text!==e.text&&h.setTextContent(d,e.text),s(p)&&s(f=p.hook)&&s(f=f.postpatch)&&f(t,e)}}}function _(t,e,n){if(l(n)&&s(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var L=w("attrs,class,staticClass,staticStyle,key");function T(t,e,n,i){var a,o=e.tag,r=e.data,c=e.children;if(i=i||r&&r.pre,e.elm=t,l(e.isComment)&&s(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(s(r)&&(s(a=r.hook)&&s(a=a.init)&&a(e,!0),s(a=e.componentInstance)))return f(e,n),!0;if(s(o)){if(s(c))if(t.hasChildNodes())if(s(a=r)&&s(a=a.domProps)&&s(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var h=!0,d=t.firstChild,u=0;u<c.length;u++){if(!d||!T(d,c[u],n,i)){h=!1;break}d=d.nextSibling}if(!h||d)return!1}else g(e,c,n);if(s(r)){var p=!1;for(var m in r)if(!L(m)){p=!0,y(e,n);break}!p&&r.class&&He(r.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!r(e)){var o,c=!1,d=[];if(r(t))c=!0,u(e,d);else{var f=s(t.nodeType);if(!f&&Mi(t,e))M(t,e,d,null,null,a);else{if(f){if(1===t.nodeType&&t.hasAttribute("data-server-rendered")&&(t.removeAttribute("data-server-rendered"),n=!0),l(n)&&T(t,e,d))return _(e,d,!0),t;o=t,t=new ft(h.tagName(o).toLowerCase(),{},[],void 0,o)}var p=t.elm,g=h.parentNode(p);if(u(e,d,p._leaveCb?null:g,h.nextSibling(p)),s(e.parent))for(var y=e.parent,v=m(e);y;){for(var w=0;w<i.destroy.length;++w)i.destroy[w](y);if(y.elm=e.elm,v){for(var x=0;x<i.create.length;++x)i.create[x](ki,y);var k=y.data.hook.insert;if(k.merged)for(var P=1;P<k.fns.length;P++)k.fns[P]()}else bi(y);y=y.parent}s(g)?S([t],0,0):s(t.tag)&&b(t)}}return _(e,d,c),e.elm}s(t)&&b(t)}}({nodeOps:wi,modules:[Fi,zi,Yi,Zi,sa,K?{create:Ea,activate:Ea,remove:function(t,e){!0!==t.data.show?Ta(t,e):e()}}:{}].concat(Ni)});J&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&za(t,"input")}));var Na={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?qt(n,"postpatch",(function(){Na.componentUpdated(t,e,n)})):Ba(t,e,n.context),t._vOptions=[].map.call(t.options,Fa)):("textarea"===n.tag||vi(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Ra),t.addEventListener("compositionend",Ia),t.addEventListener("change",Ia),J&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ba(t,e,n.context);var i=t._vOptions,a=t._vOptions=[].map.call(t.options,Fa);if(a.some((function(t,e){return!F(t,i[e])})))(t.multiple?e.value.some((function(t){return Da(t,a)})):e.value!==e.oldValue&&Da(e.value,a))&&za(t,"change")}}};function Ba(t,e,n){ja(t,e,n),($||Q)&&setTimeout((function(){ja(t,e,n)}),0)}function ja(t,e,n){var i=e.value,a=t.multiple;if(!a||Array.isArray(i)){for(var o,r,s=0,l=t.options.length;s<l;s++)if(r=t.options[s],a)o=R(i,Fa(r))>-1,r.selected!==o&&(r.selected=o);else if(F(Fa(r),i))return void(t.selectedIndex!==s&&(t.selectedIndex=s));a||(t.selectedIndex=-1)}}function Da(t,e){return e.every((function(e){return!F(e,t)}))}function Fa(t){return"_value"in t?t._value:t.value}function Ra(t){t.target.composing=!0}function Ia(t){t.target.composing&&(t.target.composing=!1,za(t.target,"input"))}function za(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Ha(t){return!t.componentInstance||t.data&&t.data.transition?t:Ha(t.componentInstance._vnode)}var Va={model:Na,show:{bind:function(t,e,n){var i=e.value,a=(n=Ha(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&a?(n.data.show=!0,La(n,(function(){t.style.display=o}))):t.style.display=i?o:"none"},update:function(t,e,n){var i=e.value;!i!=!e.oldValue&&((n=Ha(n)).data&&n.data.transition?(n.data.show=!0,i?La(n,(function(){t.style.display=t.__vOriginalDisplay})):Ta(n,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,i,a){a||(t.style.display=t.__vOriginalDisplay)}}},Ga={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ua(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Ua(ke(e.children)):t}function Wa(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var a=n._parentListeners;for(var i in a)e[_(i)]=a[i];return e}function qa(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Ya=function(t){return t.tag||fe(t)},Xa=function(t){return"show"===t.name},Ka={name:"transition",props:Ga,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Ya)).length){0;var i=this.mode;0;var a=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return a;var o=Ua(a);if(!o)return a;if(this._leaving)return qa(t,a);var r="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?r+"comment":r+o.tag:c(o.key)?0===String(o.key).indexOf(r)?o.key:r+o.key:o.key;var s=(o.data||(o.data={})).transition=Wa(this),l=this._vnode,h=Ua(l);if(o.data.directives&&o.data.directives.some(Xa)&&(o.data.show=!0),h&&h.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,h)&&!fe(h)&&(!h.componentInstance||!h.componentInstance._vnode.isComment)){var d=h.data.transition=C({},s);if("out-in"===i)return this._leaving=!0,qt(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),qa(t,a);if("in-out"===i){if(fe(o))return l;var u,f=function(){u()};qt(s,"afterEnter",f),qt(s,"enterCancelled",f),qt(d,"delayLeave",(function(t){u=t}))}}return a}}},Za=C({tag:String,moveClass:String},Ga);function $a(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ja(t){t.data.newPos=t.elm.getBoundingClientRect()}function Qa(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,a=e.top-n.top;if(i||a){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate(".concat(i,"px,").concat(a,"px)"),o.transitionDuration="0s"}}delete Za.mode;var to={Transition:Ka,TransitionGroup:{props:Za,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var a=Ze(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,a(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,a=this.$slots.default||[],o=this.children=[],r=Wa(this),s=0;s<a.length;s++){if((h=a[s]).tag)if(null!=h.key&&0!==String(h.key).indexOf("__vlist"))o.push(h),n[h.key]=h,(h.data||(h.data={})).transition=r;else;}if(i){var l=[],c=[];for(s=0;s<i.length;s++){var h;(h=i[s]).data.transition=r,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?l.push(h):c.push(h)}this.kept=t(e,null,l),this.removed=c}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach($a),t.forEach(Ja),t.forEach(Qa),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,i=n.style;xa(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(ga,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(ga,t),n._moveCb=null,ba(n,e))})}})))},methods:{hasMove:function(t,e){if(!fa)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){ha(n,t)})),ca(n,e),n.style.display="none",this.$el.appendChild(n);var i=Pa(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};qn.config.mustUseProp=function(t,e,n){return"value"===n&&ei(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},qn.config.isReservedTag=mi,qn.config.isReservedAttr=ti,qn.config.getTagNamespace=function(t){return gi(t)?"svg":"math"===t?"math":void 0},qn.config.isUnknownElement=function(t){if(!K)return!0;if(mi(t))return!1;if(t=t.toLowerCase(),null!=yi[t])return yi[t];var e=document.createElement(t);return t.indexOf("-")>-1?yi[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:yi[t]=/HTMLUnknownElement/.test(e.toString())},C(qn.options.directives,Va),C(qn.options.components,to),qn.prototype.__patch__=K?Ca:B,qn.prototype.$mount=function(t,e){return function(t,e,n){var i;t.$el=e,t.$options.render||(t.$options.render=pt),Qe(t,"beforeMount"),i=function(){t._update(t._render(),n)},new Ue(t,i,B,{before:function(){t._isMounted&&!t._isDestroyed&&Qe(t,"beforeUpdate")}},!0),n=!1;var a=t._preWatchers;if(a)for(var o=0;o<a.length;o++)a[o].run();return null==t.$vnode&&(t._isMounted=!0,Qe(t,"mounted")),t}(this,t=t&&K?function(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}(t):void 0,e)},K&&setTimeout((function(){G.devtools&&st&&st.emit("init",qn)}),0)}).call(this,n(47),n(140).setImmediate)},function(t,e,n){var i=n(144),a=n(147);t.exports=function(t,e){var n=a(t,e);return i(n)?n:void 0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));class i{constructor(t,e,n){this._timer=null,this.request=t,this.intervalTime=e,this.callback=n,this.polling()}get timer(){return this._timer}set timer(t){this._timer=t}polling(){"function"==typeof this.request&&this.request().then(t=>{"function"==typeof this.callback&&this.callback(t),this.intervalTime&&(this.timer=setTimeout(()=>{this.polling()},1e3*this.intervalTime))})}stop(){this.timer&&clearTimeout(this.timer)}}},function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));const i=window.location.protocol,a=t.env.VITE_APP_VISIO_URL?t.env.VITE_APP_VISIO_URL:window.location.hostname,o="".concat(i,"//").concat(a).concat("/restvisio/visio/visioToGojsJson"),r={SimSun:"SimSun,STSong,宋体",STKaiti:"KaiTi,STKaiti,楷体",SimHei:"SimHei,STHeiti,黑体","Microsoft YaHei":'"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei"'},s=["figure","group","isGroup","tempAroundPart","aroundPart","deleteStroke","fontStyle","fontWeight","image","orientation","isUnderline","flipx","flipy"],l=["width","height","stroke","strokeDashArray","strokeWidth","fill"]}).call(this,n(48))},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var i;!function(a){var o=/^\s+/,r=/\s+$/,s=0,l=a.round,c=a.min,h=a.max,d=a.random;function u(t,e){if(e=e||{},(t=t||"")instanceof u)return t;if(!(this instanceof u))return new u(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,i=null,s=null,l=null,d=!1,u=!1;"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(r,"").toLowerCase();var e,n=!1;if(A[t])t=A[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=G.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=G.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=G.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=G.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=G.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=G.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=G.hex8.exec(t))return{r:j(e[1]),g:j(e[2]),b:j(e[3]),a:I(e[4]),format:n?"name":"hex8"};if(e=G.hex6.exec(t))return{r:j(e[1]),g:j(e[2]),b:j(e[3]),format:n?"name":"hex"};if(e=G.hex4.exec(t))return{r:j(e[1]+""+e[1]),g:j(e[2]+""+e[2]),b:j(e[3]+""+e[3]),a:I(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=G.hex3.exec(t))return{r:j(e[1]+""+e[1]),g:j(e[2]+""+e[2]),b:j(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==typeof t&&(U(t.r)&&U(t.g)&&U(t.b)?(f=t.r,p=t.g,g=t.b,e={r:255*N(f,255),g:255*N(p,255),b:255*N(g,255)},d=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):U(t.h)&&U(t.s)&&U(t.v)?(i=F(t.s),s=F(t.v),e=function(t,e,n){t=6*N(t,360),e=N(e,100),n=N(n,100);var i=a.floor(t),o=t-i,r=n*(1-e),s=n*(1-o*e),l=n*(1-(1-o)*e),c=i%6;return{r:255*[n,s,r,r,l,n][c],g:255*[l,n,n,s,r,r][c],b:255*[r,r,l,n,n,s][c]}}(t.h,i,s),d=!0,u="hsv"):U(t.h)&&U(t.s)&&U(t.l)&&(i=F(t.s),l=F(t.l),e=function(t,e,n){var i,a,o;function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=N(t,360),e=N(e,100),n=N(n,100),0===e)i=a=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=r(l,s,t+1/3),a=r(l,s,t),o=r(l,s,t-1/3)}return{r:255*i,g:255*a,b:255*o}}(t.h,i,l),d=!0,u="hsl"),t.hasOwnProperty("a")&&(n=t.a));var f,p,g;return n=C(n),{ok:d,format:t.format||u,r:c(255,h(e.r,0)),g:c(255,h(e.g,0)),b:c(255,h(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function f(t,e,n){t=N(t,255),e=N(e,255),n=N(n,255);var i,a,o=h(t,e,n),r=c(t,e,n),s=(o+r)/2;if(o==r)i=a=0;else{var l=o-r;switch(a=s>.5?l/(2-o-r):l/(o+r),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:a,l:s}}function p(t,e,n){t=N(t,255),e=N(e,255),n=N(n,255);var i,a,o=h(t,e,n),r=c(t,e,n),s=o,l=o-r;if(a=0===o?0:l/o,o==r)i=0;else{switch(o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:a,v:s}}function g(t,e,n,i){var a=[D(l(t).toString(16)),D(l(e).toString(16)),D(l(n).toString(16))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function m(t,e,n,i){return[D(R(i)),D(l(t).toString(16)),D(l(e).toString(16)),D(l(n).toString(16))].join("")}function y(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s-=e/100,n.s=B(n.s),u(n)}function v(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s+=e/100,n.s=B(n.s),u(n)}function w(t){return u(t).desaturate(100)}function x(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l+=e/100,n.l=B(n.l),u(n)}function b(t,e){e=0===e?0:e||10;var n=u(t).toRgb();return n.r=h(0,c(255,n.r-l(-e/100*255))),n.g=h(0,c(255,n.g-l(-e/100*255))),n.b=h(0,c(255,n.b-l(-e/100*255))),u(n)}function S(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l-=e/100,n.l=B(n.l),u(n)}function k(t,e){var n=u(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,u(n)}function P(t){var e=u(t).toHsl();return e.h=(e.h+180)%360,u(e)}function M(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+120)%360,s:e.s,l:e.l}),u({h:(n+240)%360,s:e.s,l:e.l})]}function _(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+90)%360,s:e.s,l:e.l}),u({h:(n+180)%360,s:e.s,l:e.l}),u({h:(n+270)%360,s:e.s,l:e.l})]}function L(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+72)%360,s:e.s,l:e.l}),u({h:(n+216)%360,s:e.s,l:e.l})]}function T(t,e,n){e=e||6,n=n||30;var i=u(t).toHsl(),a=360/n,o=[u(t)];for(i.h=(i.h-(a*e>>1)+720)%360;--e;)i.h=(i.h+a)%360,o.push(u(i));return o}function O(t,e){e=e||6;for(var n=u(t).toHsv(),i=n.h,a=n.s,o=n.v,r=[],s=1/e;e--;)r.push(u({h:i,s:a,v:o})),o=(o+s)%1;return r}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,i=this.toRgb();return t=i.r/255,e=i.g/255,n=i.b/255,.2126*(t<=.03928?t/12.92:a.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:a.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:a.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=C(t),this._roundA=l(100*this._a)/100,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),i=l(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=f(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),i=l(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,i,a){var o=[D(l(t).toString(16)),D(l(e).toString(16)),D(l(n).toString(16)),D(R(i))];if(a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*N(this._r,255))+"%",g:l(100*N(this._g,255))+"%",b:l(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*N(this._r,255))+"%, "+l(100*N(this._g,255))+"%, "+l(100*N(this._b,255))+"%)":"rgba("+l(100*N(this._r,255))+"%, "+l(100*N(this._g,255))+"%, "+l(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(E[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+m(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var a=u(t);n="#"+m(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(P,arguments)},monochromatic:function(){return this._applyCombination(O,arguments)},splitcomplement:function(){return this._applyCombination(L,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(_,arguments)}},u.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:F(t[i]));t=n}return u(t,e)},u.equals=function(t,e){return!(!t||!e)&&u(t).toRgbString()==u(e).toRgbString()},u.random=function(){return u.fromRatio({r:d(),g:d(),b:d()})},u.mix=function(t,e,n){n=0===n?0:n||50;var i=u(t).toRgb(),a=u(e).toRgb(),o=n/100;return u({r:(a.r-i.r)*o+i.r,g:(a.g-i.g)*o+i.g,b:(a.b-i.b)*o+i.b,a:(a.a-i.a)*o+i.a})},u.readability=function(t,e){var n=u(t),i=u(e);return(a.max(n.getLuminance(),i.getLuminance())+.05)/(a.min(n.getLuminance(),i.getLuminance())+.05)},u.isReadable=function(t,e,n){var i,a,o=u.readability(t,e);switch(a=!1,(i=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n)).level+i.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7}return a},u.mostReadable=function(t,e,n){var i,a,o,r,s=null,l=0;a=(n=n||{}).includeFallbackColors,o=n.level,r=n.size;for(var c=0;c<e.length;c++)(i=u.readability(t,e[c]))>l&&(l=i,s=u(e[c]));return u.isReadable(t,s,{level:o,size:r})||!a?s:(n.includeFallbackColors=!1,u.mostReadable(t,["#fff","#000"],n))};var A=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},E=u.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(A);function C(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function N(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=c(e,h(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),a.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function B(t){return c(1,h(0,t))}function j(t){return parseInt(t,16)}function D(t){return 1==t.length?"0"+t:""+t}function F(t){return t<=1&&(t=100*t+"%"),t}function R(t){return a.round(255*parseFloat(t)).toString(16)}function I(t){return j(t)/255}var z,H,V,G=(H="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",V="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{CSS_UNIT:new RegExp(z),rgb:new RegExp("rgb"+H),rgba:new RegExp("rgba"+V),hsl:new RegExp("hsl"+H),hsla:new RegExp("hsla"+V),hsv:new RegExp("hsv"+H),hsva:new RegExp("hsva"+V),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function U(t){return!!G.CSS_UNIT.exec(t)}t.exports?t.exports=u:void 0===(i=function(){return u}.call(e,n,e,t))||(t.exports=i)}(Math)},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return p}));var i=n(0),a=n(27),o=n(2),r=n(8),s=n(9),l=n(4),c=n(46),h=n(16);const d=i.e.GraphObject.make,u="/topo-static/images/templates/default-node.svg",f="/topo-static/images/templates/datasource-default.png";function p(){return d(i.e.Node,"Spot",Object(l.d)({rotationSpot:i.e.Spot.Default,locationObjectName:"IMAGE",selectionObjectName:"IMAGE",rotateObjectName:"IMAGE",resizeObjectName:"IMAGE"}),new i.e.Binding("locationSpot","",t=>t.locationSpot||i.e.Spot.Center),d(i.e.Panel,"Spot",{name:"WRAP_PANEL",fromLinkable:!0,toLinkable:!0,fromLinkableDuplicates:!0,toLinkableDuplicates:!0},d(i.e.Shape,"Rectangle",{name:"SHAPE",alignment:i.e.Spot.Center,alignmentFocus:i.e.Spot.Center},Object(l.e)(),new i.e.Binding("geometry","",(t,e)=>{if("loadErrorImage"===t.category)return null;if(e.part.sizeCache===t.size)return i.e.Geometry.parse(e.part.geometryCatch);if(t.anchorData&&t.anchorData.length>0){const n=i.e.Size.parse(t.size),a=e.part,r=Object(o.s)(t.anchorData,n.width,n.height,a);return"horizontal"!==t.flip&&"both"!==t.flip||r.scale(-1,1).normalize(),"vertical"!==t.flip&&"both"!==t.flip||r.scale(1,-1).normalize(),e.part.geometryCatch=r.toString(),e.part.sizeCache=t.size,r}return null}),new i.e.Binding("fill","",t=>!0===t.moveInOuterShape?null:"transparent"),new i.e.Binding("background","category",t=>"loadErrorImage"===t?"rgb(208,208,211)":"transparent"),new i.e.Binding("desiredSize","size",i.e.Size.parse)),d(i.e.Picture,{name:"IMAGE",imageStretch:i.e.GraphObject.Uniform,isPanelMain:!0,fromLinkable:!0,toLinkable:!0,fromLinkableDuplicates:!0,toLinkableDuplicates:!0,sourceCrossOrigin:()=>"anonymous",errorFunction:(t,e)=>{const n=t.part;n.data.category="loadErrorImage",n.locationObjectName="SHAPE",n.updateTargetBindings()},successFunction(t,e){const n=t.part;if("loadErrorImage"===t.part.category){if(t.source===u)return;n.data.category="image",n.updateTargetBindings()}t.diagram&&e&&!t.diagram.isReadOnly&&(delete n.data.anchorData,delete n.sizeCache,delete n.borderSvg,Object(h.a)(n.data.image)?(n.data.anchorData=[],n.data.predefinedPortArr=[[.5,0],[1,.5],[.5,1],[0,.5]]):Object(c.b)(t,e))}},new i.e.Binding("visible","category",t=>"image"===t),new i.e.Binding("flip","flip",t=>"horizontal"===t?i.e.GraphObject.FlipHorizontal:"vertical"===t?i.e.GraphObject.FlipVertical:"both"===t?i.e.GraphObject.FlipBoth:i.e.GraphObject.None),new i.e.Binding("imageStretch","",t=>(t.isVisioShape,i.e.GraphObject.Fill)),new i.e.Binding("source","image"),new i.e.Binding("desiredSize","size",i.e.Size.parse).makeTwoWay(i.e.Size.stringify),s.a.toLinkable(),s.a.fromLinkable()),d(i.e.Picture,{name:"ERROR_IMAGE",imageStretch:i.e.GraphObject.Uniform,maxSize:new i.e.Size(100,100),source:u,sourceCrossOrigin:()=>"anonymous"},new i.e.Binding("visible","category",t=>"loadErrorImage"===t),new i.e.Binding("desiredSize","size",i.e.Size.parse)),Object(a.a)()),r.a.makeTextBlockPanel({alignment:i.e.Spot.Bottom,alignmentFocus:i.e.Spot.Top,stroke:"#000"},{},!0))}},function(t,e,n){"use strict";n.r(e),n.d(e,"initTemplate",(function(){return b})),n.d(e,"setLinkTemplate",(function(){return S}));var i=n(0);i.e.Shape.defineArrowheadGeometry("SimpleTriangle","F1 m 0,0 l 10,3 -10,3 z"),i.e.Shape.defineArrowheadGeometry("BackwardSimpleTriangle","F1 m 10,3 l 0,3 -10,-3 10,-3 0,3 z"),i.e.Shape.defineArrowheadGeometry("PlusCircle","F M8 4 B0 360 4 4 4 4 M0 4 L8 4 M4 0 L4 8"),i.e.Shape.defineArrowheadGeometry("OpenTriangleTop","m 0,0 l 8,4 m 0,4 z"),i.e.Shape.defineArrowheadGeometry("BackwardOpenTriangleTop","m 8,0 l -8,4 m 0,4 z"),i.e.Shape.defineArrowheadGeometry("OpenTriangleBottom","m 0,8 l 8,-4 z"),i.e.Shape.defineArrowheadGeometry("BackwardOpenTriangleBottom","m 0,4 l 8,4 z");var a=n(8),o=n(9);function r(){i.e.Link.call(this)}i.e.Diagram.inherit(r,i.e.Link),r.prototype.insertParalleLinkPoints=function(t,e,n,a){let o=new i.e.List;o.add(new i.e.Point(t,e)),o.add(new i.e.Point(n,a)),this.data.points=o,this.points=o},r.prototype.findCollapseGroupByNode=function(t){var e;t.containingGroup&&t.containingGroup.findContainingGroupChain().each((function(t){t.isSubGraphExpanded||(e=t)}));return e||t},r.prototype.getNodeLocation=function(t,e,n,i,a,o){var r,s,l,c,h=e.locationObject.actualBounds,d=t.actualBounds,u=t.locationObject.actualBounds,f=u.x,p=u.y;if(t.data&&"group-collapse"===t.data.category){f=(d.width-u.width)/2,p=(d.height-u.height)/2-3.5}(f=(d.width-u.width)/2,p=(d.height-u.height)/2,i)?(l=u.height<=h.height?u.height:h.height,n?(r=d.x+f+u.width,s=d.y+p+o/a*l+(u.height-l)/2):(r=d.x+f,s=d.y+p+o/a*l+(u.height-l)/2)):(c=u.width<=h.width?u.width:h.width,n?(r=d.x+f+o/a*c+(u.width-c)/2,s=d.y+p+u.height):(r=d.x+f+o/a*c+(u.width-c)/2,s=d.y+p));return{x:r,y:s}},r.prototype.getFromAndToPoints=function(t,e,n,i){var a,o,r,s,l,c;if(!t||!e)return!1;t=this.findCollapseGroupByNode(t),e=this.findCollapseGroupByNode(e);var h=t.actualBounds,d=e.actualBounds;if(isNaN(h.x)||isNaN(h.y)||isNaN(d.x)||isNaN(d.y))return!1;h.x<=d.x?l=t:l=e,h.y<=d.y?c=t:c=e;var u=n.count;return u+=1,Math.abs(h.x-d.x)>=Math.abs(h.y-d.y)?t===l?(a=this.getNodeLocation(t,e,!0,!0,u,i).x,o=this.getNodeLocation(t,e,!0,!0,u,i).y,r=this.getNodeLocation(e,t,!1,!0,u,i).x,s=this.getNodeLocation(e,t,!1,!0,u,i).y):(a=this.getNodeLocation(t,e,!1,!0,u,i).x,o=this.getNodeLocation(t,e,!1,!0,u,i).y,r=this.getNodeLocation(e,t,!0,!0,u,i).x,s=this.getNodeLocation(e,t,!0,!0,u,i).y):t===c?(a=this.getNodeLocation(t,e,!0,!1,u,i).x,o=this.getNodeLocation(t,e,!0,!1,u,i).y,r=this.getNodeLocation(e,t,!1,!1,u,i).x,s=this.getNodeLocation(e,t,!1,!1,u,i).y):(a=this.getNodeLocation(t,e,!1,!1,u,i).x,o=this.getNodeLocation(t,e,!1,!1,u,i).y,r=this.getNodeLocation(e,t,!0,!1,u,i).x,s=this.getNodeLocation(e,t,!0,!1,u,i).y),{fromX:a,fromY:o,toX:r,toY:s}};const s=r.prototype.computePoints;r.prototype.computePoints=function(){if(this.fromNode===this.toNode&&this.fromNode&&this.fromSpot.isDefault&&this.toSpot.isDefault&&"Dragging"!==this.diagram.currentTool.name){var t=i.e.Link.prototype.computePoints.call(this),e=this;if(!this.isOrthogonal&&this.curve!==i.e.Link.Bezier&&this.hasCurviness()&&(!this.data||!this.data.fromSpot&&!this.data.toSpot)){var n=this.fromNode,a=this.toNode;if(n){var o=n.findLinksBetween(a);o=o.filter(t=>t.visible);var r=[];o.each((function(t){r.push(t)})),r.forEach((function(t,i){if(t.__gohashid===e.__gohashid){var r=i+1,s=e.getFromAndToPoints(n,a,o,r);s&&e.insertParalleLinkPoints(s.fromX,s.fromY,s.toX,s.toY)}}))}}return t}return s.call(this)};var l=r,c=n(3);i.e.Shape.defineArrowheadGeometry("RightTriangle","F1 m 0,0 l 5,5 -5,5 z"),i.e.Shape.defineArrowheadGeometry("BackwardRightTriangle","F1 m 5,0 l -5,5 5,5 z");const h=i.e.GraphObject.make;function d(t){const e=S().copyTemplate();e.bind(new i.e.Binding("corner","strokeWidth").ofObject("LINK_SHAPE")).bind(new i.e.Binding("fromShortLength","",(t,e)=>{let n=0;return f(e,"from")&&(n=.5*t.strokeWidth),n}).makeTwoWay()).bind(new i.e.Binding("toShortLength","",(t,e)=>{let n=0;return f(e,"to")&&(n=.5*t.strokeWidth),n}).makeTwoWay()),e.add(h(i.e.Shape,{name:"CONNECT_FROM",fromArrow:"BackwardRightTriangle",strokeWidth:0},new i.e.Binding("visible","",(t,e)=>f(e.part,"from")),new i.e.Binding("fill","",t=>{const{stroke:e,shade:n=!0}=t;return n?h(i.e.Brush,"Linear",{0:e,.5:i.e.Brush.lightenBy(e,.4,i.e.Brush.HSL),1:e}):e}),new i.e.Binding("scale","strokeWidth",t=>t/10).ofObject("LINK_SHAPE"))),e.add(h(i.e.Shape,{name:"CONNECT_TO",toArrow:"RightTriangle",strokeWidth:0},new i.e.Binding("visible","",(t,e)=>f(e.part,"to")),new i.e.Binding("fill","",t=>{const{stroke:e,shade:n=!0}=t;return n?h(i.e.Brush,"Linear",{0:e,.5:i.e.Brush.lightenBy(e,.4,i.e.Brush.HSL),1:e}):e}),new i.e.Binding("scale","strokeWidth",t=>t/10).ofObject("LINK_SHAPE")));return e.findObject("PIPE").bind(new i.e.Binding("visible","isFlowing")).bind(new i.e.Binding("strokeWidth","flowWidth")).bind(new i.e.Binding("stroke","flowColor")),function(t){for(let e=1;e<20;e++){const n=u(e,20);t.insertAt(2,n)}}(e),e}function u(t,e){const n=parseFloat((t/e).toFixed(2));return h(i.e.Shape,{isPanelMain:!0,shadowVisible:!1},new i.e.Binding("visible","shade"),new i.e.Binding("strokeWidth","strokeWidth",t=>t*n).ofObject("LINK_SHAPE"),new i.e.Binding("strokeDashArray"),new i.e.Binding("stroke","stroke",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.h;const e=i.e.Brush.lightenBy(t,.4,i.e.Brush.HSL);return i.e.Brush.mix(t,e,1-n)})))}function f(t,e){var n,a;if("from"===e&&null!==(n=t.fromNode)&&void 0!==n&&n.isLinkLabel||"to"===e&&null!==(a=t.toNode)&&void 0!==a&&a.isLinkLabel){if("Orthogonal"===t.data.routing){let n=new i.e.Point,a=new i.e.Point;"from"===e?(n=t.fromNode.getDocumentPoint(i.e.Spot.Center),a=t.getPoint(1)):"to"===e&&(n=t.toNode.getDocumentPoint(i.e.Spot.Center),a=t.getPoint(t.pointsCount-2));if(Math.sqrt(n.distanceSquaredPoint(a))>=t.data.strokeWidth)return!0}if("Normal"===t.data.routing&&t.midAngle%90==0)return!0}return!1}const p=i.e.GraphObject.make;function g(t,e){var n,i,a;const o=e.part;if(o.labeledLink&&"route-pipe"===o.labeledLink.category)return!0;return null===(n=null===(i=e.diagram.pageSetting)||void 0===i||null===(a=i.diagramSetting)||void 0===a?void 0:a.linkingAdornmentVisible)||void 0===n||n}var m=n(41),y=n(34),v=n(4);const w=i.e.GraphObject.make,x=i.e.GraphObject.make,b=function(t){!function(t){t.nodeTemplateMap.add("JointLabel",p(i.e.Node,{selectable:!1,avoidable:!1,layerName:"Foreground",locationSpot:i.e.Spot.Center,rotationSpot:i.e.Spot.Center,segmentIndex:NaN},new i.e.Binding("segmentFraction"),new i.e.Binding("segmentOrientation","computeAngle",t=>t?i.e.Link.OrientAlong:i.e.Link.None),p(i.e.Shape,"Rectangle",{name:"PORT_ON_LINK",width:.2,height:.2,strokeWidth:4,stroke:"transparent",fill:"transparent",portId:"",fromLinkable:!0,toLinkable:!0},new i.e.Binding("toLinkable","",g),new i.e.Binding("fromLinkable","",g))))}(t),t.linkTemplateMap.add("",S()),t.linkTemplateMap.add("route-pipe",d()),t.nodeTemplateMap.add("lightDot",w(i.e.Node,{locationSpot:i.e.Spot.Center,layerName:"Foreground"},w(i.e.Shape,"Circle",{width:8,height:8,fill:"#14FFCA",strokeWidth:0},new i.e.Binding("width","size"),new i.e.Binding("height","size"),new i.e.Binding("fill","color"),new i.e.Binding("opacity","opacity",t=>Number(t)),new i.e.Binding("visible").makeTwoWay())))};function S(){return x(l,{name:"ROUTELINK",adjusting:i.e.Link.End,curve:i.e.Link.None,routing:i.e.Link.Normal,curviness:0,relinkableFrom:!0,relinkableTo:!0,reshapable:!0,resizable:!0,resizeObjectName:"LINK_SHAPE",mouseEnter:(t,e,n)=>{e.diagram._uDiagram.trigger("mouseEnter:link",t,e)},mouseLeave:(t,e)=>{if(!e||!e.diagram)return;e.diagram._uDiagram.trigger("mouseLeave:link",t,e)},...Object(m.c)()},o.a.visible(),a.a.makeContextMenu(),o.a.resizable(),o.a.movable(),o.a.opacity(),o.a.deletable(),o.a.layerName(),o.a.reshapable(),o.a.relinkableTo(),o.a.relinkableFrom(),o.a.resegmentable(),Object(v.c)(),new i.e.Binding("cursor","",t=>t.diagram.isReadOnly||t.fromNode||t.toNode?"auto":"move").ofObject(),{selectionAdornmentTemplate:y.c},new i.e.Binding("routing","routing",t=>{if(t instanceof i.e.EnumValue)return t;if(t.name){if("Normal"===t.name)return i.e.Link.Normal;if("Orthogonal"===t.name)return i.e.Link.Orthogonal;if("AvoidsNodes"===t.name)return i.e.Link.AvoidsNodes}else{if("Normal"===t)return i.e.Link.Normal;if("Orthogonal"===t)return i.e.Link.Orthogonal;if("AvoidsNodes"===t)return i.e.Link.AvoidsNodes}return i.e.Link.Normal}).makeTwoWay(k),new i.e.Binding("curve","curve",t=>{if(t instanceof i.e.EnumValue)return t;if(t.name){if("None"===t.name)return i.e.Link.None;if("Bezier"===t.name)return i.e.Link.Bezier;if("JumpGap"===t.name)return i.e.Link.JumpGap;if("JumpOver"===t.name)return i.e.Link.JumpOver}else{if("None"===t)return i.e.Link.None;if("Bezier"===t)return i.e.Link.Bezier;if("JumpGap"===t)return i.e.Link.JumpGap;if("JumpOver"===t)return i.e.Link.JumpOver}return i.e.Link.None}).makeTwoWay(P),new i.e.Binding("corner","corner",t=>Number(t)).makeTwoWay(),new i.e.Binding("curviness","curviness",t=>Number(t)).makeTwoWay(),new i.e.Binding("opacity","opacity",t=>Number(t)),new i.e.Binding("points","points",t=>{if(t instanceof i.e.List)return t;{const e=new i.e.List;return t.forEach(t=>{const n=new i.e.Point(t.x,t.y);e.add(n)}),e}}).makeTwoWay(),new i.e.Binding("fromEndSegmentLength").makeTwoWay(),new i.e.Binding("toEndSegmentLength").makeTwoWay(),new i.e.Binding("fromShortLength","",t=>{const e=t.fromArrow;if(t.curve===i.e.Link.None&&t.routing===i.e.Link.Normal&&t.from&&t.from===t.to)return 0;if(e&&"none"!==e.toLocaleLowerCase()){return t.strokeWidth||2}return 0}).makeTwoWay(),new i.e.Binding("toShortLength","",t=>{const e=t.toArrow;if(t.curve===i.e.Link.None&&t.routing===i.e.Link.Normal&&t.from&&t.from===t.to)return 0;if(e&&"none"===e.toLocaleLowerCase())return 0;return t.strokeWidth||2}).makeTwoWay(),new i.e.Binding("zOrder").makeTwoWay(),new i.e.Binding("fromSpot","fromSpot",t=>t instanceof i.e.Spot?t:i.e.Spot.parse(t)).makeTwoWay(i.e.Spot.stringify),new i.e.Binding("toSpot","toSpot",t=>t instanceof i.e.Spot?t:i.e.Spot.parse(t)).makeTwoWay(i.e.Spot.stringify),new i.e.Binding("visible","visible",t=>!!t),x(i.e.Shape,{name:"OUTER_LINK_SHAPE",isPanelMain:!0,stroke:"transparent",strokeWidth:10,fill:null}),x(i.e.Shape,{isPanelMain:!0,strokeWidth:2,fill:null,name:"LINK_SHAPE"},new i.e.Binding("stroke","",t=>t.stroke||c.s),new i.e.Binding("strokeDashArray"),new i.e.Binding("strokeWidth","strokeWidth",t=>Math.max(t,.5)).makeTwoWay()),x(i.e.Shape,{name:"FROM_ARROW",fromArrow:"SimpleTriangle"},{stroke:"rgb(19, 19, 19)",strokeWidth:2,visible:!1},new i.e.Binding("visible","fromArrow",t=>!!t&&"none"!==t.toLocaleLowerCase()),new i.e.Binding("stroke","",t=>t.stroke||c.s),new i.e.Binding("strokeWidth","",t=>(t.strokeWidth||2)/2),new i.e.Binding("fromArrow","fromArrow",t=>t&&"none"!==t.toLocaleLowerCase()&&"noarrow"!==t.toLocaleLowerCase()?t.split("/")[0]:"SimpleTriangle"),new i.e.Binding("scale","",t=>{const e=(t.fromArrow||"").split("/")[1];return"large"===e?2:"small"===e?1.5:1.75}),new i.e.Binding("fill","",t=>{let e=c.s;return t.data.fromArrowOutline?e="#fff":t.data.stroke&&(e=t.data.stroke),e}).ofObject()),x(i.e.Shape,{name:"TO_ARROW",toArrow:"SimpleTriangle"},{stroke:"rgb(19, 19, 19)",strokeWidth:2,visible:!1},new i.e.Binding("visible","",t=>{const e=t.toArrow;return!e||"none"!==e.toLocaleLowerCase()&&"noarrow"!==e.toLocaleLowerCase()}),new i.e.Binding("stroke","",t=>t.stroke||"#5E5E5E"),new i.e.Binding("strokeWidth","",t=>(t.strokeWidth||2)/2),new i.e.Binding("toArrow","toArrow",t=>t&&"none"!==t.toLocaleLowerCase()&&"noarrow"!==t.toLocaleLowerCase()?t.split("/")[0]:"SimpleTriangle"),new i.e.Binding("scale","",t=>{const e=(t.toArrow||"").split("/")[1];return"large"===e?2:"small"===e?1.5:1.75}),new i.e.Binding("fill","",t=>{let e=c.s;return t.data.toArrowOutline?e="#fff":t.data.stroke&&(e=t.data.stroke),e}).ofObject()),Object(a.b)(0),Object(a.b)(1),Object(a.b)(2),Object(a.b)(3),Object(a.b)(4),Object(a.b)(5),Object(a.b)(6),Object(a.b)(7),Object(a.b)(8),Object(a.b)(9),Object(a.b)(10),x(i.e.Shape,{name:"RLT_MARK",parameter1:9,parameter2:9,width:32,height:18,strokeWidth:0,segmentFraction:.67,segmentIndex:NaN,visible:!1},new i.e.Binding("visible","",t=>!!t.rltCode&&!!t.markVisible),new i.e.Binding("fill","",t=>t.rltCode?"#E13CA0":"")),x(i.e.TextBlock,{font:"12px Microsoft Yahei",stroke:"#fff",segmentFraction:.67,segmentIndex:NaN,visible:!1},new i.e.Binding("visible","",t=>!!t.rltCode&&!!t.markVisible),new i.e.Binding("text","",t=>t.rltCode?"关系":"")),x(i.e.Shape,{isPanelMain:!0,visible:!1,stroke:"#fff",strokeWidth:3,name:"PIPE",strokeDashArray:[20,40]}))}function k(t,e){let n="Normal";return t===i.e.Link.Normal&&(n="Normal"),t===i.e.Link.Orthogonal&&(n="Orthogonal"),t===i.e.Link.AvoidsNodes&&(n="AvoidsNodes"),n}function P(t,e){let n="None";return t===i.e.Link.None&&(n="None"),t===i.e.Link.Bezier&&(n="Bezier"),t===i.e.Link.JumpGap&&(n="JumpGap"),t===i.e.Link.JumpOver&&(n="JumpOver"),n}},function(t,e,n){"use strict";n.d(e,"b",(function(){return w})),n.d(e,"a",(function(){return x}));var i=n(50),a=n(5);const o="".concat("/topo-static/js/chart/","conch.js"),r=new Map;var s=n(15),l=n(94),c=n.n(l),h=n(45),d=n(26),u=n(52);function f(t,e){const n=t.findNodeForKey(e);if(!("chart"===n.data.category&&n.data.configData&&n.data.configData.restData&&"dynamic"===n.data.configData.type))return;const i=n.data.configData;if(null!=t&&t.mode&&["viewMode","inset","share"].includes(t.mode)||!t.mode){const e=i.restData;let o=e.interval;const{method:r,address:s,condition:l,header:c}=e;if(o&&Number(o)&&r&&s){o=Number(o);const e=Object(a.p)(l)?JSON.parse(l):null,i=Object(a.p)(c)?JSON.parse(c):null,h=()=>d.a.raiseRequest(r,s,e,i),f=new u.a(h,o,e=>{const i=e.data;if(Array.isArray(i)?n.data.config=i:n.data.config=[],t.chartManager){const e=t.chartManager.getChart(n.data.key);if(!e)return;e.setData(n.data.config)}});t.chartManager.pollerList.push(f)}}else p(n,t)}const p=(t,e)=>{const n=t.data.configData,{restData:i,type:o}=n,{method:r,address:s,condition:l,header:c}=i;if("dynamic"===o&&r&&s){const n=Object(a.p)(l)?JSON.parse(l):null,i=Object(a.p)(c)?JSON.parse(c):null;d.a.raiseRequest(r,s,n,i).then(n=>{const i=n.data;if(Array.isArray(i)&&(t.data.config=i),e.chartManager){const n=e.chartManager.getChart(t.data.key);if(!n)return;n.setData(t.data.config)}})}};var g=n(23),m=n.n(g);class y{constructor(t){this.diagram=t,this.myDiagram=this.diagram._uDiagram,this.container=null,this.chartsMap=new Map,this.imagesMap=new Map,this.pollerList=[],this._initContainer(),this.bindEvent()}_initContainer(){const t=document.createElement("div"),e=this.diagram.div.id;t.setAttribute("id","myCanvases-".concat(e)),t.style.position="absolute",t.style.top="0px",t.style.width="500px",t.style.height="300px",t.style.opacity=0,t.style.zIndex=-1,document.body.appendChild(t),this.container=t,this.myDiagram.on("destroy",()=>{document.body.removeChild(this.container)}),this.myDiagram.on("clear",()=>{this.chartsMap.clear(),this.imagesMap.clear()})}getChart(t){return this.chartsMap.get(t)}setChart(t,e){var n;let i,a=arguments.length>3?arguments[3]:void 0,o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).dom;o||(o=document.createElement("div"),o.setAttribute("id","conch-".concat(t)),o.style.position="absolute",o.style.top="0px",o.style.width="500px",o.style.height="300px",this.container.appendChild(o)),i=null!==(n=this.diagram)&&void 0!==n&&n.isOffline?"/topo-static/js/chart":"".concat(s.a,"/s-static");const r=new window.conch[e](o,{prefix:i}),l=this.getChartData(t);return l&&(r.data=l),this.chartsMap.set(t,r),this.myDiagram.trigger("chartLoaded",r,t),Object(h.b)(this.myDiagram)?(v(r,a),r.render(),f(this.diagram,t)):this.bindChartToImage(r,t,a).then(()=>{f(this.diagram,t)}),r}deleteChart(t){if(this.chartsMap.has(t)){const e=this.getChart(t);this.container.removeChild(e.parentDom),this.chartsMap.delete(t),this.imagesMap.delete(t)}}getImage(t){return this.imagesMap.get(t)}setImage(t){const e=new Image;return e.style.position="absolute",e.style.top="0px",e.style.width="500px",e.style.height="300px",this.imagesMap.set(t,e),e}async bindChartToImage(t,e,n){var i,a,o,r,s,l,h,d;(v(t,n),"default"===t.type||"vueSFC"===t.type||t&&!t.type)?(null!==(i=t.opts)&&void 0!==i&&null!==(a=i.options)&&void 0!==a&&null!==(o=a.animation)&&void 0!==o&&o.isShow&&(t.opts.options.animation.duration=0),null!==(r=t.opts)&&void 0!==r&&null!==(s=r.options)&&void 0!==s&&null!==(l=s.others)&&void 0!==l&&l.animation&&(t.opts.options.others.animation.show=!1,t.opts.options.others.animation.animationDuration=0)):!1===(null===(h=t.config)||void 0===h||null===(d=h.animation)||void 0===d?void 0:d.show)&&(t.config.animation.show=!0);if(await t.render(),this.myDiagram.trigger("chartInit",t,e),"echarts"===t.type){const n=t.instance.chartInst?t.instance.chartInst._api:t.instance;this.updateImg(e,n.getDataURL()),n.on("rendered",()=>{this.updateImg(e,n.getDataURL())}),n.on("finished",()=>{this.updateImg(e,n.getDataURL())})}else{var u,f;let n=null===(u=t.opts.options)||void 0===u||null===(f=u.animation)||void 0===f?void 0:f.duration;t.instancePlot&&void 0===n&&(n=500),n=n||100,setTimeout(()=>{c.a.toPng(t.dom).then(t=>{this.updateImg(e,t)})},n);const i=t.updated;t.updated=()=>{"function"==typeof i&&i.call(t),setTimeout(()=>{c.a.toPng(t.dom).then(t=>{this.updateImg(e,t)})},n)}}return Promise.resolve()}updateImg(t,e){const n=this.getImage(t),i=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,n.src=e,this.diagram.skipsUndoManager=i}getChartData(t){const e=this.diagram.findNodeForKey(t),n=e&&e.data,i=n.configData;let a;return i&&("dynamic"===i.type?n.config.length&&(a=n.config):Array.isArray(i.staticData)&&i.staticData.length&&(a=m()(i.staticData))),a}bindEvent(){this.myDiagram.on("destroy",()=>{this.pollerList.forEach(t=>{t.stop()})})}}function v(t,e){if(e)return;if("default"===t.type){var n,i;if(null!==(n=t.opts)&&void 0!==n&&null!==(i=n.options)&&void 0!==i&&i.axis){var a,o,r,s,l,c,h,d,u,f;const e=t.opts.options;null!==(a=e.axis)&&void 0!==a&&null!==(o=a.xaxis)&&void 0!==o&&null!==(r=o.axisLine)&&void 0!==r&&r.line?(e.axis.xaxis.axisLine.line.lineColor="#90A0AE",e.axis.xaxis.axisLine.show=!0):null!==(s=e.axis)&&void 0!==s&&null!==(l=s.xaxis)&&void 0!==l&&l.axisLine&&(e.axis.xaxis.axisLine.color="#90A0AE",e.axis.xaxis.axisLine.show=!0),null!==(c=e.axis)&&void 0!==c&&null!==(h=c.yaxis)&&void 0!==h&&null!==(d=h.axisLine)&&void 0!==d&&d.line?(e.axis.yaxis.axisLine.line.lineColor="#90A0AE",e.axis.yaxis.axisLine.show=!0):null!==(u=e.axis)&&void 0!==u&&null!==(f=u.yaxis)&&void 0!==f&&f.axisLine&&(e.axis.yaxis.axisLine.color="#90A0AE",e.axis.yaxis.axisLine.show=!0)}}else{var p,g,m,y,v,w,x,b,S,k,P,M,_,L,T,O,A,E,C,N,B,j,D,F;if(null!==(p=t.config)&&void 0!==p&&null!==(g=p.options)&&void 0!==g&&g.axis){var R,I,z,H,V,G,U,W,q,Y;const e=t.config.options;null!==(R=e.axis)&&void 0!==R&&null!==(I=R.xaxis)&&void 0!==I&&null!==(z=I.axisLine)&&void 0!==z&&z.line?(e.axis.xaxis.axisLine.line.lineColor="#90A0AE",e.axis.xaxis.axisLine.show=!0):null!==(H=e.axis)&&void 0!==H&&null!==(V=H.xaxis)&&void 0!==V&&V.axisLine&&(e.axis.xaxis.axisLine.color="#90A0AE",e.axis.xaxis.axisLine.show=!0),null!==(G=e.axis)&&void 0!==G&&null!==(U=G.yaxis)&&void 0!==U&&null!==(W=U.axisLine)&&void 0!==W&&W.line?(e.axis.yaxis.axisLine.line.lineColor="#90A0AE",e.axis.yaxis.axisLine.show=!0):null!==(q=e.axis)&&void 0!==q&&null!==(Y=q.yaxis)&&void 0!==Y&&Y.axisLine&&(e.axis.yaxis.axisLine.color="#90A0AE",e.axis.yaxis.axisLine.show=!0)}if(null!==(m=t.config)&&void 0!==m&&null!==(y=m.xAxis)&&void 0!==y&&null!==(v=y.axisLine)&&void 0!==v&&v.lineStyle&&(t.config.xAxis.axisLine.lineStyle.color="#90A0AE",t.config.xAxis.axisLine.show=!0),null!==(w=t.config)&&void 0!==w&&null!==(x=w.yAxis)&&void 0!==x&&null!==(b=x.axisLine)&&void 0!==b&&b.lineStyle&&(t.config.yAxis.axisLine.lineStyle.color="#90A0AE",t.config.yAxis.axisLine.show=!0),null!==(S=t.config)&&void 0!==S&&null!==(k=S.xAxis)&&void 0!==k&&k.assistLine&&(t.config.xAxis.assistLine.color="#90A0AE",t.config.xAxis.assistLine.show=!0),null!==(P=t.config)&&void 0!==P&&null!==(M=P.yAxis)&&void 0!==M&&M.assistLine&&(t.config.yAxis.assistLine.color="#90A0AE",t.config.yAxis.assistLine.show=!0),null!==(_=t.config)&&void 0!==_&&null!==(L=_.radar)&&void 0!==L&&L._name&&(t.config.radar._name.color="#90A0AE"),null!==(T=t.config)&&void 0!==T&&null!==(O=T.singleAxis)&&void 0!==O&&null!==(A=O.axisLine)&&void 0!==A&&A.lineStyle&&(t.config.singleAxis.axisLine.lineStyle.color="#90A0AE"),null!==(E=t.config)&&void 0!==E&&null!==(C=E.options)&&void 0!==C&&null!==(N=C.chart)&&void 0!==N&&N.statisticLabel){const e=t.config.options.chart.statisticLabel;e.labelStyle&&(e.labelStyle.color="#90A0AE"),e.numStyle&&(e.numStyle.color="#90A0AE")}if(null!==(B=t.config)&&void 0!==B&&null!==(j=B._series)&&void 0!==j&&null!==(D=j.detail)&&void 0!==D&&D.textStyle&&(t.config._series.detail.textStyle.color="#90A0AE"),null!==(F=t.config.menu)&&void 0!==F&&F.axis){var X,K,Z,$;const e=t.config.menu.axis;null!==(X=e.xaxis)&&void 0!==X&&X.axisLine.lineStyle&&(e.xaxis.axisLine.lineStyle.color="#90A0AE"),null!==(K=e.yaxis)&&void 0!==K&&K.axisLine.lineStyle&&(e.yaxis.axisLine.lineStyle.color="#90A0AE"),null!==(Z=e.xaxis)&&void 0!==Z&&Z.label.textarea&&(e.xaxis.label.textarea.color="#90A0AE"),null!==($=e.yaxis)&&void 0!==$&&$.label.textarea&&(e.yaxis.label.textarea.color="#90A0AE")}}}function w(t){t.chartManager=new y(t)}async function x(t,e,n,s,l){let c=t.chartManager.getChart(e);return c||(window.conch&&window.conch[n]||(window.conch||await async function(){let t;return r.has("conch")?(t=r.get("conch"),await t):(t=Object(a.m)(o),r.set("conch",t),await t,i.a.use(window.conch)),Promise.resolve()}(),await async function(t,e,n){let i;if(r.has(e))i=r.get(e);else{let o;o=null!=t&&t.isOffline||!n?"".concat("/topo-static/js/chart/").concat(e,".js"):n,i=Object(a.m)(o),r.set(e,i)}return await i,Promise.resolve()}(t,n,l)),c=t.chartManager.setChart(e,n,{dom:s},l)),c}},function(t,e,n){"use strict";n.d(e,"d",(function(){return _})),n.d(e,"b",(function(){return L})),n.d(e,"c",(function(){return T})),n.d(e,"a",(function(){return A}));var i=n(0);function a(){return new Worker(n.p+"thing.diagram.min.worker.js")}let o=null,r=0,s=0;let l=null,c={},h={};function d(){if(window.diagram)for(const t in c)c[t]&&h[t]&&c[t].forEach(e=>{const n=window.diagram.findNodeForKey(e);n&&n.mark!==t&&(n.mark=t,n.shapeOutLine=h[t])});c={},h={}}function u(t){o||(o=new a,o.onmessage=t=>{s++;const{mark:e,result:n}=t.data;e&&(h[e]=n),0!==r&&r===s?(d(),f()):p()},o.onerror=function(t){throw d(),new Error("shape web worker error: 清除node_modules下的.cache文件后重启项目"+t)},p()),r++,o.postMessage(t)}function f(){o&&(clearTimeout(l),o.terminate(),o=null)}function p(){clearTimeout(l),l=setTimeout(()=>{d(),f()},3e3)}function g(){return new Worker(n.p+"thing.diagram.min.worker.js")}let m=null,y=0,v=0;let w=null,x={},b={};function S(){if(window.diagram)for(const t in x)x[t]&&b[t]&&x[t].forEach(e=>{const n=window.diagram.findLinkForKey(e);n&&n.mark!==t&&(n.mark=t,n.linkOutLine=b[t])});x={},b={}}function k(t){m||(m=new g,m.onmessage=t=>{v++;const{mark:e,result:n}=t.data;e&&(b[e]=n),0!==y&&y===v?(S(),P()):M()},m.onerror=function(t){throw S(),new Error("link web worker error: 清除node_modules下的.cache文件后重启项目"+t)},M()),y++,m.postMessage(t)}function P(){m&&(clearTimeout(w),m.terminate(),m=null)}function M(){clearTimeout(w),w=setTimeout(()=>{P()},3e3)}function _(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!((!t.tempAroundPart||t.aroundPart)&&"historyCompare"!==e.mode&&"cooperUserTrack"!==e.mode&&"comment"!==e.mode||"around-group"===t.category||"image"===t.category)}function L(t){const e=t.findObject("LINK_SHAPE"),n=t.findObject("FROM_ARROW"),i=t.findObject("TO_ARROW");return e.strokeWidth+e.geometryString+n.geometryString+"".concat(n.visible)+n.angle+i.geometryString+"".concat(i.visible)+i.angle}function T(t){const e=t.findObject("SHAPE")||t.findPort("");return t.data.strokeWidth+e.geometryString}function O(t){t instanceof i.e.Node&&t.data&&function(t){return"around-group"!==t.category&&"image"!==t.category}(t.data)?function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=T(t);if(t.mark!==n){const{strokeWidth:i,noNeedMakeUpPoint:a,shapeName:o,shapeParentName:r}=t.data,s=i||0,l=t.findObject("SHAPE")||t.findPort(""),h=l.geometry;if(h){const i=l.strokeMiterLimit;let d=h.flattenedSegments;if("Logic Gates"===r&&~o.search(/Flop|RSLatch/)&&(d=d.filter(t=>t.length<=20)),n&&t.data&&t.data.key){const o=c[n];o&&o.length>0?o.push(t.data.key):(c[n]=[t.data.key],u([n,d,(e.strokeWidth||2)+s,i,a]))}}}}(t):t instanceof i.e.Link&&function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=L(t),i=t.points.toArray();if(t.mark!==n&&i.length>0){const a=t.findObject("LINK_SHAPE"),o=t.findObject("FROM_ARROW"),r=t.findObject("TO_ARROW"),s={linePath:t.geometry.flattenedSegments,lineCenterPoint:{x:a.getDocumentBounds().x,y:a.getDocumentBounds().y},sourceArrowPath:o.geometry.flattenedSegments,sourceArrowVisible:o.visible,sourceArrowAngle:o.angle,sourceArrowScale:o.scale,sourceArrowRotatePoint:i[0],targetArrowPath:r.geometry.flattenedSegments,targetArrowVisible:r.visible,targetArrowAngle:r.angle,targetArrowScale:r.scale,targetArrowRotatePoint:i[i.length-1]},l=e.outLineWidth||4;if(n&&t.data&&t.data.key){const e=x[n];e&&e.length>0?e.push(t.data.key):(x[n]=[t.data.key],k([n,s,a.strokeWidth,l]))}}}(t)}function A(t){t.isReadonly||(t.addDiagramListener("InitialLayoutCompleted",()=>{t.nodes.each(t=>{O(t)}),t.links.each(t=>{O(t)})}),t.addDiagramListener("PartResized",()=>{const e=t.getEditingSelection();1===e.count&&O(e.first())}),t.addModelChangedListener(e=>{if("Insert"===e.change.name){const n=e.newValue;if(n){const e=t.findNodeForData(n);setTimeout(()=>{O(e)})}}else if("strokeWidth"===e.propertyName){if(1===t.getEditingSelection().count){const n=e.object;if(n){O(t.findNodeForData(n))}}}}))}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var i=n(67),a=n(138),o=n(139),r=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":r&&r in Object(t)?a(t):o(t)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return r}));var i=n(0);const a=i.e.GraphObject.make;function o(){return[a(i.e.Picture,{name:"Activity",imageStretch:i.e.GraphObject.Uniform,alignment:new i.e.Spot(0,0,10,10),alignmentFocus:i.e.Spot.TopLeft,width:40,height:40},new i.e.Binding("visible","",t=>"BPMN-Rectangle"===t.category&&!!r(t.taskType)),new i.e.Binding("source","",t=>r(t.taskType))),a(i.e.Panel,"Horizontal",{alignment:new i.e.Spot(.5,1,0,-5),alignmentFocus:i.e.Spot.BottomCenter},new i.e.Binding("visible","",t=>"BPMN-Rectangle"===t.category),a(i.e.Picture,{name:"Activity Marker",imageStretch:i.e.GraphObject.Uniform,width:40,height:40},new i.e.Binding("visible","",t=>!!r(t.activityMarker)),new i.e.Binding("source","",t=>r(t.activityMarker))),a(i.e.Picture,{name:"Activity Marker2",imageStretch:i.e.GraphObject.Uniform,width:40,height:40,visible:!1},new i.e.Binding("margin","",t=>r(t.activityMarker)?new i.e.Margin(0,0,0,10):0),new i.e.Binding("visible","",t=>!!r(t.activityMarker2)),new i.e.Binding("source","",t=>r(t.activityMarker2))))]}function r(t){let e="";switch(t){case"Send":e="/topo-static/images/templates/bpmn/shapeIcon/send.svg";break;case"Receive":e="/topo-static/images/templates/bpmn/shapeIcon/receive.svg";break;case"User":e="/topo-static/images/templates/bpmn/shapeIcon/user.svg";break;case"Manual":e="/topo-static/images/templates/bpmn/shapeIcon/manual.svg";break;case"Business Rule":e="/topo-static/images/templates/bpmn/shapeIcon/business-rule.svg";break;case"Service":e="/topo-static/images/templates/bpmn/shapeIcon/service.svg";break;case"Script":e="/topo-static/images/templates/bpmn/shapeIcon/script.svg";break;case"Sub-Process":e="/topo-static/images/templates/bpmn/shapeIcon/sub-process.svg";break;case"Loop":e="/topo-static/images/templates/bpmn/shapeIcon/loop.svg";break;case"Parallel MI":e="/topo-static/images/templates/bpmn/shapeIcon/parallel-MI.svg";break;case"Sequential MI":e="/topo-static/images/templates/bpmn/shapeIcon/sequential-MI.svg";break;case"Ad Hoc":e="/topo-static/images/templates/bpmn/shapeIcon/ad-hoc.svg";break;case"Compensation":e="/topo-static/images/templates/bpmn/shapeIcon/compensation.svg"}return e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),a=n(3),o=n(24),r=n(10);const s=i.e.GraphObject.make,l=s(i.e.Adornment,"Spot",{zOrder:r.b.resize},new i.e.Binding("visible","",(t,e)=>{const n=e.part.adornedPart,a=n.diagram;if(a.inPickCanvasColorState)return!1;const r=a.getEditingSelection();if(r.any(t=>Object(o.d)(t.data.category)||t instanceof i.e.Link&&t.fromNode&&!r.has(t.fromNode)&&t.toNode&&!r.has(t.toNode)||t.data.autoSize))return!1;if(n.data.tempAroundPart)return!1;if(n.data.aroundPart&&!n.containingGroup.selection.has(n))return!1;if(n.data.aroundLock&&n.selection.count)return!1;if(n._object&&n._object.effectHandler){const t=n._object.effectHandler.animationMap.values();for(const e of t)if(e.isAnimating)return!1}return"Dragging"!==a.currentTool.name&&"Rotating"!==a.currentTool.name&&"RowResizing"!==a.currentTool.name&&"ColumnResizing"!==a.currentTool.name}).ofObject(),s(i.e.Placeholder),c({alignment:i.e.Spot.TopLeft,alignmentFocus:"TopLeft",cursor:"nw-resize"}),c({alignment:i.e.Spot.Top,alignmentFocus:"Top",cursor:"n-resize"}),c({alignment:i.e.Spot.TopRight,alignmentFocus:"TopRight",cursor:"ne-resize"}),c({alignment:i.e.Spot.Left,alignmentFocus:"Left",cursor:"w-resize"}),c({alignment:i.e.Spot.Right,alignmentFocus:"Right",cursor:"e-resize"}),c({alignment:i.e.Spot.BottomLeft,alignmentFocus:"BottomLeft",cursor:"se-resize"}),c({alignment:i.e.Spot.Bottom,alignmentFocus:"Bottom",cursor:"s-resize"}),c({alignment:i.e.Spot.BottomRight,alignmentFocus:"BottomRight",cursor:"sw-resize"}));function c(t){let{alignment:e,alignmentFocus:n,cursor:o,size:r=8,fill:l="#fff",stroke:c=a.a}=t;return s(i.e.Shape,{alignment:e,cursor:o,fill:l,stroke:c,mouseEnter(t,e){e.fill=a.a},mouseLeave(t,e){e.fill="#fff"}},new i.e.Binding("visible","",t=>{if("Resizing"===t.diagram.currentTool.name)return!1;if(t.data.category.startsWith("circuit")||"electronic"===t.data.category){return![i.e.Spot.Top,i.e.Spot.Right,i.e.Spot.Bottom,i.e.Spot.Left].includes(e)}return!0}).ofObject(),new i.e.Binding("alignment","",t=>"around-group"===t.data.category||"flowchart-Annotation"===t.data.category?e:function(t){let e,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=0,r=0;switch(t){case"TopLeft":e=a/2,n=a/2;break;case"Top":o=.5,e=0,n=a/2;break;case"TopRight":o=1,e=-a/2,n=a/2;break;case"Left":r=.5,e=a/2,n=0;break;case"Right":o=1,r=.5,e=-a/2,n=0;break;case"BottomLeft":r=1,e=a/2,n=-a/2;break;case"Bottom":o=.5,r=1,e=0,n=-a/2;break;case"BottomRight":o=1,r=1,e=-a/2,n=-a/2}return new i.e.Spot(o,r,e,n)}(n,t.data.strokeWidth)).ofObject(),new i.e.Binding("strokeWidth","",t=>1/t.diagram.scale).ofObject(),new i.e.Binding("desiredSize","",t=>new i.e.Size(r/t.diagram.scale,r/t.diagram.scale)).ofObject())}s(i.e.Adornment,"Spot",{zOrder:13},new i.e.Binding("visible","",t=>"Dragging"!==t.part.adornedPart.diagram.currentTool.name).ofObject(),s(i.e.Placeholder),c({alignment:i.e.Spot.TopLeft,alignmentFocus:"TopLeft",cursor:"nw-resize"}),c({alignment:i.e.Spot.TopRight,alignmentFocus:"TopRight",cursor:"ne-resize"}),c({alignment:i.e.Spot.BottomLeft,alignmentFocus:"BottomLeft",cursor:"se-resize"}),c({alignment:i.e.Spot.BottomRight,alignmentFocus:"BottomRight",cursor:"sw-resize"}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i={Electronic_177:"Electronic_143",Electronic_143:"Electronic_143",Electronic_59:"Electronic_58",Electronic_58:"Electronic_58",Electronic_131:"Electronic_130",Electronic_130:"Electronic_130",Electronic_157:"Electronic_158",Electronic_158:"Electronic_158",Electronic_161:"Electronic_162",Electronic_162:"Electronic_162",Electronic_127:"Electronic_128",Electronic_128:"Electronic_128",Electronic_142:"Electronic_275",Electronic_275:"Electronic_275",Electronic_13:"ThreePosSwitch",Electronic_14:"ThreePosSwitch",Electronic_15:"ThreePosSwitch",Electronic_80:"TwoDirectionSwitch",Electronic_81:"TwoDirectionSwitch",Electronic_82:"TwoDirectionSwitch",Electronic_135:"GroundKnifeSwitch",Electronic_136:"GroundKnifeSwitch",Electronic_139:"Contector",Electronic_140:"Contector",Electronic_174:"FuseDisconnectSwitch",Electronic_175:"FuseDisconnectSwitch",Electronic_176:"FuseBreaker",Electronic_222:"FuseBreaker",Electronic_179:"FuseSegregateSwitch",Electronic_180:"FuseSegregateSwitch",Electronic_159:"LoadSwitch",Electronic_160:"LoadSwitch",Electronic_232:"LoadSwitch",Electronic_233:"LoadSwitch",Electronic_234:"FuseLoadSwitch",Electronic_178:"FuseLoadSwitch",Electronic_235:"CascadeFuse",Electronic_236:"CascadeFuse",Electronic_269:"DisconnectSwitch",Electronic_268:"DisconnectSwitch",Electronic_163:"DisconnectSwitch",Electronic_164:"DisconnectSwitch"}},function(t,e,n){var i=n(135);t.exports=function(t){return i(t).toLowerCase()}},,function(t,e,n){var i=n(38).Symbol;t.exports=i},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var i=n(143),a=n(83),o=n(148),r=n(149),s=n(150),l=n(61),c=n(101),h=c(i),d=c(a),u=c(o),f=c(r),p=c(s),g=l;(i&&"[object DataView]"!=g(new i(new ArrayBuffer(1)))||a&&"[object Map]"!=g(new a)||o&&"[object Promise]"!=g(o.resolve())||r&&"[object Set]"!=g(new r)||s&&"[object WeakMap]"!=g(new s))&&(g=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,i=n?c(n):"";if(i)switch(i){case h:return"[object DataView]";case d:return"[object Map]";case u:return"[object Promise]";case f:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var i=n(157),a=n(158),o=n(159),r=n(160),s=n(161);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=r,l.prototype.set=s,t.exports=l},function(t,e,n){var i=n(106);t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},function(t,e,n){var i=n(51)(Object,"create");t.exports=i},function(t,e,n){var i=n(176);t.exports=function(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var i=n(107),a=n(108);t.exports=function(t,e,n,o){var r=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var c=e[s],h=o?o(n[c],t[c],c,n,t):void 0;void 0===h&&(h=t[c]),r?a(n,c,h):i(n,c,h)}return n}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return g}));var i=n(76),a=n(0),o=(n(154),n(105),n(115),n(237),n(208),n(126)),r=n(30),s=n(2),l=n(81),c=(n(225),n(37)),h=n(16),d=n(29),u=n(28),f=n(45);const p=a.e.GraphObject.make;class g extends i.a{constructor(t){let{container:e,isEnabled:n=!0}=t;super(),this.container=e,this.isReadOnly=!0,this.isEnabled=n,this._init()}_init(){const t=a.e.Diagram.fromDiv(this.container);t?this.diagram=t:(this.diagram=p(a.e.Diagram,this.container,{_uDiagram:this,isReadOnly:this.isReadOnly,hoverDelay:1e3,"animationManager.isEnabled":!1,panningTool:new o.a,padding:10,maxScale:200,minScale:.07,initialAutoScale:a.e.Diagram.Uniform,model:p(a.e.GraphLinksModel,{linkKeyProperty:"key",linkFromPortIdProperty:"fromPort",linkToPortIdProperty:"toPort",nodeDataArray:[],linkDataArray:[],makeUniqueKeyFunction:()=>Object(l.a)(),makeUniqueLinkKeyFunction:()=>Object(l.a)(),linkLabelKeysProperty:"jointLabelKeys"})}),"div2d"===this.container&&(this.diagram.div.style.zIndex=2),this._computePixelRatio(),this._setTemplates())}_computePixelRatio(){this.diagram.computePixelRatio=function(){const t=this.div.firstChild.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}}_setTemplates(){const t=this.diagram,e=this.isEnabled;r.a.nodes.initTemplate(t),r.a.archi.initTemplate(t),r.a.uml.initTemplate(t),r.a.bpmn.initTemplate(t),r.a.standard.initTemplate(t),r.a.flowchart.initTemplate(t),r.a.shapes.initTemplate(t),r.a.circuit.initTemplate(t),r.a.groups.initTemplate(t),r.a.toolTip.initTemplate(t),r.a.links.initTemplate(t),r.a.visio.initTemplate(t),r.a.dynamic.initTemplate(t),r.a.charts.initTemplate(t,e),r.a.electronics.initTemplate(t),r.a.dom.initTemplate(t),r.a.tables.initTemplate(t)}openDiagram(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var n,i,o;if("string"==typeof t){const e=JSON.parse(t);e.linkKeyProperty="key",e.linkLabelKeysProperty="jointLabelKeys",t=JSON.stringify(e)}else"object"==typeof t&&(t.linkKeyProperty="key",t.linkLabelKeysProperty="jointLabelKeys",t=JSON.stringify(t));const r=a.e.Model.fromJson(t);r.makeUniqueKeyFunction=()=>Object(l.a)(),r.makeUniqueLinkKeyFunction=()=>Object(l.a)();const p=(null===(n=r.modelData)||void 0===n||null===(i=n.pageOptions)||void 0===i?void 0:i.layer)||[];Object(s.x)(this.diagram,p),this.diagram.model=r,this.diagram.grid.visible=!1;const g=null===(o=r.modelData)||void 0===o?void 0:o.pageOptions;!e&&Object(u.g)(this.diagram.div,null==g?void 0:g.canvasBackgroundColor,null==g?void 0:g.canvasBackgroundImage);const{watermarkInfo:m}=r.modelData;!e&&m&&Object(c.a)(this.diagram,{isThumbnail:!0},null,m),Object(s.d)(this.diagram),Object(s.e)(this.diagram),Object(s.w)(this.diagram),Object(h.d)(this.diagram),Object(s.M)(this.diagram),Object(s.L)(this.diagram),Object(d.c)(this.diagram),Object(f.a)(this)}catch(t){throw new Error("The diagram data is incorrect")}}getDiagram(){return this.diagram}getDomNodes(){const t=[];return this.diagram.nodes.each(e=>{(e.data.domType||"chart"===e.category)&&t.push(e)}),t}}"development"!==t.env.MODE&&delete window.go}).call(this,n(48))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(5);class a{constructor(){this._events={}}on(t,e,n,a){return"string"!=typeof e&&(a=n,n=e,e=void 0),Object(i.o)(n)?(this._events[t]||(this._events[t]=[]),this._events[t].push({callback:n,once:!!a,condition:e}),this):this}once(t,e,n){return this.on(t,e,n,!0),this}trigger(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const a=this;n=[];for(let t=1;t<arguments.length;t++)n[t-1]=arguments[t];!function(e){let i=e.length;for(let o=0;o<i;o++){if(!e[o])continue;const r=e[o],s=r.callback,l=r.once,c=r.condition;if(void 0!==c){if(!("query"in a))continue;const e=a.query(c),i=n[0].object;if(e.has(i)){const e=i._events[t]||[];if(!e.some(t=>t.callback===s&&t.hasOwnProperty("delegateCount"))){const o={callback:s,once:l,delegateCount:0};e.push(o),i._events[t]=e,a._triggerDelegateEvent(i,o,n)}}}else e[o].hasOwnProperty("delegateCount")?a._triggerDelegateEvent(a,e[o],n):(l&&(e.splice(o,1),0===e.length&&delete a._events[t],i--,o--),s.apply(a,n))}}(this._events[t]||[])}off(t,e){if(t)if(e){const n=this._events[t]||[];let i=n.length;for(let t=0;t<i;t++)n[t].callback===e&&(n.splice(t,1),i--,t--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this}_triggerDelegateEvent(t,e,n){const{callback:i,once:a,delegateCount:o}=e;a&&0!==o||(i.apply(t,n),e.delegateCount++)}}},function(t,e,n){"use strict";const i={ConvexHull:function(t){let e=0;for(let n=1;n<t.length;n++){t[n].y<t[e].y&&(e=n)}const n=[],i=[],a=[];for(let o=0;o<t.length;o++)o!==e&&(n.push(t[o]),i.push(Math.atan2(t[o].y-t[e].y,t[o].x-t[e].x)),a.push((t[o].x-t[e].x)*(t[o].x-t[e].x)+(t[o].y-t[e].y)*(t[o].y-t[e].y)));for(;;){let t=!0;for(let e=0;e<n.length-1;e++)if(i[e]>i[e+1]||i[e]===i[e+1]&&a[e]>a[e+1]){let o=n[e];n[e]=n[e+1],n[e+1]=o;let r=i[e];i[e]=i[e+1],i[e+1]=r;let s=a[e];a[e]=a[e+1],a[e+1]=s,t=!1}if(t)break}n.splice(0,0,t[e]);const o=[0,1,2];for(let t=3;t<n.length;t++){const e=n[t];for(let t=o.length-2;t>0;t--){let t=Math.atan2(e.y-n[o[o.length-1]].y,e.x-n[o[o.length-1]].x)-Math.atan2(n[o[o.length-2]].y-n[o[o.length-1]].y,n[o[o.length-2]].x-n[o[o.length-1]].x);for(;t>Math.PI;)t-=2*Math.PI;for(;t<-Math.PI;)t+=2*Math.PI;if(!(t>0))break;o.splice(o.length-1,1)}o.push(t)}const r=[];for(let t=0;t<o.length;t++)r.push(n[o[t]]);return r},crossProduct:function(t,e){return t[0]*e[1]-t[1]*e[0]},initPolygon:function(t){const e={};for(let n=0;n<t.length;n++)e[n+""]={id:n+"",coordinate:t[n]};for(let n=0;n<t.length;n++){let t=null;t=0===n?e[Object.keys(e).length-1+""]:e[n-1+""];let i=null;i=n===Object.keys(e).length-1?e[0]:e[n+1+""],e[n].prev=t,e[n].next=i}return e},isPointOnLine:function(t,e,n){const i=Math.sqrt((e[0].x-e[1].x)*(e[0].x-e[1].x)+(e[0].y-e[1].y)*(e[0].y-e[1].y)),a=Math.sqrt((e[0].x-t.x)*(e[0].x-t.x)+(e[0].y-t.y)*(e[0].y-t.y)),o=Math.sqrt((e[1].x-t.x)*(e[1].x-t.x)+(e[1].y-t.y)*(e[1].y-t.y));return{dist:a,isOnLine:Math.abs(i-a-o)<n}},vertexInLine:function(t,e,n){const a=Object.keys(e);let o={};for(;Object.keys(o).length<Object.keys(t).length;){let r=null;const s=Object.keys(t);for(let t=0;t<s.length;t++)if(!o[s[t]]){r=s[t];break}let l=r;for(;;){const s=t[l],c=s.next,h=[];for(let t=0;t<a.length;t++)if(!0!==e[a[t]].vsIds[l]&&!0!==e[a[t]].vsIds[c.id]){const o=i.isPointOnLine(e[a[t]].coordinate,[s.coordinate,c.coordinate],n);if(o.isOnLine){let i=null;for(let t=0;t<h.length;t++)if(Math.abs(h[t].dist-o.dist)<n){i=h[t];break}null===i?(i={dist:o.dist,vsVertexes:{}},i.vsVertexes[a[t]]=e[a[t]],h.push(i)):i.vsVertexes[a[t]]=e[a[t]]}}for(;;){let t=!0;for(let e=0;e<h.length-1;e++)if(h[e].dist>h[e+1].dist){let n=h[e];h[e]=h[e+1],h[e+1]=n,t=!1}if(t)break}if(h.length>0){const n=[];for(let t=0;t<h.length;t++){const e=Object.keys(h[t].vsVertexes),i={};for(let t=0;t<e.length;t++)i[e[t]]=!0;n.push({coordinate:h[t].vsVertexes[e[0]].coordinate,vsIds:i})}for(let i=0;i<n.length;i++){const a=n[i],r=1*Object.keys(t)[Object.keys(t).length-1]+1+"";a.id=r,a.prev=0===i?s:n[i-1],i===n.length-1?a.next=c:a.next=n[i+1],t[a.id]=a;const l=Object.keys(a.vsIds);for(let t=0;t<l.length;t++)e[l[t]].vsIds[a.id]=!0;o[a.id]=!0}s.next=n[0],c.prev=n[n.length-1]}if(o[l]=!0,l=c.id,l===r)break}}},exteriorOutline:function(t,e,n,i){const a={},o=[],r=Object.keys(e);for(let t=0;t<r.length;t++){const n=e[r[t]].coordinate,a=e[r[t]].next.coordinate;Math.abs(n.x-a.x)>=i&&o.push([n,a,(a.y-n.y)/(a.x-n.x)])}const s=Object.keys(t);for(let r=0;r<s.length;r++){const l=t[s[r]],c=l.next;let h=!1,d=null,u=null;const f=Object.keys(l.vsIds);for(let t=0;t<f.length;t++){if(e[f[t]].prev.vsIds[c.id]){d=e[f[t]];break}if(e[f[t]].next.vsIds[c.id]){u=e[f[t]];break}}if(null!==d)n&&l.isRight!==d.isRight&&(h=!0);else if(null!==u)n&&l.isRight===u.isRight&&(h=!0);else{const t={x:.5*(l.coordinate.x+c.coordinate.x),y:.5*(l.coordinate.y+c.coordinate.y)};let e=0;const n=[];for(let a=0;a<o.length;a++){const r=o[a][0],s=o[a][1],l=o[a][2];if(!(t.x>=r.x+i&&t.x>=s.x+i||t.x<=r.x-i&&t.x<=s.x-i)){const a=l*(t.x-r.x)+r.y;if(t.y<=a-i){let a=null;if(Math.abs(r.x-t.x)<i?a=s.x<t.x:Math.abs(s.x-t.x)<i&&(a=r.x<t.x),null===a)e++;else{let e=null;for(let a=0;a<n.length;a++)if(Math.abs(n[a][0]-t.x)<i){e=n[a];break}null===e?n.push([t.x,[a]]):e[1].push(a)}}}}for(let t=0;t<n.length;t++){let i=0;for(let e=0;e<n[t][1].length;e++)n[t][1][e]&&i++;e+=i%2}e%2==0&&(h=!0)}h&&(a[s[r]]=!0)}return a},isContain:function(t,e,n){const i=e.subPolygon[Object.keys(e.subPolygon)[0]].coordinate;let a=0;const o=[];for(let e=0;e<t.segments.length;e++){const r=t.segments[e][0],s=t.segments[e][1],l=t.segments[e][2];if(!(i.x>=r.x+n&&i.x>=s.x+n||i.x<=r.x-n&&i.x<=s.x-n)){const t=l*(i.x-r.x)+r.y;if(i.y<=t-n){let t=null;if(Math.abs(r.x-i.x)<n?t=s.x<i.x:Math.abs(s.x-i.x)<n&&(t=r.x<i.x),null===t)a++;else{let e=null;for(let t=0;t<o.length;t++)if(Math.abs(o[t][0]-i.x)<n){e=o[t];break}null===e?o.push([i.x,[t]]):e[1].push(t)}}}}for(let t=0;t<o.length;t++){let e=0;for(let n=0;n<o[t][1].length;n++)o[t][1][n]&&e++;a+=e%2}return a%2==1},resolveDirection:function(t,e,n){const a=Object.keys(t.subPolygon);let o=null,r=[];for(let e=0;e<a.length;e++){const i=t.subPolygon[a[e]];null===o||o-i.coordinate.y>=n?(r=[i],o=i.coordinate.y):Math.abs(o-i.coordinate.y)<n&&r.push(i)}let s=null;for(let t=0;t<r.length;t++){const a=r[t],o=a.prev,l=a.next;if(Math.abs(a.coordinate.y-o.coordinate.y)>=n||Math.abs(a.coordinate.y-l.coordinate.y)>=n){const t=i.crossProduct([a.coordinate.x-o.coordinate.x,a.coordinate.y-o.coordinate.y],[l.coordinate.x-a.coordinate.x,l.coordinate.y-a.coordinate.y]);t>0?s=e:t<0&&(s=!e);break}}for(let e=0;e<a.length;e++)t.subPolygon[a[e]].isRight=s},layerPolygon:function(t,e){const n=[],a={},o=Object.keys(t);for(;Object.keys(a).length<o.length;){let i=null;for(let t=0;t<o.length;t++)if(!a[o[t]]){i=o[t];break}const r={};let s=t[i];for(;;){r[s.id]=s,a[s.id]=!0;const t=s.next;if(t.id===i)break;s=t}const l=[],c=Object.keys(r);for(let t=0;t<c.length;t++){const n=r[c[t]].coordinate,i=r[c[t]].next.coordinate;Math.abs(n.x-i.x)>=e&&l.push([n,i,(i.y-n.y)/(i.x-n.x)])}n.push({id:n.length+"",subPolygon:r,segments:l,parent:null,children:[]})}for(let t=0;t<n.length;t++){const a=n[t];for(let t=0;t<n.length;t++){const o=n[t];if(a.id!==o.id){let t=!1,n=[o];for(;;){const e=n.pop();if(null===e.parent)break;if(e.parent.id===a.id){t=!0;break}n.push(e.parent)}if(!t&&i.isContain(a,o,e))if(null===o.parent)o.parent=a,a.children.push(o);else{const t=[];try{for(n=[o.parent];;){const e=n.pop();if(t.push(e),null===e.parent)break;n.push(e.parent)}}catch(t){}let r=null;for(let n=t.length-1;n>=0;n--)if(i.isContain(a,t[n],e)){r=t[n];break}if(null===r){const t=o.parent,e=t.children;for(let t=0;t<e.length;t++)if(e[t].id===o.id){e.splice(t,1,a);break}a.parent=t,a.children.push(o),o.parent=a}else if(null===r.parent)r.parent=a,a.children.push(r);else{const t=r.parent,e=t.children;for(let t=0;t<e.length;t++)if(e[t].id===r.id){e.splice(t,1,a);break}a.parent=t,a.children.push(r),r.parent=a}}}}}for(let t=0;t<n.length;t++){const a=n[t];if(null===a.parent){let t=[a],n=!0;for(;t.length>0;){const a=[];for(let o=0;o<t.length;o++){i.resolveDirection(t[o],n,e);for(let e=0;e<t[o].children.length;e++)a.push(t[o].children[e])}n=!n,t=a}}}},union:function(t,e,n){let a=Object.keys(t),o=Object.keys(e);for(let e=0;e<a.length;e++){t[a[e]].vsIds={}}for(let t=0;t<o.length;t++){e[o[t]].vsIds={}}for(let i=0;i<a.length;i++){const r=t[a[i]];for(let t=0;t<o.length;t++){const i=e[o[t]];Math.abs(r.coordinate.x-i.coordinate.x)<n&&Math.abs(r.coordinate.y-i.coordinate.y)<n&&(r.vsIds[i.id]=!0,i.vsIds[r.id]=!0)}}i.vertexInLine(t,e,n),i.vertexInLine(e,t,n),a=Object.keys(t),o=Object.keys(e);const r={};for(let s=0;s<a.length;s++){const l=t[a[s]],c=l.next,h=[c.coordinate.x-l.coordinate.x,c.coordinate.y-l.coordinate.y],d=[];for(let t=0;t<o.length;t++){const a=e[o[t]],r=a.next;if(!0!==a.vsIds[l.id]&&!0!==a.vsIds[c.id]&&!0!==r.vsIds[l.id]&&!0!==r.vsIds[c.id]){const e=[r.coordinate.x-a.coordinate.x,r.coordinate.y-a.coordinate.y],s=i.crossProduct(h,e);if(Math.abs(s)>=n){const r=i.crossProduct([a.coordinate.x-l.coordinate.x,a.coordinate.y-l.coordinate.y],e)/s;if(r>-n&&r<1+n){const e=i.crossProduct(h,[l.coordinate.x-a.coordinate.x,l.coordinate.y-a.coordinate.y])/s;if(e>-n&&e<1+n){let e=null;for(let t=0;t<d.length;t++)if(Math.abs(d[t].t-r)<n){e=d[t];break}if(null===e){const e={};e[o[t]]=!0,d.push({t:r,vsIds:e})}else e.vsIds[o[t]]=!0}}}}}for(;;){let t=!0;for(let e=0;e<d.length-1;e++)if(d[e].t>d[e+1].t){const n=d[e];d[e]=d[e+1],d[e+1]=n,t=!1}if(t)break}if(d.length>0){const e=[],n=1*Object.keys(t)[Object.keys(t).length-1]+1;for(let t=0;t<d.length;t++){const i={x:l.coordinate.x+d[t].t*h[0],y:l.coordinate.y+d[t].t*h[1]};e.push({id:n+t+"",coordinate:i,vsIds:{}})}for(let n=0;n<e.length;n++){const i=e[n];i.prev=0===n?l:e[n-1],n===e.length-1?i.next=c:i.next=e[n+1],t[i.id]=i;const a=Object.keys(d[n].vsIds);for(let t=0;t<a.length;t++)r[a[t]]||(r[a[t]]={}),r[a[t]][i.id]=i.coordinate}l.next=e[0],c.prev=e[e.length-1]}}o=Object.keys(r);for(let i=0;i<o.length;i++){const a=e[o[i]],s=a.next,l=Object.keys(r[o[i]]),c=[];for(let t=0;t<l.length;t++){const e=r[o[i]][l[t]],s=Math.sqrt((e.x-a.coordinate.x)*(e.x-a.coordinate.x)+(e.y-a.coordinate.y)*(e.y-a.coordinate.y));let h=null;for(let t=0;t<c.length;t++)if(Math.abs(c[t].dist-s)<n){h=c[t];break}if(null===h){const e={};e[l[t]]=!0,c.push({dist:s,vsIds:e})}else h.vsIds[l[t]]=!0}for(;;){let t=!0;for(let e=0;e<c.length-1;e++)if(c[e].dist>c[e+1].dist){const n=c[e];c[e]=c[e+1],c[e+1]=n,t=!1}if(t)break}const h=[];for(let e=0;e<c.length;e++){const n=c[e],i={};i.coordinate=t[Object.keys(n.vsIds)[0]].coordinate,i.vsIds=n.vsIds,h.push(i)}for(let n=0;n<h.length;n++){const i=h[n];i.id=1*Object.keys(e)[Object.keys(e).length-1]+1+"",i.prev=0===n?a:h[n-1],n===h.length-1?i.next=s:i.next=h[n+1],e[i.id]=i;const o=Object.keys(i.vsIds);for(let e=0;e<o.length;e++)t[o[e]].vsIds[i.id]=!0}a.next=h[0],s.prev=h[h.length-1]}i.layerPolygon(t,n),i.layerPolygon(e,n);const s=i.exteriorOutline(t,e,!0,n),l=i.exteriorOutline(e,t,!1,n),c={};let h=0;for(;Object.keys(s).length>0||Object.keys(l).length>0;){const i=Object.keys(s).length>0,a=i?Object.keys(s)[0]:Object.keys(l)[0];let o=i,r=!0,d=a;const u=[];for(;;){const n=o?t[d]:e[d];if(!n)break;if(u.push(n.coordinate),o?delete s[d]:r?delete l[d]:delete l[n.prev.id],i&&o&&a===n.next.id||i&&!o&&r&&n.next.vsIds[a]||i&&!o&&!r&&n.prev.vsIds[a]||!i&&a===n.next.id)break;if(o){const i={};i[n.next.id]=!0;const a={};for(;;){const n=Object.keys(i),o=Object.keys(a);for(let e=0;e<n.length;e++){const i=Object.keys(t[n[e]].vsIds);for(let t=0;t<i.length;t++)a[i[t]]=!0}for(let t=0;t<o.length;t++){const n=Object.keys(e[o[t]].vsIds);for(let t=0;t<n.length;t++)i[n[t]]=!0}if(Object.keys(i).length===n.length&&Object.keys(a).length===o.length)break}const c=Object.keys(i),h=Object.keys(a);let u=null;for(let t=0;t<c.length;t++)if(s[c[t]]){u=c[t];break}if(null!==u)d=u;else{let t=null;for(let e=0;e<h.length;e++)if(l[h[e]]){t=h[e];break}if(null!==t)d=t,r=!0;else{d=null;for(let t=0;t<h.length;t++)if(l[e[h[t]].prev.id]){d=h[t];break}r=!1}o=!1}}else if(r){const i={};i[n.next.id]=!0;const a={};for(;;){const n=Object.keys(i),o=Object.keys(a);for(let t=0;t<n.length;t++){const i=Object.keys(e[n[t]].vsIds);for(let t=0;t<i.length;t++)a[i[t]]=!0}for(let e=0;e<o.length;e++){const n=Object.keys(t[o[e]].vsIds);for(let t=0;t<n.length;t++)i[n[t]]=!0}if(Object.keys(a).length===o.length&&Object.keys(i).length===n.length)break}const r=Object.keys(i),c=Object.keys(a);let h=null;for(let t=0;t<r.length;t++)if(l[r[t]]){h=r[t];break}if(null!==h)d=h;else{d=null;for(let t=0;t<c.length;t++)if(s[c[t]]){d=c[t];break}o=!0}}else{const i={};i[n.prev.id]=!0;const a={};for(;;){const n=Object.keys(i),o=Object.keys(a);for(let t=0;t<n.length;t++){const i=Object.keys(e[n[t]].vsIds);for(let t=0;t<i.length;t++)a[i[t]]=!0}for(let e=0;e<o.length;e++){const n=Object.keys(t[o[e]].vsIds);for(let t=0;t<n.length;t++)i[n[t]]=!0}if(Object.keys(a).length===o.length&&Object.keys(i).length===n.length)break}const r=Object.keys(i),c=Object.keys(a);let h=null;for(let t=0;t<r.length;t++)if(l[e[r[t]].prev.id]){h=r[t];break}if(null!==h)d=h;else{d=null;for(let t=0;t<c.length;t++)if(s[c[t]]){d=c[t];break}o=!0}}}for(let t=u.length-1;t>0;t--)Math.abs(u[t].x-u[t-1].x)<n&&Math.abs(u[t].y-u[t-1].y)<n&&u.splice(t,1);const f=[];for(let t=0;t<u.length;t++)f.push({id:h+"",coordinate:u[t]}),h++;for(let t=0;t<f.length;t++){const e=f[t];e.prev=0===t?f[f.length-1]:f[t-1],t===f.length-1?e.next=f[0]:e.next=f[t+1],c[e.id]=e}}return c},getSingleOutline:function(t,e,n,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=null;const s=.5*e,l=[],c=[];for(let e=0;e<t.length-1;e++){const n=t[e],i=t[e+1],a=Math.atan2(i.y-n.y,i.x-n.x),o={x:n.x+s*Math.cos(a-.5*Math.PI),y:n.y+s*Math.sin(a-.5*Math.PI)},r={x:n.x+s*Math.cos(a+.5*Math.PI),y:n.y+s*Math.sin(a+.5*Math.PI)},h={x:i.x+s*Math.cos(a-.5*Math.PI),y:i.y+s*Math.sin(a-.5*Math.PI)},d={x:i.x+s*Math.cos(a+.5*Math.PI),y:i.y+s*Math.sin(a+.5*Math.PI)};l.push(a),c.push([o,h,d,r])}Math.abs(t[0].x-t[t.length-1].x)<n&&Math.abs(t[0].y-t[t.length-1].y)<n&&l.push(l[0]);const h=[];for(let e=0;e<c.length;e++)if(h.push(i.initPolygon(c[e])),e<l.length-1){let r=l[e+1]-l[e];if(o&&Math.abs(r)>=2.7)continue;for(;r<-Math.PI;)r+=2*Math.PI;for(;r>Math.PI;)r-=2*Math.PI;const d=t[e+1];let u=null,f=null;if(r>0?(u=c[e][1],f=e<c.length-1?c[e+1][0]:c[0][0]):(u=e<c.length-1?c[e+1][3]:c[0][3],f=c[e][2]),Math.abs(u.x-f.x)>=n||Math.abs(u.y-f.y)>=n){const t=Math.atan2(u.y-d.y,u.x-d.x);let e=Math.atan2(f.y-d.y,f.x-d.x);for(;t>e;)e+=2*Math.PI;const o=.5*(e-t);if(Math.abs(o-.5*Math.PI)>=n){const n=s/Math.cos(o),r=a*s;if(r&&r<n){const n=1,a={x:d.x+s*Math.cos(t)+n*Math.sin(t)*Math.sin(-o),y:d.y+s*Math.sin(t)+n*Math.cos(t)*Math.sin(o)},r={x:d.x+s*Math.cos(e)+n*Math.sin(e)*Math.sin(o),y:d.y+s*Math.sin(e)+n*Math.cos(e)*Math.sin(-o)};h.push(i.initPolygon([d,u,a,r,f]))}else{const e={x:d.x+n*Math.cos(t+o),y:d.y+n*Math.sin(t+o)};h.push(i.initPolygon([d,u,e,f]))}}}}for(let t=0;t<h.length;t++)r=null===r?h[t]:i.union(r,h[t],n);return r},_getOutline:function(t,e,n,a,o,r){let s=null;for(let e=t.length-1;e>=0;e--)t[e].length<2&&t.splice(e,1);for(let n=0;n<t.length;n++){const l=i.getSingleOutline(t[n],e,a,o,r);s=null===s?l:i.union(s,l,a)}if(n){const t=[],e=Object.keys(s),n={};for(;Object.keys(n).length<e.length;){let i=null;for(let t=0;t<e.length;t++)if(!n[e[t]]){i=e[t];break}const a={};let o=s[i];for(;;){a[o.id]=o,n[o.id]=!0;const t=o.next;if(t.id===i)break;o=t}t.push(a)}if(t.length>0){let e=t[0];for(let n=1;n<t.length;n++)e=i.union(e,t[n],a);s=e}}return s},__getSvg:function(t,e,n,a,o){const r=[];for(let e=0;e<t.length;e++){const i=[];for(let n=0;n<t[e].length;n+=2)i.push({x:1*t[e][n],y:1*t[e][n+1]});for(;;){let t=!0;for(let e=i.length-1;e>0;e--)if(Math.abs(i[e].x-i[e-1].x)<n&&Math.abs(i[e].y-i[e-1].y)<n){i.splice(e,1),t=!1;break}if(t)break}i.length>1&&r.push(i)}if(r.length>0){return i._getOutline(r,e,!0,n,a,o)}return{}},_getSvg:function(t,e,n,a){return i.__getSvg(t,e,1e-7,n,a)},getSvg:function(t,e,n,a){const o=i._getSvg(t,e,n,a);let r="";const s=Object.keys(o),l={};for(;Object.keys(l).length<s.length;){let t=null;for(let e=0;e<s.length;e++)if(!l[s[e]]){t=s[e];break}let e=o[t];for(r=r+"M"+e.coordinate.x+" "+e.coordinate.y+" ";;){l[e.id]=!0;const n=e.next;if(r=r+"L"+n.coordinate.x+" "+n.coordinate.y+" ",n.id===t){r+="z ";break}e=n}}return r}};e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),a=n(24),o=n(10);const r=i.e.GraphObject.make,s=r(i.e.Adornment,{locationSpot:i.e.Spot.Center,locationObjectName:"ROTATE_IMAGE",zOrder:o.b.rotate,visible:!0},new i.e.Binding("visible","",t=>{const e=t.part.adornedPart,n=e.diagram,o=n.getEditingSelection(),r=n.currentTool.name;let s=!0;if(o.count>1&&e.data&&"around-group"===e.data.category&&o.each(t=>{t instanceof i.e.Node&&(Object(a.d)(t.data.category)||!t.rotatable&&!t.data.lock)&&(s=!1),t instanceof i.e.Link&&t.fromNode&&!o.has(t.fromNode)&&t.toNode&&!o.has(t.toNode)&&(s=!1)}),e.data.tempAroundPart)return!1;if(e.data.aroundPart&&!e.containingGroup.selection.has(e))return!1;if(e.data.aroundLock&&e.selection.count)return!1;if(e._object&&e._object.effectHandler){const t=e._object.effectHandler.animationMap.values();for(const e of t)if(e.isAnimating)return!1}return"Rotating"!==r&&"Dragging"!==r&&"Resizing"!==r&&"RowResizing"!==r&&"ColumnResizing"!==r&&!n.inPickCanvasColorState&&s}).ofObject(),r(i.e.Picture,{name:"ROTATE_IMAGE",cursor:"url(/topo-static/images/templates/rotatingTip.png) 5 5, Alias",source:"/topo-static/images/templates/rotate.png",desiredSize:new i.e.Size(18,18),mouseEnter:(t,e)=>{e.source="/topo-static/images/templates/rotating.png"},mouseLeave:(t,e)=>{e.source="/topo-static/images/templates/rotate.png"},alignment:i.e.Spot.Left},new i.e.Binding("desiredSize","",t=>new i.e.Size(18/t.diagram.scale,18/t.diagram.scale)).ofObject()))},function(t,e,n){"use strict";var i=n(1),a=n(15);const o=a.e?"/diagram":"/eam/externalData";e.a={requestByUrl:t=>i.a.post("".concat(o,"/requestByUrl").concat(a.f),t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var i=n(0);const a={Electronic_13_false:"M8.280000000000001 8.84 L13.47 20.81",Electronic_14_false:"M8.280000000000001 8.84 L13.47 20.81",Electronic_15_false:"M8.280000000000001 8.84 L13.47 20.81",Electronic_13_true:"M10.939999999999998 7.89 L13.3 20.72",Electronic_14_true:"M10.939999999999998 7.89 L13.3 20.72",Electronic_15_true:"M10.939999999999998 7.89 L13.3 20.72",Electronic_13_left:"M6.4399999999999995 9.45 L13.39 20.48",Electronic_14_left:"M6.4399999999999995 9.45 L13.39 20.48",Electronic_15_left:"M6.4399999999999995 9.45 L13.39 20.48",Electronic_80_false:"M7.87 9.35 L7.87 16.81",Electronic_81_false:"M7.87 9.35 L7.87 16.81",Electronic_82_false:"M7.87 9.35 L7.87 16.81",Electronic_80_right:"M12.089999999999998 9.41 L8.4 16.68",Electronic_81_right:"M12.089999999999998 9.41 L8.4 16.68",Electronic_82_right:"M12.089999999999998 9.41 L8.4 16.68",Electronic_80_left:"M3.8 9.41 L7.489999999999999 16.68",Electronic_81_left:"M3.8 9.41 L7.489999999999999 16.68",Electronic_82_left:"M3.8 9.41 L7.489999999999999 16.68",Electronic_135_true:"M3.0200000000000005 7.98 L6.739999999999999 16.08",Electronic_136_true:"M3.0200000000000005 7.98 L6.739999999999999 16.08",Electronic_135_false:"M1.2000000000000002 9.63 L6.510000000000001 16.3",Electronic_136_false:"M1.2000000000000002 9.63 L6.510000000000001 16.3",Electronic_139_true:"M2.0100000000000007 7.84 L4.570000000000001 16.79",Electronic_140_true:"M2.0100000000000007 7.84 L4.570000000000001 16.79",Electronic_139_false:"M0 9.3 L4.570000000000001 16.81",Electronic_140_false:"M0 9.3 L4.570000000000001 16.81",Electronic_174_false:"M0.20999999999999996 11.16 L8.09 20.82 x M0 14.110000000000001 L2.67 11.89 L8.23 18.58 L5.57 20.8 L0 14.110000000000001",Electronic_175_false:"M0.20999999999999996 11.16 L8.09 20.82 x M0 14.110000000000001 L2.67 11.89 L8.23 18.58 L5.57 20.8 L0 14.110000000000001",Electronic_174_true:"M4.1062603214301845 10.070561740123408 L8.028637861469633 9.339087589251307 L9.863739678569818 19.179438259876594 L5.941362138530367 19.910912410748697 L4.1062603214301845 10.070561740123408z x M5.85 7.41 L8.11 21.24",Electronic_175_true:"M4.1062603214301845 10.070561740123408 L8.028637861469633 9.339087589251307 L9.863739678569818 19.179438259876594 L5.941362138530367 19.910912410748697 L4.1062603214301845 10.070561740123408z x M5.85 7.41 L8.11 21.24",Electronic_176_false:"M0.159196292202072 11.569999999999999 L8.879196292202073 22.669999999999998 x M0 14.756791809052363 L3.016602980654799 12.145239309655771 L9.568392584404144 19.713208190947633 L6.551789603749345 22.324760690344224 L0 14.756791809052363z",Electronic_222_false:"M0.159196292202072 11.569999999999999 L8.879196292202073 22.669999999999998 x M0 14.756791809052363 L3.016602980654799 12.145239309655771 L9.568392584404144 19.713208190947633 L6.551789603749345 22.324760690344224 L0 14.756791809052363z",Electronic_176_true:"M2.829196292202072 9.45 L8.879196292202073 22.669999999999998 x M1.8146007846812022 12.459454157934989 L5.4232698675242474 10.757218143002643 L9.693791799722941 19.81054584206501 L6.085122716879898 21.512781856997357 L1.8146007846812022 12.459454157934989z",Electronic_222_true:"M2.829196292202072 9.45 L8.879196292202073 22.669999999999998 x M1.8146007846812022 12.459454157934989 L5.4232698675242474 10.757218143002643 L9.693791799722941 19.81054584206501 L6.085122716879898 21.512781856997357 L1.8146007846812022 12.459454157934989z",Electronic_179_false:"M0.20000000000000018 11 L8.09 20.66 x M0 13.950000000000001 L2.669999999999999 11.73 L8.23 18.42 L5.56 20.64 L0 13.950000000000001",Electronic_180_false:"M0.20000000000000018 11 L8.09 20.66 x M0 13.950000000000001 L2.669999999999999 11.73 L8.23 18.42 L5.56 20.64 L0 13.950000000000001",Electronic_179_true:"M2.8600000000000003 9.31 L8.09 20.64 x M2.3099956080981476 11.735932074070272 L5.448361953327562 10.255541354317078 L9.16000439190185 18.124067925929726 L6.021638046672435 19.604458645682918 L2.3099956080981476 11.735932074070272z",Electronic_180_true:"M2.8600000000000003 9.31 L8.09 20.64 x M2.3099956080981476 11.735932074070272 L5.448361953327562 10.255541354317078 L9.16000439190185 18.124067925929726 L6.021638046672435 19.604458645682918 L2.3099956080981476 11.735932074070272z",Electronic_159_false:"M0 10.940000000000001 L7.960000000000001 20.73",Electronic_160_false:"M0 10.940000000000001 L7.960000000000001 20.73",Electronic_159_true:"M3.1799999999999997 9.270000000000001 L7.960000000000001 20.94",Electronic_160_true:"M3.1799999999999997 9.270000000000001 L7.960000000000001 20.94",Electronic_232_false:"M0 10.940000000000001 L7.960000000000001 20.73",Electronic_233_false:"M0 10.940000000000001 L7.960000000000001 20.73",Electronic_232_true:"M3.1799999999999997 9.270000000000001 L7.960000000000001 20.94",Electronic_233_true:"M3.1799999999999997 9.270000000000001 L7.960000000000001 20.94",Electronic_234_false:"M0.20000000000000018 11 L8.09 20.66 x M0 13.96 L2.670000000000001 11.74 L8.23 18.43 L5.56 20.639999999999997 L0 13.96",Electronic_178_false:"M0.20000000000000018 11 L8.09 20.66 x M0 13.96 L2.670000000000001 11.74 L8.23 18.43 L5.56 20.639999999999997 L0 13.96",Electronic_234_true:"M2.62 9.33 L8.09 20.66 x M1.8799956080981497 12.145932074070272 L5.018361953327562 10.66554135431708 L8.73000439190185 18.534067925929723 L5.591638046672439 20.014458645682918 L1.8799956080981497 12.145932074070272z",Electronic_178_true:"M2.62 9.33 L8.09 20.66 x M1.8799956080981497 12.145932074070272 L5.018361953327562 10.66554135431708 L8.73000439190185 18.534067925929723 L5.591638046672439 20.014458645682918 L1.8799956080981497 12.145932074070272z",Electronic_235_false:"M0.5919902299758668 8.7 L9.741990229975867 18.92 x M0 11.292304449561307 L3.2198314115259024 8.427206601083684 L9.893980459951734 15.927695550438688 L6.674149048425832 18.79279339891631 L0 11.292304449561307z x M2.171990229975867 16.72 L2.631990229975867 16.33 L2.4319902299758667 16.17 L2.171990229975867 16.72 x M2.5619902299758666 16.19 L3.501990229975867 15.07",Electronic_236_false:"M0.5919902299758668 8.7 L9.741990229975867 18.92 x M0 11.292304449561307 L3.2198314115259024 8.427206601083684 L9.893980459951734 15.927695550438688 L6.674149048425832 18.79279339891631 L0 11.292304449561307z x M2.171990229975867 16.72 L2.631990229975867 16.33 L2.4319902299758667 16.17 L2.171990229975867 16.72 x M2.5619902299758666 16.19 L3.501990229975867 15.07",Electronic_235_true:"M6.901990229975867 7.33 L10.401990229975867 18.7 x M5.176002369000059 9.22148111127687 L9.296936184355111 7.958942205158228 L12.237978090951671 17.55851888872313 L8.11704427559662 18.82105779484177 L5.176002369000059 9.22148111127687z x M4.8919902299758675 15.06 L5.471990229975868 14.9 L5.351990229975867 14.67 L4.8919902299758675 15.06 x M5.461990229975866 14.74 L6.781990229975866 14.11",Electronic_236_true:"M6.901990229975867 7.33 L10.401990229975867 18.7 x M5.176002369000059 9.22148111127687 L9.296936184355111 7.958942205158228 L12.237978090951671 17.55851888872313 L8.11704427559662 18.82105779484177 L5.176002369000059 9.22148111127687z x M4.8919902299758675 15.06 L5.471990229975868 14.9 L5.351990229975867 14.67 L4.8919902299758675 15.06 x M5.461990229975866 14.74 L6.781990229975866 14.11",Electronic_268_false:"M0 10.94 L7.960000000000001 20.73",Electronic_269_false:"M0 10.94 L7.960000000000001 20.73",Electronic_268_true:"M3.3000000000000007 9.34 L7.9 21.03",Electronic_269_true:"M3.3000000000000007 9.34 L7.9 21.03",Electronic_163_false:"M0 10.94 L7.960000000000001 20.73",Electronic_164_false:"M0 10.94 L7.960000000000001 20.73",Electronic_163_true:"M3.3000000000000007 9.34 L7.9 21.03",Electronic_164_true:"M3.3000000000000007 9.34 L7.9 21.03"};var o=n(64);const r={Electronic_1:{shapeName:"Electronic_1",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="24.90" cy="3.17" r="2.93"/><circle class="cls-1" cx="3.19" cy="3.17" r="2.93"/><circle class="cls-1" cx="3.19" cy="24.88" r="2.93"/><circle class="cls-1" cx="24.87" cy="24.85" r="2.93"/><line class="cls-1" x1="22.30" y1="22.33" x2="5.70" y2="5.74"/><line class="cls-1" x1="5.93" y1="21.89" x2="13.87" y2="13.94"/><path class="cls-1" d = "M7.56,3.70h-0.16l-0.16-0.45H6.76l-0.16,0.45h-0.16l0.48-1.33h0.16ZM7.00,2.59l-0.18,0.52h0.38L7.00,2.59Z"/><path class="cls-1" d = "M20.78,3.00a0.36,0.36,0,0,1,0.22,0.10,0.28,0.28,0,0,1,0.08,0.21,0.34,0.34,0,0,1,-0.14,0.29,0.67,0.67,0,0,1,-0.39,0.10H20.14V2.37h0.40a0.57,0.57,0,0,1,0.34,0.09A0.29,0.29,0,0,1,21.00,2.71a0.27,0.27,0,0,1,-0.06,0.18,0.32,0.32,0,0,1,-0.17,0.10Zm-0.49-0.49V2.93h0.23a0.41,0.41,0,0,0,0.24,-0.06,0.18,0.18,0,0,0,0.09,-0.16,0.16,0.16,0,0,0,-0.09,-0.15,0.46,0.46,0,0,0,-0.24,-0.05Zm0.23,1.04A0.56,0.56,0,0,0,20.81,3.50a0.22,0.22,0,0,0,0.10,-0.19,0.19,0.19,0,0,0,-0.10,-0.17,0.58,0.58,0,0,0,-0.29,-0.06H20.29v0.48Z"/><path class="cls-1" d = "M21.15,25.17a0.49,0.49,0,0,1,-0.19,0.17,0.54,0.54,0,0,1,-0.26,0.06,0.57,0.57,0,0,1,-0.32,-0.09,0.58,0.58,0,0,1,-0.22,-0.25A0.83,0.83,0,0,1,20.10,24.72a0.82,0.82,0,0,1,0.07,-0.36,0.57,0.57,0,0,1,0.22,-0.24,0.59,0.59,0,0,1,0.32,-0.09,0.55,0.55,0,0,1,0.26,0.06,0.46,0.46,0,0,1,0.19,0.17l-0.120.09a0.39,0.39,0,0,0,-0.14,-0.13,0.42,0.42,0,0,0,-0.42,0.02,0.46,0.46,0,0,0,-0.16,0.19,0.68,0.68,0,0,0,-0.05,0.28,0.71,0.71,0,0,0,0.05,0.29,0.46,0.46,0,0,0,0.16,0.19,0.40,0.40,0,0,0,0.23,0.07,0.37,0.37,0,0,0,0.18,-0.05,0.44,0.44,0,0,0,0.15,-0.13Z"/><g class="cls-1"></g></g></svg>'},Electronic_2:{shapeName:"Electronic_2",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="24.90" cy="3.17" r="2.93"/><circle class="cls-1" cx="3.19" cy="3.17" r="2.93"/><circle class="cls-1" cx="3.19" cy="24.88" r="2.93"/><circle class="cls-1" cx="24.87" cy="24.85" r="2.93"/><line class="cls-1" x1="5.70" y1="22.33" x2="22.30" y2="5.74"/><line class="cls-1" x1="6.14" y1="5.96" x2="14.09" y2="13.91"/><path class="cls-1" d = "M7.56,3.70h-0.16l-0.16-0.45H6.76l-0.16,0.45h-0.16l0.48-1.33h0.16ZM7.00,2.59l-0.18,0.52h0.38L7.00,2.59Z"/><path class="cls-1" d = "M20.78,3.00a0.36,0.36,0,0,1,0.22,0.10,0.28,0.28,0,0,1,0.08,0.21,0.34,0.34,0,0,1,-0.14,0.29,0.67,0.67,0,0,1,-0.39,0.10H20.14V2.37h0.40a0.57,0.57,0,0,1,0.34,0.09A0.29,0.29,0,0,1,21.00,2.71a0.27,0.27,0,0,1,-0.06,0.18,0.32,0.32,0,0,1,-0.17,0.10Zm-0.49-0.49V2.93h0.23a0.41,0.41,0,0,0,0.24,-0.06,0.18,0.18,0,0,0,0.09,-0.16,0.16,0.16,0,0,0,-0.09,-0.15,0.46,0.46,0,0,0,-0.24,-0.05Zm0.23,1.04A0.56,0.56,0,0,0,20.81,3.50a0.22,0.22,0,0,0,0.10,-0.19,0.19,0.19,0,0,0,-0.10,-0.17,0.58,0.58,0,0,0,-0.29,-0.06H20.29v0.48Z"/><path class="cls-1" d = "M21.15,25.17a0.49,0.49,0,0,1,-0.19,0.17,0.54,0.54,0,0,1,-0.26,0.06,0.57,0.57,0,0,1,-0.32,-0.09,0.58,0.58,0,0,1,-0.22,-0.25A0.83,0.83,0,0,1,20.10,24.72a0.82,0.82,0,0,1,0.07,-0.36,0.57,0.57,0,0,1,0.22,-0.24,0.59,0.59,0,0,1,0.32,-0.09,0.55,0.55,0,0,1,0.26,0.06,0.46,0.46,0,0,1,0.19,0.17l-0.120.09a0.39,0.39,0,0,0,-0.14,-0.13,0.42,0.42,0,0,0,-0.42,0.02,0.46,0.46,0,0,0,-0.16,0.19,0.68,0.68,0,0,0,-0.05,0.28,0.71,0.71,0,0,0,0.05,0.29,0.46,0.46,0,0,0,0.16,0.19,0.40,0.40,0,0,0,0.23,0.07,0.37,0.37,0,0,0,0.18,-0.05,0.44,0.44,0,0,0,0.15,-0.13Z"/><g class="cls-1"></g></g></svg>'},Electronic_3:{shapeName:"Electronic_3",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="24.91" cy="3.22" r="2.93"/><circle class="cls-1" cx="3.20" cy="3.22" r="2.93"/><circle class="cls-1" cx="3.20" cy="24.93" r="2.93"/><circle class="cls-2" cx="24.88" cy="24.90" r="2.93"/><line class="cls-1" x1="5.71" y1="5.79" x2="22.31" y2="22.39"/><line class="cls-1" x1="22.08" y1="6.24" x2="14.14" y2="14.18"/><path class="cls-1" d = "M7.79,3.75h-0.16l-0.16-0.45H6.99l-0.16,0.45h-0.16l0.48-1.33h0.16ZM7.22,2.64l-0.18,0.52H7.42l-0.18-0.52Z"/><path class="cls-1" d = "M20.78,3.06a0.36,0.36,0,0,1,0.22,0.10,0.29,0.29,0,0,1,0.08,0.22,0.33,0.33,0,0,1,-0.14,0.28,0.64,0.64,0,0,1,-0.39,0.10H20.15V2.42H20.56a0.58,0.58,0,0,1,0.35,0.09,0.29,0.29,0,0,1,0.12,0.25,0.27,0.27,0,0,1,-0.06,0.18,0.33,0.33,0,0,1,-0.17,0.10Zm-0.48-0.49v0.42h0.23A0.44,0.44,0,0,0,20.78,2.93a0.19,0.19,0,0,0,0.08,-0.16A0.16,0.16,0,0,0,20.78,2.63a0.45,0.45,0,0,0,-0.24,-0.05Zm0.22,1.04a0.54,0.54,0,0,0,0.29,-0.07,0.22,0.22,0,0,0,0.10,-0.19,0.19,0.19,0,0,0,-0.10,-0.17,0.58,0.58,0,0,0,-0.29,-0.06H20.30v0.48Z"/><path class="cls-1" d = "M21.16,25.23a0.51,0.51,0,0,1,-0.19,0.17,0.54,0.54,0,0,1,-0.26,0.06,0.56,0.56,0,0,1,-0.32,-0.09,0.58,0.58,0,0,1,-0.22,-0.25,0.86,0.86,0,0,1,-0.07,-0.36,0.84,0.84,0,0,1,0.07,-0.36,0.57,0.57,0,0,1,0.22,-0.24,0.59,0.59,0,0,1,0.32,-0.08,0.55,0.55,0,0,1,0.26,0.06,0.52,0.52,0,0,1,0.19,0.17l-0.120.08a0.37,0.37,0,0,0,-0.14,-0.12,0.39,0.39,0,0,0,-0.18,-0.05,0.40,0.40,0,0,0,-0.23,0.07,0.44,0.44,0,0,0,-0.15,0.19,0.67,0.67,0,0,0,-0.06,0.28,0.70,0.70,0,0,0,0.06,0.29,0.44,0.44,0,0,0,0.15,0.19,0.39,0.39,0,0,0,0.23,0.07,0.37,0.37,0,0,0,0.18,-0.05,0.41,0.41,0,0,0,0.15,-0.13Z"/><g class="cls-1"></g></g></svg>'},Electronic_4:{shapeName:"Electronic_4",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="24.90" cy="3.17" r="2.93"/><circle class="cls-1" cx="3.19" cy="3.17" r="2.93"/><circle class="cls-1" cx="3.19" cy="24.88" r="2.93"/><circle class="cls-1" cx="24.87" cy="24.85" r="2.93"/><line class="cls-1" x1="22.30" y1="5.74" x2="5.70" y2="22.33"/><line class="cls-1" x1="21.85" y1="22.11" x2="13.91" y2="14.16"/><path class="cls-1" d = "M7.56,3.70h-0.16l-0.16-0.45H6.76l-0.16,0.45h-0.16l0.48-1.33h0.16ZM7.00,2.59l-0.18,0.52h0.38L7.00,2.59Z"/><path class="cls-1" d = "M20.78,3.00a0.36,0.36,0,0,1,0.22,0.10,0.28,0.28,0,0,1,0.08,0.21,0.34,0.34,0,0,1,-0.14,0.29,0.67,0.67,0,0,1,-0.39,0.10H20.14V2.37h0.40a0.57,0.57,0,0,1,0.34,0.09A0.29,0.29,0,0,1,21.00,2.71a0.27,0.27,0,0,1,-0.06,0.18,0.32,0.32,0,0,1,-0.17,0.10Zm-0.49-0.49V2.93h0.23a0.41,0.41,0,0,0,0.24,-0.06,0.18,0.18,0,0,0,0.09,-0.16,0.16,0.16,0,0,0,-0.09,-0.15,0.46,0.46,0,0,0,-0.24,-0.05Zm0.23,1.04A0.56,0.56,0,0,0,20.81,3.50a0.22,0.22,0,0,0,0.10,-0.19,0.19,0.19,0,0,0,-0.10,-0.17,0.58,0.58,0,0,0,-0.29,-0.06H20.29v0.48Z"/><path class="cls-1" d = "M21.15,25.17a0.49,0.49,0,0,1,-0.19,0.17,0.54,0.54,0,0,1,-0.26,0.06,0.57,0.57,0,0,1,-0.32,-0.09,0.58,0.58,0,0,1,-0.22,-0.25A0.83,0.83,0,0,1,20.10,24.72a0.82,0.82,0,0,1,0.07,-0.36,0.57,0.57,0,0,1,0.22,-0.24,0.59,0.59,0,0,1,0.32,-0.09,0.55,0.55,0,0,1,0.26,0.06,0.46,0.46,0,0,1,0.19,0.17l-0.120.09a0.39,0.39,0,0,0,-0.14,-0.13,0.42,0.42,0,0,0,-0.42,0.02,0.46,0.46,0,0,0,-0.16,0.19,0.68,0.68,0,0,0,-0.05,0.28,0.71,0.71,0,0,0,0.05,0.29,0.46,0.46,0,0,0,0.16,0.19,0.40,0.40,0,0,0,0.23,0.07,0.37,0.37,0,0,0,0.18,-0.05,0.44,0.44,0,0,0,0.15,-0.13Z"/><g class="cls-1"></g></g></svg>'},Electronic_5:{shapeName:"Electronic_5",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="25.25" cy="3.25" r="2.93"/><circle class="cls-1" cx="3.54" cy="3.25" r="2.93"/><circle class="cls-1" cx="3.54" cy="24.95" r="2.93"/><circle class="cls-2" cx="25.22" cy="24.93" r="2.93"/><line class="cls-1" x1="22.65" y1="22.41" x2="6.06" y2="5.82"/><line class="cls-1" x1="6.28" y1="21.97" x2="14.23" y2="14.02"/><path class="cls-1" d = "M8.13,3.78h-0.16l-0.16-0.45H7.33l-0.16,0.45h-0.16l0.48-1.33H7.66ZM7.57,2.67l-0.18,0.52h0.38l-0.18-0.52Z"/><path class="cls-1" d = "M21.13,3.08a0.36,0.36,0,0,1,0.22,0.10,0.28,0.28,0,0,1,0.08,0.21,0.33,0.33,0,0,1,-0.14,0.29,0.66,0.66,0,0,1,-0.39,0.10H20.50V2.45h0.40a0.58,0.58,0,0,1,0.35,0.09,0.30,0.30,0,0,1,0.12,0.25,0.27,0.27,0,0,1,-0.06,0.18,0.34,0.34,0,0,1,-0.17,0.10ZM20.65,2.59v0.42h0.23a0.41,0.41,0,0,0,0.24,-0.06,0.19,0.19,0,0,0,0.08,-0.16,0.16,0.16,0,0,0,-0.09,-0.15,0.46,0.46,0,0,0,-0.24,-0.05Zm0.22,1.04a0.56,0.56,0,0,0,0.29,-0.06,0.22,0.22,0,0,0,0.10,-0.19,0.19,0.19,0,0,0,-0.10,-0.17,0.57,0.57,0,0,0,-0.29,-0.06H20.65v0.48Z"/><path class="cls-1" d = "M21.51,25.25a0.48,0.48,0,0,1,-0.19,0.17,0.55,0.55,0,0,1,-0.26,0.06A0.57,0.57,0,0,1,20.53,25.16a0.91,0.91,0,0,1,0.00,-0.72,0.56,0.56,0,0,1,0.22,-0.24,0.58,0.58,0,0,1,0.32,-0.09,0.57,0.57,0,0,1,0.26,0.06,0.47,0.47,0,0,1,0.18,0.17l-0.120.09a0.39,0.39,0,0,0,-0.14,-0.13,0.41,0.41,0,0,0,-0.18,-0.05,0.40,0.40,0,0,0,-0.23,0.07,0.44,0.44,0,0,0,-0.16,0.19,0.72,0.72,0,0,0,-0.05,0.28,0.74,0.74,0,0,0,0.05,0.29,0.46,0.46,0,0,0,0.16,0.19,0.40,0.40,0,0,0,0.23,0.07,0.37,0.37,0,0,0,0.18,-0.05,0.42,0.42,0,0,0,0.15,-0.13Z"/><g class="cls-1"></g></g></svg>'},Electronic_6:{shapeName:"Electronic_6",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="24.79" cy="3.12" r="2.93"/><circle class="cls-1" cx="3.08" cy="3.12" r="2.93"/><circle class="cls-1" cx="3.08" cy="24.83" r="2.93"/><circle class="cls-2" cx="24.76" cy="24.80" r="2.93"/><line class="cls-1" x1="14.07" y1="14.15" x2="22.19" y2="22.28"/><line class="cls-1" x1="21.97" y1="6.13" x2="14.02" y2="14.07"/><path class="cls-1" d = "M7.67,3.65h-0.16l-0.16-0.45H6.88l-0.16,0.45H6.56l0.48-1.33h0.16ZM7.11,2.54,6.93,3.06h0.38l-0.18-0.52Z"/><path class="cls-1" d = "M20.67,2.95a0.36,0.36,0,0,1,0.22,0.10,0.29,0.29,0,0,1,0.08,0.21,0.33,0.33,0,0,1,-0.14,0.29,0.66,0.66,0,0,1,-0.39,0.10H20.04V2.32h0.40A0.58,0.58,0,0,1,20.78,2.41a0.30,0.30,0,0,1,0.12,0.25,0.28,0.28,0,0,1,-0.06,0.18,0.34,0.34,0,0,1,-0.17,0.10ZM20.19,2.46v0.42h0.23a0.41,0.41,0,0,0,0.24,-0.06,0.19,0.19,0,0,0,0.08,-0.16,0.16,0.16,0,0,0,-0.09,-0.15,0.46,0.46,0,0,0,-0.24,-0.05Zm0.22,1.04a0.54,0.54,0,0,0,0.29,-0.07,0.21,0.21,0,0,0,0.10,-0.19,0.19,0.19,0,0,0,-0.10,-0.17,0.57,0.57,0,0,0,-0.29,-0.06H20.19V3.50Z"/><path class="cls-1" d = "M21.05,25.12a0.48,0.48,0,0,1,-0.19,0.17,0.55,0.55,0,0,1,-0.26,0.06,0.56,0.56,0,0,1,-0.32,-0.09,0.57,0.57,0,0,1,-0.22,-0.25,0.86,0.86,0,0,1,-0.07,-0.36,0.84,0.84,0,0,1,0.07,-0.36,0.56,0.56,0,0,1,0.22,-0.24,0.58,0.58,0,0,1,0.32,-0.09,0.54,0.54,0,0,1,0.26,0.06,0.47,0.47,0,0,1,0.18,0.17l-0.120.09a0.37,0.37,0,0,0,-0.14,-0.13,0.41,0.41,0,0,0,-0.18,-0.05,0.42,0.42,0,0,0,-0.23,0.07,0.46,0.46,0,0,0,-0.16,0.19,0.70,0.70,0,0,0,-0.05,0.28A0.73,0.73,0,0,0,20.21,24.94a0.47,0.47,0,0,0,0.16,0.20,0.40,0.40,0,0,0,0.23,0.07A0.40,0.40,0,0,0,20.78,25.16a0.44,0.44,0,0,0,0.15,-0.13Z"/><g class="cls-1"></g></g></svg>'},Electronic_7:{shapeName:"Electronic_7",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="24.85" cy="3.18" r="2.93"/><circle class="cls-1" cx="3.14" cy="3.18" r="2.93"/><circle class="cls-1" cx="3.14" cy="24.89" r="2.93"/><circle class="cls-2" cx="24.82" cy="24.86" r="2.93"/><line class="cls-1" x1="14.12" y1="14.21" x2="22.25" y2="22.34"/><line class="cls-1" x1="14.04" y1="14.17" x2="6.10" y2="22.12"/><path class="cls-1" d = "M7.73,3.72H7.57l-0.16-0.45h-0.48L6.78,3.72h-0.16l0.48-1.33h0.16Zm-0.56-1.11-0.18,0.52h0.38l-0.18-0.52Z"/><path class="cls-1" d = "M20.73,3.01a0.36,0.36,0,0,1,0.22,0.10,0.29,0.29,0,0,1,0.08,0.21,0.33,0.33,0,0,1,-0.14,0.28,0.66,0.66,0,0,1,-0.39,0.10H20.09V2.38H20.50a0.57,0.57,0,0,1,0.34,0.09,0.29,0.29,0,0,1,0.12,0.25,0.27,0.27,0,0,1,-0.06,0.18,0.31,0.31,0,0,1,-0.17,0.10Zm-0.49-0.49v0.42h0.23a0.44,0.44,0,0,0,0.24,-0.06,0.19,0.19,0,0,0,0.09,-0.16,0.16,0.16,0,0,0,-0.09,-0.14,0.46,0.46,0,0,0,-0.24,-0.05Zm0.23,1.04a0.54,0.54,0,0,0,0.29,-0.07,0.22,0.22,0,0,0,0.10,-0.19,0.18,0.18,0,0,0,-0.10,-0.17,0.58,0.58,0,0,0,-0.29,-0.06H20.25v0.48Z"/><path class="cls-1" d = "M21.11,25.18a0.49,0.49,0,0,1,-0.19,0.17,0.54,0.54,0,0,1,-0.26,0.06,0.57,0.57,0,0,1,-0.32,-0.09,0.58,0.58,0,0,1,-0.22,-0.25,0.83,0.83,0,0,1,-0.07,-0.36,0.81,0.81,0,0,1,0.07,-0.36,0.54,0.54,0,0,1,0.22,-0.24,0.59,0.59,0,0,1,0.32,-0.09,0.53,0.53,0,0,1,0.26,0.06,0.46,0.46,0,0,1,0.19,0.17l-0.120.09a0.35,0.35,0,0,0,-0.14,-0.13,0.41,0.41,0,0,0,-0.19,-0.05,0.41,0.41,0,0,0,-0.22,0.07,0.44,0.44,0,0,0,-0.16,0.19,0.67,0.67,0,0,0,-0.05,0.28,0.70,0.70,0,0,0,0.05,0.29,0.47,0.47,0,0,0,0.16,0.20,0.39,0.39,0,0,0,0.22,0.07,0.40,0.40,0,0,0,0.18,-0.05,0.46,0.46,0,0,0,0.15,-0.13Z"/><g class="cls-1"></g></g></svg>'},Electronic_8:{shapeName:"Electronic_8",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.15" cy="9.18" r="6.32"/><circle class="cls-1" cx="14.15" cy="18.65" r="6.32"/><line class="cls-1" x1="14.15" x2="14.15" y2="2.84"/><line class="cls-1" x1="14.15" y1="24.93" x2="14.15" y2="28.00"/><line class="cls-1" x1="14.15" y1="8.64" x2="14.15" y2="12.33"/><line class="cls-1" x1="14.16" y1="8.65" x2="28.04" y2="8.65"/><g class="cls-1"></g></g></svg>'},Electronic_9:{shapeName:"Electronic_9",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><polyline class="cls-1" points="0.09 1.80 14.09 26.05 28.09 1.80"/><g class="cls-1"></g></g></svg>'},Electronic_10:{shapeName:"Electronic_10",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="13.98" cy="14.00" r="4.66"/><circle class="cls-1" cx="23.34" cy="14.00" r="4.66"/><circle class="cls-1" cx="4.66" cy="14.00" r="4.66"/><g class="cls-1"></g></g></svg>'},Electronic_11:{shapeName:"Electronic_11",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="4.66" cy="14.00" r="4.66"/><line class="cls-1" x1="7.90" y1="10.66" x2="1.34" y2="17.27"/><line class="cls-1" x1="1.31" y1="10.65" x2="7.93" y2="17.32"/><circle class="cls-1" cx="14.02" cy="14.00" r="4.66"/><line class="cls-1" x1="17.25" y1="10.66" x2="10.69" y2="17.27"/><line class="cls-1" x1="10.66" y1="10.65" x2="17.28" y2="17.32"/><circle class="cls-1" cx="23.34" cy="14.00" r="4.66"/><line class="cls-1" x1="26.58" y1="10.66" x2="20.01" y2="17.27"/><line class="cls-1" x1="19.98" y1="10.65" x2="26.61" y2="17.32"/><g class="cls-1"></g></g></svg>'},Electronic_12:{shapeName:"Electronic_12",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="0.22" x2="0.22" y2="28.00"/><line class="cls-1" x1="14.11" x2="14.11" y2="28.00"/><line class="cls-1" x1="27.78" x2="27.78" y2="28.00"/><g class="cls-1"></g></g></svg>'},ThreePosSwitch:{shapeName:"ThreePosSwitch",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="10.38" y1="8.47" x2="10.38" y2="19.52"/><line class="cls-1" x1="8.44" y1="9.81" x2="8.44" y2="18.09"/><line class="cls-1" x1="19.71" x2="19.71" y2="8.77"/><line class="cls-1" x1="6.35" y1="11.19" x2="6.35" y2="16.71"/><line class="cls-1" x1="13.62" y1="11.19" x2="13.62" y2="16.71"/><line class="cls-1" x1="13.61" y1="13.93" x2="10.46" y2="13.93"/><line class="cls-1" x1="19.76" y1="20.56" x2="19.76" y2="28.00"/><circle class="cls-1" cx="19.79" cy="10.53" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_13:{shapeName:"Electronic_13",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="10.38" y1="8.47" x2="10.38" y2="19.52"/><line class="cls-1" x1="8.44" y1="9.81" x2="8.44" y2="18.09"/><line class="cls-1" x1="19.71" x2="19.71" y2="8.77"/><line class="cls-1" x1="6.35" y1="11.19" x2="6.35" y2="16.71"/><line class="cls-1" x1="13.62" y1="11.19" x2="13.62" y2="16.71"/><line class="cls-1" x1="13.61" y1="13.93" x2="10.46" y2="13.93"/><line class="cls-1" x1="19.76" y1="20.56" x2="19.76" y2="28.00"/><line class="cls-1" x1="14.63" y1="8.84" x2="19.82" y2="20.81"/><circle class="cls-1" cx="19.79" cy="10.53" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_14:{shapeName:"Electronic_14",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="10.40" y1="8.47" x2="10.40" y2="19.52"/><line class="cls-1" x1="8.46" y1="9.81" x2="8.46" y2="18.09"/><line class="cls-1" x1="19.69" x2="19.69" y2="8.64"/><line class="cls-1" x1="6.37" y1="11.19" x2="6.37" y2="16.71"/><line class="cls-1" x1="13.64" y1="11.19" x2="13.64" y2="16.71"/><line class="cls-1" x1="13.63" y1="13.93" x2="10.48" y2="13.93"/><line class="cls-1" x1="19.74" y1="20.56" x2="19.74" y2="28.00"/><line class="cls-1" x1="17.31" y1="7.89" x2="19.67" y2="20.72"/><circle class="cls-1" cx="19.77" cy="10.53" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_15:{shapeName:"Electronic_15",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="10.44" y1="8.47" x2="10.44" y2="19.52"/><line class="cls-1" x1="8.49" y1="9.81" x2="8.49" y2="18.09"/><line class="cls-1" x1="19.65" x2="19.65" y2="8.64"/><line class="cls-1" x1="6.41" y1="11.19" x2="6.41" y2="16.71"/><line class="cls-1" x1="13.68" y1="11.19" x2="13.68" y2="16.71"/><line class="cls-1" x1="13.67" y1="13.93" x2="10.52" y2="13.93"/><line class="cls-1" x1="19.71" y1="20.56" x2="19.71" y2="28.00"/><line class="cls-1" x1="12.85" y1="9.45" x2="19.80" y2="20.48"/><circle class="cls-1" cx="19.74" cy="10.53" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_16:{shapeName:"Electronic_16",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="3.94" cy="13.94" r="3.72"/><line class="cls-1" x1="3.94" y1="17.80" x2="3.94" y2="21.52"/><line class="cls-1" x1="3.94" y1="6.48" x2="3.94" y2="17.80"/><circle class="cls-1" cx="14.00" cy="13.94" r="3.72"/><line class="cls-1" x1="14.00" y1="17.80" x2="14.00" y2="21.52"/><line class="cls-1" x1="14.00" y1="6.48" x2="14.00" y2="17.80"/><circle class="cls-1" cx="24.06" cy="13.94" r="3.72"/><line class="cls-1" x1="24.06" y1="17.80" x2="24.06" y2="21.52"/><line class="cls-1" x1="24.06" y1="6.48" x2="24.06" y2="17.80"/><g class="cls-1"></g></g></svg>'},Electronic_17:{shapeName:"Electronic_17",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="3.66" cy="6.98" r="3.48"/><circle class="cls-1" cx="3.66" cy="13.96" r="3.48"/><circle class="cls-1" cx="3.66" cy="20.94" r="3.48"/><line class="cls-1" x1="3.66" x2="3.66" y2="27.89"/><circle class="cls-1" cx="24.34" cy="6.98" r="3.48"/><circle class="cls-1" cx="24.34" cy="13.96" r="3.48"/><circle class="cls-1" cx="24.34" cy="20.94" r="3.48"/><line class="cls-1" x1="24.34" x2="24.34" y2="27.89"/><circle class="cls-1" cx="14.00" cy="6.98" r="3.48"/><circle class="cls-1" cx="14.00" cy="13.96" r="3.48"/><circle class="cls-1" cx="14.00" cy="20.94" r="3.48"/><line class="cls-1" x1="14.00" x2="14.00" y2="27.89"/><g class="cls-1"></g></g></svg>'},Electronic_18:{shapeName:"Electronic_18",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="3.94" cy="10.19" r="3.72"/><circle class="cls-1" cx="3.94" cy="17.66" r="3.72"/><line class="cls-1" x1="3.94" y1="14.05" x2="3.94" y2="25.18"/><line class="cls-1" x1="3.94" y1="2.73" x2="3.94" y2="14.05"/><circle class="cls-1" cx="24.06" cy="10.28" r="3.72"/><circle class="cls-1" cx="24.06" cy="17.75" r="3.72"/><line class="cls-1" x1="24.06" y1="14.14" x2="24.06" y2="25.27"/><line class="cls-1" x1="24.06" y1="2.82" x2="24.06" y2="14.14"/><circle class="cls-1" cx="14.21" cy="10.28" r="3.72"/><circle class="cls-1" cx="14.21" cy="17.75" r="3.72"/><line class="cls-1" x1="14.21" y1="14.14" x2="14.21" y2="25.27"/><line class="cls-1" x1="14.21" y1="2.82" x2="14.21" y2="14.14"/><g class="cls-1"></g></g></svg>'},Electronic_19:{shapeName:"Electronic_19",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="2.52" cy="4.66" r="2.33"/><circle class="cls-1" cx="2.52" cy="9.33" r="2.33"/><circle class="cls-1" cx="2.52" cy="14.01" r="2.33"/><circle class="cls-1" cx="2.52" cy="18.67" r="2.33"/><circle class="cls-1" cx="2.52" cy="23.34" r="2.33"/><line class="cls-1" x1="2.52" y1="25.67" x2="2.52" y2="28.00"/><line class="cls-1" x1="2.51" x2="2.51" y2="2.33"/><line class="cls-1" x1="2.52" y1="2.33" x2="2.52" y2="25.67"/><circle class="cls-1" cx="25.48" cy="4.66" r="2.33"/><circle class="cls-1" cx="25.48" cy="9.33" r="2.33"/><circle class="cls-1" cx="25.48" cy="14.01" r="2.33"/><circle class="cls-1" cx="25.48" cy="18.67" r="2.33"/><circle class="cls-1" cx="25.48" cy="23.34" r="2.33"/><line class="cls-1" x1="25.48" y1="25.67" x2="25.48" y2="28.00"/><line class="cls-1" x1="25.47" x2="25.47" y2="2.33"/><line class="cls-1" x1="25.48" y1="2.33" x2="25.48" y2="25.67"/><circle class="cls-1" cx="14.00" cy="4.66" r="2.33"/><circle class="cls-1" cx="14.00" cy="9.33" r="2.33"/><circle class="cls-1" cx="14.00" cy="14.01" r="2.33"/><circle class="cls-1" cx="14.00" cy="18.67" r="2.33"/><circle class="cls-1" cx="14.00" cy="23.34" r="2.33"/><line class="cls-1" x1="14.00" y1="25.67" x2="14.00" y2="28.00"/><line class="cls-1" x1="13.99" x2="13.99" y2="2.33"/><line class="cls-1" x1="14.00" y1="2.33" x2="14.00" y2="25.67"/><g class="cls-1"></g></g></svg>'},Electronic_20:{shapeName:"Electronic_20",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="2.86" cy="5.59" r="2.80"/><circle class="cls-1" cx="2.86" cy="11.20" r="2.80"/><circle class="cls-1" cx="2.86" cy="16.81" r="2.80"/><circle class="cls-1" cx="2.86" cy="22.40" r="2.80"/><line class="cls-1" x1="2.86" y1="25.20" x2="2.86" y2="28.00"/><line class="cls-1" x1="2.85" x2="2.85" y2="2.80"/><line class="cls-1" x1="2.86" y1="2.80" x2="2.86" y2="24.82"/><circle class="cls-1" cx="25.14" cy="5.59" r="2.80"/><circle class="cls-1" cx="25.14" cy="11.20" r="2.80"/><circle class="cls-1" cx="25.14" cy="16.81" r="2.80"/><circle class="cls-1" cx="25.14" cy="22.40" r="2.80"/><line class="cls-1" x1="25.13" x2="25.13" y2="2.80"/><line class="cls-1" x1="25.14" y1="2.80" x2="25.14" y2="27.89"/><circle class="cls-1" cx="13.98" cy="5.59" r="2.80"/><circle class="cls-1" cx="13.98" cy="11.20" r="2.80"/><circle class="cls-1" cx="13.98" cy="16.81" r="2.80"/><circle class="cls-1" cx="13.98" cy="22.40" r="2.80"/><line class="cls-1" x1="13.97" x2="13.97" y2="2.80"/><line class="cls-1" x1="13.98" y1="2.80" x2="13.98" y2="27.89"/><g class="cls-1"></g></g></svg>'},Electronic_21:{shapeName:"Electronic_21",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.21" y1="25.71" x2="14.21" y2="28"/><circle class="cls-1" cx="14.21" cy="12.53" r="5.22"/><circle class="cls-1" cx="14.21" cy="20.36" r="5.22"/><polygon class="cls-1" points="14.21 18.90 12.01 22.71 16.41 22.71 14.21 18.90"/><path class="cls-1" d = "M14.28,2.19c0.110.09,0.22,0.18,0.32,0.27C17.10,4.57,18.40,7.66,19.20,10.94"/><line class="cls-1" x1="14.27" y1="0.10" x2="14.27" y2="2.19"/><line class="cls-1" x1="14.04" y1="11.73" x2="14.04" y2="14.72"/><line class="cls-1" x1="16.03" y1="10.34" x2="14.04" y2="11.76"/><line class="cls-1" x1="14.05" y1="11.76" x2="12.05" y2="10.34"/><circle class="cls-1" cx="14.04" cy="11.71" r="0.22"/><line class="cls-1" x1="14.04" y1="11.74" x2="16.37" y2="11.74"/><g class="cls-1"></g></g></svg>'},Electronic_22:{shapeName:"Electronic_22",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="2.15" cy="4.01" r="2.00"/><circle class="cls-1" cx="2.15" cy="8.02" r="2.00"/><circle class="cls-1" cx="2.15" cy="12.02" r="2.00"/><circle class="cls-1" cx="2.15" cy="16.02" r="2.00"/><circle class="cls-1" cx="2.15" cy="20.01" r="2.00"/><circle class="cls-1" cx="2.15" cy="24.01" r="2.00"/><line class="cls-1" x1="2.15" y1="26.00" x2="2.15" y2="28.00"/><line class="cls-1" x1="2.14" y1="0.01" x2="2.14" y2="2.01"/><line class="cls-1" x1="2.15" y1="2.01" x2="2.15" y2="26.00"/><circle class="cls-1" cx="25.85" cy="3.99" r="2.00"/><circle class="cls-1" cx="25.85" cy="8.00" r="2.00"/><circle class="cls-1" cx="25.85" cy="12.01" r="2.00"/><circle class="cls-1" cx="25.85" cy="16.00" r="2.00"/><circle class="cls-1" cx="25.85" cy="20.00" r="2.00"/><circle class="cls-1" cx="25.85" cy="23.99" r="2.00"/><line class="cls-1" x1="25.85" y1="25.99" x2="25.85" y2="27.99"/><line class="cls-1" x1="25.84" x2="25.84" y2="2.00"/><line class="cls-1" x1="25.85" y1="2.00" x2="25.85" y2="25.99"/><circle class="cls-1" cx="14.00" cy="3.99" r="2.00"/><circle class="cls-1" cx="14.00" cy="8.00" r="2.00"/><circle class="cls-1" cx="14.00" cy="12.01" r="2.00"/><circle class="cls-1" cx="14.00" cy="16.00" r="2.00"/><circle class="cls-1" cx="14.00" cy="20.00" r="2.00"/><circle class="cls-1" cx="14.00" cy="23.99" r="2.00"/><line class="cls-1" x1="14.00" y1="25.99" x2="14.00" y2="27.99"/><line class="cls-1" x1="13.99" x2="13.99" y2="2.00"/><line class="cls-1" x1="14.00" y1="2.00" x2="14.00" y2="25.99"/><g class="cls-1"></g></g></svg>'},Electronic_23:{shapeName:"Electronic_23",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="8.91" r="6.32"/><line class="cls-1" x1="14.00" y1="0.05" x2="14.00" y2="2.57"/><circle class="cls-1" cx="8.97" cy="18.60" r="6.32"/><line class="cls-1" x1="8.88" y1="25.00" x2="8.88" y2="27.95"/><circle class="cls-1" cx="19.03" cy="18.60" r="6.32"/><line class="cls-1" x1="19.03" y1="25.00" x2="19.03" y2="27.95"/><polygon class="cls-1" points="8.97 16.28 6.31 20.89 11.63 20.89 8.97 16.28"/><line class="cls-1" x1="19.42" y1="17.32" x2="19.42" y2="22.10"/><line class="cls-1" x1="22.60" y1="15.10" x2="19.41" y2="17.36"/><line class="cls-1" x1="19.43" y1="17.36" x2="16.23" y2="15.10"/><line class="cls-1" x1="14.00" y1="7.64" x2="14.00" y2="12.41"/><line class="cls-1" x1="17.19" y1="5.41" x2="13.99" y2="7.67"/><line class="cls-1" x1="14.01" y1="7.67" x2="10.81" y2="5.41"/><g class="cls-1"></g></g></svg>'},Electronic_24:{shapeName:"Electronic_24",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="8.91" r="6.32"/><line class="cls-1" x1="14.00" y1="0.05" x2="14.00" y2="2.57"/><circle class="cls-1" cx="8.97" cy="18.60" r="6.32"/><line class="cls-1" x1="8.88" y1="25.00" x2="8.88" y2="27.95"/><circle class="cls-1" cx="19.03" cy="18.60" r="6.32"/><line class="cls-1" x1="19.03" y1="25.00" x2="19.03" y2="27.95"/><polygon class="cls-1" points="19.04 16.28 16.38 20.89 21.70 20.89 19.04 16.28"/><line class="cls-1" x1="8.86" y1="17.87" x2="8.86" y2="22.64"/><line class="cls-1" x1="12.05" y1="15.64" x2="8.85" y2="17.90"/><line class="cls-1" x1="8.87" y1="17.90" x2="5.68" y2="15.64"/><line class="cls-1" x1="14.00" y1="7.64" x2="14.00" y2="12.41"/><line class="cls-1" x1="17.19" y1="5.41" x2="13.99" y2="7.67"/><line class="cls-1" x1="14.01" y1="7.67" x2="10.81" y2="5.41"/><g class="cls-1"></g></g></svg>'},Electronic_25:{shapeName:"Electronic_25",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="8.97" r="6.32"/><line class="cls-1" x1="14.00" y1="0.11" x2="14.00" y2="2.63"/><circle class="cls-1" cx="8.97" cy="18.66" r="6.32"/><line class="cls-1" x1="8.88" y1="25.06" x2="8.88" y2="28.01"/><circle class="cls-1" cx="19.03" cy="18.66" r="6.32"/><line class="cls-1" x1="19.03" y1="25.06" x2="19.03" y2="28.01"/><polygon class="cls-1" points="14.00 6.00 11.34 10.61 16.66 10.61 14.00 6.00"/><line class="cls-1" x1="8.86" y1="17.93" x2="8.86" y2="22.71"/><line class="cls-1" x1="12.05" y1="15.71" x2="8.85" y2="17.96"/><line class="cls-1" x1="8.87" y1="17.96" x2="5.68" y2="15.71"/><line class="cls-1" x1="19.03" y1="17.98" x2="19.03" y2="22.75"/><line class="cls-1" x1="22.21" y1="15.75" x2="19.02" y2="18.01"/><line class="cls-1" x1="19.04" y1="18.01" x2="15.84" y2="15.75"/><g class="cls-1"></g></g></svg>'},Electronic_26:{shapeName:"Electronic_26",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="8.96" r="6.32"/><line class="cls-1" x1="14.00" y1="0.10" x2="14.00" y2="2.62"/><circle class="cls-1" cx="8.97" cy="18.65" r="6.32"/><line class="cls-1" x1="8.88" y1="25.05" x2="8.88" y2="28.00"/><circle class="cls-1" cx="19.03" cy="18.65" r="6.32"/><line class="cls-1" x1="19.03" y1="25.05" x2="19.03" y2="28.00"/><g class="cls-1"></g></g></svg>'},Electronic_27:{shapeName:"Electronic_27",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="8.91" r="6.32"/><line class="cls-1" x1="14.00" y1="0.05" x2="14.00" y2="2.57"/><circle class="cls-1" cx="8.97" cy="18.60" r="6.32"/><line class="cls-1" x1="8.88" y1="25.00" x2="8.88" y2="27.95"/><circle class="cls-1" cx="19.03" cy="18.60" r="6.32"/><line class="cls-1" x1="19.03" y1="25.00" x2="19.03" y2="27.95"/><polygon class="cls-1" points="8.97 16.28 6.31 20.89 11.63 20.89 8.97 16.28"/><line class="cls-1" x1="13.73" y1="7.64" x2="13.73" y2="12.41"/><line class="cls-1" x1="16.92" y1="5.41" x2="13.72" y2="7.67"/><line class="cls-1" x1="13.74" y1="7.67" x2="10.55" y2="5.41"/><line class="cls-1" x1="13.73" y1="7.65" x2="17.45" y2="7.65"/><circle class="cls-1" cx="13.84" cy="7.54" r="0.36"/><line class="cls-1" x1="19.42" y1="17.32" x2="19.42" y2="22.10"/><line class="cls-1" x1="22.60" y1="15.10" x2="19.41" y2="17.36"/><line class="cls-1" x1="19.43" y1="17.36" x2="16.23" y2="15.10"/><g class="cls-1"></g></g></svg>'},Electronic_28:{shapeName:"Electronic_28",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="8.91" r="6.32"/><line class="cls-1" x1="14.00" y1="0.05" x2="14.00" y2="2.57"/><circle class="cls-1" cx="8.97" cy="18.60" r="6.32"/><line class="cls-1" x1="8.88" y1="25.00" x2="8.88" y2="27.95"/><circle class="cls-1" cx="19.03" cy="18.60" r="6.32"/><line class="cls-1" x1="19.03" y1="25.00" x2="19.03" y2="27.95"/><polygon class="cls-1" points="8.97 16.28 6.31 20.89 11.63 20.89 8.97 16.28"/><line class="cls-1" x1="13.73" y1="7.64" x2="13.73" y2="12.41"/><line class="cls-1" x1="16.92" y1="5.41" x2="13.72" y2="7.67"/><line class="cls-1" x1="13.74" y1="7.67" x2="10.55" y2="5.41"/><line class="cls-1" x1="13.73" y1="7.65" x2="17.45" y2="7.65"/><circle class="cls-1" cx="13.84" cy="7.54" r="0.36"/><line class="cls-1" x1="19.42" y1="17.32" x2="19.42" y2="22.10"/><line class="cls-1" x1="22.60" y1="15.10" x2="19.41" y2="17.36"/><line class="cls-1" x1="19.43" y1="17.36" x2="16.23" y2="15.10"/><polygon class="cls-2" points="25.17 8.43 20.65 9.15 22.65 12.25 25.17 8.43"/><line class="cls-1" x1="2.91" y1="22.77" x2="23.90" y2="9.25"/><g class="cls-1"></g></g></svg>'},Electronic_29:{shapeName:"Electronic_29",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="8.91" r="6.32"/><line class="cls-1" x1="14.00" y1="0.05" x2="14.00" y2="2.57"/><circle class="cls-1" cx="8.97" cy="18.60" r="6.32"/><line class="cls-1" x1="8.88" y1="25.00" x2="8.88" y2="27.95"/><circle class="cls-1" cx="19.03" cy="18.60" r="6.32"/><line class="cls-1" x1="19.03" y1="25.00" x2="19.03" y2="27.95"/><polygon class="cls-1" points="19.03 16.28 16.37 20.89 21.69 20.89 19.03 16.28"/><line class="cls-1" x1="13.73" y1="7.64" x2="13.73" y2="12.41"/><line class="cls-1" x1="16.92" y1="5.41" x2="13.72" y2="7.67"/><line class="cls-1" x1="13.74" y1="7.67" x2="10.55" y2="5.41"/><line class="cls-1" x1="13.73" y1="7.65" x2="17.45" y2="7.65"/><circle class="cls-1" cx="13.84" cy="7.54" r="0.36"/><line class="cls-1" x1="8.71" y1="17.32" x2="8.71" y2="22.10"/><line class="cls-1" x1="11.89" y1="15.10" x2="8.70" y2="17.36"/><line class="cls-1" x1="8.71" y1="17.36" x2="5.52" y2="15.10"/><line class="cls-1" x1="8.71" y1="17.34" x2="12.42" y2="17.34"/><circle class="cls-1" cx="8.81" cy="17.22" r="0.36"/><g class="cls-1"></g></g></svg>'},Electronic_30:{shapeName:"Electronic_30",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="8.91" r="6.32"/><line class="cls-1" x1="14.00" y1="0.05" x2="14.00" y2="2.57"/><circle class="cls-1" cx="8.97" cy="18.60" r="6.32"/><line class="cls-1" x1="8.88" y1="25.00" x2="8.88" y2="27.95"/><circle class="cls-1" cx="19.03" cy="18.60" r="6.32"/><line class="cls-1" x1="19.03" y1="25.00" x2="19.03" y2="27.95"/><polygon class="cls-1" points="19.04 16.28 16.38 20.89 21.70 20.89 19.04 16.28"/><line class="cls-1" x1="8.86" y1="17.87" x2="8.86" y2="22.64"/><line class="cls-1" x1="12.05" y1="15.64" x2="8.85" y2="17.90"/><line class="cls-1" x1="8.87" y1="17.90" x2="5.68" y2="15.64"/><line class="cls-1" x1="14.00" y1="7.64" x2="14.00" y2="12.41"/><line class="cls-1" x1="17.19" y1="5.41" x2="13.99" y2="7.67"/><line class="cls-1" x1="14.01" y1="7.67" x2="10.81" y2="5.41"/><polygon class="cls-1" points="25.17 8.32 20.65 9.04 22.65 12.14 25.17 8.32"/><line class="cls-1" x1="2.91" y1="22.66" x2="23.90" y2="9.14"/><g class="cls-1"></g></g></svg>'},Electronic_31:{shapeName:"Electronic_31",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="8.91" r="6.32"/><line class="cls-1" x1="14.00" y1="0.05" x2="14.00" y2="2.57"/><circle class="cls-1" cx="8.97" cy="18.60" r="6.32"/><line class="cls-1" x1="8.88" y1="25.00" x2="8.88" y2="27.95"/><circle class="cls-1" cx="19.03" cy="18.60" r="6.32"/><line class="cls-1" x1="19.03" y1="25.00" x2="19.03" y2="27.95"/><polygon class="cls-1" points="8.97 16.28 6.31 20.89 11.63 20.89 8.97 16.28"/><line class="cls-1" x1="19.42" y1="17.32" x2="19.42" y2="22.10"/><line class="cls-1" x1="22.60" y1="15.10" x2="19.41" y2="17.36"/><line class="cls-1" x1="19.43" y1="17.36" x2="16.23" y2="15.10"/><line class="cls-1" x1="14.00" y1="7.64" x2="14.00" y2="12.41"/><line class="cls-1" x1="17.19" y1="5.41" x2="13.99" y2="7.67"/><line class="cls-1" x1="14.01" y1="7.67" x2="10.81" y2="5.41"/><polygon class="cls-1" points="25.17 8.32 20.65 9.04 22.65 12.14 25.17 8.32"/><line class="cls-1" x1="2.91" y1="22.66" x2="23.90" y2="9.14"/><g class="cls-1"></g></g></svg>'},Electronic_32:{shapeName:"Electronic_32",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="8.91" r="6.32"/><line class="cls-1" x1="14.00" y1="0.05" x2="14.00" y2="2.57"/><circle class="cls-1" cx="8.97" cy="18.60" r="6.32"/><line class="cls-1" x1="8.88" y1="25.00" x2="8.88" y2="27.95"/><circle class="cls-1" cx="19.03" cy="18.60" r="6.32"/><line class="cls-1" x1="19.03" y1="25.00" x2="19.03" y2="27.95"/><polygon class="cls-1" points="19.03 16.28 16.37 20.89 21.69 20.89 19.03 16.28"/><line class="cls-1" x1="13.73" y1="7.64" x2="13.73" y2="12.41"/><line class="cls-1" x1="16.92" y1="5.41" x2="13.72" y2="7.67"/><line class="cls-1" x1="13.74" y1="7.67" x2="10.55" y2="5.41"/><line class="cls-1" x1="13.73" y1="7.65" x2="17.45" y2="7.65"/><circle class="cls-1" cx="13.84" cy="7.54" r="0.36"/><line class="cls-1" x1="8.71" y1="17.32" x2="8.71" y2="22.10"/><line class="cls-1" x1="11.89" y1="15.10" x2="8.70" y2="17.36"/><line class="cls-1" x1="8.71" y1="17.36" x2="5.52" y2="15.10"/><line class="cls-1" x1="8.71" y1="17.34" x2="12.42" y2="17.34"/><circle class="cls-1" cx="8.81" cy="17.22" r="0.36"/><polygon class="cls-1" points="25.13 8.30 20.61 9.02 22.61 12.12 25.13 8.30"/><line class="cls-1" x1="2.87" y1="22.64" x2="23.86" y2="9.12"/><g class="cls-1"></g></g></svg>'},Electronic_33:{shapeName:"Electronic_33",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="8.79" cy="20.90" r="7.10"/><circle class="cls-1" cx="19.21" cy="20.90" r="7.10"/><circle class="cls-1" cx="14.01" cy="9.70" r="7.10"/><line class="cls-1" x1="14.01" x2="14.01" y2="2.61"/><g class="cls-1"></g></g></svg>'},Electronic_34:{shapeName:"Electronic_34",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><path class="cls-1" d = "M7.51,8.15H7.19l-0.50-1.40H5.14l-0.50,1.40H4.32L5.75,4.18h0.32ZM5.91,4.63l-0.66,1.84h1.34l-0.66-1.84Z"/><path class="cls-1" d = "M5.83,21.82a1.14,1.14,0,0,1,0.70,0.31A0.88,0.88,0,0,1,6.78,22.77a0.96,0.96,0,0,1,-0.41,0.83,1.99,1.99,0,0,1,-1.17,0.29H4.12V19.92h1.07a1.75,1.75,0,0,1,1.03,0.26,0.91,0.91,0,0,1,0.16,1.30,0.99,0.99,0,0,1,-0.55,0.32ZM4.43,20.21v1.45h0.80a1.27,1.27,0,0,0,0.76,-0.20,0.64,0.64,0,0,0,0.28,-0.55,0.58,0.58,0,0,0,-0.29,-0.52,1.53,1.53,0,0,0,-0.82,-0.18Zm0.73,3.39a1.77,1.77,0,0,0,0.97,-0.22A0.71,0.71,0,0,0,6.47,22.75a0.66,0.66,0,0,0,-0.33,-0.59,1.73,1.73,0,0,0,-0.91,-0.20H4.43v1.65Z"/><path class="cls-1" d = "M23.87,7.60a1.45,1.45,0,0,1,-0.54,0.46,1.64,1.64,0,0,1,-0.73,0.16,1.69,1.69,0,0,1,-0.93,-0.26,1.66,1.66,0,0,1,-0.62,-0.73,2.55,2.55,0,0,1,-0.22,-1.09,2.47,2.47,0,0,1,0.22,-1.07,1.64,1.64,0,0,1,0.62,-0.71,1.71,1.71,0,0,1,0.93,-0.25,1.63,1.63,0,0,1,0.72,0.16,1.49,1.49,0,0,1,0.55,0.46l-0.240.18a1.30,1.30,0,0,0,-0.47,-0.38,1.31,1.31,0,0,0,-0.58,-0.14,1.34,1.34,0,0,0,-1.28,0.83,2.24,2.24,0,0,0,-0.18,0.92,2.35,2.35,0,0,0,0.18,0.94,1.43,1.43,0,0,0,0.51,0.63,1.35,1.35,0,0,0,0.77,0.22,1.31,1.31,0,0,0,0.58,-0.13,1.22,1.22,0,0,0,0.46,-0.39Z"/><g class="cls-1"></g></g></svg>'},Electronic_35:{shapeName:"Electronic_35",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><path class="cls-1" d = "M21.66,9.41H21.33l-0.50-1.40H19.28L18.78,9.41H18.45l1.44-3.97H20.21Zm-1.61-3.52-0.66,1.84h1.34l-0.66-1.84Z"/><path class="cls-1" d = "M7.95,7.66a1.16,1.16,0,0,1,0.70,0.31,0.88,0.88,0,0,1,0.25,0.64,0.96,0.96,0,0,1,-0.41,0.83,2.00,2.00,0,0,1,-1.17,0.29H6.25V5.76h1.07a1.75,1.75,0,0,1,1.03,0.26,0.91,0.91,0,0,1,0.16,1.30,0.99,0.99,0,0,1,-0.55,0.32Zm-1.40-1.61v1.45h0.81a1.26,1.26,0,0,0,0.76,-0.20,0.64,0.64,0,0,0,0.28,-0.55A0.58,0.58,0,0,0,8.09,6.23a1.53,1.53,0,0,0,-0.82,-0.18Zm0.73,3.39a1.79,1.79,0,0,0,0.97,-0.22,0.71,0.71,0,0,0,0.34,-0.63,0.66,0.66,0,0,0,-0.33,-0.59,1.72,1.72,0,0,0,-0.91,-0.21H6.55v1.65Z"/><path class="cls-1" d = "M21.69,21.88a1.38,1.38,0,0,1,-0.54,0.46,1.63,1.63,0,0,1,-0.73,0.17,1.68,1.68,0,0,1,-0.93,-0.26,1.66,1.66,0,0,1,-0.62,-0.73,2.56,2.56,0,0,1,-0.22,-1.09,2.47,2.47,0,0,1,0.22,-1.07,1.65,1.65,0,0,1,0.62,-0.71A1.73,1.73,0,0,1,20.42,18.38a1.61,1.61,0,0,1,0.72,0.17,1.47,1.47,0,0,1,0.55,0.46l-0.240.18A1.24,1.24,0,0,0,21.00,18.81a1.29,1.29,0,0,0,-0.58,-0.14,1.34,1.34,0,0,0,-1.28,0.83,2.24,2.24,0,0,0,-0.18,0.92,2.35,2.35,0,0,0,0.18,0.94,1.40,1.40,0,0,0,0.51,0.63,1.39,1.39,0,0,0,1.35,0.09,1.22,1.22,0,0,0,0.46,-0.39Z"/><g class="cls-1"></g></g></svg>'},Electronic_36:{shapeName:"Electronic_36",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><path class="cls-1" d = "M22.53,9.84h-0.32l-0.50-1.40H20.16L19.65,9.84H19.33l1.44-3.97H21.09Zm-1.61-3.52-0.66,1.84h1.34l-0.66-1.84Z"/><path class="cls-1" d = "M8.17,20.56a1.16,1.16,0,0,1,0.70,0.31,0.88,0.88,0,0,1,0.25,0.64,0.96,0.96,0,0,1,-0.41,0.83,2.00,2.00,0,0,1,-1.17,0.29H6.46V18.67h1.07a1.75,1.75,0,0,1,1.03,0.26,0.91,0.91,0,0,1,0.16,1.30,0.99,0.99,0,0,1,-0.55,0.32Zm-1.40-1.61v1.45h0.81a1.26,1.26,0,0,0,0.76,-0.20,0.64,0.64,0,0,0,0.28,-0.55A0.58,0.58,0,0,0,8.31,19.14a1.53,1.53,0,0,0,-0.82,-0.18Zm0.73,3.39a1.79,1.79,0,0,0,0.97,-0.22,0.71,0.71,0,0,0,0.34,-0.63,0.66,0.66,0,0,0,-0.33,-0.59,1.72,1.72,0,0,0,-0.91,-0.21H6.77v1.65Z"/><path class="cls-1" d = "M9.22,9.19a1.38,1.38,0,0,1,-0.54,0.46,1.63,1.63,0,0,1,-0.73,0.17,1.68,1.68,0,0,1,-0.93,-0.26,1.66,1.66,0,0,1,-0.62,-0.73,2.56,2.56,0,0,1,-0.22,-1.09,2.47,2.47,0,0,1,0.22,-1.07,1.65,1.65,0,0,1,0.62,-0.71A1.73,1.73,0,0,1,7.96,5.69a1.61,1.61,0,0,1,0.72,0.17,1.47,1.47,0,0,1,0.55,0.46l-0.240.18A1.24,1.24,0,0,0,8.53,6.13a1.29,1.29,0,0,0,-0.58,-0.14,1.34,1.34,0,0,0,-1.28,0.83,2.24,2.24,0,0,0,-0.18,0.92,2.35,2.35,0,0,0,0.18,0.94,1.40,1.40,0,0,0,0.51,0.63,1.39,1.39,0,0,0,1.35,0.09,1.22,1.22,0,0,0,0.46,-0.39Z"/><g class="cls-1"></g></g></svg>'},Electronic_37:{shapeName:"Electronic_37",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28">\n  <defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs>\n  \n  <g id="运行水电厂">\n    <rect class="cls-1" y="5.40" width="28.00" height="17.20" />\n    <line class="cls-1" y1="10.45" x2="4.65" y2="10.45" />\n    <line class="cls-1" y1="8.04" x2="4.65" y2="8.04" />\n    <line class="cls-1" y1="12.85" x2="4.65" y2="12.85" />\n    <line class="cls-1" y1="15.23" x2="4.65" y2="15.23" />\n    <line class="cls-1" y1="17.61" x2="4.65" y2="17.61" />\n    <line class="cls-1" y1="19.99" x2="4.65" y2="19.99" />\n    <line class="cls-1" x1="23.35" y1="10.45" x2="28.00" y2="10.45" />\n    <line class="cls-1" x1="23.35" y1="8.04" x2="28.00" y2="8.04" />\n    <line class="cls-1" x1="23.35" y1="12.85" x2="28.00" y2="12.85" />\n    <line class="cls-1" x1="23.35" y1="15.23" x2="28.00" y2="15.23" />\n    <line class="cls-1" x1="23.35" y1="17.61" x2="28.00" y2="17.61" />\n    <line class="cls-1" x1="23.35" y1="19.99" x2="28.00" y2="19.99" />\n    <line class="cls-1" x1="17.51" y1="10.45" x2="22.16" y2="10.45" />\n    <line class="cls-1" x1="17.51" y1="8.04" x2="22.16" y2="8.04" />\n    <line class="cls-1" x1="17.51" y1="12.85" x2="22.16" y2="12.85" />\n    <line class="cls-1" x1="17.51" y1="15.23" x2="22.16" y2="15.23" />\n    <line class="cls-1" x1="17.51" y1="17.61" x2="22.16" y2="17.61" />\n    <line class="cls-1" x1="17.51" y1="19.99" x2="22.16" y2="19.99" />\n    <line class="cls-1" x1="16.31" y1="20.48" x2="17.51" y2="20.48" />\n    <line class="cls-1" x1="22.15" y1="20.48" x2="23.35" y2="20.48" />\n    <line class="cls-1" x1="23.35" y1="19.04" x2="23.35" y2="20.93" />\n    <line class="cls-1" x1="23.35" y1="16.67" x2="23.35" y2="18.55" />\n    <line class="cls-1" x1="23.79" y1="10.88" x2="23.79" y2="13.51" />\n    <line class="cls-1" x1="23.35" y1="14.00" x2="23.35" y2="15.89" />\n    <line class="cls-1" x1="20.13" y1="20.48" x2="21.33" y2="20.48" />\n    <line class="cls-1" x1="18.24" y1="20.48" x2="19.44" y2="20.48" />\n    <line class="cls-1" x1="5.84" y1="10.45" x2="10.49" y2="10.45" />\n    <line class="cls-1" x1="5.84" y1="8.04" x2="10.49" y2="8.04" />\n    <line class="cls-1" x1="5.84" y1="12.85" x2="10.49" y2="12.85" />\n    <line class="cls-1" x1="5.84" y1="15.23" x2="10.49" y2="15.23" />\n    <line class="cls-1" x1="5.84" y1="17.61" x2="10.49" y2="17.61" />\n    <line class="cls-1" x1="5.84" y1="19.99" x2="10.49" y2="19.99" />\n    <line class="cls-1" x1="11.68" y1="10.45" x2="16.33" y2="10.45" />\n    <line class="cls-1" x1="11.68" y1="8.04" x2="16.33" y2="8.04" />\n    <line class="cls-1" x1="11.68" y1="12.85" x2="16.33" y2="12.85" />\n    <line class="cls-1" x1="11.68" y1="15.23" x2="16.33" y2="15.23" />\n    <line class="cls-1" x1="11.68" y1="17.61" x2="16.33" y2="17.61" />\n    <line class="cls-1" x1="11.68" y1="19.99" x2="16.33" y2="19.99" />\n    <line class="cls-1" x1="1.42" y1="17.91" x2="1.80" y2="19.99" />\n    <line class="cls-1" x1="2.49" y1="17.72" x2="2.87" y2="19.80" />\n    <line class="cls-1" x1="3.61" y1="17.75" x2="3.99" y2="19.83" />\n    <line class="cls-1" x1="7.22" y1="8.40" x2="7.60" y2="10.47" />\n    <line class="cls-1" x1="8.29" y1="8.20" x2="8.67" y2="10.28" />\n    <line class="cls-1" x1="9.41" y1="8.23" x2="9.79" y2="10.31" />\n    <line class="cls-1" x1="13.15" y1="17.86" x2="13.54" y2="19.93" />\n    <line class="cls-1" x1="14.22" y1="17.66" x2="14.60" y2="19.74" />\n    <line class="cls-1" x1="15.34" y1="17.69" x2="15.72" y2="19.77" />\n    <line class="cls-1" x1="21.11" y1="8.40" x2="21.49" y2="10.47" />\n    <line class="cls-1" x1="22.18" y1="8.20" x2="22.56" y2="10.28" />\n    <line class="cls-1" x1="23.24" y1="8.01" x2="23.63" y2="10.09" />\n    <g class="cls-1"></g>\n  </g>\n</svg>'},Electronic_38:{shapeName:"Electronic_38",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><path class="cls-1" d = "M14.48,21.22H13.52V20.26h0.96ZM14.17,17.16H13.83L13.77,6.78h0.46Z"/><g class="cls-1"></g></g></svg>'},Electronic_39:{shapeName:"Electronic_39",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="3.94" cy="13.94" r="3.72"/><line class="cls-1" x1="3.94" y1="17.80" x2="3.94" y2="21.52"/><line class="cls-1" x1="3.94" y1="6.48" x2="3.94" y2="17.80"/><circle class="cls-1" cx="24.06" cy="13.94" r="3.72"/><line class="cls-1" x1="24.06" y1="17.80" x2="24.06" y2="21.52"/><line class="cls-1" x1="24.06" y1="6.48" x2="24.06" y2="17.80"/><g class="cls-1"></g></g></svg>'},Electronic_40:{shapeName:"Electronic_40",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="3.66" cy="6.98" r="3.48"/><circle class="cls-1" cx="3.66" cy="13.96" r="3.48"/><circle class="cls-1" cx="3.66" cy="20.94" r="3.48"/><line class="cls-1" x1="3.66" x2="3.66" y2="27.89"/><circle class="cls-1" cx="24.34" cy="6.98" r="3.48"/><circle class="cls-1" cx="24.34" cy="13.96" r="3.48"/><circle class="cls-1" cx="24.34" cy="20.94" r="3.48"/><line class="cls-1" x1="24.34" x2="24.34" y2="27.89"/><g class="cls-1"></g></g></svg>'},Electronic_41:{shapeName:"Electronic_41",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="3.94" cy="10.19" r="3.72"/><circle class="cls-1" cx="3.94" cy="17.66" r="3.72"/><line class="cls-1" x1="3.94" y1="14.05" x2="3.94" y2="25.18"/><line class="cls-1" x1="3.94" y1="2.73" x2="3.94" y2="14.05"/><circle class="cls-1" cx="24.06" cy="10.28" r="3.72"/><circle class="cls-1" cx="24.06" cy="17.75" r="3.72"/><line class="cls-1" x1="24.06" y1="14.14" x2="24.06" y2="25.27"/><line class="cls-1" x1="24.06" y1="2.82" x2="24.06" y2="14.14"/><g class="cls-1"></g></g></svg>'},Electronic_42:{shapeName:"Electronic_42",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="2.52" cy="4.66" r="2.33"/><circle class="cls-1" cx="2.52" cy="9.33" r="2.33"/><circle class="cls-1" cx="2.52" cy="14.01" r="2.33"/><circle class="cls-1" cx="2.52" cy="18.67" r="2.33"/><circle class="cls-1" cx="2.52" cy="23.34" r="2.33"/><line class="cls-1" x1="2.52" y1="25.67" x2="2.52" y2="28.00"/><line class="cls-1" x1="2.51" x2="2.51" y2="2.33"/><line class="cls-1" x1="2.52" y1="2.33" x2="2.52" y2="25.67"/><circle class="cls-1" cx="25.48" cy="4.66" r="2.33"/><circle class="cls-1" cx="25.48" cy="9.33" r="2.33"/><circle class="cls-1" cx="25.48" cy="14.01" r="2.33"/><circle class="cls-1" cx="25.48" cy="18.67" r="2.33"/><circle class="cls-1" cx="25.48" cy="23.34" r="2.33"/><line class="cls-1" x1="25.48" y1="25.67" x2="25.48" y2="28.00"/><line class="cls-1" x1="25.47" x2="25.47" y2="2.33"/><line class="cls-1" x1="25.48" y1="2.33" x2="25.48" y2="25.67"/><g class="cls-1"></g></g></svg>'},Electronic_43:{shapeName:"Electronic_43",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="2.15" cy="4.01" r="2.00"/><circle class="cls-1" cx="2.15" cy="8.02" r="2.00"/><circle class="cls-1" cx="2.15" cy="12.02" r="2.00"/><circle class="cls-1" cx="2.15" cy="16.02" r="2.00"/><circle class="cls-1" cx="2.15" cy="20.01" r="2.00"/><circle class="cls-1" cx="2.15" cy="24.01" r="2.00"/><line class="cls-1" x1="2.15" y1="26.00" x2="2.15" y2="28.00"/><line class="cls-1" x1="2.14" y1="0.01" x2="2.14" y2="2.01"/><line class="cls-1" x1="2.15" y1="2.01" x2="2.15" y2="26.00"/><circle class="cls-1" cx="25.85" cy="3.99" r="2.00"/><circle class="cls-1" cx="25.85" cy="8.00" r="2.00"/><circle class="cls-1" cx="25.85" cy="12.01" r="2.00"/><circle class="cls-1" cx="25.85" cy="16.00" r="2.00"/><circle class="cls-1" cx="25.85" cy="20.00" r="2.00"/><circle class="cls-1" cx="25.85" cy="23.99" r="2.00"/><line class="cls-1" x1="25.85" y1="25.99" x2="25.85" y2="27.99"/><line class="cls-1" x1="25.84" x2="25.84" y2="2.00"/><line class="cls-1" x1="25.85" y1="2.00" x2="25.85" y2="25.99"/><g class="cls-1"></g></g></svg>'},Electronic_44:{shapeName:"Electronic_44",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="2.90" cy="5.59" r="2.80"/><circle class="cls-1" cx="2.90" cy="11.20" r="2.80"/><circle class="cls-1" cx="2.90" cy="16.81" r="2.80"/><circle class="cls-1" cx="2.90" cy="22.40" r="2.80"/><line class="cls-1" x1="2.90" y1="0.11" x2="2.90" y2="27.89"/><circle class="cls-1" cx="25.10" cy="5.59" r="2.80"/><circle class="cls-1" cx="25.10" cy="11.20" r="2.80"/><circle class="cls-1" cx="25.10" cy="16.81" r="2.80"/><circle class="cls-1" cx="25.10" cy="22.40" r="2.80"/><line class="cls-1" x1="25.10" y1="0.11" x2="25.10" y2="27.89"/><g class="cls-1"></g></g></svg>'},Electronic_45:{shapeName:"Electronic_45",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="0.24" y1="22.14" x2="0.24" y2="0.03"/><line class="cls-1" x1="5.81" y1="27.71" x2="27.93" y2="27.71"/><g class="cls-1"></g></g></svg>'},Electronic_46:{shapeName:"Electronic_46",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="0.16" y1="27.89" x2="0.16" y2="0.16"/><line class="cls-1" x1="0.11" y1="27.84" x2="27.84" y2="27.84"/><g class="cls-1"></g></g></svg>'},Electronic_47:{shapeName:"Electronic_47",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="8.94" x2="14.00" y2="27.89"/><line class="cls-1" x1="26.64" y1="0.11" x2="13.96" y2="9.07"/><line class="cls-1" x1="14.04" y1="9.07" x2="1.36" y2="0.11"/><circle class="cls-2" cx="14.00" cy="8.75" r="1.42"/><g class="cls-1"></g></g></svg>'},Electronic_48:{shapeName:"Electronic_48",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-2" cx="14.00" cy="14.00" r="1.42"/><line class="cls-1" x1="14.00" y1="4.42" x2="14.00" y2="13.68"/><line class="cls-1" x1="20.17" y1="0.11" x2="13.98" y2="4.48"/><line class="cls-1" x1="14.02" y1="4.48" x2="7.83" y2="0.11"/><line class="cls-1" x1="6.34" y1="18.64" x2="6.34" y2="27.89"/><line class="cls-1" x1="12.52" y1="14.33" x2="6.32" y2="18.70"/><line class="cls-1" x1="6.36" y1="18.70" x2="0.17" y2="14.33"/><line class="cls-1" x1="21.66" y1="18.64" x2="21.66" y2="27.89"/><line class="cls-1" x1="27.83" y1="14.33" x2="21.64" y2="18.70"/><line class="cls-1" x1="21.05" y1="9.08" x2="14.86" y2="13.45"/><line class="cls-1" x1="21.68" y1="18.70" x2="15.48" y2="14.33"/><g class="cls-1"></g></g></svg>'},Electronic_49:{shapeName:"Electronic_49",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="28.00" y1="14.00" x2="13.61" y2="13.89"/><line class="cls-1" x1="13.67" y1="13.96" x2="0.11" y2="0.11"/><line class="cls-1" x1="28.11" y1="27.89" x2="13.52" y2="13.82"/><line class="cls-1" x1="13.57" y1="13.94" x2="0.11" y2="28.11"/><line class="cls-1" x1="27.89" y1="0.11" x2="13.55" y2="13.96"/><circle class="cls-2" cx="14.00" cy="14.00" r="1.42"/><g class="cls-1"></g></g></svg>'},Electronic_50:{shapeName:"Electronic_50",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M23.10,4.90v18.21H4.90V4.90h18.21m0.22-0.22H4.68v18.65h18.65V4.68Z"/><path class="cls-1" d = "M14.92,8.93,8.48,18.86H15.17v0.29H8.09V18.87L14.54,8.95H8.28V8.65H14.92Z"/><path class="cls-1" d = "M16.63,18.94a1.91,1.91,0,0,1,-0.66,-1.16l0.31-0.10A1.75,1.75,0,0,0,16.84,18.70a1.63,1.63,0,0,0,1.09,0.36,1.46,1.46,0,0,0,1.23,-0.56q0.44-0.56,0.44-1.59V8.65H19.91V16.94q0.00,1.16-0.51,1.79A1.79,1.79,0,0,1,17.94,19.35,2.01,2.01,0,0,1,16.63,18.94Z"/><g class="cls-1"></g></g></svg>'},Electronic_51:{shapeName:"Electronic_51",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><path class="cls-1" d = "M6.67,20.42H6.32V7.54h0.35ZM9.84,22.59H9.50V5.64H9.84ZM21.68,8.31v0.33H13.98A24.39,24.39,0,0,1,11.27,12.85l-0.27-0.22A24.81,24.81,0,0,0,13.31,9.14a22.18,22.18,0,0,0,1.70,-3.73l0.330.12A22.38,22.38,0,0,1,14.15,8.31ZM12.94,22.35H12.60V13.68H20.66v8.66H20.31V20.96H12.94Zm3.52-1.68V14.00H12.94V20.67Zm1.97-8.14q-0.62-0.69-1.49-1.61t-1.36-1.34l0.25-0.22q0.52,0.46,1.44,1.41t1.40,1.51ZM16.81,20.67h3.50V14.00h-3.50Z"/><g class="cls-1"></g></g></svg>'},Electronic_52:{shapeName:"Electronic_52",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" x2="14.00" y2="28.00"/><path d = "M18.53,5.47V7.88h1.34v0.26H18.26V5.47Z"/><path d = "M18.63,15.06H18.36V12.41h0.28l0.96,1.68h0.02L20.56,12.41h0.28V15.06H20.58V12.94H20.56l-0.88,1.53h-0.16l-0.88-1.53h-0.02Z"/><path d = "M21.32,13.83a0.68,0.68,0,0,1,0.19,-0.25,0.39,0.39,0,0,1,0.25,-0.09,0.40,0.40,0,0,1,0.13,0.03q0.060.030.160.08a1.27,1.27,0,0,0,0.15,0.07,0.35,0.35,0,0,0,0.12,0.03c0.10,0.00,0.19-0.07,0.25-0.20l0.190.10a0.59,0.59,0,0,1,-0.19,0.26,0.40,0.40,0,0,1,-0.26,0.10,0.33,0.33,0,0,1,-0.13,-0.03c-0.04-0.02-0.10-0.04-0.17-0.08a1.04,1.04,0,0,0,-0.14,-0.08,0.38,0.38,0,0,0,-0.13,-0.03,0.22,0.22,0,0,0,-0.14,0.04,0.48,0.48,0,0,0,-0.11,0.17Z"/><g class="cls-1"></g></g></svg>'},Electronic_53:{shapeName:"Electronic_53",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="11.05" x2="11.05" y2="28.00"/><line class="cls-1" x1="13.67" x2="13.67" y2="28.00"/><line class="cls-1" x1="16.95" x2="16.95" y2="28.00"/><text class="cls-1" transform="translate(21.00 15.06)">3～</text><g class="cls-1"></g></g></svg>'},Electronic_54:{shapeName:"Electronic_54",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="8.00" cy="14.95" r="5.08"/><circle class="cls-1" cx="15.46" cy="14.95" r="5.08"/><circle class="cls-1" cx="11.74" cy="6.94" r="5.08"/><circle class="cls-1" cx="11.74" cy="22.92" r="5.08"/><circle class="cls-1" cx="20.00" cy="22.36" r="5.08"/><line class="cls-1" x1="11.74" x2="11.74" y2="1.87"/><g class="cls-1"></g></g></svg>'},Electronic_55:{shapeName:"Electronic_55",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><line class="cls-1" x1="1.75" y1="14.00" x2="26.25" y2="14.00"/><path class="cls-1" d = "M14.00,9.10a4.90,4.90,0,0,1,0.00,9.80"/><line class="cls-1" x1="14.01" y1="9.08" x2="14.01" y2="5.17"/><line class="cls-1" x1="13.99" y1="22.85" x2="13.99" y2="18.92"/><g class="cls-1"></g></g></svg>'},Electronic_56:{shapeName:"Electronic_56",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><path class="cls-1" d = "M8.94,20.85s2.90-1.67,5.06,0.00,5.06,0.00,5.06,0.00"/><path class="cls-1" d = "M12.95,8.80a2.28,2.28,0,0,0,-0.85,1.01,3.70,3.70,0,0,0,-0.30,1.53,3.73,3.73,0,0,0,0.29,1.53,2.28,2.28,0,0,0,0.83,1.01,2.25,2.25,0,0,0,1.26,0.35,2.46,2.46,0,0,0,1.87,-0.88V11.59h-1.53v-0.17h1.71v2.02a2.73,2.73,0,0,1,-2.04,0.97,2.45,2.45,0,0,1,-1.36,-0.37,2.41,2.41,0,0,1,-0.89,-1.06,3.92,3.92,0,0,1,-0.31,-1.63,3.85,3.85,0,0,1,0.32,-1.62,2.42,2.42,0,0,1,0.91,-1.07,2.52,2.52,0,0,1,1.38,-0.37,2.33,2.33,0,0,1,0.99,0.22,2.19,2.19,0,0,1,0.78,0.61l-0.130.13a1.93,1.93,0,0,0,-0.72,-0.58,2.16,2.16,0,0,0,-0.93,-0.20A2.33,2.33,0,0,0,12.95,8.80Z"/><g class="cls-1"></g></g></svg>'},Electronic_57:{shapeName:"Electronic_57",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="5.27" width="28.00" height="17.20"/><line class="cls-1" x1="2.33" y1="5.17" x2="2.33" y2="22.53"/><line class="cls-1" x1="0.22" y1="5.39" x2="0.33" y2="22.64"/><line class="cls-1" x1="4.67" y1="5.17" x2="4.67" y2="22.53"/><line class="cls-1" x1="7.00" y1="5.17" x2="7.00" y2="22.53"/><line class="cls-1" x1="25.67" y1="5.17" x2="25.67" y2="22.53"/><line class="cls-1" x1="27.56" y1="5.17" x2="27.56" y2="22.42"/><line class="cls-1" x1="23.33" y1="5.17" x2="23.33" y2="22.53"/><line class="cls-1" x1="21.00" y1="5.17" x2="21.00" y2="22.53"/><line class="cls-1" x1="18.67" y1="5.17" x2="18.67" y2="22.53"/><line class="cls-1" x1="16.33" y1="5.17" x2="16.33" y2="22.53"/><line class="cls-1" x1="14.00" y1="5.17" x2="14.00" y2="22.53"/><line class="cls-1" x1="11.67" y1="5.17" x2="11.67" y2="22.53"/><line class="cls-1" x1="9.33" y1="5.17" x2="9.33" y2="22.53"/><g class="cls-1"></g></g></svg>'},Electronic_58:{shapeName:"Electronic_58",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="2.19" y="8.31" width="23.83" height="11.38"/><rect class="cls-1" x="3.17" y="11.43" width="14.49" height="5.14"/><line class="cls-1" y1="14.00" x2="2.19" y2="14.00"/><line class="cls-1" x1="17.76" y1="14.00" x2="20.23" y2="14.00"/><line class="cls-1" x1="24.72" y1="14.00" x2="28.04" y2="14.00"/><circle class="cls-1" cx="22.39" cy="14.00" r="2.17"/><g class="cls-1"></g></g></svg>'},Electronic_59:{shapeName:"Electronic_59",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="2.08" y="8.31" width="23.83" height="11.38"/><rect class="cls-2" x="3.06" y="11.43" width="14.49" height="5.14"/><line class="cls-1" x1="-0.11" y1="14.00" x2="2.08" y2="14.00"/><line class="cls-1" x1="17.65" y1="14.00" x2="20.12" y2="14.00"/><line class="cls-1" x1="24.61" y1="14.00" x2="27.93" y2="14.00"/><circle class="cls-2" cx="22.28" cy="14.00" r="2.17"/><g class="cls-1"></g></g></svg>'},Electronic_60:{shapeName:"Electronic_60",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M4.86,19.74V8.26H7.84q2.83,0.00,4.36,1.49t1.53,4.26q0.00,2.77-1.56,4.26T7.72,19.74Zm2.82-0.32q2.76,0.00,4.23-1.40T13.39,14.00q0.00-2.63-1.45-4.02t-4.14-1.40H5.20V19.42Z"/><path class="cls-1" d = "M18.95,8.26q2.02,0.00,3.11,0.88t1.09,2.46q0.00,1.59-1.09,2.45T18.95,14.89H16.20V19.74H15.87V8.26ZM18.90,14.57q1.88,0.00,2.89-0.77t1.01-2.21q0.00-1.45-1.01-2.23T18.90,8.58H16.20V14.57Z"/><g class="cls-1"></g></g></svg>'},Electronic_61:{shapeName:"Electronic_61",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><rect class="cls-2" x="6.64" y="8.96" width="14.72" height="14.72"/><path class="cls-1" d = "M16.89,4.69H11.11A2.71,2.71,0,0,0,8.39,7.40v1.63H19.61V7.40A2.71,2.71,0,0,0,16.89,4.69Z"/><g class="cls-1"></g></g></svg>'},Electronic_62:{shapeName:"Electronic_62",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="3.59" y1="16.66" x2="24.51" y2="16.66"/><line class="cls-1" x1="5.33" y1="21.88" x2="22.77" y2="21.88"/><line class="cls-1" x1="14.05" y1="0.91" x2="14.05" y2="16.66"/><line class="cls-1" x1="10.52" y1="27.09" x2="17.48" y2="27.09"/><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><g class="cls-1"></g></g></svg>'},Electronic_63:{shapeName:"Electronic_63",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><polyline class="cls-1" points="4.71 28.00 4.71 0 23.36 6.97 4.64 14.00"/><g class="cls-1"></g></g></svg>'},Electronic_64:{shapeName:"Electronic_64",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><line class="cls-1" x1="6.14" y1="25.56" x2="21.86" y2="25.56"/><line class="cls-1" x1="6.14" y1="2.41" x2="21.86" y2="2.41"/><g class="cls-1"></g></g></svg>'},Electronic_65:{shapeName:"Electronic_65",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><path class="cls-1" d = "M9.94,5.63a36.83,36.83,0,0,1,-1.44,4.12v12.82H8.15V10.57A38.94,38.94,0,0,1,5.93,15.02L5.69,14.73a41.58,41.58,0,0,0,2.12,-4.26A42.56,42.56,0,0,0,9.63,5.53ZM22.31,8.19V8.53H10.38V8.19H16.43q-0.33-1.21-0.81-2.63l0.37-0.12,0.23,0.73c0.08,0.280.17,0.60,0.28,0.93s0.22,0.70,0.32,1.09ZM20.72,11.38H11.44V11.06H20.72Zm0.00,2.77H11.44V13.81H20.72ZM12.03,22.55H11.67V16.58H20.53V22.53H20.18V21.16H12.03Zm8.14-1.71V16.94H12.03V20.83Z"/><g class="cls-1"></g></g></svg>'},Electronic_66:{shapeName:"Electronic_66",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><path class="cls-1" d = "M10.17,5.72q-0.66,2.14-1.53,4.22v12.65H8.31V10.75A33.97,33.97,0,0,1,6.03,15.09L5.76,14.88a29.87,29.87,0,0,0,2.17,-4.16A47.83,47.83,0,0,0,9.82,5.63ZM10.94,17.48H10.59V14.71H22.09V17.48H21.72v-2.41H10.94Zm11.30-9.57v0.35H10.92V7.92H16.45Q16.25,7.13,15.75,5.49l0.35-0.08,0.25,0.88q0.25,0.96,0.48,1.64ZM11.81,17.60V17.25H20.89v0.35H16.77V20.81a1.91,1.91,0,0,1,-0.15,0.86A0.88,0.88,0,0,1,16.08,22.09a3.80,3.80,0,0,1,-1.12,0.13H12.98l-0.04-0.33h2.00a3.53,3.53,0,0,0,0.96,-0.10,0.63,0.63,0,0,0,0.41,-0.32,1.65,1.65,0,0,0,0.11,-0.68V17.60Zm0.40-4.66V10.06H20.43v2.89Zm0.37-0.33H20.10V10.38H12.58Z"/><g class="cls-1"></g></g></svg>'},Electronic_67:{shapeName:"Electronic_67",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="7.00"/><line class="cls-1" x1="-0.03" y1="14.00" x2="27.97" y2="14.00"/><line class="cls-1" x1="10.27" y1="18.36" x2="12.14" y2="12.79"/><polygon class="cls-2" points="13.09 9.92 11.27 12.50 12.99 13.07 13.09 9.92"/><line class="cls-1" x1="13.96" y1="19.78" x2="15.84" y2="14.21"/><polygon class="cls-2" points="16.79 11.34 14.96 13.92 16.68 14.50 16.79 11.34"/><g class="cls-1"></g></g></svg>'},Electronic_68:{shapeName:"Electronic_68",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" x2="14.00" y2="28.00"/><path d = "M18.29,14.93a0.78,0.78,0,0,1,-0.26,-0.34,0.88,0.88,0,0,1,-0.05,-0.46,1.42,1.42,0,0,1,0.13,-0.44,3.37,3.37,0,0,1,0.34,-0.51L19.03,12.41l0.310.04-0.82,1.05,0.00,0.01a0.55,0.55,0,0,1,0.20,-0.09,0.74,0.74,0,0,1,0.26,0.00,0.81,0.81,0,0,1,0.40,0.16,0.75,0.75,0,0,1,0.24,0.33,0.96,0.96,0,0,1,-0.12,0.88,0.77,0.77,0,0,1,-0.35,0.26,0.92,0.92,0,0,1,-0.46,0.05A0.90,0.90,0,0,1,18.29,14.93Zm0.78-0.12a0.53,0.53,0,0,0,0.22,-0.19,0.66,0.66,0,0,0,0.11,-0.30,0.60,0.60,0,0,0,-0.10,-0.44,0.54,0.54,0,0,0,-0.38,-0.22,0.60,0.60,0,0,0,-0.45,0.11,0.58,0.58,0,0,0,-0.22,0.40,0.68,0.68,0,0,0,0.04,0.32,0.55,0.55,0,0,0,0.18,0.24,0.61,0.61,0,0,0,0.30,0.12A0.58,0.58,0,0,0,19.06,14.81Z"/><g class="cls-1"></g></g></svg>'},Electronic_69:{shapeName:"Electronic_69",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M27.78,3.44v21.11H0.22V3.44H27.78m0.22-0.22H0.00v21.55H28.00V3.22Z"/><line class="cls-1" x1="10.79" y1="14.00" x2="0.02" y2="14.00"/><line class="cls-1" x1="27.81" y1="14.00" x2="19.21" y2="14.00"/><line class="cls-1" x1="10.83" y1="14.11" x2="15.15" y2="7.30"/><g class="cls-1"></g></g></svg>'},Electronic_70:{shapeName:"Electronic_70",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="5.47" width="27.78" height="17.06"/><line class="cls-1" y1="7.92" x2="27.78" y2="7.92"/><line class="cls-1" y1="5.51" x2="27.78" y2="5.51"/><line class="cls-1" y1="10.34" x2="27.78" y2="10.34"/><line class="cls-1" y1="12.75" x2="27.78" y2="12.75"/><line class="cls-1" y1="15.17" x2="27.78" y2="15.17"/><line class="cls-1" y1="17.58" x2="27.78" y2="17.58"/><line class="cls-1" y1="20.00" x2="27.78" y2="20.00"/><line class="cls-1" x1="0.22" y1="22.36" x2="28.00" y2="22.36"/><line class="cls-1" y1="22.52" x2="27.78" y2="22.52"/><line class="cls-1" y1="5.51" x2="27.78" y2="5.51"/><line class="cls-1" x1="0.22" y1="22.52" x2="28.00" y2="22.52"/><g class="cls-1"></g></g></svg>'},Electronic_71:{shapeName:"Electronic_71",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M8.57,24.08a11.90,11.90,0,1,1,11.05,-0.10"/><line class="cls-1" x1="14.00" x2="14.00" y2="1.58"/><line class="cls-1" x1="2.22" y1="21.72" x2="8.42" y2="21.72"/><line class="cls-1" x1="2.24" y1="28.00" x2="2.24" y2="21.77"/><line class="cls-1" x1="8.50" y1="21.77" x2="8.50" y2="23.95"/><line class="cls-1" x1="25.83" y1="21.72" x2="19.58" y2="21.72"/><line class="cls-1" x1="25.82" y1="28.00" x2="25.82" y2="21.77"/><line class="cls-1" x1="19.56" y1="21.77" x2="19.56" y2="23.95"/><g class="cls-1"></g></g></svg>'},Electronic_72:{shapeName:"Electronic_72",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><path class="cls-1" d = "M22.20,18.42v0.35H14.19v3.97H13.85V18.76H5.80V18.42H13.85V15.55H7.84V8.31H15.53c0.39-0.37,0.84-0.86,1.37-1.46s0.96-1.12,1.31-1.56l0.290.19q-0.42,0.56-1.14,1.38T16.00,8.31h4.18V15.55H14.19V18.42ZM13.85,11.76V8.66H8.21V11.76ZM8.21,12.10V15.22H13.85V12.10Zm1.60-6.83L12.17,7.70l-0.27,0.23-2.37-2.41ZM14.19,11.76H19.83V8.66H14.19Zm0.00,0.35V15.22H19.83V12.10Z"/><g class="cls-1"></g></g></svg>'},Electronic_73:{shapeName:"Electronic_73",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="13.90" r="6.93"/><line class="cls-1" x1="14.00" y1="21.07" x2="14.00" y2="28.00"/><line class="cls-1" x1="14.00" x2="14.00" y2="21.10"/><g class="cls-1"></g></g></svg>'},Electronic_74:{shapeName:"Electronic_74",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="6.98" r="3.48"/><circle class="cls-1" cx="14.00" cy="13.96" r="3.48"/><circle class="cls-1" cx="14.00" cy="20.94" r="3.48"/><line class="cls-1" x1="14.00" x2="14.00" y2="27.89"/><g class="cls-1"></g></g></svg>'},Electronic_75:{shapeName:"Electronic_75",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="9.31" r="4.64"/><circle class="cls-1" cx="14.00" cy="18.61" r="4.64"/><line class="cls-1" x1="14.00" y1="14.11" x2="14.00" y2="28.00"/><line class="cls-1" x1="14.00" x2="14.00" y2="14.11"/><g class="cls-1"></g></g></svg>'},Electronic_76:{shapeName:"Electronic_76",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="3.99" r="2.00"/><circle class="cls-1" cx="14.00" cy="8.00" r="2.00"/><circle class="cls-1" cx="14.00" cy="12.01" r="2.00"/><circle class="cls-1" cx="14.00" cy="16.01" r="2.00"/><circle class="cls-1" cx="14.00" cy="20.01" r="2.00"/><circle class="cls-1" cx="14.00" cy="24.01" r="2.00"/><line class="cls-1" x1="14.00" y1="26.00" x2="14.00" y2="28.00"/><line class="cls-1" x1="13.99" x2="13.99" y2="2.00"/><line class="cls-1" x1="14.00" y1="2.00" x2="14.00" y2="26.00"/><g class="cls-1"></g></g></svg>'},Electronic_77:{shapeName:"Electronic_77",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="4.66" r="2.33"/><circle class="cls-1" cx="14.00" cy="9.33" r="2.33"/><circle class="cls-1" cx="14.00" cy="14.01" r="2.33"/><circle class="cls-1" cx="14.00" cy="18.67" r="2.33"/><circle class="cls-1" cx="14.00" cy="23.34" r="2.33"/><line class="cls-1" x1="14.00" y1="25.67" x2="14.00" y2="28.00"/><line class="cls-1" x1="13.99" x2="13.99" y2="2.33"/><line class="cls-1" x1="14.00" y1="2.33" x2="14.00" y2="25.67"/><g class="cls-1"></g></g></svg>'},Electronic_78:{shapeName:"Electronic_78",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="5.53" r="2.80"/><circle class="cls-1" cx="14.00" cy="11.15" r="2.80"/><circle class="cls-1" cx="14.00" cy="16.76" r="2.80"/><circle class="cls-1" cx="14.00" cy="22.35" r="2.80"/><line class="cls-1" x1="13.99" y1="-0.05" x2="13.99" y2="2.74"/><line class="cls-1" x1="14.00" y1="2.74" x2="14.00" y2="28.05"/><g class="cls-1"></g></g></svg>'},Electronic_79:{shapeName:"Electronic_79",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><polygon class="cls-1" points="28 14 7 1.3125 7 26.6875 28 14"/><polygon class="cls-1" points="21 26.6875 21 1.3125 0 14 21 26.6875"/><g class="cls-1"></g></g></svg>'},TwoDirectionSwitch:{shapeName:"TwoDirectionSwitch",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="8.00" y1="-0.07" x2="8.00" y2="9.28"/><line class="cls-1" x1="6.13" y1="9.28" x2="9.86" y2="9.28"/><line class="cls-1" x1="14.00" y1="20.55" x2="14.00" y2="28.00"/><line class="cls-1" x1="18.14" y1="9.28" x2="21.87" y2="9.28"/><line class="cls-1" x1="20.00" y1="-0.07" x2="20.00" y2="9.28"/><circle class="cls-1" cx="14.00" cy="18.65" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_80:{shapeName:"Electronic_80",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="8.00" y1="-0.07" x2="8.00" y2="9.28"/><line class="cls-1" x1="6.13" y1="9.28" x2="9.86" y2="9.28"/><line class="cls-1" x1="14.00" y1="9.28" x2="14.00" y2="16.74"/><line class="cls-1" x1="14.00" y1="20.55" x2="14.00" y2="28.00"/><line class="cls-1" x1="18.14" y1="9.28" x2="21.87" y2="9.28"/><line class="cls-1" x1="20.00" y1="-0.07" x2="20.00" y2="9.28"/><circle class="cls-1" cx="14.00" cy="18.65" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_81:{shapeName:"Electronic_81",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="8.01" x2="8.01" y2="9.33"/><line class="cls-1" x1="6.15" y1="9.33" x2="9.87" y2="9.33"/><line class="cls-1" x1="18.24" y1="9.41" x2="14.55" y2="16.68"/><line class="cls-1" x1="14.12" y1="20.56" x2="14.12" y2="28.00"/><line class="cls-1" x1="18.13" y1="9.33" x2="21.85" y2="9.33"/><line class="cls-1" x1="19.99" x2="19.99" y2="9.33"/><circle class="cls-1" cx="14.03" cy="18.68" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_82:{shapeName:"Electronic_82",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="7.89" y1="0.06" x2="7.89" y2="9.38"/><line class="cls-1" x1="6.03" y1="9.38" x2="9.75" y2="9.38"/><line class="cls-1" x1="9.83" y1="9.47" x2="13.52" y2="16.74"/><line class="cls-1" x1="14.00" y1="20.62" x2="14.00" y2="28.06"/><line class="cls-1" x1="18.01" y1="9.38" x2="21.72" y2="9.38"/><line class="cls-1" x1="19.86" y1="0.06" x2="19.86" y2="9.38"/><circle class="cls-1" cx="13.90" cy="18.74" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_83:{shapeName:"Electronic_83",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="18.65" r="6.32"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.84"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><circle class="cls-1" cx="14.00" cy="9.18" r="6.32"/><polygon class="cls-1" points="14.00 5.28 11.34 9.89 16.66 9.89 14.00 5.28"/><line class="cls-1" x1="14.00" y1="18.03" x2="14.00" y2="22.80"/><line class="cls-1" x1="17.19" y1="15.80" x2="13.99" y2="18.06"/><line class="cls-1" x1="14.01" y1="18.06" x2="10.81" y2="15.80"/><circle class="cls-1" cx="14.00" cy="17.98" r="0.36"/><line class="cls-1" x1="14.00" y1="18.05" x2="17.72" y2="18.05"/><g class="cls-1"></g></g></svg>'},Electronic_84:{shapeName:"Electronic_84",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="9.18" r="6.32"/><circle class="cls-1" cx="14.00" cy="18.65" r="6.32"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.84"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><g class="cls-1"></g></g></svg>'},Electronic_85:{shapeName:"Electronic_85",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="9.18" r="6.32"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.84"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><line class="cls-1" x1="14.00" y1="8.07" x2="14.00" y2="12.24"/><line class="cls-1" x1="16.79" y1="6.12" x2="13.99" y2="8.10"/><line class="cls-1" x1="14.01" y1="8.10" x2="11.21" y2="6.12"/><circle class="cls-1" cx="13.93" cy="18.82" r="6.32"/><polygon class="cls-1" points="13.93 16.72 11.27 21.33 16.59 21.33 13.93 16.72"/><g class="cls-1"></g></g></svg>'},Electronic_86:{shapeName:"Electronic_86",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.04" cy="9.18" r="6.32"/><line class="cls-1" x1="14.04" x2="14.04" y2="2.84"/><line class="cls-1" x1="14.04" y1="24.93" x2="14.04" y2="28.00"/><circle class="cls-1" cx="13.96" cy="18.82" r="6.32"/><polygon class="cls-1" points="13.96 16.72 11.30 21.33 16.63 21.33 13.96 16.72"/><circle class="cls-1" cx="14.06" cy="9.29" r="6.32"/><line class="cls-1" x1="14.06" y1="8.66" x2="14.06" y2="13.44"/><line class="cls-1" x1="17.24" y1="6.44" x2="14.05" y2="8.70"/><line class="cls-1" x1="14.07" y1="8.70" x2="10.87" y2="6.44"/><line class="cls-1" x1="14.06" y1="8.68" x2="17.78" y2="8.68"/><circle class="cls-1" cx="14.16" cy="8.57" r="0.36"/><g class="cls-1"></g></g></svg>'},Electronic_87:{shapeName:"Electronic_87",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.04" cy="9.18" r="6.32"/><line class="cls-1" x1="14.04" x2="14.04" y2="2.84"/><line class="cls-1" x1="14.04" y1="24.93" x2="14.04" y2="28.00"/><line class="cls-1" x1="14.04" y1="8.07" x2="14.04" y2="12.24"/><line class="cls-1" x1="16.82" y1="6.12" x2="14.03" y2="8.10"/><line class="cls-1" x1="14.04" y1="8.10" x2="11.25" y2="6.12"/><circle class="cls-1" cx="13.96" cy="18.82" r="6.32"/><polygon class="cls-1" points="13.96 16.72 11.30 21.33 16.63 21.33 13.96 16.72"/><polygon class="cls-2" points="25.15 6.87 20.63 7.58 22.63 10.69 25.15 6.87"/><line class="cls-1" x1="2.89" y1="21.21" x2="23.87" y2="7.69"/><g class="cls-1"></g></g></svg>'},Electronic_88:{shapeName:"Electronic_88",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="9.18" r="6.32"/><circle class="cls-1" cx="14.00" cy="18.65" r="6.32"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.84"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><line class="cls-1" x1="14.00" y1="8.07" x2="14.00" y2="12.24"/><line class="cls-1" x1="16.79" y1="6.12" x2="13.99" y2="8.10"/><line class="cls-1" x1="14.01" y1="8.10" x2="11.21" y2="6.12"/><line class="cls-1" x1="14.82" y1="16.88" x2="14.82" y2="19.36"/><line class="cls-1" x1="16.48" y1="15.73" x2="14.82" y2="16.90"/><line class="cls-1" x1="14.77" y1="19.31" x2="13.11" y2="20.48"/><line class="cls-1" x1="13.12" y1="20.48" x2="11.46" y2="19.31"/><line class="cls-1" x1="16.54" y1="20.46" x2="16.54" y2="22.94"/><line class="cls-1" x1="16.54" y1="20.48" x2="14.88" y2="19.31"/><circle class="cls-1" cx="14.79" cy="19.23" r="0.36"/><g class="cls-1"></g></g></svg>'},Electronic_89:{shapeName:"Electronic_89",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="18.19" x2="14.00" y2="22.37"/><line class="cls-1" x1="16.79" y1="16.24" x2="13.99" y2="18.22"/><line class="cls-1" x1="14.01" y1="18.22" x2="11.21" y2="16.24"/><circle class="cls-1" cx="14.00" cy="9.18" r="6.32"/><circle class="cls-1" cx="14.00" cy="18.65" r="6.32"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.84"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><line class="cls-1" x1="14.00" y1="8.07" x2="14.00" y2="12.24"/><line class="cls-1" x1="16.79" y1="6.12" x2="13.99" y2="8.10"/><line class="cls-1" x1="14.01" y1="8.10" x2="11.21" y2="6.12"/><circle class="cls-1" cx="14.13" cy="18.20" r="0.36"/><line class="cls-1" x1="14.00" y1="18.27" x2="17.72" y2="18.27"/><g class="cls-1"></g></g></svg>'},Electronic_90:{shapeName:"Electronic_90",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><polygon class="cls-2" points="25.13 6.83 20.61 7.55 22.61 10.65 25.13 6.83"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.84"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><circle class="cls-1" cx="14.00" cy="9.18" r="6.32"/><circle class="cls-1" cx="14.00" cy="17.98" r="0.36"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><line class="cls-1" x1="2.87" y1="21.17" x2="23.86" y2="7.65"/><circle class="cls-1" cx="14.00" cy="18.65" r="6.32"/><line class="cls-1" x1="14.00" y1="18.03" x2="14.00" y2="22.80"/><line class="cls-1" x1="17.19" y1="15.80" x2="13.99" y2="18.06"/><line class="cls-1" x1="14.01" y1="18.06" x2="10.81" y2="15.80"/><line class="cls-1" x1="14.00" y1="18.05" x2="17.72" y2="18.05"/><line class="cls-1" x1="14.00" y1="8.07" x2="14.00" y2="12.24"/><line class="cls-1" x1="16.79" y1="6.12" x2="13.99" y2="8.10"/><line class="cls-1" x1="14.01" y1="8.10" x2="11.21" y2="6.12"/><g class="cls-1"></g></g></svg>'},Electronic_91:{shapeName:"Electronic_91",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.02" cy="9.16" r="6.32"/><line class="cls-1" x1="14.02" x2="14.02" y2="2.84"/><line class="cls-1" x1="14.02" y1="24.93" x2="14.02" y2="28"/><line class="cls-1" x1="14.02" y1="8.05" x2="14.02" y2="12.23"/><line class="cls-1" x1="16.81" y1="6.10" x2="14.01" y2="8.08"/><line class="cls-1" x1="14.03" y1="8.08" x2="11.23" y2="6.10"/><circle class="cls-1" cx="13.95" cy="18.80" r="6.32"/><polygon class="cls-1" points="13.95 16.70 11.29 21.31 16.61 21.31 13.95 16.70"/><polygon class="cls-2" points="25.13 6.85 20.61 7.56 22.61 10.67 25.13 6.85"/><line class="cls-1" x1="2.87" y1="21.19" x2="23.86" y2="7.67"/><path d = "M27.27,6.32l-0.75,1.15h0.78v0.10h-0.91v-0.08L27.14,6.34h-0.73v-0.10h0.86Z"/><g class="cls-1"></g></g></svg>'},Electronic_92:{shapeName:"Electronic_92",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="18.19" x2="14.00" y2="22.37"/><line class="cls-1" x1="16.79" y1="16.24" x2="13.99" y2="18.22"/><line class="cls-1" x1="14.01" y1="18.22" x2="11.21" y2="16.24"/><circle class="cls-1" cx="14.00" cy="9.18" r="6.32"/><circle class="cls-1" cx="14.00" cy="18.65" r="6.32"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.84"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><line class="cls-1" x1="14.00" y1="8.07" x2="14.00" y2="12.24"/><line class="cls-1" x1="16.79" y1="6.12" x2="13.99" y2="8.10"/><line class="cls-1" x1="14.01" y1="8.10" x2="11.21" y2="6.12"/><g class="cls-1"></g></g></svg>'},Electronic_93:{shapeName:"Electronic_93",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="18.19" x2="14.00" y2="22.37"/><line class="cls-1" x1="16.79" y1="16.24" x2="13.99" y2="18.22"/><line class="cls-1" x1="14.01" y1="18.22" x2="11.21" y2="16.24"/><circle class="cls-1" cx="14.00" cy="9.18" r="6.32"/><circle class="cls-1" cx="14.00" cy="18.65" r="6.32"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.84"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><line class="cls-1" x1="14.82" y1="6.73" x2="14.82" y2="9.21"/><line class="cls-1" x1="16.48" y1="5.57" x2="14.82" y2="6.75"/><line class="cls-1" x1="14.77" y1="9.15" x2="13.11" y2="10.33"/><line class="cls-1" x1="13.12" y1="10.33" x2="11.46" y2="9.15"/><line class="cls-1" x1="16.54" y1="10.31" x2="16.54" y2="12.79"/><line class="cls-1" x1="16.54" y1="10.33" x2="14.88" y2="9.15"/><g class="cls-1"></g></g></svg>'},Electronic_94:{shapeName:"Electronic_94",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="9.18" r="6.32"/><circle class="cls-1" cx="14.00" cy="18.65" r="6.32"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.84"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><line class="cls-1" x1="4.07" y1="20.55" x2="25.06" y2="7.02"/><polygon class="cls-2" points="26.33 6.20 21.81 6.92 23.81 10.02 26.33 6.20"/><g class="cls-1"></g></g></svg>'},Electronic_95:{shapeName:"Electronic_95",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="9.18" r="6.32"/><circle class="cls-1" cx="14.00" cy="18.65" r="6.32"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.84"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><line class="cls-1" x1="5.29" y1="14.00" x2="5.84" y2="14.00"/><line class="cls-1" x1="6.93" y1="14.00" x2="21.61" y2="14.00"/><line class="cls-1" x1="22.16" y1="14.00" x2="22.71" y2="14.00"/><g class="cls-1"></g></g></svg>'},Electronic_96:{shapeName:"Electronic_96",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="18.65" r="6.32"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.84"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><circle class="cls-1" cx="14.00" cy="9.18" r="6.32"/><polygon class="cls-1" points="14.00 5.28 11.34 9.89 16.66 9.89 14.00 5.28"/><line class="cls-1" x1="14.00" y1="18.03" x2="14.00" y2="22.80"/><line class="cls-1" x1="17.19" y1="15.80" x2="13.99" y2="18.06"/><line class="cls-1" x1="14.01" y1="18.06" x2="10.81" y2="15.80"/><circle class="cls-1" cx="14.00" cy="17.98" r="0.36"/><line class="cls-1" x1="2.87" y1="21.17" x2="23.86" y2="7.65"/><polygon class="cls-2" points="25.13 6.83 20.61 7.55 22.61 10.65 25.13 6.83"/><line class="cls-1" x1="14.00" y1="18.05" x2="17.72" y2="18.05"/><g class="cls-1"></g></g></svg>'},Electronic_97:{shapeName:"Electronic_97",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="15.01" x2="15.01" y2="2.84"/><line class="cls-1" x1="15.01" y1="24.93" x2="15.01" y2="28.00"/><circle class="cls-1" cx="14.94" cy="18.81" r="6.32"/><polygon class="cls-1" points="14.94 16.72 12.28 21.32 17.60 21.32 14.94 16.72"/><circle class="cls-1" cx="15.03" cy="9.28" r="6.32"/><line class="cls-1" x1="15.03" y1="8.66" x2="15.03" y2="13.44"/><line class="cls-1" x1="18.22" y1="6.44" x2="15.02" y2="8.70"/><line class="cls-1" x1="15.04" y1="8.70" x2="11.85" y2="6.44"/><line class="cls-1" x1="15.03" y1="8.68" x2="18.75" y2="8.68"/><circle class="cls-1" cx="15.14" cy="8.56" r="0.36"/><polygon class="cls-2" points="26.23 6.87 21.71 7.58 23.71 10.69 26.23 6.87"/><line class="cls-1" x1="3.96" y1="21.21" x2="24.95" y2="7.69"/><g class="cls-1"></g></g></svg>'},Electronic_98:{shapeName:"Electronic_98",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="13.99" cy="20.90" r="7.10"/><circle class="cls-1" cx="14.01" cy="9.70" r="7.10"/><line class="cls-1" x1="14.01" x2="14.01" y2="2.61"/><g class="cls-1"></g></g></svg>'},Electronic_99:{shapeName:"Electronic_99",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="21.00" cy="14.00" r="7.00"/><circle class="cls-1" cx="7.00" cy="14.00" r="7.00"/><g class="cls-1"></g></g></svg>'},Electronic_100:{shapeName:"Electronic_100",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><ellipse class="cls-1" cx="7.02" cy="14.00" rx="6.97" ry="7.06" transform="translate(-7.84 9.06) rotate(-45)"/><line class="cls-1" x1="0.18" y1="15.61" x2="8.64" y2="7.11"/><line class="cls-1" x1="2.08" y1="18.92" x2="11.92" y2="9.08"/><line class="cls-1" x1="5.37" y1="20.80" x2="13.89" y2="12.36"/><ellipse class="cls-1" cx="20.98" cy="14.00" rx="6.97" ry="7.06" transform="translate(-3.75 18.94) rotate(-45)"/><line class="cls-1" x1="14.11" y1="15.64" x2="22.64" y2="7.33"/><line class="cls-1" x1="16.05" y1="18.93" x2="25.92" y2="9.08"/><line class="cls-1" x1="19.36" y1="20.89" x2="27.67" y2="12.14"/><g class="cls-1"></g></g></svg>'},Electronic_101:{shapeName:"Electronic_101",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="7.01" cy="14.00" r="7.01"/><line class="cls-1" x1="11.88" y1="8.97" x2="2.01" y2="18.91"/><line class="cls-1" x1="1.96" y1="8.96" x2="11.92" y2="18.99"/><circle class="cls-1" cx="20.99" cy="14.00" r="7.01"/><line class="cls-1" x1="25.86" y1="8.97" x2="15.99" y2="18.91"/><line class="cls-1" x1="15.95" y1="8.96" x2="25.91" y2="18.99"/><g class="cls-1"></g></g></svg>'},Electronic_102:{shapeName:"Electronic_102",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M23.10,4.90v18.21H4.90V4.90h18.21m0.22-0.22H4.68v18.65h18.65V4.68Z"/><path class="cls-1" d = "M9.52,13.75a3.38,3.38,0,0,1,2.03,0.85,2.36,2.36,0,0,1,0.74,1.79,2.42,2.42,0,0,1,-1.09,2.13Q10.12,19.25,8.11,19.25H5.64V8.75H8.06q1.77,0.00,2.71,0.66a2.12,2.12,0,0,1,0.95,1.85,2.34,2.34,0,0,1,-0.60,1.60,2.71,2.71,0,0,1,-1.60,0.86ZM5.95,9.04v4.55H8.43q1.37,0.00,2.18-0.61a2.02,2.02,0,0,0,0.81,-1.70,1.87,1.87,0,0,0,-0.88,-1.66q-0.88-0.58-2.51-0.58Zm2.07,9.91q1.90,0.00,2.93-0.66a2.14,2.14,0,0,0,1.03,-1.91,2.10,2.10,0,0,0,-0.95,-1.85q-0.95-0.64-2.61-0.64H5.95V18.96Z"/><path class="cls-1" d = "M14.25,19.25V8.75H16.98q2.59,0.00,3.98,1.36T22.36,14.00q0.00,2.53-1.42,3.89T16.87,19.25Zm2.58-0.29q2.52,0.00,3.87-1.28T22.05,14.00q0.00-2.40-1.31-3.68T16.94,9.04H14.56V18.96Z"/><g class="cls-1"></g></g></svg>'},Electronic_103:{shapeName:"Electronic_103",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-2" cx="14.12" cy="14.02" r="6.59"/><polygon class="cls-1" points="28.00 14.10 14.00 26.24 0 14.10 14.19 1.76 28.00 14.10"/><g class="cls-1"></g></g></svg>'},Electronic_104:{shapeName:"Electronic_104",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="11.22" x2="14.00"/><line class="cls-1" x1="14.00" y1="28.00" x2="14.00" y2="16.78"/><line class="cls-1" x1="8.39" y1="11.22" x2="19.61" y2="11.22"/><line class="cls-1" x1="8.39" y1="16.78" x2="19.61" y2="16.78"/><line class="cls-1" x1="7.72" y1="26.55" x2="18.44" y2="4.00"/><polygon class="cls-2" points="19.09 2.63 15.62 5.62 18.96 7.21 19.09 2.63"/><g class="cls-1"></g></g></svg>'},Electronic_105:{shapeName:"Electronic_105",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="0.11" y="4.75" width="27.78" height="18.50"/><line class="cls-1" x1="0.11" y1="4.92" x2="27.89" y2="23.08"/><line class="cls-1" x1="0.11" y1="23.08" x2="27.89" y2="4.92"/><line class="cls-1" x1="2.30" y1="6.45" x2="2.30" y2="21.55"/><line class="cls-1" x1="4.71" y1="7.98" x2="4.67" y2="20.15"/><line class="cls-1" x1="7.17" y1="9.46" x2="7.17" y2="18.43"/><line class="cls-1" x1="9.57" y1="11.02" x2="9.58" y2="16.78"/><line class="cls-1" x1="11.70" y1="12.58" x2="11.70" y2="15.42"/><line class="cls-1" x1="25.70" y1="6.45" x2="25.70" y2="21.55"/><line class="cls-1" x1="23.30" y1="7.98" x2="23.33" y2="20.15"/><line class="cls-1" x1="20.83" y1="9.46" x2="20.83" y2="18.43"/><line class="cls-1" x1="18.43" y1="11.02" x2="18.43" y2="16.78"/><line class="cls-1" x1="16.30" y1="12.58" x2="16.30" y2="15.42"/><g class="cls-1"></g></g></svg>'},Electronic_106:{shapeName:"Electronic_106",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="10.27" cy="14.95" r="5.08"/><circle class="cls-1" cx="17.73" cy="14.95" r="5.08"/><circle class="cls-1" cx="14.01" cy="6.94" r="5.08"/><circle class="cls-1" cx="14.01" cy="22.92" r="5.08"/><line class="cls-1" x1="14.01" x2="14.01" y2="1.87"/><g class="cls-1"></g></g></svg>'},Electronic_107:{shapeName:"Electronic_107",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><circle class="cls-1" cx="14.02" cy="13.98" r="8.80"/><path class="cls-1" d = "M10.54,9.39A16.11,16.11,0,0,1,8.18,12.12l-0.17-0.19a14.67,14.67,0,0,0,3.19,-4.20l0.240.10a12.63,12.63,0,0,1,-0.74,1.31H19.76v0.25Zm9.42,10.70q-3.60-0.57-5.67-1.36-2.36,0.89-6.05,1.53l-0.05-0.24a33.27,33.27,0,0,0,5.75,-1.43,11.40,11.40,0,0,1,-3.28,-1.97,13.63,13.63,0,0,1,-2.41,1.91l-0.12-0.22a15.03,15.03,0,0,0,2.19,-1.71,9.63,9.63,0,0,0,1.56,-1.86H10.04v-3.94H18.21v3.94H12.17a8.39,8.39,0,0,1,-1.00,1.31H18.43v0.25A13.15,13.15,0,0,1,14.64,18.61a32.99,32.99,0,0,0,5.35,1.23ZM17.94,12.64V11.06H10.30v1.58Zm0.00,0.24H10.30V14.50H17.94ZM14.29,18.47a12.42,12.42,0,0,0,3.74,-2.14H10.96l-0.130.14A10.97,10.97,0,0,0,14.29,18.47Z"/><g class="cls-1"></g></g></svg>'},Electronic_108:{shapeName:"Electronic_108",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="5.40" width="28.00" height="17.20"/><line class="cls-1" x1="16.57" y1="19.41" x2="17.12" y2="19.41"/><line class="cls-1" x1="18.15" y1="19.41" x2="23.85" y2="19.41"/><line class="cls-1" x1="24.36" y1="19.41" x2="24.91" y2="19.41"/><line class="cls-1" x1="24.86" y1="11.05" x2="24.86" y2="11.59"/><line class="cls-1" x1="24.86" y1="12.63" x2="24.86" y2="18.32"/><line class="cls-1" x1="24.86" y1="18.84" x2="24.86" y2="19.39"/><polygon class="cls-1" points="16.42 18.83 16.44 18.66 16.26 18.79 16.42 18.83"/><polygon class="cls-1" points="16.37 18.83 16.53 18.87 16.35 19.00 16.37 18.83"/><polygon class="cls-1" points="24.52 9.86 24.53 9.69 24.35 9.82 24.52 9.86"/><polygon class="cls-1" points="24.46 9.87 24.62 9.91 24.45 10.03 24.46 9.87"/><polygon class="cls-1" points="11.83 8.77 11.85 8.60 11.67 8.73 11.83 8.77"/><polygon class="cls-1" points="11.77 8.77 11.94 8.81 11.76 8.94 11.77 8.77"/><polygon class="cls-1" points="3.74 18.17 3.75 18.01 3.57 18.13 3.74 18.17"/><polygon class="cls-1" points="3.68 18.18 3.84 18.22 3.66 18.35 3.68 18.18"/><g class="cls-1"></g></g></svg>'},Electronic_109:{shapeName:"Electronic_109",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="5.40" width="28.00" height="17.20"/><line class="cls-1" x1="14.44" y1="19.96" x2="25.08" y2="19.96"/><line class="cls-1" x1="24.55" y1="9.95" x2="24.55" y2="20.59"/><path class="cls-1" d = "M4.85,8.61s0.70-0.40,1.23,0.00,1.23,0.00,1.23,0.00"/><path class="cls-1" d = "M12.04,19.93s0.70-0.40,1.23,0.00,1.23,0.00,1.23,0.00"/><polygon class="cls-1" points="22.91 8.04 25.35 6.21 26.22 8.86 23.95 10.66 22.91 8.04"/><line class="cls-1" x1="25.25" y1="6.81" x2="23.45" y2="8.52"/><line class="cls-1" x1="24.06" y1="7.33" x2="25.30" y2="9.48"/><line class="cls-1" x1="23.38" y1="7.71" x2="24.62" y2="9.87"/><line class="cls-1" x1="24.62" y1="6.82" x2="25.87" y2="8.97"/><line class="cls-1" x1="23.78" y1="9.26" x2="25.58" y2="7.55"/><line class="cls-1" x1="24.11" y1="10.09" x2="25.92" y2="8.37"/><polygon class="cls-1" points="6 17.47 3.75 15.64 4.62 18.29 2.35 20.10 6 17.47"/><line class="cls-1" x1="3.65" y1="16.24" x2="1.84" y2="17.96"/><line class="cls-1" x1="2.46" y1="16.76" x2="3.70" y2="18.92"/><line class="cls-1" x1="1.77" y1="17.14" x2="3.02" y2="19.30"/><line class="cls-1" x1="3.02" y1="16.25" x2="4.27" y2="18.41"/><line class="cls-1" x1="2.18" y1="18.70" x2="3.98" y2="16.98"/><line class="cls-1" x1="2.51" y1="19.52" x2="4.32" y2="17.81"/><g class="cls-1"></g></g></svg>'},Electronic_110:{shapeName:"Electronic_110",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="5.40" width="28.00" height="17.20"/><line class="cls-1" x1="2.38" y1="5.40" x2="2.38" y2="22.60"/><line class="cls-1" x1="4.76" y1="5.40" x2="4.76" y2="22.60"/><line class="cls-1" x1="7.14" y1="5.40" x2="7.14" y2="22.60"/><line class="cls-1" x1="9.52" y1="5.40" x2="9.52" y2="22.60"/><line class="cls-1" x1="11.90" y1="5.40" x2="11.90" y2="22.60"/><line class="cls-1" x1="14.27" y1="5.40" x2="14.27" y2="22.60"/><line class="cls-1" x1="16.65" y1="5.40" x2="16.65" y2="22.60"/><line class="cls-1" x1="19.03" y1="5.40" x2="19.03" y2="22.60"/><line class="cls-1" x1="21.41" y1="5.40" x2="21.41" y2="22.60"/><line class="cls-1" x1="23.79" y1="5.40" x2="23.79" y2="22.60"/><line class="cls-1" x1="26.17" y1="5.40" x2="26.17" y2="22.60"/><g class="cls-1"></g></g></svg>'},Electronic_111:{shapeName:"Electronic_111",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><path class="cls-1" d = "M20.81,9.61H8.04v2.12a41.30,41.30,0,0,1,-0.18,4.25,16.32,16.32,0,0,1,-0.61,3.06,17.89,17.89,0,0,1,-1.23,2.92l-0.31-0.19a18.53,18.53,0,0,0,1.20,-2.87A15.50,15.50,0,0,0,7.50,15.92a41.75,41.75,0,0,0,0.17,-4.22v-5.69h13.13Zm-0.33-0.35V6.38H8.04v2.89ZM20.98,18.12l0.330.06-0.06,1.33a2.88,2.88,0,0,1,-0.22,1.09,1.01,1.01,0,0,1,-0.60,0.51,3.92,3.92,0,0,1,-1.22,0.14H15.64q-1.00,0.00-1.42-0.39t-0.42-1.46V17.81l-5.62,0.39L8.14,17.85l5.66-0.39V15.09L9.12,15.42V15.08l4.68-0.31v-2.41q-3.24,0.38-4.68,0.50l-0.02-0.35q2.89-0.25,6.05-0.68a48.78,48.78,0,0,0,4.94,-0.88l0.10,0.37a57.39,57.39,0,0,1,-6.04,0.98V14.75L20.46,14.33V14.66L14.14,15.08V17.43l8.12-0.560.02,0.35L14.14,17.77v1.62q0.00,0.88,0.33,1.21t1.19,0.33H19.19a3.68,3.68,0,0,0,1.08,-0.12,0.76,0.76,0,0,0,0.48,-0.42,2.96,2.96,0,0,0,0.18,-0.95Z"/><g class="cls-1"></g></g></svg>'},Electronic_112:{shapeName:"Electronic_112",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M23.10,4.90v18.21H4.90V4.90h18.21m0.22-0.22H4.68v18.65h18.65V4.68Z"/><path class="cls-1" d = "M8.31,18.94a1.91,1.91,0,0,1,-0.66,-1.16l0.31-0.10a1.75,1.75,0,0,0,0.57,1.01,1.63,1.63,0,0,0,1.09,0.36,1.46,1.46,0,0,0,1.23,-0.56q0.44-0.56,0.44-1.59V8.65H11.57V16.94q0.00,1.16-0.51,1.79a1.79,1.79,0,0,1,-1.46,0.62A2.01,2.01,0,0,1,8.31,18.94Z"/><path class="cls-1" d = "M16.53,14.88,13.00,8.65h0.37l3.30,5.87h0.03l3.30-5.87h0.37L16.84,14.88V19.15H16.53Z"/><g class="cls-1"></g></g></svg>'},Electronic_113:{shapeName:"Electronic_113",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="0.11" y="0.11" width="27.78" height="27.78"/><path class="cls-1" d = "M14.15,7.03q0.00,4.70,2.03,8.46t6.02,6.54l-0.22,0.29Q15.08,17.50,14.02,9.90A15.82,15.82,0,0,1,11.63,16.71q-1.95,3.02-5.62,5.66l-0.22-0.31q4.16-2.96,6.08-6.48T13.81,7.44V5.63H14.15Z"/><g class="cls-1"></g></g></svg>'},Electronic_114:{shapeName:"Electronic_114",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><circle class="cls-2" cx="14.02" cy="13.98" r="8.80"/><g class="cls-1"></g></g></svg>'},Electronic_115:{shapeName:"Electronic_115",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><circle class="cls-1" cx="14.02" cy="13.98" r="8.80"/><path class="cls-1" d = "M11.98,13.73q-0.380.20-0.96,0.44c-0.130.07-0.260.12-0.380.18s-0.22,0.10-0.320.15v4.38a1.62,1.62,0,0,1,-0.10,0.64,0.57,0.57,0,0,1,-0.36,0.31,2.36,2.36,0,0,1,-0.75,0.09h-0.88l-0.04-0.25H9.10c0.39,0.00,0.65-0.06,0.76-0.17a0.89,0.89,0,0,0,0.18,-0.64V14.62l-0.67,0.29L8.09,15.46l-0.08-0.27q0.67-0.27,2.03-0.85V11.09H8.11V10.84h1.93V7.92h0.28V10.84h1.62v0.25H10.32V14.22l1.58-0.73Zm1.21-5.56V12.38H15.72v0.25H13.19V19.58l2.42-1.690.11,0.22L12.91,20.08l-0.17-0.20A1.01,1.01,0,0,0,12.91,19.69a0.34,0.34,0,0,0,0.03,-0.14v-11.38Zm6.80,8.07c0.00,0.32,0.00,0.69-0.03,1.12S19.93,18.16,19.91,18.49A2.30,2.30,0,0,1,19.76,19.25a0.77,0.77,0,0,1,-0.41,0.39,2.08,2.08,0,0,1,-0.82,0.13H17.60A1.38,1.38,0,0,1,16.63,19.49c-0.20-0.19-0.30-0.51-0.30-0.96V7.96h0.25V13.74Q17.25,13.13,18.20,12.07A21.00,21.00,0,0,0,19.67,10.28l0.200.17a23.51,23.51,0,0,1,-1.60,1.93,19.98,19.98,0,0,1,-1.69,1.69V18.52a1.05,1.05,0,0,0,0.22,0.77,1.15,1.15,0,0,0,0.81,0.22h0.93a1.98,1.98,0,0,0,0.69,-0.09,0.58,0.58,0,0,0,0.33,-0.31,1.78,1.78,0,0,0,0.11,-0.66l0.03-0.64q0.04-1.770.04-1.62Z"/><g class="cls-1"></g></g></svg>'},Electronic_116:{shapeName:"Electronic_116",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><circle class="cls-1" cx="14.00" cy="14.00" r="8.80"/><path class="cls-1" d = "M14.13,7.71V9.91H18.81V16.82H14.13V20.29H13.88V16.82H9.19V9.91H13.88V7.71ZM13.88,13.22v-3.06H9.44v3.06ZM9.44,13.50v3.06H13.88v-3.06Zm9.11-0.28v-3.06H14.13v3.06ZM14.13,13.50v3.06H18.56v-3.06Z"/><g class="cls-1"></g></g></svg>'},Electronic_117:{shapeName:"Electronic_117",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="6.21" x2="14.00"/><line class="cls-1" x1="14.00" y1="12.39" x2="14.00" y2="9.30"/><line class="cls-1" x1="14.00" y1="23.14" x2="14.00" y2="20.15"/><line class="cls-1" x1="10.89" y1="6.21" x2="17.11" y2="6.21"/><line class="cls-1" x1="10.89" y1="9.29" x2="17.11" y2="9.29"/><line class="cls-1" x1="16.72" y1="13.52" x2="11.28" y2="18.97"/><line class="cls-1" x1="11.26" y1="13.53" x2="16.74" y2="19.01"/><circle class="cls-1" cx="14.00" cy="16.25" r="3.88"/><line class="cls-1" x1="8.65" y1="23.22" x2="19.35" y2="23.22"/><line class="cls-1" x1="10.42" y1="25.59" x2="17.58" y2="25.59"/><line class="cls-1" x1="11.62" y1="28.00" x2="16.38" y2="28.00"/><g class="cls-1"></g></g></svg>'},Electronic_118:{shapeName:"Electronic_118",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><circle class="cls-1" cx="14.02" cy="13.98" r="8.80"/><path class="cls-1" d = "M17.06,12.91l-0.04,0.22h-2.63a5.06,5.06,0,0,1,-1.45,-0.18,2.15,2.15,0,0,1,-1.00,-0.64,6.30,6.30,0,0,1,-0.83,1.09l-0.16-0.18a5.38,5.38,0,0,0,0.84,-1.09A4.93,4.93,0,0,1,11.05,10.50l0.19-0.06a4.88,4.88,0,0,0,0.66,1.48,4.91,4.91,0,0,0,0.33,-0.88q0.14-0.48,0.25-1.09H11.14v-0.22l1.32-1.75H11.03v-0.22h1.70v0.22l-1.33,1.74H12.69v0.22A11.32,11.32,0,0,1,12.42,11.16a5.32,5.32,0,0,1,-0.37,0.95,2.07,2.07,0,0,0,0.96,0.63,4.72,4.72,0,0,0,1.39,0.18ZM14.88,12.64H14.66V11.86H12.81V11.66H14.66V10.92H13.19V10.72H14.66V9.95H13.23v-0.22H14.66V8.97h-1.73v-0.22H14.66V7.99H13.23V7.79H14.66V7.10h0.22V7.79h1.53v0.97h0.62v0.22H16.42v0.98H14.88V10.72h1.75v0.20H14.88V11.66h2.04v0.20H14.88Zm1.31-4.65H14.88v0.77h1.31Zm0.00,0.98H14.88v0.77h1.31Z"/><path class="cls-1" d = "M13.08,19.01,13.17,19.25l-1.31,1.17-0.17-0.17a1.28,1.28,0,0,0,0.12,-0.15,0.26,0.26,0,0,0,0.02,-0.12V17.17H11.02V16.93H12.05V19.92ZM12.29,16.13c-0.10-0.16-0.24-0.37-0.42-0.62s-0.33-0.46-0.44-0.60l0.19-0.14c0.46,0.63,0.75,1.03,0.88,1.22ZM15.87,19.91a10.67,10.67,0,0,0,1.16,0.70l-0.12,0.24a11.07,11.07,0,0,1,-1.18,-0.73,5.77,5.77,0,0,1,-0.89,-0.79A6.32,6.32,0,0,1,13.88,20.13a13.92,13.92,0,0,1,-1.31,0.78l-0.13-0.22A13.10,13.10,0,0,0,13.73,19.91,6.26,6.26,0,0,0,14.66,19.13a6.03,6.03,0,0,1,-0.92,-1.53,12.41,12.41,0,0,1,-0.66,-2.21l0.22-0.07a12.64,12.64,0,0,0,0.64,2.15,5.71,5.71,0,0,0,0.88,1.48A4.90,4.90,0,0,0,15.75,17.44a13.18,13.18,0,0,0,0.61,-2.26l0.230.05A13.91,13.91,0,0,1,15.95,17.57a5.27,5.27,0,0,1,-0.95,1.57A5.50,5.50,0,0,0,15.87,19.91ZM15.02,16.30c-0.12-0.24-0.26-0.52-0.42-0.82S14.31,14.94,14.22,14.79l0.22-0.12q0.18,0.32,0.42,0.78c0.16,0.31,0.29,0.55,0.37,0.73Z"/><g class="cls-1"></g></g></svg>'},Electronic_119:{shapeName:"Electronic_119",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><polyline class="cls-1" points="11.42 4.11 0 23.89 28.00 23.89 16.58 4.11"/><g class="cls-1"></g></g></svg>'},Electronic_120:{shapeName:"Electronic_120",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M13.08,19.74h-0.44L7.37,13.46l-1.21,1.21V19.74H5.82V8.26h0.34V14.22L12.15,8.26h0.49l-5.03,4.98Z"/><path class="cls-1" d = "M15.79,9.05a4.43,4.43,0,0,0,-1.65,1.97A7.19,7.19,0,0,0,13.56,14.00a7.26,7.26,0,0,0,0.57,2.99,4.44,4.44,0,0,0,1.62,1.97,4.38,4.38,0,0,0,2.46,0.69q2.08,0.00,3.63-1.68V14.49H18.85V14.15h3.32V18.07q-1.75,1.88-3.97,1.88A4.75,4.75,0,0,1,15.57,19.23a4.67,4.67,0,0,1,-1.73,-2.06A7.62,7.62,0,0,1,13.23,14.00a7.48,7.48,0,0,1,0.62,-3.15,4.72,4.72,0,0,1,1.75,-2.07,4.88,4.88,0,0,1,2.69,-0.73,4.53,4.53,0,0,1,1.92,0.41,4.25,4.25,0,0,1,1.53,1.18L21.50,9.88A3.80,3.80,0,0,0,20.11,8.75a4.21,4.21,0,0,0,-1.81,-0.39A4.54,4.54,0,0,0,15.79,9.05Z"/><g class="cls-1"></g></g></svg>'},Electronic_121:{shapeName:"Electronic_121",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="23.73" y1="3.95" x2="4.01" y2="23.82"/><line class="cls-1" x1="4.05" y1="4.05" x2="23.82" y2="23.96"/><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><g class="cls-1"></g></g></svg>'},Electronic_122:{shapeName:"Electronic_122",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><line class="cls-1" x1="1.20" y1="14.00" x2="26.58" y2="14.00"/><line class="cls-1" x1="5.25" y1="14.00" x2="5.25" y2="26.80"/><line class="cls-1" x1="22.75" y1="14.10" x2="22.75" y2="26.91"/><line class="cls-1" x1="14.00" y1="1.42" x2="14.00" y2="14.22"/><g class="cls-1"></g></g></svg>'},Electronic_123:{shapeName:"Electronic_123",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="2.21" cy="6.56" r="0.26"/><circle class="cls-1" cx="3.09" cy="11.85" r="0.26"/><circle class="cls-1" cx="1.69" cy="7.87" r="0.26"/><circle class="cls-1" cx="1.95" cy="14.00" r="0.26"/><circle class="cls-1" cx="7.16" cy="11.85" r="0.26"/><circle class="cls-1" cx="1.95" cy="8.10" r="0.26"/><circle class="cls-1" cx="1.09" cy="10.62" r="0.26"/><circle class="cls-1" cx="3.46" cy="9.19" r="0.26"/><circle class="cls-1" cx="3.09" cy="12.37" r="0.26"/><circle class="cls-1" cx="2.72" cy="6.56" r="0.26"/><circle class="cls-1" cx="4.75" cy="7.61" r="0.26"/><circle class="cls-1" cx="2.46" cy="6.56" r="0.26"/><circle class="cls-1" cx="2.03" cy="16.12" r="0.26"/><circle class="cls-1" cx="2.72" cy="12.11" r="0.26"/><circle class="cls-1" cx="3.35" cy="15.55" r="0.26"/><circle class="cls-1" cx="4.24" cy="20.84" r="0.26"/><circle class="cls-1" cx="2.83" cy="16.86" r="0.26"/><circle class="cls-1" cx="8.30" cy="20.84" r="0.26"/><circle class="cls-1" cx="6.16" cy="19.67" r="0.26"/><circle class="cls-1" cx="3.09" cy="17.09" r="0.26"/><circle class="cls-1" cx="4.61" cy="18.18" r="0.26"/><circle class="cls-1" cx="4.24" cy="21.36" r="0.26"/><circle class="cls-1" cx="3.87" cy="15.55" r="0.26"/><circle class="cls-1" cx="5.90" cy="16.61" r="0.26"/><circle class="cls-1" cx="8.62" cy="16.00" r="0.26"/><circle class="cls-1" cx="8.36" cy="12.94" r="0.26"/><circle class="cls-1" cx="1.03" cy="18.09" r="0.26"/><circle class="cls-1" cx="1.29" cy="18.32" r="0.26"/><circle class="cls-1" cx="2.81" cy="19.41" r="0.26"/><circle class="cls-1" cx="4.09" cy="17.84" r="0.26"/><circle class="cls-1" cx="9.85" cy="17.89" r="0.26"/><circle class="cls-1" cx="3.61" cy="15.55" r="0.26"/><circle class="cls-1" cx="3.87" cy="21.10" r="0.26"/><circle class="cls-1" cx="24.28" cy="17.21" r="0.26"/><circle class="cls-1" cx="24.28" cy="17.72" r="0.26"/><circle class="cls-1" cx="23.91" cy="17.46" r="0.26"/><circle class="cls-1" cx="18.95" cy="13.60" r="0.26"/><circle class="cls-1" cx="18.95" cy="14.11" r="0.26"/><circle class="cls-1" cx="18.58" cy="13.86" r="0.26"/><circle class="cls-1" cx="5.93" cy="9.96" r="0.26"/><circle class="cls-1" cx="6.81" cy="15.26" r="0.26"/><circle class="cls-1" cx="5.41" cy="11.28" r="0.26"/><circle class="cls-1" cx="10.62" cy="14.14" r="0.26"/><circle class="cls-1" cx="11.45" cy="12.51" r="0.26"/><circle class="cls-1" cx="12.68" cy="14.40" r="0.26"/><circle class="cls-1" cx="13.05" cy="20.79" r="0.26"/><circle class="cls-1" cx="12.54" cy="20.44" r="0.26"/><circle class="cls-1" cx="13.57" cy="17.81" r="0.26"/><circle class="cls-1" cx="11.51" cy="17.09" r="0.26"/><circle class="cls-1" cx="15.89" cy="17.29" r="0.26"/><circle class="cls-1" cx="15.37" cy="16.95" r="0.26"/><circle class="cls-1" cx="16.38" cy="20.01" r="0.26"/><circle class="cls-1" cx="17.24" cy="19.10" r="0.26"/><circle class="cls-1" cx="19.55" cy="18.58" r="0.26"/><circle class="cls-1" cx="19.04" cy="18.24" r="0.26"/><circle class="cls-1" cx="20.04" cy="21.30" r="0.26"/><circle class="cls-1" cx="17.92" cy="17.06" r="0.26"/><circle class="cls-1" cx="21.13" cy="19.95" r="0.26"/><circle class="cls-1" cx="20.61" cy="19.61" r="0.26"/><circle class="cls-1" cx="21.64" cy="16.98" r="0.26"/><circle class="cls-1" cx="19.58" cy="16.26" r="0.26"/><circle class="cls-1" cx="22.42" cy="13.94" r="0.26"/><circle class="cls-1" cx="25.62" cy="16.83" r="0.26"/><circle class="cls-1" cx="25.11" cy="16.49" r="0.26"/><circle class="cls-1" cx="26.14" cy="13.86" r="0.26"/><circle class="cls-1" cx="24.08" cy="13.14" r="0.26"/><circle class="cls-1" cx="20.33" cy="8.27" r="0.26"/><circle class="cls-1" cx="20.81" cy="10.99" r="0.26"/><circle class="cls-1" cx="22.36" cy="8.05" r="0.26"/><circle class="cls-1" cx="25.57" cy="10.94" r="0.26"/><circle class="cls-1" cx="25.05" cy="10.59" r="0.26"/><circle class="cls-1" cx="26.08" cy="7.96" r="0.26"/><circle class="cls-1" cx="24.02" cy="7.24" r="0.26"/><circle class="cls-1" cx="23.45" cy="16.12" r="0.26"/><circle class="cls-1" cx="21.53" cy="18.27" r="0.26"/><circle class="cls-1" cx="11.42" cy="15.43" r="0.26"/><circle class="cls-1" cx="16.18" cy="15.37" r="0.26"/><circle class="cls-1" cx="15.66" cy="15.03" r="0.26"/><circle class="cls-1" cx="16.58" cy="13.69" r="0.26"/><circle class="cls-1" cx="24.74" cy="21.16" r="0.26"/><circle class="cls-1" cx="24.22" cy="20.81" r="0.26"/><circle class="cls-1" cx="25.25" cy="18.18" r="0.26"/><circle class="cls-1" cx="23.19" cy="17.46" r="0.26"/><circle class="cls-1" cx="26.02" cy="15.15" r="0.26"/><circle class="cls-1" cx="27.05" cy="17.32" r="0.26"/><circle class="cls-1" cx="13.71" cy="11.77" r="0.26"/><circle class="cls-1" cx="5.67" cy="11.51" r="0.26"/><circle class="cls-1" cx="7.19" cy="12.60" r="0.26"/><circle class="cls-1" cx="6.44" cy="9.96" r="0.26"/><circle class="cls-1" cx="8.47" cy="11.02" r="0.26"/><circle class="cls-1" cx="5.38" cy="13.83" r="0.26"/><circle class="cls-1" cx="6.67" cy="12.25" r="0.26"/><circle class="cls-1" cx="6.18" cy="9.96" r="0.26"/><circle class="cls-1" cx="10.31" cy="8.76" r="0.26"/><circle class="cls-1" cx="11.51" cy="9.85" r="0.26"/><circle class="cls-1" cx="9.08" cy="6.87" r="0.26"/><circle class="cls-1" cx="8.56" cy="8.19" r="0.26"/><circle class="cls-1" cx="8.82" cy="8.42" r="0.26"/><circle class="cls-1" cx="10.34" cy="9.50" r="0.26"/><circle class="cls-1" cx="9.59" cy="6.87" r="0.26"/><circle class="cls-1" cx="11.62" cy="7.93" r="0.26"/><circle class="cls-1" cx="9.82" cy="9.16" r="0.26"/><circle class="cls-1" cx="16.43" cy="10.65" r="0.26"/><circle class="cls-1" cx="17.64" cy="11.74" r="0.26"/><circle class="cls-1" cx="15.20" cy="8.76" r="0.26"/><circle class="cls-1" cx="14.69" cy="10.08" r="0.26"/><circle class="cls-1" cx="19.90" cy="12.94" r="0.26"/><circle class="cls-1" cx="14.94" cy="10.31" r="0.26"/><circle class="cls-1" cx="16.46" cy="11.39" r="0.26"/><circle class="cls-1" cx="15.72" cy="8.76" r="0.26"/><circle class="cls-1" cx="17.75" cy="9.82" r="0.26"/><circle class="cls-1" cx="14.66" cy="12.63" r="0.26"/><circle class="cls-1" cx="15.95" cy="11.05" r="0.26"/><circle class="cls-1" cx="15.46" cy="8.76" r="0.26"/><circle class="cls-1" cx="19.58" cy="7.56" r="0.26"/><circle class="cls-1" cx="17.84" cy="6.98" r="0.26"/><circle class="cls-1" cx="18.09" cy="7.21" r="0.26"/><circle class="cls-1" cx="19.61" cy="8.30" r="0.26"/><circle class="cls-1" cx="19.10" cy="7.96" r="0.26"/><circle class="cls-1" cx="9.33" cy="6.87" r="0.26"/><circle class="cls-1" cx="6.44" cy="15.52" r="0.26"/><rect class="cls-1" y="5.00" width="28.00" height="18.01"/><g class="cls-1"></g></g></svg>'},Electronic_124:{shapeName:"Electronic_124",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="5.40" width="28.00" height="17.20"/><line class="cls-1" x1="14.44" y1="19.96" x2="25.08" y2="19.96"/><line class="cls-1" x1="24.55" y1="9.95" x2="24.55" y2="20.59"/><circle class="cls-1" cx="14.19" cy="18.62" r="1.01"/><circle class="cls-1" cx="3.12" cy="18.62" r="1.01"/><circle class="cls-1" cx="7.03" cy="8.94" r="1.01"/><circle class="cls-1" cx="24.55" cy="8.34" r="1.01"/><g class="cls-1"></g></g></svg>'},Electronic_125:{shapeName:"Electronic_125",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><path class="cls-1" d = "M22.14,16.21V16.56H14.56V20.02a2.93,2.93,0,0,1,-0.19,1.20,1.05,1.05,0,0,1,-0.66,0.57,4.39,4.39,0,0,1,-1.34,0.15H10.40l-0.06-0.35h2.02a3.98,3.98,0,0,0,1.16,-0.12,0.81,0.81,0,0,0,0.52,-0.45,2.68,2.68,0,0,0,0.14,-1.02V16.56H5.86V16.21h8.33V12.08H7.44V11.73H14.19V7.21Q9.53,7.66,7.03,7.80V7.46q2.87-0.19,6.82-0.58t6.79-0.83l0.04,0.35q-2.64,0.40-6.13,0.77V11.73H20.76V12.08H14.56V16.21Z"/><g class="cls-1"></g></g></svg>'},Electronic_126:{shapeName:"Electronic_126",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="15.94" y1="5.48" x2="12.16" y2="5.48"/><polyline class="cls-1" points="13.50 3.47 14.29 4.09 16.06 5.48 14.34 6.82 13.50 7.48"/><polyline class="cls-1" points="15.95 2.74 15.33 1.94 13.95 0.18 12.60 1.89 11.94 2.74"/><line class="cls-1" x1="15.94" y1="22.52" x2="12.16" y2="22.52"/><polyline class="cls-1" points="13.50 24.53 14.29 23.91 16.06 22.52 14.34 21.18 13.50 20.52"/><polyline class="cls-1" points="15.95 25.26 15.33 26.06 13.95 27.82 12.60 26.11 11.94 25.26"/><line class="cls-1" x1="13.45" y1="5.58" x2="13.45" y2="22.42"/><g class="cls-1"></g></g></svg>'},Electronic_132:{shapeName:"Electronic_132",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="12.38" y="9.89" width="3.24" height="8.66"/><line class="cls-1" x1="15.94" y1="5.52" x2="12.16" y2="5.52"/><polyline class="cls-1" points="13.50 3.52 14.29 4.14 16.06 5.52 14.34 6.87 13.50 7.53"/><polyline class="cls-1" points="15.95 2.78 15.33 1.98 13.95 0.22 12.60 1.94 11.94 2.78"/><line class="cls-1" x1="15.94" y1="22.57" x2="12.16" y2="22.57"/><polyline class="cls-1" points="13.50 24.57 14.29 23.95 16.06 22.57 14.34 21.22 13.50 20.56"/><polyline class="cls-1" points="15.95 25.31 15.33 26.10 13.95 27.87 12.60 26.15 11.94 25.31"/><g class="cls-1"></g></g></svg>'},Electronic_127:{shapeName:"Electronic_127",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="0.33" x2="14.00" y2="27.67"/><polyline class="cls-1" points="16.87 6.34 15.98 5.20 14.00 2.68 12.08 5.13 11.13 6.34"/><polyline class="cls-1" points="16.87 3.89 15.98 2.75 14.00 0.22 12.08 2.68 11.13 3.89"/><polyline class="cls-1" points="16.87 21.66 15.98 22.80 14.00 25.32 12.08 22.87 11.13 21.66"/><polyline class="cls-1" points="16.87 24.11 15.98 25.25 14.00 27.78 12.08 25.32 11.13 24.11"/><g class="cls-1"></g></g></svg>'},Electronic_128:{shapeName:"Electronic_128",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="2.73" x2="14.00" y2="25.27"/><polyline class="cls-1" points="16.87 6.34 15.98 5.20 14.00 2.68 12.08 5.13 11.13 6.34"/><polyline class="cls-1" points="16.87 3.89 15.98 2.75 14.00 0.22 12.08 2.68 11.13 3.89"/><polyline class="cls-1" points="16.87 21.66 15.98 22.80 14.00 25.32 12.08 22.87 11.13 21.66"/><polyline class="cls-1" points="16.87 24.11 15.98 25.25 14.00 27.78 12.08 25.32 11.13 24.11"/><g class="cls-1"></g></g></svg>'},Electronic_129:{shapeName:"Electronic_129",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="11.22" cy="23.66" r="4.34"/><circle class="cls-1" cx="16.78" cy="23.66" r="4.34"/><circle class="cls-1" cx="14.04" cy="16.80" r="4.34"/><rect class="cls-1" x="12.91" y="5.37" width="2.23" height="5.19"/><line class="cls-1" x1="14.05" y1="10.64" x2="14.05" y2="12.37"/><line class="cls-1" x1="14.04" y1="1.86" x2="14.04" y2="10.64"/><polyline class="cls-1" points="16.18 4.57 15.52 3.72 14.04 1.83 12.61 3.67 11.90 4.57"/><polyline class="cls-1" points="16.18 2.74 15.52 1.89 14.04 0.00 12.61 1.83 11.90 2.74"/><g class="cls-1"></g></g></svg>'},Electronic_130:{shapeName:"Electronic_130",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="11.68" y="7.81" width="4.64" height="12.39"/><line class="cls-1" x1="14.00" y1="2.73" x2="14.00" y2="7.91"/><line class="cls-1" x1="14.00" y1="20.23" x2="14.00" y2="25.31"/><polyline class="cls-1" points="16.87 6.34 15.98 5.20 14.00 2.68 12.08 5.13 11.13 6.34"/><polyline class="cls-1" points="16.87 3.89 15.98 2.75 14.00 0.22 12.08 2.68 11.13 3.89"/><polyline class="cls-1" points="16.87 21.66 15.98 22.80 14.00 25.32 12.08 22.87 11.13 21.66"/><polyline class="cls-1" points="16.87 24.11 15.98 25.25 14.00 27.78 12.08 25.32 11.13 24.11"/><g class="cls-1"></g></g></svg>'},Electronic_131:{shapeName:"Electronic_131",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-2" x="11.68" y="7.81" width="4.64" height="12.39"/><line class="cls-1" x1="14.00" y1="2.73" x2="14.00" y2="7.91"/><line class="cls-1" x1="14.00" y1="20.23" x2="14.00" y2="25.31"/><polyline class="cls-1" points="16.87 6.34 15.98 5.20 14.00 2.68 12.08 5.13 11.13 6.34"/><polyline class="cls-1" points="16.87 3.89 15.98 2.75 14.00 0.22 12.08 2.68 11.13 3.89"/><polyline class="cls-1" points="16.87 21.66 15.98 22.80 14.00 25.32 12.08 22.87 11.13 21.66"/><polyline class="cls-1" points="16.87 24.11 15.98 25.25 14.00 27.78 12.08 25.32 11.13 24.11"/><g class="cls-1"></g></g></svg>'},Electronic_133:{shapeName:"Electronic_133",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><circle class="cls-1" cx="14.00" cy="14.00" r="8.80"/><path class="cls-1" d = "M12.33,17.16l0.030.14q-0.090.02-2.16,0.55-1.97,0.53-2.15,0.56L8.00,18.16c0.03,0.00,0.10-0.03,0.22-0.06s0.30-0.08,0.57-0.15l1.34-0.35V12.03H8.14V11.76H10.13v-3.94h0.25v3.94H12.23V12.03H10.38V17.53l1.15-0.30,0.77-0.19ZM16.79,9.27a18.93,18.93,0,0,1,-0.79,1.86V20.19H15.75v-8.53A17.32,17.32,0,0,1,12.19,16.41l-0.18-0.20A16.64,16.64,0,0,0,14.59,13.10a18.76,18.76,0,0,0,1.92,-3.83H12.51V9.00H19.91v0.27ZM16.81,12.69q0.64,0.72,1.60,1.88t1.59,1.95l-0.180.18q-0.71-0.90-1.65-2.02T16.63,12.85Z"/><line class="cls-1" x1="7.58" y1="8.07" x2="3.83" y2="4.48"/><line class="cls-1" x1="24.32" y1="4.54" x2="20.68" y2="8.07"/><line class="cls-1" x1="7.58" y1="20.02" x2="3.83" y2="23.60"/><line class="cls-1" x1="24.32" y1="23.55" x2="20.68" y2="20.02"/><g class="cls-1"></g></g></svg>'},Electronic_134:{shapeName:"Electronic_134",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M23.10,4.90v18.21H4.90V4.90h18.21m0.22-0.22H4.68v18.65h18.65V4.68Z"/><path class="cls-1" d = "M13.06,13.64V8.75h0.31V19.25H13.06V13.93H6.59V19.25h-0.31V8.75h0.31V13.64Z"/><path class="cls-1" d = "M16.03,8.75V18.96h5.69V19.25H15.72V8.75Z"/><g class="cls-1"></g></g></svg>'},GroundKnifeSwitch:{shapeName:"GroundKnifeSwitch",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.02" x2="13.81" y2="7.98"/><line class="cls-1" x1="14.02" y1="16.17" x2="14.02" y2="22.06"/><line class="cls-1" x1="17.71" y1="7.88" x2="10.34" y2="7.88"/><line class="cls-1" x1="7.38" y1="22.09" x2="20.62" y2="22.09"/><line class="cls-1" x1="9.94" y1="25.03" x2="18.79" y2="25.03"/><line class="cls-1" x1="11.41" y1="28.00" x2="17.29" y2="28.00"/><g class="cls-1"></g></g></svg>'},Electronic_135:{shapeName:"Electronic_135",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.02" x2="13.81" y2="7.98"/><line class="cls-1" x1="14.02" y1="16.17" x2="14.02" y2="22.06"/><line class="cls-1" x1="8.58" y1="9.63" x2="13.89" y2="16.30"/><line class="cls-1" x1="17.71" y1="7.88" x2="10.34" y2="7.88"/><line class="cls-1" x1="7.38" y1="22.09" x2="20.62" y2="22.09"/><line class="cls-1" x1="9.94" y1="25.03" x2="18.79" y2="25.03"/><line class="cls-1" x1="11.41" y1="28.00" x2="17.29" y2="28.00"/><g class="cls-1"></g></g></svg>'},Electronic_136:{shapeName:"Electronic_136",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="7.37" y1="22.08" x2="20.63" y2="22.08"/><line class="cls-1" x1="9.93" y1="25.02" x2="18.80" y2="25.02"/><line class="cls-1" x1="11.41" y1="28.00" x2="17.29" y2="28.00"/><line class="cls-1" x1="14.04" x2="14.04" y2="7.77"/><line class="cls-1" x1="14.11" y1="16.08" x2="14.04" y2="22.09"/><line class="cls-1" x1="10.39" y1="7.98" x2="14.11" y2="16.08"/><line class="cls-1" x1="17.73" y1="7.89" x2="10.36" y2="7.89"/><g class="cls-1"></g></g></svg>'},Electronic_137:{shapeName:"Electronic_137",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="15.13" r="7.35"/><line class="cls-1" x1="14.00" y1="5.06" x2="14.00" y2="7.98"/><line class="cls-1" x1="14.82" y1="12.68" x2="14.82" y2="15.16"/><line class="cls-1" x1="16.48" y1="11.52" x2="14.82" y2="12.69"/><line class="cls-1" x1="14.77" y1="15.10" x2="13.11" y2="16.28"/><line class="cls-1" x1="13.12" y1="16.28" x2="11.46" y2="15.10"/><line class="cls-1" x1="16.54" y1="16.26" x2="16.54" y2="18.74"/><line class="cls-1" x1="16.54" y1="16.28" x2="14.88" y2="15.10"/><g class="cls-1"></g></g></svg>'},Electronic_138:{shapeName:"Electronic_138",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.02" y1="0.05" x2="14.02" y2="9.85"/><circle class="cls-1" cx="14.00" cy="14.00" r="13.89"/><line class="cls-1" x1="1.20" y1="9.86" x2="26.80" y2="9.86"/><line class="cls-1" x1="4.21" y1="17.21" x2="23.82" y2="17.21"/><line class="cls-1" x1="11.57" y1="23.85" x2="16.46" y2="23.85"/><g class="cls-1"></g></g></svg>'},Contector:{shapeName:"Contector",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="11.42" x2="11.42" y2="9.33"/><line class="cls-1" filter="true" x1="6.89" y1="9.30" x2="11.46" y2="16.81"/><line class="cls-1" x1="11.42" y1="16.65" x2="11.42" y2="28.00"/><path class="cls-1" d = "M11.45,9.33a2.79,2.79,0,0,1,0.00,-5.58"/><g class="cls-1"></g></g></svg>'},Electronic_139:{shapeName:"Electronic_139",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="11.42" x2="11.42" y2="9.33"/><line class="cls-1" x1="6.89" y1="9.30" x2="11.46" y2="16.81"/><line class="cls-1" x1="11.42" y1="16.65" x2="11.42" y2="28.00"/><path class="cls-1" d = "M11.45,9.33a2.79,2.79,0,0,1,0.00,-5.58"/><g class="cls-1"></g></g></svg>'},Electronic_140:{shapeName:"Electronic_140",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="-0.02" x2="14.00" y2="9.31"/><line class="cls-1" x1="11.43" y1="7.84" x2="14.04" y2="16.79"/><line class="cls-1" x1="14.00" y1="16.63" x2="14.00" y2="27.98"/><path class="cls-1" d = "M14.04,9.31a2.79,2.79,0,0,1,0.00,-5.58"/><g class="cls-1"></g></g></svg>'},Electronic_141:{shapeName:"Electronic_141",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="3.60" y1="22.19" x2="23.21" y2="6.75"/><polygon class="cls-2" points="24.40 5.81 19.97 6.95 22.26 9.85 24.40 5.81"/><line class="cls-1" x1="10.59" y1="-0.05" x2="10.59" y2="6.51"/><line class="cls-1" x1="10.58" y1="21.49" x2="10.58" y2="28.05"/><path class="cls-1" d = "M10.57,6.56a1.69,1.69,0,0,1,1.69,1.61c0.07,1.27-0.74,2.02-1.68,2.02"/><path class="cls-1" d = "M10.57,10.19A1.69,1.69,0,0,1,12.26,11.81c0.07,1.27-0.74,2.02-1.68,2.02"/><path class="cls-1" d = "M10.57,14.00a1.69,1.69,0,0,1,1.69,1.61c0.07,1.27-0.74,2.03-1.68,2.03"/><path class="cls-1" d = "M10.57,17.79a1.68,1.68,0,0,1,1.69,1.61c0.07,1.27-0.74,2.02-1.68,2.02"/><line class="cls-1" x1="14.81" y1="0.55" x2="14.81" y2="27.45"/><line class="cls-1" x1="17.43" y1="0.66" x2="17.43" y2="27.56"/><g class="cls-1"></g></g></svg>'},Electronic_142:{shapeName:"Electronic_142",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="9.14"/><line class="cls-1" y1="14.00" x2="28.00" y2="14.00"/><line class="cls-1" x1="14.00" x2="14.00" y2="28.00"/><polygon class="cls-2" points="14.00 0 10.99 6.83 17.01 6.83 14.00 0"/><g class="cls-1"></g></g></svg>'},Electronic_275:{shapeName:"Electronic_275",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-3" cx="14.00" cy="14.00" r="9.14"/><line class="cls-1" y1="14.00" x2="28.00" y2="14.00"/><line class="cls-1" x1="14.00" x2="14.00" y2="28.00"/><polygon class="cls-2" points="14.00 0 10.99 6.83 17.01 6.83 14.00 0"/><g class="cls-1"></g></g></svg>'},Electronic_143:{shapeName:"Electronic_143",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-2" x="10.29" y="4.04" width="7.42" height="19.82"/><line class="cls-1" x1="14.00" y1="-0.06" x2="14.00" y2="4.05"/><line class="cls-1" x1="14.00" y1="23.95" x2="14.00" y2="27.94"/><g class="cls-1"></g></g></svg>'},Electronic_177:{shapeName:"Electronic_177",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><polyline class="cls-1" points="10.29 7.88 10.29 4.10 17.71 4.10 17.71 23.92 10.29 23.92 10.29 7.88"/><line class="cls-1" x1="14.00" x2="14.00" y2="4.11"/><line class="cls-1" x1="14.00" y1="24.01" x2="14.00" y2="28.00"/><g class="cls-1"></g></g></svg>'},Electronic_144:{shapeName:"Electronic_144",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><polygon class="cls-1" points="2.94 28.00 14.09 18.27 25.06 28.00 14.09 0 2.94 28.00"/><line class="cls-1" x1="14.11" y1="0.11" x2="14.11" y2="18.27"/><g class="cls-1"></g></g></svg>'},Electronic_145:{shapeName:"Electronic_145",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="1.48" y1="27.79" x2="12.08" y2="24.06"/><line class="cls-1" x1="17.37" y1="22.21" x2="27.97" y2="18.48"/><line class="cls-1" x1="10.90" y1="20.71" x2="13.00" y2="26.70"/><line class="cls-1" x1="16.19" y1="18.85" x2="18.29" y2="24.84"/><line class="cls-1" x1="1.42" y1="27.81" x2="3.50" y2="16.77"/><line class="cls-1" x1="4.53" y1="11.26" x2="6.61" y2="0.21"/><line class="cls-1" y1="16.11" x2="6.24" y2="17.28"/><line class="cls-1" x1="1.03" y1="10.60" x2="7.28" y2="11.77"/><line class="cls-1" x1="28.00" y1="18.46" x2="19.47" y2="11.15"/><line class="cls-1" x1="15.21" y1="7.50" x2="6.68" y2="0.19"/><line class="cls-1" x1="21.78" y1="8.45" x2="17.65" y2="13.27"/><line class="cls-1" x1="17.53" y1="4.80" x2="13.39" y2="9.62"/><g class="cls-1"></g></g></svg>'},Electronic_146:{shapeName:"Electronic_146",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M9.48,13.72q1.410.15,2.22,0.93a2.58,2.58,0,0,1,0.81,1.95,2.65,2.65,0,0,1,-1.19,2.33q-1.19,0.81-3.39,0.81H5.25V8.26H7.89q1.93,0.00,2.96,0.71a2.32,2.32,0,0,1,1.03,2.03,2.56,2.56,0,0,1,-0.66,1.75,2.98,2.98,0,0,1,-1.75,0.94ZM5.58,8.58V13.56H8.29q1.50,0.00,2.38-0.67a2.21,2.21,0,0,0,0.88,-1.85,2.05,2.05,0,0,0,-0.96,-1.81q-0.96-0.64-2.75-0.64ZM7.84,19.42q2.08,0.00,3.21-0.73a2.35,2.35,0,0,0,1.12,-2.09A2.30,2.30,0,0,0,11.16,14.58q-1.03-0.70-2.86-0.70H5.58V19.42Z"/><path class="cls-1" d = "M22.75,18.39a3.98,3.98,0,0,1,-1.49,1.16,4.73,4.73,0,0,1,-1.97,0.40,4.86,4.86,0,0,1,-2.69,-0.73,4.74,4.74,0,0,1,-1.75,-2.09,7.67,7.67,0,0,1,-0.61,-3.19,7.40,7.40,0,0,1,0.61,-3.12,4.66,4.66,0,0,1,1.75,-2.05,4.94,4.94,0,0,1,2.69,-0.72,4.50,4.50,0,0,1,1.87,0.41A4.98,4.98,0,0,1,22.75,9.61L22.51,9.84a4.52,4.52,0,0,0,-1.49,-1.07,4.19,4.19,0,0,0,-1.75,-0.40A4.56,4.56,0,0,0,16.78,9.05a4.42,4.42,0,0,0,-1.64,1.94,7.05,7.05,0,0,0,-0.57,2.96,7.39,7.39,0,0,0,0.57,3.03,4.44,4.44,0,0,0,1.64,1.97,4.51,4.51,0,0,0,2.50,0.69q2.07,0.00,3.22-1.49Z"/><g class="cls-1"></g></g></svg>'},Electronic_147:{shapeName:"Electronic_147",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="0.05" y="5.43" width="27.86" height="17.11"/><line class="cls-1" x1="0.04" y1="9.07" x2="4.63" y2="5.31"/><line class="cls-1" x1="24.94" y1="22.31" x2="28.00" y2="19.81"/><line class="cls-1" x1="5.25" y1="8.90" x2="9.44" y2="5.44"/><line class="cls-1" x1="5.36" y1="13.50" x2="9.55" y2="10.04"/><line class="cls-1" x1="10.83" y1="8.98" x2="15.02" y2="5.52"/><line class="cls-1" x1="0.03" y1="13.20" x2="4.22" y2="9.74"/><line class="cls-1" x1="24.14" y1="19.16" x2="27.92" y2="16.03"/><line class="cls-1" x1="20.03" y1="22.53" x2="23.10" y2="20.00"/><line class="cls-1" y1="17.77" x2="4.19" y2="14.31"/><line class="cls-1" x1="18.34" y1="18.86" x2="22.53" y2="15.40"/><line class="cls-1" x1="23.81" y1="14.34" x2="28.00" y2="10.88"/><line class="cls-1" x1="13.78" y1="22.31" x2="17.03" y2="19.67"/><line class="cls-1" x1="6.01" y1="17.63" x2="10.20" y2="14.18"/><line class="cls-1" x1="11.40" y1="13.20" x2="15.59" y2="9.74"/><line class="cls-1" x1="16.63" y1="8.90" x2="20.82" y2="5.44"/><line class="cls-1" y1="22.53" x2="4.84" y2="18.45"/><line class="cls-1" x1="12.14" y1="18.26" x2="16.33" y2="14.80"/><line class="cls-1" x1="17.52" y1="13.82" x2="21.72" y2="10.37"/><line class="cls-1" x1="22.75" y1="9.52" x2="27.56" y2="5.47"/><line class="cls-1" x1="6.77" y1="22.53" x2="10.97" y2="19.07"/><g class="cls-1"></g></g></svg>'},Electronic_148:{shapeName:"Electronic_148",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="5.40" width="28.00" height="17.20"/><line class="cls-1" x1="14.44" y1="20.40" x2="25.08" y2="20.40"/><line class="cls-1" x1="24.99" y1="9.95" x2="24.99" y2="20.59"/><polygon class="cls-1" points="22.91 8.04 25.35 6.21 26.22 8.86 23.95 10.66 22.91 8.04"/><line class="cls-1" x1="25.25" y1="6.81" x2="23.45" y2="8.52"/><line class="cls-1" x1="24.06" y1="7.33" x2="25.30" y2="9.48"/><line class="cls-1" x1="23.38" y1="7.71" x2="24.62" y2="9.87"/><line class="cls-1" x1="24.62" y1="6.82" x2="25.87" y2="8.97"/><line class="cls-1" x1="23.78" y1="9.26" x2="25.58" y2="7.55"/><line class="cls-1" x1="24.11" y1="10.09" x2="25.92" y2="8.37"/><polygon class="cls-1" points="7.25 8.04 9.68 6.21 10.55 8.86 8.29 10.66 7.25 8.04"/><line class="cls-1" x1="9.58" y1="6.81" x2="7.78" y2="8.52"/><line class="cls-1" x1="8.39" y1="7.33" x2="9.64" y2="9.48"/><line class="cls-1" x1="7.71" y1="7.71" x2="8.95" y2="9.87"/><line class="cls-1" x1="8.95" y1="6.82" x2="10.20" y2="8.97"/><line class="cls-1" x1="8.11" y1="9.26" x2="9.92" y2="7.55"/><line class="cls-1" x1="8.45" y1="10.09" x2="10.25" y2="8.37"/><polygon class="cls-1" points="6 17.47 3.75 15.64 4.62 18.29 2.35 20.10 6 17.47"/><line class="cls-1" x1="3.65" y1="16.24" x2="1.84" y2="17.96"/><line class="cls-1" x1="2.46" y1="16.76" x2="3.70" y2="18.92"/><line class="cls-1" x1="1.77" y1="17.14" x2="3.02" y2="19.30"/><line class="cls-1" x1="3.02" y1="16.25" x2="4.27" y2="18.41"/><line class="cls-1" x1="2.18" y1="18.70" x2="3.98" y2="16.98"/><line class="cls-1" x1="2.51" y1="19.52" x2="4.32" y2="17.81"/><polygon class="cls-1" points="13.48 17.47 15.91 15.64 16.79 18.29 14.52 20.10 13.48 17.47"/><line class="cls-1" x1="15.82" y1="16.24" x2="14.01" y2="17.96"/><line class="cls-1" x1="14.63" y1="16.76" x2="15.87" y2="18.92"/><line class="cls-1" x1="13.94" y1="17.14" x2="15.19" y2="19.30"/><line class="cls-1" x1="15.19" y1="16.25" x2="16.43" y2="18.41"/><line class="cls-1" x1="14.35" y1="18.70" x2="16.15" y2="16.98"/><line class="cls-1" x1="14.68" y1="19.52" x2="16.48" y2="17.81"/><g class="cls-1"></g></g></svg>'},Electronic_149:{shapeName:"Electronic_149",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="9.04" x2="14.00" y2="27.99"/><line class="cls-1" x1="26.64" y1="0.21" x2="13.96" y2="9.17"/><line class="cls-1" x1="14.04" y1="9.17" x2="1.36" y2="0.21"/><g class="cls-1"></g></g></svg>'},Electronic_150:{shapeName:"Electronic_150",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="27.89" y1="13.89" x2="-0.11" y2="13.89"/><line class="cls-1" x1="13.56" y1="13.86"/><line class="cls-1" x1="28.00" y1="27.78" x2="13.41" y2="13.71"/><line class="cls-1" x1="13.46" y1="13.83" y2="28.00"/><line class="cls-1" x1="27.78" x2="13.44" y2="13.86"/><circle class="cls-2" cx="13.89" cy="13.89" r="1.42"/><g class="cls-1"></g></g></svg>'},Electronic_151:{shapeName:"Electronic_151",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.14" cy="17.63" r="7.35"/><path class="cls-1" d = "M14.15,2.82c0.150.12,0.30,0.25,0.45,0.37C18.09,6.14,19.91,10.47,21.03,15.06"/><line class="cls-1" x1="14.14" y1="24.98" x2="14.14" y2="27.90"/><line class="cls-1" x1="14.14" y1="-0.10" x2="14.14" y2="2.82"/><line class="cls-1" x1="3.98" y1="24.05" x2="24.97" y2="10.53"/><polygon class="cls-2" points="26.24 9.71 21.72 10.42 23.72 13.53 26.24 9.71"/><g class="cls-1"></g></g></svg>'},Electronic_152:{shapeName:"Electronic_152",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><path class="cls-1" d = "M13.90,16.22A2.28,2.28,0,0,1,14.22,14.93,8.67,8.67,0,0,1,15.27,13.65a8.61,8.61,0,0,0,1.22,-1.53,3.31,3.31,0,0,0,0.42,-1.73,2.65,2.65,0,0,0,-0.75,-1.97,2.71,2.71,0,0,0,-1.99,-0.74,2.93,2.93,0,0,0,-1.79,0.60,4.56,4.56,0,0,0,-1.34,1.71l-0.33-0.19a4.70,4.70,0,0,1,1.44,-1.84,3.33,3.33,0,0,1,2.02,-0.66,3.14,3.14,0,0,1,2.27,0.83,2.88,2.88,0,0,1,0.88,2.19A3.94,3.94,0,0,1,17.06,11.73a4.04,4.04,0,0,1,-0.59,1.07q-0.35,0.44-0.89,1.02a8.16,8.16,0,0,0,-0.99,1.22,2.27,2.27,0,0,0,-0.34,1.18l-0.02,0.77H13.92Zm0.66,4.46h-0.88v-0.88h0.88Z"/><g class="cls-1"></g></g></svg>'},Electronic_153:{shapeName:"Electronic_153",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="5.40" width="28.00" height="17.20"/><line class="cls-1" x1="17.01" y1="19.20" x2="17.23" y2="19.20"/><line class="cls-1" x1="17.64" y1="19.20" x2="24.92" y2="19.20"/><line class="cls-1" x1="25.13" y1="19.20" x2="25.35" y2="19.20"/><line class="cls-1" x1="25.29" y1="11.05" x2="25.29" y2="11.27"/><line class="cls-1" x1="25.29" y1="11.68" x2="25.29" y2="18.96"/><line class="cls-1" x1="25.29" y1="19.17" x2="25.29" y2="19.39"/><line class="cls-1" x1="5.58" y1="7.20" x2="7.45" y2="8.19"/><line class="cls-1" x1="7.52" y1="6.78" x2="7.52" y2="9.09"/><line class="cls-1" x1="1.42" y1="18.66" x2="3.29" y2="19.65"/><line class="cls-1" x1="3.36" y1="18.24" x2="3.36" y2="20.55"/><line class="cls-1" x1="15.12" y1="17.27" x2="16.99" y2="18.25"/><line class="cls-1" x1="17.06" y1="16.84" x2="17.06" y2="19.15"/><line class="cls-1" x1="23.41" y1="9.17" x2="25.27" y2="10.16"/><line class="cls-1" x1="25.35" y1="8.75" x2="25.35" y2="11.06"/><g class="cls-1"></g></g></svg>'},Electronic_154:{shapeName:"Electronic_154",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="0.11" y="4.68" width="27.78" height="18.65"/><line class="cls-1" x1="0.11" y1="4.70" x2="27.75" y2="23.16"/><line class="cls-1" x1="0.11" y1="23.30" x2="27.89" y2="4.70"/><g class="cls-1"></g></g></svg>'},Electronic_155:{shapeName:"Electronic_155",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M14.45,3.06A6.78,6.78,0,1,1,7.66,9.84a6.80,6.80,0,0,1,6.78,-6.78m0.00-0.22a7.00,7.00,0,1,0,7.00,7.00,7.00,7.00,0,0,0,-7.00,-7.00Z"/><path class="cls-1" d = "M14.45,11.71a6.78,6.78,0,1,1,-6.78,6.78,6.80,6.80,0,0,1,6.78,-6.78m0.00-0.22a7.00,7.00,0,1,0,7.00,7.00,7.00,7.00,0,0,0,-7.00,-7.00Z"/><line class="cls-1" x1="14.45" y1="25.34" x2="14.45" y2="28.13"/><line class="cls-1" x1="14.45" y1="-0.09" x2="14.45" y2="2.95"/><g class="cls-1"></g></g></svg>'},Electronic_156:{shapeName:"Electronic_156",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-2" cx="14.00" cy="9.72" r="6.90"/><path class="cls-1" d = "M14.00,2.93a6.78,6.78,0,1,1,-6.78,6.78,6.80,6.80,0,0,1,6.78,-6.78m0.00-0.22a7.00,7.00,0,1,0,7.00,7.00,7.00,7.00,0,0,0,-7.00,-7.00Z"/><path class="cls-1" d = "M14.00,11.58A6.78,6.78,0,1,1,7.22,18.38a6.80,6.80,0,0,1,6.78,-6.78m0.00-0.22A7.00,7.00,0,1,0,21.00,18.38a7.00,7.00,0,0,0,-7.00,-7.00Z"/><line class="cls-1" x1="14.00" y1="25.21" x2="14.00" y2="28.00"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.79"/><g class="cls-1"></g></g></svg>'},Electronic_157:{shapeName:"Electronic_157",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" x2="14.00" y2="4.48"/><line class="cls-1" x1="14.00" y1="23.73" x2="14.00" y2="28.00"/><rect class="cls-2" x="11.62" y="4.38" width="4.76" height="19.25"/><g class="cls-1"></g></g></svg>'},Electronic_158:{shapeName:"Electronic_158",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" x2="14.00" y2="4.48"/><line class="cls-1" x1="14.00" y1="23.73" x2="14.00" y2="28.00"/><rect class="cls-1" x="11.62" y="4.38" width="4.76" height="19.25"/><g class="cls-1"></g></g></svg>'},Electronic_159:{shapeName:"Electronic_159",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" x2="14.00" y2="10.06"/><line class="cls-1" x1="14.00" y1="20.52" x2="14.00" y2="28.00"/><line class="cls-1" x1="6.89" y1="11.70" x2="14.11" y2="20.67"/><line class="cls-1" x1="18.67" y1="10.00" x2="9.33" y2="10.00"/><circle class="cls-1" cx="14.00" cy="12.08" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_160:{shapeName:"Electronic_160",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" x2="14.00" y2="10.06"/><line class="cls-1" x1="14.00" y1="20.52" x2="14.00" y2="28.00"/><line class="cls-1" x1="9.28" y1="9.97" x2="14.11" y2="20.67"/><line class="cls-1" x1="18.67" y1="10.00" x2="9.33" y2="10.00"/><circle class="cls-1" cx="14.00" cy="12.08" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_161:{shapeName:"Electronic_161",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><rect class="cls-1" x="1.97" y="7.13" width="24.06" height="13.74"/><line class="cls-1" x1="26.14" y1="20.89" x2="2.08" y2="7.33"/><line class="cls-1" x1="2.08" y1="20.67" x2="26.14" y2="7.11"/><g class="cls-1"></g></g></svg>'},Electronic_162:{shapeName:"Electronic_162",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><rect class="cls-1" x="1.97" y="7.13" width="24.06" height="13.74"/><g class="cls-1"></g></g></svg>'},Electronic_163:{shapeName:"Electronic_163",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" x2="14.00" y2="10.06"/><line class="cls-1" x1="14.00" y1="20.52" x2="14.00" y2="28.00"/><line class="cls-1" x1="6.89" y1="11.70" x2="14.11" y2="20.67"/><line class="cls-1" x1="18.67" y1="10.00" x2="9.33" y2="10.00"/><g class="cls-1"></g></g></svg>'},Electronic_164:{shapeName:"Electronic_164",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" x2="14.00" y2="10.06"/><line class="cls-1" x1="14.00" y1="20.52" x2="14.00" y2="28.00"/><line class="cls-1" x1="9.28" y1="9.97" x2="14.11" y2="20.67"/><line class="cls-1" x1="18.67" y1="10.00" x2="9.33" y2="10.00"/><g class="cls-1"></g></g></svg>'},Electronic_165:{shapeName:"Electronic_165",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="0.11" y="0.11" width="27.78" height="27.78"/><path class="cls-1" d = "M11.30,14.66q-0.37-0.37-1.53-1.41L8.78,12.32v10.32H8.44V11.22A27.20,27.20,0,0,1,5.97,17.59l-0.27-0.22A27.79,27.79,0,0,0,8.44,9.91V9.84H5.95V9.48H8.44V5.37h0.35V9.48H11.32V9.84H8.78v2.04C9.19,12.27,9.63,12.66,10.06,13.03q0.75,0.67,1.46,1.35ZM20.43,14.00Q18.76,19.13,18.00,21.13H21.76v0.35H10.80V21.13H17.66Q18.56,18.63,20.13,13.90ZM16.46,5.54q1.93,3.83,5.83,7.12l-0.19,0.29q-3.85-3.28-5.77-6.95A22.62,22.62,0,0,1,11.11,12.51l-0.22-0.29Q14.44,9.12,16.17,5.54ZM12.27,14.00l1.50,5.58-0.330.12Q12.47,16.05,11.92,14.11ZM12.52,12.25H20.13v0.37H12.52ZM16.56,19.15Q15.97,16.86,15.87,16.43,15.53,15.18,15.19,13.84L15.53,13.74q0.15,0.58,0.36,1.36t0.44,1.66L16.89,19.05Z"/><g class="cls-1"></g></g></svg>'},Electronic_166:{shapeName:"Electronic_166",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><line class="cls-1" x1="1.20" y1="19.48" x2="26.80" y2="19.48"/><line class="cls-1" x1="1.05" y1="8.52" x2="26.80" y2="8.52"/><line class="cls-1" x1="5.19" y1="3.17" x2="5.19" y2="24.86"/><line class="cls-1" x1="22.87" y1="3.17" x2="22.87" y2="24.86"/><g class="cls-1"></g></g></svg>'},Electronic_167:{shapeName:"Electronic_167",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="15.42" width="28.00" height="12.58"/><rect class="cls-1" width="28.00" height="12.58"/><path class="cls-1" d = "M7.83,23.70H7.51L7.00,22.30H5.47l-0.51,1.40H4.64l1.44-3.97h0.32Zm-1.61-3.52-0.66,1.84h1.35l-0.66-1.84Z"/><path class="cls-1" d = "M14.57,21.62a1.15,1.15,0,0,1,0.70,0.31A0.88,0.88,0,0,1,15.53,22.57a0.96,0.96,0,0,1,-0.41,0.83,2.00,2.00,0,0,1,-1.17,0.29h-1.09V19.73h1.07a1.75,1.75,0,0,1,1.03,0.26,0.91,0.91,0,0,1,0.16,1.30,0.99,0.99,0,0,1,-0.55,0.32ZM13.16,20.02v1.45h0.81a1.26,1.26,0,0,0,0.76,-0.20,0.64,0.64,0,0,0,0.28,-0.55,0.58,0.58,0,0,0,-0.29,-0.52,1.53,1.53,0,0,0,-0.82,-0.18ZM13.90,23.41A1.77,1.77,0,0,0,14.88,23.19a0.71,0.71,0,0,0,0.34,-0.63A0.66,0.66,0,0,0,14.88,21.96a1.72,1.72,0,0,0,-0.91,-0.20H13.16V23.41Z"/><path class="cls-1" d = "M23.36,23.14a1.38,1.38,0,0,1,-0.54,0.46,1.61,1.61,0,0,1,-0.73,0.17,1.64,1.64,0,0,1,-1.55,-0.98,2.59,2.59,0,0,1,-0.22,-1.09,2.49,2.49,0,0,1,0.22,-1.07A1.66,1.66,0,0,1,21.16,19.91,1.74,1.74,0,0,1,22.09,19.65a1.60,1.60,0,0,1,0.72,0.17,1.45,1.45,0,0,1,0.55,0.46l-0.240.18a1.24,1.24,0,0,0,-0.46,-0.37,1.29,1.29,0,0,0,-0.58,-0.14,1.34,1.34,0,0,0,-1.28,0.83,2.20,2.20,0,0,0,-0.18,0.92,2.30,2.30,0,0,0,0.18,0.94,1.42,1.42,0,0,0,0.51,0.63,1.36,1.36,0,0,0,0.77,0.22,1.33,1.33,0,0,0,0.58,-0.13,1.22,1.22,0,0,0,0.46,-0.39Z"/><path class="cls-1" d = "M7.83,8.27H7.51L7.00,6.88H5.47l-0.51,1.40H4.64l1.44-3.97h0.32Zm-1.61-3.52-0.66,1.84h1.35l-0.66-1.84Z"/><path class="cls-1" d = "M14.57,6.20a1.15,1.15,0,0,1,0.70,0.31A0.88,0.88,0,0,1,15.53,7.15a0.96,0.96,0,0,1,-0.41,0.83,2.00,2.00,0,0,1,-1.17,0.29h-1.09V4.30h1.07a1.75,1.75,0,0,1,1.03,0.26A0.84,0.84,0,0,1,15.31,5.29a0.84,0.84,0,0,1,-0.20,0.57,0.99,0.99,0,0,1,-0.55,0.32ZM13.16,4.59v1.45h0.81a1.26,1.26,0,0,0,0.76,-0.20,0.64,0.64,0,0,0,0.28,-0.55,0.58,0.58,0,0,0,-0.29,-0.52A1.53,1.53,0,0,0,13.90,4.59Zm0.73,3.39a1.77,1.77,0,0,0,0.97,-0.22,0.71,0.71,0,0,0,0.34,-0.63A0.66,0.66,0,0,0,14.88,6.54,1.72,1.72,0,0,0,13.97,6.34H13.16V7.98Z"/><path class="cls-1" d = "M23.36,7.72a1.38,1.38,0,0,1,-0.54,0.46,1.61,1.61,0,0,1,-0.73,0.17,1.64,1.64,0,0,1,-1.55,-0.98,2.59,2.59,0,0,1,-0.22,-1.09,2.49,2.49,0,0,1,0.22,-1.07,1.66,1.66,0,0,1,0.62,-0.71A1.74,1.74,0,0,1,22.09,4.23a1.60,1.60,0,0,1,0.72,0.17,1.45,1.45,0,0,1,0.55,0.46l-0.240.18a1.24,1.24,0,0,0,-0.46,-0.37,1.29,1.29,0,0,0,-0.58,-0.14,1.34,1.34,0,0,0,-1.28,0.83,2.20,2.20,0,0,0,-0.18,0.92A2.30,2.30,0,0,0,20.81,7.22a1.42,1.42,0,0,0,0.51,0.63,1.36,1.36,0,0,0,0.77,0.22,1.33,1.33,0,0,0,0.58,-0.13,1.22,1.22,0,0,0,0.46,-0.39Z"/><g class="cls-1"></g></g></svg>'},Electronic_168:{shapeName:"Electronic_168",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="7.71" width="28.00" height="12.58"/><path class="cls-1" d = "M23.00,15.98h-0.32l-0.50-1.40H20.63L20.13,15.98H19.80l1.44-3.97h0.32ZM21.39,12.47l-0.66,1.84h1.34l-0.66-1.84Z"/><path class="cls-1" d = "M14.72,13.91A1.15,1.15,0,0,1,15.42,14.22a0.88,0.88,0,0,1,0.25,0.64,0.96,0.96,0,0,1,-0.41,0.83,2.00,2.00,0,0,1,-1.17,0.29H13.01V12.02h1.07a1.75,1.75,0,0,1,1.03,0.26A0.91,0.91,0,0,1,15.26,13.56a0.98,0.98,0,0,1,-0.55,0.32Zm-1.40-1.61V13.76h0.80A1.27,1.27,0,0,0,14.88,13.56a0.64,0.64,0,0,0,0.28,-0.55A0.58,0.58,0,0,0,14.88,12.49a1.53,1.53,0,0,0,-0.82,-0.18Zm0.73,3.39a1.78,1.78,0,0,0,0.98,-0.22,0.71,0.71,0,0,0,0.34,-0.63,0.66,0.66,0,0,0,-0.33,-0.59,1.72,1.72,0,0,0,-0.91,-0.20H13.32v1.65Z"/><path class="cls-1" d = "M8.04,15.43a1.38,1.38,0,0,1,-0.54,0.46,1.60,1.60,0,0,1,-0.73,0.17,1.64,1.64,0,0,1,-1.55,-0.98,2.59,2.59,0,0,1,-0.22,-1.09,2.49,2.49,0,0,1,0.22,-1.07,1.67,1.67,0,0,1,0.62,-0.71A1.74,1.74,0,0,1,6.78,11.94a1.60,1.60,0,0,1,0.72,0.17,1.46,1.46,0,0,1,0.56,0.46l-0.240.18a1.24,1.24,0,0,0,-0.46,-0.37,1.29,1.29,0,0,0,-0.58,-0.14,1.35,1.35,0,0,0,-1.28,0.83,2.20,2.20,0,0,0,-0.18,0.92,2.30,2.30,0,0,0,0.18,0.94,1.40,1.40,0,0,0,0.51,0.63,1.39,1.39,0,0,0,1.35,0.09,1.22,1.22,0,0,0,0.46,-0.39Z"/><g class="cls-1"></g></g></svg>'},Electronic_169:{shapeName:"Electronic_169",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="5.40" width="28.00" height="17.20"/><line class="cls-1" x1="14.44" y1="20.40" x2="25.08" y2="20.40"/><line class="cls-1" x1="24.99" y1="9.95" x2="24.99" y2="20.59"/><rect class="cls-1" x="1.83" y="18.90" width="0.79" height="0.79"/><rect class="cls-1" x="2.82" y="17.55" width="0.79" height="0.79"/><rect class="cls-1" x="3.80" y="18.90" width="0.79" height="0.79"/><rect class="cls-1" x="12.25" y="18.90" width="0.79" height="0.79"/><rect class="cls-1" x="13.23" y="17.55" width="0.79" height="0.79"/><rect class="cls-1" x="14.22" y="18.90" width="0.79" height="0.79"/><rect class="cls-1" x="21.36" y="9.68" width="0.79" height="0.79"/><rect class="cls-1" x="22.34" y="8.34" width="0.79" height="0.79"/><rect class="cls-1" x="23.33" y="9.68" width="0.79" height="0.79"/><rect class="cls-1" x="5.69" y="8.61" width="0.79" height="0.79"/><rect class="cls-1" x="6.67" y="7.27" width="0.79" height="0.79"/><rect class="cls-1" x="7.66" y="8.61" width="0.79" height="0.79"/><g class="cls-1"></g></g></svg>'},Electronic_170:{shapeName:"Electronic_170",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><line class="cls-1" x1="0.77" y1="18.39" x2="18.48" y2="0.77"/><line class="cls-1" x1="4.09" y1="23.89" x2="23.95" y2="4.05"/><line class="cls-1" x1="10.39" y1="27.45" x2="27.45" y2="10.39"/><g class="cls-1"></g></g></svg>'},Electronic_171:{shapeName:"Electronic_171",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="2.21" cy="6.56" r="0.26"/><circle class="cls-1" cx="3.09" cy="11.85" r="0.26"/><circle class="cls-1" cx="1.69" cy="7.87" r="0.26"/><circle class="cls-1" cx="1.95" cy="14.00" r="0.26"/><circle class="cls-1" cx="7.16" cy="11.85" r="0.26"/><circle class="cls-1" cx="1.95" cy="8.10" r="0.26"/><circle class="cls-1" cx="1.09" cy="10.62" r="0.26"/><circle class="cls-1" cx="3.46" cy="9.19" r="0.26"/><circle class="cls-1" cx="3.09" cy="12.37" r="0.26"/><circle class="cls-1" cx="2.72" cy="6.56" r="0.26"/><circle class="cls-1" cx="4.75" cy="7.61" r="0.26"/><circle class="cls-1" cx="2.46" cy="6.56" r="0.26"/><circle class="cls-1" cx="2.03" cy="16.12" r="0.26"/><circle class="cls-1" cx="2.72" cy="12.11" r="0.26"/><circle class="cls-1" cx="3.35" cy="15.55" r="0.26"/><circle class="cls-1" cx="4.24" cy="20.84" r="0.26"/><circle class="cls-1" cx="2.83" cy="16.86" r="0.26"/><circle class="cls-1" cx="8.30" cy="20.84" r="0.26"/><circle class="cls-1" cx="6.16" cy="19.67" r="0.26"/><circle class="cls-1" cx="3.09" cy="17.09" r="0.26"/><circle class="cls-1" cx="4.61" cy="18.18" r="0.26"/><circle class="cls-1" cx="4.24" cy="21.36" r="0.26"/><circle class="cls-1" cx="3.87" cy="15.55" r="0.26"/><circle class="cls-1" cx="5.90" cy="16.61" r="0.26"/><circle class="cls-1" cx="8.62" cy="16.00" r="0.26"/><circle class="cls-1" cx="8.36" cy="12.94" r="0.26"/><circle class="cls-1" cx="1.03" cy="18.09" r="0.26"/><circle class="cls-1" cx="1.29" cy="18.32" r="0.26"/><circle class="cls-1" cx="2.81" cy="19.41" r="0.26"/><circle class="cls-1" cx="4.09" cy="17.84" r="0.26"/><circle class="cls-1" cx="9.85" cy="17.89" r="0.26"/><circle class="cls-1" cx="3.61" cy="15.55" r="0.26"/><circle class="cls-1" cx="3.87" cy="21.10" r="0.26"/><circle class="cls-1" cx="5.93" cy="9.96" r="0.26"/><circle class="cls-1" cx="6.81" cy="15.26" r="0.26"/><circle class="cls-1" cx="5.41" cy="11.28" r="0.26"/><circle class="cls-1" cx="10.62" cy="14.14" r="0.26"/><circle class="cls-1" cx="11.45" cy="12.51" r="0.26"/><circle class="cls-1" cx="12.68" cy="14.40" r="0.26"/><circle class="cls-1" cx="13.05" cy="20.79" r="0.26"/><circle class="cls-1" cx="12.54" cy="20.44" r="0.26"/><circle class="cls-1" cx="13.57" cy="17.81" r="0.26"/><circle class="cls-1" cx="11.51" cy="17.09" r="0.26"/><circle class="cls-1" cx="15.89" cy="17.29" r="0.26"/><circle class="cls-1" cx="15.37" cy="16.95" r="0.26"/><circle class="cls-1" cx="16.38" cy="20.01" r="0.26"/><circle class="cls-1" cx="17.92" cy="17.06" r="0.26"/><circle class="cls-1" cx="21.13" cy="19.95" r="0.26"/><circle class="cls-1" cx="20.61" cy="19.61" r="0.26"/><circle class="cls-1" cx="21.64" cy="16.98" r="0.26"/><circle class="cls-1" cx="19.58" cy="16.26" r="0.26"/><circle class="cls-1" cx="22.42" cy="13.94" r="0.26"/><circle class="cls-1" cx="25.62" cy="16.83" r="0.26"/><circle class="cls-1" cx="25.11" cy="16.49" r="0.26"/><circle class="cls-1" cx="26.14" cy="13.86" r="0.26"/><circle class="cls-1" cx="24.08" cy="13.14" r="0.26"/><circle class="cls-1" cx="20.33" cy="8.27" r="0.26"/><circle class="cls-1" cx="20.81" cy="10.99" r="0.26"/><circle class="cls-1" cx="22.36" cy="8.05" r="0.26"/><circle class="cls-1" cx="25.57" cy="10.94" r="0.26"/><circle class="cls-1" cx="25.05" cy="10.59" r="0.26"/><circle class="cls-1" cx="26.08" cy="7.96" r="0.26"/><circle class="cls-1" cx="24.02" cy="7.24" r="0.26"/><circle class="cls-1" cx="23.45" cy="16.12" r="0.26"/><circle class="cls-1" cx="21.53" cy="18.27" r="0.26"/><circle class="cls-1" cx="11.42" cy="15.43" r="0.26"/><circle class="cls-1" cx="16.18" cy="15.37" r="0.26"/><circle class="cls-1" cx="15.66" cy="15.03" r="0.26"/><circle class="cls-1" cx="16.58" cy="13.69" r="0.26"/><circle class="cls-1" cx="24.74" cy="21.16" r="0.26"/><circle class="cls-1" cx="24.22" cy="20.81" r="0.26"/><circle class="cls-1" cx="25.51" cy="18.44" r="0.26"/><circle class="cls-1" cx="23.19" cy="17.46" r="0.26"/><circle class="cls-1" cx="26.02" cy="15.15" r="0.26"/><circle class="cls-1" cx="27.05" cy="17.32" r="0.26"/><circle class="cls-1" cx="13.71" cy="11.77" r="0.26"/><circle class="cls-1" cx="5.67" cy="11.51" r="0.26"/><circle class="cls-1" cx="7.19" cy="12.60" r="0.26"/><circle class="cls-1" cx="6.44" cy="9.96" r="0.26"/><circle class="cls-1" cx="8.47" cy="11.02" r="0.26"/><circle class="cls-1" cx="5.38" cy="13.83" r="0.26"/><circle class="cls-1" cx="6.67" cy="12.25" r="0.26"/><circle class="cls-1" cx="6.18" cy="9.96" r="0.26"/><circle class="cls-1" cx="10.31" cy="8.76" r="0.26"/><circle class="cls-1" cx="11.51" cy="9.85" r="0.26"/><circle class="cls-1" cx="9.08" cy="6.87" r="0.26"/><circle class="cls-1" cx="8.56" cy="8.19" r="0.26"/><circle class="cls-1" cx="8.82" cy="8.42" r="0.26"/><circle class="cls-1" cx="10.34" cy="9.50" r="0.26"/><circle class="cls-1" cx="9.59" cy="6.87" r="0.26"/><circle class="cls-1" cx="11.62" cy="7.93" r="0.26"/><circle class="cls-1" cx="9.82" cy="9.16" r="0.26"/><circle class="cls-1" cx="16.43" cy="10.65" r="0.26"/><circle class="cls-1" cx="17.64" cy="11.74" r="0.26"/><circle class="cls-1" cx="15.20" cy="8.76" r="0.26"/><circle class="cls-1" cx="14.69" cy="10.08" r="0.26"/><circle class="cls-1" cx="19.90" cy="12.94" r="0.26"/><circle class="cls-1" cx="14.94" cy="10.31" r="0.26"/><circle class="cls-1" cx="16.46" cy="11.39" r="0.26"/><circle class="cls-1" cx="17.75" cy="9.82" r="0.26"/><circle class="cls-1" cx="14.66" cy="12.63" r="0.26"/><circle class="cls-1" cx="15.95" cy="11.05" r="0.26"/><circle class="cls-1" cx="19.58" cy="7.56" r="0.26"/><circle class="cls-1" cx="17.84" cy="6.98" r="0.26"/><circle class="cls-1" cx="9.19" cy="14.89" r="0.26"/><circle class="cls-1" cx="12.68" cy="15.86" r="0.26"/><circle class="cls-1" cx="12.17" cy="15.52" r="0.26"/><circle class="cls-1" cx="13.08" cy="14.17" r="0.26"/><circle class="cls-1" cx="10.22" cy="12.25" r="0.26"/><circle class="cls-1" cx="12.94" cy="11.14" r="0.26"/><circle class="cls-1" cx="14.14" cy="12.23" r="0.26"/><circle class="cls-1" cx="11.71" cy="9.25" r="0.26"/><circle class="cls-1" cx="11.19" cy="10.56" r="0.26"/><circle class="cls-1" cx="11.45" cy="10.79" r="0.26"/><circle class="cls-1" cx="12.97" cy="11.88" r="0.26"/><circle class="cls-1" cx="12.23" cy="9.25" r="0.26"/><circle class="cls-1" cx="14.26" cy="10.31" r="0.26"/><circle class="cls-1" cx="11.16" cy="13.11" r="0.26"/><circle class="cls-1" cx="12.45" cy="11.54" r="0.26"/><circle class="cls-1" cx="11.97" cy="9.25" r="0.26"/><circle class="cls-1" cx="7.42" cy="20.47" r="0.26"/><circle class="cls-1" cx="12.54" cy="21.64" r="0.26"/><circle class="cls-1" cx="9.68" cy="19.73" r="0.26"/><circle class="cls-1" cx="7.47" cy="17.81" r="0.26"/><circle class="cls-1" cx="6.30" cy="17.46" r="0.26"/><circle class="cls-1" cx="12.40" cy="18.61" r="0.26"/><circle class="cls-1" cx="13.60" cy="19.70" r="0.26"/><circle class="cls-1" cx="10.65" cy="18.04" r="0.26"/><circle class="cls-1" cx="10.91" cy="18.27" r="0.26"/><circle class="cls-1" cx="12.42" cy="19.35" r="0.26"/><circle class="cls-1" cx="13.71" cy="17.78" r="0.26"/><circle class="cls-1" cx="10.62" cy="20.58" r="0.26"/><circle class="cls-1" cx="11.91" cy="19.01" r="0.26"/><circle class="cls-1" cx="14.52" cy="20.36" r="0.26"/><circle class="cls-1" cx="14.00" cy="20.01" r="0.26"/><circle class="cls-1" cx="13.86" cy="18.18" r="0.26"/><circle class="cls-1" cx="15.06" cy="19.27" r="0.26"/><circle class="cls-1" cx="12.37" cy="17.84" r="0.26"/><circle class="cls-1" cx="13.89" cy="18.92" r="0.26"/><circle class="cls-1" cx="13.37" cy="18.58" r="0.26"/><circle class="cls-1" cx="6.18" cy="20.21" r="0.26"/><circle class="cls-1" cx="8.90" cy="19.10" r="0.26"/><circle class="cls-1" cx="10.11" cy="20.18" r="0.26"/><circle class="cls-1" cx="7.67" cy="17.21" r="0.26"/><circle class="cls-1" cx="7.16" cy="18.52" r="0.26"/><circle class="cls-1" cx="7.42" cy="18.75" r="0.26"/><circle class="cls-1" cx="8.93" cy="19.84" r="0.26"/><circle class="cls-1" cx="8.19" cy="17.21" r="0.26"/><circle class="cls-1" cx="10.22" cy="18.27" r="0.26"/><circle class="cls-1" cx="7.13" cy="21.07" r="0.26"/><circle class="cls-1" cx="8.42" cy="19.50" r="0.26"/><circle class="cls-1" cx="5.70" cy="19.55" r="0.26"/><circle class="cls-1" cx="3.55" cy="18.38" r="0.26"/><circle class="cls-1" cx="4.81" cy="19.18" r="0.26"/><circle class="cls-1" cx="3.58" cy="18.92" r="0.26"/><circle class="cls-1" cx="6.33" cy="18.55" r="0.26"/><circle class="cls-1" cx="4.52" cy="19.78" r="0.26"/><circle class="cls-1" cx="5.81" cy="18.21" r="0.26"/><circle class="cls-1" cx="15.46" cy="14.86" r="0.26"/><circle class="cls-1" cx="19.18" cy="14.77" r="0.26"/><circle class="cls-1" cx="17.12" cy="14.06" r="0.26"/><circle class="cls-1" cx="21.50" cy="14.26" r="0.26"/><circle class="cls-1" cx="20.98" cy="13.91" r="0.26"/><circle class="cls-1" cx="18.01" cy="15.58" r="0.26"/><circle class="cls-1" cx="16.26" cy="15.00" r="0.26"/><circle class="cls-1" cx="19.07" cy="12.34" r="0.26"/><circle class="cls-1" cx="18.04" cy="16.32" r="0.26"/><circle class="cls-1" cx="19.32" cy="14.74" r="0.26"/><circle class="cls-1" cx="17.52" cy="15.98" r="0.26"/><circle class="cls-1" cx="14.74" cy="15.58" r="0.26"/><circle class="cls-1" cx="17.29" cy="15.69" r="0.26"/><circle class="cls-1" cx="15.55" cy="14.00" r="0.26"/><circle class="cls-1" cx="15.03" cy="13.66" r="0.26"/><circle class="cls-1" cx="15.95" cy="12.31" r="0.26"/><circle class="cls-1" cx="14.83" cy="13.48" r="0.26"/><circle class="cls-1" cx="16.49" cy="12.68" r="0.26"/><circle class="cls-1" cx="17.38" cy="14.20" r="0.26"/><circle class="cls-1" cx="15.63" cy="13.63" r="0.26"/><circle class="cls-1" cx="17.41" cy="14.94" r="0.26"/><circle class="cls-1" cx="16.89" cy="14.60" r="0.26"/><circle class="cls-1" cx="16.95" cy="21.07" r="0.26"/><circle class="cls-1" cx="16.43" cy="20.73" r="0.26"/><circle class="cls-1" cx="18.98" cy="20.84" r="0.26"/><circle class="cls-1" cx="17.24" cy="19.15" r="0.26"/><circle class="cls-1" cx="16.72" cy="18.81" r="0.26"/><circle class="cls-1" cx="17.64" cy="17.46" r="0.26"/><circle class="cls-1" cx="16.52" cy="18.64" r="0.26"/><circle class="cls-1" cx="18.18" cy="17.84" r="0.26"/><circle class="cls-1" cx="19.07" cy="19.35" r="0.26"/><circle class="cls-1" cx="17.32" cy="18.78" r="0.26"/><circle class="cls-1" cx="19.10" cy="20.10" r="0.26"/><circle class="cls-1" cx="18.58" cy="19.76" r="0.26"/><circle class="cls-1" cx="22.36" cy="20.16" r="0.26"/><circle class="cls-1" cx="22.42" cy="20.87" r="0.26"/><circle class="cls-1" cx="24.97" cy="20.98" r="0.26"/><circle class="cls-1" cx="23.22" cy="19.30" r="0.26"/><circle class="cls-1" cx="22.70" cy="18.95" r="0.26"/><circle class="cls-1" cx="22.50" cy="18.78" r="0.26"/><circle class="cls-1" cx="24.16" cy="17.98" r="0.26"/><circle class="cls-1" cx="25.05" cy="19.50" r="0.26"/><circle class="cls-1" cx="23.31" cy="18.92" r="0.26"/><circle class="cls-1" cx="19.73" cy="17.75" r="0.26"/><circle class="cls-1" cx="19.21" cy="17.41" r="0.26"/><circle class="cls-1" cx="20.13" cy="16.06" r="0.26"/><circle class="cls-1" cx="21.79" cy="15.26" r="0.26"/><circle class="cls-1" cx="20.96" cy="17.95" r="0.26"/><circle class="cls-1" cx="21.82" cy="17.09" r="0.26"/><circle class="cls-1" cx="21.30" cy="16.75" r="0.26"/><circle class="cls-1" cx="21.10" cy="16.58" r="0.26"/><circle class="cls-1" cx="22.16" cy="16.49" r="0.26"/><circle class="cls-1" cx="25.08" cy="20.24" r="0.26"/><circle class="cls-1" cx="24.56" cy="19.90" r="0.26"/><circle class="cls-1" cx="14.52" cy="16.06" r="0.26"/><circle class="cls-1" cx="14.46" cy="13.83" r="0.26"/><ellipse class="cls-1" cx="22.77" cy="14.86" rx="0.13" ry="0.26"/><circle class="cls-1" cx="22.39" cy="14.52" r="0.26"/><circle class="cls-1" cx="21.42" cy="12.40" r="0.26"/><circle class="cls-1" cx="20.50" cy="12.71" r="0.26"/><circle class="cls-1" cx="19.98" cy="12.37" r="0.26"/><ellipse class="cls-1" cx="21.77" cy="13.31" rx="0.13" ry="0.26"/><circle class="cls-1" cx="21.39" cy="12.97" r="0.26"/><circle class="cls-1" cx="19.18" cy="13.03" r="0.26"/><circle class="cls-1" cx="18.27" cy="13.34" r="0.26"/><circle class="cls-1" cx="17.75" cy="13.00" r="0.26"/><circle class="cls-1" cx="19.67" cy="13.94" r="0.26"/><circle class="cls-1" cx="19.15" cy="13.60" r="0.26"/><circle class="cls-1" cx="24.94" cy="14.63" r="0.26"/><circle class="cls-1" cx="23.19" cy="12.94" r="0.26"/><circle class="cls-1" cx="22.68" cy="12.60" r="0.26"/><circle class="cls-1" cx="23.59" cy="11.25" r="0.26"/><circle class="cls-1" cx="22.47" cy="12.42" r="0.26"/><circle class="cls-1" cx="26.20" cy="12.34" r="0.26"/><circle class="cls-1" cx="24.13" cy="11.62" r="0.26"/><circle class="cls-1" cx="25.02" cy="13.14" r="0.26"/><circle class="cls-1" cx="23.28" cy="12.57" r="0.26"/><circle class="cls-1" cx="23.53" cy="12.80" r="0.26"/><circle class="cls-1" cx="25.05" cy="13.89" r="0.26"/><circle class="cls-1" cx="24.54" cy="13.54" r="0.26"/><circle class="cls-1" cx="22.85" cy="12.80" r="0.26"/><circle class="cls-1" cx="14.03" cy="16.46" r="0.26"/><circle class="cls-1" cx="7.93" cy="17.21" r="0.26"/><circle class="cls-1" cx="14.34" cy="7.47" r="0.26"/><circle class="cls-1" cx="18.09" cy="7.21" r="0.26"/><circle class="cls-1" cx="19.61" cy="8.30" r="0.26"/><circle class="cls-1" cx="19.10" cy="7.96" r="0.26"/><circle class="cls-1" cx="16.75" cy="10.02" r="0.26"/><circle class="cls-1" cx="16.00" cy="9.31" r="0.26"/><circle class="cls-1" cx="16.03" cy="10.05" r="0.26"/><circle class="cls-1" cx="15.52" cy="9.71" r="0.26"/><circle class="cls-1" cx="21.24" cy="9.50" r="0.26"/><circle class="cls-1" cx="20.50" cy="8.79" r="0.26"/><circle class="cls-1" cx="19.15" cy="8.82" r="0.26"/><circle class="cls-1" cx="18.41" cy="8.10" r="0.26"/><circle class="cls-1" cx="18.44" cy="8.85" r="0.26"/><circle class="cls-1" cx="17.92" cy="8.50" r="0.26"/><circle class="cls-1" cx="22.27" cy="6.76" r="0.26"/><circle class="cls-1" cx="21.56" cy="6.79" r="0.26"/><circle class="cls-1" cx="20.36" cy="6.58" r="0.26"/><circle class="cls-1" cx="19.87" cy="6.98" r="0.26"/><circle class="cls-1" cx="19.32" cy="9.33" r="0.26"/><circle class="cls-1" cx="20.53" cy="9.53" r="0.26"/><circle class="cls-1" cx="20.01" cy="9.19" r="0.26"/><circle class="cls-1" cx="9.33" cy="6.87" r="0.26"/><circle class="cls-1" cx="6.44" cy="15.52" r="0.26"/><circle class="cls-1" cx="2.18" cy="8.93" r="0.26"/><circle class="cls-1" cx="1.17" cy="16.75" r="0.26"/><circle class="cls-1" cx="3.64" cy="13.08" r="0.26"/><circle class="cls-1" cx="3.38" cy="10.02" r="0.26"/><circle class="cls-1" cx="4.87" cy="14.97" r="0.26"/><circle class="cls-1" cx="1.83" cy="12.34" r="0.26"/><circle class="cls-1" cx="5.64" cy="11.22" r="0.26"/><circle class="cls-1" cx="6.47" cy="9.59" r="0.26"/><circle class="cls-1" cx="7.70" cy="11.48" r="0.26"/><circle class="cls-1" cx="8.59" cy="14.89" r="0.26"/><circle class="cls-1" cx="6.53" cy="14.17" r="0.26"/><circle class="cls-1" cx="6.44" cy="12.51" r="0.26"/><circle class="cls-1" cx="8.73" cy="8.85" r="0.26"/><circle class="cls-1" cx="2.21" cy="9.68" r="0.26"/><circle class="cls-1" cx="3.49" cy="8.10" r="0.26"/><circle class="cls-1" cx="1.69" cy="9.33" r="0.26"/><circle class="cls-1" cx="4.09" cy="9.02" r="0.26"/><circle class="cls-1" cx="4.35" cy="9.25" r="0.26"/><circle class="cls-1" cx="4.58" cy="10.08" r="0.26"/><circle class="cls-1" cx="4.61" cy="10.82" r="0.26"/><circle class="cls-1" cx="4.09" cy="10.48" r="0.26"/><circle class="cls-1" cx="12.71" cy="7.84" r="0.26"/><circle class="cls-1" cx="12.97" cy="8.07" r="0.26"/><circle class="cls-1" cx="14.49" cy="9.16" r="0.26"/><circle class="cls-1" cx="13.20" cy="8.90" r="0.26"/><circle class="cls-1" cx="14.40" cy="9.99" r="0.26"/><circle class="cls-1" cx="13.23" cy="9.65" r="0.26"/><circle class="cls-1" cx="14.52" cy="8.07" r="0.26"/><circle class="cls-1" cx="12.71" cy="9.31" r="0.26"/><circle class="cls-1" cx="10.79" cy="7.10" r="0.26"/><circle class="cls-1" cx="12.00" cy="8.19" r="0.26"/><circle class="cls-1" cx="10.82" cy="7.84" r="0.26"/><circle class="cls-1" cx="12.11" cy="6.27" r="0.26"/><circle class="cls-1" cx="10.31" cy="7.50" r="0.26"/><circle class="cls-1" cx="12.20" cy="7.59" r="0.26"/><circle class="cls-1" cx="11.68" cy="8.90" r="0.26"/><circle class="cls-1" cx="12.71" cy="7.59" r="0.26"/><circle class="cls-1" cx="12.45" cy="7.59" r="0.26"/><circle class="cls-1" cx="13.20" cy="6.18" r="0.26"/><circle class="cls-1" cx="13.46" cy="6.41" r="0.26"/><circle class="cls-1" cx="13.69" cy="7.24" r="0.26"/><circle class="cls-1" cx="13.71" cy="7.99" r="0.26"/><circle class="cls-1" cx="13.20" cy="7.64" r="0.26"/><circle class="cls-1" cx="14.34" cy="7.96" r="0.26"/><circle class="cls-1" cx="14.37" cy="8.70" r="0.26"/><circle class="cls-1" cx="15.66" cy="7.13" r="0.26"/><circle class="cls-1" cx="16.75" cy="7.04" r="0.26"/><circle class="cls-1" cx="17.01" cy="7.27" r="0.26"/><circle class="cls-1" cx="17.24" cy="8.10" r="0.26"/><circle class="cls-1" cx="17.26" cy="8.85" r="0.26"/><circle class="cls-1" cx="16.75" cy="8.50" r="0.26"/><circle class="cls-1" cx="4.21" cy="11.97" r="0.26"/><circle class="cls-1" cx="7.70" cy="12.94" r="0.26"/><circle class="cls-1" cx="7.19" cy="12.60" r="0.26"/><circle class="cls-1" cx="8.10" cy="11.25" r="0.26"/><circle class="cls-1" cx="5.24" cy="9.33" r="0.26"/><circle class="cls-1" cx="7.96" cy="8.22" r="0.26"/><circle class="cls-1" cx="7.99" cy="8.96" r="0.26"/><circle class="cls-1" cx="6.18" cy="10.19" r="0.26"/><circle class="cls-1" cx="7.47" cy="8.62" r="0.26"/><circle class="cls-1" cx="4.69" cy="16.81" r="0.26"/><circle class="cls-1" cx="2.49" cy="14.89" r="0.26"/><circle class="cls-1" cx="1.32" cy="14.54" r="0.26"/><circle class="cls-1" cx="7.42" cy="15.69" r="0.26"/><circle class="cls-1" cx="8.62" cy="16.78" r="0.26"/><circle class="cls-1" cx="5.67" cy="15.12" r="0.26"/><circle class="cls-1" cx="5.93" cy="15.35" r="0.26"/><circle class="cls-1" cx="7.44" cy="16.43" r="0.26"/><circle class="cls-1" cx="8.73" cy="14.86" r="0.26"/><circle class="cls-1" cx="6.93" cy="16.09" r="0.26"/><circle class="cls-1" cx="11.65" cy="15.66" r="0.26"/><circle class="cls-1" cx="9.85" cy="14.92" r="0.26"/><circle class="cls-1" cx="12.23" cy="14.54" r="0.26"/><circle class="cls-1" cx="10.71" cy="16.86" r="0.26"/><circle class="cls-1" cx="11.22" cy="16.86" r="0.26"/><circle class="cls-1" cx="10.97" cy="16.86" r="0.26"/><circle class="cls-1" cx="9.48" cy="15.17" r="0.26"/><circle class="cls-1" cx="11.62" cy="14.54" r="0.26"/><circle class="cls-1" cx="10.45" cy="15.35" r="0.26"/><circle class="cls-1" cx="11.65" cy="16.43" r="0.26"/><circle class="cls-1" cx="10.48" cy="16.09" r="0.26"/><circle class="cls-1" cx="11.77" cy="14.52" r="0.26"/><circle class="cls-1" cx="9.96" cy="15.75" r="0.26"/><circle class="cls-1" cx="18.81" cy="12.08" r="0.26"/><circle class="cls-1" cx="21.53" cy="11.48" r="0.26"/><circle class="cls-1" cx="19.73" cy="10.74" r="0.26"/><circle class="cls-1" cx="22.10" cy="10.36" r="0.26"/><circle class="cls-1" cx="19.35" cy="10.99" r="0.26"/><circle class="cls-1" cx="21.50" cy="10.36" r="0.26"/><circle class="cls-1" cx="19.44" cy="9.65" r="0.26"/><circle class="cls-1" cx="20.33" cy="11.16" r="0.26"/><circle class="cls-1" cx="18.58" cy="10.59" r="0.26"/><circle class="cls-1" cx="18.84" cy="10.82" r="0.26"/><circle class="cls-1" cx="24.65" cy="9.68" r="0.26"/><circle class="cls-1" cx="23.45" cy="10.71" r="0.26"/><circle class="cls-1" cx="23.19" cy="9.68" r="0.26"/><circle class="cls-1" cx="25.34" cy="9.05" r="0.26"/><circle class="cls-1" cx="23.28" cy="8.33" r="0.26"/><circle class="cls-1" cx="24.16" cy="9.85" r="0.26"/><circle class="cls-1" cx="26.68" cy="10.19" r="0.26"/><circle class="cls-1" cx="25.22" cy="10.85" r="0.26"/><circle class="cls-1" cx="26.28" cy="9.28" r="0.26"/><circle class="cls-1" cx="25.80" cy="9.45" r="0.26"/><circle class="cls-1" cx="22.42" cy="9.28" r="0.26"/><circle class="cls-1" cx="22.68" cy="9.50" r="0.26"/><circle class="cls-1" cx="24.91" cy="6.24" r="0.26"/><circle class="cls-1" cx="26.11" cy="7.61" r="0.26"/><circle class="cls-1" cx="25.74" cy="7.87" r="0.26"/><circle class="cls-1" cx="25.82" cy="6.53" r="0.26"/><circle class="cls-1" cx="26.71" cy="8.05" r="0.26"/><circle class="cls-1" cx="24.97" cy="7.47" r="0.26"/><circle class="cls-1" cx="25.22" cy="7.70" r="0.26"/><circle class="cls-1" cx="20.36" cy="11.91" r="0.26"/><circle class="cls-1" cx="21.64" cy="10.34" r="0.26"/><circle class="cls-1" cx="19.84" cy="11.57" r="0.26"/><circle class="cls-1" cx="3.92" cy="16.18" r="0.26"/><circle class="cls-1" cx="2.69" cy="14.29" r="0.26"/><circle class="cls-1" cx="2.18" cy="15.60" r="0.26"/><circle class="cls-1" cx="2.43" cy="15.83" r="0.26"/><circle class="cls-1" cx="3.95" cy="16.92" r="0.26"/><circle class="cls-1" cx="3.21" cy="14.29" r="0.26"/><circle class="cls-1" cx="5.24" cy="15.35" r="0.26"/><circle class="cls-1" cx="3.44" cy="16.58" r="0.26"/><circle class="cls-1" cx="9.05" cy="13.54" r="0.26"/><circle class="cls-1" cx="10.02" cy="12.88" r="0.26"/><circle class="cls-1" cx="10.13" cy="10.97" r="0.26"/><circle class="cls-1" cx="11.88" cy="12.20" r="0.26"/><circle class="cls-1" cx="9.36" cy="11.42" r="0.26"/><circle class="cls-1" cx="9.36" cy="12.88" r="0.26"/><circle class="cls-1" cx="9.76" cy="11.19" r="0.26"/><circle class="cls-1" cx="10.71" cy="13.48" r="0.26"/><circle class="cls-1" cx="9.33" cy="11.51" r="0.26"/><circle class="cls-1" cx="8.10" cy="11.25" r="0.26"/><circle class="cls-1" cx="9.08" cy="9.56" r="0.26"/><circle class="cls-1" cx="7.67" cy="6.81" r="0.26"/><circle class="cls-1" cx="5.93" cy="6.24" r="0.26"/><circle class="cls-1" cx="6.18" cy="6.47" r="0.26"/><circle class="cls-1" cx="7.19" cy="7.21" r="0.26"/><circle class="cls-1" cx="3.84" cy="7.64" r="0.26"/><circle class="cls-1" cx="6.10" cy="6.90" r="0.26"/><circle class="cls-1" cx="5.32" cy="6.27" r="0.26"/><circle class="cls-1" cx="5.35" cy="7.02" r="0.26"/><circle class="cls-1" cx="4.84" cy="6.67" r="0.26"/><circle class="cls-1" cx="6.44" cy="7.61" r="0.26"/><circle class="cls-1" cx="9.33" cy="9.79" r="0.26"/><circle class="cls-1" cx="9.05" cy="12.11" r="0.26"/><circle class="cls-1" cx="7.90" cy="11.88" r="0.26"/><circle class="cls-1" cx="8.02" cy="9.96" r="0.26"/><circle class="cls-1" cx="9.76" cy="11.19" r="0.26"/><circle class="cls-1" cx="7.24" cy="10.42" r="0.26"/><circle class="cls-1" cx="7.24" cy="11.88" r="0.26"/><circle class="cls-1" cx="7.64" cy="10.19" r="0.26"/><circle class="cls-1" cx="8.59" cy="12.48" r="0.26"/><circle class="cls-1" cx="2.95" cy="14.29" r="0.26"/><circle class="cls-1" cx="1.46" cy="12.60" r="0.26"/><rect class="cls-1" y="5.00" width="28.00" height="18.01"/><path class="cls-1" d = "M7.77,5.95c-0.40,0.40-0.55,1.66-0.50,1.66h1.18l-0.21-0.55-0.22-0.69Z"/><path class="cls-1" d = "M6.55,11.01a1.49,1.49,0,0,0,-0.19,0.82l0.66-0.08-0.08-0.32L6.89,11.20Z"/><path class="cls-1" d = "M1.58,20.48c-0.32,0.32-0.44,1.31-0.40,1.33h0.94l-0.17-0.44-0.18-0.55Z"/><path class="cls-1" d = "M6.53,17.58c-0.57,0.57-0.66,1.26-0.59,1.26h1.66l0.19-1.00L7.10,17.72Z"/><path class="cls-1" d = "M12.53,11.87c-0.52,0.32-0.63,1.90-0.56,1.90h1.52l-0.19-0.66-0.30-0.34Z"/><path class="cls-1" d = "M11.66,18.01c-0.39,0.24-0.46,1.40-0.42,1.41h1.12l-0.14-0.48-0.22-0.25Z"/><path class="cls-1" d = "M22.61,17.09c-0.46,0.28-0.55,1.66-0.49,1.67h1.33l-0.17-0.57-0.27-0.30Z"/><path class="cls-1" d = "M10.06,9.19a1.77,1.77,0,0,0,-0.22,0.96h0.78l-0.07-0.44-0.22-0.37Z"/><path class="cls-1" d = "M15.69,15.63c0.39,0.40-0.09,1.70-0.14,1.70H14.40l0.20-0.54,0.22-0.68Z"/><path class="cls-1" d = "M22.97,19.91c-0.41,0.410.10,1.770.15,1.77h1.20l-0.22-0.56-0.22-0.71Z"/><path class="cls-1" d = "M20.14,14.05c-0.37-0.37-1.50-0.50-1.50-0.45V14.66l0.50-0.19,0.63-0.20Z"/><path class="cls-1" d = "M18.28,15.21c-0.39,0.39-0.50,1.36-0.45,1.36h1.14l-0.14-0.59-0.18-0.64Z"/><path class="cls-1" d = "M15.26,17.50a1.07,1.07,0,0,0,0.44,0.72l0.54-0.46-0.31-0.44h-0.46Z"/><path class="cls-1" d = "M14.30,18.94c-0.26,0.27-0.36,1.09-0.33,1.09h0.78l-0.14-0.37-0.15-0.46Z"/><path class="cls-1" d = "M20.73,19.85c-0.32,0.32-0.44,1.33-0.40,1.33h0.95l-0.17-0.44-0.18-0.56Z"/><path class="cls-1" d = "M25.73,14.49C25.44,15.02,25.38,15.97,25.43,15.97h1.09l-0.19-0.51-0.34-0.44Z"/><path class="cls-1" d = "M24.36,8.92c-0.25,0.25-0.33,1.01-0.30,1.01l0.88-0.03-0.14-0.40L24.50,9.17Z"/><path class="cls-1" d = "M21.42,9.54c-0.39,0.39-0.53,1.62-0.49,1.62H22.09L21.88,10.62l-0.22-0.68Z"/><path class="cls-1" d = "M25.23,6.09c-0.36,0.36-0.49,1.49-0.44,1.49h1.05l-0.19-0.50-0.20-0.62Z"/><path class="cls-1" d = "M3.76,7.37c-0.540.11-1.00,1.05-0.96,1.09l0.96,0.63,0.28-0.28h0.00Z"/><g class="cls-1"></g></g></svg>'},Electronic_172:{shapeName:"Electronic_172",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="13.95" y1="-0.05" x2="13.95" y2="5.53"/><line class="cls-1" x1="13.95" y1="18.26" x2="13.95" y2="23.84"/><path class="cls-1" d = "M13.93,5.57a1.43,1.43,0,0,1,1.44,1.37c0.06,1.08-0.63,1.72-1.43,1.72"/><path class="cls-1" d = "M13.93,8.66a1.43,1.43,0,0,1,1.44,1.37c0.06,1.08-0.63,1.72-1.43,1.72"/><path class="cls-1" d = "M13.93,11.89a1.43,1.43,0,0,1,1.44,1.37c0.06,1.08-0.63,1.72-1.43,1.72"/><path class="cls-1" d = "M13.93,15.12a1.43,1.43,0,0,1,1.44,1.37c0.06,1.08-0.63,1.72-1.43,1.72"/><line class="cls-1" x1="9.27" y1="23.93" x2="18.73" y2="23.93"/><line class="cls-1" x1="11.10" y1="26.03" x2="17.42" y2="26.03"/><line class="cls-1" x1="12.15" y1="28.00" x2="16.35" y2="28.00"/><g class="cls-1"></g></g></svg>'},Electronic_173:{shapeName:"Electronic_173",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="12.14" y="9.34" width="3.72" height="9.32"/><line class="cls-1" x1="14.00" x2="14.00" y2="28.00"/><g class="cls-1"></g></g></svg>'},FuseDisconnectSwitch:{shapeName:"FuseDisconnectSwitch",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="-0.13" x2="14.00" y2="9.73"/><line class="cls-1" x1="13.89" y1="20.56" x2="13.89" y2="28.00"/><line class="cls-1" filter="true" x1="6.03" y1="11.03" x2="13.91" y2="20.69"/><polyline filter="true" class="cls-1" points="5.82 13.98 8.49 11.76 14.05 18.45 11.39 20.67 5.82 13.98"/><g class="cls-1"></g></g></svg>'},Electronic_174:{shapeName:"Electronic_174",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="-0.13" x2="14.00" y2="9.73"/><line class="cls-1" x1="13.89" y1="20.56" x2="13.89" y2="28.00"/><line class="cls-1" x1="6.03" y1="11.03" x2="13.91" y2="20.69"/><polyline class="cls-1" points="5.82 13.98 8.49 11.76 14.05 18.45 11.39 20.67 5.82 13.98"/><g class="cls-1"></g></g></svg>'},Electronic_175:{shapeName:"Electronic_175",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="-0.13" x2="14.00" y2="9.73"/><line class="cls-1" x1="13.91" y1="21.05" x2="13.91" y2="27.86"/><line class="cls-1" x1="11.67" y1="7.28" x2="13.84" y2="21.11"/><rect class="cls-1" x="10.81" y="9.49" width="3.99" height="10.01" transform="translate(-2.44 2.59) rotate(-10.56)"/><g class="cls-1"></g></g></svg>'},FuseBreaker:{shapeName:"FuseBreaker",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.49" y1="-0.04" x2="14.49" y2="9.74"/><line class="cls-1" x1="16.84" y1="7.32" x2="12.13" y2="12.03"/><line class="cls-1" x1="12.13" y1="7.32" x2="16.84" y2="12.03"/><line class="cls-1" x1="14.49" y1="22.43" x2="14.49" y2="28"/><line class="cls-1" filter="true" x1="5.84" y1="11.53" x2="14.56" y2="22.63"/><rect class="cls-1" filter="true" x="8.47" y="12.19" width="3.99" height="10.01" transform="translate(-8.70 11.04) rotate(-40.88)"/><g class="cls-1"></g></g></svg>'},Electronic_176:{shapeName:"Electronic_176",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.49" y1="-0.04" x2="14.49" y2="9.74"/><line class="cls-1" x1="16.84" y1="7.32" x2="12.13" y2="12.03"/><line class="cls-1" x1="12.13" y1="7.32" x2="16.84" y2="12.03"/><line class="cls-1" x1="14.71" y1="22.43" x2="14.71" y2="29.24"/><line class="cls-1" x1="5.84" y1="11.53" x2="14.69" y2="22.38"/><rect class="cls-1" x="8.47" y="12.19" width="3.99" height="10.01" transform="translate(-8.70 11.04) rotate(-40.88)"/><g class="cls-1"></g></g></svg>'},Electronic_222:{shapeName:"Electronic_222",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="-0.26" x2="14.00" y2="9.52"/><line class="cls-1" x1="16.35" y1="7.09" x2="11.65" y2="11.80"/><line class="cls-1" x1="11.65" y1="7.09" x2="16.35" y2="11.80"/><line class="cls-1" x1="14.22" y1="22.20" x2="14.22" y2="29.01"/><line class="cls-1" x1="8.51" y1="9.41" x2="14.11" y2="22.24"/><rect class="cls-1" x="9.44" y="11.09" width="3.99" height="10.01" transform="translate(-5.77 6.42) rotate(-25.25)"/><g class="cls-1"></g></g></svg>'},Electronic_234:{shapeName:"Electronic_234",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.78" y1="20.55" x2="14.78" y2="27.99"/><line class="cls-1" x1="6.91" y1="11.01" x2="14.80" y2="20.67"/><polyline class="cls-1" points="6.71 13.97 9.38 11.75 14.94 18.44 12.27 20.65 6.71 13.97"/><line class="cls-1" x1="14.23" y1="0.01" x2="14.23" y2="9.34"/><line class="cls-1" x1="18.89" y1="9.34" x2="9.57" y2="9.34"/><circle class="cls-1" cx="14.23" cy="11.41" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_178:{shapeName:"Electronic_178",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.55" y1="20.56" x2="14.55" y2="28.00"/><line class="cls-1" x1="9.33" y1="9.34" x2="14.55" y2="20.67"/><rect class="cls-1" x="10.08" y="11.00" width="3.47" height="8.70" transform="translate(-5.42 6.51) rotate(-25.25)"/><line class="cls-1" x1="14.00" y1="0.03" x2="14.00" y2="9.35"/><line class="cls-1" x1="18.66" y1="9.35" x2="9.34" y2="9.35"/><circle class="cls-1" cx="14.00" cy="11.43" r="1.86"/><g class="cls-1"></g></g></svg>'},FuseSegregateSwitch:{shapeName:"FuseSegregateSwitch",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="13.85" y1="20.55" x2="13.85" y2="27.99"/><line class="cls-1" filter="true" x1="5.98" y1="11.02" x2="13.87" y2="20.68"/><polyline class="cls-1" filter="true" points="5.78 13.97 8.45 11.75 14.01 18.44 11.34 20.66 5.78 13.97"/><line class="cls-1" x1="14.00" y1="0.02" x2="14.00" y2="9.34"/><line class="cls-1" x1="17.96" y1="9.34" x2="8.64" y2="9.34"/><g class="cls-1"></g></g></svg>'},Electronic_179:{shapeName:"Electronic_179",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="13.85" y1="20.55" x2="13.85" y2="27.99"/><line class="cls-1" x1="5.98" y1="11.02" x2="13.87" y2="20.68"/><polyline class="cls-1" points="5.78 13.97 8.45 11.75 14.01 18.44 11.34 20.66 5.78 13.97"/><line class="cls-1" x1="14.00" y1="0.02" x2="14.00" y2="9.34"/><line class="cls-1" x1="17.96" y1="9.34" x2="8.64" y2="9.34"/><g class="cls-1"></g></g></svg>'},Electronic_180:{shapeName:"Electronic_180",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="15.02" y1="20.55" x2="15.02" y2="27.99"/><line class="cls-1" x1="9.81" y1="9.33" x2="15.02" y2="20.66"/><rect class="cls-1" x="10.55" y="10.98" width="3.47" height="8.70" transform="translate(-5.37 6.71) rotate(-25.25)"/><line class="cls-1" x1="14.47" y1="0.01" x2="14.47" y2="9.34"/><line class="cls-1" x1="19.13" y1="9.34" x2="9.81" y2="9.34"/><g class="cls-1"></g></g></svg>'},Electronic_181:{shapeName:"Electronic_181",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M10.06,13.60V8.26h0.34v11.48H10.06V13.92H2.99v5.82H2.65V8.26h0.34V13.60Z"/><path class="cls-1" d = "M15.07,19.74,11.96,8.26H12.32L15.26,19.16h0.03L18.44,8.26h0.44l3.14,10.90h0.03l2.96-10.90h0.35l-3.12,11.48H21.84L18.67,8.78h-0.03L15.45,19.74Z"/><g class="cls-1"></g></g></svg>'},Electronic_182:{shapeName:"Electronic_182",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M12.62,13.60V8.26h0.34v11.48H12.62V13.92H5.54v5.82H5.20V8.26h0.34V13.60Z"/><path class="cls-1" d = "M19.76,13.72q1.410.15,2.22,0.93a2.58,2.58,0,0,1,0.81,1.95,2.65,2.65,0,0,1,-1.19,2.33q-1.19,0.81-3.39,0.81H15.53V8.26H18.17q1.93,0.00,2.96,0.71a2.32,2.32,0,0,1,1.03,2.03,2.55,2.55,0,0,1,-0.66,1.75,2.96,2.96,0,0,1,-1.75,0.94ZM15.86,8.58V13.56H18.57q1.50,0.00,2.38-0.67a2.21,2.21,0,0,0,0.88,-1.85,2.05,2.05,0,0,0,-0.96,-1.82q-0.96-0.63-2.75-0.63ZM18.13,19.42q2.08,0.00,3.21-0.73a2.35,2.35,0,0,0,1.12,-2.09A2.30,2.30,0,0,0,21.44,14.58q-1.03-0.70-2.86-0.70H15.86V19.42Z"/><g class="cls-1"></g></g></svg>'},Electronic_183:{shapeName:"Electronic_183",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><line class="cls-1" x1="14.07" y1="4.69" x2="14.07" y2="11.11"/><line class="cls-1" x1="7.51" y1="14.61" x2="10.73" y2="20.17"/><line class="cls-1" x1="16.86" y1="20.17" x2="20.08" y2="14.61"/><g class="cls-1"></g></g></svg>'},Electronic_184:{shapeName:"Electronic_184",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="13.17" y1="-0.05" x2="13.17" y2="6.51"/><line class="cls-1" x1="13.16" y1="21.49" x2="13.16" y2="28.05"/><path class="cls-1" d = "M13.15,6.56a1.69,1.69,0,0,1,1.69,1.61c0.07,1.27-0.74,2.02-1.68,2.02"/><path class="cls-1" d = "M13.15,10.19A1.69,1.69,0,0,1,14.84,11.81c0.07,1.27-0.74,2.02-1.68,2.02"/><path class="cls-1" d = "M13.15,14.00a1.69,1.69,0,0,1,1.69,1.61c0.07,1.27-0.74,2.03-1.68,2.03"/><path class="cls-1" d = "M13.15,17.79a1.68,1.68,0,0,1,1.69,1.61c0.07,1.27-0.74,2.02-1.68,2.02"/><g class="cls-1"></g></g></svg>'},Electronic_185:{shapeName:"Electronic_185",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="3.43" y="9.27" width="21.14" height="9.46" transform="translate(28.00) rotate(90)"/><line class="cls-1" x1="11.46" x2="11.48" y2="7.55"/><line class="cls-1" x1="16.43" y1="7.44" x2="16.43" y2="9.84"/><line class="cls-1" x1="11.48" y1="10.06" x2="11.48" y2="12.47"/><line class="cls-1" x1="11.48" y1="14.98" x2="11.48" y2="18.16"/><line class="cls-1" x1="11.46" y1="7.55" x2="16.54" y2="7.55"/><line class="cls-1" x1="11.46" y1="9.95" x2="16.54" y2="9.95"/><line class="cls-1" x1="16.43" y1="12.69" x2="16.43" y2="15.09"/><line class="cls-1" x1="11.46" y1="12.61" x2="16.54" y2="12.61"/><line class="cls-1" x1="11.46" y1="15.01" x2="16.54" y2="15.01"/><line class="cls-1" x1="16.43" y1="18.16" x2="16.43" y2="20.56"/><line class="cls-1" x1="11.46" y1="18.10" x2="16.54" y2="18.10"/><line class="cls-1" x1="11.46" y1="20.62" x2="16.54" y2="20.62"/><line class="cls-1" x1="11.46" y1="20.67" x2="11.46" y2="28.00"/><g class="cls-1"></g></g></svg>'},Electronic_186:{shapeName:"Electronic_186",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="18.32" cy="6.77" r="6.77"/><circle class="cls-1" cx="9.64" cy="6.77" r="6.77"/><circle class="cls-1" cx="13.93" cy="13.12" r="6.77"/><line class="cls-1" x1="6.06" y1="25.30" x2="0.11" y2="25.30"/><line class="cls-1" x1="14.00" y1="25.30" x2="8.60" y2="25.30"/><line class="cls-1" x1="19.40" y1="25.30" x2="14.00" y2="25.30"/><line class="cls-1" x1="27.89" y1="25.30" x2="22.16" y2="25.30"/><line class="cls-1" x1="6.07" y1="28.00" x2="6.07" y2="22.60"/><line class="cls-1" x1="22.16" y1="28.00" x2="22.16" y2="22.60"/><line class="cls-1" x1="8.60" y1="28.00" x2="8.60" y2="22.60"/><line class="cls-1" x1="19.39" y1="28.00" x2="19.39" y2="22.60"/><line class="cls-1" x1="13.99" y1="25.30" x2="13.99" y2="19.90"/><g class="cls-1"></g></g></svg>'},Electronic_187:{shapeName:"Electronic_187",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M1.77,14.09a12.48,12.48,0,1,1,12.48,12.48"/><line class="cls-1" x1="14.23" y1="26.58" x2="14.23" y2="28.00"/><line class="cls-1" x1="14.24" x2="14.24" y2="1.66"/><line class="cls-1" x1="1.86" y1="14.07" x2="14.26" y2="14.07"/><line class="cls-1" x1="14.26" y1="1.66" x2="14.26" y2="14.11"/><g class="cls-1"></g></g></svg>'},Electronic_188:{shapeName:"Electronic_188",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M24.54,3.58v20.84H3.69V3.58h20.84m0.22-0.22H3.48v21.28h21.28V3.36Z"/><line class="cls-1" x1="9.52" y1="9.30" x2="18.70" y2="18.70"/><line class="cls-1" x1="9.52" y1="18.70" x2="18.70" y2="9.52"/><line class="cls-1" x1="5.27" y1="9.37" x2="9.51" y2="9.37"/><line class="cls-1" x1="18.72" y1="18.78" x2="22.96" y2="18.78"/><line class="cls-1" x1="18.72" y1="9.37" x2="22.96" y2="9.37"/><line class="cls-1" x1="5.27" y1="18.78" x2="9.51" y2="18.78"/><line class="cls-1" y1="14.00" x2="3.61" y2="14.00"/><line class="cls-1" x1="24.61" y1="14.00" x2="28.00" y2="14.00"/><g class="cls-1"></g></g></svg>'},Electronic_189:{shapeName:"Electronic_189",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M5.09,19.91V8.09h3.06q2.91,0.00,4.48,1.53T14.22,14.00q0.00,2.84-1.60,4.38T8.04,19.91Zm2.90-0.33q2.84,0.00,4.36-1.44t1.53-4.13q0.00-2.69-1.49-4.13T8.12,8.42H5.44v11.16Z"/><path class="cls-1" d = "M16.77,14.14V19.91H16.42V8.09h6.49v0.33H16.77V13.81h5.72v0.33Z"/><g class="cls-1"></g></g></svg>'},Electronic_190:{shapeName:"Electronic_190",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M9.21,14.03V19.64H8.87V8.15H15.18v0.32H9.21V13.71H14.77v0.32Z"/><path class="cls-1" d = "M15.56,19.41a2.08,2.08,0,0,1,-0.73,-1.27l0.34-0.11a1.91,1.91,0,0,0,0.62,1.11,1.77,1.77,0,0,0,1.19,0.39,1.60,1.60,0,0,0,1.35,-0.61q0.47-0.61,0.47-1.75V8.15h0.34V17.22c0.00,0.85-0.19,1.50-0.56,1.95a1.96,1.96,0,0,1,-1.60,0.68A2.21,2.21,0,0,1,15.56,19.41Z"/><g class="cls-1"></g></g></svg>'},Electronic_191:{shapeName:"Electronic_191",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><ellipse class="cls-1" cx="3.42" cy="14.00" rx="2.79" ry="6.34"/><ellipse class="cls-1" cx="14.00" cy="14.00" rx="2.79" ry="6.34"/><ellipse class="cls-1" cx="24.55" cy="14.00" rx="2.79" ry="6.34"/><line class="cls-1" y1="7.55" x2="28.00" y2="7.55"/><line class="cls-1" y1="20.45" x2="28.00" y2="20.45"/><g class="cls-1"></g></g></svg>'},Electronic_192:{shapeName:"Electronic_192",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M25.94,3.88V27.70H2.12V3.88H25.94m0.22-0.22H1.90V27.92H26.16V3.66Z"/><line class="cls-1" x1="5.95" y1="15.79" x2="22.11" y2="15.79"/><line class="cls-1" x1="7.91" y1="18.63" x2="20.01" y2="18.63"/><line class="cls-1" x1="9.92" y1="21.69" x2="18.00" y2="21.69"/><line class="cls-1" x1="14.03" y1="-0.08" x2="14.03" y2="3.83"/><line class="cls-1" x1="13.96" y1="10.40" x2="13.96" y2="15.86"/><g class="cls-1"></g></g></svg>'},Electronic_193:{shapeName:"Electronic_193",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" y1="11.32" x2="27.89" y2="11.27"/><line class="cls-1" y1="16.75" x2="27.89" y2="16.75"/><line class="cls-1" y1="9.19" x2="28.00" y2="9.19"/><line class="cls-1" y1="18.81" x2="28.00" y2="18.81"/><rect class="cls-2" x="0.22" y="11.39" width="1.62" height="5.21"/><rect class="cls-2" x="9.01" y="11.39" width="1.62" height="5.21"/><rect class="cls-2" x="17.37" y="11.39" width="1.62" height="5.21"/><rect class="cls-2" x="26.16" y="11.39" width="1.62" height="5.21"/><g class="cls-1"></g></g></svg>'},Electronic_194:{shapeName:"Electronic_194",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="9.17" width="5.60" height="9.66"/><rect class="cls-1" x="5.60" y="9.17" width="5.60" height="9.66"/><rect class="cls-1" x="11.20" y="9.17" width="5.60" height="9.66"/><rect class="cls-1" x="16.80" y="9.17" width="5.60" height="9.66"/><rect class="cls-1" x="22.40" y="9.17" width="5.60" height="9.66"/><g class="cls-1"></g></g></svg>'},Electronic_195:{shapeName:"Electronic_195",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="0.11" y="0.11" width="27.78" height="27.78"/><line class="cls-1" x1="14.00" y1="1.57" x2="14.00" y2="26.43"/><line class="cls-1" x1="14.03" y1="7.42" x2="4.23" y2="7.42"/><line class="cls-1" x1="15.24" y1="7.42" x2="14.00" y2="7.42"/><line class="cls-1" x1="16.99" y1="7.42" x2="15.70" y2="7.42"/><line class="cls-1" x1="23.77" y1="7.42" x2="22.48" y2="7.42"/><line class="cls-1" x1="21.50" y1="7.42" x2="20.21" y2="7.42"/><line class="cls-1" x1="19.29" y1="7.42" x2="18.00" y2="7.42"/><line class="cls-1" x1="15.24" y1="21.10" x2="14.00" y2="21.10"/><line class="cls-1" x1="16.99" y1="21.10" x2="15.70" y2="21.10"/><line class="cls-1" x1="23.77" y1="21.10" x2="22.48" y2="21.10"/><line class="cls-1" x1="21.50" y1="21.10" x2="20.21" y2="21.10"/><line class="cls-1" x1="19.29" y1="21.10" x2="18.00" y2="21.10"/><line class="cls-1" x1="14.03" y1="21.10" x2="4.23" y2="21.10"/><g class="cls-1"></g></g></svg>'},Electronic_196:{shapeName:"Electronic_196",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><polygon class="cls-1" points="14.00 2.12 0 14.70 28.00 14.70 14.00 2.12"/><rect class="cls-1" x="5.62" y="14.70" width="16.76" height="11.18"/><rect class="cls-1" x="8.42" y="17.50" width="2.24" height="5.58"/><rect class="cls-1" x="10.67" y="17.50" width="2.24" height="5.58"/><rect class="cls-1" x="12.91" y="17.50" width="2.24" height="5.58"/><rect class="cls-1" x="15.15" y="17.50" width="2.24" height="5.58"/><rect class="cls-1" x="17.39" y="17.50" width="2.24" height="5.58"/><g class="cls-1"></g></g></svg>'},Electronic_197:{shapeName:"Electronic_197",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="0.11" y="5.70" width="27.78" height="16.63"/><line class="cls-1" x1="4.65" y1="5.62" x2="4.65" y2="10.60"/><line class="cls-1" x1="9.33" y1="10.54" x2="9.33" y2="16.88"/><line class="cls-1" x1="18.67" y1="10.60" x2="18.67" y2="16.88"/><line class="cls-1" x1="28.00" y1="10.60" y2="10.60"/><line class="cls-1" x1="23.35" y1="5.62" x2="23.35" y2="10.60"/><line class="cls-1" x1="14.66" y1="5.62" x2="14.66" y2="10.60"/><line class="cls-1" x1="4.65" y1="16.81" x2="4.65" y2="22.38"/><line class="cls-1" x1="28.00" y1="16.81" y2="16.81"/><line class="cls-1" x1="23.35" y1="16.81" x2="23.35" y2="22.38"/><line class="cls-1" x1="14.66" y1="16.81" x2="14.66" y2="22.38"/><g class="cls-1"></g></g></svg>'},Electronic_198:{shapeName:"Electronic_198",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="0.11" y="9.22" width="27.78" height="9.55"/><line class="cls-1" x1="0.11" y1="11.23" x2="27.89" y2="11.23"/><line class="cls-1" x1="0.11" y1="16.66" x2="27.89" y2="16.66"/><g class="cls-1"></g></g></svg>'},Electronic_199:{shapeName:"Electronic_199",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" y="5.40" width="28.00" height="17.20"/><line class="cls-1" x1="14.44" y1="20.62" x2="25.08" y2="20.62"/><line class="cls-1" x1="24.99" y1="9.95" x2="24.99" y2="20.59"/><line class="cls-1" x1="13.10" y1="18.18" x2="15.50" y2="18.18"/><rect class="cls-1" x="13.18" y="16.90" width="1.86" height="2.43" rx="0.93"/><path class="cls-1" d = "M14.11,16.90h0.00a0.93,0.93,0,0,0,-0.93,0.93v0.35h1.86V17.83A0.93,0.93,0,0,0,14.11,16.90Z"/><line class="cls-1" x1="14.11" y1="16.54" x2="14.11" y2="17.17"/><line class="cls-1" x1="21.60" y1="9.90" x2="24.01" y2="9.90"/><rect class="cls-1" x="21.68" y="8.61" width="1.86" height="2.43" rx="0.93"/><path class="cls-1" d = "M22.61,8.61h0.00a0.93,0.93,0,0,0,-0.93,0.93v0.36h1.86V9.54A0.93,0.93,0,0,0,22.61,8.61Z"/><line class="cls-1" x1="22.61" y1="8.26" x2="22.61" y2="8.89"/><line class="cls-1" x1="1.37" y1="19.58" x2="3.77" y2="19.58"/><rect class="cls-1" x="1.45" y="18.29" width="1.86" height="2.43" rx="0.93"/><path class="cls-1" d = "M2.38,18.29h0.00a0.93,0.93,0,0,0,-0.93,0.93V19.58h1.86V19.22A0.93,0.93,0,0,0,2.38,18.29Z"/><line class="cls-1" x1="2.38" y1="17.94" x2="2.38" y2="18.57"/><line class="cls-1" x1="6.10" y1="8.80" x2="8.51" y2="8.80"/><rect class="cls-1" x="6.18" y="7.52" width="1.86" height="2.43" rx="0.93"/><path class="cls-1" d = "M7.11,7.52h0.00a0.93,0.93,0,0,0,-0.93,0.93v0.36h1.86V8.45A0.93,0.93,0,0,0,7.11,7.52Z"/><line class="cls-1" x1="7.11" y1="7.16" x2="7.11" y2="7.79"/><g class="cls-1"></g></g></svg>'},Electronic_200:{shapeName:"Electronic_200",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="16.65" r="11.14"/><path class="cls-1" d = "M2.84,15.50A16.36,16.36,0,0,1,13.98,0.00"/><circle class="cls-1" cx="14.00" cy="16.65" r="4.09"/><circle class="cls-1" cx="14.00" cy="16.65" r="8.18"/><g class="cls-1"></g></g></svg>'},Electronic_201:{shapeName:"Electronic_201",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="16.42" r="11.58"/><line class="cls-1" x1="7.92" y1="21.60" x2="20.08" y2="21.60"/><rect class="cls-1" x="7.92" y="24.13" width="0.95" height="0.47"/><rect class="cls-1" x="9.79" y="24.13" width="0.95" height="0.47"/><rect class="cls-1" x="11.66" y="24.13" width="0.95" height="0.47"/><rect class="cls-1" x="13.53" y="24.13" width="0.95" height="0.47"/><rect class="cls-1" x="15.39" y="24.13" width="0.95" height="0.47"/><rect class="cls-1" x="17.26" y="24.13" width="0.95" height="0.47"/><rect class="cls-1" x="19.13" y="24.13" width="0.95" height="0.47"/><line class="cls-1" x1="14.00" x2="14.00" y2="4.84"/><path class="cls-1" d = "M13.53,12.20a1.90,1.90,0,0,0,-0.71,0.84,3.08,3.08,0,0,0,-0.25,1.28,3.12,3.12,0,0,0,0.24,1.28,1.90,1.90,0,0,0,0.69,0.84,1.88,1.88,0,0,0,1.05,0.30,2.05,2.05,0,0,0,1.56,-0.72V14.53H14.84v-0.14h1.42v1.68a2.27,2.27,0,0,1,-1.70,0.81,2.04,2.04,0,0,1,-1.13,-0.31,2.01,2.01,0,0,1,-0.74,-0.88,3.27,3.27,0,0,1,-0.26,-1.35A3.21,3.21,0,0,1,12.69,12.97a2.03,2.03,0,0,1,0.75,-0.89,2.10,2.10,0,0,1,1.15,-0.31,1.94,1.94,0,0,1,0.82,0.18,1.82,1.82,0,0,1,0.66,0.51L15.97,12.56a1.62,1.62,0,0,0,-0.60,-0.48,1.79,1.79,0,0,0,-0.77,-0.17A1.95,1.95,0,0,0,13.53,12.20Z"/></g></svg>'},Electronic_202:{shapeName:"Electronic_202",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><path class="cls-1" d = "M19.34,19.53a5.00,5.00,0,0,1,-1.88,1.45,5.94,5.94,0,0,1,-2.47,0.51A6.11,6.11,0,0,1,11.61,20.56,5.96,5.96,0,0,1,9.41,17.94a9.67,9.67,0,0,1,-0.77,-4.01A9.30,9.30,0,0,1,9.41,10.00,5.86,5.86,0,0,1,11.61,7.42a6.21,6.21,0,0,1,3.38,-0.90A5.69,5.69,0,0,1,17.34,7.02a6.29,6.29,0,0,1,2.02,1.45L19.05,8.76a5.69,5.69,0,0,0,-1.87,-1.35,5.25,5.25,0,0,0,-2.19,-0.50,5.72,5.72,0,0,0,-3.15,0.86,5.55,5.55,0,0,0,-2.06,2.43,8.88,8.88,0,0,0,-0.72,3.72,9.28,9.28,0,0,0,0.72,3.81,5.58,5.58,0,0,0,2.06,2.48,5.67,5.67,0,0,0,3.15,0.88q2.60,0.00,4.04-1.87Z"/><g class="cls-1"></g></g></svg>'},Electronic_203:{shapeName:"Electronic_203",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="9.18" r="6.32"/><circle class="cls-1" cx="14.00" cy="18.65" r="6.32"/><line class="cls-1" x1="14.00" x2="14.00" y2="2.84"/><line class="cls-1" x1="14.00" y1="24.93" x2="14.00" y2="28.00"/><line class="cls-1" x1="2.87" y1="26.42" x2="23.86" y2="12.90"/><polygon class="cls-2" points="24.02 20.06 25.83 15.86 22.14 15.89 24.02 20.06"/><line class="cls-1" x1="23.95" y1="12.80" x2="23.95" y2="18.92"/><g class="cls-1"></g></g></svg>'},Electronic_204:{shapeName:"Electronic_204",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" y1="19.05" x2="28.00" y2="19.05"/><line class="cls-1" y1="8.96" x2="28.00" y2="8.95"/><path class="cls-1" d = "M0.35,8.97A6.41,6.41,0,0,1,2.73,13.96,6.41,6.41,0,0,1,0.40,18.92"/><path class="cls-1" d = "M2.46,8.97A6.41,6.41,0,0,1,4.84,13.96,6.41,6.41,0,0,1,2.50,18.92"/><path class="cls-1" d = "M15.62,8.97a6.43,6.43,0,0,1,0.04,9.95"/><path class="cls-1" d = "M17.72,8.97a6.42,6.42,0,0,1,0.04,9.95"/><path class="cls-1" d = "M7.89,8.97a6.42,6.42,0,0,1,0.04,9.95"/><path class="cls-1" d = "M10.00,8.97a6.43,6.43,0,0,1,0.04,9.95"/><path class="cls-1" d = "M22.86,8.97a6.42,6.42,0,0,1,0.04,9.95"/><path class="cls-1" d = "M24.97,8.97a6.43,6.43,0,0,1,0.04,9.95"/><g class="cls-1"></g></g></svg>'},Electronic_205:{shapeName:"Electronic_205",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M9.79,13.69,13.59,19.74h-0.44L9.57,13.92,6.02,19.74h-0.44L9.39,13.66,5.85,8.26h0.41L9.63,13.43,12.91,8.26h0.41Z"/><path class="cls-1" d = "M19.37,13.72Q20.78,13.88,21.59,14.66a2.59,2.59,0,0,1,0.81,1.95A2.65,2.65,0,0,1,21.22,18.93q-1.18,0.81-3.39,0.81H15.13V8.26H17.78q1.93,0.00,2.96,0.71a2.32,2.32,0,0,1,1.03,2.03,2.56,2.56,0,0,1,-0.66,1.75,2.97,2.97,0,0,1,-1.75,0.94ZM15.47,8.58V13.56H18.18Q19.69,13.56,20.56,12.88a2.20,2.20,0,0,0,0.88,-1.85,2.05,2.05,0,0,0,-0.96,-1.82q-0.95-0.63-2.75-0.63ZM17.74,19.42q2.08,0.00,3.21-0.73a2.35,2.35,0,0,0,1.13,-2.09,2.30,2.30,0,0,0,-1.03,-2.02q-1.03-0.70-2.84-0.70H15.47V19.42Z"/><g class="cls-1"></g></g></svg>'},Electronic_206:{shapeName:"Electronic_206",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M12.27,8.56,5.23,19.42H12.55v0.32H4.81v-0.31L11.86,8.58H5.01V8.26H12.27Z"/><path class="cls-1" d = "M14.32,19.74V8.26H17.31q2.83,0.00,4.36,1.49T23.19,14.00q0.00,2.77-1.56,4.26T17.19,19.74Zm2.82-0.32q2.76,0.00,4.23-1.40T22.85,14.00q0.00-2.63-1.45-4.02t-4.14-1.40H14.66V19.42Z"/><g class="cls-1"></g></g></svg>'},Electronic_207:{shapeName:"Electronic_207",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><path class="cls-1" d = "M12.40,21.00H12.11V20.31L6.55,20.95V14.85h0.33V20.60l2.50-0.29V13.17H5.74V12.81H9.38V8.49H7.28q-0.66,1.60-1.17,2.58l-0.27-0.22a25.81,25.81,0,0,0,1.22,-2.76Q7.66,6.49,7.98,5.36l0.350.10q-0.29,1.08-0.91,2.70H12.75v0.35H9.71V12.81H13.29v0.37H9.71V20.26l2.41-0.27V14.83H12.40ZM17.37,15.14a9.95,9.95,0,0,0,1.70,3.99,12.50,12.50,0,0,0,3.19,3.06L22.09,22.51A13.34,13.34,0,0,1,18.83,19.35a9.97,9.97,0,0,1,-1.75,-4.02,9.92,9.92,0,0,1,-1.42,3.96,14.34,14.34,0,0,1,-3.06,3.38l-0.19-0.31A13.71,13.71,0,0,0,15.44,19.03a9.29,9.29,0,0,0,1.34,-3.90H13.02V14.77H16.81c0.02-0.360.04-0.630.04-0.81V9.23H13.78V8.86H16.87V5.34h0.37L17.22,8.86H20.47v5.91h1.60v0.37Zm-0.23-0.37H20.14V9.23H17.22q0.00,3.08-0.04,4.73C17.18,14.14,17.16,14.41,17.14,14.77Z"/><g class="cls-1"></g></g></svg>'},Electronic_208:{shapeName:"Electronic_208",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.36" y1="8.85" x2="14.36"/><line class="cls-1" x1="14.36" y1="22.10" x2="14.36" y2="13.24"/><line class="cls-1" x1="9.94" y1="8.85" x2="18.79" y2="8.85"/><line class="cls-1" x1="9.94" y1="13.24" x2="18.79" y2="13.24"/><line class="cls-1" x1="7.39" y1="22.09" x2="20.61" y2="22.09"/><line class="cls-1" x1="9.94" y1="25.03" x2="18.79" y2="25.03"/><line class="cls-1" x1="11.41" y1="27.78" x2="17.29" y2="27.78"/><g class="cls-1"></g></g></svg>'},Electronic_209:{shapeName:"Electronic_209",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><path class="cls-1" d = "M13.38,16.59l0.18,0.33L9.01,20.17,8.75,19.92a1.90,1.90,0,0,0,0.26,-0.36,0.56,0.56,0,0,0,0.05,-0.24V11.47L6.22,11.97l-0.04-0.35,2.87-0.50V5.31H9.41V11.06l3.66-0.66L13.13,10.76l-3.72,0.66v8.03ZM12.79,7.19H21.82q0.00,2.04-0.18,6.34t-0.22,5.01l-0.04,0.67a3.59,3.59,0,0,1,-0.30,1.45,1.50,1.50,0,0,1,-0.84,0.73,4.70,4.70,0,0,1,-1.62,0.22H16.33l-0.06-0.37H18.58a4.81,4.81,0,0,0,1.47,-0.17A1.19,1.19,0,0,0,20.78,20.48a3.50,3.50,0,0,0,0.25,-1.29l0.10-2.83Q21.41,8.62,21.44,7.54H16.25q-0.020.17-0.06,1.83l-0.06,1.81q-0.10,3.23-0.45,5.05A9.50,9.50,0,0,1,14.45,19.47a18.83,18.83,0,0,1,-2.72,3.23L11.44,22.42A19.28,19.28,0,0,0,14.12,19.27,8.84,8.84,0,0,0,15.31,16.17a33.77,33.77,0,0,0,0.44,-4.99l0.13-3.64H12.79Z"/><g class="cls-1"></g></g></svg>'},Electronic_210:{shapeName:"Electronic_210",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="16.14" cy="17.73" r="7.35"/><path class="cls-1" d = "M16.16,2.92c0.150.12,0.30,0.25,0.45,0.37,3.50,2.95,5.31,7.28,6.43,11.86"/><line class="cls-1" x1="16.14" y1="25.08" x2="16.14" y2="28.00"/><line class="cls-1" x1="16.14" x2="16.14" y2="2.92"/><g class="cls-1"></g></g></svg>'},Electronic_211:{shapeName:"Electronic_211",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="17.81" r="7.35"/><path class="cls-1" d = "M14.02,3.00l0.45,0.37C17.96,6.32,19.78,10.65,20.89,15.24"/><line class="cls-1" x1="14.00" y1="25.16" x2="14.00" y2="28.08"/><line class="cls-1" x1="14.00" y1="0.08" x2="14.00" y2="3.00"/><line class="cls-1" x1="14.00" y1="16.49" x2="14.00" y2="21.41"/><line class="cls-1" x1="17.28" y1="14.20" x2="13.99" y2="16.53"/><line class="cls-1" x1="14.01" y1="16.53" x2="10.72" y2="14.20"/><g class="cls-1"></g></g></svg>'},Electronic_212:{shapeName:"Electronic_212",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="13.30" y1="-0.03" x2="13.30" y2="5.55"/><line class="cls-1" x1="13.29" y1="18.29" x2="13.29" y2="23.87"/><path class="cls-1" d = "M13.28,5.60a1.43,1.43,0,0,1,1.44,1.37c0.06,1.08-0.63,1.72-1.43,1.72"/><path class="cls-1" d = "M13.28,8.69A1.43,1.43,0,0,1,14.72,10.06c0.06,1.08-0.63,1.72-1.43,1.72"/><path class="cls-1" d = "M13.28,11.92a1.43,1.43,0,0,1,1.44,1.37c0.06,1.08-0.63,1.72-1.43,1.72"/><path class="cls-1" d = "M13.28,15.15a1.43,1.43,0,0,1,1.44,1.37c0.06,1.08-0.63,1.72-1.43,1.72"/><line class="cls-1" x1="9.27" y1="23.96" x2="18.73" y2="23.96"/><line class="cls-1" x1="11.10" y1="26.06" x2="17.42" y2="26.06"/><line class="cls-1" x1="12.15" y1="28.03" x2="16.35" y2="28.03"/><line class="cls-1" x1="8.31" y1="25.96" x2="19.04" y2="3.41"/><polygon class="cls-2" points="19.69 2.04 16.22 5.03 19.56 6.61 19.69 2.04"/><g class="cls-1"></g></g></svg>'},Electronic_213:{shapeName:"Electronic_213",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="0.11" y="4.73" width="27.78" height="18.50"/><line class="cls-1" x1="0.11" y1="4.90" x2="27.89" y2="23.06"/><line class="cls-1" x1="0.11" y1="23.06" x2="27.89" y2="4.90"/><line class="cls-1" x1="16.32" y1="15.51" x2="5.14" y2="23.28"/><line class="cls-1" x1="18.70" y1="17.15" x2="10.39" y2="23.28"/><line class="cls-1" x1="21.11" y1="18.68" x2="14.77" y2="23.28"/><g class="cls-1"></g></g></svg>'},Electronic_214:{shapeName:"Electronic_214",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.01" cy="14.00" r="13.99"/><line class="cls-1" x1="21.37" y1="14.11" x2="27.97" y2="14.11"/><line class="cls-1" y1="14.01" x2="6.67" y2="14.01"/><line class="cls-1" x1="6.71" y1="1.95" x2="6.67" y2="25.85"/><line class="cls-1" x1="21.26" y1="1.95" x2="21.26" y2="26.05"/><g class="cls-1"></g></g></svg>'},Electronic_215:{shapeName:"Electronic_215",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.00" r="9.69"/><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><g class="cls-1"></g></g></svg>'},Electronic_216:{shapeName:"Electronic_216",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="9.88" y1="3.59" x2="13.30" y2="9.21"/><polygon class="cls-1" points="13.53 9.57 12.94 7.43 11.89 8.07 13.53 9.57"/><line class="cls-1" x1="13.58" y1="2.71" x2="17.00" y2="8.33"/><polygon class="cls-1" points="17.23 8.70 16.65 6.55 15.59 7.19 17.23 8.70"/><g class="cls-1"></g></g></svg>'},Electronic_217:{shapeName:"Electronic_217",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="0.11" y1="14.00" x2="27.89" y2="14.00"/><line class="cls-1" x1="4.68" y1="17.25" x2="23.33" y2="17.25"/><line class="cls-1" x1="6.93" y1="20.54" x2="20.90" y2="20.54"/><line class="cls-1" x1="9.26" y1="24.06" x2="18.58" y2="24.06"/><g class="cls-1"></g></g></svg>'},Electronic_218:{shapeName:"Electronic_218",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="0.22" y1="14.04" x2="27.78" y2="14.04"/><line class="cls-1" x1="21.33" y1="14.11" x2="15.86" y2="27.89"/><line class="cls-1" x1="6.73" y1="14.04" x2="12.14" y2="27.89"/><g class="cls-1"></g></g></svg>'},Electronic_219:{shapeName:"Electronic_219",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="27.89" y1="14.00" x2="14.00" y2="14.00"/><line class="cls-1" x1="14.11" y1="10.04" x2="0.11" y2="10.04"/><line class="cls-1" x1="14.00" y1="27.89" x2="14.00" y2="9.95"/><g class="cls-1"></g></g></svg>'},Electronic_220:{shapeName:"Electronic_220",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.06" cy="14.00" r="13.94"/><line class="cls-1" x1="4.20" y1="4.14" x2="23.92" y2="23.86"/><g class="cls-1"></g></g></svg>'},Electronic_221:{shapeName:"Electronic_221",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="4.68" y1="14.00" x2="6.67" y2="14.00"/><line class="cls-1" x1="19.14" y1="14.00" x2="23.33" y2="14.00"/><line class="cls-1" x1="19.10" y1="5.91" x2="19.10" y2="22.09"/><polygon class="cls-1" points="18.90 14.00 6.76 6.99 6.76 13.36 6.76 21.01 18.90 14.00"/><g class="cls-1"></g></g></svg>'},Electronic_223:{shapeName:"Electronic_223",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><circle class="cls-1" cx="14.00" cy="14.00" r="7.31"/><g class="cls-1"></g></g></svg>'},Electronic_224:{shapeName:"Electronic_224",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="27.89" y1="0.11" x2="0.11" y2="27.89"/><g class="cls-1"></g></g></svg>'},Electronic_225:{shapeName:"Electronic_225",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><polyline class="cls-1" points="0.11 27.89 13.79 0.87 17.20 13.99 27.89 0.11"/><g class="cls-1"></g></g></svg>'},Electronic_226:{shapeName:"Electronic_226",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="19.14" y1="0.11" x2="9.08" y2="27.89"/><line class="cls-1" x1="9.04" y1="3.87" x2="15.20" y2="11.27"/><line class="cls-1" x1="11.92" y1="20.02" x2="21.11" y2="15.64"/><g class="cls-1"></g></g></svg>'},Electronic_227:{shapeName:"Electronic_227",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><line class="cls-1" y1="14.00" x2="28.00" y2="14.00"/><g class="cls-1"></g></g></svg>'},Electronic_228:{shapeName:"Electronic_228",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><rect class="cls-1" x="7.24" y="7.16" width="13.51" height="13.67" transform="translate(14.00 -5.80) rotate(45)"/><g class="cls-1"></g></g></svg>'},Electronic_229:{shapeName:"Electronic_229",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="20.67" y1="14.00" x2="0.11" y2="14.00"/><line class="cls-1" x1="13.67" y1="27.89" x2="27.89" y2="0.11"/><line class="cls-1" x1="27.89" y1="27.89" x2="13.67" y2="0.11"/><g class="cls-1"></g></g></svg>'},Electronic_230:{shapeName:"Electronic_230",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M6.47,20.79a2.63,2.63,0,0,1,-0.91,-1.60l0.42-0.14a2.39,2.39,0,0,0,0.78,1.40,2.24,2.24,0,0,0,1.49,0.49,2.02,2.02,0,0,0,1.70,-0.77q0.60-0.77,0.60-2.19V6.65h0.42v11.40q0.00,1.60-0.70,2.45t-2.01,0.86A2.77,2.77,0,0,1,6.47,20.79Z"/><path class="cls-1" d = "M14.63,6.65V20.68h7.82v0.40H14.20v-14.44Z"/><g class="cls-1"></g></g></svg>'},Electronic_231:{shapeName:"Electronic_231",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M25.92,3.94V27.78H2.08V3.94h23.84m0.22-0.22H1.86V28.00h24.28V3.72Z"/><path class="cls-1" d = "M7.15,25.49l-2.84-10.50h0.32l2.69,9.97h0.03L10.23,14.99h0.39L13.50,24.96h0.03L16.23,14.99h0.32l-2.86,10.50H13.34L10.44,15.47h-0.03L7.50,25.49Z"/><path class="cls-1" d = "M17.89,25.49v-10.50h0.30V19.92h0.03a3.00,3.00,0,0,1,1.09,-1.39,2.93,2.93,0,0,1,1.71,-0.51,2.45,2.45,0,0,1,1.95,0.83q0.72,0.83,0.72,2.25v4.39h-0.30V21.18q0.00-1.33-0.64-2.11a2.15,2.15,0,0,0,-1.75,-0.78,2.63,2.63,0,0,0,-1.47,0.42,2.89,2.89,0,0,0,-1.00,1.09,2.96,2.96,0,0,0,-0.35,1.39v4.30Z"/><line class="cls-1" x1="1.86" y1="10.93" x2="26.14" y2="10.93"/><line class="cls-1" x1="14.00" x2="14.00" y2="3.83"/><g class="cls-1"></g></g></svg>'},LoadSwitch:{shapeName:"LoadSwitch",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="15.36" y1="-0.05" x2="15.36" y2="9.28"/><line class="cls-1" x1="20.02" y1="9.28" x2="10.70" y2="9.28"/><line class="cls-1" x1="15.36" y1="20.73" x2="15.36" y2="28.17"/><line class="cls-1" filter="true" x1="7.52" y1="10.89" x2="15.48" y2="20.68"/><circle class="cls-1" cx="15.36" cy="11.35" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_232:{shapeName:"Electronic_232",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="15.36" y1="-0.05" x2="15.36" y2="9.28"/><line class="cls-1" x1="20.02" y1="9.28" x2="10.70" y2="9.28"/><line class="cls-1" x1="15.36" y1="20.73" x2="15.36" y2="28.17"/><line class="cls-1" x1="7.52" y1="10.89" x2="15.48" y2="20.68"/><circle class="cls-1" cx="15.36" cy="11.35" r="1.86"/><g class="cls-1"></g></g></svg>'},Electronic_233:{shapeName:"Electronic_233",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.26" y1="-0.12" x2="14.26" y2="9.20"/><line class="cls-1" x1="18.92" y1="9.20" x2="9.59" y2="9.20"/><line class="cls-1" x1="14.26" y1="20.66" x2="14.26" y2="28.10"/><line class="cls-1" x1="9.52" y1="9.22" x2="14.33" y2="20.89"/><circle class="cls-1" cx="14.26" cy="11.28" r="1.86"/><g class="cls-1"></g></g></svg>'},FuseLoadSwitch:{shapeName:"FuseLoadSwitch",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.78" y1="20.55" x2="14.78" y2="27.99"/><line class="cls-1" filter="true" x1="6.91" y1="11.01" x2="14.80" y2="20.67"/><polyline class="cls-1" filter="true" points="6.71 13.97 9.38 11.75 14.94 18.44 12.27 20.65 6.71 13.97"/><line class="cls-1" x1="14.23" y1="0.01" x2="14.23" y2="9.34"/><line class="cls-1" x1="18.89" y1="9.34" x2="9.57" y2="9.34"/><circle class="cls-1" cx="14.23" cy="11.41" r="1.86"/><g class="cls-1"></g></g></svg>'},CascadeFuse:{shapeName:"CascadeFuse",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" x2="14.00" y2="7.23"/><line class="cls-1" x1="13.90" y1="22.58" x2="13.90" y2="28.44"/><circle class="cls-1" cx="13.92" cy="20.61" r="1.86"/><line class="cls-1" filter="true" x1="4.08" y1="8.70" x2="13.23" y2="18.92"/><rect class="cls-1" filter="true" x="6.28" y="8.59" width="4.31" height="10.04" transform="translate(-6.91 9.05) rotate(-41.66)"/><polygon class="cls-1" filter="true" points="5.66 16.72 6.12 16.33 5.92 16.17 5.66 16.72"/><line class="cls-1" filter="true" x1="6.05" y1="16.19" x2="6.99" y2="15.07"/><line class="cls-1" x1="17.61" y1="7.25" x2="10.39" y2="7.25"/><g class="cls-1"></g></g></svg>'},Electronic_235:{shapeName:"Electronic_235",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" x2="14.00" y2="7.23"/><line class="cls-1" x1="13.90" y1="22.58" x2="13.90" y2="28.44"/><circle class="cls-1" cx="13.92" cy="20.61" r="1.86"/><line class="cls-1" x1="4.08" y1="8.70" x2="13.23" y2="18.92"/><rect class="cls-1" x="6.28" y="8.59" width="4.31" height="10.04" transform="translate(-6.91 9.05) rotate(-41.66)"/><polygon class="cls-1" points="5.66 16.72 6.12 16.33 5.92 16.17 5.66 16.72"/><line class="cls-1" x1="6.05" y1="16.19" x2="6.99" y2="15.07"/><line class="cls-1" x1="17.61" y1="7.25" x2="10.39" y2="7.25"/><g class="cls-1"></g></g></svg>'},Electronic_236:{shapeName:"Electronic_236",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" x2="14.00" y2="7.23"/><line class="cls-1" x1="13.90" y1="22.58" x2="13.90" y2="28.44"/><circle class="cls-1" cx="13.92" cy="20.61" r="1.86"/><line class="cls-1" x1="10.39" y1="7.33" x2="13.89" y2="18.70"/><rect class="cls-1" x="10.04" y="8.37" width="4.31" height="10.04" transform="translate(-3.39 4.16) rotate(-17.03)"/><polygon class="cls-1" points="8.38 15.06 8.96 14.90 8.84 14.67 8.38 15.06"/><line class="cls-1" x1="8.95" y1="14.74" x2="10.27" y2="14.11"/><line class="cls-1" x1="17.61" y1="7.25" x2="10.39" y2="7.25"/><g class="cls-1"></g></g></svg>'},Electronic_237:{shapeName:"Electronic_237",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.01" cy="14.00" r="13.99"/><line class="cls-1" x1="6.67" y1="4.07" x2="14.31" y2="0.02"/><line class="cls-1" x1="14.32" y1="27.99" x2="21.26" y2="24.34"/><line class="cls-1" x1="6.67" y1="6.83" x2="18.17" y2="0.64"/><line class="cls-1" x1="9.66" y1="27.30" x2="21.30" y2="21.22"/><line class="cls-1" x1="6.64" y1="9.70" x2="21.26" y2="2.06"/><line class="cls-1" x1="6.71" y1="25.94" x2="21.35" y2="17.66"/><line class="cls-1" x1="6.67" y1="12.57" x2="21.26" y2="5.02"/><line class="cls-1" x1="6.67" y1="15.45" x2="21.26" y2="7.75"/><line class="cls-1" x1="6.71" y1="18.43" x2="21.27" y2="10.91"/><line class="cls-1" x1="6.67" y1="21.88" x2="21.26" y2="14.11"/><line class="cls-1" x1="21.37" y1="14.11" x2="27.97" y2="14.11"/><line class="cls-1" y1="14.01" x2="6.67" y2="14.01"/><line class="cls-1" x1="6.71" y1="1.95" x2="6.67" y2="25.85"/><line class="cls-1" x1="21.26" y1="1.95" x2="21.26" y2="26.05"/><g class="cls-1"></g></g></svg>'},Electronic_238:{shapeName:"Electronic_238",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="27.89" y1="13.92" x2="0.11" y2="13.92"/><line class="cls-1" x1="0.15" y1="17.87" x2="4.02" y2="14.00"/><line class="cls-1" x1="23.52" y1="27.89" x2="27.89" y2="23.52"/><line class="cls-1" x1="0.11" y1="21.11" x2="7.33" y2="13.89"/><line class="cls-1" x1="19.80" y1="27.89" x2="27.89" y2="19.80"/><line class="cls-1" x1="0.11" y1="24.61" x2="10.83" y2="13.89"/><line class="cls-1" x1="15.42" y1="27.89" x2="27.89" y2="15.42"/><line class="cls-1" x1="0.11" y1="27.89" x2="14.11" y2="13.89"/><line class="cls-1" x1="3.61" y1="27.89" x2="17.66" y2="13.91"/><line class="cls-1" x1="7.33" y1="27.89" x2="21.35" y2="13.91"/><line class="cls-1" x1="11.48" y1="27.89" x2="25.37" y2="13.91"/><line class="cls-1" x1="9.88" y1="3.59" x2="13.30" y2="9.21"/><polygon class="cls-1" points="13.53 9.57 12.94 7.43 11.89 8.07 13.53 9.57"/><line class="cls-1" x1="13.58" y1="2.71" x2="17.00" y2="8.33"/><polygon class="cls-1" points="17.23 8.70 16.65 6.55 15.59 7.19 17.23 8.70"/><g class="cls-1"></g></g></svg>'},Electronic_239:{shapeName:"Electronic_239",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><circle class="cls-1" cx="14.00" cy="14.01" r="9.69"/><circle class="cls-1" cx="14.00" cy="14.00" r="13.84"/><line class="cls-1" x1="2.40" y1="6.47" x2="14.31" y2="0.16"/><line class="cls-1" x1="14.31" y1="27.84" x2="25.88" y2="21.11"/><line class="cls-1" x1="0.70" y1="10.17" x2="18.12" y2="0.78"/><line class="cls-1" x1="9.67" y1="27.23" x2="27.17" y2="18.05"/><line class="cls-1" x1="0.26" y1="13.02" x2="21.26" y2="2.30"/><line class="cls-1" x1="6.17" y1="25.48" x2="27.83" y2="14.11"/><line class="cls-1" x1="0.26" y1="16.08" x2="23.45" y2="3.83"/><line class="cls-1" x1="0.92" y1="18.48" x2="25.14" y2="5.78"/><line class="cls-1" x1="2.01" y1="20.89" x2="26.51" y2="8.20"/><line class="cls-1" x1="3.76" y1="23.30" x2="27.61" y2="10.83"/><g class="cls-1"></g></g></svg>'},Electronic_240:{shapeName:"Electronic_240",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="0.11" y1="14.00" x2="27.89" y2="14.00"/><line class="cls-1" x1="27.89" y1="9.95" x2="23.93" y2="13.92"/><line class="cls-1" x1="4.48" y1="0.11" x2="0.11" y2="4.48"/><line class="cls-1" x1="27.89" y1="6.89" x2="20.89" y2="13.89"/><line class="cls-1" x1="8.20" y1="0.11" x2="0.11" y2="8.20"/><line class="cls-1" x1="27.89" y1="3.17" x2="17.39" y2="13.89"/><line class="cls-1" x1="12.36" y1="0.11" x2="0.11" y2="12.36"/><line class="cls-1" x1="27.89" y1="0.11" x2="13.89" y2="13.89"/><line class="cls-1" x1="24.17" y1="0.11" x2="10.29" y2="14.01"/><line class="cls-1" x1="20.45" y1="0.11" x2="6.60" y2="14.01"/><line class="cls-1" x1="16.52" y1="0.11" x2="2.58" y2="14.01"/><line class="cls-1" x1="4.68" y1="17.25" x2="23.33" y2="17.25"/><line class="cls-1" x1="6.93" y1="20.54" x2="20.90" y2="20.54"/><line class="cls-1" x1="9.26" y1="24.06" x2="18.58" y2="24.06"/><g class="cls-1"></g></g></svg>'},Electronic_241:{shapeName:"Electronic_241",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="0.22" y1="14.04" x2="27.78" y2="14.04"/><line class="cls-1" x1="21.33" y1="14.11" x2="15.86" y2="27.89"/><line class="cls-1" x1="6.73" y1="14.04" x2="12.14" y2="27.89"/><line class="cls-1" x1="10.55" y1="24.02" x2="17.39" y2="24.02"/><line class="cls-1" x1="9.33" y1="20.69" x2="18.73" y2="20.69"/><line class="cls-1" x1="8.04" y1="17.41" x2="20.02" y2="17.41"/><g class="cls-1"></g></g></svg>'},Electronic_242:{shapeName:"Electronic_242",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="0.77" y1="9.95" x2="5.56" y2="5.47"/><line class="cls-1" x1="18.27" y1="27.23" x2="22.64" y2="22.64"/><line class="cls-1" x1="0.11" y1="14.33" x2="7.33" y2="7.11"/><line class="cls-1" x1="13.89" y1="27.94" x2="21.11" y2="21.00"/><line class="cls-1" x1="0.52" y1="17.32" x2="9.08" y2="9.08"/><line class="cls-1" x1="9.99" y1="27.34" x2="18.92" y2="18.92"/><line class="cls-1" x1="1.42" y1="20.02" x2="10.83" y2="10.83"/><line class="cls-1" x1="2.73" y1="22.20" x2="12.80" y2="12.58"/><line class="cls-1" x1="4.63" y1="24.17" x2="14.55" y2="14.55"/><line class="cls-1" x1="6.89" y1="25.92" x2="16.72" y2="16.66"/><circle class="cls-1" cx="14.06" cy="14.00" r="13.94"/><line class="cls-1" x1="4.20" y1="4.14" x2="23.92" y2="23.86"/><g class="cls-1"></g></g></svg>'},Electronic_243:{shapeName:"Electronic_243",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="27.89" y1="14.00" x2="14.00" y2="14.00"/><line class="cls-1" x1="14.11" y1="10.04" x2="0.11" y2="10.04"/><line class="cls-1" x1="14.00" y1="27.89" x2="14.00" y2="9.95"/><line class="cls-1" x1="0.11" y1="14.77" x2="4.54" y2="10.06"/><line class="cls-1" x1="9.52" y1="27.89" x2="14.11" y2="22.86"/><line class="cls-1" x1="0.11" y1="19.14" x2="8.42" y2="9.95"/><line class="cls-1" x1="5.58" y1="27.89" x2="13.89" y2="18.48"/><line class="cls-1" x1="0.11" y1="23.95" x2="12.80" y2="9.95"/><line class="cls-1" x1="0.11" y1="27.89" x2="14.00" y2="13.34"/><line class="cls-1" x1="14.11" y1="17.17" x2="16.73" y2="14.11"/><line class="cls-1" x1="23.08" y1="27.89" x2="27.89" y2="22.86"/><line class="cls-1" x1="14.08" y1="20.75" x2="20.23" y2="14.11"/><line class="cls-1" x1="18.92" y1="27.89" x2="27.89" y2="18.05"/><line class="cls-1" x1="14.00" y1="25.32" x2="24.15" y2="14.00"/><line class="cls-1" x1="15.20" y1="27.89" x2="27.89" y2="14.11"/><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="27.89" y1="14.00" x2="14.00" y2="14.00"/><line class="cls-1" x1="14.11" y1="10.04" x2="0.11" y2="10.04"/><line class="cls-1" x1="14.00" y1="27.89" x2="14.00" y2="9.95"/><line class="cls-1" x1="0.11" y1="14.77" x2="4.54" y2="10.06"/><line class="cls-1" x1="9.52" y1="27.89" x2="14.11" y2="22.86"/><line class="cls-1" x1="0.11" y1="19.14" x2="8.42" y2="9.95"/><line class="cls-1" x1="5.58" y1="27.89" x2="13.89" y2="18.48"/><line class="cls-1" x1="0.11" y1="23.95" x2="12.80" y2="9.95"/><line class="cls-1" x1="0.11" y1="27.89" x2="14.00" y2="13.34"/><line class="cls-1" x1="14.11" y1="17.17" x2="16.73" y2="14.11"/><line class="cls-1" x1="23.08" y1="27.89" x2="27.89" y2="22.86"/><line class="cls-1" x1="14.08" y1="20.75" x2="20.23" y2="14.11"/><line class="cls-1" x1="18.92" y1="27.89" x2="27.89" y2="18.05"/><line class="cls-1" x1="14.00" y1="25.32" x2="24.15" y2="14.00"/><line class="cls-1" x1="15.20" y1="27.89" x2="27.89" y2="14.11"/><g class="cls-1"></g></g></svg>'},Electronic_244:{shapeName:"Electronic_244",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="4.68" y1="14.00" x2="23.33" y2="14.00"/><line class="cls-1" x1="19.10" y1="5.91" x2="19.10" y2="22.09"/><polygon class="cls-2" points="18.90 14.00 6.76 6.99 6.76 13.36 6.76 21.01 18.90 14.00"/><g class="cls-1"></g></g></svg>'},Electronic_245:{shapeName:"Electronic_245",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="9.08" y1="19.58" x2="18.92" y2="8.64"/><line class="cls-1" x1="11.51" y1="20.86" x2="20.45" y2="10.83"/><line class="cls-1" x1="14.36" y1="21.33" x2="21.30" y2="13.56"/><line class="cls-1" x1="7.55" y1="17.39" x2="16.73" y2="7.33"/><line class="cls-1" x1="6.67" y1="14.55" x2="13.70" y2="6.70"/><circle class="cls-1" cx="14.00" cy="14.00" r="7.31"/><g class="cls-1"></g></g></svg>'},Electronic_246:{shapeName:"Electronic_246",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="0.11" y="0.11" width="27.78" height="27.78"/><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="27.89" y1="0.11" x2="0.11" y2="27.89"/><line class="cls-1" x1="23.08" y1="4.84" x2="0.19" y2="4.84"/><line class="cls-1" x1="18.90" y1="9.04" x2="0.11" y2="9.04"/><line class="cls-1" x1="14.79" y1="13.25" x2="0.11" y2="13.25"/><line class="cls-1" x1="10.47" y1="17.48" x2="0.11" y2="17.48"/><line class="cls-1" x1="6.32" y1="21.66" x2="0.11" y2="21.66"/><g class="cls-1"></g></g></svg>'},Electronic_247:{shapeName:"Electronic_247",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><polyline class="cls-1" points="0.11 27.89 13.79 0.87 17.20 13.99 27.89 0.11"/><line class="cls-1" x1="3.28" y1="21.77" x2="27.78" y2="21.77"/><line class="cls-1" x1="1.75" y1="25.05" x2="27.67" y2="25.05"/><line class="cls-1" x1="4.81" y1="18.66" x2="28.00" y2="18.70"/><line class="cls-1" x1="6.34" y1="15.55" x2="28.00" y2="15.55"/><line class="cls-1" x1="8.09" y1="12.36" x2="16.74" y2="12.44"/><line class="cls-1" x1="9.55" y1="9.33" x2="16.00" y2="9.33"/><line class="cls-1" x1="11.16" y1="6.21" x2="15.18" y2="6.21"/><line class="cls-1" x1="18.53" y1="12.31" x2="27.89" y2="12.44"/><line class="cls-1" x1="20.81" y1="9.32" x2="28.00" y2="9.32"/><line class="cls-1" x1="23.14" y1="6.21" x2="28.00" y2="6.21"/><g class="cls-1"></g></g></svg>'},Electronic_248:{shapeName:"Electronic_248",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="27.89" y1="14.00" x2="0.11" y2="14.00"/><line class="cls-1" x1="0.11" y1="18.05" x2="4.16" y2="14.00"/><line class="cls-1" x1="23.53" y1="27.90" x2="27.90" y2="23.53"/><line class="cls-1" x1="0.12" y1="21.12" x2="7.23" y2="14.01"/><line class="cls-1" x1="19.80" y1="27.89" x2="27.90" y2="19.81"/><line class="cls-1" x1="0.07" y1="24.79" x2="10.90" y2="13.96"/><line class="cls-1" x1="15.63" y1="27.88" x2="27.88" y2="15.63"/><line class="cls-1" x1="0.11" y1="27.89" x2="14.00" y2="14.00"/><line class="cls-1" x1="3.82" y1="27.88" x2="17.71" y2="13.99"/><line class="cls-1" x1="7.53" y1="27.87" x2="21.40" y2="13.99"/><line class="cls-1" x1="11.50" y1="27.91" x2="25.42" y2="13.99"/><g class="cls-1"></g></g></svg>'},Electronic_249:{shapeName:"Electronic_249",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="10.06" y1="24.87" x2="28.00" y2="24.88"/><line class="cls-1" x1="11.38" y1="21.77" x2="28.00" y2="21.77"/><line class="cls-1" x1="12.48" y1="18.72" x2="28.00" y2="18.66"/><line class="cls-1" x1="13.47" y1="15.55" x2="28.00" y2="15.55"/><line class="cls-1" x1="14.75" y1="12.44" x2="28.00" y2="12.44"/><line class="cls-1" x1="15.87" y1="9.32" x2="27.78" y2="9.32"/><line class="cls-1" x1="16.85" y1="6.21" x2="28.00" y2="6.21"/><line class="cls-1" x1="18.16" y1="3.11" x2="27.78" y2="3.11"/><line class="cls-1" x1="19.14" y1="0.11" x2="9.08" y2="27.89"/><line class="cls-1" x1="9.04" y1="3.87" x2="15.20" y2="11.27"/><line class="cls-1" x1="11.92" y1="20.02" x2="21.11" y2="15.64"/><g class="cls-1"></g></g></svg>'},Electronic_250:{shapeName:"Electronic_250",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><rect class="cls-1" x="7.24" y="7.16" width="13.51" height="13.67" transform="translate(33.80 14.00) rotate(135)"/><line class="cls-1" x1="16.38" y1="6.81" x2="6.82" y2="16.36"/><line class="cls-1" x1="18.70" y1="9.30" x2="9.30" y2="18.70"/><line class="cls-1" x1="21.22" y1="11.65" x2="11.66" y2="21.21"/><g class="cls-1"></g></g></svg>'},Electronic_251:{shapeName:"Electronic_251",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="20.67" y1="14.00" x2="0.11" y2="14.00"/><line class="cls-1" x1="25.48" y1="4.65" x2="15.94" y2="4.65"/><line class="cls-1" x1="25.48" y1="23.35" x2="15.94" y2="23.35"/><line class="cls-1" x1="23.52" y1="8.64" x2="18.05" y2="8.64"/><line class="cls-1" x1="23.52" y1="19.36" x2="18.05" y2="19.36"/><line class="cls-1" x1="13.67" y1="27.89" x2="27.89" y2="0.11"/><line class="cls-1" x1="27.89" y1="27.89" x2="13.67" y2="0.11"/><g class="cls-1"></g></g></svg>'},Electronic_252:{shapeName:"Electronic_252",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><circle class="cls-1" cx="14.00" cy="7.27" r="4.18"/><path class="cls-1" d = "M9.82,28.00V15.64A4.18,4.18,0,0,1,14.00,11.46h0.00A4.18,4.18,0,0,1,18.18,15.64V28.00"/><g class="cls-1"></g></g></svg>'},Electronic_253:{shapeName:"Electronic_253",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><polygon class="cls-2" points="28.00 14.10 14.00 26.24 0 14.10 14.19 1.76 28.00 14.10"/><g class="cls-1"></g></g></svg>'},Electronic_254:{shapeName:"Electronic_254",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" y1="14.00" x2="4.46" y2="14.00"/><line class="cls-1" x1="6.69" y1="14.00" x2="7.00" y2="14.00"/><line class="cls-1" x1="9.23" y1="14.00" x2="9.54" y2="14.00"/><line class="cls-1" x1="11.77" y1="14.00" x2="16.23" y2="14.00"/><line class="cls-1" x1="18.46" y1="14.00" x2="18.77" y2="14.00"/><line class="cls-1" x1="21.00" y1="14.00" x2="21.31" y2="14.00"/><line class="cls-1" x1="23.54" y1="14.00" x2="28.00" y2="14.00"/><g class="cls-1"></g></g></svg>'},Electronic_255:{shapeName:"Electronic_255",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M25.93,6.92V21.08H2.09V6.92h23.84m0.22-0.22H1.87V21.30h24.28V6.70Z"/><line class="cls-1" y1="14.00" x2="6.47" y2="14.00"/><line class="cls-1" x1="6.46" y1="10.90" x2="8.88" y2="10.90"/><line class="cls-1" x1="6.46" y1="17.24" x2="8.88" y2="17.24"/><line class="cls-1" x1="6.46" y1="10.81" x2="6.46" y2="17.19"/><line class="cls-1" x1="26.14" y1="14.00" x2="28.00" y2="14.00"/><g class="cls-1"></g></g></svg>'},Electronic_256:{shapeName:"Electronic_256",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="10.29" y="4.10" width="7.42" height="19.82"/><line class="cls-1" x1="14.00" x2="14.00" y2="9.18"/><line class="cls-1" x1="14.00" y1="23.95" x2="14.00" y2="28.00"/><polygon class="cls-2" points="14.02 13.91 15.44 9.18 12.60 9.18 14.02 13.91"/><g class="cls-1"></g></g></svg>'},Electronic_257:{shapeName:"Electronic_257",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" width="28.00" height="28.00"/><polyline class="cls-1" points="0 13.99 4.65 13.99 7.14 6.53 10.87 23.75 16.54 6.53 21.12 23.75 23.35 14.00 28.00 14.00"/><g class="cls-1"></g></g></svg>'},Electronic_258:{shapeName:"Electronic_258",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><path class="cls-1" d = "M8.17,8.26q2.02,0.00,3.11,0.88t1.09,2.46q0.00,1.59-1.09,2.45T8.17,14.89H5.43V19.74H5.09V8.26Zm-0.05,6.31q1.88,0.00,2.89-0.77T12.03,11.58q0.00-1.45-1.01-2.23T8.13,8.58H5.43V14.57Z"/><path class="cls-1" d = "M14.04,19.74V8.26H17.03q2.83,0.00,4.36,1.49t1.53,4.26q0.00,2.77-1.56,4.26T16.90,19.74Zm2.82-0.32q2.76,0.00,4.23-1.40T22.57,14.00q0.00-2.63-1.45-4.02t-4.14-1.40H14.37V19.42Z"/><g class="cls-1"></g></g></svg>'},Electronic_259:{shapeName:"Electronic_259",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M26.02,3.75V27.78H1.98V3.75H26.02m0.22-0.22H1.77V28.00H26.23V3.53Z"/><line class="cls-1" x1="14.00" x2="14.00" y2="3.61"/><path class="cls-1" d = "M4.56,11.61C5.92,9.12,9.33,6.95,14.00,6.95s8.13,2.20,9.45,4.72"/><path class="cls-1" d = "M6.74,14.13c1.04-1.75,3.65-3.27,7.22-3.27S20.20,12.40,21.22,14.16"/><path class="cls-1" d = "M9.72,16.51c0.61-1.00,2.16-1.88,4.27-1.88S17.67,15.53,18.26,16.54"/><circle class="cls-1" cx="14.00" cy="18.08" r="0.47"/><line class="cls-1" x1="14.00" y1="18.35" x2="14.00" y2="26.78"/><g class="cls-1"></g></g></svg>'},Electronic_260:{shapeName:"Electronic_260",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M8.46,19.25,4.64,8.75h0.32l3.65,10.02h0.03L12.30,8.75H12.62L8.80,19.25Z"/><path class="cls-1" d = "M14.36,8.75V19.25H14.05V8.75Z"/><path class="cls-1" d = "M19.52,8.75q1.85,0.00,2.84,0.79t0.99,2.25q0.00,1.46-0.99,2.24t-2.84,0.78H17.02V19.25H16.71V8.75Zm-0.04,5.77q1.72,0.00,2.65-0.71t0.93-2.02q0.00-1.33-0.93-2.04t-2.65-0.71H17.02v5.47Z"/><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><g class="cls-1"></g></g></svg>'},Electronic_261:{shapeName:"Electronic_261",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="27.89" y1="0.11" x2="0.11" y2="27.89"/><line class="cls-1" x1="0.11" y1="0.11" x2="27.89" y2="27.89"/><ellipse class="cls-1" cx="14.00" cy="14.00" rx="13.70" ry="13.71"/><g class="cls-1"></g></g></svg>'},Electronic_262:{shapeName:"Electronic_262",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-3" x="0.11" y="0.11" width="27.78" height="27.78"/><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="27.89" y1="0.11" x2="0.11" y2="27.89"/><line class="cls-1" x1="0.25" y1="0.25" x2="27.89" y2="27.89"/><circle class="cls-1" cx="14.00" cy="14.00" r="13.67"/><g class="cls-1"></g></g></svg>'},Electronic_263:{shapeName:"Electronic_263",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="23.86" y1="4.07" x2="4.14" y2="23.93"/><line class="cls-1" x1="4.06" y1="3.98" x2="23.94" y2="24.02"/><circle class="cls-1" cx="14.00" cy="14.00" r="14.00"/><g class="cls-1"></g></g></svg>'},Electronic_264:{shapeName:"Electronic_264",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="27.89" y1="0.11" x2="0.11" y2="27.89"/><line class="cls-1" x1="0.11" y1="0.11" x2="27.89" y2="27.89"/><g class="cls-1"></g></g></svg>'},Electronic_265:{shapeName:"Electronic_265",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-3" x="0.11" y="0.11" width="27.78" height="27.78"/><path class="cls-1" d = "M28,0V28H0V0H28m0-0H0V28.00H28.00V0.00Z"/><line class="cls-1" x1="27.89" y1="0.11" x2="0.11" y2="27.89"/><line class="cls-1" x1="0.11" y1="0.11" x2="27.89" y2="27.89"/><g class="cls-1"></g></g></svg>'},Electronic_266:{shapeName:"Electronic_266",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="13.99" y1="-0.12" x2="13.99" y2="8.37"/><polygon class="cls-2" points="14.00 12.09 15.07 8.37 12.93 8.37 14.00 12.09"/><line class="cls-1" x1="13.99" y1="28.10" x2="13.99" y2="19.61"/><polygon class="cls-2" points="14.00 15.89 15.07 19.61 12.93 19.61 14.00 15.89"/><g class="cls-1"></g></g></svg>'},Electronic_267:{shapeName:"Electronic_267",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><path class="cls-1" d = "M25.61,3.45A2.41,2.41,0,0,1,28.04,5.75c0.10,1.81-1.07,2.89-2.41,2.89"/><path class="cls-1" d = "M25.61,8.65a2.41,2.41,0,0,1,2.42,2.30c0.10,1.81-1.07,2.89-2.41,2.89"/><path class="cls-1" d = "M25.61,13.98a2.41,2.41,0,0,1,2.42,2.30c0.10,1.81-1.07,2.89-2.41,2.89"/><path class="cls-1" d = "M25.61,19.32a2.41,2.41,0,0,1,2.42,2.30c0.10,1.81-1.07,2.89-2.41,2.89"/><line class="cls-1" x1="4.32" y1="3.47" x2="25.61" y2="3.47"/><line class="cls-1" x1="4.32" y1="3.55" x2="4.32" y2="11.46"/><line class="cls-1" x1="-0.04" y1="11.46" x2="8.67" y2="11.46"/><line class="cls-1" x1="0.02" y1="16.62" x2="8.73" y2="16.62"/><line class="cls-1" x1="4.32" y1="16.58" x2="4.32" y2="24.55"/><line class="cls-1" x1="4.32" y1="24.54" x2="25.61" y2="24.54"/><g class="cls-1"></g></g></svg>'},DisconnectSwitch:{shapeName:"DisconnectSwitch",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="-0.11" x2="14.00" y2="9.22"/><line class="cls-1" x1="18.50" y1="9.22" x2="9.18" y2="9.22"/><line class="cls-1" x1="13.84" y1="20.67" x2="13.84" y2="28.11"/><line class="cls-1" filter="true" x1="6.00" y1="10.83" x2="13.96" y2="20.62"/><g class="cls-1"></g></g></svg>'},Electronic_268:{shapeName:"Electronic_268",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="-0.11" x2="14.00" y2="9.22"/><line class="cls-1" x1="18.70" y1="9.22" x2="9.37" y2="9.22"/><line class="cls-1" x1="14.04" y1="20.67" x2="14.04" y2="28.11"/><line class="cls-1" x1="9.30" y1="9.23" x2="14.11" y2="20.90"/><g class="cls-1"></g></g></svg>'},Electronic_269:{shapeName:"Electronic_269",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="-0.11" x2="14.00" y2="9.22"/><line class="cls-1" x1="18.50" y1="9.22" x2="9.18" y2="9.22"/><line class="cls-1" x1="13.84" y1="20.67" x2="13.84" y2="28.11"/><line class="cls-1" x1="6.00" y1="10.83" x2="13.96" y2="20.62"/><g class="cls-1"></g></g></svg>'},Electronic_270:{shapeName:"Electronic_270",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><polyline class="cls-1" points="24.46 17.13 24.46 25.85 3.59 25.85 3.59 16.19"/><polyline class="cls-1" points="3.59 11.60 3.59 2.14 24.46 2.14 24.46 11.81"/><line class="cls-1" x1="14.03" y1="0.07" x2="14.03" y2="2.15"/><line class="cls-1" x1="14.00" y1="25.85" x2="14.00" y2="27.93"/><polygon class="cls-1" points="3.59 12.76 1.59 16.22 5.58 16.22 3.59 12.76"/><line class="cls-1" y1="11.78" x2="7.07" y2="11.78"/><line class="cls-1" x1="3.61" y1="11.70" x2="0.49" y2="8.26"/><polygon class="cls-1" points="24.52 12.76 22.52 16.22 26.51 16.22 24.52 12.76"/><line class="cls-1" x1="20.93" y1="11.78" x2="28.00" y2="11.78"/><line class="cls-1" x1="24.39" y1="11.70" x2="21.42" y2="8.26"/><g class="cls-1"></g></g></svg>'},Electronic_271:{shapeName:"Electronic_271",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="2.12" y="4.23" width="23.77" height="23.77"/><line class="cls-1" x1="14.00" x2="14.00" y2="4.23"/><circle class="cls-1" cx="14.00" cy="20.15" r="6.37"/><circle class="cls-1" cx="14.00" cy="12.08" r="6.37"/><g class="cls-1"></g></g></svg>'},Electronic_272:{shapeName:"Electronic_272",svgstr:'<svg id="图层_2" data-name="图层 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><rect class="cls-1" x="0.07" y="5.87" width="27.86" height="17.11"/><line class="cls-1" x1="0.11" y1="9.30" x2="4.27" y2="6.02"/><line class="cls-1" x1="24.52" y1="22.91" x2="28.00" y2="20.03"/><line class="cls-1" x1="3.99" y1="10.19" x2="9.22" y2="5.91"/><line class="cls-1" x1="3.47" y1="15.17" x2="11.47" y2="8.72"/><line class="cls-1" x1="10.61" y1="9.42" x2="14.80" y2="5.96"/><line class="cls-1" x1="0.11" y1="13.45" x2="4.00" y2="10.18"/><line class="cls-1" x1="21.73" y1="21.40" x2="27.89" y2="16.30"/><line class="cls-1" x1="19.81" y1="22.97" x2="22.88" y2="20.44"/><line class="cls-1" x1="0.11" y1="18.05" x2="3.97" y2="14.75"/><line class="cls-1" x1="16.15" y1="20.67" x2="27.89" y2="10.17"/><line class="cls-1" x1="13.17" y1="23.13" x2="16.84" y2="20.11"/><line class="cls-1" x1="0.11" y1="22.86" x2="9.99" y2="14.61"/><line class="cls-1" x1="8.26" y1="16.04" x2="17.29" y2="8.59"/><line class="cls-1" x1="16.41" y1="9.34" x2="20.60" y2="5.88"/><line class="cls-1" x1="10.39" y1="19.81" x2="17.29" y2="14.25"/><line class="cls-1" x1="17.31" y1="14.26" x2="23.25" y2="9.35"/><line class="cls-1" x1="22.53" y1="9.93" x2="27.69" y2="5.84"/><line class="cls-1" x1="6.56" y1="22.97" x2="10.75" y2="19.51"/><g class="cls-1"></g></g></svg>'},Electronic_273:{shapeName:"Electronic_273",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="图层_2" data-name="图层 2"><line class="cls-1" x1="14.00" x2="14.00" y2="15.38"/><line class="cls-1" x1="6.56" y1="15.31" y2="15.31" x2="21.44"/><line class="cls-1" x1="8.75" y1="20.78" x2="19.25" y2="20.78"/><line class="cls-1" x1="10.94" y1="26.25" x2="17.06" y2="26.25"/></g></svg>'},Electronic_274:{shapeName:"Electronic_274",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" id="图层_2" data-name="图层 2" viewBox="0 0 28 28"><defs><style>.cls-1,.cls-2,.cls-3{fill:none;stroke:#000;stroke-linejoin:round;stroke-width:1.5px;stroke-dasharray:none;}.cls-2{fill:#000;}.cls-3{fill:#606060;}</style></defs><g id="运行水电厂"><line class="cls-1" x1="14.00" y1="11.22" x2="14.00"/><line class="cls-1" x1="14.00" y1="28.00" x2="14.00" y2="16.78"/><line class="cls-1" x1="8.39" y1="11.22" x2="19.61" y2="11.22"/><line class="cls-1" x1="8.39" y1="16.78" x2="19.61" y2="16.78"/></g></svg>'}},s={Electronic_9:.2,Electronic_12:.2,Electronic_13:.2,Electronic_14:.2,Electronic_15:.2,Electronic_45:.2,Electronic_46:.2,Electronic_47:.2,Electronic_52:.4,Electronic_53:.4,Electronic_68:.6,Electronic_71:.2,Electronic_80:.28,Electronic_81:.28,Electronic_82:.28,Electronic_119:.2,Electronic_139:.4,Electronic_140:.4,Electronic_144:.2,Electronic_149:.2,Electronic_173:.4,Electronic_174:.4,Electronic_175:.4,Electronic_184:.6,Electronic_254:.2,Electronic_266:.2},l={Electronic_49:.2,Electronic_63:.2,Electronic_150:.2,Electronic_191:.2,Electronic_193:.4,Electronic_194:.4,Electronic_198:.4,Electronic_204:.4},c={Electronic_3:{circle:{fillArr:[4],max:4}},Electronic_5:{circle:{fillArr:[4],max:4}},Electronic_6:{circle:{fillArr:[4],max:4}},Electronic_7:{circle:{fillArr:[4],max:4}},Electronic_28:{polygon:{fillArr:[2],max:2}},Electronic_30:{polygon:{fillArr:[2],max:2}},Electronic_31:{polygon:{fillArr:[2],max:2}},Electronic_32:{polygon:{fillArr:[2],max:2}},Electronic_47:{circle:{fillArr:[1],max:1}},Electronic_48:{circle:{fillArr:[1],max:1}},Electronic_49:{circle:{fillArr:[1],max:1}},Electronic_87:{polygon:{fillArr:[2],max:2}},Electronic_90:{polygon:{fillArr:[1],max:1}},Electronic_91:{polygon:{fillArr:[2],max:2}},Electronic_94:{polygon:{fillArr:[1],max:1}},Electronic_96:{polygon:{fillArr:[2],max:2}},Electronic_97:{polygon:{fillArr:[2],max:2}},Electronic_104:{polygon:{fillArr:[1],max:1}},Electronic_130:{rect:{fillArr:[1],max:1}},Electronic_131:{rect:{fillArr:[1],max:1}},Electronic_141:{polygon:{fillArr:[1],max:1}},Electronic_143:{rect:{fillArr:[1],max:1}},Electronic_177:{rect:{fillArr:[1],max:1}},Electronic_150:{circle:{fillArr:[1],max:1}},Electronic_151:{polygon:{fillArr:[1],max:1}},Electronic_203:{polygon:{fillArr:[1],max:1}},Electronic_212:{polygon:{fillArr:[1],max:1}},Electronic_244:{polygon:{fillArr:[1],max:1}},Electronic_266:{polygon:{fillArr:[1,2],max:2}},Electronic_103:{circle:{fillArr:[1],max:1}},Electronic_156:{circle:{fillArr:[1],max:1}},Electronic_157:{rect:{fillArr:[1],max:1}},Electronic_158:{rect:{fillArr:[1],max:1}},Electronic_262:{rect:{fillArr:[1],max:1}},Electronic_265:{rect:{fillArr:[1],max:1}},Electronic_67:{polygon:{fillArr:[1,2],max:2}},Electronic_253:{polygon:{fillArr:[1],max:1}},Electronic_58:{rect:{fillArr:[2],max:2},circle:{fillArr:[1],max:1}},Electronic_59:{rect:{fillArr:[2],max:2},circle:{fillArr:[1],max:1}},Electronic_114:{circle:{fillArr:[2],max:2}},Electronic_193:{rect:{fillArr:[1,2,3,4],max:4}},Electronic_256:{polygon:{fillArr:[1],max:1}},Electronic_142:{circle:{fillArr:[1],max:1},polygon:{fillArr:[1],max:1}},Electronic_275:{circle:{fillArr:[1],max:1},polygon:{fillArr:[1],max:1}},Electronic_61:{rect:{fillArr:[1],max:1}}},h={};const d={};function u(t,e,n){const a=Array.isArray(e),o=t.getAttribute("filter"),r=t.getAttribute("points").split(" "),s=r.shift(),l=r.shift();let h=!1;const u=c[n];if(u&&u.polygon){const{max:t,fillArr:e}=u.polygon;d[n]?(d[n]=d[n]+1,d[n]>t&&(d[n]=1)):d[n]=1,e.includes(d[n])&&(h=!0)}const f=new i.e.PathFigure(s,l,h);for(;r.length;){const t=r.shift(),e=r.shift(),n=new i.e.PathSegment(i.e.PathSegment.Line,+t,+e);f.add(n)}if(o&&(f.filter=!0),a){const t=new i.e.Geometry;t.add(f),e.push(i.e.Geometry.stringify(t))}else e.add(f)}const f={};const p={Electronic_53:"M0.95-1.57L0.95-1.55Q1.02-1.57 1.10-1.57L1.10-1.57Q1.30-1.57 1.48-1.48Q1.65-1.39 1.76-1.21Q1.87-1.03 1.87-0.78L1.87-0.78Q1.87-0.53 1.77-0.34Q1.66-0.16 1.47-0.06Q1.28 0.05 1.03 0.05L1.03 0.05Q0.75 0.05 0.52-0.11Q0.29-0.26 0.19-0.53L0.19-0.53L0.44-0.62Q0.61-0.21 1.04-0.21L1.04-0.21Q1.29-0.21 1.44-0.36Q1.59-0.52 1.59-0.78L1.59-0.78Q1.59-1.04 1.44-1.19Q1.28-1.35 1.02-1.35L1.02-1.35Q0.86-1.35 0.71-1.26L0.71-1.26L0.56-1.47L1.37-2.41L0.26-2.41L0.26-2.66L1.73-2.66L1.73-2.43L0.95-1.57ZM3.13-1.12L2.94-1.24Q3.02-1.40 3.13-1.49Q3.24-1.58 3.38-1.58L3.38-1.58Q3.45-1.58 3.51-1.55Q3.58-1.53 3.68-1.47L3.68-1.47Q3.77-1.42 3.83-1.40Q3.89-1.38 3.96-1.37L3.96-1.37Q4.11-1.37 4.21-1.57L4.21-1.57L4.40-1.48Q4.34-1.33 4.22-1.22Q4.09-1.12 3.96-1.12L3.96-1.12Q3.89-1.12 3.83-1.15Q3.76-1.17 3.66-1.23L3.66-1.23Q3.58-1.28 3.51-1.30Q3.45-1.33 3.39-1.33L3.39-1.33Q3.30-1.33 3.25-1.29Q3.19-1.25 3.13-1.12L3.13-1.12Z"};const g={circle:function(t,e,n){const a=Array.isArray(e);let o=t.getAttribute("cx"),r=t.getAttribute("cy"),s=t.getAttribute("r");o=+o,r=+r,s=+s;let l=!1;const d=c[n];if(d&&d.circle){const{max:t,fillArr:e}=d.circle;h[n]?(h[n]=h[n]+1,h[n]>t&&(h[n]=1)):h[n]=1,e.includes(h[n])&&(l=!0)}const u=new i.e.PathFigure(o+s,r,l),f=new i.e.PathSegment(i.e.PathSegment.Arc,0,360,+o,+r,+s,+s).close();if(u.add(f),a){const t=new i.e.Geometry;t.add(u),e.push(i.e.Geometry.stringify(t))}else e.add(u)},line:function(t,e){const n=Array.isArray(e),a=t.getAttribute("x1"),o=t.getAttribute("y1"),r=t.getAttribute("x2"),s=t.getAttribute("y2"),l=t.getAttribute("filter"),c=new i.e.PathFigure(+a,+o,!1),h=new i.e.PathSegment(i.e.PathSegment.Line,+r,+s);if(c.add(h),l&&(c.filter=!0),n){const t=new i.e.Geometry;t.add(c),e.push(i.e.Geometry.stringify(t))}else e.add(c)},path:function(t,e){const n=Array.isArray(e),a=t.getAttribute("d"),o=t.getAttribute("fill"),r=i.e.Geometry.parse(a,o);n?e.push(i.e.Geometry.stringify(r)):r.figures.each(t=>{e.figures.add(t)})},polyline:u,polygon:u,rect:function(t,e,n){const a=Array.isArray(e),o=t.getAttribute("x"),r=t.getAttribute("y"),s=t.getAttribute("width"),l=t.getAttribute("height"),h=t.getAttribute("filter"),d=t.getAttribute("transform"),u=+o||0,p=+r||0,g=new i.e.Geometry;let m=!1;const y=c[n];if(y&&y.rect){const{max:t,fillArr:e}=y.rect;f[n]?(f[n]=f[n]+1,f[n]>t&&(f[n]=1)):f[n]=1,e.includes(f[n])&&(m=!0)}const v=new i.e.PathFigure(u,p,m);v.add(new i.e.PathSegment(i.e.PathSegment.Line,+s+u,p)).add(new i.e.PathSegment(i.e.PathSegment.Line,+s+u,+l+p)).add(new i.e.PathSegment(i.e.PathSegment.Line,u,+l+p)).add(new i.e.PathSegment(i.e.PathSegment.Line,u,p).close()),h&&(v.filter=!0),g.add(v);const w=d&&d.match(/rotate\((.+?)\)/);if(w){const t=w[1];g.rotate(t,+s/2+u,+l/2+p),v.isFilled=!1}a?e.push(i.e.Geometry.stringify(g)):g.figures.each(t=>{e.figures.add(t)})},text:async function(t,e,n){if(!p[n])return;const a=Array.isArray(e),o=t.getAttribute("transform"),r=p[n],s=i.e.Geometry.parse(r,!0),l=o.match(/translate\((.+)\)/);if(l){const[t,e]=l[1].split(" ");s.offset(+t,+e)}const c=o.match(/rotate\((.+)\)/);if(c){const t=c[1];s.rotate(+t)}a?e.push(i.e.Geometry.stringify(s)):s.figures.each(t=>{e.figures.add(t)})},ellipse:function(t,e){const n=Array.isArray(e);let a=t.getAttribute("cx"),o=t.getAttribute("cy"),r=t.getAttribute("rx"),s=t.getAttribute("ry");a=+a,o=+o,r=+r,s=+s;const l=new i.e.PathFigure(a+r,o,!1),c=new i.e.PathSegment(i.e.PathSegment.Arc,0,360,a,o,r,s).close();if(l.add(c),n){const t=new i.e.Geometry;t.add(l),e.push(i.e.Geometry.stringify(t))}else e.add(l)}};function m(t,e,n){!function(t,e,n){const i=t.tagName,a=g[i];a&&a(t,e,n)}(t,e,n);const i=t.childNodes;i.length&&i.forEach(t=>{m(t,e,n)})}function y(t,e){const{parameter1:n,shapeName:c,width:h,height:d}=e;let u=r[c].svgstr;const f=o.a[c];if(f){const t=r[f];t&&(u=t.svgstr)}let p=t.part.baseGeo;p||(p=function(t,e,n){const a=(new DOMParser).parseFromString(t,"text/xml").childNodes,o=new i.e.Geometry,r=[];for(let t=0;t<a.length;t++){m(a[t],e?r:o,n)}return e?r:(o.normalize(),o)}(u,!1,c));const{width:g,height:y}=p.bounds;let v=0,w=0;s[c]?v=s[c]*h:l[c]&&(w=l[c]*d);const x=(h-v)/(g||1.5),b=(d-w)/(y||1.5);p.figures=p.figures.filter(t=>!t.filter),t.part.baseGeo=p;const S=p.copy(),k="".concat(c,"_").concat(n),P=a[k];return P&&i.e.Geometry.parse(P).figures.each(t=>{S.add(t)}),S.scale(x,b),S.offset(v/2,w/2),S}},function(t,e,n){"use strict";var i,a=new Uint8Array(16);function o(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)}var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(t){return"string"==typeof t&&r.test(t)},l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));var h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n};e.a=function(t,e,n){var i=(t=t||{}).random||(t.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=i[a];return e}return h(i)}},function(t,e,n){"use strict";var i=n(0);const a=(Math.sqrt(2)-1)/3*4;i.e.Shape.defineFigureGenerator("Rectangle",(function(t,e,n){let o=0;if(null!==t){const e=t?t.parameter1:NaN;!isNaN(e)&&e>=0&&(o=e)}o=Math.min(o,.5*e),o=Math.min(o,.5*n);const r=o*a,s=new i.e.Geometry;return o>0?s.add(new i.e.PathFigure(0,o,!0).add(new i.e.PathSegment(i.e.PathSegment.Arc,180,90,o,o,o,o)).add(new i.e.PathSegment(i.e.PathSegment.Line,e-o,0)).add(new i.e.PathSegment(i.e.PathSegment.Arc,270,90,e-o,o,o,o)).add(new i.e.PathSegment(i.e.PathSegment.Line,e,n-o)).add(new i.e.PathSegment(i.e.PathSegment.Arc,0,90,e-o,n-o,o,o)).add(new i.e.PathSegment(i.e.PathSegment.Line,o,n)).add(new i.e.PathSegment(i.e.PathSegment.Arc,90,90,o,n-o,o,o).close())):s.add(new i.e.PathFigure(0,o,!0).add(new i.e.PathSegment(i.e.PathSegment.Line,e-o,0)).add(new i.e.PathSegment(i.e.PathSegment.Line,e,n-o)).add(new i.e.PathSegment(i.e.PathSegment.Line,o,n).close())),r>1&&(s.spot1=new i.e.Spot(0,0,r,r),s.spot2=new i.e.Spot(1,1,-r,-r)),s})),i.e.Shape.defineFigureGenerator("TriangleUp",(function(t,e,n){let a=t?t.parameter1:NaN;(isNaN(a)||a<0)&&(a=0),a=Math.min(a,.5*e),a=Math.min(a,.5*Math.sqrt(.5*e*(.5*e)+n*n));const o=Math.atan(.5*e/n),r=180*o/Math.PI,s=(90-r)/2*Math.PI/180,l=a*Math.tan(o),c=a*Math.tan(s),h=new i.e.Geometry;return a>1?h.add(new i.e.PathFigure(a,n,!0).add(new i.e.PathSegment(i.e.PathSegment.Arc,90,r+90,a,n-a*Math.tan(s),c,c)).add(new i.e.PathSegment(i.e.PathSegment.Line,.5*e-a*Math.sin(o),a*Math.cos(o))).add(new i.e.PathSegment(i.e.PathSegment.Arc,r+180,180-2*r,.5*e,a/Math.cos(o),l,l)).add(new i.e.PathSegment(i.e.PathSegment.Line,e-a*Math.sin(o),n-a*Math.cos(o))).add(new i.e.PathSegment(i.e.PathSegment.Arc,360-r,r+90,e-a,n-a*Math.tan(s),c,c).close())).setSpots(.25,.5,.75,1):h.add(new i.e.PathFigure(a,n,!0).add(new i.e.PathSegment(i.e.PathSegment.Line,.5*e-a*Math.sin(o),a*Math.cos(o))).add(new i.e.PathSegment(i.e.PathSegment.Line,e-a*Math.sin(o),n-a*Math.cos(o)).close())).setSpots(.25,.5,.75,1),h})),i.e.Shape.defineFigureGenerator("RoundedRectangle",(function(t,e,n){let o=t?t.parameter1:NaN;(isNaN(o)||o<0)&&(o=5),o=Math.min(o,e/3),o=Math.min(o,n/3);const r=o*a,s=(new i.e.Geometry).add(new i.e.PathFigure(o,0,!0).add(new i.e.PathSegment(i.e.PathSegment.Line,e-o,0)).add(new i.e.PathSegment(i.e.PathSegment.Bezier,e,o,e-r,0,e,r)).add(new i.e.PathSegment(i.e.PathSegment.Line,e,n-o)).add(new i.e.PathSegment(i.e.PathSegment.Bezier,e-o,n,e,n-r,e-r,n)).add(new i.e.PathSegment(i.e.PathSegment.Line,o,n)).add(new i.e.PathSegment(i.e.PathSegment.Bezier,0,n-o,r,n,0,n-r)).add(new i.e.PathSegment(i.e.PathSegment.Line,0,o)).add(new i.e.PathSegment(i.e.PathSegment.Bezier,o,0,0,r,r,0).close()));return r>1&&(s.spot1=new i.e.Spot(0,0,r,r),s.spot2=new i.e.Spot(1,1,-r,-r)),s})),i.e.Shape.defineFigureGenerator("Parallelogram",(function(t,e,n){let a=t?t.parameter1:NaN;(isNaN(a)||a<0)&&(a=0),a=Math.min(a,(e-.1*e)/3),a=Math.min(a,n/3);const o=a*(.1*e)/Math.sqrt(n*n+.1*e*(.1*e)),r=a*n/Math.sqrt(n*n+.1*e*(.1*e));return(new i.e.Geometry).add(new i.e.PathFigure(.1*e+a,0,!0).add(new i.e.PathSegment(i.e.PathSegment.Line,e-a,0)).add(new i.e.PathSegment(i.e.PathSegment.Bezier,e-o,r,e,0,e,0)).add(new i.e.PathSegment(i.e.PathSegment.Line,e-.1*e+o,n-r)).add(new i.e.PathSegment(i.e.PathSegment.Bezier,e-.1*e-a,n,e-.1*e,n,e-.1*e,n)).add(new i.e.PathSegment(i.e.PathSegment.Line,a,n)).add(new i.e.PathSegment(i.e.PathSegment.Bezier,o,n-r,0,n,0,n)).add(new i.e.PathSegment(i.e.PathSegment.Line,.1*e-o,r)).add(new i.e.PathSegment(i.e.PathSegment.Bezier,.1*e+a,0,.1*e,0,.1*e,0).close()))})),i.e.Shape.defineFigureGenerator("Diamond",(function(t,e,n){let a=0;if(null!==t){const e=t?t.parameter1:NaN;!isNaN(e)&&e>=0&&(a=e)}a=Math.min(a,Math.sqrt(e*e*.125)),a=Math.min(a,Math.sqrt(n*n*.125));const o=Math.atan(e/n),r=a*Math.sin(o)*Math.sqrt(2),s=a*Math.cos(o)*Math.sqrt(2),l=new i.e.Geometry;return a>0?l.add(new i.e.PathFigure(.5*e-a*Math.sin(o),a*Math.cos(o),!0).add(new i.e.PathSegment(i.e.PathSegment.Arc,225,90,.5*e,2*a*Math.cos(o),r,s)).add(new i.e.PathSegment(i.e.PathSegment.Line,e-a*Math.sin(o),.5*n-a*Math.cos(o))).add(new i.e.PathSegment(i.e.PathSegment.Arc,315,90,e-2*a*Math.sin(o),.5*n,r,s)).add(new i.e.PathSegment(i.e.PathSegment.Line,.5*e+a*Math.sin(o),n-a*Math.cos(o))).add(new i.e.PathSegment(i.e.PathSegment.Arc,45,90,.5*e,n-2*a*Math.cos(o),r,s)).add(new i.e.PathSegment(i.e.PathSegment.Line,a*Math.sin(o),.5*n+a*Math.cos(o))).add(new i.e.PathSegment(i.e.PathSegment.Arc,135,90,2*a*Math.sin(o),.5*n,r,s).close())).setSpots(.25,.25,.75,.75):l.add(new i.e.PathFigure(.5*e-a*Math.sin(o),a*Math.cos(o),!0).add(new i.e.PathSegment(i.e.PathSegment.Line,e-a*Math.sin(o),.5*n-a*Math.cos(o))).add(new i.e.PathSegment(i.e.PathSegment.Line,.5*e+a*Math.sin(o),n-a*Math.cos(o))).add(new i.e.PathSegment(i.e.PathSegment.Line,a*Math.sin(o),.5*n+a*Math.cos(o)).close())).setSpots(.25,.25,.75,.75),l})),i.e.Shape.defineFigureGenerator("TriangleTip",(function(t,e,n){let o=t?t.parameter1:NaN;(isNaN(o)||o<0)&&(o=5),o=Math.min(o,e/3),o=Math.min(o,n/3);const r=Math.max(Math.min(10,n-o),0),s=r,l=o*a,c=(new i.e.Geometry).add(new i.e.PathFigure(o,0,!0).add(new i.e.PathSegment(i.e.PathSegment.Line,e-o,0)).add(new i.e.PathSegment(i.e.PathSegment.Bezier,e,o,e-l,0,e,l)).add(new i.e.PathSegment(i.e.PathSegment.Line,e,n-o-r)).add(new i.e.PathSegment(i.e.PathSegment.Bezier,e-o,n-r,e,n-r-l,e-l,n-r)).add(new i.e.PathSegment(i.e.PathSegment.Line,.5*e+s,n-r)).add(new i.e.PathSegment(i.e.PathSegment.Line,.5*e,n)).add(new i.e.PathSegment(i.e.PathSegment.Line,.5*e-s,n-r)).add(new i.e.PathSegment(i.e.PathSegment.Line,o,n-r)).add(new i.e.PathSegment(i.e.PathSegment.Bezier,0,n-o-r,l,n-r,0,n-r-l)).add(new i.e.PathSegment(i.e.PathSegment.Line,0,o)).add(new i.e.PathSegment(i.e.PathSegment.Bezier,o,0,0,l,l,0).close()));return l>1&&(c.spot1=new i.e.Spot(0,0,l,l),c.spot2=new i.e.Spot(1,1,-l,-l-r)),c})),i.e.Shape.defineFigureGenerator("BottomRoundedRectangle",(function(t,e,n){let o=0;if(null!==t){const e=t?t.parameter1:NaN;!isNaN(e)&&e>=0&&(o=e)}o=Math.min(o,.5*e),o=Math.min(o,.5*n);const r=o*a,s=new i.e.Geometry;return o>0?s.add(new i.e.PathFigure(0,0,!0).add(new i.e.PathSegment(i.e.PathSegment.Line,e,0)).add(new i.e.PathSegment(i.e.PathSegment.Line,e,n-o)).add(new i.e.PathSegment(i.e.PathSegment.Arc,0,90,e-o,n-o,o,o)).add(new i.e.PathSegment(i.e.PathSegment.Line,o,n)).add(new i.e.PathSegment(i.e.PathSegment.Arc,90,90,o,n-o,o,o).close())):s.add(new i.e.PathFigure(0,o,!0).add(new i.e.PathSegment(i.e.PathSegment.Line,e-o,0)).add(new i.e.PathSegment(i.e.PathSegment.Line,e,n-o)).add(new i.e.PathSegment(i.e.PathSegment.Line,o,n).close())),r>1&&(s.spot1=new i.e.Spot(0,0,r,r),s.spot2=new i.e.Spot(1,1,-r,-r)),s}))},function(t,e,n){var i=n(51)(n(38),"Map");t.exports=i},function(t,e,n){var i=n(100),a=n(103);t.exports=function(t){return null!=t&&a(t.length)&&!i(t)}},function(t,e,n){(function(t){var i=n(38),a=n(152),o=e&&!e.nodeType&&e,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===o?i.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;t.exports=l}).call(this,n(86)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var i=n(96),a=e&&!e.nodeType&&e,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,r=o&&o.exports===a&&i.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||r&&r.binding&&r.binding("util")}catch(t){}}();t.exports=s}).call(this,n(86)(t))},function(t,e,n){var i=n(109),a=n(98),o=n(84);t.exports=function(t){return o(t)?i(t):a(t)}},function(t,e,n){var i=n(109),a=n(186),o=n(84);t.exports=function(t){return o(t)?i(t,!0):a(t)}},function(t,e,n){var i=n(191),a=n(110),o=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,s=r?function(t){return null==t?[]:(t=Object(t),i(r(t),(function(e){return o.call(t,e)})))}:a;t.exports=s},function(t,e,n){var i=n(197);t.exports=function(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}},function(t,e,n){var i,a,o,r,s,l,c,h,d,u,f,p,g,m,y,v,w,x,b;t.exports=(i=n(44),n(124),void(i.lib.Cipher||(a=i,o=a.lib,r=o.Base,s=o.WordArray,l=o.BufferedBlockAlgorithm,c=a.enc,c.Utf8,h=c.Base64,d=a.algo.EvpKDF,u=o.Cipher=l.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:w}return function(e){return{encrypt:function(n,i,a){return t(i).encrypt(e,n,i,a)},decrypt:function(n,i,a){return t(i).decrypt(e,n,i,a)}}}}()}),o.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=a.mode={},p=o.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),g=f.CBC=function(){var t=p.extend();function e(t,e,n){var i,a=this._iv;a?(i=a,this._iv=void 0):i=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=i[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var i=this._cipher,a=i.blockSize;e.call(this,t,n,a),i.encryptBlock(t,n),this._prevBlock=t.slice(n,n+a)}}),t.Decryptor=t.extend({processBlock:function(t,n){var i=this._cipher,a=i.blockSize,o=t.slice(n,n+a);i.decryptBlock(t,n),e.call(this,t,n,a),this._prevBlock=o}}),t}(),m=(a.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,i=n-t.sigBytes%n,a=i<<24|i<<16|i<<8|i,o=[],r=0;r<i;r+=4)o.push(a);var l=s.create(o,i);t.concat(l)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},o.BlockCipher=u.extend({cfg:u.cfg.extend({mode:g,padding:m}),reset:function(){var t;u.reset.call(this);var e=this.cfg,n=e.iv,i=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=i.createEncryptor:(t=i.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,n&&n.words):(this._mode=t.call(i,this,n&&n.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),y=o.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),v=(a.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;return(n?s.create([1398893684,1701076831]).concat(n).concat(e):e).toString(h)},parse:function(t){var e,n=h.parse(t),i=n.words;return 1398893684==i[0]&&1701076831==i[1]&&(e=s.create(i.slice(2,4)),i.splice(0,4),n.sigBytes-=16),y.create({ciphertext:n,salt:e})}},w=o.SerializableCipher=r.extend({cfg:r.extend({format:v}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var a=t.createEncryptor(n,i),o=a.finalize(e),r=a.cfg;return y.create({ciphertext:o,key:n,iv:r.iv,algorithm:t,mode:r.mode,padding:r.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),x=(a.kdf={}).OpenSSL={execute:function(t,e,n,i){i||(i=s.random(8));var a=d.create({keySize:e+n}).compute(t,i),o=s.create(a.words.slice(e),4*n);return a.sigBytes=4*e,y.create({key:a,iv:o,salt:i})}},b=o.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:x}),encrypt:function(t,e,n,i){var a=(i=this.cfg.extend(i)).kdf.execute(n,t.keySize,t.ivSize);i.iv=a.iv;var o=w.encrypt.call(this,t,e,a.key,i);return o.mixIn(a),o},decrypt:function(t,e,n,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var a=i.kdf.execute(n,t.keySize,t.ivSize,e.salt);return i.iv=a.iv,w.decrypt.call(this,t,e,a.key,i)}}))))},function(t,e,n){!function(e){"use strict";var n=function(){return{escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:e,mimeType:function(t){var n=e(t).toLowerCase();return(i="application/font-woff",{woff:i,woff2:i,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[n]||"";var i},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):function(t){return new Promise((function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),i=n.length,a=new Uint8Array(i),o=0;o<i;o++)a[o]=n.charCodeAt(o);e(new Blob([a],{type:"image/png"}))}))}(t)},resolveUrl:function(t,e){var n=document.implementation.createHTMLDocument(),i=n.createElement("base");n.head.appendChild(i);var a=n.createElement("a");return n.body.appendChild(a),i.href=e,a.href=t,a.href},getAndEncode:function(t){s.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());return new Promise((function(e){var n,i=new XMLHttpRequest;if(i.onreadystatechange=function(){if(4!==i.readyState)return;if(200!==i.status)return void(n?e(n):o("cannot fetch resource: "+t+", status: "+i.status));var a=new FileReader;a.onloadend=function(){var t=a.result.split(/,/)[1];e(t)},a.readAsDataURL(i.response)},i.ontimeout=function(){n?e(n):o("timeout of 30000ms occured while fetching resource: "+t)},i.responseType="blob",i.timeout=3e4,i.open("GET",t,!0),i.send(),s.impl.options.imagePlaceholder){var a=s.impl.options.imagePlaceholder.split(/,/);a&&a[1]&&(n=a[1])}function o(t){console.error(t),e("")}}))},uid:(t=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+t++}),delay:function(t){return function(e){return new Promise((function(n){setTimeout((function(){n(e)}),t)}))}},asArray:function(t){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return new Promise((function(e,n){var i=new Image;i.onload=function(){e(i)},i.onerror=n,i.src=t}))},width:function(t){var e=n(t,"border-left-width"),i=n(t,"border-right-width");return t.scrollWidth+e+i},height:function(t){var e=n(t,"border-top-width"),i=n(t,"border-bottom-width");return t.scrollHeight+e+i}};var t;function e(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function n(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}}(),i=function(){var t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,n,o){return function(){return!e(t)}()?Promise.resolve(t):Promise.resolve(t).then(i).then((function(e){var i=Promise.resolve(t);return e.forEach((function(t){i=i.then((function(e){return a(e,t,n,o)}))})),i}))},shouldProcess:e,impl:{readUrls:i,inline:a}};function e(e){return-1!==e.search(t)}function i(e){for(var i,a=[];null!==(i=t.exec(e));)a.push(i[1]);return a.filter((function(t){return!n.isDataUrl(t)}))}function a(t,e,i,a){return Promise.resolve(e).then((function(t){return i?n.resolveUrl(t,i):t})).then(a||n.getAndEncode).then((function(t){return n.dataAsUrl(t,n.mimeType(e))})).then((function(i){return t.replace(function(t){return new RegExp("(url\\(['\"]?)("+n.escape(t)+")(['\"]?\\))","g")}(e),"$1"+i+"$3")}))}}(),a=function(){return{resolveAll:function(){return t(document).then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))},impl:{readAll:t}};function t(){return Promise.resolve(n.asArray(document.styleSheets)).then((function(t){var e=[];return t.forEach((function(t){try{n.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(e){console.log("Error while reading CSS rules from "+t.href,e.toString())}})),e})).then((function(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return i.shouldProcess(t.style.getPropertyValue("src"))}))})).then((function(e){return e.map(t)}));function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return i.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}}(),o=function(){return{inlineAll:function e(a){return a instanceof Element?function(t){var e=t.style.getPropertyValue("background");return e?i.inlineAll(e).then((function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))})).then((function(){return t})):Promise.resolve(t)}(a).then((function(){return a instanceof HTMLImageElement?t(a).inline():Promise.all(n.asArray(a.childNodes).map((function(t){return e(t)})))})):Promise.resolve(a)},impl:{newImage:t}};function t(t){return{inline:function(e){return n.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||n.getAndEncode).then((function(e){return n.dataAsUrl(e,n.mimeType(t.src))})).then((function(e){return new Promise((function(n,i){t.onload=n,t.onerror=i,t.src=e}))}))}}}}(),r={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:l,toPng:function(t,e){return c(t,e||{}).then((function(t){return t.toDataURL()}))},toJpeg:function(t,e){return c(t,e=e||{}).then((function(t){return t.toDataURL("image/jpeg",e.quality||1)}))},toBlob:function(t,e){return c(t,e||{}).then(n.canvasToBlob)},toPixelData:function(t,e){return c(t,e||{}).then((function(e){return e.getContext("2d").getImageData(0,0,n.width(t),n.height(t)).data}))},impl:{fontFaces:a,images:o,util:n,inliner:i,options:{}}};function l(t,e){return function(t){void 0===t.imagePlaceholder?s.impl.options.imagePlaceholder=r.imagePlaceholder:s.impl.options.imagePlaceholder=t.imagePlaceholder;void 0===t.cacheBust?s.impl.options.cacheBust=r.cacheBust:s.impl.options.cacheBust=t.cacheBust}(e=e||{}),Promise.resolve(t).then((function(t){return function t(e,i,a){return a||!i||i(e)?Promise.resolve(e).then((function(t){return t instanceof HTMLCanvasElement?n.makeImage(t.toDataURL()):t.cloneNode(!1)})).then((function(t){return o(e,t,i)})).then((function(t){return function(t,e){return e instanceof Element?Promise.resolve().then(i).then(a).then(o).then(r).then((function(){return e})):e;function i(){var i,a;i=window.getComputedStyle(t),a=e.style,i.cssText?a.cssText=i.cssText:function(t,e){n.asArray(t).forEach((function(n){e.setProperty(n,t.getPropertyValue(n),t.getPropertyPriority(n))}))}(i,a)}function a(){[":before",":after"].forEach((function(i){!function(i){var a=window.getComputedStyle(t,i),o=a.getPropertyValue("content");if(""===o||"none"===o)return;var r=n.uid();e.className=e.className+" "+r;var s=document.createElement("style");s.appendChild(function(t,e,i){var a="."+t+":"+e,o=i.cssText?function(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}(i):function(t){return n.asArray(t).map((function(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")})).join("; ")+";"}(i);return document.createTextNode(a+"{"+o+"}")}(r,i,a)),e.appendChild(s)}(i)}))}function o(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function r(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach((function(t){var n=e.getAttribute(t);n&&e.style.setProperty(t,n)})))}}(e,t)})):Promise.resolve();function o(e,i,a){var o=e.childNodes;return 0===o.length?Promise.resolve(i):r(i,n.asArray(o),a).then((function(){return i}));function r(e,n,i){var a=Promise.resolve();return n.forEach((function(n){a=a.then((function(){return t(n,i)})).then((function(t){t&&e.appendChild(t)}))})),a}}}(t,e.filter,!0)})).then(h).then(d).then((function(t){e.bgcolor&&(t.style.backgroundColor=e.bgcolor);e.width&&(t.style.width=e.width+"px");e.height&&(t.style.height=e.height+"px");e.style&&Object.keys(e.style).forEach((function(n){t.style[n]=e.style[n]}));return t})).then((function(i){return function(t,e,i){return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(n.escapeXhtml).then((function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"})).then((function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+i+'">'+t+"</svg>"})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))}(i,e.width||n.width(t),e.height||n.height(t))}))}function c(t,e){return l(t,e).then(n.makeImage).then(n.delay(100)).then((function(i){var a=function(t){var i=document.createElement("canvas");if(i.width=e.width||n.width(t),i.height=e.height||n.height(t),e.bgcolor){var a=i.getContext("2d");a.fillStyle=e.bgcolor,a.fillRect(0,0,i.width,i.height)}return i}(t);return a.getContext("2d").drawImage(i,0,0),a}))}function h(t){return a.resolveAll().then((function(e){var n=document.createElement("style");return t.appendChild(n),n.appendChild(document.createTextNode(e)),t}))}function d(t){return o.inlineAll(t).then((function(){return t}))}t.exports=s}()},function(t,e,n){"use strict";(function(t){var n=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(t,e){if(void 0===e&&(e=[]),null===t||"object"!=typeof t)return t;var n,a=(n=function(e){return e.original===t},e.filter(n)[0]);if(a)return a.copy;var o=Array.isArray(t)?[]:{};return e.push({original:t,copy:o}),Object.keys(t).forEach((function(n){o[n]=i(t[n],e)})),o}function a(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function o(t){return null!==t&&"object"==typeof t}var r=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},s={namespaced:{configurable:!0}};s.namespaced.get=function(){return!!this._rawModule.namespaced},r.prototype.addChild=function(t,e){this._children[t]=e},r.prototype.removeChild=function(t){delete this._children[t]},r.prototype.getChild=function(t){return this._children[t]},r.prototype.hasChild=function(t){return t in this._children},r.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},r.prototype.forEachChild=function(t){a(this._children,t)},r.prototype.forEachGetter=function(t){this._rawModule.getters&&a(this._rawModule.getters,t)},r.prototype.forEachAction=function(t){this._rawModule.actions&&a(this._rawModule.actions,t)},r.prototype.forEachMutation=function(t){this._rawModule.mutations&&a(this._rawModule.mutations,t)},Object.defineProperties(r.prototype,s);var l=function(t){this.register([],t,!1)};l.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},l.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},l.prototype.update=function(t){!function t(e,n,i){0;if(n.update(i),i.modules)for(var a in i.modules){if(!n.getChild(a))return void 0;t(e.concat(a),n.getChild(a),i.modules[a])}}([],this.root,t)},l.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var o=new r(e,n);0===t.length?this.root=o:this.get(t.slice(0,-1)).addChild(t[t.length-1],o);e.modules&&a(e.modules,(function(e,a){i.register(t.concat(a),e,n)}))},l.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],i=e.getChild(n);i&&i.runtime&&e.removeChild(n)},l.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var c;var h=function(t){var e=this;void 0===t&&(t={}),!c&&"undefined"!=typeof window&&window.Vue&&v(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var a=t.strict;void 0===a&&(a=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new l(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new c,this._makeLocalGettersCache=Object.create(null);var o=this,r=this.dispatch,s=this.commit;this.dispatch=function(t,e){return r.call(o,t,e)},this.commit=function(t,e,n){return s.call(o,t,e,n)},this.strict=a;var h=this._modules.root.state;g(this,h,[],this._modules.root),p(this,h),i.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:c.config.devtools)&&function(t){n&&(t._devtoolHook=n,n.emit("vuex:init",t),n.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){n.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){n.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},d={state:{configurable:!0}};function u(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function f(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;g(t,n,[],t._modules.root,!0),p(t,n,e)}function p(t,e,n){var i=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,r={};a(o,(function(e,n){r[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var s=c.config.silent;c.config.silent=!0,t._vm=new c({data:{$$state:e},computed:r}),c.config.silent=s,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),i&&(n&&t._withCommit((function(){i._data.$$state=null})),c.nextTick((function(){return i.$destroy()})))}function g(t,e,n,i,a){var o=!n.length,r=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[r],t._modulesNamespaceMap[r]=i),!o&&!a){var s=m(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit((function(){c.set(s,l,i.state)}))}var h=i.context=function(t,e,n){var i=""===e,a={dispatch:i?t.dispatch:function(n,i,a){var o=y(n,i,a),r=o.payload,s=o.options,l=o.type;return s&&s.root||(l=e+l),t.dispatch(l,r)},commit:i?t.commit:function(n,i,a){var o=y(n,i,a),r=o.payload,s=o.options,l=o.type;s&&s.root||(l=e+l),t.commit(l,r,s)}};return Object.defineProperties(a,{getters:{get:i?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach((function(a){if(a.slice(0,i)===e){var o=a.slice(i);Object.defineProperty(n,o,{get:function(){return t.getters[a]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return m(t.state,n)}}}),a}(t,r,n);i.forEachMutation((function(e,n){!function(t,e,n,i){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){n.call(t,i.state,e)}))}(t,r+n,e,h)})),i.forEachAction((function(e,n){var i=e.root?n:r+n,a=e.handler||e;!function(t,e,n,i){(t._actions[e]||(t._actions[e]=[])).push((function(e){var a,o=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return(a=o)&&"function"==typeof a.then||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}(t,i,a,h)})),i.forEachGetter((function(e,n){!function(t,e,n,i){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)}}(t,r+n,e,h)})),i.forEachChild((function(i,o){g(t,e,n.concat(o),i,a)}))}function m(t,e){return e.reduce((function(t,e){return t[e]}),t)}function y(t,e,n){return o(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function v(t){c&&t===c||
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(c=t)}d.state.get=function(){return this._vm._data.$$state},d.state.set=function(t){0},h.prototype.commit=function(t,e,n){var i=this,a=y(t,e,n),o=a.type,r=a.payload,s=(a.options,{type:o,payload:r}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(t){t(r)}))})),this._subscribers.slice().forEach((function(t){return t(s,i.state)})))},h.prototype.dispatch=function(t,e){var n=this,i=y(t,e),a=i.type,o=i.payload,r={type:a,payload:o},s=this._actions[a];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(r,n.state)}))}catch(t){0}var l=s.length>1?Promise.all(s.map((function(t){return t(o)}))):s[0](o);return new Promise((function(t,e){l.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(r,n.state)}))}catch(t){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(r,n.state,t)}))}catch(t){0}e(t)}))}))}},h.prototype.subscribe=function(t,e){return u(t,this._subscribers,e)},h.prototype.subscribeAction=function(t,e){return u("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},h.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch((function(){return t(i.state,i.getters)}),e,n)},h.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},h.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),g(this,this.state,t,this._modules.get(t),n.preserveState),p(this,this.state)},h.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=m(e.state,t.slice(0,-1));c.delete(n,t[t.length-1])})),f(this)},h.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},h.prototype.hotUpdate=function(t){this._modules.update(t),f(this,!0)},h.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(h.prototype,d);var w=P((function(t,e){var n={};return k(e).forEach((function(e){var i=e.key,a=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=M(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"==typeof a?a.call(this,e,n):e[a]},n[i].vuex=!0})),n})),x=P((function(t,e){var n={};return k(e).forEach((function(e){var i=e.key,a=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.commit;if(t){var o=M(this.$store,"mapMutations",t);if(!o)return;i=o.context.commit}return"function"==typeof a?a.apply(this,[i].concat(e)):i.apply(this.$store,[a].concat(e))}})),n})),b=P((function(t,e){var n={};return k(e).forEach((function(e){var i=e.key,a=e.val;a=t+a,n[i]=function(){if(!t||M(this.$store,"mapGetters",t))return this.$store.getters[a]},n[i].vuex=!0})),n})),S=P((function(t,e){var n={};return k(e).forEach((function(e){var i=e.key,a=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var o=M(this.$store,"mapActions",t);if(!o)return;i=o.context.dispatch}return"function"==typeof a?a.apply(this,[i].concat(e)):i.apply(this.$store,[a].concat(e))}})),n}));function k(t){return function(t){return Array.isArray(t)||o(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function P(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function M(t,e,n){return t._modulesNamespaceMap[n]}function _(t,e,n){var i=n?t.groupCollapsed:t.group;try{i.call(t,e)}catch(n){t.log(e)}}function L(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function T(){var t=new Date;return" @ "+O(t.getHours(),2)+":"+O(t.getMinutes(),2)+":"+O(t.getSeconds(),2)+"."+O(t.getMilliseconds(),3)}function O(t,e){return n="0",i=e-t.toString().length,new Array(i+1).join(n)+t;var n,i}var A={Store:h,install:v,version:"3.6.2",mapState:w,mapMutations:x,mapGetters:b,mapActions:S,createNamespacedHelpers:function(t){return{mapState:w.bind(null,t),mapGetters:b.bind(null,t),mapMutations:x.bind(null,t),mapActions:S.bind(null,t)}},createLogger:function(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var a=t.transformer;void 0===a&&(a=function(t){return t});var o=t.mutationTransformer;void 0===o&&(o=function(t){return t});var r=t.actionFilter;void 0===r&&(r=function(t,e){return!0});var s=t.actionTransformer;void 0===s&&(s=function(t){return t});var l=t.logMutations;void 0===l&&(l=!0);var c=t.logActions;void 0===c&&(c=!0);var h=t.logger;return void 0===h&&(h=console),function(t){var d=i(t.state);void 0!==h&&(l&&t.subscribe((function(t,r){var s=i(r);if(n(t,d,s)){var l=T(),c=o(t),u="mutation "+t.type+l;_(h,u,e),h.log("%c prev state","color: #9E9E9E; font-weight: bold",a(d)),h.log("%c mutation","color: #03A9F4; font-weight: bold",c),h.log("%c next state","color: #4CAF50; font-weight: bold",a(s)),L(h)}d=s})),c&&t.subscribeAction((function(t,n){if(r(t,n)){var i=T(),a=s(t),o="action "+t.type+i;_(h,o,e),h.log("%c action","color: #03A9F4; font-weight: bold",a),L(h)}})))}}};e.a=A}).call(this,n(47))},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(47))},function(t,e,n){var i=n(61),a=n(54);t.exports=function(t){return"symbol"==typeof t||a(t)&&"[object Symbol]"==i(t)}},function(t,e,n){var i=n(68),a=n(142),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return a(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var i=n(61),a=n(49);t.exports=function(t){if(!a(t))return!1;var e=i(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var i=n(151),a=n(54),o=Object.prototype,r=o.hasOwnProperty,s=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return a(t)&&r.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){var i=n(153),a=n(87),o=n(88),r=o&&o.isTypedArray,s=r?a(r):i;t.exports=s},function(t,e,n){"use strict";var i=n(0),a=n(36),o=n(14),r=n(2),s=n(46);const l=["ToolManager","DragSelecting","ContextMenu"];i.e.Link.prototype.computeCurve=function(){return this.curve},i.e.Link.prototype.isSpotUndirected=function(t){return t===i.e.Spot.None||.5===t.x&&.5===t.y},i.e.Link.prototype.computeSpacing=function(){return 0},i.e.Link.prototype.isApprox=function(t,e){const n=t-e;return n<.5&&n>-.5},i.e.Link.prototype.isApproxOfOne=function(t,e){const n=t.x-e.x,i=t.y-e.y;return n<=1&&n>=-1&&i<=1&&i>=-1},i.e.Link.prototype.isInRange=function(t,e,n){return n>t&&n<e||n<t&&n>e},i.e.Link.prototype._orthoPointToward=function(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x>=t.x?e.x=t.x+9e9:e.x=t.x-9e9,e.y=t.y):(e.y>=t.y?e.y=t.y+9e9:e.y=t.y-9e9,e.x=t.x),e},i.e.Link.prototype.isSpotUndirected=function(t){return t===i.e.Spot.None||.5===t.x&&.5===t.y},i.e.Link.prototype.computeFocusSpot=function(t){return.5===t.x&&.5===t.y?t:i.e.Spot.Center},i.e.Link.prototype._getLinkPoint=function(t,e,n,o,r,s,l,c){if(void 0===c&&(c=new i.e.Point),e.desiredSize.equalTo(0,0)&&t.location)return t.location;if(n.isSpot())return Object(a.c)(t,e,n);{void 0===c&&(c=new i.e.Point);const a=e.getDocumentPoint(this.computeFocusSpot(n),i.e.Point.alloc()),s=!r&&this.curve!==i.e.Link.Bezier;let h=null;if(this.data.reshaped||s&&this.pointsCount>2)h=o?this.getPoint(1).copy():this.getPoint(this.pointsCount-2).copy();else{let t=null;const e=this.computeSpot(!o,l);t=i.e.Point.alloc(),h=l.getDocumentPoint(this.computeFocusSpot(e),t),h=this._orthoPointToward(a,h),i.e.Point.free(t)}return this.getLinkPointFromPoint(t,e,a,h,o,c),i.e.Point.free(a),c}},i.e.Link.prototype.gravityEndPoints=function(t,e,n,a,s,l,c,h){const d=e.copy(),u=n.copy(),f=!this.isOrthogonal&&this.curve!==i.e.Link.Bezier;let p=[],g=!1,m=null,y=null,v=null,w=null,x=Object(o.b)(this.diagram,e,n,10);const b=this.diagram.currentTool.name,S=!("Rotating"===b||"Dragging"===b||"Linking"===b||"Relinking"===b),k="Linking"===b||"Relinking"===b;if((k||S)&&!h){if(!t&&this.diagram.currentTool.isGridSnapEnabled&&k&&(this.diagram.currentTool.isForwards?(y=u.copy().snapToGridPoint(this.diagram.grid.gridOrigin,this.diagram.grid.gridCellSize),y.subtract(u)):(y=d.copy().snapToGridPoint(this.diagram.grid.gridOrigin,this.diagram.grid.gridCellSize),y.subtract(d))),this.isOrthogonal){const r=this.diagram.currentTool.isForwards,l=this._savePoints||this.points,c=r?n:e;let h=r?e:n;this.data.reshaped&&this.pointsCount>=3&&(h=r?l.get(l.count-3):l.get(2),x=Object(o.b)(this.diagram,c,h,10));let d=!1;if(("x"!==x||90!==a&&270!==a&&90!==s&&270!==s)&&("y"!==x||0!==a&&180!==a&&0!==s&&180!==s)||(d=!0),d){const e=r||S?this.data.toInner:this.data.fromInner,n=t&&"PORT_ON_LINK"===t.name;if("x"===x||"y"===x)if(!t||e||n)m="x"===x?new i.e.Point(h.x-c.x,y?y.y:0):new i.e.Point(y?y.x:0,h.y-c.y);else{var P;const e=null===(P=t.geometry)||void 0===P?void 0:P.getPointByXOrY(t.getDocumentNaturalBounds(),x,h[x],!0,c,t);e&&e.distanceSquaredPoint(c)<100&&(m=e.subtract(c))}}}else if(f&&k){const t=this.diagram.currentTool.isForwards?n:e,a=this.diagram.currentTool.isForwards?this.getPoint(this.pointsCount-2):this.getPoint(1);t&&a&&(x=Object(o.b)(this.diagram,t,a,10),"x"===x?m=new i.e.Point(a.x-t.x,y?y.y:0):"y"===x&&(m=new i.e.Point(y?y.x:0,a.y-t.y)))}if(t&&k){const e=t.part,n=e&&e.data.portArray;if(n){const e=t.getDocumentNaturalBounds(),a=[];let o=[];const s=this.diagram.currentTool.isForwards?u:d;n.forEach(n=>{if(n){const o=new i.e.Point(e.x+e.width*n.x,e.y+e.height*n.y),s=Object(r.O)(o,e,t.part,!0);a.push(s)}}),o=a.map(t=>(t.x-s.x)*(t.x-s.x)+(t.y-s.y)*(t.y-s.y));const l=o.filter(t=>t<100).sort((t,e)=>t-e)[0];if("number"==typeof l){const t=o.findIndex(t=>t===l);v=a[t].subtract(s),w=n[t]}}}p=[m,y,v].filter(t=>t).sort((t,e)=>Math.abs(t[x])-Math.abs(e[x])),p[0]&&(p[0].equals(m)&&(g=!0,w=null),this.diagram.currentTool.isForwards||S?u.add(p[0]):d.add(p[0]))}return{fromPoint:d,toPoint:u,isGravity:!!p[0],targetSpot:w,isGravityLine:g,direction:x}},i.e.Link.prototype._orthoPointToward=function(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x>=t.x?e.x=t.x+9e9:e.x=t.x-9e9,e.y=t.y):(e.y>=t.y?e.y=t.y+9e9:e.y=t.y-9e9,e.x=t.x),e},i.e.Link.prototype.definedSpot=function(t){return!(0!==t.x&&.5!==t.x&&1!==t.x||0!==t.y&&.5!==t.y&&1!==t.y)},i.e.Link.prototype.isInner=function(t,e){return!t.data||(!e||!t.data.fromInner)&&!(!e&&t.data.toInner)},i.e.Link.prototype.findAngleByPoint=function(t,e){const n=e,a=t.getDocumentNaturalBounds(),o=Object(r.O)(n,a,t),s=o.x-a.x,l=o.y-a.y,c=t.geometry.getFractionForPoint(new i.e.Point(s,l));return t.geometry.getAngleAlongPath(c)},i.e.Link.prototype._getLinkDirection1=function(t,e,n,a,o,r,s,l,c){if(a.isSpot()&&t){const o=n.copy(),r=e,s=["image","circuit","circuit-orient","circuit-orient-side","electronic"],l=r&&(r.part.angle||r.angle);if(r&&r.geometry&&this.geometry&&!this.definedSpot(a)&&r.part&&r.fill&&(!r.part.data||r.part.data&&!~s.indexOf(r.part.data.category))&&0===l){let t=this.findAngleByPoint(r,n);t<0&&(t+=180);const e=Math.abs(t-180);if(e>45&&e<135){return this.diagram.findObjectAt(o.add(new i.e.Point(-7,0)),null,t=>t===r)&&r.geometry.containsPoint(r.getLocalPoint(n).add(new i.e.Point(-7,0)))?0:180}return this.diagram.findObjectAt(o.add(new i.e.Point(0,7)),null,t=>t===r)&&r.geometry.containsPoint(r.getLocalPoint(n).add(new i.e.Point(0,7)))?270:90}{const e=t&&t.data&&t.data.portArray,n=t&&t.data&&t.data.category;let i=0;if(Math.abs(a.x-a.y)<.01||a.x>a.y?i=a.x>=1-a.y?0:(a.x,a.y,270):a.x<a.y&&(i=a.x>1-a.y?90:(a.x,a.y,180)),"image"===n&&Array.isArray(e))switch(i){case 0:e.filter(t=>t.x>=a.x).length>=2&&(i=180);break;case 180:e.filter(t=>t.x<=a.x).length>=2&&(i=0);break;case 90:e.filter(t=>t.y>=a.y).length>=2&&(i=270);break;case 270:e.filter(t=>t.y<=a.y).length>=2&&(i=90)}return i}}if(!e.part.data||0===e.desiredSize.width&&0===e.desiredSize.height){const t=n.x-c.x,e=n.y-c.y;return Math.abs(t)>Math.abs(e)?t<0?0:180:e<0?90:270}{const t=e.getDocumentPoint(i.e.Spot.Center,i.e.Point.alloc());let a=null,s=null;this.pointsCount>(r?6:2)?(s=o?this.getPoint(1):this.getPoint(this.pointsCount-2),s=r?this._orthoPointToward(t,s.copy()):n):(a=i.e.Point.alloc(),s=l.getDocumentPoint(i.e.Spot.Center,a),i.e.Point.free(a));let c=0;return c=Math.abs(s.x-t.x)>Math.abs(s.y-t.y)?s.x>=t.x?0:180:s.y>=t.y?90:270,i.e.Point.free(t),c}},i.e.Link.prototype.getLinkDirection=function(t,e,n,i,a,o,r,s,l){let c=this._getLinkDirection1(t,e,n,i,a,o,r,s,l);if(this.isSpotUndirected(i))return c;const h=e.getDocumentAngle();return 0===h||(h>=45&&h<135?c+=90:h>=135&&h<225?c+=180:h>=225&&h<315&&(c+=270),c>=360&&(c-=360)),c},i.e.Link.prototype.calculateBezierNoSpot=function(t,e,n,i,a,o){const r=this.getLinkPoint(t,e,n,!0,!1,i,a),s=this.getLinkPoint(i,a,o,!1,!1,t,e),l=s.x-r.x,c=s.y-r.y,h=this.computeCurviness();let d=0,u=0,f=r.x+l/3,p=r.y+c/3,g=f,m=p;this.isApprox(c,0)?l>0?m-=h:m+=h:(d=-l/c,u=Math.sqrt(h*h/(d*d+1)),h<0&&(u=-u),g=(c<0?-1:1)*u+f,m=d*(g-f)+p),f=r.x+2*l/3,p=r.y+2*c/3;let y=f,v=p;this.isApprox(c,0)?l>0?v-=h:v+=h:(y=(c<0?-1:1)*u+f,v=d*(y-f)+p),this.clearPoints(),this.addPoint(r),this.addPointAt(g,m),this.addPointAt(y,v),this.addPoint(s),this.setPoint(0,this.getLinkPoint(t,e,n,!0,!1,i,a)),this.setPoint(3,this.getLinkPoint(i,a,o,!1,!1,t,e))},i.e.Link.prototype.calculateLineNoSpot=function(t,e,n,i,a,o){const r=this.getLinkPoint(t,e,n,!0,!1,i,a),s=this.getLinkPoint(i,a,o,!1,!1,t,e);if(this.hasCurviness()){const t=s.x-r.x,e=s.y-r.y,n=this.computeCurviness(),i=n,a=r.x+t/2,o=r.y+e/2;let l=a,c=o;if(this.isApprox(e,0))t>0?c-=i:c+=i;else{const r=-t/e;let s=Math.sqrt(i*i/(r*r+1));n<0&&(s=-s),l=(e<0?-1:1)*s+a,c=r*(l-a)+o}this.addPoint(r),this.addPointAt(l,c),this.addPoint(s)}else this.addPoint(r),this.addPoint(s)},i.e.Link.prototype._ensureSegment=function(t,e,n,i,a,o){return this.isOrthogonal&&(this.data&&!this.data.reshaped&&(180===Math.abs(a-o)?0===a?n.x>t.x&&(e=t,i=n):90===a?n.y>t.y&&(e=t,i=n):180===a?n.x<t.x&&(e=t,i=n):270===a&&n.y<t.y&&(e=t,i=n):a-o!=0&&(t.x===e.x&&this.isInRange(t.y,e.y,n.y)||t.y===e.y&&this.isInRange(t.x,e.x,n.x)||n.x===i.x&&this.isInRange(n.y,i.y,t.y)||n.y===i.y&&this.isInRange(n.x,i.x,t.x))&&(e=t,i=n)),t.equals(n)&&(e=t.copy(),i=n.copy())),{b:e,c:i}},i.e.Link.prototype._computeEndSegmentLength=function(t,e,n,i,a,o,r){let s=100;if(a){const t=Math.abs(o.x-r.x),e=Math.abs(o.y-r.y),n=Math.max(t,e);return 0!==t&&0!==e||(s=10),Math.max(n/2,s)}return this.computeEndSegmentLength(t,e,n,i)},i.e.Link.prototype._restorePointsFromSavePoints=function(){this._savePoints&&(this.clearPoints(),this._savePoints.each(t=>{this.addPoint(t)}))},i.e.Link.prototype._modifyEndPoints=function(t,e,n,a,o){const r=this.points.toArray();if(o){const t=this.getPoint(n),e=this.getPoint(n-1),o=this.getPoint(n-2);let s=e.x,l=e.y;this.isApprox(t.y,e.y)?this.isApprox(e.x,o.x)?l=a.y:this.isApprox(e.y,o.y)&&(s=a.x):this.isApprox(t.x,e.x)&&(this.isApprox(e.y,o.y)?s=a.x:this.isApprox(e.x,o.x)&&(l=a.y)),this.setPointAt(n-1,s,l),this.setPoint(n,a),r[n+1]=new i.e.Point(s,l),r[n]=a}else{const n=this.getPoint(t),i=this.getPoint(t+1),a=this.getPoint(t+2);let o=i.x,r=i.y;this.isApprox(n.y,i.y)?this.isApprox(i.x,a.x)?r=e.y:this.isApprox(i.y,a.y)&&(o=e.x):this.isApprox(n.x,i.x)&&(this.isApprox(i.y,a.y)?o=e.x:this.isApprox(i.x,a.x)&&(r=e.y)),this.setPointAt(t+1,o,r),this.setPoint(t,e)}return r},i.e.Link.prototype._computePartLinkByTwoPoints=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,h=arguments.length>9?arguments[9]:void 0;if(t){let t=h&&h.getDocumentBounds();if(t){let n=[];t=t.inflate(60,60);for(let i=0;i<e.length&&!t.containsPoint(e[i]);i++)n.push(e[i]);n.length<2&&(n=[e[0],e[1]]),this.addOrthoPoints(n[n.length-1],0,o,l,c,h,n),n.push(o),n.push(i),n=Object(s.a)(n),this.points=n}}else{let t=c&&c.getDocumentBounds();if(t){let i=[];const o=[];t=t.inflate(60,60);for(let n=e.length-1;n>=0&&!t.containsPoint(e[n]);n--)i.unshift(e[n]);i.length<2&&(i=e.slice(-2)),this.addOrthoPoints(a,r,i[0],270,c,h,o),o.unshift(a),o.unshift(n),i=o.concat(i),i=Object(s.a)(i),this.points=i}}this.ensureBounds()},i.e.Link.prototype._adjustPoints=function(t,e,n,i,a,o,r,s){const c=this.points.count;if(this.isOrthogonal&&c>=3){const n=this.isApproxOfOne(t,this.points.first()),i=this.isApproxOfOne(e,this.points.last());return"Resizing"===this.diagram.currentTool.name||"Rotating"===this.diagram.currentTool.name?(this.data&&(this.data.reshaped=!1),!1):!!(n&&i||!n&&!i)||(this.data&&(this.data.reshaped=!1),!1)}if(this.isOrthogonal&&c<3)return!1;if(this.pointsCount-1>0){const n=this.points.toArray();return n[0]=t,n[this.pointsCount-1]=e,this.points=n,this.ensureBounds(),~l.indexOf(this.diagram.currentTool.name)||delete this.data.reshaped,!0}return!1},i.e.Link.prototype.isChangeDir=function(t,e){const n=e.toArray?e.toArray():e;if(n.length>1){if("Linking"===t||"Relinking"===t){if(n.length<=4)return!0}else{if(n[0].x===n[1].x&&n[n.length-1].x===n[n.length-2].x)return!0;if(n[0].y===n[1].y&&n[n.length-1].y===n[n.length-2].y)return!0}return!1}return!1},i.e.Link.prototype.computePoints=function(){const t=this.diagram;if(t.noUseComputePoints)return this.points&&(this.points=this.points.copy()),!1;if(null===t)return!1;const e=this.diagram.currentTool.name;if("Dragging"===e){if(~(this.diagram.currentTool.draggingLinks&&this.diagram.currentTool.draggingLinks.toArray?this.diagram.currentTool.draggingLinks.toArray().map(t=>t.key):[]).indexOf(this))return!0}let n=!1;if(("Linking"===e||"Relinking"===e)&&this.diagram.currentTool.temporaryLink!==this&&this.diagram.currentTool.originalLink!==this&&this.points.size>0&&(n=!0,"Linking"===e))return!0;let o=null;"Linking"!==this.diagram.currentTool.name&&"Relinking"!==this.diagram.currentTool.name||n?this.fromNode&&this.toNode&&(o=this.toNode.findPort("")):o=this.diagram.currentTool.targetPort;let l=this.fromNode,c=null;if(null===l?(t._routingFromNode||(t._routingFromPort=new i.e.Shape,t._routingFromPort.desiredSize=i.e.Size.ZeroSize,t._routingFromPort.strokeWidth=0,t._routingFromNode=new i.e.Node,t._routingFromNode.add(t._routingFromPort),t._routingFromNode.ensureBounds()),this.defaultFromPoint&&(t._routingFromNode.position=t._routingFromNode.location=this.defaultFromPoint,t._routingFromNode.ensureBounds(),l=t._routingFromNode,c=t._routingFromPort)):c=this.fromPort,null!==c&&!l.isVisible()){const t=l.findVisibleNode();null!==t&&t!==l?(l=t,c=t.port):l=t}if(this._tempFromNode=l,null===l)return!1;if(!l.location.isReal())return!1;for(;!(null===c||c.actualBounds.isReal()&&c.isVisibleObject());)c=c.panel;if(null===c)return!1;let h=this.toNode,d=null;if(null===h?(t._routingToNode||(t._routingToPort=new i.e.Shape,t._routingToPort.desiredSize=i.e.Size.ZeroSize,t._routingToPort.strokeWidth=0,t._routingToNode=new i.e.Node,t._routingToNode.add(t._routingToPort),t._routingToNode.ensureBounds()),this.defaultToPoint&&(t._routingToNode.position=t._routingToNode.location=this.defaultToPoint,t._routingToNode.ensureBounds(),h=t._routingToNode,d=t._routingToPort)):d=this.toPort,null!==d&&!h.isVisible()){const t=h.findVisibleNode();null!==t&&t!==h?(h=t,d=t.port):h=t}if(this._tempToNode=h,null===h)return!1;if(!h.location.isReal())return!1;for(;!(null===d||d.actualBounds.isReal()&&d.isVisibleObject());)d=d.panel;if(null===d)return!1;let u=this.computeSpot(!0,c),f=this.computeSpot(!1,d);"Linking"!==this.diagram.currentTool.name&&"Relinking"!==this.diagram.currentTool.name&&(this.data&&this.data.from||(u=i.e.Spot.None),this.data&&this.data.to||(f=i.e.Spot.None));const p=this.isSpotUndirected(u),g=this.isSpotUndirected(f),m=c===d&&null!==c,y=this.isOrthogonal,v=this.curve===i.e.Link.Bezier;this._effectiveBezier=!(!m||y);let w=this._getLinkPoint(l,c,u,!0,y,h,d),x=this._getLinkPoint(h,d,f,!1,y,l,c),b=0,S=0;b=this.data.fromInner?this.getLinkDirection(l,c,w,i.e.Spot.Default,!0,y,h,d,x):this.getLinkDirection(l,c,w,u,!0,y,h,d,x),S=this.data.toInner?this.getLinkDirection(h,d,x,i.e.Spot.Default,!1,y,l,c,w):this.getLinkDirection(h,d,x,f,!1,y,l,c,w);const k=this.isChangeDir(e,this.points),P=this.gravityEndPoints(o,w,x,b,S,u,f,n),M=P.isGravityLine;w=P.fromPoint,x=P.toPoint;let _=0,L=0;if(("Linking"===this.diagram.currentTool.name||"Relinking"===this.diagram.currentTool.name)&&!n)if(this.diagram.currentTool.isForwards?o&&this.geometry&&P.isGravity?(o.part.data.borderDot=P.targetSpot||Object(a.b)(this.diagram,o,x).spot,this.diagram.currentTool.beforeInner?this.data.toSpot=i.e.Spot.stringify(i.e.Spot.Default):this.data.toSpot=i.e.Spot.stringify(o.part.data.borderDot),this._gravityToSpot=o.part.data.borderDot):(o&&(o.part.data.borderDot=Object(a.b)(this.diagram,o,x).spot),this._gravityToSpot=null):o&&P.isGravity?(o.part.data.borderDot=P.targetSpot||Object(a.b)(this.diagram,o,w).spot,this.diagram.currentTool.beforeInner?this.data.fromSpot=i.e.Spot.stringify(i.e.Spot.Default):this.data.fromSpot=i.e.Spot.stringify(o.part.data.borderDot),this._gravityFromSpot=o.part.data.borderDot):(o&&(o.part.data.borderDot=u),this._gravityFromSpot=null),this.diagram.currentTool.tempLabelNode){const t=this.diagram.currentTool.isForwards?x:w;Object(r.Q)(this.diagram.currentTool.tempLabelNode,t)}else o&&o.part.findAdornment("LinkingAdornment")&&o.part.findAdornment("LinkingAdornment").updateTargetBindings();if(y||v||!p||m){const t=this._computeEndSegmentLength(l,c,u,!0,v,w,x);if(M&&k&&("x"===P.direction&&90!==b&&270!==b?90!==S&&270!==S||(b=x.y>w.y?90:270):"y"===P.direction&&0!==b&&180!==b&&(0!==S&&180!==S||(b=x.x>w.x?0:180))),b<0?b+=360:b>=360&&(b-=360),0===b?_=t:90===b?L=t:180===b?_=-t:270===b?L=-t:(_=t*Math.cos(b*Math.PI/180),L=t*Math.sin(b*Math.PI/180)),u.isNoSpot()&&m){const t=c.getDocumentPoint(i.e.Spot.Center,i.e.Point.alloc()),e=i.e.Point.allocAt(t.x+1e3*_,t.y+1e3*L);this.getLinkPointFromPoint(l,c,t,e,!0,w),i.e.Point.free(t),i.e.Point.free(e)}}let T=0,O=0;if(y||v||!g||m){const t=this._computeEndSegmentLength(h,d,f,!1,v,w,x);if(M&&k&&("x"===P.direction&&270!==S&&90!==S?270!==b&&90!==b||(S=x.y>w.y?270:90):"y"===P.direction&&180!==S&&0!==S&&(0!==b&&180!==b||(S=x.x>w.x?180:0))),S<0?S+=360:S>=360&&(S-=360),0===S?T=t:90===S?O=t:180===S?T=-t:270===S?O=-t:(T=t*Math.cos(S*Math.PI/180),O=t*Math.sin(S*Math.PI/180)),f.isNoSpot()&&m){const t=d.getDocumentPoint(i.e.Spot.Center,i.e.Point.alloc()),e=i.e.Point.allocAt(t.x+1e3*T,t.y+1e3*O);this.getLinkPointFromPoint(h,d,t,e,!1,x),i.e.Point.free(t),i.e.Point.free(e)}}let A=w;(y||v)&&(A=new i.e.Point(w.x+_,w.y+L));let E=x;(y||v)&&(E=new i.e.Point(x.x+T,x.y+O)),this.startRoute();const C=this._ensureSegment(w,A,x,E,b,S);A=C.b,E=C.c;const N=this._savePoints?this._savePoints.count:this.pointsCount;if(v&&this.data&&this.data.reshaped&&this._adjustPoints(w,x,A,E,b,S,c,d))return!0;if(y&&this.data&&this.data.reshaped&&N>=3){const a=this.isApproxOfOne(w,this.points.first()),r=this.isApproxOfOne(x,this.points.last());if(a&&r)return!0;if(t.undoManager.isInTransaction&&!this._savePoints&&(this._savePoints=(new i.e.List).addAll(this.points.toArray())),"Relinking"===e&&o&&!p&&!this.diagram.currentTool.isForwards||("Relinking"!==e||n)&&x.equals(this.defaultToPoint)&&!w.equals(this.defaultFromPoint))if(270!==b&&90!==b||0!==_){if((0===b||180===b)&&0===L){this._restorePointsFromSavePoints();const t=this.getPoint(1).copy();180===b&&t.x<=A.x||0===b&&t.x>=A.x?(A.x=t.x,N>3&&this.adjustPoints(1,t,N-1,x),this.adjustPoints(0,A,N-1,x),this.insertPoint(0,w)):(0===b&&t.x<A.x||180===b&&t.x>A.x)&&(t.x=A.x,this.adjustPoints(0,t,N-1,x),this.insertPoint(0,A),this.insertPoint(0,w))}}else{this._restorePointsFromSavePoints();const t=this.getPoint(1).copy();270===b&&t.y<=A.y||90===b&&t.y>=A.y?(A.y=t.y,N>3&&this.adjustPoints(1,t,N-1,x),this.adjustPoints(0,A,N-1,x),this.insertPoint(0,w)):(90===b&&t.y<A.y||270===b&&t.y>A.y)&&(t.y=A.y,this.adjustPoints(0,t,N-1,x),this.insertPoint(0,A),this.insertPoint(0,w))}else if("Relinking"===e&&o&&!g&&this.diagram.currentTool.isForwards||("Relinking"!==e||n)&&w.equals(this.defaultFromPoint)&&!x.equals(this.defaultToPoint))if(270!==S&&90!==S||0!==T){if((0===S||180===S)&&0===O){this._restorePointsFromSavePoints();const t=this.getPoint(N-2).copy();180===S&&t.x<=E.x||0===S&&t.x>=E.x?(E.x=t.x,N>3&&this.adjustPoints(0,w,N-2,t),this.adjustPoints(0,w,N-1,E),this.addPoint(x)):(0===S&&t.x<E.x||180===S&&t.x>E.x)&&(t.x=E.x,this.adjustPoints(0,w,N-1,t),this.addPoint(E),this.addPoint(x))}}else{this._restorePointsFromSavePoints();const t=this.getPoint(N-2).copy();270===S&&t.y<=E.y||90===S&&t.y>=E.y?(E.y=t.y,N>3&&this.adjustPoints(0,w,N-2,t),this.adjustPoints(0,w,N-1,E),this.addPoint(x)):(90===S&&t.y<E.y||270===S&&t.y>E.y)&&(t.y=E.y,this.adjustPoints(0,w,N-1,t),this.addPoint(E),this.addPoint(x))}else if((!o||"Relinking"!==e)&&(this._restorePointsFromSavePoints(),this.adjustPoints(0,w,N-1,x),3===this.pointsCount)){const t=this.getPoint(1).copy();t.x===w.x?(t.y=x.y,this.setPoint(1,t)):t.y===w.y&&(t.x=x.x,this.setPoint(1,t))}const l=Object(s.a)(this.points.toArray());this.clearPoints(),l.forEach(t=>{this.addPoint(t)})}else if(this.data&&this.data.reshaped&&N>=3)this.setPoint(0,w),this.setPoint(this.pointsCount-1,x);else{let t=[];this.clearPoints(),t.push(w),!y&&!v||A.equals(w)||t.push(A),y&&this.addOrthoPoints(A,b,E,S,c,d,t),!y&&!v||E.equals(x)||t.push(E),t.push(x),this.isOrthogonal?t=Object(s.a)(t):this.curve===i.e.Link.None&&t.length,this.points=t,this.ensureBounds()}return this.fromShortLength&&this.labelNodes.count&&this.labelNodes.each(t=>{Object(r.R)(t,this)}),!0},i.e.Link.prototype.addOrthoPoints=function(t,e,n,a,o,r,s){const l=270;e=-45<=e&&e<45?0:45<=e&&e<135?90:135<=e&&e<225?180:l,a=-45<=a&&a<45?0:45<=a&&a<135?90:135<=a&&a<225?180:l;const c=t,h=n,d=o?o.getDocumentBounds().copy():new i.e.Rect(0,0,0,0),u=r?r.getDocumentBounds().copy():new i.e.Rect(0,0,0,0);if(!d.isReal()||!u.isReal())return;let f,p;d.inflate(8,8),u.inflate(8,8),d.unionPoint(t),u.unionPoint(n),0===e?h.x>c.x||a===l&&h.y<c.y&&u.right>c.x||90===a&&h.y>c.y&&u.right>c.x?(f=new i.e.Point(h.x,c.y),p=new i.e.Point(h.x,(c.y+h.y)/2),180===a?(f.x=this.computeMidOrthoPosition(c.x,c.y,h.x,h.y,!1),p.x=f.x,p.y=h.y):a===l&&h.y<c.y||90===a&&h.y>c.y?(c.x<u.left?f.x=this.computeMidOrthoPosition(c.x,c.y,u.left,h.y,!1):c.x<u.right&&(a===l&&c.y<u.top||90===a&&c.y>u.bottom)?f.x=this.computeMidOrthoPosition(c.x,c.y,h.x,h.y,!1):f.x=u.right,p.x=f.x,p.y=h.y):0===a&&c.x<u.left&&c.y>u.top&&c.y<u.bottom&&(f.x=c.x,c.y<h.y?f.y=Math.min(h.y,u.top):f.y=Math.max(h.y,u.bottom),p.y=f.y)):(f=new i.e.Point(c.x,h.y),p=new i.e.Point((c.x+h.x)/2,h.y),(180===a||90===a&&h.y<d.top||a===l&&h.y>d.bottom)&&(180===a&&(u.containsPoint(c)||d.containsPoint(h))?f.y=this.computeMidOrthoPosition(c.x,c.y,h.x,h.y,!0):h.y<c.y&&(180===a||90===a)?f.y=this.computeMidOrthoPosition(c.x,d.top,h.x,Math.max(h.y,u.bottom),!0):h.y>c.y&&(180===a||a===l)&&(f.y=this.computeMidOrthoPosition(c.x,d.bottom,h.x,Math.min(h.y,u.top),!0)),p.x=h.x,p.y=f.y),f.y>d.top&&f.y<d.bottom&&(h.x>=d.left&&h.x<=c.x||c.x<=u.right&&c.x>=h.x?90!==a&&a!==l||(f=new i.e.Point(Math.max((c.x+h.x)/2,c.x),c.y),p=new i.e.Point(f.x,h.y)):(a===l||(0===a||180===a)&&h.y<c.y?f.y=Math.min(h.y,0===a?d.top:Math.min(d.top,u.top)):f.y=Math.max(h.y,0===a?d.bottom:Math.max(d.bottom,u.bottom)),p.x=h.x,p.y=f.y))):180===e?h.x<c.x||a===l&&h.y<c.y&&u.left<c.x||90===a&&h.y>c.y&&u.left<c.x?(f=new i.e.Point(h.x,c.y),p=new i.e.Point(h.x,(c.y+h.y)/2),0===a?(f.x=this.computeMidOrthoPosition(c.x,c.y,h.x,h.y,!1),p.x=f.x,p.y=h.y):a===l&&h.y<c.y||90===a&&h.y>c.y?(c.x>u.right?f.x=this.computeMidOrthoPosition(c.x,c.y,u.right,h.y,!1):c.x>u.left&&(a===l&&c.y<u.top||90===a&&c.y>u.bottom)?f.x=this.computeMidOrthoPosition(c.x,c.y,h.x,h.y,!1):f.x=u.left,p.x=f.x,p.y=h.y):180===a&&c.x>u.right&&c.y>u.top&&c.y<u.bottom&&(f.x=c.x,c.y<h.y?f.y=Math.min(h.y,u.top):f.y=Math.max(h.y,u.bottom),p.y=f.y)):(f=new i.e.Point(c.x,h.y),p=new i.e.Point((c.x+h.x)/2,h.y),(0===a||90===a&&h.y<d.top||a===l&&h.y>d.bottom)&&(0===a&&(u.containsPoint(c)||d.containsPoint(h))?f.y=this.computeMidOrthoPosition(c.x,c.y,h.x,h.y,!0):h.y<c.y&&(0===a||90===a)?f.y=this.computeMidOrthoPosition(c.x,d.top,h.x,Math.max(h.y,u.bottom),!0):h.y>c.y&&(0===a||a===l)&&(f.y=this.computeMidOrthoPosition(c.x,d.bottom,h.x,Math.min(h.y,u.top),!0)),p.x=h.x,p.y=f.y),f.y>d.top&&f.y<d.bottom&&(h.x<=d.right&&h.x>=c.x||c.x>=u.left&&c.x<=h.x?90!==a&&a!==l||(f=new i.e.Point(Math.min((c.x+h.x)/2,c.x),c.y),p=new i.e.Point(f.x,h.y)):(a===l||(0===a||180===a)&&h.y<c.y?f.y=Math.min(h.y,180===a?d.top:Math.min(d.top,u.top)):f.y=Math.max(h.y,180===a?d.bottom:Math.max(d.bottom,u.bottom)),p.x=h.x,p.y=f.y))):90===e?h.y>c.y||180===a&&h.x<c.x&&u.bottom>c.y||0===a&&h.x>c.x&&u.bottom>c.y?(f=new i.e.Point(c.x,h.y),p=new i.e.Point((c.x+h.x)/2,h.y),a===l?(f.y=this.computeMidOrthoPosition(c.x,c.y,h.x,h.y,!0),p.x=h.x,p.y=f.y):180===a&&h.x<c.x||0===a&&h.x>c.x?(c.y<u.top?f.y=this.computeMidOrthoPosition(c.x,c.y,h.x,u.top,!0):c.y<u.bottom&&(180===a&&c.x<u.left||0===a&&c.x>u.right)?f.y=this.computeMidOrthoPosition(c.x,c.y,h.x,h.y,!0):f.y=u.bottom,p.x=h.x,p.y=f.y):90===a&&c.y<u.top&&c.x>u.left&&c.x<u.right&&(c.x<h.x?f.x=Math.min(h.x,u.left):f.x=Math.max(h.x,u.right),f.y=c.y,p.x=f.x)):(f=new i.e.Point(h.x,c.y),p=new i.e.Point(h.x,(c.y+h.y)/2),(a===l||0===a&&h.x<d.left||180===a&&h.x>d.right)&&(a===l&&(u.containsPoint(c)||d.containsPoint(h))?f.x=this.computeMidOrthoPosition(c.x,c.y,h.x,h.y,!1):h.x<c.x&&(a===l||0===a)?f.x=this.computeMidOrthoPosition(d.left,c.y,Math.max(h.x,u.right),h.y,!1):h.x>c.x&&(a===l||180===a)&&(f.x=this.computeMidOrthoPosition(d.right,c.y,Math.min(h.x,u.left),h.y,!1)),p.x=f.x,p.y=h.y),f.x>d.left&&f.x<d.right&&(h.y>=d.top&&h.y<=c.y||c.y<=u.bottom&&c.y>=h.y?0!==a&&180!==a||(f=new i.e.Point(c.x,Math.max((c.y+h.y)/2,c.y)),p=new i.e.Point(h.x,f.y)):(180===a||(90===a||a===l)&&h.x<c.x?f.x=Math.min(h.x,90===a?d.left:Math.min(d.left,u.left)):f.x=Math.max(h.x,90===a?d.right:Math.max(d.right,u.right)),p.x=f.x,p.y=h.y))):h.y<c.y||180===a&&h.x<c.x&&u.top<c.y||0===a&&h.x>c.x&&u.top<c.y?(f=new i.e.Point(c.x,h.y),p=new i.e.Point((c.x+h.x)/2,h.y),90===a?(f.y=this.computeMidOrthoPosition(c.x,c.y,h.x,h.y,!0),p.x=h.x,p.y=f.y):180===a&&h.x<c.x||0===a&&h.x>=c.x?(c.y>u.bottom?f.y=this.computeMidOrthoPosition(c.x,c.y,h.x,u.bottom,!0):c.y>u.top&&(180===a&&c.x<u.left||0===a&&c.x>u.right)?f.y=this.computeMidOrthoPosition(c.x,c.y,h.x,h.y,!0):f.y=u.top,p.x=h.x,p.y=f.y):a===l&&c.y>u.bottom&&c.x>u.left&&c.x<u.right&&(c.x<h.x?f.x=Math.min(h.x,u.left):f.x=Math.max(h.x,u.right),f.y=c.y,p.x=f.x)):(f=new i.e.Point(h.x,c.y),p=new i.e.Point(h.x,(c.y+h.y)/2),(90===a||0===a&&h.x<d.left||180===a&&h.x>d.right)&&(90===a&&(u.containsPoint(c)||d.containsPoint(h))?f.x=this.computeMidOrthoPosition(c.x,c.y,h.x,h.y,!1):h.x<c.x&&(90===a||0===a)?f.x=this.computeMidOrthoPosition(d.left,c.y,Math.max(h.x,u.right),h.y,!1):h.x>c.x&&(90===a||180===a)&&(f.x=this.computeMidOrthoPosition(d.right,c.y,Math.min(h.x,u.left),h.y,!1)),p.x=f.x,p.y=h.y),f.x>d.left&&f.x<d.right&&(h.y<=d.bottom&&h.y>=c.y||c.y>=u.top&&c.y<=h.y?0!==a&&180!==a||(f=new i.e.Point(c.x,Math.min((c.y+h.y)/2,c.y)),p=new i.e.Point(h.x,f.y)):(180===a||(90===a||a===l)&&h.x<c.x?f.x=Math.min(h.x,a===l?d.left:Math.min(d.left,u.left)):f.x=Math.max(h.x,a===l?d.right:Math.max(d.right,u.right)),p.x=f.x,p.y=h.y))),s.push(f),s.push(p)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var i=n(108),a=n(106),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var r=t[e];o.call(t,e)&&a(r,n)&&(void 0!==n||e in t)||i(t,e,n)}},function(t,e,n){var i=n(181);t.exports=function(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var i=n(183),a=n(102),o=n(60),r=n(85),s=n(184),l=n(104),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),h=!n&&a(t),d=!n&&!h&&r(t),u=!n&&!h&&!d&&l(t),f=n||h||d||u,p=f?i(t.length,String):[],g=p.length;for(var m in t)!e&&!c.call(t,m)||f&&("length"==m||d&&("offset"==m||"parent"==m)||u&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var i=n(112),a=n(113),o=n(91),r=n(110),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)i(e,o(t)),t=a(t);return e}:r;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,i=e.length,a=t.length;++n<i;)t[a+n]=e[n];return t}},function(t,e,n){var i=n(99)(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n){var i=n(112),a=n(60);t.exports=function(t,e,n){var o=e(t);return a(t)?o:i(o,n(t))}},function(t,e,n){"use strict";var i=n(0),a=n(14);i.e.GraphObject.prototype.getDocumentNaturalBounds=function(){const t=this.getDocumentBounds(),e=this.naturalBounds;return new i.e.Rect(t.centerX-e.width/2,t.centerY-e.height/2,e.width,e.height)},i.e.GraphObject.prototype.getDocumentRotateBounds=function(){const t=this.actualBounds,e=this.naturalBounds;return new i.e.Rect(t.centerX-e.width/2,t.centerY-e.height/2,e.width,e.height)},i.e.Geometry.prototype.getPointByXOrY=function(t,e,n,a,o,r){const s=o||window.diagram.lastInput.documentPoint,l=this.flattenedSegments,c=r&&r.getDocumentAngle(),h=[];if("x"===e){const e=l.length;let a,o,s,d;for(let u=0;u<e;u++){const e=l[u];for(let l=0;l<e.length;l+=2){if(s=e[l],d=e[l+1],c){let t=new i.e.Point(s,d);t.subtract(new i.e.Point(r.width/2,r.height/2)),t=t.rotate(c),t.add(new i.e.Point(r.width/2,r.height/2)),s=t.x,d=t.y}if(0!==l){if(t.x+a<=n&&t.x+s>=n||t.x+a>=n&&t.x+s<=n){const e=(n-(t.x+a))/(t.x+s-(t.x+a)),r=t.y+o+(t.y+d-(t.y+o))*e;isNaN(r)||h.push(new i.e.Point(n,r))}a=s,o=d}else a=s,o=d}}}else if("y"===e){const e=l.length;let a,o,s,d;for(let u=0;u<e;u++){const e=l[u];for(let l=0;l<e.length;l+=2){if(s=e[l],d=e[l+1],c){let t=new i.e.Point(s,d);t.subtract(new i.e.Point(r.width/2,r.height/2)),t=t.rotate(c),t.add(new i.e.Point(r.width/2,r.height/2)),s=t.x,d=t.y}if(0!==l){if(t.y+o<=n&&t.y+d>=n||t.y+o>=n&&t.y+d<=n){const e=(n-(t.y+o))/(t.y+d-(t.y+o)),r=t.x+a+(t.x+s-(t.x+a))*e;isNaN(r)||h.push(new i.e.Point(r,n))}a=s,o=d}else a=s,o=d}}}const d=h.map(t=>(t.x-s.x)*(t.x-s.x)+(t.y-s.y)*(t.y-s.y)),u=Math.min(...d),f=d.findIndex(t=>t===u);return!(u>300&&!a)&&h[f]},i.e.Geometry.prototype.getPointByTilt=function(t,e,n,o){const r=t.getDocumentNaturalBounds(),s=o?n:e,l=this.flattenedSegments,c=t&&t.getDocumentAngle(),h=[],d=l.length;let u,f,p,g;for(let o=0;o<d;o++){const s=l[o];for(let o=0;o<s.length;o+=2){if(p=s[o],g=s[o+1],c){let e=new i.e.Point(p,g);e.subtract(new i.e.Point(t.width/2,t.height/2)),e=e.rotate(c),e.add(new i.e.Point(t.width/2,t.height/2)),p=e.x,g=e.y}if(0===o){u=p,f=g;continue}const l=Object(a.d)([[e.x,e.y],[n.x,n.y]],[[r.x+u,r.y+f],[r.x+p,r.y+g]]);l&&(l[0]>r.x+u&&l[0]>r.x+p||l[0]<r.x+u&&l[0]<r.x+p||l[1]>r.y+f&&l[1]>r.y+g||l[1]<r.y+f&&l[1]<r.y+g||h.push(new i.e.Point(l[0],l[1]))),u=p,f=g}}const m=h.map(t=>(t.x-s.x)*(t.x-s.x)+(t.y-s.y)*(t.y-s.y)),y=Math.min(...m),v=h[m.findIndex(t=>t===y)];let w=null;return v&&(w=new i.e.Spot((v.x-r.x)/r.width,(v.y-r.y)/r.height)),w};const o=i.e.Group.prototype.addMembers;i.e.Group.prototype.addMembers=function(t,e){const n=o.call(this,t,e);return t.each(t=>{t instanceof i.e.Link&&t.data&&this.key&&(t.data.group=this.key)}),n},i.e.Group.prototype.rebuild=function(){const t=this.diagram,e=this.data,n=this.memberParts.filter(t=>!!t.data.group),i=[];n.each(t=>{delete t.data.group,i.push(t),t.updateRelationshipsFromData()}),t.remove(this),delete e.__gohashid,t.model.addNodeData(e);const a=t.findNodeForData(e);return a&&i.forEach(t=>{t.data.group=a.data.key,t.updateRelationshipsFromData()}),a}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(33);function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var r=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),r.push(a(e)+"="+a(t))})))})),o=r.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var i=n(33),a=n(214),o={"Content-Type":"application/x-www-form-urlencoded"};function r(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,l={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(s=n(120)),s),transformRequest:[function(t,e){return a(e,"Accept"),a(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(r(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){l.headers[t]=i.merge(o)})),t.exports=l}).call(this,n(48))},function(t,e,n){"use strict";var i=n(33),a=n(215),o=n(117),r=n(217),s=n(220),l=n(221),c=n(121);t.exports=function(t){return new Promise((function(e,h){var d=t.data,u=t.headers;i.isFormData(d)&&delete u["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",g=t.auth.password||"";u.Authorization="Basic "+btoa(p+":"+g)}var m=r(t.baseURL,t.url);if(f.open(t.method.toUpperCase(),o(m,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:t,request:f};a(e,h,i),f=null}},f.onabort=function(){f&&(h(c("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){h(c("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),h(c(e,t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var y=n(222),v=(t.withCredentials||l(m))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;v&&(u[t.xsrfHeaderName]=v)}if("setRequestHeader"in f&&i.forEach(u,(function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete u[e]:f.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),h(t),f=null)})),void 0===d&&(d=null),f.send(d)}))}},function(t,e,n){"use strict";var i=n(216);t.exports=function(t,e,n,a,o){var r=new Error(t);return i(r,e,n,a,o)}},function(t,e,n){"use strict";var i=n(33);t.exports=function(t,e){e=e||{};var n={},a=["url","method","params","data"],o=["headers","auth","proxy"],r=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(a,(function(t){void 0!==e[t]&&(n[t]=e[t])})),i.forEach(o,(function(a){i.isObject(e[a])?n[a]=i.deepMerge(t[a],e[a]):void 0!==e[a]?n[a]=e[a]:i.isObject(t[a])?n[a]=i.deepMerge(t[a]):void 0!==t[a]&&(n[a]=t[a])})),i.forEach(r,(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])}));var s=a.concat(o).concat(r),l=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return i.forEach(l,(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])})),n}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){var i,a,o,r,s,l,c,h;t.exports=(h=n(44),n(229),n(230),a=(i=h).lib,o=a.Base,r=a.WordArray,s=i.algo,l=s.MD5,c=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:l,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n,i=this.cfg,a=i.hasher.create(),o=r.create(),s=o.words,l=i.keySize,c=i.iterations;s.length<l;){n&&a.update(n),n=a.update(t).finalize(e),a.reset();for(var h=1;h<c;h++)n=a.finalize(n),a.reset();o.concat(n)}return o.sigBytes=4*l,o}}),i.EvpKDF=function(t,e,n){return c.create(n).compute(t,e)},h.EvpKDF)},function(t,e,n){var i=n(98),a=n(69),o=n(102),r=n(60),s=n(84),l=n(85),c=n(68),h=n(104),d=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(r(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||h(t)||o(t)))return!t.length;var e=a(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!i(t).length;for(var n in t)if(d.call(t,n))return!1;return!0}},function(t,e,n){"use strict";var i=n(0);function a(){i.e.PanningTool.call(this),this.trigger=0,this.maxTrigger=5}i.e.Diagram.inherit(a,i.e.PanningTool),a.prototype.canStart=function(){if(0===this.trigger&&setTimeout(()=>{this.trigger=0},200),this.trigger>this.maxTrigger){i.e.PanningTool.prototype.canStart.call(this);const t=this.diagram;if(t.isReadOnly){if(!t.lastInput.right&&!t.lastInput.left)return!1}else if(!t.lastInput.right&&!t.holdDownSpace)return!1;return!0}return this.trigger++,!1},a.prototype.doKeyUp=function(){i.e.PanningTool.prototype.doKeyUp.call(this);const t=this.diagram;if(null===t)return;" "===t.lastInput.key&&(t.holdDownSpace=!1,t.currentCursor="auto"),i.e.PanningTool.prototype.doMouseUp.call(this)},e.a=a},function(t,e,n){"use strict";(function(t){var i=n(26),a=n(1),o=n(15);const r=t.env.VITE_APP_THING_URL||window.location.origin,s=t.env.VITE_APP_THING_API;function l(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"syw";return e=a?e:"".concat(r).concat(s).concat(e),Object.assign(o,{"Content-Type":"application/json;charset=UTF-8","auth-type":l}),i.a.raiseRequest(t,e,n,o)}e.a={productDetail:t=>l("GET","/commodity/api/v1/thing-topo/detail",t),getProductListByIds:t=>l("GET","/commodity/api/v1/thing-topo/spu-list/by-ids",t),getPropertyData:t=>l("GET","/repository/api/v1/property/details",t),getStructdata:t=>l("GET","/repository/api/v1/type/subtypes",t),getKnowledge:t=>l("GET","/thing/api/v2/knowledge",t),getAllProductCategorys:t=>l("GET","/commodity/api/v1/thing-topo/catalogue/tree",t),myProductList:t=>l("GET","/commodity/api/v1/thing-topo/spu-list/owned",t),myCollectList:t=>l("POST","/commodity/api/v1/thing-topo/user-collected",t),getProductListById:t=>l("GET","/commodity/api/v1/thing-topo/spu-list",t),searchProductList:t=>l("GET","/open/api/v1/ses/search/products",t,null,{},"syw-open-api"),shapeListOrigin:()=>l("GET","/commodity/api/v1/thing-topo/catalogue/tree/standard"),getSampleListById:t=>l("GET","/commodity/api/v1/thing-topo/spu-list/standard/by-id",t),shapeList:t=>a.a.post("things/queryImageDirList",t),getProductListBySkuIds:t=>l("GET","/commodity/api/v1/thing-topo/sku-list",t),getConfigurationList:t=>l("POST","/commodity/api/v1/thing-topo/config-list",t),exportConfigurationList(t){const e={requestMethod:"POST",url:"".concat(r).concat(s,"/commodity/api/v1/thing-topo/export/config-list"),formbean:t,headers:{"auth-type":"syw"}};return a.a.downTable("eam/externalData/requestByUrl".concat(o.f),e)},getProductQRCode:t=>l("POST","/api/v4/wechat/applet/qrcode",t)}}).call(this,n(48))},function(t,e,n){var i;t.exports=(i=n(44),i.enc.Utf8)},function(t,e,n){var i;t.exports=(i=n(44),n(227),n(228),n(124),n(93),function(){var t=i,e=t.lib.BlockCipher,n=t.algo,a=[],o=[],r=[],s=[],l=[],c=[],h=[],d=[],u=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,i=0;for(e=0;e<256;e++){var p=i^i<<1^i<<2^i<<3^i<<4;p=p>>>8^255&p^99,a[n]=p,o[p]=n;var g=t[n],m=t[g],y=t[m],v=257*t[p]^16843008*p;r[n]=v<<24|v>>>8,s[n]=v<<16|v>>>16,l[n]=v<<8|v>>>24,c[n]=v,v=16843009*y^65537*m^257*g^16843008*n,h[p]=v<<24|v>>>8,d[p]=v<<16|v>>>16,u[p]=v<<8|v>>>24,f[p]=v,n?(n=g^t[t[t[y^g]]],i^=t[t[i]]):n=i=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,i=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],r=0;r<i;r++)r<n?o[r]=e[r]:(c=o[r-1],r%n?n>6&&r%n==4&&(c=a[c>>>24]<<24|a[c>>>16&255]<<16|a[c>>>8&255]<<8|a[255&c]):(c=a[(c=c<<8|c>>>24)>>>24]<<24|a[c>>>16&255]<<16|a[c>>>8&255]<<8|a[255&c],c^=p[r/n|0]<<24),o[r]=o[r-n]^c);for(var s=this._invKeySchedule=[],l=0;l<i;l++){if(r=i-l,l%4)var c=o[r];else c=o[r-4];s[l]=l<4||r<=4?c:h[a[c>>>24]]^d[a[c>>>16&255]]^u[a[c>>>8&255]]^f[a[255&c]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,r,s,l,c,a)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,h,d,u,f,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,a,o,r,s){for(var l=this._nRounds,c=t[e]^n[0],h=t[e+1]^n[1],d=t[e+2]^n[2],u=t[e+3]^n[3],f=4,p=1;p<l;p++){var g=i[c>>>24]^a[h>>>16&255]^o[d>>>8&255]^r[255&u]^n[f++],m=i[h>>>24]^a[d>>>16&255]^o[u>>>8&255]^r[255&c]^n[f++],y=i[d>>>24]^a[u>>>16&255]^o[c>>>8&255]^r[255&h]^n[f++],v=i[u>>>24]^a[c>>>16&255]^o[h>>>8&255]^r[255&d]^n[f++];c=g,h=m,d=y,u=v}g=(s[c>>>24]<<24|s[h>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[f++],m=(s[h>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^n[f++],y=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&h])^n[f++],v=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[h>>>8&255]<<8|s[255&d])^n[f++],t[e]=g,t[e+1]=m,t[e+2]=y,t[e+3]=v},keySize:8});t.AES=e._createHelper(g)}(),i.AES)},function(t,e,n){var i,a;t.exports=(a=n(44),n(93),a.mode.ECB=((i=a.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),i.Decryptor=i.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),i),a.mode.ECB)},function(t,e,n){var i;t.exports=(i=n(44),n(93),i.pad.Pkcs7)},function(t,e,n){var i=n(231),a=n(49);t.exports=function(t,e,n){var o=!0,r=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return a(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),i(t,e,{leading:o,maxWait:e,trailing:r})}},function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var a=i[n];t.call(e,a[1],a[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,a=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var r=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,a=0;function r(){n&&(n=!1,t()),i&&l()}function s(){o(r)}function l(){var t=Date.now();if(n){if(t-a<2)return;i=!0}else n=!0,i=!1,setTimeout(s,e);a=t}return l}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;r.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},h=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||a},d=y(0,0,0,0);function u(t){return parseFloat(t)||0}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+u(t["border-"+n+"-width"])}),0)}function p(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return d;var i=h(t).getComputedStyle(t),a=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var a=i[n],o=t["padding-"+a];e[a]=u(o)}return e}(i),o=a.left+a.right,r=a.top+a.bottom,s=u(i.width),l=u(i.height);if("border-box"===i.boxSizing&&(Math.round(s+o)!==e&&(s-=f(i,"left","right")+o),Math.round(l+r)!==n&&(l-=f(i,"top","bottom")+r)),!function(t){return t===h(t).document.documentElement}(t)){var c=Math.round(s+o)-e,p=Math.round(l+r)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(p)&&(l-=p)}return y(a.left,a.top,s,l)}var g="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof h(t).SVGGraphicsElement}:function(t){return t instanceof h(t).SVGElement&&"function"==typeof t.getBBox};function m(t){return i?g(t)?function(t){var e=t.getBBox();return y(0,0,e.width,e.height)}(t):p(t):d}function y(t,e,n,i){return{x:t,y:e,width:n,height:i}}var v=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=m(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),w=function(t,e){var n,i,a,o,r,s,l,h=(i=(n=e).x,a=n.y,o=n.width,r=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),c(l,{x:i,y:a,width:o,height:r,top:a,right:i+o,bottom:r+a,left:i}),l);c(this,{target:t,contentRect:h})},x=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new v(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new w(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),b="undefined"!=typeof WeakMap?new WeakMap:new n,S=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),i=new x(e,n,this);b.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){S.prototype[t]=function(){var e;return(e=b.get(this))[t].apply(e,arguments)}}));var k=void 0!==a.ResizeObserver?a.ResizeObserver:S;e.a=k}).call(this,n(47))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){var i=n(136);t.exports=function(t){return null==t?"":i(t)}},function(t,e,n){var i=n(67),a=n(137),o=n(60),r=n(97),s=i?i.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return a(e,t)+"";if(r(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,a=Array(i);++n<i;)a[n]=e(t[n],n,t);return a}},function(t,e,n){var i=n(67),a=Object.prototype,o=a.hasOwnProperty,r=a.toString,s=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var a=r.call(t);return i&&(e?t[s]=n:delete t[s]),a}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(a.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(141),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(47))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,a,o,r,s,l=1,c={},h=!1,d=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(a=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,a.removeChild(e),e=null},a.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(r="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(r)&&p(+e.data.slice(r.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(r+e,"*")}),u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return c[l]=a,i(l),l++},u.clearImmediate=f}function f(t){delete c[t]}function p(t){if(h)setTimeout(p,0,t);else{var e=c[t];if(e){h=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{f(t),h=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(47),n(48))},function(t,e,n){var i=n(99)(Object.keys,Object);t.exports=i},function(t,e,n){var i=n(51)(n(38),"DataView");t.exports=i},function(t,e,n){var i=n(100),a=n(145),o=n(49),r=n(101),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,h=l.toString,d=c.hasOwnProperty,u=RegExp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||a(t))&&(i(t)?u:s).test(r(t))}},function(t,e,n){var i,a=n(146),o=(i=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var i=n(38)["__core-js_shared__"];t.exports=i},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var i=n(51)(n(38),"Promise");t.exports=i},function(t,e,n){var i=n(51)(n(38),"Set");t.exports=i},function(t,e,n){var i=n(51)(n(38),"WeakMap");t.exports=i},function(t,e,n){var i=n(61),a=n(54);t.exports=function(t){return a(t)&&"[object Arguments]"==i(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var i=n(61),a=n(103),o=n(54),r={};r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&a(t.length)&&!!r[i(t)]}},function(t,e,n){"use strict";var i=n(0),a=n(5);i.e.Diagram.licenseKey="73f947e6b66731b700ca0d2b113f69ee1bb37f3b9ed41ef15e5441f4ea5f6d463089ee7f01d38a9781a819af182ac089d4966e2b9f18013ce164d38c44e585aae16473b54308448ca35434d39faf7aa7fc2a21f3d0a574a3d97b93fbf4a1";Object(a.l)("\n  canvas {\n    outline: none;\n  }\n  .gsfBackground {\n    border-color: #bffbd9;\n    font-size: 16;\n    margin-bottom 9;\n  }\n")},function(t,e,n){var i=n(156),a=n(180),o=n(107),r=n(182),s=n(185),l=n(188),c=n(189),h=n(190),d=n(192),u=n(193),f=n(194),p=n(69),g=n(195),m=n(196),y=n(202),v=n(60),w=n(85),x=n(204),b=n(49),S=n(206),k=n(89),P=n(90),M={};M["[object Arguments]"]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M["[object Object]"]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M["[object Function]"]=M["[object WeakMap]"]=!1,t.exports=function t(e,n,_,L,T,O){var A,E=1&n,C=2&n,N=4&n;if(_&&(A=T?_(e,L,T,O):_(e)),void 0!==A)return A;if(!b(e))return e;var B=v(e);if(B){if(A=g(e),!E)return c(e,A)}else{var j=p(e),D="[object Function]"==j||"[object GeneratorFunction]"==j;if(w(e))return l(e,E);if("[object Object]"==j||"[object Arguments]"==j||D&&!T){if(A=C||D?{}:y(e),!E)return C?d(e,s(A,e)):h(e,r(A,e))}else{if(!M[j])return T?e:{};A=m(e,j,E)}}O||(O=new i);var F=O.get(e);if(F)return F;O.set(e,A),S(e)?e.forEach((function(i){A.add(t(i,n,_,i,e,O))})):x(e)&&e.forEach((function(i,a){A.set(a,t(i,n,_,a,e,O))}));var R=B?void 0:(N?C?f:u:C?P:k)(e);return a(R||e,(function(i,a){R&&(i=e[a=i]),o(A,a,t(i,n,_,a,e,O))})),A}},function(t,e,n){var i=n(70),a=n(162),o=n(163),r=n(164),s=n(165),l=n(166);function c(t){var e=this.__data__=new i(t);this.size=e.size}c.prototype.clear=a,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=s,c.prototype.set=l,t.exports=c},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var i=n(71),a=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)}},function(t,e,n){var i=n(71);t.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var i=n(71);t.exports=function(t){return i(this.__data__,t)>-1}},function(t,e,n){var i=n(71);t.exports=function(t,e){var n=this.__data__,a=i(n,t);return a<0?(++this.size,n.push([t,e])):n[a][1]=e,this}},function(t,e,n){var i=n(70);t.exports=function(){this.__data__=new i,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var i=n(70),a=n(83),o=n(167);t.exports=function(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!a||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(r)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var i=n(168),a=n(175),o=n(177),r=n(178),s=n(179);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=r,l.prototype.set=s,t.exports=l},function(t,e,n){var i=n(169),a=n(70),o=n(83);t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||a),string:new i}}},function(t,e,n){var i=n(170),a=n(171),o=n(172),r=n(173),s=n(174);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=r,l.prototype.set=s,t.exports=l},function(t,e,n){var i=n(72);t.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var i=n(72),a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(e,t)?e[t]:void 0}},function(t,e,n){var i=n(72),a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}},function(t,e,n){var i=n(72);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var i=n(73);t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var i=n(73);t.exports=function(t){return i(this,t).get(t)}},function(t,e,n){var i=n(73);t.exports=function(t){return i(this,t).has(t)}},function(t,e,n){var i=n(73);t.exports=function(t,e){var n=i(this,t),a=n.size;return n.set(t,e),this.size+=n.size==a?0:1,this}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}},function(t,e,n){var i=n(51),a=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=a},function(t,e,n){var i=n(74),a=n(89);t.exports=function(t,e){return t&&i(e,a(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var i=n(74),a=n(90);t.exports=function(t,e){return t&&i(e,a(e),t)}},function(t,e,n){var i=n(49),a=n(68),o=n(187),r=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return o(t);var e=a(t),n=[];for(var s in t)("constructor"!=s||!e&&r.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var i=n(38),a=e&&!e.nodeType&&e,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,r=o&&o.exports===a?i.Buffer:void 0,s=r?r.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,i=s?s(n):new t.constructor(n);return t.copy(i),i}}).call(this,n(86)(t))},function(t,e){t.exports=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}},function(t,e,n){var i=n(74),a=n(91);t.exports=function(t,e){return i(t,a(t),e)}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,a=0,o=[];++n<i;){var r=t[n];e(r,n,t)&&(o[a++]=r)}return o}},function(t,e,n){var i=n(74),a=n(111);t.exports=function(t,e){return i(t,a(t),e)}},function(t,e,n){var i=n(114),a=n(91),o=n(89);t.exports=function(t){return i(t,o,a)}},function(t,e,n){var i=n(114),a=n(111),o=n(90);t.exports=function(t){return i(t,o,a)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(i.index=t.index,i.input=t.input),i}},function(t,e,n){var i=n(92),a=n(198),o=n(199),r=n(200),s=n(201);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return i(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return a(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return o(t);case"[object Set]":return new l;case"[object Symbol]":return r(t)}}},function(t,e,n){var i=n(38).Uint8Array;t.exports=i},function(t,e,n){var i=n(92);t.exports=function(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var i=n(67),a=i?i.prototype:void 0,o=a?a.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var i=n(92);t.exports=function(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var i=n(203),a=n(113),o=n(68);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:i(a(t))}},function(t,e,n){var i=n(49),a=Object.create,o=function(){function t(){}return function(e){if(!i(e))return{};if(a)return a(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var i=n(205),a=n(87),o=n(88),r=o&&o.isMap,s=r?a(r):i;t.exports=s},function(t,e,n){var i=n(69),a=n(54);t.exports=function(t){return a(t)&&"[object Map]"==i(t)}},function(t,e,n){var i=n(207),a=n(87),o=n(88),r=o&&o.isSet,s=r?a(r):i;t.exports=s},function(t,e,n){var i=n(69),a=n(54);t.exports=function(t){return a(t)&&"[object Set]"==i(t)}},function(t,e,n){"use strict";var i=n(0),a=n(39),o=n(24),r=n(7),s=n(2),l=n(6);i.e.Diagram.prototype.getPartSize=function(t,e){if(t.data)return t.data[e]||i.e.Size.parse(t.data.size)[e]||0},i.e.Diagram.prototype.computeAroundGroupNodeRatio=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this._aroundGroupScaleMap=e;const o=this;if(t.data&&"around-group"===t.data.category){const e=a.a.getMap(this),c=Object(r.b)([t]),h=this.getPartSize(t,"width"),d=this.getPartSize(t,"height");n||(o._aroundGroupScaleMap[t.key]={top:c.top,left:c.left,right:c.right,bottom:c.bottom,width:h,height:d,ratio:h/d,multiRatio:h*d,plusRatio:h+d,angle:t.data.angle||0,loc:t.data.loc});let u=t.memberParts;if(Object(s.C)(t)){const e=Object(l.j)(t);u=(new i.e.Set).addAll(u).addAll(e)}u.each(t=>{if(t instanceof i.e.Node){const n=e&&e[t.key]||Object(r.b)([t]),i=this.getPartSize(t,"width"),a=this.getPartSize(t,"height");o._aroundGroupScaleMap[t.key]={topRatio:(n.top-c.top)/c.height,leftRatio:(n.left-c.left)/c.width,rightRatio:(n.right-c.left)/c.width,bottomRatio:(n.bottom-c.top)/c.height,top:n.top,left:n.left,right:n.right,bottom:n.bottom,actualWidth:n.width,actualHeight:n.height,width:i,height:a,ratio:i/a,multiRatio:i*a,plusRatio:i+a,angle:t.data.angle||0,loc:t.data.loc},"around-group"===t.category&&o.computeAroundGroupNodeRatio(t,this._aroundGroupScaleMap,!0)}})}},i.e.Diagram.prototype.setAroundGroupMemberPartsSize=function(t){if(t.data&&"around-group"===t.data.category){const e=this,n=Object(r.b)([t]),a=e._aroundGroupScaleMap[t.key],c=this.getPartSize(t,"width"),h=this.getPartSize(t,"height"),d=c/a.width,u=h/a.height;let f=t.memberParts;if(Object(s.C)(t)){const e=Object(l.j)(t);f=(new i.e.Set).addAll(f).addAll(e)}f.each(t=>{if(t instanceof i.e.Node){if(t.data&&!t.data.lock&&!Object(o.d)(t.data.category)){const o="image"===t.data.category||"loadErrorImage"===t.data.category,r=e._aroundGroupScaleMap[t.key],s=r.topRatio*n.height,l=r.leftRatio*n.width,f=r.rightRatio*n.width,p=r.bottomRatio*n.height,g=l<n.width-f,m=s<n.height-p,y=n.top+s,v=n.left+l;if(r.angle%90!=0){const d=a.plusRatio;let u,y,v=(c+h)/d;if((r.actualWidth*v>c-l||r.actualHeight*v>h-s)&&(v=Math.min((c-l)/r.actualWidth,(h-s)/r.actualHeight)),o)e.model.setDataProperty(t.data,"size","".concat(r.width*v," ").concat(r.height*v));else{const n=r.width*v,a=r.height*v;e.resizeParameter(new i.e.Rect(0,0,n,a),t,new i.e.Rect(0,0,t.data.width,t.data.height)),e.model.setDataProperty(t.data,"width",n),e.model.setDataProperty(t.data,"height",a)}u=g?n.left+l+r.actualWidth/2*v:n.left+f-r.actualWidth/2*v,y=m?n.top+s+r.actualHeight/2*v:n.top+p-r.actualHeight/2*v,e.model.setDataProperty(t.data,"loc","".concat(u," ").concat(y))}else{const n=(r.angle+90)%180==0,a=n?r.width*u:r.width*d,s=n?r.height*d:r.height*u;if(o)e.model.setDataProperty(t.data,"size","".concat(a," ").concat(s));else{e.resizeParameter(new i.e.Rect(0,0,a,s),t,new i.e.Rect(0,0,t.data.width,t.data.height));const n=t.resizeObject;e.model.setDataProperty(t.data,"width",Math.max(a,n.minSize.width)),e.model.setDataProperty(t.data,"height",Math.max(s,n.minSize.height))}n?e.model.setDataProperty(t.data,"loc","".concat(v+s/2," ").concat(y+a/2)):e.model.setDataProperty(t.data,"loc","".concat(v+a/2," ").concat(y+s/2))}}"around-group"===t.category&&e.setAroundGroupMemberPartsSize(t)}})}},i.e.Diagram.prototype.resizeParameter=function(t,e,n){if(e.data.flowchart||!e.constraint.length)return;const{width:i,height:a}=n,{width:o,height:r}=t,{parameter1:s,parameter2:l,figure:c}=e.data;let h,d;"UML-OptionLoop"===c?(h=Math.min(s,o),d=Math.max(l,r)):(h=s*o/i,d=l*r/a),this.model.setDataProperty(e.data,"parameter1",h),this.model.setDataProperty(e.data,"parameter2",d)},i.e.Diagram.prototype.getPartScaleMeta=function(t){return this._aroundGroupScaleMap[t.key]},i.e.Diagram.prototype.resizeLinksInGroup=function(t,e){const n=t.diagram,a=t.getDocumentBounds();n.links.filter(e=>e.data.group===t.data.key).each(t=>{const n=t.points.toArray();if(n.length){if(!t.toNode){const o=new i.e.Point,r=n[n.length-1];o.x=(r.x-e.x)/e.width*a.width+a.x,o.y=(r.y-e.y)/e.height*a.height+a.y,t.defaultToPoint=o}if(!t.fromNode){const o=new i.e.Point,r=n[0];o.x=(r.x-e.x)/e.width*a.width+a.x,o.y=(r.y-e.y)/e.height*a.height+a.y,t.defaultFromPoint=o}t.startRoute(),t.computePoints(),t.commitRoute()}})},i.e.Diagram.prototype.moveLinksInGroup=function(t,e){const n=t.diagram;n.links.filter(e=>e.data.group===t.data.key).each(t=>{if(!t.fromNode&&!t.toNode){const a=t.location.copy(),o=(new i.e.Point).add(a).add(e);t.moveTo(o.x,o.y,!0),n.updateLinkPoints(t)}})}},function(t,e,n){"use strict";var i=n(33),a=n(116),o=n(210),r=n(122);function s(t){var e=new o(t),n=a(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var l=s(n(119));l.Axios=o,l.create=function(t){return s(r(l.defaults,t))},l.Cancel=n(123),l.CancelToken=n(223),l.isCancel=n(118),l.all=function(t){return Promise.all(t)},l.spread=n(224),t.exports=l,t.exports.default=l},function(t,e,n){"use strict";var i=n(33),a=n(117),o=n(211),r=n(212),s=n(122);function l(t){this.defaults=t,this.interceptors={request:new o,response:new o}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[r,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},l.prototype.getUri=function(t){return t=s(this.defaults,t),a(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,a){return this.request(i.merge(a||{},{method:t,url:e,data:n}))}})),t.exports=l},function(t,e,n){"use strict";var i=n(33);function a(){this.handlers=[]}a.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},a.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},a.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=a},function(t,e,n){"use strict";var i=n(33),a=n(213),o=n(118),r=n(119);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=a(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||r.adapter)(t).then((function(e){return s(t),e.data=a(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=a(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var i=n(33);t.exports=function(t,e,n){return i.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var i=n(33);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},function(t,e,n){"use strict";var i=n(121);t.exports=function(t,e,n){var a=n.config.validateStatus;!a||a(n.status)?t(n):e(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,a){return t.config=e,n&&(t.code=n),t.request=i,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var i=n(218),a=n(219);t.exports=function(t,e){return t&&!i(e)?a(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(33),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,r={};return t?(i.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(r[e]&&a.indexOf(e)>=0)return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([n]):r[e]?r[e]+", "+n:n}})),r):r}},function(t,e,n){"use strict";var i=n(33);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=a(window.location.href),function(e){var n=i.isString(e)?a(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i=n(33);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,a,o,r){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(a)&&s.push("path="+a),i.isString(o)&&s.push("domain="+o),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var i=n(123);function a(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var t;return{token:new a((function(e){t=e})),cancel:t}},t.exports=a},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var i=n(0);i.e.AnimationManager.defineAnimationEffect("alignmentFocus",(function(t,e,n,a,o,r,s){t.alignmentFocus=new i.e.Spot(a(o,e.x,n.x-e.x,r),a(o,e.y,n.y-e.y,r),a(o,e.offsetX,n.offsetX-e.offsetX,r),a(o,e.offsetY,n.offsetY-e.offsetY,r))}))},function(t,e){},function(t,e,n){var i,a,o;t.exports=(o=n(44),a=(i=o).lib.WordArray,i.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var a=[],o=0;o<n;o+=3)for(var r=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)a.push(i.charAt(r>>>6*(3-s)&63));var l=i.charAt(64);if(l)for(;a.length%4;)a.push(l);return a.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var r=n.charAt(64);if(r){var s=t.indexOf(r);-1!==s&&(e=s)}return function(t,e,n){for(var i=[],o=0,r=0;r<e;r++)if(r%4){var s=n[t.charCodeAt(r-1)]<<r%4*2,l=n[t.charCodeAt(r)]>>>6-r%4*2,c=s|l;i[o>>>2]|=c<<24-o%4*8,o++}return a.create(i,o)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)},function(t,e,n){var i;t.exports=(i=n(44),function(t){var e=i,n=e.lib,a=n.WordArray,o=n.Hasher,r=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=r.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,a=t[i];t[i]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var o=this._hash.words,r=t[e+0],l=t[e+1],f=t[e+2],p=t[e+3],g=t[e+4],m=t[e+5],y=t[e+6],v=t[e+7],w=t[e+8],x=t[e+9],b=t[e+10],S=t[e+11],k=t[e+12],P=t[e+13],M=t[e+14],_=t[e+15],L=o[0],T=o[1],O=o[2],A=o[3];L=c(L,T,O,A,r,7,s[0]),A=c(A,L,T,O,l,12,s[1]),O=c(O,A,L,T,f,17,s[2]),T=c(T,O,A,L,p,22,s[3]),L=c(L,T,O,A,g,7,s[4]),A=c(A,L,T,O,m,12,s[5]),O=c(O,A,L,T,y,17,s[6]),T=c(T,O,A,L,v,22,s[7]),L=c(L,T,O,A,w,7,s[8]),A=c(A,L,T,O,x,12,s[9]),O=c(O,A,L,T,b,17,s[10]),T=c(T,O,A,L,S,22,s[11]),L=c(L,T,O,A,k,7,s[12]),A=c(A,L,T,O,P,12,s[13]),O=c(O,A,L,T,M,17,s[14]),L=h(L,T=c(T,O,A,L,_,22,s[15]),O,A,l,5,s[16]),A=h(A,L,T,O,y,9,s[17]),O=h(O,A,L,T,S,14,s[18]),T=h(T,O,A,L,r,20,s[19]),L=h(L,T,O,A,m,5,s[20]),A=h(A,L,T,O,b,9,s[21]),O=h(O,A,L,T,_,14,s[22]),T=h(T,O,A,L,g,20,s[23]),L=h(L,T,O,A,x,5,s[24]),A=h(A,L,T,O,M,9,s[25]),O=h(O,A,L,T,p,14,s[26]),T=h(T,O,A,L,w,20,s[27]),L=h(L,T,O,A,P,5,s[28]),A=h(A,L,T,O,f,9,s[29]),O=h(O,A,L,T,v,14,s[30]),L=d(L,T=h(T,O,A,L,k,20,s[31]),O,A,m,4,s[32]),A=d(A,L,T,O,w,11,s[33]),O=d(O,A,L,T,S,16,s[34]),T=d(T,O,A,L,M,23,s[35]),L=d(L,T,O,A,l,4,s[36]),A=d(A,L,T,O,g,11,s[37]),O=d(O,A,L,T,v,16,s[38]),T=d(T,O,A,L,b,23,s[39]),L=d(L,T,O,A,P,4,s[40]),A=d(A,L,T,O,r,11,s[41]),O=d(O,A,L,T,p,16,s[42]),T=d(T,O,A,L,y,23,s[43]),L=d(L,T,O,A,x,4,s[44]),A=d(A,L,T,O,k,11,s[45]),O=d(O,A,L,T,_,16,s[46]),L=u(L,T=d(T,O,A,L,f,23,s[47]),O,A,r,6,s[48]),A=u(A,L,T,O,v,10,s[49]),O=u(O,A,L,T,M,15,s[50]),T=u(T,O,A,L,m,21,s[51]),L=u(L,T,O,A,k,6,s[52]),A=u(A,L,T,O,p,10,s[53]),O=u(O,A,L,T,b,15,s[54]),T=u(T,O,A,L,l,21,s[55]),L=u(L,T,O,A,w,6,s[56]),A=u(A,L,T,O,_,10,s[57]),O=u(O,A,L,T,y,15,s[58]),T=u(T,O,A,L,P,21,s[59]),L=u(L,T,O,A,g,6,s[60]),A=u(A,L,T,O,S,10,s[61]),O=u(O,A,L,T,f,15,s[62]),T=u(T,O,A,L,x,21,s[63]),o[0]=o[0]+L|0,o[1]=o[1]+T|0,o[2]=o[2]+O|0,o[3]=o[3]+A|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,a=8*e.sigBytes;n[a>>>5]|=128<<24-a%32;var o=t.floor(i/4294967296),r=i;n[15+(a+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(a+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var h=l[c];l[c]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,n,i,a,o,r){var s=t+(e&n|~e&i)+a+r;return(s<<o|s>>>32-o)+e}function h(t,e,n,i,a,o,r){var s=t+(e&i|n&~i)+a+r;return(s<<o|s>>>32-o)+e}function d(t,e,n,i,a,o,r){var s=t+(e^n^i)+a+r;return(s<<o|s>>>32-o)+e}function u(t,e,n,i,a,o,r){var s=t+(n^(e|~i))+a+r;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(l),e.HmacMD5=o._createHmacHelper(l)}(Math),i.MD5)},function(t,e,n){var i,a,o,r,s,l,c,h;t.exports=(h=n(44),a=(i=h).lib,o=a.WordArray,r=a.Hasher,s=i.algo,l=[],c=s.SHA1=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],a=n[1],o=n[2],r=n[3],s=n[4],c=0;c<80;c++){if(c<16)l[c]=0|t[e+c];else{var h=l[c-3]^l[c-8]^l[c-14]^l[c-16];l[c]=h<<1|h>>>31}var d=(i<<5|i>>>27)+s+l[c];d+=c<20?1518500249+(a&o|~a&r):c<40?1859775393+(a^o^r):c<60?(a&o|a&r|o&r)-1894007588:(a^o^r)-899497514,s=r,r=o,o=a<<30|a>>>2,a=i,i=d}n[0]=n[0]+i|0,n[1]=n[1]+a|0,n[2]=n[2]+o|0,n[3]=n[3]+r|0,n[4]=n[4]+s|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(i+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}}),i.SHA1=r._createHelper(c),i.HmacSHA1=r._createHmacHelper(c),h.SHA1)},function(t,e,n){var i,a,o,r;t.exports=(i=n(44),o=(a=i).lib.Base,r=a.enc.Utf8,void(a.algo.HMAC=o.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=r.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var a=this._oKey=e.clone(),o=this._iKey=e.clone(),s=a.words,l=o.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))},function(t,e,n){var i=n(49),a=n(232),o=n(233),r=Math.max,s=Math.min;t.exports=function(t,e,n){var l,c,h,d,u,f,p=0,g=!1,m=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var n=l,i=c;return l=c=void 0,p=e,d=t.apply(i,n)}function w(t){return p=t,u=setTimeout(b,e),g?v(t):d}function x(t){var n=t-f;return void 0===f||n>=e||n<0||m&&t-p>=h}function b(){var t=a();if(x(t))return S(t);u=setTimeout(b,function(t){var n=e-(t-f);return m?s(n,h-(t-p)):n}(t))}function S(t){return u=void 0,y&&l?v(t):(l=c=void 0,d)}function k(){var t=a(),n=x(t);if(l=arguments,c=this,f=t,n){if(void 0===u)return w(f);if(m)return clearTimeout(u),u=setTimeout(b,e),v(f)}return void 0===u&&(u=setTimeout(b,e)),d}return e=o(e)||0,i(n)&&(g=!!n.leading,h=(m="maxWait"in n)?r(o(n.maxWait)||0,e):h,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==u&&clearTimeout(u),p=0,l=f=c=u=void 0},k.flush=function(){return void 0===u?d:S(a())},k}},function(t,e,n){var i=n(38);t.exports=function(){return i.Date.now()}},function(t,e,n){var i=n(234),a=n(49),o=n(97),r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(a(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=a(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=i(t);var n=s.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):r.test(t)?NaN:+t}},function(t,e,n){var i=n(235),a=/^\s+/;t.exports=function(t){return t?t.slice(0,i(t)+1).replace(a,""):t}},function(t,e){var n=/\s/;t.exports=function(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e}},function(t,e,n){"use strict";n.r(e),n.d(e,"Graph",(function(){return zo})),n.d(e,"Node",(function(){return Go})),n.d(e,"Link",(function(){return Uo})),n.d(e,"Group",(function(){return Wo})),n.d(e,"Combo",(function(){return qo}));var i={};n.r(i),n.d(i,"diagramLoading",(function(){return pn})),n.d(i,"currentItem",(function(){return gn})),n.d(i,"sheetList",(function(){return mn})),n.d(i,"colorHistory",(function(){return yn})),n.d(i,"colorHistoryMap",(function(){return vn})),n.d(i,"sheetSetting",(function(){return wn})),n.d(i,"diagramSetting",(function(){return xn})),n.d(i,"cooperators",(function(){return bn})),n.d(i,"fontLibrary",(function(){return Sn})),n.d(i,"watermarkMap",(function(){return kn})),n.d(i,"markMap",(function(){return Pn})),n.d(i,"rightPanelStatus",(function(){return Mn})),n.d(i,"rightPanelActiveRouter",(function(){return _n})),n.d(i,"showDeleteTip",(function(){return Ln})),n.d(i,"isTogglePanel",(function(){return Tn})),n.d(i,"ciClassList",(function(){return On})),n.d(i,"rltClassList",(function(){return An})),n.d(i,"creator",(function(){return En})),n.d(i,"layerList",(function(){return Cn})),n.d(i,"layerBreadcrumbs",(function(){return Nn})),n.d(i,"draggingShapeData",(function(){return Bn})),n.d(i,"circuitPanelStatus",(function(){return jn})),n.d(i,"layerModalStatus",(function(){return Dn})),n.d(i,"animationModalStatus",(function(){return Fn})),n.d(i,"eventsModalStatus",(function(){return Rn})),n.d(i,"commentList",(function(){return In})),n.d(i,"commentUnreadCount",(function(){return zn})),n.d(i,"componentId",(function(){return Hn})),n.d(i,"commentInfo",(function(){return Vn})),n.d(i,"commentFilterValue",(function(){return Gn})),n.d(i,"attrOptions",(function(){return Un})),n.d(i,"slideList",(function(){return Wn})),n.d(i,"slideDefaultSetting",(function(){return qn})),n.d(i,"slidesPanelStatus",(function(){return Yn}));var a=n(0),o=n(75);class r{constructor(t){this._graph=t,this._objects=[]}get length(){return this._objects.length}query(t){return new r(this._graph).select(t,this._objects)}select(t,e){const n=[].concat(this._graph.nodes,this._graph.links);e=e||n;const i=this._queryResult(t,e);return this._buildReturnObject(i)}_buildReturnObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._objects=t;for(let e=0;e<t.length;e++)this[e]=t[e];return this}_queryResult(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if("string"!=typeof t)throw new Error("The query condition parameter type must be a string");let n=[];if(t.startsWith("#")){const i=t.split("#")[1];n=e.filter(t=>t._cfg.id===i)}else if(t.startsWith("[userData/")){const i=t.split("=")[0].split("[userData/")[1],a=t.split("=")[1].split("]")[0],o=[];e.forEach(t=>{t._cfg.userData&&t._cfg.userData[i]&&t._cfg.userData[i]===a&&o.push(t)}),n=o}else{n=e.filter(e=>e._cfg.name===t)}return n}forEach(t){"function"==typeof t&&this._objects.forEach((e,n)=>{t(e,n)})}has(t){if(!t)return!1;return!!this._objects.find(e=>e.key===t.key)}toArray(){return this._objects}on(t,e,n,i){this._objects.forEach(a=>{a.on(t,e,n,i)})}trigger(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this._objects.forEach(e=>{e.trigger(t,...n)})}off(t,e){this._objects.forEach(n=>{n.off(t,e)})}}var s=n(22),l=n(14);class c{constructor(t){this._graph=t,this._diagram=t.diagram,this._objects=[]}get objects(){return this._objects}select(t){this.has(t)||(t._part.isSelected=!0,"link"===t.type&&Object(l.h)(this._diagram,(new a.e.Set).add(t._part)),this._objects.push(t),this._graph.trigger(s.a.Select,this._getEventObject(s.a.Select,t)),this._graph.trigger(s.a.SelectionChange,this._getEventObject(s.a.SelectionChange)))}deselect(t){if(!this.has(t))return;t._part.isSelected=!1;const e=this._objects.findIndex(e=>e.key===t.key);this._objects.splice(e,1),this._graph.trigger(s.a.Deselect,this._getEventObject(s.a.Deselect,t)),this._graph.trigger(s.a.SelectionChange,this._getEventObject(s.a.SelectionChange))}has(t){return!!this._objects.find(e=>e.key===t.key)}clear(){this._objects.length&&(this._objects.forEach(t=>{t._part.isSelected=!1}),this._objects=[],this._graph.trigger(s.a.SelectionChange,this._getEventObject(s.a.SelectionChange)))}_getEventObject(t,e){const n={};return n.type=t,e?n.object=e:n.objects=this._objects,n}}var h=n(19);function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{style:n,stateStyles:i,...a}=t;return a.position&&(a.loc=u(a),delete a.position),a.source&&(a.from=a.source,delete a.source),a.target&&(a.to=a.target,delete a.target),"image"===a.category&&(a.size="".concat(a.width," ").concat(a.height),delete a.width,delete a.height),a={...a,...n,...e},a}function u(t){const e=t.width,n=t.height,i=(t.angle||0)*Math.PI/180,a=Math.sin(i),o=Math.cos(i),r=Math.abs(e*o)+Math.abs(n*a),s=Math.abs(e*a)+Math.abs(n*o);return"".concat(t.position[0]+r/2," ").concat(t.position[1]+s/2)}function f(t){let{width:e,height:n,size:i,angle:a=0}=t;e||n||!i||(i=i.split(" "),e=Number(i[0]),n=Number(i[1]));const o=a*Math.PI/180,r=Math.sin(o),s=Math.cos(o),l=Math.abs(e*s)+Math.abs(n*r),c=Math.abs(e*r)+Math.abs(n*s),h=t.loc.split(" ");return[h[0]-l/2,h[1]-c/2]}function p(t){const e={...t};if(e.style={},e.uid&&(e.id=e.uid),"image"===e.category&&e.size){const t=e.size.split(" ");e.width=Number(t[0]),e.height=Number(t[1])}else if(!e.width&&Array.isArray(t.items)){const n=t.items.reduce((t,e)=>t+e.width,0);e.width=n}else if(!e.height&&Array.isArray(t.items)){const n=t.items.reduce((t,e)=>t+e.height,0);e.height=n}if(isNaN(e.width)&&isNaN(e.height)&&(delete e.width,delete e.height),e.loc&&(e.position=f(e)),e.from&&(e.source=e.from),e.to&&(e.target=e.to),Array.isArray(e.customProperties)){const t={};e.customProperties.forEach(e=>{t[e.key]=e.value}),e.userData=t}return Object.keys(e).forEach(t=>{h.l.includes(t)&&(e.style[t]=e[t])}),Object.keys(e).forEach(t=>{h.f.includes(t)||delete e[t]}),e}var g=n(5),m=n(26),y=n(40),v=(n(105),n(11));const w=a.e.Tool.prototype.doActivate;a.e.Tool.prototype.doActivate=function(){w.call(this),v.a.$emit("hideLink")};const x=a.e.Part.prototype.removeAdornment;a.e.Part.prototype.removeAdornment=function(t){if(x.call(this,t),this.data&&this.diagram){"Dragging"===this.diagram.currentTool.name&&this.diagram.toolManager.linkReshapingTool.createbezierhandleLink(this)}};const b=a.e.UndoManager.prototype.startTransaction,S=a.e.UndoManager.prototype.commitTransaction,k=Object.keys(a.e.UndoManager.prototype);let P=!0,M=!0;if(!(k.length>0&&P&&M))throw new Error("修改transaction.js, 可能缺少关键事务信息1");for(let t=0;t<k.length;t++){const e=k[t];if(P&&a.e.UndoManager.prototype[e]===b){const t=a.e.UndoManager.prototype[e];a.e.UndoManager.prototype[e]=function(e){e&&"Layout"!==e&&t.call(this,e)},P=!1}else if(M&&a.e.UndoManager.prototype[e]===S){const t=a.e.UndoManager.prototype[e];a.e.UndoManager.prototype[e]=function(e){e&&"Layout"!==e&&t.call(this,e)},M=!1}else if(!P&&!M)break}if(P||M)throw new Error("修改transaction.js, 可能缺少关键事务信息2");n(115);var _=n(3),L=n(32),T=n(24),O=n(21),A=n(41),E=n(34),C=n(10),N=n(2),B=n(35);const j=function(t,e){if(!Object(L.a)(t)&&!t.noAdornments&&!t.isReadOnly&&!t.inPickCanvasColorState&&!Object(N.E)(t,e)&&!(e&&e.data&&e.data.lock&&"Linking"!==t.currentTool.name&&"Relinking"!==t.currentTool.name)&&!Object(T.b)(e.data.category)&&("image"!==e.data.category||e.data.anchorData))return!0},D=function(t,e){t.links.each(t=>{t.findAdornment("RelinkAdornment")&&e!==t&&t.removeAdornment("RelinkAdornment")})},F=function(t){const e=t.findObjectsNear(t.lastInput.documentPoint,(_.p+_.q)/t.scale,(function(t){var e,n,i;return t.part instanceof a.e.Link||t.part instanceof a.e.Adornment||t.part&&t.part.data&&"uml-shape"===t.part.data.category&&(t instanceof a.e.Node||t instanceof a.e.Panel||t.part instanceof a.e.Adornment||t instanceof a.e.TextBlock)?null:"image"===(null===(e=t.part)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.category)?"WRAP_PANEL"===(null===(i=t.panel)||void 0===i?void 0:i.name)||t.part instanceof a.e.Adornment?t:null:t}),null,!0).toArray(),n=t.findObjectsAt(t.lastInput.documentPoint).toArray();n.forEach(t=>{t instanceof a.e.TextBlock&&t.part&&t.part.data&&"uml-shape"===t.part.data.category&&(e.includes(t)||e.push(t))});const i=!!e.filter(t=>"RelinkFrom"===t.name||"RelinkTo"===t.name)[0],o=I(t,e,n);!o||!o.data||o.data.lock||Object(N.B)(o)||Object(N.C)(o)?(R(t,null),!i&&D(t),o&&o.data&&o.data.lock&&z(t,o,e)):o instanceof a.e.Node?(D(t),j(t,o)&&function(t,e){if(!e.findAdornment("LinkingAdornment")){R(t);const n=Object(A.d)(e),i=e.findPort("");n.adornedObject=i,e.addAdornment("LinkingAdornment",n)}}(t,o),z(t,o,e)):(R(t),function(t,e){if(!e.data.lock&&e.findObject("LINK_SHAPE")&&!e.findAdornment("RelinkAdornment")){D(t,e);const n=Object(E.b)();n.adornedObject=e.findObject("LINK_SHAPE"),e.addAdornment("RelinkAdornment",n)}}(t,o))};const R=function(t){t.inPickCanvasColorState||(t.nodes.each(t=>{t.findAdornment("LinkingAdornment")&&t.removeAdornment("LinkingAdornment")}),Object(O.clearToolTip)(t))},I=function(t,e,n){const i=[...new Set(e.map(t=>t.part instanceof a.e.Adornment?t.part.adornedPart:t.part))],o=n.filter(t=>"OUTER_LINK_SHAPE"===t.name),r=n.filter(t=>"EMPTY"===t.name).map(t=>t.part instanceof a.e.Adornment?t.part.adornedPart:t.part),s=[...new Set(o.map(t=>t.part))].filter(e=>{const n=e.points.first(),i=e.points.last(),a=t.lastInput.documentPoint;return!(e.fromNode&&(n.x-a.x)*(n.x-a.x)+(n.y-a.y)*(n.y-a.y)<100)&&!(e.toNode&&(i.x-a.x)*(i.x-a.x)+(i.y-a.y)*(i.y-a.y)<100)}),l=i.concat(s),c=n.filter(t=>""===t.portId||"PORT_PLACEHOLDER"===t.name||"OUTER_LINK_SHAPE"===t.name).map(t=>t.part instanceof a.e.Adornment?t.part.adornedPart:t.part),h=l.filter(t=>t.isSelected);let d=null;d=h.length>0?h:s.length>0?s:i;const u=d.filter(t=>~c.indexOf(t));d=u.length>0?u:d;return Object(C.a)(t,d.filter(t=>!~r.indexOf(t)))};function z(t,e,n){e&&e.findPort&&~n.indexOf(e.findPort(""))?H(t,e):Object(O.clearToolTip)(t)}function H(t,e){if("historyMode"!==t.mode&&e.data.relationInfo&&!B.b[t.mode]){if(e.findAdornment("relationInfo"))return;Object(O.createOrUpdateTip)(t,e,"jumpToLink")}}var V=n(9),G=n(7);const U=a.e.GraphObject.make,W=function(t){const e=t.parts.filter(t=>"LAYER"===t.name).first(),n=[];t.nodes.each(t=>n.push(t)),t.links.each(t=>n.push(t));const{x:i,y:a,width:o,height:r}=Object(G.b)(n,!0);return i+o>e.position.x&&a+r>e.position.y?{x:i<e.position.x?e.position.x:i,y:a<e.position.y?e.position.y:a,width:i<e.position.x?o-(e.position.x-i):o,height:a<e.position.y?r-(e.position.y-a):r}:{x:e.position.x,y:e.position.y,width:80,height:80}},q=(U(a.e.Adornment,"Vertical",{defaultAlignment:a.e.Spot.Left},U(a.e.Placeholder),U(a.e.TextBlock,{visible:!1,margin:new a.e.Margin(0,0,5,5),font:"14px sans-serif"},new a.e.Binding("text","textX",t=>t)),U(a.e.TextBlock,{visible:!1,margin:new a.e.Margin(0,0,0,5),font:"14px sans-serif"},new a.e.Binding("text","textY",t=>t))),U(a.e.Adornment,"Spot",U(a.e.Placeholder),U(a.e.TextBlock,{visible:!1,font:"14px sans-serif",alignment:new a.e.Spot(1,0,0,5),alignmentFocus:a.e.Spot.TopLeft},new a.e.Binding("text","textX",t=>t)),U(a.e.TextBlock,{visible:!1,font:"14px sans-serif",alignment:new a.e.Spot(1,0,0,20),alignmentFocus:a.e.Spot.TopLeft},new a.e.Binding("text","textY",t=>t))),U(a.e.Adornment,"Spot",U(a.e.Placeholder),U(a.e.TextBlock,{visible:!1,font:"14px sans-serif",alignment:new a.e.Spot(0,0,5,-35),alignmentFocus:a.e.Spot.TopLeft},new a.e.Binding("text","textX",t=>t)),U(a.e.TextBlock,{visible:!1,font:"14px sans-serif",alignment:new a.e.Spot(0,0,5,-14),alignmentFocus:a.e.Spot.TopLeft},new a.e.Binding("text","textY",t=>t))),function(t,e){const n=t.diagram,i=n.parts.filter(t=>"LAYER"===t.name).first(),o=n.parts.filter(t=>"topRightHandle"===t.name).first(),r=n.parts.filter(t=>"bottomLeftHandle"===t.name).first(),s=n.parts.filter(t=>"bottomRightHandle"===t.name).first(),l=i.position.x+i.desiredSize.width,c=i.position.y+i.desiredSize.height,h=t.name;let d,u;const{x:f,y:p,width:g,height:m}=W(n),y=f+g,v=p+m;switch(h){case"topRightHandle":d=e.x<y?y:e.x,u=t.location.y,n.model.setDataProperty(s.data,"loc","".concat(d," ").concat(c<v?v:s.data.loc.split(" ")[1])),n.model.setDataProperty(r.data,"loc","".concat(r.actualBounds.x," ").concat(c<v?v:r.data.loc.split(" ")[1])),i.desiredSize=new a.e.Size(Math.round(d-i.actualBounds.x),c<v?v:i.desiredSize.height),Object(N.y)(n,"TopRightHandle",{width:Math.round(d-i.actualBounds.x),height:c<v?v:i.desiredSize.height});break;case"bottomLeftHandle":u=e.y<v?v:e.y,d=t.location.x,n.model.setDataProperty(o.data,"loc","".concat(l<y?y:o.data.loc.split(" ")[0]," ").concat(o.actualBounds.y)),n.model.setDataProperty(s.data,"loc","".concat(l<y?y:o.data.loc.split(" ")[0]," ").concat(u)),i.desiredSize=new a.e.Size(l<y?y:i.desiredSize.width,Math.round(u-i.actualBounds.y)),Object(N.y)(n,"BottomLeftHandle",{width:l<y?y:i.desiredSize.width,height:Math.round(u-i.actualBounds.y)});break;case"bottomRightHandle":d=e.x<y?y:e.x,u=e.y<v?v:e.y,n.model.setDataProperty(o.data,"loc","".concat(d," ").concat(o.actualBounds.y)),n.model.setDataProperty(r.data,"loc","".concat(r.actualBounds.x," ").concat(u)),i.desiredSize=new a.e.Size(Math.round(d-i.actualBounds.x),Math.round(u-i.actualBounds.y)),Object(N.y)(n,"BottomRightHandle",{width:Math.round(d-i.actualBounds.x),height:Math.round(u-i.actualBounds.y)})}return n.parts.each(t=>{t&&t.name&&~t.name.indexOf("Handle")&&(n.model.setDataProperty(t.data,"textX","".concat(Math.round(i.desiredSize.width)," px")),n.model.setDataProperty(t.data,"textY","".concat(Math.round(i.desiredSize.height)," px")))}),new a.e.Point(d,u)});U(a.e.Part,"Vertical",{name:"topRightHandle",movable:!0,selectionAdornmentTemplate:U(a.e.Adornment),isInDocumentBounds:!1,layerName:"Adornment",dragComputation:q},V.a.location(),new a.e.Binding("scale","scale",t=>t),new a.e.Binding("magrin","scale",t=>new a.e.Margin(0,0,5*t,0)),U(a.e.Picture,{name:"SHAPE",width:40,height:40,margin:new a.e.Margin(0,0,5,0),sourceCrossOrigin:()=>"anonymous",source:"/topo-static/images/templates/resize_y_tab.svg",background:"#F9F9FA",cursor:"ew-resize",angle:0,alignment:a.e.Spot.Left,mouseEnter:(t,e)=>{const n=e.part.findAdornment("topRightAdornment");n&&(n.elt(1).visible=!0,n.elt(2).visible=!0)},mouseLeave:(t,e)=>{if(!t.left){const t=e.part.findAdornment("topRightAdornment");t&&(t.elt(1).visible=!1,t.elt(2).visible=!1)}}})),U(a.e.Part,"Spot",{name:"bottomLeftHandle",movable:!0,selectionAdornmentTemplate:U(a.e.Adornment),isInDocumentBounds:!1,layerName:"Adornment",dragComputation:q},V.a.location(),new a.e.Binding("scale","scale",t=>t),new a.e.Binding("magrin","scale",t=>new a.e.Margin(0,5*t,0,0)),U(a.e.Picture,{name:"SHAPE",width:40,height:40,margin:new a.e.Margin(0,5,0,0),sourceCrossOrigin:()=>"anonymous",source:"/topo-static/images/templates/resize_y_tab.svg",background:"#F9F9FA",cursor:"ns-resize",angle:90,alignment:a.e.Spot.Top,mouseEnter:(t,e)=>{const n=e.part.findAdornment("bottomLeftAdornment");n&&(n.elt(1).visible=!0,n.elt(2).visible=!0)},mouseLeave:(t,e)=>{if(!t.left){const t=e.part.findAdornment("bottomLeftAdornment");t&&(t.elt(1).visible=!1,t.elt(2).visible=!1)}}})),U(a.e.Part,"Spot",{name:"bottomRightHandle",movable:!0,selectionAdornmentTemplate:U(a.e.Adornment),isInDocumentBounds:!1,layerName:"Adornment",dragComputation:q},V.a.location(),new a.e.Binding("scale","scale",t=>t),U(a.e.Picture,{name:"SHAPE",width:40,height:40,background:"#F9F9FA",sourceCrossOrigin:()=>"anonymous",source:"/topo-static/images/templates/resize_xy_tab.svg",angle:0,cursor:"nwse-resize",alignment:a.e.Spot.Left,mouseEnter:(t,e)=>{const n=e.part.findAdornment("bottomRightAdornment");n&&(n.elt(1).visible=!0,n.elt(2).visible=!0)},mouseLeave:(t,e)=>{if(!t.left){const t=e.part.findAdornment("bottomRightAdornment");t&&(t.elt(1).visible=!1,t.elt(2).visible=!1)}}}));var Y=n(6);function X(){this.inValidArr=["BPMN-SwimLane","BPMN-group","uml-SwimLane"],this.selectMore=!1,this.isClickEmpty=!1,this._selectInGroup=!1,a.e.ClickSelectingTool.call(this)}a.e.Diagram.inherit(X,a.e.ClickSelectingTool),X.prototype.canStart=function(){const t=this.diagram.findPartAt(this.diagram.lastInput.documentPoint);if(t&&t.name&&~t.name.indexOf("Handle")){const{x:t,y:e,width:n,height:i}=W(this.diagram),o=this.diagram.parts.filter(t=>"LAYER"===t.name).first(),r=this.diagram.parts.filter(t=>"topRightHandle"===t.name).first(),s=this.diagram.parts.filter(t=>"bottomLeftHandle"===t.name).first(),l=this.diagram.parts.filter(t=>"bottomRightHandle"===t.name).first();if(o){const c=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0;const h=o.position.x+o.desiredSize.width,d=o.position.y+o.desiredSize.height;h<t+n&&(this.diagram.model.setDataProperty(r.data,"loc","".concat(t+n," ").concat(r.actualBounds.y)),this.diagram.model.setDataProperty(l.data,"loc","".concat(t+n," ").concat(l.actualBounds.y)),o.desiredSize=new a.e.Size(Math.round(o.desiredSize.width+(t+n-h)),Math.round(o.desiredSize.height))),d<e+i&&(this.diagram.model.setDataProperty(s.data,"loc","".concat(s.actualBounds.x," ").concat(e+i)),this.diagram.model.setDataProperty(l.data,"loc","".concat(l.data.loc.split(" ")[0]," ").concat(e+i)),o.desiredSize=new a.e.Size(Math.round(o.desiredSize.width),Math.round(o.desiredSize.height+(e+i-d)))),this.diagram.parts.each(t=>{t&&t.name&&~t.name.indexOf("Handle")&&(this.diagram.model.setDataProperty(t.data,"textX","".concat(Math.round(o.desiredSize.width)," px")),this.diagram.model.setDataProperty(t.data,"textY","".concat(Math.round(o.desiredSize.height)," px")))}),this.diagram.raiseDiagramEvent("PartResized",o),this.diagram.skipsUndoManager=c}return!1}return a.e.ClickSelectingTool.prototype.canStart.call(this)},X.prototype.doActivate=function(){if(this.diagram.holdDownSpace)return!1;const t=this.diagram.lastInput,e=this.diagram.mode;(t.meta||t.control||L.c&&t.alt||t.shift)&&!["coop-readOnly","share"].includes(e)&&(this.selectMore=!0),a.e.ClickSelectingTool.prototype.doActivate.call(this)},X.prototype.doDeactivate=function(){this.selectMore=!1,this.isClickEmpty=!1,this._selectInGroup=!1,this.diagram.skipsUndoManager=!1,a.e.ClickSelectingTool.prototype.doDeactivate.call(this)},X.prototype.doMouseUp=function(){const t=this._getStandardPart();t&&!this.diagram.holdDownSpace?(this.addLinkingAdorn(t),t.data&&(t.data.aroundPart||this.diagram.lastInput.left)&&this.clickMainProccess(t)):this._clearAllSelection(),this.standardMouseClick(),this.diagram.skipsUndoManager=!1,this.stopTool()},X.prototype.addLinkingAdorn=function(t){if(!t.findAdornment("linkingAdornment")){const e=t.findObject("SHAPE");e&&F(this.diagram)}},X.prototype._getStandardPart=function(){const t=Object(N.q)(this.diagram,this.diagram.firstInput.documentPoint).toArray().map(t=>{let e=t.part;return e instanceof a.e.Adornment&&(e=e.adornedPart),e});return Object(C.a)(this.diagram,t)},X.prototype._clearAllSelection=function(t){Object(Y.c)(this.diagram),this.diagram.clearSelection()},X.prototype._clickAroundGroupInValid=function(t){if(t&&"around-group"===t.data.category)return this._clearAllSelection(),!0},X.prototype._handleEmpty=function(t){if(this.isClickEmpty){const t=Object(N.r)(this.diagram,this.diagram.lastInput.documentPoint);return t instanceof a.e.Adornment?t.adornedPart:t}return t},X.prototype._clickItemSelectAroundGroup=function(t){if(t&&t.data.tempGroup)return this.selectMore&&this._NormalSelect(t),!0;if(t&&t.data.group){const e=this.diagram.findTopAroundGroup(t);if(e){if(e.data&&"around-group"===e.data.category){if(this.selectMore)this._NormalSelect(t);else{if(e.isSelected&&!e.data.lock&&t.data.group===e.key){if(e.selection.has(t))return!0;Object(Y.c)(this.diagram);const n=(new a.e.Set).add(t);return e.updateSelection(n),!0}const n=Object(Y.f)([e]),i=Object(Y.g)(this.diagram,n);let o=!0;const r=this.diagram.selection;if(r.count!==i.length)o=!1;else for(let t=0;t<i.length;t++)if(!r.has(i[t])){o=!1;break}if(o)return!0;if(this.diagram.selectCollection(i),this.diagram.isReadOnly)return!0;Object(Y.c)(this.diagram,[e]),Object(Y.n)(this.diagram,e)}return!0}}else delete t.data.group,delete t.data.aroundPart,delete t.data.tempAroundPart}},X.prototype._NormalSelect=function(t){if(Object(Y.c)(this.diagram),t.data){const e=this.getAllSelectionInMoreEra(t);return 1===e.count?(Object(Y.c)(this.diagram),this.diagram.select(e.first())):this._selectInGroup||(this.diagram.selectCollection(e),this.diagram.toolManager.dragSelectingTool.selectAroundGroup(e)),Object(l.h)(this.diagram,e.filter(t=>t instanceof a.e.Link)),!0}},X.prototype.getAllSelectionInMoreEra=function(t){if(this.selectMore){const e=this.diagram.selection.copy(),n=this.diagram.findTopAroundGroup(t);if("around-group"===n.data.category){const i=this.diagram.findPartForKey(n.data.key),a=Object(Y.f)([i]),o=Object(Y.g)(this.diagram,a);if(n.isSelected&&e.count===o.length){this._selectInGroup=!0;const i=n.selection.copy();return i.has(t)?i.remove(t):i.add(t),n.updateSelection(i),i.count>1&&Object(Y.d)(this.diagram,i),e}e.has(t)?o.forEach(t=>{e.remove(t)}):o.forEach(t=>{e.add(t)})}else e.has(t)?e.remove(t):e.add(t);return e.each(t=>{"function"==typeof t.clearSelection&&t.clearSelection()}),e}{const e=new a.e.Set;return e.add(t),e}},X.prototype.clickMainProccess=function(t){const e=function*(){yield this._clickAroundGroupInValid(t),yield this._clickItemSelectAroundGroup(t),yield this._NormalSelect(t)}.call(this);for(;!e.next().value;);};var K=n(57),Z=n(36);var $=function(t){function e(){t.call(this),this.isGridSnapEnabled=!0,this.isUnconnectedLinkValid=!0,this.portGravity=20,this.innerWaitTime=1e3,this.temporaryLink=Object(K.setLinkTemplate)(),this.lastTargetPort=null,this.beforeInner=!1,this.inner=!1,this.innerTimer=null,this.currentSpot=a.e.Spot.Default,this.startSpot=a.e.Spot.Default,this.mouseMoveNumber=0,this.lastAnchorAdornmentPort=null,this.isClickAnchor=!1,this.originalRouting="Orthogonal",this.originalCurve="None",this.originalCurveness=0}return a.e.Diagram.inherit(e,t),e.prototype.restoreState=function(){this.temporaryToPort.geometry=a.e.Shape.getFigureGenerators().get("Rectangle")(null,1,1),this.temporaryToPort.part.data=null,this.temporaryToPort.fill=null,this.shiftSpot=null,this.isShiftLine=null,this.temporaryFromPort.geometry=a.e.Shape.getFigureGenerators().get("Rectangle")(null,1,1),this.temporaryFromPort.part.data=null,this.temporaryFromPort.fill=null,this.temporaryFromNode.locationSpot=a.e.Spot.Center,this.temporaryToNode.locationSpot=a.e.Spot.Center},e.prototype._calcShiftPoints=function(){let t=null,e=null;this.isForwards?(t=this.temporaryLink._getLinkPoint(this.temporaryFromNode,this.temporaryFromPort,this.temporaryLink.fromSpot,!0,!1,this.temporaryToNode,this.temporaryToPort),e=this.diagram.lastInput.documentPoint):(t=this.diagram.lastInput.documentPoint,e=this.temporaryLink._getLinkPoint(this.temporaryToNode,this.temporaryToPort,this.temporaryLink.toSpot,!1,!1,this.temporaryFromNode,this.temporaryFromPort)),this.isShiftLine=Object(l.e)(this.diagram,t,e)},e.prototype._adjustShiftState=function(t){var e,n,i;this.isShiftLine?(this.isGridSnapEnabled=!1,this.shiftSpot=t&&t.geometry.getPointByTilt(t,this.isShiftLine[0],this.isShiftLine[1],this.isForwards),delete this.temporaryLink.data.reshaped,"Normal"!==this.temporaryLink.data.routing&&this.diagram.model.setDataProperty(this.temporaryLink.data,"routing","Normal"),"None"!==this.temporaryLink.data.curve&&""===this.temporaryLink.category&&this.diagram.model.setDataProperty(this.temporaryLink.data,"curve",null!==(e=this.diagram)&&void 0!==e&&null!==(n=e.pageSetting)&&void 0!==n&&null!==(i=n.pageOptions)&&void 0!==i&&i.linkJumpOver?"JumpOver":"None"),0!==this.temporaryLink.data.curviness&&this.diagram.model.setDataProperty(this.temporaryLink.data,"curviness",0)):(this.shiftSpot=null,this.temporaryLink.data.routing!==this.originalRouting&&this.diagram.model.setDataProperty(this.temporaryLink.data,"routing",this.originalRouting),this.temporaryLink.data.curve!==this.originalCurve&&this.diagram.model.setDataProperty(this.temporaryLink.data,"curve",this.originalCurve),this.temporaryLink.data.curviness!==this.originalCurveness&&this.diagram.model.setDataProperty(this.temporaryLink.data,"curviness",this.originalCurveness),this.diagram.setGridSnapEnabled(!1))},e.prototype._shiftChangeLink=function(){this.isShiftLine&&!this.shiftSpot&&(this.isForwards?this.temporaryToNode.location=this.isShiftLine[1]:this.temporaryFromNode.location=this.isShiftLine[0])},e.prototype._changePortShape=function(t,e){this.isShiftLine&&!this.shiftSpot&&(t=null),t?e?this.temporaryToPort!==t&&(this.temporaryToPort.geometry=t.geometry,t.fill&&(this.temporaryToPort.fill="transparent"),t.part.data&&(this.temporaryToPort.part.data={category:t.part.data.category,portArray:t.part.data.portArray}),this.temporaryToPort.part.location=t.part.location.copy()):this.temporaryFromPort!==t&&(this.temporaryFromPort.geometry=t.geometry,t.fill&&(this.temporaryFromPort.fill="transparent"),t.part.data&&(this.temporaryFromPort.part.data={category:t.part.data.category,portArray:t.part.data.portArray}),this.temporaryFromPort.part.location=t.part.location.copy()):e?this.temporaryToPort.geometry&&(this.temporaryToPort.geometry=a.e.Shape.getFigureGenerators().get("Rectangle")(null,1,1),this.temporaryToPort.part.data=null,this.temporaryToPort.fill=null):this.temporaryFromPort.geometry&&(this.temporaryFromPort.geometry=a.e.Shape.getFigureGenerators().get("Rectangle")(null,1,1),this.temporaryFromPort.part.data=null,this.temporaryFromPort.fill=null)},e.prototype.findTargetPort=function(){return this.isShiftLine?null:a.e.LinkingBaseTool.prototype.findTargetPort.call(this)},e.prototype.findTargetPart=function(t,e){if(this.isShiftLine&&!this.shiftSpot&&!e)return null;const n=this.diagram;let i=n.lastInput.documentPoint;this.isShiftLine&&(i=this.isForwards?this.isShiftLine[1]:this.isShiftLine[0]);let o=this.portGravity;o<=0&&(o=.1);const r=this,s=n.findObjectsNear(i,o,(function(e){if(e.part instanceof a.e.Adornment)return null;if(e.part instanceof a.e.Link)return null;if(e&&e.part&&e.part.data&&e.part.data.category){if("image"===e.part.data.category&&"SHAPE"!==e.name)return null;const a=e.part.findPort("");return e.part.findObject("EMPTY")&&(t=>n.findObjectAt(i,t=>t.part,e=>e===t.part))(a)?null:r.findValidLinkablePort(a,t)?e.part:null}return null}),t=>!t.isLinkLabel||t===this.tempLabelNode,!0);return s.first()&&s.first().part&&s.first().part.data?s.first():null},e.prototype.findTargetLinkAsPort=function(t,e){if(this.isShiftLine&&!this.shiftSpot&&!e)return null;const n=this.diagram;let i=n.lastInput.documentPoint;this.isShiftLine&&(i=this.isForwards?this.isShiftLine[1]:this.isShiftLine[0]);const o=n.findObjectsNear(i,10,t=>t,t=>{const e=t.part;if(Object(l.c)(e).some(t=>t===this.temporaryLink))return!1;if(e===this.originalLink||e===this.temporaryLink)return!1;const n=this.temporaryLink.data.category||"";return e.category===n&&("LINK_SHAPE"===t.name&&e instanceof a.e.Link)},!0);return o.count?o.first():null},e.prototype._init=function(){this.lastTargetPort=null,this.beforeInner=!1,this.inner=!1,this.innerTimer=null,this.currentSpot=a.e.Spot.Default,this.startSpot=a.e.Spot.Default,this.mouseMoveNumber=0,this.lastAnchorAdornmentPort=null,this.tempLabelNode=null,this.diagram.setGridSnapEnabled(!1)},e.prototype._createTemporaryLink=function(){this.originalLink&&(this.temporaryLink=this.originalLink.copy());const t={routing:"Orthogonal",curve:"None",curviness:0,corner:0,stroke:_.s,strokeDashArray:null,strokeWidth:2,fromArrow:"none",toArrow:"SimpleTriangle",fromEndSegmentLength:T.a,toEndSegmentLength:T.h};this.diagram.model.modelData&&!isNaN(this.diagram.model.modelData.maxCellZorder)&&(t.zOrder=this.diagram.model.modelData.maxCellZorder+1);const e=this.originalLink?{...this.originalLink.data}:{...this.archetypeLinkData};e.layerName=this.diagram.currentLayerName||"",e.routing&&e.routing.name&&(e.routing=e.routing.name),e.curve&&e.curve.name&&(e.curve=e.curve.name),"Bezier"===e.curve||e.category||(this.diagram.pageSetting.pageOptions.linkJumpOver?e.curve="JumpOver":e.curve="None");for(const n of Object.entries(t))"strokeWidth"!==n[0]||0!==e[n[0]]?e[n[0]]=e[n[0]]||n[1]:e[n[0]]=.5;if(delete e.__gohashid,delete e.key,delete e.fromSpot,delete e.toSpot,delete e.points,this.temporaryLink.data={...e},this.originalRouting=e.routing||"Orthogonal",this.originalCurve=e.curve||"None",this.originalCurveness=e.curviness||0,this.originalLink){this.temporaryLink.data.toInner=this.originalLink.data.toInner,this.temporaryLink.data.fromInner=this.originalLink.data.fromInner;const t=this.originalLink.labelNodes;t.count&&(this.temporaryLink._tempLabelNodes=new a.e.Set,t.each(t=>{t.labeledLink=this.temporaryLink,this.temporaryLink._tempLabelNodes.add(t)}))}},e.prototype._changeTemporaryPort=function(){this.temporaryFromPort.stroke="transparent",this.temporaryToPort.stroke="transparent",this.temporaryFromPort.fill="transparent",this.temporaryToPort.fill="transparent",this.temporaryLink.fromSpot=a.e.Spot.Default,this.temporaryLink.toSpot=a.e.Spot.Default,this.temporaryFromPort.desiredSize=new a.e.Size(0,0),this.temporaryToPort.desiredSize=new a.e.Size(0,0)},e.prototype.copyTempLinkProperty=function(t){if(t.data){t.points=this.temporaryLink.points,this.inner||this.beforeInner?(this._setLinkSpot(t,"fromSpot",this.temporaryLink.fromSpot,this.temporaryLink.fromSpot),this._setLinkSpot(t,"toSpot",this.temporaryLink.toSpot)):(this._setLinkSpot(t,"fromSpot",this.temporaryLink._gravityFromSpot||this.temporaryLink.fromSpot),this._setLinkSpot(t,"toSpot",this.temporaryLink._gravityToSpot||this.temporaryLink.toSpot),this.temporaryLink._gravityFromSpot=null,this.temporaryLink._gravityToSpot=null,t._gravityFromSpot=null,t._gravityToSpot=null);const e=this.temporaryLink._tempLabelNodes;e&&e.count&&(e.each(e=>{e.labeledLink=t}),this.temporaryLink._tempLabelNodes=null);["reshaped","layerName","routing","curve","corner","curviness","fromEndSegmentLength","toEndSegmentLength","stroke","strokeDashArray","strokeWidth","fromArrow","toArrow","isShadowed","shadowAngle","shadowBlur","shadowColor","shadowDistance","shadowOffset"].forEach(e=>{this.diagram.model.setDataProperty(t.data,e,this.temporaryLink.data[e])})}},e.prototype.markInner=function(t){const e=t.data.fromInner,n=t.data.toInner;this.inner?this.isForwards?(t.data.toInner=!0,Object(l.a)(this.diagram,t.data,"toInner",n,t.data.toInner)):(t.data.fromInner=!0,Object(l.a)(this.diagram,t.data,"fromInner",e,t.data.fromInner)):this.isForwards?(t.data.toInner=!1,Object(l.a)(this.diagram,t.data,"toInner",n,t.data.toInner)):(t.data.fromInner=!1,Object(l.a)(this.diagram,t.data,"fromInner",e,t.data.fromInner))},e.prototype._setLinkSpot=function(t,e,n){if(n){const i=t||this.temporaryLink;i.data&&this.diagram.model.setDataProperty(i.data,e,a.e.Spot.stringify(n))}},e.prototype._addAnchorAdornment=function(t){if(!t)return;const e=t.findPort("");if(e&&t&&j(this.diagram,t)){if(this.lastAnchorAdornmentPort!==e){this.lastAnchorAdornmentPort&&this._removeAnchorAdornment();const e=t;if(!e.findAdornment("LinkingAdornment")){const t=Object(A.d)(e),n=e.findPort("");t.adornedObject=n,e.addAdornment("LinkingAdornment",t)}}this.lastAnchorAdornmentPort=e}else if(e&&t.isLinkLabel){const n=t;if(this.lastAnchorAdornmentPort!==e){this.lastAnchorAdornmentPort&&this._removeAnchorAdornment();const t=Object(A.b)(),e=n.findPort("");t.adornedObject=e,n.addAdornment("LinkingAdornment",t)}this.lastAnchorAdornmentPort=e}},e.prototype._removeAnchorAdornment=function(){if(this.lastAnchorAdornmentPort){var t,e,n,i,a;if(this.lastAnchorAdornmentPort.part.removeAdornment("LinkingAdornment"),null!==(t=this.lastAnchorAdornmentPort)&&void 0!==t&&null!==(e=t.part)&&void 0!==e&&e.data)null===(n=this.lastAnchorAdornmentPort)||void 0===n||(null===(i=n.part)||void 0===i||(null===(a=i.data)||void 0===a||delete a.borderDot));this.lastAnchorAdornmentPort=null}},e.prototype._removeAllAnchorAdornment=function(){this.diagram.nodes.each(t=>{t.findAdornment("LinkingAdornment")&&(t.removeAdornment("LinkingAdornment"),delete t.data.borderDot,t.updateTargetBindings(),t.ensureBounds()),t.findAdornment("cooperUserNameAdornment")&&t.removeAdornment("cooperUserNameAdornment")})},e.prototype._addStrokeAdornment=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){const n=t.part,i=Object(A.e)();i.adornedObject=t,n.addAdornment("mouseHoverAdornment",i),!e&&(this.lastTargetPort=t)}},e.prototype._removeTargetStrokeAdornment=function(){this.lastTargetPort&&this.lastTargetPort!==this.startObject&&(this.lastTargetPort.part.removeAdornment("mouseHoverAdornment"),this.lastTargetPort=null)},e.prototype._removeAllStrokeAdornment=function(t){this.diagram.nodes.each(t=>{t.removeAdornment("mouseHoverAdornment")})},e.prototype._setSpotProcess=function(t,e){const n=this.isForwards?"toSpot":"fromSpot",i=this.isForwards?"fromSpot":"toSpot";if(t){let{type:e,spot:o}=Object(Z.b)(this.diagram,t);this.isShiftLine&&this.shiftSpot?o=this.shiftSpot:this.isShiftLine&&!this.shiftSpot&&(o=null),this.currentSpot=o,"link"===e?(this.inner=!1,this.beforeInner=!1,clearTimeout(this.innerTimer),this._setLinkSpot(this.temporaryLink,n,o),this._setLinkSpot(this.temporaryLink,i,this.startSpot)):"onBorder"===e?(clearTimeout(this.innerTimer),this.inner=!1,this.beforeInner=!1,this._setLinkSpot(this.temporaryLink,i,this.startSpot),this._setLinkSpot(this.temporaryLink,n,o),this.markInner(this.temporaryLink),this._removeTargetStrokeAdornment()):"inner"===e&&(this.inner||this.lastAnchorAdornmentPort&&this.lastAnchorAdornmentPort!==t||this.mouseMoveNumber<3||t===this.startObject?(this.inner=!0,this.markInner(this.temporaryLink),this._setLinkSpot(this.temporaryLink,n,o),this._setLinkSpot(this.temporaryLink,i,this.startSpot),this._removeTargetStrokeAdornment()):this.beforeInner||(this.beforeInner=!0,this._setLinkSpot(null,"fromSpot",a.e.Spot.Default),this._setLinkSpot(null,"toSpot",a.e.Spot.Default),this._addStrokeAdornment(t),this.innerTimer=setTimeout(()=>{this.inner=!0,this.beforeInner=!1,this.markInner(this.temporaryLink),this._setLinkSpot(this.temporaryLink,n,this.currentSpot),this._setLinkSpot(this.temporaryLink,i,this.startSpot),this._removeTargetStrokeAdornment()},this.innerWaitTime)))}else this.inner=!1,this.beforeInner=!1,clearTimeout(this.innerTimer),this._setLinkSpot(this.temporaryLink,n,a.e.Spot.Default),this._removeTargetStrokeAdornment()},e.prototype._setTempLabelNode=function(t){let e=this.diagram.lastInput.documentPoint;this.isShiftLine&&(e=this.isForwards?this.isShiftLine[1]:this.isShiftLine[0]);const n=t.part,i=n.defaultFromPoint.copy(),a=n.defaultToPoint.copy();if(Math.sqrt(i.distanceSquaredPoint(e))<15||Math.sqrt(a.distanceSquaredPoint(e))<15)return;if(!this.tempLabelNode){const t={category:"JointLabel",computeAngle:!0};this.diagram.model.addNodeData(t),this.tempLabelNode=this.diagram.findNodeForData(t)}this.tempLabelNode.labeledLink=n;const o=n.path.getLocalPoint(e),r=n.path.geometry.getFractionForPoint(o);return this.diagram.model.set(this.tempLabelNode.data,"segmentFraction",r),n.fromShortLength&&Object(N.R)(this.tempLabelNode,n),this.tempLabelNode},e.prototype._removeTempLabelNode=function(t){this.tempLabelNode&&(this.diagram.remove(this.tempLabelNode),this.tempLabelNode=null)},e},J=n(50),Q=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function tt(t,e){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}var et=Array.isArray;function nt(t){return null!==t&&"object"==typeof t}function it(t){return"string"==typeof t}var at=Object.prototype.toString;function ot(t){return"[object Object]"===at.call(t)}function rt(t){return null==t}function st(t){return"function"==typeof t}function lt(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=null,i=null;return 1===t.length?nt(t[0])||et(t[0])?i=t[0]:"string"==typeof t[0]&&(n=t[0]):2===t.length&&("string"==typeof t[0]&&(n=t[0]),(nt(t[1])||et(t[1]))&&(i=t[1])),{locale:n,params:i}}function ct(t){return JSON.parse(JSON.stringify(t))}function ht(t,e){return!!~t.indexOf(e)}var dt=Object.prototype.hasOwnProperty;function ut(t,e){return dt.call(t,e)}function ft(t){for(var e=arguments,n=Object(t),i=1;i<arguments.length;i++){var a=e[i];if(null!=a){var o=void 0;for(o in a)ut(a,o)&&(nt(a[o])?n[o]=ft(n[o],a[o]):n[o]=a[o])}}return n}function pt(t,e){if(t===e)return!0;var n=nt(t),i=nt(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var a=et(t),o=et(e);if(a&&o)return t.length===e.length&&t.every((function(t,n){return pt(t,e[n])}));if(a||o)return!1;var r=Object.keys(t),s=Object.keys(e);return r.length===s.length&&r.every((function(n){return pt(t[n],e[n])}))}catch(t){return!1}}function gt(t){return null!=t&&Object.keys(t).forEach((function(e){"string"==typeof t[e]&&(t[e]=t[e].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))})),t}var mt={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(t,e){var n=e.data,i=e.parent,a=e.props,o=e.slots,r=i.$i18n;if(r){var s=a.path,l=a.locale,c=a.places,h=o(),d=r.i(s,l,function(t){var e;for(e in t)if("default"!==e)return!1;return Boolean(e)}(h)||c?function(t,e){var n=e?function(t){0;return Array.isArray(t)?t.reduce(vt,{}):Object.assign({},t)}(e):{};if(!t)return n;var i=(t=t.filter((function(t){return t.tag||""!==t.text.trim()}))).every(wt);0;return t.reduce(i?yt:vt,n)}(h.default,c):h),u=a.tag&&!0!==a.tag||!1===a.tag?a.tag:"span";return u?t(u,n,d):d}}};function yt(t,e){return e.data&&e.data.attrs&&e.data.attrs.place&&(t[e.data.attrs.place]=e),t}function vt(t,e,n){return t[n]=e,t}function wt(t){return Boolean(t.data&&t.data.attrs&&t.data.attrs.place)}var xt,bt={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(t,e){var n=e.props,i=e.parent,a=e.data,o=i.$i18n;if(!o)return null;var r=null,s=null;it(n.format)?r=n.format:nt(n.format)&&(n.format.key&&(r=n.format.key),s=Object.keys(n.format).reduce((function(t,e){var i;return ht(Q,e)?Object.assign({},t,((i={})[e]=n.format[e],i)):t}),null));var l=n.locale||o.locale,c=o._ntp(n.value,l,r,s),h=c.map((function(t,e){var n,i=a.scopedSlots&&a.scopedSlots[t.type];return i?i(((n={})[t.type]=t.value,n.index=e,n.parts=c,n)):t.value})),d=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return d?t(d,{attrs:a.attrs,class:a.class,staticClass:a.staticClass},h):h}};function St(t,e,n){Mt(t,n)&&_t(t,e,n)}function kt(t,e,n,i){if(Mt(t,n)){var a=n.context.$i18n;(function(t,e){var n=e.context;return t._locale===n.$i18n.locale})(t,n)&&pt(e.value,e.oldValue)&&pt(t._localeMessage,a.getLocaleMessage(a.locale))||_t(t,e,n)}}function Pt(t,e,n,i){if(n.context){var a=n.context.$i18n||{};e.modifiers.preserve||a.preserveDirectiveContent||(t.textContent=""),t._vt=void 0,delete t._vt,t._locale=void 0,delete t._locale,t._localeMessage=void 0,delete t._localeMessage}else tt("Vue instance does not exists in VNode context")}function Mt(t,e){var n=e.context;return n?!!n.$i18n||(tt("VueI18n instance does not exists in Vue instance"),!1):(tt("Vue instance does not exists in VNode context"),!1)}function _t(t,e,n){var i,a,o=function(t){var e,n,i,a;it(t)?e=t:ot(t)&&(e=t.path,n=t.locale,i=t.args,a=t.choice);return{path:e,locale:n,args:i,choice:a}}(e.value),r=o.path,s=o.locale,l=o.args,c=o.choice;if(r||s||l)if(r){var h=n.context;t._vt=t.textContent=null!=c?(i=h.$i18n).tc.apply(i,[r,c].concat(Lt(s,l))):(a=h.$i18n).t.apply(a,[r].concat(Lt(s,l))),t._locale=h.$i18n.locale,t._localeMessage=h.$i18n.getLocaleMessage(h.$i18n.locale)}else tt("`path` is required in v-t directive");else tt("value type not supported")}function Lt(t,e){var n=[];return t&&n.push(t),e&&(Array.isArray(e)||ot(e))&&n.push(e),n}function Tt(t,e){void 0===e&&(e={bridge:!1}),Tt.installed=!0;(xt=t).version&&Number(xt.version.split(".")[0]);(function(t){t.prototype.hasOwnProperty("$i18n")||Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=this.$i18n;return i._t.apply(i,[t,i.locale,i._getMessages(),this].concat(e))},t.prototype.$tc=function(t,e){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];var a=this.$i18n;return a._tc.apply(a,[t,a.locale,a._getMessages(),this,e].concat(n))},t.prototype.$te=function(t,e){var n=this.$i18n;return n._te(t,n.locale,n._getMessages(),e)},t.prototype.$d=function(t){for(var e,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return(e=this.$i18n).d.apply(e,[t].concat(n))},t.prototype.$n=function(t){for(var e,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return(e=this.$i18n).n.apply(e,[t].concat(n))}})(xt),xt.mixin(function(t){function e(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===t&&(t=!1),t?{mounted:e}:{beforeCreate:function(){var t=this.$options;if(t.i18n=t.i18n||(t.__i18nBridge||t.__i18n?{}:null),t.i18n)if(t.i18n instanceof Ut){if(t.__i18nBridge||t.__i18n)try{var e=t.i18n&&t.i18n.messages?t.i18n.messages:{};(t.__i18nBridge||t.__i18n).forEach((function(t){e=ft(e,JSON.parse(t))})),Object.keys(e).forEach((function(n){t.i18n.mergeLocaleMessage(n,e[n])}))}catch(t){0}this._i18n=t.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(ot(t.i18n)){var n=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Ut?this.$root.$i18n:null;if(n&&(t.i18n.root=this.$root,t.i18n.formatter=n.formatter,t.i18n.fallbackLocale=n.fallbackLocale,t.i18n.formatFallbackMessages=n.formatFallbackMessages,t.i18n.silentTranslationWarn=n.silentTranslationWarn,t.i18n.silentFallbackWarn=n.silentFallbackWarn,t.i18n.pluralizationRules=n.pluralizationRules,t.i18n.preserveDirectiveContent=n.preserveDirectiveContent),t.__i18nBridge||t.__i18n)try{var i=t.i18n&&t.i18n.messages?t.i18n.messages:{};(t.__i18nBridge||t.__i18n).forEach((function(t){i=ft(i,JSON.parse(t))})),t.i18n.messages=i}catch(t){0}var a=t.i18n.sharedMessages;a&&ot(a)&&(t.i18n.messages=ft(t.i18n.messages,a)),this._i18n=new Ut(t.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===t.i18n.sync||t.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),n&&n.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Ut?this._i18n=this.$root.$i18n:t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof Ut&&(this._i18n=t.parent.$i18n)},beforeMount:function(){var t=this.$options;t.i18n=t.i18n||(t.__i18nBridge||t.__i18n?{}:null),t.i18n?(t.i18n instanceof Ut||ot(t.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Ut||t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof Ut)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:e,beforeDestroy:function(){if(this._i18n){var t=this;this.$nextTick((function(){t._subscribing&&(t._i18n.unsubscribeDataChanging(t),delete t._subscribing),t._i18nWatcher&&(t._i18nWatcher(),t._i18n.destroyVM(),delete t._i18nWatcher),t._localeWatcher&&(t._localeWatcher(),delete t._localeWatcher)}))}}}}(e.bridge)),xt.directive("t",{bind:St,update:kt,unbind:Pt}),xt.component(mt.name,mt),xt.component(bt.name,bt),xt.config.optionMergeStrategies.i18n=function(t,e){return void 0===e?t:e}}var Ot=function(){this._caches=Object.create(null)};Ot.prototype.interpolate=function(t,e){if(!e)return[t];var n=this._caches[t];return n||(n=function(t){var e=[],n=0,i="";for(;n<t.length;){var a=t[n++];if("{"===a){i&&e.push({type:"text",value:i}),i="";var o="";for(a=t[n++];void 0!==a&&"}"!==a;)o+=a,a=t[n++];var r="}"===a,s=At.test(o)?"list":r&&Et.test(o)?"named":"unknown";e.push({value:o,type:s})}else"%"===a?"{"!==t[n]&&(i+=a):i+=a}return i&&e.push({type:"text",value:i}),e}(t),this._caches[t]=n),function(t,e){var n=[],i=0,a=Array.isArray(e)?"list":nt(e)?"named":"unknown";if("unknown"===a)return n;for(;i<t.length;){var o=t[i];switch(o.type){case"text":n.push(o.value);break;case"list":n.push(e[parseInt(o.value,10)]);break;case"named":"named"===a&&n.push(e[o.value]);break;case"unknown":0}i++}return n}(n,e)};var At=/^(?:\d)+/,Et=/^(?:\w)+/;var Ct=[];Ct[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},Ct[1]={ws:[1],".":[2],"[":[4],eof:[7]},Ct[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},Ct[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},Ct[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},Ct[5]={"'":[4,0],eof:8,else:[5,0]},Ct[6]={'"':[4,0],eof:8,else:[6,0]};var Nt=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Bt(t){if(null==t)return"eof";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function jt(t){var e,n,i,a=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(i=a,Nt.test(i)?(n=(e=a).charCodeAt(0))!==e.charCodeAt(e.length-1)||34!==n&&39!==n?e:e.slice(1,-1):"*"+a)}var Dt=function(){this._cache=Object.create(null)};Dt.prototype.parsePath=function(t){var e=this._cache[t];return e||(e=function(t){var e,n,i,a,o,r,s,l=[],c=-1,h=0,d=0,u=[];function f(){var e=t[c+1];if(5===h&&"'"===e||6===h&&'"'===e)return c++,i="\\"+e,u[0](),!0}for(u[1]=function(){void 0!==n&&(l.push(n),n=void 0)},u[0]=function(){void 0===n?n=i:n+=i},u[2]=function(){u[0](),d++},u[3]=function(){if(d>0)d--,h=4,u[0]();else{if(d=0,void 0===n)return!1;if(!1===(n=jt(n)))return!1;u[1]()}};null!==h;)if(c++,"\\"!==(e=t[c])||!f()){if(a=Bt(e),8===(o=(s=Ct[h])[a]||s.else||8))return;if(h=o[0],(r=u[o[1]])&&(i=void 0===(i=o[2])?e:i,!1===r()))return;if(7===h)return l}}(t))&&(this._cache[t]=e),e||[]},Dt.prototype.getPathValue=function(t,e){if(!nt(t))return null;var n=this.parsePath(e);if(0===n.length)return null;for(var i=n.length,a=t,o=0;o<i;){var r=a[n[o]];if(null==r)return null;a=r,o++}return a};var Ft,Rt=/<\/?[\w\s="/.':;#-\/]+>/,It=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,zt=/^@(?:\.([a-zA-Z]+))?:/,Ht=/[()]/g,Vt={upper:function(t){return t.toLocaleUpperCase()},lower:function(t){return t.toLocaleLowerCase()},capitalize:function(t){return""+t.charAt(0).toLocaleUpperCase()+t.substr(1)}},Gt=new Ot,Ut=function(t){var e=this;void 0===t&&(t={}),!xt&&"undefined"!=typeof window&&window.Vue&&Tt(window.Vue);var n=t.locale||"en-US",i=!1!==t.fallbackLocale&&(t.fallbackLocale||"en-US"),a=t.messages||{},o=t.dateTimeFormats||t.datetimeFormats||{},r=t.numberFormats||{};this._vm=null,this._formatter=t.formatter||Gt,this._modifiers=t.modifiers||{},this._missing=t.missing||null,this._root=t.root||null,this._sync=void 0===t.sync||!!t.sync,this._fallbackRoot=void 0===t.fallbackRoot||!!t.fallbackRoot,this._fallbackRootWithEmptyString=void 0===t.fallbackRootWithEmptyString||!!t.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==t.formatFallbackMessages&&!!t.formatFallbackMessages,this._silentTranslationWarn=void 0!==t.silentTranslationWarn&&t.silentTranslationWarn,this._silentFallbackWarn=void 0!==t.silentFallbackWarn&&!!t.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new Dt,this._dataListeners=new Set,this._componentInstanceCreatedListener=t.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==t.preserveDirectiveContent&&!!t.preserveDirectiveContent,this.pluralizationRules=t.pluralizationRules||{},this._warnHtmlInMessage=t.warnHtmlInMessage||"off",this._postTranslation=t.postTranslation||null,this._escapeParameterHtml=t.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in t&&(this.__VUE_I18N_BRIDGE__=t.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(t,n){var i=Object.getPrototypeOf(e);if(i&&i.getChoiceIndex)return i.getChoiceIndex.call(e,t,n);var a,o;return e.locale in e.pluralizationRules?e.pluralizationRules[e.locale].apply(e,[t,n]):(a=t,o=n,a=Math.abs(a),2===o?a?a>1?1:0:1:a?Math.min(a,2):0)},this._exist=function(t,n){return!(!t||!n)&&(!rt(e._path.getPathValue(t,n))||!!t[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(a).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,a[t])})),this._initVM({locale:n,fallbackLocale:i,messages:a,dateTimeFormats:o,numberFormats:r})},Wt={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};Ut.prototype._checkLocaleMessage=function(t,e,n){var i=function(t,e,n,a){if(ot(n))Object.keys(n).forEach((function(o){var r=n[o];ot(r)?(a.push(o),a.push("."),i(t,e,r,a),a.pop(),a.pop()):(a.push(o),i(t,e,r,a),a.pop())}));else if(et(n))n.forEach((function(n,o){ot(n)?(a.push("["+o+"]"),a.push("."),i(t,e,n,a),a.pop(),a.pop()):(a.push("["+o+"]"),i(t,e,n,a),a.pop())}));else if(it(n)){if(Rt.test(n)){var o="Detected HTML in message '"+n+"' of keypath '"+a.join("")+"' at '"+e+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===t?tt(o):"error"===t&&function(t,e){"undefined"!=typeof console&&(console.error("[vue-i18n] "+t),e&&console.error(e.stack))}(o)}}};i(e,t,n,[])},Ut.prototype._initVM=function(t){var e=xt.config.silent;xt.config.silent=!0,this._vm=new xt({data:t,__VUE18N__INSTANCE__:!0}),xt.config.silent=e},Ut.prototype.destroyVM=function(){this._vm.$destroy()},Ut.prototype.subscribeDataChanging=function(t){this._dataListeners.add(t)},Ut.prototype.unsubscribeDataChanging=function(t){!function(t,e){if(t.delete(e));}(this._dataListeners,t)},Ut.prototype.watchI18nData=function(){var t=this;return this._vm.$watch("$data",(function(){for(var e,n,i=(e=t._dataListeners,n=[],e.forEach((function(t){return n.push(t)})),n),a=i.length;a--;)xt.nextTick((function(){i[a]&&i[a].$forceUpdate()}))}),{deep:!0})},Ut.prototype.watchLocale=function(t){if(t){if(!this.__VUE_I18N_BRIDGE__)return null;var e=this,n=this._vm;return this.vm.$watch("locale",(function(i){n.$set(n,"locale",i),e.__VUE_I18N_BRIDGE__&&t&&(t.locale.value=i),n.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var i=this._vm;return this._root.$i18n.vm.$watch("locale",(function(t){i.$set(i,"locale",t),i.$forceUpdate()}),{immediate:!0})},Ut.prototype.onComponentInstanceCreated=function(t){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(t,this)},Wt.vm.get=function(){return this._vm},Wt.messages.get=function(){return ct(this._getMessages())},Wt.dateTimeFormats.get=function(){return ct(this._getDateTimeFormats())},Wt.numberFormats.get=function(){return ct(this._getNumberFormats())},Wt.availableLocales.get=function(){return Object.keys(this.messages).sort()},Wt.locale.get=function(){return this._vm.locale},Wt.locale.set=function(t){this._vm.$set(this._vm,"locale",t)},Wt.fallbackLocale.get=function(){return this._vm.fallbackLocale},Wt.fallbackLocale.set=function(t){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",t)},Wt.formatFallbackMessages.get=function(){return this._formatFallbackMessages},Wt.formatFallbackMessages.set=function(t){this._formatFallbackMessages=t},Wt.missing.get=function(){return this._missing},Wt.missing.set=function(t){this._missing=t},Wt.formatter.get=function(){return this._formatter},Wt.formatter.set=function(t){this._formatter=t},Wt.silentTranslationWarn.get=function(){return this._silentTranslationWarn},Wt.silentTranslationWarn.set=function(t){this._silentTranslationWarn=t},Wt.silentFallbackWarn.get=function(){return this._silentFallbackWarn},Wt.silentFallbackWarn.set=function(t){this._silentFallbackWarn=t},Wt.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},Wt.preserveDirectiveContent.set=function(t){this._preserveDirectiveContent=t},Wt.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},Wt.warnHtmlInMessage.set=function(t){var e=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=t,n!==t&&("warn"===t||"error"===t)){var i=this._getMessages();Object.keys(i).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,i[t])}))}},Wt.postTranslation.get=function(){return this._postTranslation},Wt.postTranslation.set=function(t){this._postTranslation=t},Wt.sync.get=function(){return this._sync},Wt.sync.set=function(t){this._sync=t},Ut.prototype._getMessages=function(){return this._vm.messages},Ut.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},Ut.prototype._getNumberFormats=function(){return this._vm.numberFormats},Ut.prototype._warnDefault=function(t,e,n,i,a,o){if(!rt(n))return n;if(this._missing){var r=this._missing.apply(null,[t,e,i,a]);if(it(r))return r}else 0;if(this._formatFallbackMessages){var s=lt.apply(void 0,a);return this._render(e,o,s.params,e)}return e},Ut.prototype._isFallbackRoot=function(t){return(this._fallbackRootWithEmptyString?!t:rt(t))&&!rt(this._root)&&this._fallbackRoot},Ut.prototype._isSilentFallbackWarn=function(t){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(t):this._silentFallbackWarn},Ut.prototype._isSilentFallback=function(t,e){return this._isSilentFallbackWarn(e)&&(this._isFallbackRoot()||t!==this.fallbackLocale)},Ut.prototype._isSilentTranslationWarn=function(t){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(t):this._silentTranslationWarn},Ut.prototype._interpolate=function(t,e,n,i,a,o,r){if(!e)return null;var s,l=this._path.getPathValue(e,n);if(et(l)||ot(l))return l;if(rt(l)){if(!ot(e))return null;if(!it(s=e[n])&&!st(s))return null}else{if(!it(l)&&!st(l))return null;s=l}return it(s)&&(s.indexOf("@:")>=0||s.indexOf("@.")>=0)&&(s=this._link(t,e,s,i,"raw",o,r)),this._render(s,a,o,n)},Ut.prototype._link=function(t,e,n,i,a,o,r){var s=n,l=s.match(It);for(var c in l)if(l.hasOwnProperty(c)){var h=l[c],d=h.match(zt),u=d[0],f=d[1],p=h.replace(u,"").replace(Ht,"");if(ht(r,p))return s;r.push(p);var g=this._interpolate(t,e,p,i,"raw"===a?"string":a,"raw"===a?void 0:o,r);if(this._isFallbackRoot(g)){if(!this._root)throw Error("unexpected error");var m=this._root.$i18n;g=m._translate(m._getMessages(),m.locale,m.fallbackLocale,p,i,a,o)}g=this._warnDefault(t,p,g,i,et(o)?o:[o],a),this._modifiers.hasOwnProperty(f)?g=this._modifiers[f](g):Vt.hasOwnProperty(f)&&(g=Vt[f](g)),r.pop(),s=g?s.replace(h,g):s}return s},Ut.prototype._createMessageContext=function(t,e,n,i){var a=this,o=et(t)?t:[],r=nt(t)?t:{},s=this._getMessages(),l=this.locale;return{list:function(t){return o[t]},named:function(t){return r[t]},values:t,formatter:e,path:n,messages:s,locale:l,linked:function(t){return a._interpolate(l,s[l]||{},t,null,i,void 0,[t])}}},Ut.prototype._render=function(t,e,n,i){if(st(t))return t(this._createMessageContext(n,this._formatter||Gt,i,e));var a=this._formatter.interpolate(t,n,i);return a||(a=Gt.interpolate(t,n,i)),"string"!==e||it(a)?a:a.join("")},Ut.prototype._appendItemToChain=function(t,e,n){var i=!1;return ht(t,e)||(i=!0,e&&(i="!"!==e[e.length-1],e=e.replace(/!/g,""),t.push(e),n&&n[e]&&(i=n[e]))),i},Ut.prototype._appendLocaleToChain=function(t,e,n){var i,a=e.split("-");do{var o=a.join("-");i=this._appendItemToChain(t,o,n),a.splice(-1,1)}while(a.length&&!0===i);return i},Ut.prototype._appendBlockToChain=function(t,e,n){for(var i=!0,a=0;a<e.length&&"boolean"==typeof i;a++){var o=e[a];it(o)&&(i=this._appendLocaleToChain(t,o,n))}return i},Ut.prototype._getLocaleChain=function(t,e){if(""===t)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[t];if(!n){e||(e=this.fallbackLocale),n=[];for(var i,a=[t];et(a);)a=this._appendBlockToChain(n,a,e);(a=it(i=et(e)?e:nt(e)?e.default?e.default:null:e)?[i]:i)&&this._appendBlockToChain(n,a,null),this._localeChainCache[t]=n}return n},Ut.prototype._translate=function(t,e,n,i,a,o,r){for(var s,l=this._getLocaleChain(e,n),c=0;c<l.length;c++){var h=l[c];if(!rt(s=this._interpolate(h,t[h],i,a,o,r,[i])))return s}return null},Ut.prototype._t=function(t,e,n,i){for(var a,o=[],r=arguments.length-4;r-- >0;)o[r]=arguments[r+4];if(!t)return"";var s=lt.apply(void 0,o);this._escapeParameterHtml&&(s.params=gt(s.params));var l=s.locale||e,c=this._translate(n,l,this.fallbackLocale,t,i,"string",s.params);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return(a=this._root).$t.apply(a,[t].concat(o))}return c=this._warnDefault(l,t,c,i,o,"string"),this._postTranslation&&null!=c&&(c=this._postTranslation(c,t)),c},Ut.prototype.t=function(t){for(var e,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return(e=this)._t.apply(e,[t,this.locale,this._getMessages(),null].concat(n))},Ut.prototype._i=function(t,e,n,i,a){var o=this._translate(n,e,this.fallbackLocale,t,i,"raw",a);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(t,e,a)}return this._warnDefault(e,t,o,i,[a],"raw")},Ut.prototype.i=function(t,e,n){return t?(it(e)||(e=this.locale),this._i(t,e,this._getMessages(),null,n)):""},Ut.prototype._tc=function(t,e,n,i,a){for(var o,r=[],s=arguments.length-5;s-- >0;)r[s]=arguments[s+5];if(!t)return"";void 0===a&&(a=1);var l={count:a,n:a},c=lt.apply(void 0,r);return c.params=Object.assign(l,c.params),r=null===c.locale?[c.params]:[c.locale,c.params],this.fetchChoice((o=this)._t.apply(o,[t,e,n,i].concat(r)),a)},Ut.prototype.fetchChoice=function(t,e){if(!t||!it(t))return null;var n=t.split("|");return n[e=this.getChoiceIndex(e,n.length)]?n[e].trim():t},Ut.prototype.tc=function(t,e){for(var n,i=[],a=arguments.length-2;a-- >0;)i[a]=arguments[a+2];return(n=this)._tc.apply(n,[t,this.locale,this._getMessages(),null,e].concat(i))},Ut.prototype._te=function(t,e,n){for(var i=[],a=arguments.length-3;a-- >0;)i[a]=arguments[a+3];var o=lt.apply(void 0,i).locale||e;return this._exist(n[o],t)},Ut.prototype.te=function(t,e){return this._te(t,this.locale,this._getMessages(),e)},Ut.prototype.getLocaleMessage=function(t){return ct(this._vm.messages[t]||{})},Ut.prototype.setLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,e)},Ut.prototype.mergeLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,ft(void 0!==this._vm.messages[t]&&Object.keys(this._vm.messages[t]).length?Object.assign({},this._vm.messages[t]):{},e))},Ut.prototype.getDateTimeFormat=function(t){return ct(this._vm.dateTimeFormats[t]||{})},Ut.prototype.setDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,e),this._clearDateTimeFormat(t,e)},Ut.prototype.mergeDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,ft(this._vm.dateTimeFormats[t]||{},e)),this._clearDateTimeFormat(t,e)},Ut.prototype._clearDateTimeFormat=function(t,e){for(var n in e){var i=t+"__"+n;this._dateTimeFormatters.hasOwnProperty(i)&&delete this._dateTimeFormatters[i]}},Ut.prototype._localizeDateTime=function(t,e,n,i,a){for(var o=e,r=i[o],s=this._getLocaleChain(e,n),l=0;l<s.length;l++){var c=s[l];if(o=c,!rt(r=i[c])&&!rt(r[a]))break}if(rt(r)||rt(r[a]))return null;var h=r[a],d=o+"__"+a,u=this._dateTimeFormatters[d];return u||(u=this._dateTimeFormatters[d]=new Intl.DateTimeFormat(o,h)),u.format(t)},Ut.prototype._d=function(t,e,n){if(!n)return new Intl.DateTimeFormat(e).format(t);var i=this._localizeDateTime(t,e,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(i)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(t,n,e)}return i||""},Ut.prototype.d=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=this.locale,a=null;return 1===e.length?it(e[0])?a=e[0]:nt(e[0])&&(e[0].locale&&(i=e[0].locale),e[0].key&&(a=e[0].key)):2===e.length&&(it(e[0])&&(a=e[0]),it(e[1])&&(i=e[1])),this._d(t,i,a)},Ut.prototype.getNumberFormat=function(t){return ct(this._vm.numberFormats[t]||{})},Ut.prototype.setNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,e),this._clearNumberFormat(t,e)},Ut.prototype.mergeNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,ft(this._vm.numberFormats[t]||{},e)),this._clearNumberFormat(t,e)},Ut.prototype._clearNumberFormat=function(t,e){for(var n in e){var i=t+"__"+n;this._numberFormatters.hasOwnProperty(i)&&delete this._numberFormatters[i]}},Ut.prototype._getNumberFormatter=function(t,e,n,i,a,o){for(var r=e,s=i[r],l=this._getLocaleChain(e,n),c=0;c<l.length;c++){var h=l[c];if(r=h,!rt(s=i[h])&&!rt(s[a]))break}if(rt(s)||rt(s[a]))return null;var d,u=s[a];if(o)d=new Intl.NumberFormat(r,Object.assign({},u,o));else{var f=r+"__"+a;(d=this._numberFormatters[f])||(d=this._numberFormatters[f]=new Intl.NumberFormat(r,u))}return d},Ut.prototype._n=function(t,e,n,i){if(!Ut.availabilities.numberFormat)return"";if(!n)return(i?new Intl.NumberFormat(e,i):new Intl.NumberFormat(e)).format(t);var a=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),n,i),o=a&&a.format(t);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(t,Object.assign({},{key:n,locale:e},i))}return o||""},Ut.prototype.n=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=this.locale,a=null,o=null;return 1===e.length?it(e[0])?a=e[0]:nt(e[0])&&(e[0].locale&&(i=e[0].locale),e[0].key&&(a=e[0].key),o=Object.keys(e[0]).reduce((function(t,n){var i;return ht(Q,n)?Object.assign({},t,((i={})[n]=e[0][n],i)):t}),null)):2===e.length&&(it(e[0])&&(a=e[0]),it(e[1])&&(i=e[1])),this._n(t,i,a,o)},Ut.prototype._ntp=function(t,e,n,i){if(!Ut.availabilities.numberFormat)return[];if(!n)return(i?new Intl.NumberFormat(e,i):new Intl.NumberFormat(e)).formatToParts(t);var a=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),n,i),o=a&&a.formatToParts(t);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(t,e,n,i)}return o||[]},Object.defineProperties(Ut.prototype,Wt),Object.defineProperty(Ut,"availabilities",{get:function(){if(!Ft){var t="undefined"!=typeof Intl;Ft={dateTimeFormat:t&&void 0!==Intl.DateTimeFormat,numberFormat:t&&void 0!==Intl.NumberFormat}}return Ft}}),Ut.install=Tt,Ut.version="8.27.2";var qt=Ut;J.a.use(qt);var Yt=new qt({locale:"zh-CN",fallbackLocale:"zh-CN",messages:{"zh-CN":{COMMON_PLEASE_ENTER_THE_NUMBER:"请输入数字",COMMON_PLEASE_ENTER_A_DECIMAL:"请输入小数",DMV_CICLASS_NOT_EMPTY:"CI分类不可为空",COMMON_PLEASE_SELECT_CI_CLASSIFICATION:"请选择CI分类",COMMON_NO_DATA:"暂无数据",COMMON_PLEASE_ENTER:"请输入",DMV_PLEASE_SELECT_ITEM:"请选择",COMMON_COPY:"复制",COMMON_CANCEL:"取消",COMMON_FONT_COLOR:"文本颜色",DMV_INSERT_PICTURE:"插入图片",DMV_LINE_TYPE:"线条类型",COMMON_FILL_COLOR:"填充颜色",COMMON_CONFIRM:"确认",EMV_AT_THE_BOTTOM:"置于底层",DMV_LINE_COLOR:"线条颜色",BASE_SETTINGS_ICON:"图标",COMMON_RENAME:"重命名",DMV_FORMAT_BRUSH:"格式刷",COMMON_DELETE:"删除",COMMON_UNDO:"撤销",COMMON_RESTORE:"恢复",COMMON_CUT:"剪切",DMV_PASTE:"粘贴",EMV_FONT_LAYOUT:"文本布局",DCV_BOLD:"粗体",EMV_ON_TOP:"置于顶层",DMV_ARROW_REVERSAL:"箭头反向",DMV_ITALIC:"斜体",COMMON_UNDERLINE:"下划线",COMMON_LOAD_MORE:"加载更多",COMMON_SIGN_OUT:"退出登录",DMV_CONTAINER_FILL:"容器填充",DMV_INTERNAL_FILL:"内部填充",DMV_COMBINATION:"组合",DMV_UNGROUP:"取消组合",DMV_EXPAND_FIRST:"请先展开",DMV_NO_VIEW_YET:"暂无视图",DMV_NO_TEMPLATE:"暂无模板",COMMON_MORE:"更多",COMMON_NOT_NULLABLE:"不可为空",COMMON_SEARCH_ICON:"搜索图标",COMMON_TARGET_PRIMARY_KEY:"目标业务主键",COMMON_TARGET_CLASSIFICATION:"目标分类",COMMON_ORIGINAL_PRIMARY_KEY:"源业务主键",COMMON_SOURCE_CLASSIFICATION:"源分类",COMMON_FONT_SIZE:"字体大小",COMMON_S_PORT_ARROW_STYLE:"源端箭头样式",COMMON_D_PORT_ARROW_STYLE:"目标端箭头样式",Standard:"标准",Text:"文本",Block:"方块","Sticky Note":"便签",Slides:"幻灯片",Hotspot:"热区",Line:"直线",Shapes:"几何图形",Rectangle:"矩形","Isosceles Triangle":"等腰三角形","Right Triangle":"直角三角形",Pentagon:"五边形",Hexagon:"六边形",Octagon:"八边形",Cross:"十字形",Cloud:"云","Right Arrow":"右箭头","Down Arrow":"下箭头","Left Arrow":"左箭头","Up Arrow":"上箭头","Double Arrow East-West":"左右箭头","Double Arrow North-South":"上下箭头",Circle:"圆形",Star:"五角星",Diamond:"菱形",Flowchart:"流程图",Process:"流程",Decision:"判断",Teminator:"开始/结束","Predifined Process":"子流程",Document:"文档","Multiple Documents":"多文档","Manual Input":"人工输入",Preparation:"预备","Data(I/O)":"数据",DataBase:"数据库","Internal Storage":"内部存储","Paper Tape":"条带","Manual Operation":"人工操作",Delay:"推迟","Stored Data":"存储数据",Merge:"合并",Connector:"页面内引用",Or:"或","Summing Junction":"求和",Display:"显示","Curly Brace Note":"花括号注释",Note:"注释",Containers:"容器","Swim Lane":"垂直泳道","Swim Lane Horizontal":"水平泳道","Rectangle Container":"矩形容器","Diamond Container":"菱形容器","Rounded Rectangle Container":"圆角矩形容器","Circle Container":"圆形容器","Pill Container":"圆柱容器","Double Brace Horizontal":"水平花括号容器","Double Bracket Horizontal":"水平括号容器","Double Brace":"垂直花括号容器","Double Bracket":"垂直括号容器",Task:"任务",Transaction:"事件","Event Sub-Process":"事件子流程","Call Activity":"调用子流程","Start Event":"开始事件","Intermediate Event":"中间事件","End Event":"结束事件",Gateway:"网关",Conversation:"对话","Data Object":"数据对象","Data Store":"数据存储",Pool:"泳道","Pool (Black Box)":"池",Group:"组","Text Annotation":"文本注释",Lanes:"泳道 | 泳道数量",Orientation:"泳道方向","Text Orientation":"文字方向",Lane:"泳道颜色 | 道",Activity:"活动","Task Types":"任务类型","Activity Marker":"活动标识",None:"无",Send:"发送任务",Receive:"接收任务",User:"用户任务",Manual:"手工任务","Business Rule":"业务规则任务",Service:"服务任务",Script:"脚本任务",Loop:"循环","Parallel MI":"循环并行","Sequential MI":"循环连续","Ad Hoc":"即席",Compensation:"补偿","Event Group":"事件群组","Event Type":"事件类型","Non-Interrupting":"非中断",Throwing:"抛出",Start:"开始 | 开始事件",Intermediate:"中间事件",End:"结束 | 结束事件","UML Class Dgm":"UML类图",Class:"类","Active Class":"活动类","Simple Class":"简单类",Interface:"接口","Simple Interface":"简单接口",Multiplicity:"多例类",Package:"包",Constraint:"约束","UML Use Case":"用例图",Actor:"角色","Use Case":"用例","Oval Container":"椭圆容器","UML State/Activity":"状态/活动图","Option Loop":"选择循环","State Name":"状态","Composite State":"复合状态","Off-Page Activity":"线下活动","Branch/Merge":"分支","Horizontal Fork/Join":"水平连接","Vertical Fork/Join":"垂直连接","Flow Final":"流终止","History Pseudostate":"历史状态",Object:"对象","Send Signal":"发送信号","Receive Signal":"接收信号","Accept Time Event Action":"时间信号","UML Squence":"时序图",LifeLine:"生命线",Activation:"激活",Deletion:"删除","Option Loop Condition":"条件循环",Alternative:"判断",Entity:"实体",Boundary:"绑定",Control:"控制","UML Component":"组件图",Component:"组件",Node:"节点","Component Box":"组件盒",Port:"接口",Assembly:"组装","Provided Interface":"接口","Required Interface":"需求接口","UML Deployment":"部署图","Node Instance":"节点接口","UML Node Instance":"节点接口","UML Component Instance":"组件实例","UML Entity Relationship":"实体关系图","Weak Entity":"弱实体",Attribute:"属性","Multivalued Attribute":"多值属性",Relationship:"关系","Weak Relationship":"弱关系","Direct Access Storage(Hard Disk)":"直接存储","BPMN 2.0":"BPMN 2.0",Terminator:"开始/结束","Flowchart Shapes":"流程图","Containers Shape":"容器","Geometric Shapes":"几何图形",UML:"UML","Predifined\nProcess":"子流程","Multiple\nDocuments":"多文档","Stored\nData":"存储数据","Internal\nStorage":"内部存储","Paper\nTape":"条带","Manual\nOperation":"人工操作","Hard\nDisk":"硬盘","Event\nSub-Process":"事件子流程",Data:"数据",Event:"事件",Annotation:"文本注释",Container:"容器","<<interface>>\nInterface":"<<interface>>\n接口",Attributes:"属性","Multivalued\nAttribute":"多值属性","Weak\nRelationship":"弱关系","Component\nInstance":"组件实例",Frequency:"频率",State:"状态",Action:"活动","Sub-Process":"子流程",Message:"消息",Timer:"定时",Escalation:"升级",Conditional:"条件",Link:"连接",Error:"错误",Cancel:"取消",Signal:"信号",Multiple:"多重","Parallel Multiple":"多重并行",Terminate:"终止","Gateway Type":"网关类型",Exclusive:"互斥","Event Based":"事件",Parallel:"并行",Inclusive:"相容","Exclusive Event Based":"互斥事件",Complex:"复杂","Parallel Event Based":"并行事件",Call:"呼叫","Sub Conversation":"子对话","Data Type":"数据类型",Collection:"集合",Input:"输入",Output:"输出",Horizontal:"水平",Vertical:"垂直",A:"A",Application:"应用","Application Component":"应用组件","Application Collaboration":"应用协作","Application Interface":"应用接口","Application Function":"应用功能","Application Interaction":"应用交互","Application Process":"应用过程","Application Event":"应用事件","Application Service":"应用服务",Business:"业务","Business Actor":"业务主角","Business Role":"业务角色","Business Collaboration":"业务协作","Business Interface":"业务接口","Business Process":"业务过程","Business Function":"业务功能","Business Interaction":"业务交互","Business Event":"业务事件","Business Service":"业务服务","Business Object":"业务对象",Contract:"契约",Representation:"表象",Product:"产品",Composite:"综合",Location:"地点",Grouping:"分组","Implementation and Migration":"实现和迁移","Work Package":"工作包",Deliverable:"交付物","Implementation Event":"实现事件",Plateau:"稳定期",Gap:"间隙",Motivation:"动机",Stakeholder:"风险承担者",Driver:"驱动器",Assessment:"评估",Goal:"目标",Outcome:"输出结果",Principle:"原理",Requirement:"需求",Meaning:"含义",Value:"价值",Physical:"物理",Equipment:"设备",Facility:"设施","Distribution Network":"分布式网络",Material:"资料","Composition relation":"组合","Aggregation relation":"聚合","Assignment relation":"分配","Realization relation":"实现","Serving relation":"服务",Relationships:"关系","Access relation":"访问","Influence relation":"影响","Triggering relation":"触发","Flow relation":"流","Specialization relation":"专门化","Association relation":"关联","Junction And":"与链接","Junction Or":"或链接",Resource:"资源",Capability:"能力","Value Stream":"价值流","Course of Action":"行动方针","Course of\nAction":"行动方针",Device:"设备","System Software":"系统软件","Technology Collaboration":"技术协作","Technology Interface":"技术接口",Path:"路径","Communication Network":"通信网络","Technology Function":"技术功能","Technology Process":"技术过程","Technology Interaction":"技术交互","Technology Event":"技术事件","Technology Service":"技术服务",Artifact:"工件","ArchiMate 3.0":"ArchiMate 3.0",Strategy:"战略",Technology:"技术",Option:"其他",Yes:"是",No:"否","上下文关系图":"上下文关系图","Circuit Diagrams":"电路图形",Electrical:"电力",EE_Amplifier:"放大器",EE_OpAmp:"运算放大器",EE_ControlledAmp:"控制放大器",EE_Multiplexer:"复用器",EE_Demultiplexer:"解复用器",EE_Capacitor1:"电容器 1",EE_Capacitor2:"电容器 2",EE_Diode:"二极管",EE_Resistor:"电阻器",EE_VariableResistor:"可变电阻器",EE_Potentiometer:"电位计电阻器",EE_ProtectiveEarth:"接地保护",EE_SignalGround:"信号接地",EE_Transformer:"变压器",EE_Inductor:"电感器",EE_VariableInductor:"可变电感器",EE_2WaySwitch:"双掷开关",EE_OnOffSwitch:"单掷开关",EE_Loudspeaker:"扬声器",EE_Motor:"电动机",EE_LED1:"二极管LED",EE_Lightbulb:"电灯泡",EE_IntegratedCircuit:"IC",IT:"IT 运维","Power Sources":"电源",EE_AcSource:"交流电源",EE_VoltageSource:"直流电源",EE_CurrentSource:"恒流源",EE_ControlledCurrentSource:"受控电流源",EE_ControlledVoltageSource:"受控电压源",EE_DcSource1:"电池 1",EE_DcSource2:"电池 2",EE_Vss:"Vss",EE_Vdd:"Vdd",Transisters:"晶体管",EE_BJT_PNP1_V2:"BJT PNP",EE_BJT_NPN1_V2:"BJT NPN",EE_JFET_P_V2:"JFET P-Channel",EE_JFET_N_V2:"JFET N-Channel",EE_MOSFET_P1_V2:"MOSFET P-Channel 1",EE_MOSFET_P2_V2:"MOSFET P-Channel 2",EE_MOSFET_P3_V2:"MOSFET P-Channel 3",EE_MOSFET_N1_V2:"MOSFET N-Channel 1",EE_MOSFET_N2_V2:"MOSFET N-Channel 2",EE_MOSFET_N3_V2:"MOSFET N-Channel 3",Relays:"继电器",EE_SPST:"单刀单掷开关",EE_SPDT:"单刀双掷开关",EE_DPST:"双刀单掷开关",EE_DPDT:"双刀双掷开关","Logic Gates":"逻辑门",EE_AND:"AND",EE_OR:"OR",EE_Inverter:"反相器",EE_NAND:"NAND",EE_NOR:"NOR",EE_XOR:"XOR",EE_NXOR:"NXOR",EE_DTypeRSFlipFlop:"D型RS触发器",EE_DTypeFlipFlop:"D型触发器",EE_DTypeFlipFlopWithClear:"具有清零功能的D型触发器",EE_RSLatch:"双稳态锁存器",EE_SyncRSLatch:"双稳态同步锁存器",EE_TTypeFlipFlop:"T型触发器",Miscellaneous:"其他",EE_Plus:"正极性",EE_Negative:"负极性",EE_InverterContact:"逆变器触点",EE_Voltmeter:"电压表",EE_Ammeter:"电流表",EE_SineWave:"正弦波",EE_Sawtooth:"锯齿波",EE_SquareWave:"方形波","Configuration Graphs":"组态图形",Conduit:"导管",Valve:"阀门",Fan:"风扇",ProcessEquipment:"工艺装置",Blower:"鼓风机",Boiler:"锅炉",Chemicals:"化学制品",Architecture:"建筑",Blender:"搅拌机",Cooler:"冷却装置",Hooper:"料斗",Motor:"马达",CGContainer:"容器",Pump:"水泵",OilTank:"油罐",PowerIcons:"电力图标",IoT:"物联网","Dynamic Shapes":"动态图形",PipeH:"水平管道",PipeV:"垂直管道",PipeCorner:"管道转角",PipeCross:"十字管道",PipeT:"T型管道",Velocity:"流速",low:"低",middle:"中",high:"高",big:"大",small:"小",Cistern:"水槽",Wave:"水位","Flow Color":"流动颜色","Flow Width":"流动大小","Flow Reverse":"反向流动","Flow Status":"流动动画",Shade:"立体效果","Water Color":"颜色","Water Volume":"水量","Water amplitude":"幅度",Histogram:"柱状图","Broken Line Graph":"折线图","Bar Chart":"条形图","Pie Chart":"饼环图","Scatter Plot":"散点图","Radar Graph":"雷达图",Dashboard:"仪表盘",Electronics:"电网图形","Power station":"发电厂","Substation equipment":"变电设备","Overhead line equipment":"架空线路设备","Cable line equipment":"电缆线路设备","Low-voltage equipment":"低压设备","Pipe network":"管网设备","Primary map equipment":"一次图设备","Other symbols":"其他图符","User equipments":"用户设备",Electronic_1:"T型开关A-C",Electronic_2:"T型开关A-B",Electronic_3:"V型开关AB-C",Electronic_4:"T型开关B-C",Electronic_5:"V型开关A-C",Electronic_6:"V型开关B-C",Electronic_7:"V型开关OPEN",Electronic_8:"一个绕组上有中间抽头的变压器",Electronic_9:"V形连接带三相绕组",Electronic_10:"三联杆（木杆）",Electronic_11:"三联杆（钢管杆）",Electronic_12:"三个独立个绕组",Electronic_13:"三工位开关（分）",Electronic_14:"三工位开关（合）",Electronic_15:"三工位开关（接地）",Electronic_16:"三相一个次级绕组电流互感器",Electronic_17:"三相三个次级绕组电流互感器",Electronic_18:"三相两个次级绕组电流互感器",Electronic_19:"三相五个次级绕组电流互感器",Electronic_20:"三相四个次级绕组电流互感器",Electronic_21:"三绕组变压器（中性点引出星形--三角形连接）",Electronic_22:"三相六个次级绕组电流互感器",Electronic_23:"三绕组变压器（星形-三角形-星形连接）",Electronic_24:"三绕组变压器1（星形-三角形-星形连接）",Electronic_25:"三绕组变压器（三角形-星形-星形连接）",Electronic_26:"三绕组变压器",Electronic_27:"三绕组变压器YNdy（中性点引出星形-三角形-星形连接）2",Electronic_28:"三绕组变压器YNdy（中性点引出星形-三角形-星形连接）",Electronic_29:"三绕组变压器（星形-星形-三角形连接）",Electronic_30:"三绕组有载可调变压器1（星形-三角形-星形连接）",Electronic_31:"三绕组有载可调变压器（星形-三角形-星形连接）",Electronic_32:"三绕组变压器YNynd（中性点引出星形-星形-三角形连接）2",Electronic_33:"三绕组电压互感器",Electronic_34:"下字型排列ACB左",Electronic_35:"下字型排列BAC左",Electronic_36:"下字型排列CAB左",Electronic_37:"不良地质区",Electronic_38:"不可并符",Electronic_39:"两相一个次级绕组电流互感器",Electronic_40:"两相三个次级绕组电流互感器",Electronic_41:"两相两个次级绕组电流互感器",Electronic_42:"两相五个次级绕组电流互感器",Electronic_43:"两相六个次级绕组电流互感器",Electronic_44:"两相四个次级绕组电流互感器",Electronic_45:"两相四端绕组",Electronic_46:"两相四端绕组02",Electronic_47:"中性点引出星形连接的三相绕组",Electronic_48:"中性点引出的叉形连接六相绕组",Electronic_49:"中性点引出的四相绕组",Electronic_50:"中继站",Electronic_51:"临时保电符",Electronic_52:"互不连接的m相绕组",Electronic_53:"互不连接的三相绕组",Electronic_54:"五绕组电压互感器",Electronic_55:"交叉跨越",Electronic_56:"交流发电机",Electronic_57:"人口密集区",Electronic_58:"低压熔丝箱（分）",Electronic_59:"低压熔丝箱（合）",Electronic_60:"低压配电箱",Electronic_61:"保安锁符",Electronic_62:"保护接地",Electronic_63:"保电符",Electronic_64:"保留孔位",Electronic_65:"信号符",Electronic_66:"停用符",Electronic_67:"光缆段",Electronic_68:"六个独立个绕组",Electronic_69:"分段器",Electronic_70:"其他特殊区",Electronic_71:"分裂电抗器",Electronic_72:"单切符",Electronic_73:"单相一个次级绕组电流互感器",Electronic_74:"单相三个次级绕组电流互感器",Electronic_75:"单相两个次级绕组电流互感器",Electronic_76:"单相六个次级绕组电流互感器",Electronic_77:"单相五个次级绕组电流互感器",Electronic_78:"单相四个次级绕组电流互感器",Electronic_79:"双三角形连接的六相绕组",Electronic_80:"双向隔离开关（分）",Electronic_81:"双向隔离开关（右）",Electronic_82:"双向隔离开关（左）",Electronic_83:"双绕组变压器Dyn（中性点引出三角形-星形连接）",Electronic_84:"双绕组变压器",Electronic_85:"双绕组变压器Yd（中性点引出星形-三角形连接）",Electronic_86:"双绕组变压器YNd（中性点引出星形-三角形连接）2",Electronic_87:"双绕组变压器Yd（中性点引出星形-三角形连接）2",Electronic_88:"双绕组变压器Yzn（中性点引出三角形-曲形连接）",Electronic_89:"双绕组变压器Yyn（中性点引出星形-星形连接）",Electronic_90:"双绕组变压器Yyn（中性点引出星形-星形连接）",Electronic_91:"双绕组变压器（具有分接开关）",Electronic_92:"双绕组变压器（具有4个抽头星形-星形连接）",Electronic_93:"双绕组变压器（曲形-星形）",Electronic_94:"双绕组变压器（有载调压）",Electronic_95:"双绕组变压器（绕组间有屏蔽）",Electronic_96:"双绕组有载可调变压器Dyn（中性点引出三角形-星形连接）",Electronic_97:"双绕组有载可调变压器YNd（中性点引出星形-三角形连接）",Electronic_98:"双绕组电压互感器",Electronic_99:"双联杆（木杆）",Electronic_100:"双联杆（水泥杆）",Electronic_101:"双联杆（钢管杆）",Electronic_102:"变电站",Electronic_103:"可拆卸固定接头",Electronic_104:"可调电容器",Electronic_105:"壁龛交接箱",Electronic_106:"四绕组电压互感器",Electronic_107:"复合孔位",Electronic_108:"多雷区",Electronic_109:"导、地线易舞动区",Electronic_110:"导、地线覆冰区",Electronic_111:"尾线符",Electronic_112:"局用站点",Electronic_113:"工作许可",Electronic_114:"已实施孔位",Electronic_115:"已批复未实施孔位",Electronic_116:"已申请未批复孔位",Electronic_117:"带电显示器",Electronic_118:"建议孔位",Electronic_119:"开口三角形连接的三相绕组",Electronic_120:"开关站",Electronic_121:"开断符",Electronic_122:"开闭器",Electronic_123:"强腐蚀区",Electronic_124:"微气候、微地形区",Electronic_125:"手动符",Electronic_126:"手车刀闸（试验-检修）",Electronic_127:"手车刀闸（分）",Electronic_128:"手车刀闸（合）",Electronic_129:"手车压变（带熔断器）",Electronic_130:"手车开关（分）",Electronic_131:"手车开关（合）",Electronic_132:"手车开关（试验、检测）",Electronic_133:"损坏孔位",Electronic_134:"换流站",Electronic_135:"接地刀闸（分）",Electronic_136:"接地刀闸（合）",Electronic_137:"接地变压器（曲折形连接）",Electronic_138:"接地符",Electronic_139:"接触器（分）",Electronic_140:"接触器（合）",Electronic_141:"放电线圈",Electronic_142:"故障指示器（正常）",Electronic_143:"断路器（合）",Electronic_144:"方向标志",Electronic_145:"无功补偿器",Electronic_146:"无功补偿箱",Electronic_147:"易受外力破坏区",Electronic_148:"易受风害区",Electronic_149:"星形连接的三相绕组",Electronic_150:"星形连接的六相绕组",Electronic_151:"有载可调压自耦变压器",Electronic_152:"未知孔位",Electronic_153:"林竹区",Electronic_154:"架空交接箱",Electronic_155:"柱上变压器（专用变）",Electronic_156:"柱上变压器（公用变）",Electronic_157:"柱上断路器（合）",Electronic_158:"柱上断路器（分）",Electronic_159:"柱上负荷开关（分）",Electronic_160:"柱上负荷开关（合）",Electronic_161:"柱上重合器（分）",Electronic_162:"柱上重合器（合）",Electronic_163:"柱上隔离开关（分）",Electronic_164:"柱上隔离开关（合）",Electronic_165:"检修符",Electronic_166:"工井",Electronic_167:"水平排列ABC",Electronic_168:"水平排列CBA",Electronic_169:"沙丘区",Electronic_170:"水泥杆",Electronic_171:"洪水冲刷区",Electronic_172:"消弧线圈",Electronic_173:"熔断器",Electronic_174:"熔断式开关（分）",Electronic_175:"熔断式开关（合）",Electronic_176:"熔断式断路器（分）",Electronic_177:"断路器（分）",Electronic_178:"熔断式负荷开关（合）",Electronic_179:"熔断式隔离开关（分）",Electronic_180:"熔断式隔离开关（合）",Electronic_181:"环网柜",Electronic_182:"环网箱式变",Electronic_183:"用户供电点",Electronic_184:"电力电感器",Electronic_185:"电力电阻器",Electronic_186:"电容式电压互感器",Electronic_187:"电抗器",Electronic_188:"电缆交叉互联箱",Electronic_189:"电缆分支箱",Electronic_190:"电缆分界箱",Electronic_191:"电缆排管",Electronic_192:"电缆接地箱",Electronic_193:"电缆桥",Electronic_194:"电缆沟",Electronic_195:"电缆终端站",Electronic_196:"电缆通风口",Electronic_197:"电缆防火墙",Electronic_198:"电缆隧道",Electronic_199:"盗窃多发区",Electronic_200:"盘留",Electronic_201:"直流发电机",Electronic_202:"禁止遥控",Electronic_203:"移相变压器",Electronic_204:"管道",Electronic_205:"箱式变",Electronic_206:"终端室（站）",Electronic_207:"缺陷符",Electronic_208:"耦合电容器",Electronic_209:"自切符",Electronic_210:"自耦变压器",Electronic_211:"自耦变压器（星形连接）",Electronic_212:"自调谐消弧线圈",Electronic_213:"落地交接箱",Electronic_214:"规划串补站",Electronic_215:"规划变电站",Electronic_216:"规划光能发电站",Electronic_217:"规划地热电厂",Electronic_218:"规划垃圾电厂",Electronic_219:"规划抽水蓄能电厂",Electronic_220:"规划开关站",Electronic_221:"规划换流站",Electronic_222:"熔断式断路器（合）",Electronic_223:"规划核电站",Electronic_224:"规划水电厂",Electronic_225:"规划潮汐电厂",Electronic_226:"规划秸杆电厂",Electronic_227:"规划火电厂",Electronic_228:"规划等离子体电厂",Electronic_229:"规划风力发电站",Electronic_230:"计量器",Electronic_231:"计量表计",Electronic_232:"负荷开关（分）",Electronic_233:"负荷开关（合）",Electronic_234:"熔断式负荷开关（分）",Electronic_235:"跌落式熔断器（分）",Electronic_236:"跌落式熔断器（合）",Electronic_237:"运行串补站",Electronic_238:"运行光能发电站",Electronic_239:"运行变电站",Electronic_240:"运行地热电厂",Electronic_241:"运行垃圾电厂",Electronic_242:"运行开关站",Electronic_243:"运行抽水蓄能电厂",Electronic_244:"运行换流站",Electronic_245:"运行核电站",Electronic_246:"运行水电厂",Electronic_247:"运行潮汐电厂",Electronic_248:"运行火电厂",Electronic_249:"运行秸杆电厂",Electronic_250:"运行等离子体电厂",Electronic_251:"运行风力发电站",Electronic_252:"进户点",Electronic_253:"通信电缆接头",Electronic_254:"通信电缆段",Electronic_255:"通信终端箱",Electronic_256:"避雷器",Electronic_257:"配变检测仪",Electronic_258:"配电站（室）",Electronic_259:"采集终端",Electronic_260:"重要用户符",Electronic_261:"钢管塔（直线型）",Electronic_262:"钢管塔（耐张型）",Electronic_263:"钢管杆",Electronic_264:"铁塔（直线型）",Electronic_265:"铁塔（耐张型）",Electronic_266:"间隙",Electronic_267:"阻波器",Electronic_268:"隔离开关（合）",Electronic_269:"隔离开关（分）",Electronic_270:"静止无功补偿器",Electronic_271:"高压用户",Electronic_272:"鸟害多发区",Electronic_273:"接地",Electronic_274:"柱上电容器",Electronic_275:"故障指示器（翻牌）",ThreePosSwitch:"三工位开关",TwoDirectionSwitch:"",GroundKnifeSwitch:"接地刀闸",Contector:"接触器",FuseDisconnectSwitch:"熔断式隔离开关",FuseBreaker:"熔断式断路器",FuseSegregateSwitch:"熔断式隔离开关",LoadSwitch:"负荷开关",FuseLoadSwitch:"熔断式负荷开关",CascadeFuse:"跌落式熔断器",DisconnectSwitch:"隔离开关",routePipeH:"水平管道线",routePipeV:"垂直管道线",iframe:"iframe",video:"视频",videoStream:"视频流",timer:"时间",Tables:"表格",Table:"表格 1","Banded Rows":"表格 2","Banded Columns":"表格 3","Table with Header":"表格 4",Columns:"列",Rows:"行",Insert:"插入",Colors:"颜色",Delete:"删除",Striping:"间隔色",DeleteRow:"删除行",DeleteColumn:"删除列",InsertLeft:"左侧插入一列",InsertRight:"右侧插入一列",InsertTop:"上方插入一行",InsertBottom:"下方插入一行",StripedRow:"隔行变色",StripedColumns:"隔列变色",Custom:"自定义",Rounded:"圆角",switch:"开关",Others:"其他",Valve0:"手动阀 2",Valve1:"手动阀 3",Valve2:"手动阀 4",Valve3:"高分辨率阀门定位器",Valve4:"旋钮",Valve5:"电击阀",Valve6:"夹管阀",Valve7:"塑料控制阀",Valve8:"塑料隔膜阀",Valve9:"塑料旋启式止回阀",Valve10:"聚氯乙烯止回阀",Valve11:"聚氯乙烯双向球阀",Valve12:"旋塞阀",Valve13:"安全截止阀",Valve14:"安全阀",Valve15:"简易阀",Valve16:"电磁阀",Valve17:"阀门手柄 1",Valve18:"阀门手柄 2",Valve19:"阀门轮",Valve20:"三维排污阀",Valve21:"三维蝶阀或节气阀门",Valve22:"三维止回阀",Valve23:"三维带手动执行机构的控制阀",Valve24:"三维气缸驱动阀（双作用）",Valve25:"三维带定位器的隔膜驱动阀",Valve26:"三维隔膜阀",Valve27:"自给式三维流量调节器",Valve28:"三维闸阀",Valve29:"三维手控阀",Valve30:"三维旋塞阀",Valve31:"三维压力安全阀",Valve32:"三维压力平衡隔膜驱动",Valve33:"自给式三维调节器",Valve34:"带外压分接头的三维调节器",Valve35:"三维节流孔阀门",Valve36:"三维旋转驱动",Valve37:"三维旋转旋塞阀",Valve38:"三维截止止回阀",Valve39:"三维真空安全阀",Valve40:"三维阀，故障不确定",Valve41:"三维阀，故障锁定",Valve42:"带执行器的三维阀",Valve43:"阀瓣下带排气或清洗连接的三维阀",Valve44:"长轴三维阀",Valve45:"三维阀",Valve46:"三维球阀",Valve47:"气动截止阀",Valve48:"球阀 1",Valve49:"球阀 2",Valve50:"蓝色法兰控制阀",Valve51:"蓝色无法兰控制阀",Valve52:"止回阀-卧式",Valve53:"止回阀-立式",Valve54:"紧凑型阀门",Valve55:"控制阀",Valve56:"控制阀-卧式",Valve57:"控制阀-立式",Valve58:"控制阀",Valve59:"控制阀",Valve60:"带膜片激活器的控制阀",Valve61:"带灰色接头的控制阀",Valve62:"排水阀",Valve63:"球形控制阀",Valve64:"手柄阀-卧式",Valve65:"手柄阀-立式",Valve66:"手动阀 1",Valve67:"抽洗阀",ProcessEquipment0:"蒸汽疏水阀 1",ProcessEquipment1:"蒸汽疏水阀 2",ProcessEquipment2:"热液加热器 1",ProcessEquipment3:"热液加热器 2",ProcessEquipment4:"涡卷式热油加热器",ProcessEquipment5:"加热箱",ProcessEquipment6:"热水器系统",ProcessEquipment7:"工艺加热器 1",ProcessEquipment8:"工艺加热器 2",ProcessEquipment9:"工艺加热器 3",ProcessEquipment10:"工艺加热器 4",ProcessEquipment11:"工艺加热器 5",ProcessEquipment12:"工艺加热器 6",ProcessEquipment13:"循环蒸汽发生器",ProcessEquipment14:"管壳式冷凝器",ProcessEquipment15:"简易冷凝器",ProcessEquipment16:"简易换热器",ProcessEquipment17:"简易蒸汽发生器 1",ProcessEquipment18:"简易蒸汽发生器 2",ProcessEquipment19:"蒸汽发生器 1",ProcessEquipment20:"蒸汽发生器 2",ProcessEquipment21:"蒸汽发生器 3",ProcessEquipment22:"蒸汽发生器 4",ProcessEquipment23:"蒸汽混合器",ProcessEquipment24:"",ProcessEquipment25:"",ProcessEquipment26:"批处理炉 1",ProcessEquipment27:"批处理炉 2",ProcessEquipment28:"批处理炉 3",ProcessEquipment29:"轧光机",ProcessEquipment30:"循环加热器",ProcessEquipment31:"补偿器",ProcessEquipment32:"冷凝器 1",ProcessEquipment33:"冷凝器 2",ProcessEquipment34:"冷凝器 3",ProcessEquipment35:"遂道炉",ProcessEquipment36:"蒸发器",ProcessEquipment37:"膨胀节",ProcessEquipment38:"无焰热氧化器",ProcessEquipment39:"热交换器 1",ProcessEquipment40:"热交换器 2",ProcessEquipment41:"热交换器 3",ProcessEquipment42:"热交换器 4",ProcessEquipment43:"热交换器 5",ProcessEquipment44:"热交换器 6",ProcessEquipment45:"热交换器 7",ProcessEquipment46:"热交换器 8",ProcessEquipment47:"热交换器 9",ProcessEquipment48:"热交换器 10",ProcessEquipment49:"热交换器 11",ProcessEquipment50:"热交换器 12",ProcessEquipment51:"热交换器 13",ProcessEquipment52:"热回收系统 1",ProcessEquipment53:"热回收系统 2",ProcessEquipment54:"换热系统",ProcessEquipment55:"加热元件 1",ProcessEquipment56:"加热元件 2",ProcessEquipment57:"热油加热器 ",ProcessEquipment58:"热油系统",ProcessEquipment59:"浸入式加热器",ProcessEquipment60:"间接大容量热水器",ProcessEquipment61:"低排放燃烧器",ProcessEquipment62:"动力燃烧器",ProcessEquipment63:"污水管",ProcessEquipment64:"MBR膜",Blower0:"三维 ISA鼓风机",Blower1:"空气压缩机 1",Blower2:"空气压缩机 2",Blower3:"空气压缩机 3",Blower4:"空气压缩机 4",Blower5:"鼓风机 1",Blower6:"鼓风机 2",Blower7:"离心式鼓风机",Blower8:"离心式方形内联风机",Blower9:"冷风机（动画第1帧）",Blower10:"冷风机（动画第2帧）",Blower11:"风机-电源终端单元 ",Blower12:"玻璃纤维风扇",Blower13:"排烟机",Blower14:"燃气泵",Blower15:"阴影风扇",Blower16:"暖通空调压缩机",Blower17:"直列式空气过滤器",Blower18:"混流内联式风机 ",Blower19:"天然气压缩机 ",Blower20:"塑料吹风机",Blower21:"加压鼓风机",Blower22:"径向排烟器",Blower23:"往复式压缩机",Blower24:"再生式鼓风机",Blower25:"简易鼓风机",Blower26:"简易压缩机 1",Blower27:"简易压缩机 2",Blower28:"简易风扇 1",Blower29:"简易风扇 2",Blower30:"单级压缩机",Blower31:"涡轮鼓风机",Blower32:"轴流风机",Blower33:"涡流式鼓风机",Blower34:"曝气风机",Boiler0:"锅炉（透视图）",Boiler1:"锅炉 1",Boiler2:"锅炉 2",Boiler3:"锅炉 3",Boiler4:"锅炉 4",Boiler5:"锅炉 5",Boiler6:"",Boiler7:"锅炉 6",Boiler8:"锅炉 7",Boiler9:"锅炉 8",Boiler10:"锅炉 9",Boiler11:"",Boiler12:"锅炉 10",Boiler13:"锅炉 11",Boiler14:"锅炉控制器 1",Boiler15:"锅炉控制器 2",Boiler16:"锅炉控制器 3",Boiler17:"锅炉标志",Boiler18:"带有火焰和管道的锅炉",Boiler19:"",Boiler20:"带火焰的锅炉",Boiler21:"",Boiler22:"带有小火的锅炉",Boiler23:"",Boiler24:"电热水和蒸汽锅炉",Boiler25:"锅炉燃烧室",Boiler26:"软管锅炉（剖开式）",Boiler27:"软管锅炉",Boiler28:"四通锅炉",Boiler29:"燃气锅炉 1",Boiler30:"燃气锅炉 2",Boiler31:"低排放锅炉",Boiler32:"燃油锅炉 1",Boiler33:"燃油锅炉 2",Boiler34:"包装火管锅炉",Boiler35:"脉冲燃烧锅炉",Boiler36:"橇装式锅炉",Boiler37:"蒸汽锅炉 1",Boiler38:"蒸汽锅炉 2",Boiler39:"热循环锅炉",Boiler40:"开水锅炉",Chemicals0:"空气洗涤器",Chemicals1:"空气剥离器",Chemicals2:"空气剥离器",Chemicals3:"燃烧塔",Chemicals4:"化学混合罐",Chemicals5:"化工过程",Chemicals6:"化工加工塔",Chemicals7:"原油蒸馏装置",Chemicals8:"结晶器",Chemicals9:"煮解器 1",Chemicals10:"煮解器 2",Chemicals11:"煮解器 3",Chemicals12:"煮解器 4",Chemicals13:"蒸馏塔 1",Chemicals14:"蒸馏塔 2",Chemicals15:"蒸馏塔 3",Chemicals16:"蒸馏塔 4",Chemicals17:"干燥装置",Chemicals18:"蒸发过程",Chemicals19:"蒸发器 1",Chemicals20:"蒸发器 2",Chemicals21:"蒸发器 3",Chemicals22:"过滤系统 1",Chemicals23:"过滤系统 2",Chemicals24:"过滤器",Chemicals25:"分馏器",Chemicals26:"气液分离器",Chemicals27:"气体处理机",Chemicals28:"加热式干燥器",Chemicals29:"无热干燥器",Chemicals30:"工艺塔 1",Chemicals31:"工艺塔 2",Chemicals32:"工艺塔 3",Chemicals33:"工艺塔 4",Chemicals34:"工艺塔 5",Chemicals35:"工艺塔 6",Chemicals36:"工艺塔 7",Chemicals37:"工艺塔 8",Chemicals38:"工艺混合器",Chemicals39:"炼油塔",Chemicals40:"带状搅拌机",Chemicals41:"分段磁通电容器",Chemicals42:"简易脱气塔",Chemicals43:"简易导流管挡板结晶器",Chemicals44:"简易沸腾结晶器",Chemicals45:"剥离器",Chemicals46:"热氧化器",Chemicals47:"热处理塔",Chemicals48:"两级冷却器",Architecture0:"",Architecture1:"",Architecture2:"",Architecture3:"拱形建筑",Architecture4:"商业建筑 1",Architecture5:"商业建筑 2",Architecture6:"商业建筑 3",Architecture7:"商业建筑 4",Architecture8:"工厂 1",Architecture9:"工厂 2",Architecture10:"工厂 3",Architecture11:"工厂 4",Architecture12:"工厂 5",Architecture13:"工厂 6",Architecture14:"工厂 7",Architecture15:"工厂 8",Architecture16:"工厂 9",Architecture17:"工业建筑 1",Architecture18:"工业建筑 2",Architecture19:"工业建筑 3",Architecture20:"工业建筑 4",Architecture21:"工业建筑 5",Architecture22:"工业建筑 6",Architecture23:"工业建筑 7",Architecture24:"工业建筑 8",Architecture25:"工业建筑 9",Architecture26:"工业建筑 10",Architecture27:"工业建筑 11",Architecture28:"工业建筑 12",Architecture29:"工业建筑 13",Architecture30:"工业建筑 14",Architecture31:"工业建筑 15",Architecture32:"工业建筑 16",Architecture33:"工业建筑 17",Architecture34:"带烟囱的工业建筑",Architecture35:"模块化办公室 1",Architecture36:"模块化办公室 2",Architecture37:"模块化办公室 3",Architecture38:"模块化办公室 4",Architecture39:"模块化办公室 5",Architecture40:"室外围栏",Architecture41:"庇护所",Pump0:"油泵",Pump1:"油井泵",Pump2:"活塞泵",Pump3:"容积式齿轮泵",Pump4:"泵的容器",Pump5:"回转真空泵",Pump6:"未签名盖章的泵",Pump7:"固体处理自吸泵",Pump8:"SRH泵",Pump9:"标准法兰容积泵",Pump10:"水泥浆泵",Pump11:"离心泵 1",Pump12:"离心泵 2",Pump13:"离心泵 3",Pump14:"离心泵 4",Pump15:"泵-电机轴一体化离心泵",Pump16:"化工泵 1",Pump17:"化工泵 2",Pump18:"经典泵 1",Pump19:"经典泵 2",Pump20:"经典泵 3",Pump21:"经典泵 4",Pump22:"经典泵 5",Pump23:"冷却泵",Pump24:"耐腐蚀潜水泵",Pump25:"耐腐蚀连续泵",Pump26:"隔膜泵",Pump27:"末端吸入离心泵",Pump28:"防爆泵",Pump29:"重型塑料离心泵",Pump30:"高温热输送泵",Pump31:"卧式泵（左）",Pump32:"卧式泵（右）",Pump33:"卧式泵 1",Pump34:"卧式泵 2（左）",Pump35:"卧式泵 2（右）",Pump36:"卧式泵 3",Pump37:"卧式泵 4",Pump38:"卧式泵 5",Pump39:"立式泵 2",Pump40:"立式泵 3",Pump41:"立式泵 4",Pump42:"立式泵 5",Pump43:"立式泵 6",Pump44:"立式泵 7",Pump45:"立式泵 8",Pump46:"立式泵 9",Pump47:"立式泵 10",Pump48:"立式泵 11",Pump49:"普通泵",Pump50:"黄色泵",Pump51:"卧式固体处理旋涡泵",Pump52:"隔离隔膜泵",Pump53:"镁驱动非金属泵",Pump54:"磁驱动泵 1",Pump55:"磁驱动泵 2",Pump56:"磁驱动泵 3",Pump57:"计量泵 1",Pump58:"计量泵 2",Pump59:"高腐蚀性应用的泵",Pump60:"自吸离心泵",Pump61:"潜水泵",Pump62:"",Pump63:"真空泵",Pump64:"立式泵（下降）",Pump65:"立式泵（上升）",Pump66:"立式泵 1",Pump67:"反冲洗泵",Pump68:"回流泵",Pump69:"膜自吸泵",Pump70:"水泵 2",Pump71:"提升泵",Motor0:"三维ISA电机 1",Motor1:"三维ISA电机 2",Motor2:"三维电动机",Motor3:"制动器",Motor4:"制动电动机",Motor5:"无刷电动机",Motor6:"防爆电动机",Motor7:"变频器驱动",Motor8:"ISA电动机",Motor9:"电动机 1",Motor10:"电动机 2",Motor11:"电动机 3",Motor12:"电动机 4",Motor13:"电动机 5",Motor14:"电动机 6",Motor15:"电动机 7",Motor16:"电动机 8",Motor17:"电动机 9",Motor18:"电动机 10",Motor19:"电动机 11",Motor20:"电动机 12",Motor21:"电动机 13",Motor22:"电动机 14",Motor23:"电动机 15",Motor24:"电动机 16",Motor25:"电动机 17",Motor26:"电动机 18",Motor27:"气压制动器（气闸）",Motor28:"伺服电动机 1",Motor29:"伺服电动机 2",Motor30:"轴角编码器",Motor31:"普通电机 1",Motor32:"普通电机 2",Motor33:"普通电机 3",Motor34:"智能马达",Motor35:"减速机",Motor36:"马达驱动器",CGContainer0:"塑料托盘 5（侧视图）",CGContainer1:"塑料托盘 3（侧视图）",CGContainer2:"塑料托盘 4（透视图）",CGContainer3:"塑料托盘 2（侧视图）",CGContainer4:"两升的瓶子",CGContainer5:"三维纸板箱，密封",CGContainer6:"灰桶",CGContainer7:"瓶子",CGContainer8:"用OSHA胶带密封的盒子",CGContainer9:"桶",CGContainer10:"散货集装箱",CGContainer11:"金属容器",CGContainer12:"纸板箱 1  密封",CGContainer13:"纸板箱 2  密封",CGContainer14:"带向上箭头的纸板箱，封闭",CGContainer15:"带向上箭头的纸板箱，密封",CGContainer16:"封闭的纸板箱 ",CGContainer17:"纸箱,没有襟翼",CGContainer18:"打开的纸板箱",CGContainer19:"纸板箱--俯视图--关闭",CGContainer20:"纸板箱，俯视图，打开",CGContainer21:"用OSHA胶带密封的盒子",CGContainer22:"容器 1",CGContainer23:"容器 2",CGContainer24:"箱 1",CGContainer25:"箱 2",CGContainer26:"玻璃纤维方形网格光栅（透视图）",CGContainer27:"玻璃纤维方形网格光栅（俯视图）",CGContainer28:"蓝色桶",CGContainer29:"深灰色桶",CGContainer30:"粉色桶",CGContainer31:"沉重的桶",CGContainer32:"开放性头部集装箱",CGContainer33:"包装的图标",CGContainer34:"聚乙烯瓶",CGContainer35:"处方瓶",CGContainer36:"有条形码的密封盒",CGContainer37:"用OSHA胶带密封的简单盒子",CGContainer38:"简单的盒子，俯视图，关闭",CGContainer39:"简单的盒子，俯视图，打开",CGContainer40:"简单的盒子，俯视图，密封",CGContainer41:"简单密封的条形码盒子",CGContainer42:"溢油甲板（透视图）",CGContainer43:"溢油甲板（侧视图）",CGContainer44:"棕色的桶",CGContainer45:"塑料托盘 5（透视图）",CGContainer46:"托盘",CGContainer47:"药瓶子",CGContainer48:"塑料容器 1",CGContainer49:"塑料容器 2",CGContainer50:"塑料容器 3",CGContainer51:"塑料托盘 1（前视图）",CGContainer52:"塑料托盘 1（透视图）",CGContainer53:"塑料托盘 2（透视图）",CGContainer54:"塑料托盘 4（侧视图）",CGContainer55:"塑料托盘 3（透视图）",Hooper0:"料斗 1",Hooper1:"料斗 2",Hooper2:"料斗 3",Hooper3:"料斗 4",Hooper4:"料斗 5",Hooper5:"料斗 6",Hooper6:"料斗 7",Hooper7:"料斗 8",Hooper8:"料斗 9",Hooper9:"料斗 10",Hooper10:"料斗 11",Hooper11:"料斗 12",Hooper12:"",Hooper13:"",Hooper14:"",Hooper15:"",Hooper16:"",Hooper17:"",Hooper18:"",Hooper19:"",Hooper20:"",Hooper21:"",Hooper22:"",Hooper23:"",Hooper24:"",Hooper25:"",Hooper26:"",Hooper27:"",Cooler0:"",Cooler1:"",Cooler2:"",Cooler3:"",Cooler4:"",Cooler5:"冷却塔 1",Cooler6:"冷却塔 2",Cooler7:"冷却塔 3",Cooler8:"冷却塔 4",Cooler9:"冷却塔 5",Cooler10:"冷却装置",Cooler11:"",Cooler12:"",Cooler13:"",Cooler14:"",Cooler15:"",Cooler16:"",Cooler17:"",Cooler18:"",Cooler19:"",OilTank0:"",OilTank1:"",OilTank2:"空气罐",OilTank3:"",OilTank4:"",OilTank5:"",OilTank6:"",OilTank7:"",OilTank8:"",OilTank9:"耐腐蚀罐（中）",OilTank10:"耐腐蚀罐（矮）",OilTank11:"耐腐蚀罐（高）",OilTank12:"日用油箱",OilTank13:"油罐 14",OilTank14:"椭圆形散装储罐",OilTank15:"独立支撑的油罐",OilTank16:"玻璃罐",OilTank17:"",OilTank18:"油罐 41",OilTank19:"",OilTank20:"",OilTank21:"",OilTank22:"液压气动罐",OilTank23:"大型锥形底聚乙烯罐",OilTank24:"",OilTank25:"混合油罐",OilTank26:"模制聚乙烯油罐",OilTank27:"聚乙烯化学混合罐",OilTank28:"聚乙烯混合加油罐",OilTank29:"双支架聚乙烯储罐",OilTank30:"聚乙烯储罐",OilTank31:"聚乙烯油罐 1",OilTank32:"聚乙烯油罐 2",OilTank33:"带混合器的聚乙烯罐",OilTank34:"",OilTank35:"",OilTank36:"",OilTank37:"",OilTank38:"",OilTank39:"",OilTank40:"",OilTank41:"",OilTank42:"反应堆槽",OilTank43:"",OilTank44:"",OilTank45:"带搅拌器的加固罐",OilTank46:"",OilTank47:"",OilTank48:"焊接罐",OilTank49:"带铆钉的水箱 1",OilTank50:"带铆钉和梯子的水箱",OilTank51:"地下储罐",OilTank52:"光滑的水箱 1",OilTank53:"光滑的水箱 2",OilTank54:"光滑的水箱 3",OilTank55:"光滑的水箱 4",OilTank56:"油罐 24",OilTank57:"油罐 25",OilTank58:"油罐 26",OilTank59:"油罐 27",OilTank60:"油罐 28",OilTank61:"油罐 29",OilTank62:"油罐 30",OilTank63:"油罐 31",OilTank64:"油罐 32",OilTank65:"油罐 33",OilTank66:"油罐 34",OilTank67:"油罐 35",OilTank68:"油罐 36",OilTank69:"油罐 37",OilTank70:"油罐 38",OilTank71:"油罐 39",OilTank72:"油罐 40",OilTank73:"存储罐",OilTank74:"油罐支架 1",OilTank75:"油罐支架 2",OilTank76:"油罐的剖面图",OilTank77:"油罐孵化器",OilTank78:"带铆钉的水箱",OilTank79:"油罐 23",OilTank80:"油罐 15",OilTank81:"油罐 16",OilTank82:"油罐 17",OilTank83:"油罐 18",OilTank84:"油罐 19",OilTank85:"油罐 20",OilTank86:"油罐 21",OilTank87:"油罐 22",OilTank88:"",OilTank89:"简单处理罐",OilTank90:"简易储罐系统 1",OilTank91:"简易储罐系统 2",OilTank92:"简易储罐系统 3",OilTank93:"废水池",OilTank94:"球形水箱 1",OilTank95:"球形水箱 2",OilTank96:"带铆钉的球形水箱",OilTank97:"",OilTank98:"",OilTank99:"",OilTank100:"",OilTank101:"",OilTank102:"",OilTank103:"",OilTank104:"",OilTank105:"",OilTank106:"",OilTank107:"",OilTank108:"",OilTank109:"",OilTank110:"",OilTank111:"",OilTank112:"带梯子的储罐",OilTank113:"油罐 1",OilTank114:"油罐 2",OilTank115:"油罐 3",OilTank116:"油罐 4",OilTank117:"油罐 5",OilTank118:"油罐 6",OilTank119:"油罐 7",OilTank120:"油罐 8",OilTank121:"油罐 9",OilTank122:"油罐 10",OilTank123:"油罐 11",OilTank124:"油罐 12",OilTank125:"油罐 13",Others0:"水泡",Others1:"污水车",Others2:"压力计",Others3:"ph计"},"en-US":{COMMON_PLEASE_ENTER_THE_NUMBER:"Please enter the number",COMMON_PLEASE_ENTER_A_DECIMAL:"Please enter a decimal",DMV_CICLASS_NOT_EMPTY:"CI classification cannot be empty",COMMON_PLEASE_SELECT_CI_CLASSIFICATION:"Please select CI classification",COMMON_NO_DATA:"No data",COMMON_PLEASE_ENTER:"Please enter",DMV_PLEASE_SELECT_ITEM:"Please select",COMMON_COPY:"Copy",COMMON_CANCEL:"Cancel",COMMON_FONT_COLOR:"Font color",DMV_INSERT_PICTURE:"Insert picture",DMV_LINE_TYPE:"Line type",COMMON_FILL_COLOR:"Shading",COMMON_CONFIRM:"Confirm",EMV_AT_THE_BOTTOM:"Send to Bottom",DMV_LINE_COLOR:"Line color",BASE_SETTINGS_ICON:"Settings icon",COMMON_RENAME:"Rename",DMV_FORMAT_BRUSH:"Format brush",COMMON_DELETE:"Delete",COMMON_UNDO:"Undo",COMMON_RESTORE:"Restore",COMMON_CUT:"Cut",DMV_PASTE:"Paste cell",EMV_FONT_LAYOUT:"Font layout",DCV_BOLD:"Bold",EMV_ON_TOP:"Send to top layer",DMV_ARROW_REVERSAL:"Arrow reversal",DMV_ITALIC:"Italic",COMMON_UNDERLINE:"Underline",COMMON_LOAD_MORE:"Load more",COMMON_SIGN_OUT:"Log out",DMV_CONTAINER_FILL:"Fill Container",DMV_INTERNAL_FILL:"Internal Fill",DMV_COMBINATION:"Combination",DMV_UNGROUP:"Ungroup",DMV_EXPAND_FIRST:"Expand First",DMV_NO_VIEW_YET:"No view yet",DMV_NO_TEMPLATE:"No template",COMMON_MORE:"More",COMMON_NOT_NULLABLE:"Not nullable",COMMON_SEARCH_ICON:"Search Icon",COMMON_TARGET_PRIMARY_KEY:"Target primary key",COMMON_TARGET_CLASSIFICATION:"Target Category",COMMON_ORIGINAL_PRIMARY_KEY:"Original primary key",COMMON_SOURCE_CLASSIFICATION:"Source category",COMMON_FONT_SIZE:"Font Size",COMMON_S_PORT_ARROW_STYLE:"S.Port Arrow Style",COMMON_D_PORT_ARROW_STYLE:"D.Port Arrow Style",Standard:"Standard",Text:"Text",Block:"Block","Sticky Note":"Sticky Note",Hotspot:"Hotspot",Slides:"Slide",Line:"Line",Shapes:"Shapes",Rectangle:"Rectangle","Isosceles Triangle":"Isosceles Triangle","Right Triangle":"Right Triangle",Pentagon:"Pentagon",Hexagon:"Hexagon",Octagon:"Octagon",Cross:"Cross",Cloud:"Cloud","Right Arrow":"Right Arrow","Down Arrow":"Down Arrow","Left Arrow":"Left Arrow","Up Arrow":"Up Arrow","Double Arrow East-West":"Double Arrow East-West","Double Arrow North-South":"Double Arrow North-South",Circle:"Circle",Star:"Star",Diamond:"Diamond",Flowchart:"Flowchart",Process:"Process",Decision:"Decision",Teminator:"Teminator","Predifined Process":"Predifined Process",Document:"Document","Multiple Documents":"Multiple Documents","Manual Input":"Manual Input",Preparation:"Preparation","Data(I/O)":"Data(I/O)",DataBase:"DataBase","Internal Storage":"Internal Storage","Paper Tape":"Paper Tape","Manual Operation":"Manual Operation",Delay:"Delay","Stored Data":"Stored Data",Merge:"Merge",Connector:"Connector",Or:"Or","Summing Junction":"Summing Junction",Display:"Display","Curly Brace Note":"Curly Brace Note",Note:"Note",Containers:"Containers","Swim Lane":"Swim Lane","Swim Lane Horizontal":"Swim Lane Horizontal","Rectangle Container":"Rectangle Container","Diamond Container":"Diamond Container","Rounded Rectangle Container":"Rounded Rectangle Container","Circle Container":"Circle Container","Pill Container":"Pill Container","Double Brace Horizontal":"Double Brace Horizontal","Double Bracket Horizontal":"Double Bracket Horizontal","Double Brace":"Double Bracel","Double Bracket":"Double Bracket",Task:"Task",Transaction:"Transaction","Event Sub-Process":"Event Sub-Process","Call Activity":"Call Activity","Start Event":"Start Event","Intermediate Event":"Intermediate Event","End Event":"End Event",Gateway:"Gateway",Conversation:"Conversation","Data Object":"Data Object","Data Store":"Data Store",Pool:"Pool","Pool (Black Box)":"Pool (Black Box)",Group:"Group","Text Annotation":"Text Annotation",Lanes:"Lanes | Lanes",Orientation:"Orientation","Text Orientation":"Text Orientation",Lane:"Lane | Lane",Activity:"Activity","Task Types":"Task Types","Activity Marker":"Activity Marker",None:"None",Send:"Send",Receive:"Receive",User:"User",Manual:"Manual","Business Rule":"Business Rule",Service:"Service",Script:"Script",Loop:"Loop","Parallel MI":"Parallel MI","Sequential MI":"Sequential MI","Ad Hoc":"Ad Hoc",Compensation:"Compensation","Event Group":"Event Group","Event Type":"Event Type","Non-Interrupting":"Non-Interrupting",Throwing:"Throwing",Start:"Start | Start",Intermediate:"Intermediate",End:"End | End","UML Class Dgm":"UML Class Dgm",Class:"Class","Active Class":"Active Class","Simple Class":"Simple Class",Interface:"Interface","Simple Interface":"Simple Interface",Multiplicity:"Multiplicity",Package:"Package",Constraint:"Constraint","UML Use Case":"UML Use Case",Actor:"Actor","Use Case":"Use Case","Oval Container":"Oval Container","UML State/Activity":"UML State/Activity","Option Loop":"Option Loop","State Name":"State Name","Composite State":"Composite State","Off-Page Activity":"Off-Page Activity","Branch/Merge":"Branch/Merge","Horizontal Fork/Join":"Horizontal Fork/Join","Vertical Fork/Join":"Vertical Fork/Join","Flow Final":"Flow Final","History Pseudostate":"History Pseudostate",Object:"Object","Send Signal":"Send Signal","Receive Signal":"Receive Signal","Accept Time Event Action":"Accept Time Event Action","UML Squence":"UML Squence",LifeLine:"LifeLine",Activation:"Activation",Deletion:"Deletion","Option Loop Condition":"Option Loop Condition",Alternative:"Alternative",Entity:"Entity",Boundary:"Boundary",Control:"Control","UML Component":"UML Component",Component:"Component",Node:"Node","Component Box":"Component Box",Port:"Port",Assembly:"Assembly","Provided Interface":"Provided Interface","Required Interface":"Required Interface","UML Deployment":"UML Deployment","Node Instance":"Node Instance","UML Node Instance":"UML Node Instance","UML Component Instance":"UML Component Instance","UML Entity Relationship":"UML Entity Relatonship","Weak Entity":"Weak Entity",Attribute:"Attribute","Multivalued Attribute":"Multivalued Attribute",Relationship:"Relationship","Weak Relationship":"Weak Relationship","Direct Access Storage(Hard Disk)":"Direct Access Storage(Hard Disk)","BPMN 2.0":"BPMN 2.0",Terminator:"Terminator","Flowchart Shapes":"Flowchart Shapes","Containers Shape":"Containers Shape","Geometric Shapes":"Geometric Shapes",UML:"UML","Predifined\nProcess":"Predifined\nProcess","Multiple\nDocuments":"Multiple\nDocuments","Stored\nData":"Stored\nData","Internal\nStorage":"Internal\nStorage","Paper\nTape":"Paper\nTape","Manual\nOperation":"Manual\nOperation","Hard\nDisk":"Hard\nDisk","Event\nSub-Process":"Event\nSub-Process",Data:"Data",Event:"事件",Annotation:"Annotation",Container:"容器","<<interface>>\nInterface":"<<interface>>\nInterface",Attributes:"Attributes","Multivalued\nAttribute":"Multivalued\nAttribute","Weak\nRelationship":"Weak\nRelationship","Component\nInstance":"Component\nInstance",Frequency:"Frequency",State:"State",Action:"Action","Sub-Process":"Sub-Process",Message:"Message",Timer:"Timer",Escalation:"Escalation",Conditional:"Conditional",Link:"Link",Error:"Error",Cancel:"Cancel",Signal:"Signal",Multiple:"Multiple","Parallel Multiple":"Parallel Multiple",Terminate:"Terminate","Gateway Type":"Gateway Type",Exclusive:"Exclusive","Event Based":"Event Based",Parallel:"Parallel",Inclusive:"Inclusive","Exclusive Event Based":"Exclusive Event Based",Complex:"Complex","Parallel Event Based":"Parallel Event Based",Call:"Call","Sub Conversation":"Sub Conversation","Data Type":"Data Type",Collection:"Collection",Input:"Input",Output:"Output",Horizontal:"Horizontal",Vertical:"Vertical",A:"A",Application:"Application","Application Component":"Application Component","Application Collaboration":"Application Collaboration","Application Interface":"Application Interface","Application Function":"Application Function","Application Interaction":"Application Interaction","Application Process":"Application Process","Application Event":"Application Event","Application Service":"Application Service",Business:"Business","Business Actor":"Business Actor","Business Role":"Business Role","Business Collaboration":"Business Collaboration","Business Interface":"Business Interface","Business Process":"Business Process","Business Function":"Business Function","Business Interaction":"Business Interaction","Business Event":"Business Event","Business Service":"Business Service","Business Object":"Business Object",Contract:"Contract",Representation:"Representation",Product:"Product",Composite:"Composite",Location:"Location",Grouping:"Grouping","Implementation and Migration":"Implementation and Migration","Work Package":"Work Package",Deliverable:"Deliverable","Implementation Event":"Implementation Event",Plateau:"Plateau",Gap:"Gap",Motivation:"Motivation",Stakeholder:"Stakeholder",Driver:"Driver",Assessment:"Assessment",Goal:"Goal",Outcome:"Outcome",Principle:"Principle",Requirement:"Requirement",Meaning:"Meaning",Value:"Value",Physical:"Physical",Equipment:"Equipment",Facility:"Facility","Distribution Network":"Distribution Network",Material:"Material","Composition relation":"Composition relation","Aggregation relation":"Aggregation relation","Assignment relation":"Assignment relation","Realization relation":"Realization relation","Serving relation":"Serving relation",Relationships:"Relationships","Access relation":"Access relation","Influence relation":"Influence relation","Triggering relation":"Triggering relation","Flow relation":"Flow relation","Specialization relation":"Specialization relation","Association relation":"Association relation","Junction And":"Junction And","Junction Or":"Junction Or",Resource:"Resource",Capability:"Capability","Value Stream":"Value Stream","Course of Action":"Course of Action","Course of\nAction":"Course of\nAction",Device:"Device","System Software":"System Software","Technology Collaboration":"Technology Collaboration","Technology Interface":"Technology Interface",Path:"Path","Communication Network":"Communication Network","Technology Function":"Technology Function","Technology Process":"Technology Process","Technology Interaction":"Technology Interaction","Technology Event":"Technology Event","Technology Service":"Technology Service",Artifact:"Artifact","ArchiMate 3.0":"ArchiMate 3.0",Strategy:"Strategy",Technology:"Technology",Option:"Option",Yes:"Yes",No:"No","上下文关系图":"上下文关系图","Circuit Diagrams":"Circuit Diagrams",Electrical:"Electrical",EE_Amplifier:"Amplifier",EE_OpAmp:"Op Amp",EE_ControlledAmp:"Controlled Amp",EE_Multiplexer:"Multiplexer",EE_Demultiplexer:"Demultiplexer",EE_Capacitor1:"Capacitor 1",EE_Capacitor2:"Capacitor 2",EE_Diode:"Diode",EE_Resistor:"Resistor",EE_VariableResistor:"Variable Resistor",EE_Potentiometer:"Potentiometer",EE_ProtectiveEarth:"Protective Earth",EE_SignalGround:"Signal Ground",EE_Transformer:"Transformer",EE_Inductor:"Inductor",EE_VariableInductor:"Variable Inductor",EE_2WaySwitch:"2-Way Switch",EE_OnOffSwitch:"On/Off Switch",EE_Loudspeaker:"Loudspeaker",EE_Motor:"Motor",EE_LED1:"LED1",EE_Lightbulb:"Lightbulb",EE_IntegratedCircuit:"Integrated Circuit",IT:"IT","Power Sources":"Power Sources",EE_AcSource:"AC Voltage Source",EE_VoltageSource:"Voltage Source",EE_CurrentSource:"Current Source",EE_ControlledCurrentSource:"Controlled Current Source",EE_ControlledVoltageSource:"Controlled Voltage Source",EE_DcSource1:"DC Voltage Source 1",EE_DcSource2:"DC Voltage Source 2",EE_Vss:"Vss",EE_Vdd:"Vdd",Transisters:"Transisters",EE_BJT_PNP1_V2:"BJT PNP",EE_BJT_NPN1_V2:"BJT NPN",EE_JFET_P_V2:"JFET P-Channel",EE_JFET_N_V2:"JFET N-Channel",EE_MOSFET_P1_V2:"MOSFET P-Channel 1",EE_MOSFET_P2_V2:"MOSFET P-Channel 2",EE_MOSFET_P3_V2:"MOSFET P-Channel 3",EE_MOSFET_N1_V2:"MOSFET N-Channel 1",EE_MOSFET_N2_V2:"MOSFET N-Channel 2",EE_MOSFET_N3_V2:"MOSFET N-Channel 3",Relays:"Relays",EE_SPST:"SPST",EE_SPDT:"SPDT",EE_DPST:"DPST",EE_DPDT:"DPDT","Logic Gates":"Logic Gates",EE_AND:"AND",EE_OR:"OR",EE_Inverter:"Inverter",EE_NAND:"NAND",EE_NOR:"NOR",EE_XOR:"XOR",EE_NXOR:"NXOR",EE_DTypeRSFlipFlop:"D Type RS Flip Flop",EE_DTypeFlipFlop:"D Type Flip Flop",EE_DTypeFlipFlopWithClear:"D Type Flip Flop With Clear",EE_RSLatch:"RS Latch",EE_SyncRSLatch:"Synchronous RS Latch",EE_TTypeFlipFlop:"T Type Flip Flop",Miscellaneous:"Miscellaneous",EE_Plus:"Positive",EE_Negative:"Negative",EE_InverterContact:"Inverter Contact",EE_Voltmeter:"Voltmeter",EE_Ammeter:"Ammeter",EE_SineWave:"Sine Wave",EE_Sawtooth:"Sawtooth",EE_SquareWave:"Square Wave","Dynamic Shapes":"Dynamic Shapes",PipeH:"Pipe H",PipeV:"Pipe V",PipeCorner:"Pipe Corner",PipeCross:"Pipe Cross",PipeT:"T Pipe",Velocity:"Velocity",Cistern:"Cistern",Wave:"Water Level",low:"Low",middle:"Middle",high:"High",routePipeH:"Route Pipe H",routePipeV:"Route Pipe V",Tables:"Tables",Table:"Table","Banded Rows":"Banded Rows","Banded Columns":"Banded Columns","Table with Header":"Table with Header",Columns:"Columns",Rows:"Rows",Insert:"Insert",Colors:"Colors",Delete:"Delete",Striping:"Striping",DeleteRow:"Delete Row",DeleteColumn:"Delete Column",InsertLeft:"Insert Left",InsertRight:"Insert Right",InsertTop:"Insert Top",InsertBottom:"Insert Bottom",VerticalColor:"Vertical Color",HorizontalColor:"Horizontal Color",StripedRow:"striped Row",StripedColumns:"Striped Columns",Custom:"custom",Valve0:"Hand valve 2",Valve1:"Hand valve 3",Valve2:"Hand valve 4",Valve3:"High resolution valve positioner",Valve4:"Knob",Valve5:"Motor valve",Valve6:"Pinch valve",Valve7:"Plastic control valve",Valve8:"Plastic diaphragm valve",Valve9:"Plastic swing check valve",Valve10:"PVC check valve",Valve11:"PVC two-way ball valve",Valve12:"rotary plug valve",Valve13:"safety shutoff valve",Valve14:"safety valve",Valve15:"Simple valve",Valve16:"Solenoid valve",Valve17:"Valve handle 1",Valve18:"Valve handle 2",Valve19:"Valve wheel",Valve20:"3-D blowdown valve",Valve21:"3-D Butterfly valve or damper",Valve22:"3-D Check valve",Valve23:"3-D Control valve with hand actuator",Valve24:"3-D Cylinder actuated valve (double acting)",Valve25:"3-D Diaphragm actuated valve with positioner",Valve26:"3-D Diaphragm valve",Valve27:"3-D Flow regulator,self-contained",Valve28:"3-D Gate valve",Valve29:"3-D Hand control valve",Valve30:"3-D Plug valve",Valve31:"3-D Pressure safety valve",Valve32:"3-D Pressure-balanced diaphragm actuated",Valve33:"3-D Regulator,self-contained",Valve34:"3-D Regulator with external pressure tap",Valve35:"3-D Restriction orifice drilled in valve",Valve36:"3-D Rotary actuated",Valve37:"3-D Rotary plug valve",Valve38:"3-D Stop check valve",Valve39:"3-D Vacuum safety valve",Valve40:"3-D Valve,fail indeterminate",Valve41:"3-D Valve,fail locked",Valve42:"3-D Valve with actuator",Valve43:"3-D Valve with bleed or purge connection under disc",Valve44:"3-D Valve with long shaft",Valve45:"3-D Valve ",Valve46:"3-D Ball valve",Valve47:"air-operated shutoff valve",Valve48:"ball valve 1",Valve49:"ball valve 2",Valve50:"blue control valve with flange",Valve51:"blue control valve with no flange",Valve52:"check valve - horizontal",Valve53:"check valve -Vertical",Valve54:"compact valve",Valve55:"control valve",Valve56:"control valve - horizontal",Valve57:"control valve-Vertical",Valve58:"control valve 2",Valve59:"control valve 3",Valve60:"control valve with diaphragm activator",Valve61:"control valve with gray fitting",Valve62:"drain valve",Valve63:"globe control valve",Valve64:"handle valve - horizontal",Valve65:"handle valve -vertical ",Valve66:"hand valve 1",Valve67:"Purge valve",ProcessEquipment0:"steam trap 1",ProcessEquipment1:"steam trap 2",ProcessEquipment2:"thermal fluid heater 1",ProcessEquipment3:"thermal fluid heater 2",ProcessEquipment4:"turbocoil hot oil heater",ProcessEquipment5:"warming oven",ProcessEquipment6:"water heater system",ProcessEquipment7:"process heater 1",ProcessEquipment8:"process heater 2",ProcessEquipment9:"process heater 3",ProcessEquipment10:"process heater 4",ProcessEquipment11:"process heater 5",ProcessEquipment12:"process heater 6",ProcessEquipment13:"recirculating steam generator",ProcessEquipment14:"shell and tube condenser",ProcessEquipment15:"simple condenser",ProcessEquipment16:"simple heat exchanger",ProcessEquipment17:"simple steam generator 1",ProcessEquipment18:"simple steam generator 2",ProcessEquipment19:"steam generator 1",ProcessEquipment20:"steam generator 2",ProcessEquipment21:"steam generator 3",ProcessEquipment22:"steam generator 4",ProcessEquipment23:"steam mixer",ProcessEquipment24:"",ProcessEquipment25:"",ProcessEquipment26:"batch oven 1",ProcessEquipment27:"batch oven 2",ProcessEquipment28:"batch oven 3",ProcessEquipment29:"calender",ProcessEquipment30:"circulation heater",ProcessEquipment31:"compensator",ProcessEquipment32:"condenser 1",ProcessEquipment33:"condenser 2",ProcessEquipment34:"condenser 3",ProcessEquipment35:"conveyorized oven",ProcessEquipment36:"evaporator",ProcessEquipment37:"expansion loop",ProcessEquipment38:"flameless thermal oxidizer",ProcessEquipment39:"heat exchanger 1",ProcessEquipment40:"heat exchanger 2",ProcessEquipment41:"heat exchanger 3",ProcessEquipment42:"heat exchanger 4",ProcessEquipment43:"heat exchanger 5",ProcessEquipment44:"heat exchanger 6",ProcessEquipment45:"heat exchanger 7",ProcessEquipment46:"heat exchanger 8",ProcessEquipment47:"heat exchanger 9",ProcessEquipment48:"heat exchanger 10",ProcessEquipment49:"heat exchanger 11",ProcessEquipment50:"heat exchanger 12",ProcessEquipment51:"heat exchanger 13",ProcessEquipment52:"heat recovery system 1",ProcessEquipment53:"heat recovery system 2",ProcessEquipment54:"heat transfer  system",ProcessEquipment55:"heating element 1",ProcessEquipment56:"heating element 2",ProcessEquipment57:"hot oil heater ",ProcessEquipment58:"hot oil system",ProcessEquipment59:"immersion heater ",ProcessEquipment60:"indirect large volume water heater ",ProcessEquipment61:"low-emission burner",ProcessEquipment62:"power burner ",ProcessEquipment63:"sewage pipe",ProcessEquipment64:"MBR membrane",Blower0:"3-D ISA Blower",Blower1:"air compressor 1",Blower2:"air compressor 2",Blower3:"air compressor 3",Blower4:"air compressor 4",Blower5:"blower 1",Blower6:"blower 2",Blower7:"centrifugal air blower",Blower8:"centrifugal square inline fan",Blower9:"cool fan (animation frame 1)",Blower10:"cool fan (animation frame 2)",Blower11:"fan-power terminal unit ",Blower12:"fiberglass fan",Blower13:"fume exhauster ",Blower14:"gas pump",Blower15:"shaded fan",Blower16:"HVAC compressor",Blower17:"inline air filter ",Blower18:"mixed flow  inline fan ",Blower19:"natural gas compressor ",Blower20:"plastic blower ",Blower21:"pressure blower",Blower22:"radial fume exhauster ",Blower23:"reciprocating compressor",Blower24:"regenerative blower",Blower25:"simple blower",Blower26:"simple compressor 1",Blower27:"simple compressor 2",Blower28:"simple fan1 ",Blower29:"simple fan 2",Blower30:"single stage compressor",Blower31:"turbo blower",Blower32:"vaneaxial fan",Blower33:"vortex blower",Blower34:"aeration blower",Boiler0:"Boiler(perspective view)",Boiler1:"Boiler 1",Boiler2:"Boiler 2",Boiler3:"Boiler 3",Boiler4:"Boiler 4",Boiler5:"Boiler 5",Boiler6:"",Boiler7:"Boiler 6",Boiler8:"Boiler 7",Boiler9:"Boiler 8",Boiler10:"Boiler 9",Boiler11:"",Boiler12:"Boiler 10",Boiler13:"Boiler 11",Boiler14:"Boiler control 1",Boiler15:"Boiler control 2",Boiler16:"Boiler control 3",Boiler17:"Boiler symbol",Boiler18:"Boiler with flames and a pipe",Boiler19:"",Boiler20:"Boiler with flames ",Boiler21:"",Boiler22:"Boiler with small fire",Boiler23:"",Boiler24:"Electric hot water and steam boiler",Boiler25:"Firebox boiler",Boiler26:"Flexible water tube  boiler(cutaway)",Boiler27:"Flexible water tube  boiler",Boiler28:"Four-pass boiler",Boiler29:"Gas-fired boiler 1",Boiler30:"Gas-fired boiler 2",Boiler31:"Low emission boiler",Boiler32:"Oil fired boiler 1",Boiler33:"Oil fired boiler 2",Boiler34:"Packaged firetube boiler",Boiler35:"Pulse combustion boiler",Boiler36:"Skid-mounted boiler",Boiler37:"Steam boiler 1",Boiler38:"Steam boiler 2",Boiler39:"Thermal recycling boiler",Boiler40:"Water boiler",Chemicals0:"air scrubber",Chemicals1:"air stripper 1",Chemicals2:"air stripper 2",Chemicals3:"burn tower",Chemicals4:"chemical mixing tank",Chemicals5:"chemical process",Chemicals6:"chemical processing tower",Chemicals7:"crude unit",Chemicals8:"crystallizer",Chemicals9:"digester 1",Chemicals10:"digester 2",Chemicals11:"digester 3",Chemicals12:"digester 4",Chemicals13:"distillation column 1",Chemicals14:"distillation column 2",Chemicals15:"distillation column 3",Chemicals16:"distillation column 4",Chemicals17:"dryer unit ",Chemicals18:"evaporation process",Chemicals19:"evaporator 1",Chemicals20:"evaporator 2",Chemicals21:"evaporator 3",Chemicals22:"filter system 1",Chemicals23:"filter system 2",Chemicals24:"filter",Chemicals25:"fractionator",Chemicals26:"gas and liquid separator",Chemicals27:"gas processor",Chemicals28:"heated desiccant dryer",Chemicals29:"heatless desiccant dryer",Chemicals30:"process column 1",Chemicals31:"process column 2",Chemicals32:"process column 3",Chemicals33:"process column 4",Chemicals34:"process column 5",Chemicals35:"process column 6",Chemicals36:"process column 7",Chemicals37:"process column 8",Chemicals38:"process mixer",Chemicals39:"refinery tower",Chemicals40:"ribbon blender",Chemicals41:"segmented flux capacitor ",Chemicals42:"simple air stripper",Chemicals43:"simple draft-tube baffle crystallizer",Chemicals44:"simple fluidized bed crystallizer",Chemicals45:"stripper",Chemicals46:"thermal oxidizer",Chemicals47:"thermal processing tower",Chemicals48:"two-stage chiller",Architecture0:"",Architecture1:"",Architecture2:"",Architecture3:"Arch-style building",Architecture4:"Commercial building 1",Architecture5:"Commercial building 2",Architecture6:"Commercial building 3",Architecture7:"Commercial building 4",Architecture8:"Factory 1",Architecture9:"Factory 2",Architecture10:"Factory 3",Architecture11:"Factory 4",Architecture12:"Factory 5",Architecture13:"Factory 6",Architecture14:"Factory 7",Architecture15:"Factory 8",Architecture16:"Factory 9",Architecture17:"Industrial  building 1",Architecture18:"Industrial  building 2",Architecture19:"Industrial  building 3",Architecture20:"Industrial  building 4",Architecture21:"Industrial  building 5",Architecture22:"Industrial  building 6",Architecture23:"Industrial  building 7",Architecture24:"Industrial  building 8",Architecture25:"Industrial  building 9",Architecture26:"Industrial  building 10",Architecture27:"Industrial  building 11",Architecture28:"Industrial  building 12",Architecture29:"Industrial  building 13",Architecture30:"Industrial  building 14",Architecture31:"Industrial  building 15",Architecture32:"Industrial  building 16 ?",Architecture33:"Industrial  building 17",Architecture34:"Industrial  building with smoke stack",Architecture35:"Modular office 1",Architecture36:"Modular office 2",Architecture37:"Modular office 3",Architecture38:"Modular office 4",Architecture39:"Modular office 5",Architecture40:"Outdoor  enclosure",Architecture41:"Shelter",Pump0:"Pumps=> Oil pump",Pump1:"Pumps=> Oil well pump",Pump2:"Pumps=> Plunger pump",Pump3:"Pumps=> Positive displacement gear pump",Pump4:"Pumps=> Pumping trap",Pump5:"Pumps=> Rotary vacuum pump",Pump6:"Pumps=> Sealless pump",Pump7:"Pumps=> Solids-handling self-priming pump",Pump8:"Pumps=> SRH pump",Pump9:"Pumps=> Standard-flange positive displacement pump",Pump10:"Pumps=> Submersible sump pump 1",Pump11:"Pumps=> Centrifugal pump 1",Pump12:"Pumps=> Centrifugal pump 2",Pump13:"Pumps=> Centrifugal pump 3",Pump14:"Pumps=> Centrifugal pump 4",Pump15:"Pumps=> Centrifugal pump with integral pump-motor shaft",Pump16:"Pumps=> Chemical pump 1",Pump17:"Pumps=> Chemical pump 2",Pump18:"Pumps=> Classic pump 1",Pump19:"Pumps=> Classic pump 2",Pump20:"Pumps=> Classic pump 3",Pump21:"Pumps=> Classic pump 4",Pump22:"Pumps=> Classic pump 5",Pump23:"Pumps=> Cool pump",Pump24:"Pumps=> Corrosion resistant submersible pump",Pump25:"Pumps=> Corrosion resistant continuous pump",Pump26:"Pumps=> Diaphragm pump",Pump27:"Pumps=> End-suction centrifugal pump",Pump28:"Pumps=> Explosion-proof pump",Pump29:"Pumps=> Heavy-duty plastic centrifugal pump",Pump30:"Pumps=> High temp heat  trans pump",Pump31:"Pumps=> Horizontal pump (left)",Pump32:"Pumps=> Horizontal pump (right)",Pump33:"Pumps=> Horizontal pump 1",Pump34:"Pumps=> Horizontal pump 2 (left)",Pump35:"Pumps=> Horizontal pump 2 (right)",Pump36:"Pumps=> Horizontal pump 3",Pump37:"Pumps=> Horizontal pump 4",Pump38:"Pumps=> Horizontal pump 5",Pump39:"Pumps=> Vertical pump 2",Pump40:"Pumps=> Vertical pump 3",Pump41:"Pumps=> Vertical pump 4",Pump42:"Pumps=> Vertical pump 5",Pump43:"Pumps=> Vertical pump 6",Pump44:"Pumps=> Vertical pump 7",Pump45:"Pumps=> Vertical pump 8",Pump46:"Pumps=> Vertical pump 9",Pump47:"Pumps=> Vertical pump 10",Pump48:"Pumps=> Vertical pump 11",Pump49:"Pumps=> Simple pump",Pump50:"Pumps=> Yellow pump",Pump51:"Pumps=> Horizontal solids handling vortex pump",Pump52:"Pumps=> Isolating diaphragm pump",Pump53:"Pumps=> Mag drive non-metallic pump",Pump54:"Pumps=> Mag drive pump 1",Pump55:"Pumps=> Mag drive pump 2",Pump56:"Pumps=> Mag drive pump 3",Pump57:"Pumps=> Metering pump 1",Pump58:"Pumps=> Metering pump 2",Pump59:"Pumps=> Pump for highly-corrosive applications",Pump60:"Pumps=> Self-priming centrifugal pump",Pump61:"Pumps=> Submersible sump pump",Pump62:"",Pump63:"Pumps=> Vacuum pump",Pump64:"Pumps=> Vertical pump (down)",Pump65:"Pumps=> Vertical pump (up)",Pump66:"Pumps=> Vertical pump 1",Pump67:"Pumps=> Backwash pump",Pump68:"Pumps=> Return pump",Pump69:"Pumps=> Membrane self-priming pump",Pump70:"Pumps=> Pump 2",Pump71:"Pumps=> Elevator pump",Motor0:"3-D ISA Motor 1",Motor1:"3-D ISA Motor 2",Motor2:"3-D Motor",Motor3:"Actuator",Motor4:"Brake motor",Motor5:"Brushless motor",Motor6:"Explosion-proof motor",Motor7:"Inverter drive",Motor8:"ISA motor",Motor9:"Motor 1",Motor10:"Motor 2",Motor11:"Motor 3",Motor12:"Motor 4",Motor13:"Motor 5",Motor14:"Motor 6",Motor15:"Motor 8",Motor16:"Motor 9",Motor17:"Motor 10",Motor18:"Motor 11",Motor19:"Motor 12",Motor20:"Motor 13",Motor21:"Motor 14",Motor22:"Motor 15",Motor23:"Motor 16",Motor24:"Motor 17",Motor25:"Motor 18",Motor26:"Motor 19",Motor27:"Pneumatic brake",Motor28:"Servo motor 1",Motor29:"Servo motor 2",Motor30:"Shaft encoder",Motor31:"Simple motor 1",Motor32:"Simple motor 2",Motor33:"Simple motor 3",Motor34:"smart motor",Motor35:"Speed reducer",Motor36:"Stepping motor-driver unit",CGContainer0:"Plastic pallet 5 (side view)",CGContainer1:"Platic pallet 3(side view)",CGContainer2:"Plastic pallet 4(perspective view)",CGContainer3:"Platic pallet 2(side view)",CGContainer4:"2-liter bottle",CGContainer5:"3-D cardboard box, sealed",CGContainer6:"Gray barrel",CGContainer7:"Bottle",CGContainer8:"Box sealed with OSHA tape",CGContainer9:"Bucket",CGContainer10:"Bulk container",CGContainer11:"Can",CGContainer12:"Cardboard box 1 ,sealed",CGContainer13:"Cardboard box 2 ,sealed",CGContainer14:"Cardboard box with up arrows,closed",CGContainer15:"Cardboard box with up arrows,sealed",CGContainer16:"Cardboard box,closed",CGContainer17:"Cardboard box,no flaps",CGContainer18:"Cardboard box,open",CGContainer19:"Cardboard box,top view,closed",CGContainer20:"Cardboard box , top view ,open",CGContainer21:"Box sealed with OSHA tape",CGContainer22:"Container 1",CGContainer23:"Container 2",CGContainer24:"Crate 1",CGContainer25:"Crate 2",CGContainer26:"Fiberglass square mesh grating(perspective view)",CGContainer27:"Fiberglass square mesh grating(top view)",CGContainer28:"Blue barrel",CGContainer29:"Dark grey barrel",CGContainer30:"pink barrel",CGContainer31:"Heavy barrel",CGContainer32:"Open-head shipping container",CGContainer33:"Packaging icon",CGContainer34:"Polyethylene jar",CGContainer35:"Prescription bottle",CGContainer36:"Sealed box with bar code",CGContainer37:"Simple box sealed with OSHA tape",CGContainer38:"Simple box ，top view  ，closed",CGContainer39:"Simple box ，top view  ，open",CGContainer40:"Simple box ，top view  ，sealed",CGContainer41:"Simple sealed box with bar code",CGContainer42:"Spill deck(perspective view)",CGContainer43:"Spill deck(side view)",CGContainer44:"Brown barrel",CGContainer45:"Platic pallet 5(perspective view)",CGContainer46:"Pallet",CGContainer47:"Pill bottle",CGContainer48:"Plastic container 1",CGContainer49:"Plastic container 2",CGContainer50:"Plastic container 3",CGContainer51:"Platic pallet 1(front view)",CGContainer52:"Platic pallet 1 (perspective view)",CGContainer53:"Platic pallet 2(perspective view)",CGContainer54:"Platic pallet 4(side view)",CGContainer55:"Platic pallet 3(perspective view)",Hooper0:"Material Handling => Hopper 1",Hooper1:"Material Handling => Hopper 2",Hooper2:"Material Handling => Hopper 3",Hooper3:"Material Handling => Hopper 4",Hooper4:"Material Handling => Hopper 5",Hooper5:"Material Handling => Hopper 6",Hooper6:"Material Handling => Hopper 7",Hooper7:"Material Handling => Hopper 8",Hooper8:"Material Handling => Hopper 9",Hooper9:"Material Handling => Hopper 10",Hooper10:"Material Handling => Hopper 11",Hooper11:"Material Handling => Hopper 12",Hooper12:"",Hooper13:"",Hooper14:"",Hooper15:"",Hooper16:"",Hooper17:"",Hooper18:"",Hooper19:"",Hooper20:"",Hooper21:"",Hooper22:"",Hooper23:"",Hooper24:"",Hooper25:"",Hooper26:"",Hooper27:"",Cooler0:"",Cooler1:"",Cooler2:"",Cooler3:"",Cooler4:"",Cooler5:"Process Cooling =>Cooling tower 1",Cooler6:"Process Cooling =>Cooling tower 2",Cooler7:"Process Cooling =>Cooling tower 3",Cooler8:"Process Cooling =>Cooling tower 4",Cooler9:"Process Cooling =>Cooling tower 5",Cooler10:"Process Cooling =>Cooling unit",Cooler11:"",Cooler12:"",Cooler13:"",Cooler14:"",Cooler15:"",Cooler16:"",Cooler17:"",Cooler18:"",Cooler19:"",OilTank0:"",OilTank1:"",OilTank2:"Tanks =>Air tank",OilTank3:"",OilTank4:"",OilTank5:"",OilTank6:"",OilTank7:"",OilTank8:"",OilTank9:"Tanks =>Corrosion resistant tank(medium)",OilTank10:"Tanks =>Corrosion resistant tank(short)",OilTank11:"Tanks =>Corrosion resistant  tank(tall)",OilTank12:"Tanks =>Day tank",OilTank13:"Tanks => tank 14",OilTank14:"Tanks =>Elliptical bulk storage tank",OilTank15:"Tanks =>Free-standing leg tank",OilTank16:"Tanks =>Glass lined tank",OilTank17:"",OilTank18:"Tanks => tank 41",OilTank19:"",OilTank20:"",OilTank21:"",OilTank22:"Tanks => Hydropneumatic tank",OilTank23:"Tanks =>Large cone-bottom polyethylene tank",OilTank24:"",OilTank25:"Tanks => Mix tank",OilTank26:"Tanks =>Molded  polyethylene tank",OilTank27:"Tanks => Polythylene chemical mix tank",OilTank28:"Tanks => Polythylene mix and fill tank",OilTank29:"Tanks => Polythylene storage tank with twin legs",OilTank30:"Tanks => Polythylene storage tank",OilTank31:"Tanks => Polythylene tank 1",OilTank32:"Tanks => Polythylene tank 2",OilTank33:"Tanks => Polythylene tank with mixer",OilTank34:"",OilTank35:"",OilTank36:"",OilTank37:"",OilTank38:"",OilTank39:"",OilTank40:"",OilTank41:"",OilTank42:"Tanks =>Reactor tank",OilTank43:"",OilTank44:"",OilTank45:"Tanks =>Reinforced tank with mixer",OilTank46:"",OilTank47:"",OilTank48:"Tanks =>Welded tank",OilTank49:"Tanks => Tank with rivets 1",OilTank50:"Tanks => Tank with rivets and ladder",OilTank51:"Tanks => Underground storage  tank or  butterfly larva",OilTank52:"Tanks => very smooth tank 1",OilTank53:"Tanks => very smooth tank 2",OilTank54:"Tanks => very smooth tank 3",OilTank55:"Tanks => very smooth tank 4",OilTank56:"Tanks => tank 24",OilTank57:"Tanks => tank 25",OilTank58:"Tanks => tank 26",OilTank59:"Tanks => tank 27",OilTank60:"Tanks => tank 28",OilTank61:"Tanks => tank 29",OilTank62:"Tanks => tank 30",OilTank63:"Tanks => tank 31",OilTank64:"Tanks => tank 32",OilTank65:"Tanks => tank 33",OilTank66:"Tanks => tank 34",OilTank67:"Tanks => tank 35",OilTank68:"Tanks => tank 36",OilTank69:"Tanks => tank 37",OilTank70:"Tanks => tank 38",OilTank71:"Tanks => tank 39",OilTank72:"Tanks => tank 40",OilTank73:"Tanks => tank bank",OilTank74:"Tanks => tank support 1",OilTank75:"Tanks => tank support 2",OilTank76:"Tanks => Tank with cutaway",OilTank77:"Tanks => Tank with hatch",OilTank78:"Tanks => Tank with rivets 1",OilTank79:"Tanks => tank 23",OilTank80:"Tanks => tank 15",OilTank81:"Tanks => tank 16",OilTank82:"Tanks => tank 17",OilTank83:"Tanks => tank 18",OilTank84:"Tanks => tank 19",OilTank85:"Tanks => tank 20",OilTank86:"Tanks => tank 21",OilTank87:"Tanks => tank 22",OilTank88:"",OilTank89:"Tanks => Simple process tank",OilTank90:"Tanks =>Simple tank system 1",OilTank91:"Tanks =>Simple tank system 2",OilTank92:"Tanks =>Simple tank system 3",OilTank93:"Water & Wastewater => Wastewater tank",OilTank94:"Tanks => Spherical tank 1",OilTank95:"Tanks => Spherical tank 2",OilTank96:"Tanks => Spherical tank with rivets",OilTank97:"",OilTank98:"",OilTank99:"",OilTank100:"",OilTank101:"",OilTank102:"",OilTank103:"",OilTank104:"",OilTank105:"",OilTank106:"",OilTank107:"",OilTank108:"",OilTank109:"",OilTank110:"",OilTank111:"",OilTank112:"Tanks => Strorage tank with ladder",OilTank113:"Tanks => tank 1",OilTank114:"Tanks => tank 2",OilTank115:"Tanks => tank 3",OilTank116:"Tanks => tank 4",OilTank117:"Tanks => tank 5",OilTank118:"Tanks => tank 6",OilTank119:"Tanks => tank 7",OilTank120:"Tanks => tank 8",OilTank121:"Tanks => tank 9",OilTank122:"Tanks => tank 10",OilTank123:"Tanks => tank 11",OilTank124:"Tanks => tank 12",OilTank125:"Tanks => tank 13",Others0:"bubble",Others1:"cesspoolage truck",Others2:"manometer",Others3:"ph-meter"}}});const Xt=$(a.e.LinkingTool);function Kt(){Xt.call(this),this.linkingCursor="crosshair"}a.e.Diagram.inherit(Kt,Xt),Kt.prototype.canStart=function(){return!!this.diagram.pageSetting.diagramSetting.linkingAdornmentVisible&&a.e.LinkingTool.prototype.canStart.call(this)},Kt.prototype.doActivate=function(t,e){this._init(),this._createTemporaryLink(),this._changeTemporaryPort(),this.diagram.clearSelection(),this._removeAllAnchorAdornment(),a.e.LinkingTool.prototype.doActivate.call(this),Object(O.clearToolTip)(this.diagram),this.diagram.model.skipsUndoManager=!0,(!this.originalFromNode||T.c.includes(this.originalFromNode.data.category)||this.originalFromNode.data.lock)&&this.stopTool(),this.insertLabel(),this._addStrokeAdornment(this.startObject,!0),t&&(this.startSpot=e,this._setLinkSpot(null,t,e)),this.doMouseMove(),this._changePortShape(this.startObject,!this.isForwards)},Kt.prototype.doMouseMove=function(){this.isShiftLine=null,this.shiftSpot=null,this._calcShiftPoints();const t=this.findTargetLinkAsPort(this.isForwards,!0);t&&this.mouseMoveNumber>5?this._setTempLabelNode(t):this._removeTempLabelNode(),a.e.LinkingTool.prototype.doMouseMove.call(this);const e=this.findTargetPart(this.isForwards,!0);if(e){this.targetPort=e.findPort("");const t=this.targetPort.part;this.targetPort?this.isForwards?this.copyPortProperties(t,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(t,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1):this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1)}const n=e&&e.findPort("");this._adjustShiftState(n),this._changePortShape(n,this.isForwards),this._shiftChangeLink(),this.mouseMoveNumber<10&&this.mouseMoveNumber++;const i=this.targetPort;this._setSpotProcess(i,e),e?this._addAnchorAdornment(e):this._removeAnchorAdornment()},Kt.prototype.doMouseUp=function(){const t=this.diagram;if(this.diagram.model.skipsUndoManager=!1,this.isActive){this.transactionResult=null;let e=null,n=null,i=null,o=null,r=null;try{const s=this.findTargetPart(this.isForwards);this.targetPort=s&&s.findPort("");const c=this.targetPort;if(null!==c){const t=c.part;t instanceof a.e.Node&&(this.isForwards?(null!==this.originalFromNode&&(e=this.originalFromNode,n=this.originalFromPort),i=t,o=c):(e=t,n=c,null!==this.originalToNode&&(i=this.originalToNode,o=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(e=this.originalFromNode,n=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(i=this.originalToNode,o=this.originalToPort);r=this.insertLink(e,n,i,o),this.originalLink=r,null===r||this.mouseMoveNumber<5?(t.model.clearUnresolvedReferences(),this.doNoLink(e,n,i,o)):(null===c&&(this.isForwards?r.defaultToPoint=t.lastInput.documentPoint:r.defaultFromPoint=t.lastInput.documentPoint),this.tempLabelNode&&(this.tempLabelNode.findLinksConnected().count||this.diagram.remove(this.tempLabelNode),this.tempLabelNode=null),this.markInner(r),this.copyTempLinkProperty(r),t.allowSelect&&(t.raiseDiagramEvent("ChangingSelection",t.selection),t.clearSelection(!0),r.isSelected=!0),this.transactionResult=this.name,t.raiseDiagramEvent("LinkDrawn",r))}finally{const e=this.startObject,n=this.temporaryLink.fromSpot.copy();this.stopTool(),this.originalLink=null,this._removeAllStrokeAdornment(),this._removeAllAnchorAdornment(),r&&t.allowSelect&&t.raiseDiagramEvent("ChangedSelection",t.selection),this.mouseMoveNumber<5&&(this.isClickAnchor?function(t,e,n){const i=t.diagram.toolManager.linkingTool.archetypeLinkData,o=n.part;if(!o)return;t.diagram.startTransaction("ClickCreateLink");const{strokeWidth:r,category:s,portArray:c}=o.data,h=new a.e.List,d=o.findPort("")||o.findObject("SHAPE"),u=o.actualBounds;let f=e.x,p=e.y;s.startsWith("circuit")||"electronic"===s||(f=Number(f.toFixed(1)),p=Number(p.toFixed(1)));const m=t.diagram.lastInput.documentPoint;let y="right";e.x>.5&&(.5===p||1===f)?(y="right",.5===p&&c.find(t=>.5===Number(t.y.toFixed(1))&&t.x>e.x)&&(y="left")):e.y>.5&&(.5===f||1===p)?(y="bottom",.5===f&&c.find(t=>.5===Number(t.x.toFixed(1))&&t.y>e.y)&&(y="top")):e.x<.5&&(.5===p||0===f)?(y="left",.5===p&&c.find(t=>.5===Number(t.y.toFixed(1))&&t.x<e.x)&&(y="right")):e.y<.5&&(.5===f||0===p)?(y="top",.5===f&&c.find(t=>.5===Number(t.x.toFixed(1))&&t.y<e.y)&&(y="bottom")):.5===f&&.5===p&&(y=m.y<u.y?"top":m.y>u.y+u.height?"bottom":m.x>u.x+u.width?"right":m.x<u.x?"left":"right");const{linkAngle:v,orientTimes:w}=function(t,e){const n=["top","right","bottom","left"],i=n.indexOf(t),a=Math.floor(e/90);let o=i+a;o>=n.length&&(o-=n.length);return{linkAngle:n[o],orientTimes:a}}(y,o.angle),x=function(t,e,n){return{0:{x:e,y:n},1:{x:1-n,y:1-e},2:{x:1-e,y:1-n},3:{x:n,y:e}}[t]}(w,f,p),b=function(t,e,n,i){let o=null;switch(e){case"top":o=new a.e.Spot(n,0);break;case"right":o=new a.e.Spot(1,i);break;case"bottom":o=new a.e.Spot(n,1);break;case"left":o=new a.e.Spot(0,i)}const r=t.getDocumentBounds(),s=new a.e.Point(r.x,r.y);return s.x=r.x+r.width*o.x|0,s.y=r.y+r.height*o.y|0,s}(d,v,x.x,x.y),S=b.x,k=b.y,P=new a.e.Point(S,k),M=function(t,e,n,i,o){let r,s=o&&1!==o?o/2:0;switch(t){case"top":s=Math.ceil(s),r=new a.e.Point(e,n-i+s);break;case"right":s=Math.floor(s),r=new a.e.Point(e+i-s,n);break;case"bottom":s=Math.floor(s),r=new a.e.Point(e,n+i-s);break;case"left":s=Math.ceil(s),r=new a.e.Point(e-i+s,n)}return r}(v,S,k,80,r);h.add(P),h.add(M);const _=t.diagram.model.modelData.toolStyle||{},L={from:o.data.key,fromArrow:"none",fromPort:"",fromSpot:a.e.Spot.stringify(e),fromEndSegmentLength:T.a,points:h,to:"",toPort:"",toArrow:"SimpleTriangle",toEndSegmentLength:T.h,linkAngle:v,strokeDashArray:null,layerName:Object(g.e)(t.diagram),..._,linkItems:[]};_.routing||(L.routing=i.routing||"Orthogonal");var O,A;"Bezier"!==L.curve&&L.curve!==a.e.Link.Bezier&&(null!==(O=t.diagram.pageSetting)&&void 0!==O&&null!==(A=O.pageOptions)&&void 0!==A&&A.linkJumpOver?L.curve="JumpOver":L.curve=!_.curve&&(i.curve||"None"));$t(o,L),t.diagram.model.addLinkData(L),t.diagram.clearSelection();const E=t.diagram.findLinkForData(L);E.isSelected=!0,t.diagram.raiseDiagramEvent("LinkDrawn",E),t.diagram.commitTransaction("ClickCreateLink"),Object(l.h)(t.diagram,t.diagram.selection)}(this.diagram.lastInput,n,e):(this.diagram.toolManager.clickSelectingTool.doActivate(),this.diagram.toolManager.clickSelectingTool.doMouseUp())),this.isClickAnchor=!1,t.freeDrawLine&&(t.freeDrawLine=!1),r&&r.updateTargetBindings(),this.restoreState()}}},Kt.prototype.doKeyDown=function(){a.e.LinkingTool.prototype.doKeyDown.call(this),this.diagram.setGridSnapEnabled(!1)},Kt.prototype.doKeyUp=function(){a.e.LinkingTool.prototype.doKeyUp.call(this),this.diagram.setGridSnapEnabled()},Kt.prototype.insertLabel=function(){if(this.originalFromNode&&this.temporaryLink.data){const t=$t(this.originalFromNode,this.temporaryLink.data);t?this.archetypeLinkData.linkItems=t:(this.archetypeLinkData.linkItems=[],this.temporaryLink.data.linkItems=[])}};const Zt={"UML State/Activity":["Branch/Merge"],Flowchart:["Decision"]};function $t(t,e){const n=t.data,{shapeParentName:i,shapeName:a}=n;if(i&&a&&Zt[i]&&Zt[i].includes(a)){const n=t.findLinksOutOf().count;let i="";if(0===n?i=Yt.t("Yes"):1===n?i=Yt.t("No"):n>=2&&(i=Yt.t("Option")),i)return e.linkItems=[{label:i,segmentFraction:.5}],JSON.parse(JSON.stringify(e.linkItems))}}const Jt=$(a.e.RelinkingTool);function Qt(){Jt.call(this),this.linkingCursor="move",this._originalLinkBounds=new a.e.Rect}a.e.Diagram.inherit(Qt,Jt),Qt.prototype.doActivate=function(){this._init(),this._changeTemporaryPort(),this.originalLink.isSelected=!1,this._removeAllAnchorAdornment(),this._createTemporaryLink(),a.e.RelinkingTool.prototype.doActivate.call(this),Object(O.clearToolTip)(this.diagram),this.diagram.model.skipsUndoManager=!0,this.startObject=this.isForwards?this.originalFromPort:this.originalToPort,this.targetPort=this.isForwards?this.originalToPort:this.originalFromPort,this._changePortShape(this.startObject,!this.isForwards),this.isForwards?(this.startSpot=this.originalLink.fromSpot&&this.originalLink.fromSpot.copy(),this.startObject&&this.startObject.part.isLinkLabel&&(this.temporaryLink.fromNode=this.startObject.part)):(this.startSpot=this.originalLink.toSpot&&this.originalLink.toSpot.copy(),this.startObject&&this.startObject.part.isLinkLabel&&(this.temporaryLink.toNode=this.startObject.part)),this._setLinkSpot(null,"fromSpot",this.originalLink.fromSpot&&this.originalLink.fromSpot.copy()),this._setLinkSpot(null,"toSpot",this.originalLink.toSpot&&this.originalLink.toSpot.copy()),this.clearInvalidAdornments(this.originalLink);const t=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,this._oldopacity=this.originalLink.data.opacity,this.diagram.model.setDataProperty(this.originalLink.data,"opacity",0),this.diagram.skipsUndoManager=t},Qt.prototype.clearInvalidAdornments=function(t){const e=["ANIMATION_ADORNMENT"],n=t.adornments;if(null===n)return;const i=[],a=n.iterator;for(;a.next();){const t=a.key;i.push(t)}i.forEach(n=>{~e.indexOf(n)||t.removeAdornment(n)})},Qt.prototype._doActivate=function(){const t=this.diagram;if(null===this.originalLink){let e=this.handle;if(null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"),null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo"))),null===e)return;const n=e.part;if(!(n instanceof a.e.Adornment))return;if(!(n.adornedPart instanceof a.e.Link))return;this.handle=e,this.isForwards=null===n||"RelinkTo"===n.category,this.originalLink=n.adornedPart}this.startTransaction(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this._originalLinkBounds.set(this.originalLink.actualBounds),null!==this.originalLink&&this.originalLink.pointsCount>0&&(null===this.originalLink.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=new a.e.Size(.1,.1)),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=this.originalLink.getPoint(0))),null===this.originalLink.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=new a.e.Size(.1,.1)),null!==this.temporaryToNode&&(this.temporaryToNode.location=this.originalLink.getPoint(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),t.add(this.temporaryLink)),this.isActive=!0},Qt.prototype.doMouseMove=function(){this.isShiftLine=null,this.shiftSpot=null,this._calcShiftPoints();const t=this.findTargetLinkAsPort(this.isForwards,!0);t?this._setTempLabelNode(t):this._removeTempLabelNode(),a.e.RelinkingTool.prototype.doMouseMove.call(this);const e=this.findTargetPart(this.isForwards,!0);if(e&&(this.targetPort=e.findPort("")),this.targetPort){const t=this.targetPort.part;this.isForwards?this.copyPortProperties(t,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(t,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);const n=e&&e.findPort("");this._adjustShiftState(n),this._changePortShape(n,this.isForwards),this._shiftChangeLink(),this.mouseMoveNumber<10&&this.mouseMoveNumber++;const i=this.targetPort;this._setSpotProcess(i,e),e?this._addAnchorAdornment(e):this._removeAnchorAdornment()},Qt.prototype.doMouseUp=function(){this._doMouseUp(),this._removeAllAnchorAdornment()},Qt.prototype._doMouseUp=function(){if(this.diagram.model.skipsUndoManager=!1,this.isActive){const t=this.diagram;this.transactionResult=null;let e=this.originalFromNode,n=this.originalFromPort,i=this.originalToNode,o=this.originalToPort,r=this.originalLink;delete this.temporaryLink._savePoints;const s=this.findTargetPart(this.isForwards);if(s&&(this.targetPort=s.findPort("")),null!==this.targetPort){const t=this.targetPort.part;t instanceof a.e.Node&&(this.isForwards?(i=t,o=this.targetPort):(e=t,n=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?(i=null,o=null):(e=null,n=null):r=null;null!==r?(this.reconnectLink(r,this.isForwards?i:e,this.isForwards?o:n,this.isForwards),this.markInner(r),this.tempLabelNode&&(this.tempLabelNode.findLinksConnected().count||this.diagram.remove(this.tempLabelNode),this.tempLabelNode=null),null===this.targetport&&(this.isForwards?r.defaultToPoint=t.lastInput.documentPoint:r.defaultFromPoint=t.lastInput.documentPoint),r.isOrthogonal&&this.temporaryLink.pointsCount<=2&&(this.temporaryLink.data.reshaped=!1),this.copyTempLinkProperty(r),r.updateRoute(),t.allowSelect&&(r.isSelected=!0),this.transactionResult=this.name,t.raiseDiagramEvent("LinkRelinked",r,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.invalidateOtherJumpOvers(this._originalLinkBounds),this.restoreState()}const t=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,this.diagram.model.setDataProperty(this.originalLink.data,"opacity","number"==typeof this._oldopacity?this._oldopacity:1),this.diagram.skipsUndoManager=t,delete this.originalLink.mark,delete this.originalLink.markResult,this.stopTool(),this.diagram.raiseDiagramEvent("ChangedSelection",this.diagram.selection)},Qt.prototype.doKeyDown=function(){a.e.RelinkingTool.prototype.doKeyDown.call(this),this.diagram.setGridSnapEnabled(!1)},Qt.prototype.doKeyUp=function(){a.e.RelinkingTool.prototype.doKeyUp.call(this),this.diagram.setGridSnapEnabled()};var te=n(46);const ee=a.e.GraphObject.make;function ne(){a.e.LinkReshapingTool.call(this),this.currentState="init",this.baseStyle={hoverHandlerSize:9,handlerSize:7,segmentHandleSize:10,RESHAPE_HANDLE_STROKE:_.a,RESHAPE_HANDLE_FILL:_.a,RESEGMENT_HANDLE_STROKE:_.a,RESEGMENT_HANDLE_FILL:"#99bce8",SEGMENT_HANDLE_STROKE:_.a,SEGMENT_HANDLE_FILL:"#fff"},this.minReShapeLength=22,this.minLength=20,this.maxLength=20,this.BrokenLength=20,this.gravityLength=10,this.isMove=!0,this.offsetPoint=0,this.reshapeNum=0,this.insertingNode=!1,this.isFirstReshape=!0,this.gravity=6,this.activeTime=0,this.bezierhandleLink={key:null,arrayParts:[]}}function ie(t,e){if(!e.diagram.findObjectsAt(e.diagram.lastInput.documentPoint,t=>"segmentHandler"===t.name?t:null).first()){const e=[];t.elements.each(t=>{t&&"segmentHandler"===t.name&&e.push(t)}),e.forEach(e=>{t.remove(e)})}}function ae(t,e){const n=e.pointsCount-1;if(null===e||!e.resizable||!e.isOrthogonal||e.curve===a.e.Link.Bezier){if(e.curve===a.e.Link.Bezier){for(let i=0;i<n-1;i++){const n=ee(a.e.Shape,"Circle",{width:this.baseStyle.handlerSize,height:this.baseStyle.handlerSize,scale:1/e.diagram.scale,stroke:this.baseStyle.RESEGMENT_HANDLE_STROKE,fill:"#fff",segmentIndex:i,segmentFraction:1,cursor:"default",segmentOrientation:a.e.Link.OrientAlong,mouseEnter:(t,e)=>{e.fill=this.baseStyle.RESEGMENT_HANDLE_STROKE},mouseLeave:(t,e)=>{e.fill="#fff"}});this.setReshapingBehavior(n,a.e.LinkReshapingTool.All),t.add(n)}return t}for(let i=0;i<n-1;i++){const n=ee(a.e.Shape,"Rectangle",{name:"straightSegmentHandle",width:this.baseStyle.segmentHandleSize,height:this.baseStyle.segmentHandleSize,scale:1/e.diagram.scale,stroke:this.baseStyle.SEGMENT_HANDLE_STROKE,fill:this.baseStyle.SEGMENT_HANDLE_FILL,cursor:"move",segmentIndex:i,segmentFraction:1,segmentOrientation:a.e.Link.None});this.setReshapingBehavior(n,a.e.LinkReshapingTool.All),t.add(n)}for(let i=0;i<n;i++){const n=ee(a.e.Shape,"Rectangle",{name:"straightResegmentHandle",width:this.baseStyle.handlerSize,height:this.baseStyle.handlerSize,scale:1/e.diagram.scale,stroke:this.baseStyle.RESHAPE_HANDLE_STROKE,fill:this.baseStyle.RESHAPE_HANDLE_FILL,cursor:"crosshair",segmentIndex:i,segmentFraction:.5,segmentOrientation:a.e.Link.None});this.setReshapingBehavior(n,a.e.LinkReshapingTool.All),t.add(n)}return t}for(let i=0;i<n;i++){const n=e.getPoint(i),o=e.getPoint(i+1);let r=Math.max(Math.abs(n.x-o.x),Math.abs(n.y-o.y));r=r-2>0?r-this.baseStyle.handlerSize:r;const s=ee(a.e.Shape,{name:"moveAlongLine",strokeWidth:6,opacity:0,geometryString:"M 0 0 L "+r+" 0",segmentIndex:i,segmentFraction:.5,segmentOrientation:a.e.Link.OrientAlong,toMaxLinks:999,cursor:e.fromNode||e.toNode?"auto":"move",mouseEnter:(n,o)=>{if(!e.resegmentable)return;const r=ee(a.e.Shape,"Rectangle",{name:"segmentHandler",width:this.baseStyle.handlerSize,height:this.baseStyle.handlerSize,scale:1/e.diagram.scale,stroke:this.baseStyle.RESEGMENT_HANDLE_STROKE,fill:this.baseStyle.RESEGMENT_HANDLE_FILL,segmentIndex:i,segmentFraction:.25,segmentOrientation:a.e.Link.OrientAlong,mouseEnter:(t,e)=>{e.width=this.baseStyle.hoverHandlerSize,e.height=this.baseStyle.hoverHandlerSize},mouseLeave:(e,n)=>{n.width=this.baseStyle.handlerSize,n.height=this.baseStyle.handlerSize,ie(t,e)}}),s=ee(a.e.Shape,"Rectangle",{name:"segmentHandler",width:this.baseStyle.handlerSize,height:this.baseStyle.handlerSize,scale:1/e.diagram.scale,stroke:this.baseStyle.RESEGMENT_HANDLE_STROKE,fill:this.baseStyle.RESEGMENT_HANDLE_FILL,segmentIndex:i,segmentFraction:.75,segmentOrientation:a.e.Link.OrientAlong,mouseEnter:(t,e)=>{e.width=this.baseStyle.hoverHandlerSize,e.height=this.baseStyle.hoverHandlerSize},mouseLeave:(e,n)=>{n.width=this.baseStyle.handlerSize,n.height=this.baseStyle.handlerSize,ie(t,e)}});this.makeSegmentDragHandle(e,t,i,r),this.makeSegmentDragHandle(e,t,i,s)},mouseLeave(e,n){ie(t,e)}});t.add(s)}for(let i=0;i<n;i++){const n=ee(a.e.Shape,"Rectangle",{width:this.baseStyle.handlerSize,height:this.baseStyle.handlerSize,scale:1/e.diagram.scale,stroke:this.baseStyle.RESHAPE_HANDLE_STROKE,fill:this.baseStyle.RESHAPE_HANDLE_FILL,segmentIndex:i,segmentFraction:.5,segmentOrientation:a.e.Link.OrientAlong});this.makeSegmentDragHandle(e,t,i,n)}}function oe(){this.bezierhandleLink.arrayParts.forEach(t=>{t&&t.visible&&(t.visible=!1)}),this.bezierhandleLink.key=null}function re(){a.e.TextEditingTool.call(this),this.starting=a.e.TextEditingTool.DoubleClick,this.canvasToHtmlAttrMap={color:"stroke",hooks:function(t,e){const n=e.font,i=/\S+/g,a=[];let o=0;for(;;){const t=i.exec(n);if(!t||o>4)break;4===o?a.push(n.slice(i.lastIndex)):a.push(t[0]),o++}t.style["text-decoration"]=e.isUnderline?"underline":"",t.style["text-decoration"]=t.style["text-decoration"]+" "+(e.isStrikethrough?"line-through":""),t.style["font-style"]=a[0],t.style["font-weight"]=a[2],t.style["caret-color"]=e.stroke||"#000000"}}}a.e.Diagram.inherit(ne,a.e.LinkReshapingTool),ne.prototype.isApprox=function(t,e){const n=t-e;return n<.5&&n>-.5},ne.prototype.makeAdornment=function(t){const e=t.part,n=new a.e.Adornment;return n.type=a.e.Panel.Link,n.adornedObject=t,n.zOrder=C.b.linkReshapingAdornment,n.linkType=this.getLinkType(e),ae.call(this,n,e),"LinkReshaping"===this.diagram.currentTool.name&&(n.visible=!1),n},ne.prototype.getLinkType=function(t){let e="isOrthogonal";return e=t.isOrthogonal?"isOrthogonal":t.curve===a.e.Link.Bezier?"Bezier":"normal",e},ne.prototype.canStart=function(){if(a.e.LinkReshapingTool.prototype.canStart.call(this)){const t=this.findToolHandleAt(this.diagram.firstInput.documentPoint,this.name),e=t&&t.part.adornedPart,n=t.segmentIndex,i=this.getReshapingBehavior(t);if(i===a.e.LinkReshapingTool.None)return!1;const o=e.getPoint(n),r=e.getPoint(n+1);if(e.isOrthogonal&&(0===n||n===e.pointsCount-2))if(i===a.e.LinkReshapingTool.Vertical){const t=Math.abs(o.x-r.x);if(this.minReShapeLength>t)return!1}else if(i===a.e.LinkReshapingTool.Horizontal){const t=Math.abs(o.y-r.y);if(this.minReShapeLength>t)return!1}return!0}return!1},ne.prototype.doActivate=function(t){this.offsetPoint=0,this.reshapeNum=0,a.e.LinkReshapingTool.prototype.doActivate.call(this);const e=this.adornedLink,n=e.isOrthogonal,i=e.curve===a.e.Link.Bezier,o=this.handle,r=this.handle.segmentIndex,s=this.getReshapingBehavior(this.handle),l=e.pointsCount;if(e.data.curve instanceof Object&&e.data.curve.name&&(e.data.curve=e.data.curve.name),e.data&&!i&&e.removeAdornment("LinkReshaping"),e.startRoute(),r===l-2){const t=e.getPoint(r),n=e.getPoint(r+1);if(s===a.e.LinkReshapingTool.Vertical){let i=0;i=n.x>t.x?n.x-this.minLength:n.x+this.minLength,e.insertPoint(r+1,new a.e.Point(i,e.getPoint(r).y)),e.insertPoint(r+1,new a.e.Point(i,e.getPoint(r).y))}else if(s===a.e.LinkReshapingTool.Horizontal){let i=0;i=n.y>t.y?n.y-this.minLength:n.y+this.minLength,e.insertPoint(r+1,new a.e.Point(e.getPoint(r).x,i)),e.insertPoint(r+1,new a.e.Point(e.getPoint(r).x,i))}}if(0===r){const t=e.getPoint(r),i=e.getPoint(r+1);if(s===a.e.LinkReshapingTool.Vertical){let n=0;n=i.x>t.x?t.x+this.minLength:t.x-this.minLength,e.insertPoint(r+1,new a.e.Point(n,e.getPoint(r).y)),e.insertPoint(r+1,new a.e.Point(n,e.getPoint(r).y))}else if(s===a.e.LinkReshapingTool.Horizontal){let n=0;n=i.y>t.y?t.y+this.minLength:t.y-this.minLength,e.insertPoint(r+1,new a.e.Point(e.getPoint(r).x,n)),e.insertPoint(r+1,new a.e.Point(e.getPoint(r).x,n))}n&&(this.offsetPoint=2)}if("segmentHandler"===o.name){const t=r+this.offsetPoint,n=e.getPoint(t),i=e.getPoint(t+1);if(s===a.e.LinkReshapingTool.Vertical){const o=(n.x+i.x)/2;e.insertPoint(t+1,new a.e.Point(o,e.getPoint(t).y)),e.insertPoint(t+1,new a.e.Point(o,e.getPoint(t).y))}else if(s===a.e.LinkReshapingTool.Horizontal){const o=(n.y+i.y)/2;e.insertPoint(t+1,new a.e.Point(e.getPoint(t).x,o)),e.insertPoint(t+1,new a.e.Point(e.getPoint(t).x,o))}}if(!n&&!i){if("straightResegmentHandle"===o.name){const t=e.getPoint(r),n=e.getPoint(r+1),i=new a.e.Point((t.x+n.x)/2,(t.y+n.y)/2);e.insertPoint(r+1,i)}this.offsetPoint=1}e.commitRoute()},ne.prototype.doMouseUp=function(){const t=this.diagram;if(this.isActive){const e=this.computeReshape(t.lastInput.documentPoint);if(this.reshape(e,!0),t.invalidateDocumentBounds(),this.reshapeNum<5)this.transactionResult=null;else{const e=this.adornedLink;e.data&&!e.data.reshaped&&t.model.set(e.data,"reshaped",!0),this.transactionResult=this.name}t.raiseDiagramEvent("LinkReshaped",this.adornedLink,this._originalPoints)}this.stopTool()},ne.prototype.addAdornment=function(t){const e=t.path,n=this.makeAdornment(e);null!==n&&(t.addAdornment(this.name,n),n.location=t.position)},ne.prototype.updateAdornments=function(t){if(null===t||!(t instanceof a.e.Link))return;if("Dragging"===t.diagram.currentTool.name)return;let e=null;if(t.isSelected&&!this.diagram.isReadOnly){const n=t.path;null!==n&&t.canReshape()&&t.actualBounds.isReal()&&t.isVisible()&&n.actualBounds.isReal()&&n.isVisibleObject()&&(e=t.findAdornment(this.name),null!==e&&e.linkType===this.getLinkType(t)||(e=this.makeAdornment(n),null!==e&&(e._oldPointsCount=t.pointsCount,e._wasResegmentable=t.resegmentable,t.addAdornment(this.name,e))))}null===e&&t.removeAdornment(this.name),this.createbezierhandleLink(t)},ne.prototype.addLinkPoints=function(t,e){t.startRoute(),t.clearPoints(),e.forEach(e=>{t.addPoint(e)}),t.commitRoute()},ne.prototype.doDeactivate=function(){const t=this.adornedLink;if(null!==t&&t.curve!==a.e.Link.Bezier){const e=Object(te.a)(t.points.toArray());this.addLinkPoints(t,e),this.addAdornment(t),t.data.reshaped&&t.pointsCount<=2&&this.diagram.model.set(t.data,"reshaped",!1)}a.e.LinkReshapingTool.prototype.doDeactivate.call(this),t.adornments.each(t=>{""===t.name&&(t.visible=!0)})},ne.prototype.computeReshape=function(t){const e=this.diagram.grid.gridOrigin,n=this.diagram.grid.gridCellSize,i=n&&new a.e.Size(n.width/2,n.height/2),o=this.isGridSnapEnabled,r=this.adornedLink,s=this.handle.segmentIndex+this.offsetPoint,l=r.getPoint(s),c=r.getPoint(s-1),h=r.isOrthogonal?r.getPoint(s+2):r.getPoint(s+1);let d=t;if(o&&e&&n){const t=r.isOrthogonal?i:n;d=d.copy().snapToGridPoint(e,t)}switch(this.getReshapingBehavior(this.handle)){case a.e.LinkReshapingTool.All:{if(r.curve===a.e.Link.Bezier)return t;const e=[];let n=null;const i=t.copy().projectOntoLineSegmentPoint(c,h);i&&e.push(i),c&&(e.push(new a.e.Point(c.x,d.y)),e.push(new a.e.Point(d.x,c.y))),h&&(e.push(new a.e.Point(h.x,d.y)),e.push(new a.e.Point(d.x,h.y))),o&&e.push(d);const s=e.sort((e,n)=>t.distanceSquaredPoint(e)-t.distanceSquaredPoint(n));return n=o||t.distanceSquaredPoint(s[0])<this.gravityLength?s[0]:t,new a.e.Point(n.x,n.y)}case a.e.LinkReshapingTool.Vertical:{const e=[];let n=null;c&&c.y&&e.push(c.y),h&&h.y&&e.push(h.y),o&&"number"==typeof d.y&&e.push(d.y);const i=e.sort((e,n)=>Math.abs(e-t.y)-Math.abs(n-t.y));return n=o||Math.abs(i[0]-t.y)<this.gravityLength?i[0]:t.y,new a.e.Point(l.x,n)}case a.e.LinkReshapingTool.Horizontal:{const e=[];let n=null;c.x&&e.push(c.x),h.x&&e.push(h.x),o&&"number"==typeof d.x&&e.push(d.x),o&&d.x&&e.push(d.x);const i=e.sort((e,n)=>Math.abs(e-t.x)-Math.abs(n-t.x));return n=o||Math.abs(i[0]-t.x)<this.gravityLength?i[0]:t.x,new a.e.Point(n,l.y)}default:case a.e.LinkReshapingTool.None:return r.getPoint(s)}},ne.prototype.reshape=function(t,e){if(this.reshapeNum<5)return void this.reshapeNum++;const n=this.adornedLink,i=n.curve===a.e.Link.Bezier;let o=this.handle.segmentIndex;const r=this.getReshapingBehavior(this.handle),s=[...n.points.toArray()];s&&(r===a.e.LinkReshapingTool.Vertical?(o+=this.offsetPoint,"segmentHandler"===this.handle.name&&.75===this.handle.segmentFraction?(s[o+2]=new a.e.Point(s[o+2].x,t.y),s[o+3]=new a.e.Point(s[o+3].x,t.y)):(s[o]=new a.e.Point(s[o].x,t.y),s[o+1]=new a.e.Point(s[o+1].x,t.y))):r===a.e.LinkReshapingTool.Horizontal?(o+=this.offsetPoint,"segmentHandler"===this.handle.name&&.75===this.handle.segmentFraction?(s[o+2]=new a.e.Point(t.x,s[o+2].y),s[o+3]=new a.e.Point(t.x,s[o+3].y)):(s[o]=new a.e.Point(t.x,s[o].y),s[o+1]=new a.e.Point(t.x,s[o+1].y))):r===a.e.LinkReshapingTool.All&&(i?s[o+1]=new a.e.Point(t.x,t.y):(o+=this.offsetPoint,s[o]=new a.e.Point(t.x,t.y),e||(1===o&&n.fromNode?s[0]=n._getLinkPoint(n.fromNode,n.fromPort,n.fromSpot,!0,!1,n.toNode,n.toPort):o===s.length-2&&n.toNode&&(s[s.length-1]=n._getLinkPoint(n.toNode,n.toPort,n.toSpot,!1,!1,n.fromNode,n.fromPort)))))),n.startRoute(),n.clearPoints(),s.forEach(t=>{n.addPoint(t)}),n.commitRoute()},ne.prototype.makeSegmentDragHandle=function(t,e,n,i){const o=t.getPoint(n);let r=t.getPoint(n+1),s="";if(o&&r){if(this.isApprox(o.x,r.x)&&this.isApprox(o.y,r.y)&&this.isApprox(t.getPoint(0).x,r.x)&&this.isApprox(t.getPoint(0).y,r.y))return;if(this.isApprox(o.x,r.x)&&this.isApprox(o.y,r.y)&&this.isApprox(t.getPoint(t.pointsCount-1).x,r.x)&&this.isApprox(t.getPoint(t.pointsCount-1).y,r.y))return;this.isApprox(o.x,r.x)&&this.isApprox(o.y,r.y)?(r=t.getPoint(n-1),this.isApprox(o.x,r.x)?s="vertical":this.isApprox(o.y,r.y)&&(s="horizontal")):this.isApprox(o.x,r.x)?s="vertical":this.isApprox(o.y,r.y)&&(s="horizontal")}"horizontal"===s?(this.setReshapingBehavior(i,a.e.LinkReshapingTool.Vertical),i.cursor="ns-resize"):(this.setReshapingBehavior(i,a.e.LinkReshapingTool.Horizontal),i.cursor="ew-resize"),e.add(i)},ne.prototype.createbezierhandleLink=function(t){const e=this.diagram.skipsUndoManager;if(this.diagram.skipsUndoManager=!0,t||oe.call(this),t&&t.data&&t instanceof a.e.Link){const e=t.findAdornment(this.name),n=t.findAdornment("linkOutlineAdornmentTemplate"),i="Dragging"===this.diagram.currentTool.name;if(t.curve!==a.e.Link.Bezier||!e||i&&!n)!t||t.key!==this.bezierhandleLink.key&&0!==this.diagram.selection.count||oe.call(this);else{const e=t.points&&t.points.toArray(),n=this.diagram;if(e&&e.length>=4){const i=[e[0],e[1]],o=[e[e.length-1],e[e.length-2]],r="M".concat(i[0].x," ").concat(i[0].y," ").concat(i[1].x," ").concat(i[1].y),s=new a.e.Point((i[0].x+i[1].x)/2,(i[0].y+i[1].y)/2),l="M".concat(o[0].x," ").concat(o[0].y," ").concat(o[1].x," ").concat(o[1].y),c=new a.e.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2);if(this.bezierhandleLink.key||0!==this.bezierhandleLink.arrayParts.length){const e=this.bezierhandleLink.arrayParts[0],i=this.bezierhandleLink.arrayParts[1];!e.visible&&(e.visible=!0),!i.visible&&(i.visible=!0),this.bezierhandleLink.key!==t.key&&(this.bezierhandleLink.key=t.key),e.location=s,e.findObject("TempLinkShape").geometryString=r,e.findObject("TempLinkShape").strokeWidth=1/(n?n.scale:1),i.location=c,i.findObject("TempLinkShape").geometryString=l,i.findObject("TempLinkShape").strokeWidth=1/(n?n.scale:1)}else{const e=ee(a.e.Part,"Auto",{name:"bezierReshapeLink",layerName:"Adornment",visible:!0,zOrder:C.b.linkReshapingLink,selectable:!1,locationSpot:a.e.Spot.Center,location:s,cursor:"default"},ee(a.e.Shape,{name:"TempLinkShape",geometryString:r,stroke:this.baseStyle.RESHAPE_HANDLE_STROKE,fill:this.baseStyle.RESHAPE_HANDLE_STROKE,strokeWidth:1/(n?n.scale:1)})),i=ee(a.e.Part,"Auto",{name:"bezierReshapeLink",layerName:"Adornment",zOrder:C.b.linkReshapingLink,selectable:!1,visible:!0,locationSpot:a.e.Spot.Center,location:c,cursor:"default"},ee(a.e.Shape,{name:"TempLinkShape",geometryString:l,stroke:this.baseStyle.RESHAPE_HANDLE_STROKE,fill:this.baseStyle.RESHAPE_HANDLE_STROKE,strokeWidth:1/(n?n.scale:1)}));n.add(e),n.add(i),this.bezierhandleLink.arrayParts=[e,i],this.bezierhandleLink.key=t.key}}}}this.diagram.skipsUndoManager=e},a.e.Diagram.inherit(re,a.e.TextEditingTool),re.prototype.doKeyDown=function(){this.diagram.commandHandler.doKeyDown()},re.prototype.doKeyUp=function(){a.e.TextEditingTool.prototype.doKeyUp.call(this)},re.prototype.doActivate=function(){if(this.diagram.holdDownSpace)return this.stopTool(),!1;if(!this.textBlock||this.isActive){a.e.TextEditingTool.prototype.doActivate.call(this);const t=this.diagram.skipsUndoManager;return this.diagram.skipsUndoManager=!0,this.textBlock&&(this.textBlock.opacity=0),void(this.diagram.skipsUndoManager=t)}R(this.diagram);if(this.diagram.nodes.any(t=>t.findAdornment("relationInfo")))return a.e.TextEditingTool.prototype.doActivate.call(this),a.e.TextEditingTool.prototype.doDeactivate.call(this),a.e.TextEditingTool.prototype.stopTool.call(this),!1;const t=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,this.oldString=this.textBlock.text,this.cacheTextBlock=this.textBlock,this.documentPoint=this.diagram.lastInput.documentPoint.copy(),a.e.TextEditingTool.prototype.doActivate.call(this),this.textBlock&&(this.textBlock.opacity=0,this.editingPart=this.textBlock.part),this.transfromAttrs(this.currentTextEditor.mainElement,this.textBlock),this.diagram.skipsUndoManager=t,v.a.$emit("editor/diagram/textEdit")},re.prototype.acceptText=function(t){let e=this.textBlock||this.cacheTextBlock;for(a.e.TextEditingTool.prototype.acceptText.call(this,t);e&&e.name&&"LABEL"!==e.name&&e.panel;)e=e.panel},re.prototype.doDeactivate=function(){const t=this.textBlock?this.textBlock.part.diagram:null;if(!t)return;const e=t.skipsUndoManager;if(t.skipsUndoManager=!0,this.textBlock&&(this.textBlock.opacity=1),t.skipsUndoManager=e,this.textBlock.part&&this.textBlock.part.data&&this.textBlock.part.data.linkItems){const e=this.textBlock.part.data.linkItems;t.model.setDataProperty(this.textBlock.part.data,"linkItems",e),this.editingPart=null}Object(N.m)(window.diagram,this.editingPart),a.e.TextEditingTool.prototype.doDeactivate.call(this),v.a.$emit("update/rightPanel/status")},re.prototype.stopTool=function(t){const e=this.currentTextEditor&&this.currentTextEditor.valueFunction();this.transactionResult=null,this.oldString!==e?(this.transactionResult="TextEditing",this.acceptText(a.e.TextEditingTool.MouseDown)):this.transactionResult=null,this.stopTransaction(),a.e.TextEditingTool.prototype.stopTool.call(this),this.diagram.focus()},re.prototype.transfromAttrs=function(t,e){for(const n in this.canvasToHtmlAttrMap)"hooks"!==n?t.style[n]=e[this.canvasToHtmlAttrMap[n]]:this.canvasToHtmlAttrMap[n](t,e)};var se=n(31),le=n(17);a.e.GraphObject.make;function ce(t){t.nodes.filter(t=>t.data&&t.data.relationInfo).each(t=>{t.removeAdornment("relationInfo")})}function he(t){if(B.b[t.mode]){t.nodes.filter(t=>t.data&&t.data.relationInfo&&"Standard-hotspot"!==t.data.category).each(t=>{const e=Object(se.a)("LINKAD");e.adornedObject=t.findObject("SHAPE"),t.addAdornment("RelationInfoLink",e)})}}function de(){a.e.ContextMenuTool.call(this)}a.e.Diagram.inherit(de,a.e.ContextMenuTool),de.prototype.doActivate=function(){ce(this.diagram),a.e.ContextMenuTool.prototype.doActivate.call(this)},de.prototype.standardMouseSelect=function(){let t=this.currentObject;const e=this.diagram.getEditingSelection();if(t){if(this.currentObject instanceof a.e.GraphObject){if(t=this.currentObject.part,e.size>1&&e.has(t))return!1;if(t.data.group){this.diagram.toolManager.clickSelectingTool._clickItemSelectAroundGroup(t)}else this.diagram.select(t)}}else this.diagram.clearSelection()},de.prototype.findObjectWithContextMenu=function(t){const e=this.diagram.toolManager.clickSelectingTool._getStandardPart.call(this);if(e){const t=e.findObject("SHAPE"),n=a.e.ContextMenuTool.prototype.findObjectWithContextMenu.call(this,t);return this.currentObject=n,n}return this.currentObject=this.diagram||null,this.currentObject},de.prototype.doMouseDown=function(){this.isActive&&this.stopTool();this.diagram.toolManager.doMouseDown()},de.prototype.doKeyDown=function(){this.isActive&&this.stopTool(),this.diagram.commandHandler.doKeyDown()},de.prototype.doMouseWheel=function(){this.isActive&&this.stopTool(),this.diagram.toolManager.doMouseWheel()};var ue=n(39);const fe=a.e.GraphObject.make;function pe(){a.e.ResizingTool.call(this),this.name="extendResizeTool",this._otherParts=[],this.sameScale=!1,this.selfLinks=new a.e.List,this.allLinks=[],this.originPosition=null,this.snapMinValue=10}a.e.Diagram.inherit(pe,a.e.ResizingTool),pe.prototype.doActivate=function(){a.e.ResizingTool.prototype.doActivate.call(this),this.diagram.toolManager.draggingTool.updateGuidelingScale(),this._rNodeBoundsMap=ue.a.getMap(this.diagram);let t=this.handle.alignment.opposite();this._originalPoint=this.adornedObject.getDocumentPoint(t),this._originalPointAlt=this.adornedObject.getDocumentPoint(new a.e.Spot(.5,.5)),this.diagram.lastInput.alt&&(t=new a.e.Spot(.5,.5),this._originalPointAlt=this.adornedObject.getDocumentPoint(t));const e=this.adornedObject.part;this.handle.part.visible=!1,this.diagram.inDraggingState=!0,this.filterKeys=[];const n=[];if(this.selection=this.diagram.getEditingSelection(),this.selection.each(t=>{t.key&&this.filterKeys.push(t.key),t instanceof a.e.Node&&"around-group"!==t.data.category&&n.push(t)}),this.nodes=n,this.allLinks=this.createAllLinks(),e){this.selfLinks=e.findLinksBetween(e),this.originPosition=e.resizeObject.getDocumentBounds().copy();const t=this.handle.alignment;Object(O.createOrUpdateTip)(this.diagram,e,"resizing",t)}else{const t=this.adornedObject.part;this.selfLinks=t.findLinksBetween(t),this.originPosition=t.resizeObject.getDocumentBounds().copy()}this.diagram.computeAroundGroupNodeRatio(e)},pe.prototype.computeReshape=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.diagram.lastInput.shift)t=!1;else{const e=this.selection;if(1===e.count){const e=this.adornedObject.part;e instanceof a.e.Node&&e.data&&e.data.isLockNodeRatio&&(t=!1)}else if(e.count>1){t=e.filter(t=>{const e=(t.data.angle||0)%90!=0;return t.data.isLockNodeRatio||e}).count<=0}}return t},pe.prototype.computeCellSize=function(){return this.diagram&&this.diagram.pageSetting&&this.diagram.pageSetting.diagramSetting&&this.diagram.pageSetting.diagramSetting.gridSnap?this.diagram.grid.gridCellSize:new a.e.Size(1,1)},pe.prototype.doMouseUp=function(){this.isActive&&(this.diagram.invalidateDocumentBounds(),this.transactionResult=this.name,this.diagram.raiseDiagramEvent("PartResized",this.adornedObject,this.originalDesiredSize)),this.stopTool(),this.diagram.selection.each(t=>{t.updateAdornments()})},pe.prototype.doDeactivate=function(){const t=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,this.clearResizeGuide();const e=this.diagram;e.toolManager.draggingTool.clearGuidelines();const n=this.adornedObject.part,i=n.data;a.e.ResizingTool.prototype.doDeactivate.call(this),Object(O.clearToolTip)(this.diagram),n.data&&"around-group"===n.data.category&&(n.memberParts&&n.memberParts.each(t=>{"around-group"===t.data.category&&(t.data.angle=0,t.angle=0,Object(Y.n)(this.diagram,t))}),"around-group"===i.category&&(i.angle=0,n.angle=0,Object(Y.n)(this.diagram,n))),this.originScale=1,this.cancelAllLinks(),e.currentTool=e.defaultTool,e.selection.count&&e.selection.first().updateAdornments(),this.diagram.skipsUndoManager=t},pe.prototype.computeResize=function(t,e,n,i,o,r){const s=this.diagram.lastInput;return(s.control||s.meta)&&(o=new a.e.Size(1,1)),a.e.ResizingTool.prototype.computeResize.call(this,t,e,n,i,o,r)},pe.prototype.doMouseMove=function(){a.e.ResizingTool.prototype.doMouseMove.call(this);const t=this.adornedObject.part;if(delete t.borderSvg,this.diagram.inDraggingState=!0,(this.diagram.allowHorizontalScroll||this.diagram.allowVerticalScroll)&&Object(N.o)(this.diagram,this.diagram.lastInput.viewPoint),t){this.selfLinks=t.findLinksBetween(t);const e=this.handle.alignment;Object(O.createOrUpdateTip)(this.diagram,t,"resizing",e)}},pe.prototype.resize=function(t){const e=this.diagram,n=this.adornedObject,i=n.part,o={width:i.data.width,height:i.data.height};if(null===n)return;i.data.flowchart&&i.constraint.length?t.width>2*i.data.parameter1&&(n.desiredSize=t.size):n.desiredSize=t.size,this.diagram.resizeParameter(t,i,o),i.ensureBounds();let r=this.handle.alignment.opposite(),s=this._originalPoint;this.diagram.lastInput.alt&&(r=new a.e.Spot(.5,.5),s=this._originalPointAlt);const l=n.getDocumentPoint(r);i.location=i.location.copy().subtract(l).add(s),e.maybeUpdate(),this.resizeGuide(t),e.setAroundGroupMemberPartsSize(i),this.moveSelflinks(t),"uml-interface"===i.data.category?(i.updateTargetBindings("headerHeight"),i.updateTargetBindings("contentHeight")):"uml-class"===i.data.category&&(i.updateTargetBindings("titleHeight"),i.updateTargetBindings("attrHeight"),i.updateTargetBindings("funcHeight"))},pe.prototype.resizeGuide=function(t){const e=this.adornedObject.part,n=this.diagram;n.toolManager.draggingTool.clearGuidelines();const i=new a.e.Point,o=Object(G.b)([e]);n.toolManager.draggingTool.show(o,i,i,this.filterKeys);const r=this.getCrossNodes(e);this.clearResizeGuide(),r.left.nodes.length&&(this.drawGuide("left",e,r.left.nodes),this._otherParts.push(...r.left.nodes)),r.right.nodes.length&&(this.drawGuide("right",e,r.right.nodes),this._otherParts.push(...r.right.nodes)),r.top.nodes.length&&(this.drawGuide("top",e,r.top.nodes),this._otherParts.push(...r.top.nodes)),r.bottom.nodes.length&&(this.drawGuide("bottom",e,r.bottom.nodes),this._otherParts.push(...r.bottom.nodes))},pe.prototype.clearResizeGuide=function(){Array.isArray(this.resizeGuideList)&&this.resizeGuideList.forEach(t=>{this.diagram.remove(t)}),this.resizeGuideList=[],this._otherParts=[]},pe.prototype.drawGuide=function(t,e,n){const i=Object(G.b)((new a.e.List).add(e)),o=this.guidelineDirection(e);n.forEach(t=>{const e=this.guidelineDirection(t),n=this._rNodeBoundsMap[t.key];if(n){if(this.pixelToCentimeter(n.width)===this.pixelToCentimeter(i.width)){const t=this.resizeGuidePart("M0 0 100 0");t.elt(1).text=this.pixelToCentimeter(n.width)+"px",t.elt(0).width=n.width,e.top?e.bottom||(t.locationSpot=new a.e.Spot(0,0,0,-2),this.diagram.add(t),this.resizeGuideList.push(t),t.location=new a.e.Point(n.x,n.bottom)):(this.diagram.add(t),this.resizeGuideList.push(t),t.location=new a.e.Point(n.x,n.y));const r=this.resizeGuidePart("M0 0 100 0");r.elt(1).text=this.pixelToCentimeter(i.width)+"px",r.elt(0).width=i.width,o.top?o.bottom||(r.locationSpot=new a.e.Spot(0,0,0,-2),this.diagram.add(r),this.resizeGuideList.push(r),r.location=new a.e.Point(i.x,i.bottom)):(this.diagram.add(r),this.resizeGuideList.push(r),r.location=new a.e.Point(i.x,i.y))}if(this.pixelToCentimeter(n.height)===this.pixelToCentimeter(i.height)){const t=this.resizeGuidePart("M0 0 0 100",!0);t.elt(1).text=this.pixelToCentimeter(n.height)+"px",t.elt(0).height=n.height,e.left?e.right||(t.location=new a.e.Point(n.right,n.y),t.locationSpot=new a.e.Spot(0,0,-3),this.diagram.add(t),this.resizeGuideList.push(t)):(t.location=new a.e.Point(n.x,n.y),this.diagram.add(t),this.resizeGuideList.push(t));const r=this.resizeGuidePart("M0 0 0 100",!0);r.elt(1).text=this.pixelToCentimeter(i.height)+"px",r.elt(0).height=i.height,o.left?o.right||(r.location=new a.e.Point(i.right,i.y),r.locationSpot=new a.e.Spot(0,0,-3),this.diagram.add(r),this.resizeGuideList.push(r)):(r.location=new a.e.Point(i.x,i.y),this.diagram.add(r),this.resizeGuideList.push(r))}}})},pe.prototype.guidelineDirection=function(t){const e=this.diagram.toolManager.draggingTool,n=Object(G.b)((new a.e.List).add(t)),i=["Left","Right","TopLeft","TopRight","BottomLeft","BottomRight"],o=["Top","Bottom","TopLeft","BottomLeft","TopRight","BottomRight","TopCenter","BottomCenter"],r={left:null,right:null,top:null,bottom:null};if(e.guidedline._guideconfig.verticalMap){const t=e.guidedline._guideconfig.verticalMap;r.top=o.find(e=>{const i=(t.guidelineMap||{})[e];return i&&i.visible&&i.location.y+i.elt(0).height<=n.y}),r.bottom=o.find(e=>{const i=(t.guidelineMap||{})[e];return i&&i.visible&&i.location.y>=n.bottom})}if(e.guidedline._guideconfig.horizontalMap){const t=e.guidedline._guideconfig.horizontalMap;r.left=i.find(e=>{const i=(t.guidelineMap||{})[e];return i&&i.visible&&i.location.x+i.elt(0).width<=n.x}),r.right=i.find(e=>{const i=(t.guidelineMap||{})[e];return i&&i.visible&&i.location.x>=n.right})}return r},pe.prototype.resizeGuidePart=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#0097DE";const i=this.diagram;return fe(a.e.Part,"Spot",{layerName:"Tool",isInDocumentBounds:!1,locationSpot:e?new a.e.Spot(1,0,-3):new a.e.Spot(0,1,0,-2)},fe(a.e.Shape,{stroke:n,isGeometryPositioned:!0,geometryString:t}),fe(a.e.TextBlock,{alignment:e?a.e.Spot.Center:new a.e.Spot(.5,.5,0,-1),alignmentFocus:e?a.e.Spot.Center:a.e.Spot.Top,text:"",scale:1/(i?i.scale:1)*.75,height:18,font:"15.937766792838001px Microsoft Yahei",stroke:n,background:"rgba(255, 255, 255, 0.7)",width:e?60:NaN,visible:!0}),fe(a.e.Shape,{fromArrow:"Line",angle:e?90:0,stroke:n,segmentIndex:-1/0,alignment:e?new a.e.Spot(.5,0,0,1):new a.e.Spot(0,.5,1,0),alignmentFocus:e?a.e.Spot.Bottom:a.e.Spot.Right,visible:!0}),fe(a.e.Shape,{toArrow:"Line",stroke:n,angle:e?90:0,segmentIndex:-1/0,alignment:e?new a.e.Spot(.5,1,0,-1):new a.e.Spot(1,.5,-1,0),alignmentFocus:e?a.e.Spot.Top:a.e.Spot.Left,visible:!0}))},pe.prototype.pixelToCentimeter=function(t){return(t/1).toFixed(0)},pe.prototype.getCrossNodes=function(t){let e=this._rNodeBoundsMap[t.key]||Object(G.b)([t],!0);e||(e=Object(G.b)((new a.e.List).add(t)));const n=this.diagram.nodes.iterator,i={left:{distance:1/0,nodes:[]},right:{distance:1/0,nodes:[]},top:{distance:1/0,nodes:[]},bottom:{distance:1/0,nodes:[]}};for(;n.next();){const a=n.value;if(!a.isSelected&&a!==t){const t=this._rNodeBoundsMap[a.key]||Object(G.b)([a],!0);if(!t)continue;const n=this.getDistance(e,t);e.bottom>=t.y&&e.y<=t.bottom&&e.x>t.right?(n.horizontal<i.left.distance&&(i.left.nodes=[]),n.horizontal<=i.left.distance&&(i.left.nodes.push(a),i.left.distance=n.horizontal)):e.bottom>=t.y&&e.y<=t.bottom&&e.right<t.x?(n.horizontal<i.right.distance&&(i.right.nodes=[]),n.horizontal<=i.right.distance&&(i.right.nodes.push(a),i.right.distance=n.horizontal)):e.right>=t.x&&e.x<=t.right&&e.y>t.bottom?(n.vertical<i.top.distance&&(i.top.nodes=[]),n.vertical<=i.top.distance&&(i.top.nodes.push(a),i.top.distance=n.vertical)):e.right>=t.x&&e.x<=t.right&&e.bottom<t.y&&(n.vertical<i.bottom.distance&&(i.bottom.nodes=[]),n.vertical<=i.bottom.distance&&(i.bottom.nodes.push(a),i.bottom.distance=n.vertical))}}return i},pe.prototype.getDistance=function(t,e){return{horizontal:Math.max(t.left,e.left)-Math.min(t.right,e.right),vertical:Math.max(t.top,e.top)-Math.min(t.bottom,e.bottom)}},pe.prototype.createAllLinks=function(){const t=[];return this.selection.each(e=>{!(e instanceof a.e.Link)||e.fromNode&&e.toNode||e.data.lock||t.push(e)}),t},pe.prototype.cancelAllLinks=function(){this.allLinks.forEach(t=>{delete t.data.noComputed}),this.allLinks=[]},pe.prototype.moveSelflinks=function(t){const e=this.adornedObject.part.resizeObject.getDocumentBounds();this.allLinks.forEach(t=>{const n=t.points.toArray();if(n.length){if(!t.toNode){const i=new a.e.Point,o=n[n.length-1];i.x=(o.x-this.originPosition.x)/this.originPosition.width*e.width+e.x,i.y=(o.y-this.originPosition.y)/this.originPosition.height*e.height+e.y,t.defaultToPoint=i}if(!t.fromNode){const i=new a.e.Point,o=n[0];i.x=(o.x-this.originPosition.x)/this.originPosition.width*e.width+e.x,i.y=(o.y-this.originPosition.y)/this.originPosition.height*e.height+e.y,t.defaultFromPoint=i}t.startRoute(),t.computePoints(),t.commitRoute()}}),this.originPosition=e};const ge=a.e.GraphObject.make;function me(t,e){const n=ge(a.e.Adornment,"Spot",{name:"LOCK_ADORNMENT",zOrder:C.b.lockAdornment},ge(a.e.Placeholder),ge(a.e.Shape,"Rectangle",{name:"LOCK_RECTANGLE",isPanelMain:!0,fill:null},new a.e.Binding("strokeWidth","",(t,e)=>{let n;const i=e.diagram.scale;return n=i<=1?1/i:i<=3?1:3/i,n}),new a.e.Binding("visible","",t=>!!t.lock),new a.e.Binding("width","",(t,e)=>{let n=0;if(t.width)n=t.width;else if(t.size)n=t.size.split(" ")[0];else if(Array.isArray(t.items)){n=0;for(let e=0;e<t.items.length;e+=1)n+=t.items[e].width}return Number(n)}),new a.e.Binding("height","",(t,e)=>{let n=0;return t.height?n=t.height:t.size&&(n=t.size.split(" ")[1]),t.headerHeight&&"uml-interface"!==t.category&&(n+=t.headerHeight),Number(n)}),new a.e.Binding("stroke","",t=>"rgb(237, 96, 88)"),new a.e.Binding("strokeDashArray","",t=>null)),ye(a.e.Spot.TopRight),ye(a.e.Spot.BottomRight),ye(a.e.Spot.BottomLeft),ye(a.e.Spot.TopLeft)),i=t.findObject("SHAPE");if(i){n.adornedObject=i,t.addAdornment("lockOutLine",n);const e=Object(se.a)("LOCK");e.adornedObject=i,t.addAdornment("lockAdornment",e)}}function ye(t){return ge(a.e.Shape,"XLine",{alignment:t,stroke:"gray",opacity:.6},new a.e.Binding("width","",(t,e)=>8/e.diagram.scale),new a.e.Binding("height","",(t,e)=>8/e.diagram.scale),new a.e.Binding("strokeWidth","",(t,e)=>1/e.diagram.scale),new a.e.Binding("visible","",t=>!!t.lock))}function ve(t){const e=Object(se.a)("LOCK"),n=Object(E.a)({mode:"lockAdornment",stroke:"rgb(237, 96, 88)",strokeWidth:1,zOrder:C.b.lockAdornment,opacity:1,outLineWidth:4}),i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ge(a.e.Adornment,"Spot",{name:"LOCK_ADORNMENT_RECTANGLE",zOrder:C.b.lockAdornment,alignment:a.e.Spot.Center},new a.e.Binding("visible","",e=>t.usedForAnimation||!!e.lock),new a.e.Binding("position","",(t,e)=>{const n=e.part.adornedPart,i=n.findObject("LINK_SHAPE"),o=n.actualBounds,r=i.actualBounds;return new a.e.Point(o.x+r.x,o.y+r.y)}),ge(a.e.Shape,"Rectangle",{stroke:t.stroke||"rgb(237, 96, 88)",fill:"transparent"},new a.e.Binding("strokeWidth","",(t,e)=>{let n;const i=e.diagram.scale;return n=i<=1?1/i:i<=3?1:3/i,n}),new a.e.Binding("width","",(t,e)=>e.part.adornedPart.findObject("LINK_SHAPE").actualBounds.width),new a.e.Binding("height","",(t,e)=>e.part.adornedPart.findObject("LINK_SHAPE").actualBounds.height)))}();e.adornedObject=t.findObject("LINK_SHAPE"),n.adornedObject=t.findObject("LINK_SHAPE"),i.adornedObject=t.findObject("LINK_SHAPE"),t.addAdornment("lockOutLine",n),t.addAdornment("lockRectangle",i),t.addAdornment("lockAdornment",e)}function we(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const xe=a.e.GraphObject.make,be=new a.e.List,Se=new a.e.Rect,ke=new a.e.Point;const Pe=["topRightHandle","bottomLeftHandle","bottomRightHandle"];var Me=new class{get boardvisible(){var t,e;return!(null!==(t=this.diagram.pageSetting)&&void 0!==t&&null!==(e=t.pageOptions)&&void 0!==e&&e.isInfiniteCanvas)}constructor(){we(this,"guidelineSnapDistance",6),we(this,"_guideconfig",{}),we(this,"boardinfo",{}),v.a.$on("part/rect/change",t=>{let{size:e,point:n,column:i,row:a}=t;this.boardinfo.size=e,this.boardinfo.column=i,this.boardinfo.row=a,this.boardinfo.pt=n;const o=this._guideconfig;if(o.horizontalCentralAxis&&o.horizontalCentralAxis.guideline){const t=this.boardinfo.pt.x,e=this.boardinfo.column*this.boardinfo.size.width,n=o.horizontalCentralAxis.guideline;ke.setTo(t,n.location.y),n.location=ke,n.elt(0).width=e}if(o.verticalCentralAxis&&o.verticalCentralAxis.guideline){const t=this.boardinfo.pt.y,e=this.boardinfo.row*this.boardinfo.size.height,n=o.verticalCentralAxis.guideline;ke.setTo(n.location.x,t),n.location=ke,n.elt(0).height=e}}),this.guidelineTemplates={Horizontal:{}},this.guidelineTemplates={Horizontal:{Left:this.creatingPart("M0 0 100 0",!1),Center:this.creatingPart("M0 0 100 0",!1),Right:this.creatingPart("M0 0 100 0",!1),Top:this.creatingPart("M0 0 100 0",!1),Bottom:this.creatingPart("M0 0 100 0",!1),TopCenter:this.creatingPart("M0 0 100 0",!1),TopLeft:this.creatingPart("M0 0 100 0",!1),TopRight:this.creatingPart("M0 0 100 0",!1),BottomCenter:this.creatingPart("M0 0 100 0",!1),BottomLeft:this.creatingPart("M0 0 100 0",!1),BottomRight:this.creatingPart("M0 0 100 0",!1)},Vertical:{Top:this.creatingPart("M0 0 0 100",!0),Center:this.creatingPart("M0 0 0 100",!0),Bottom:this.creatingPart("M0 0 0 100",!0),Left:this.creatingPart("M0 0 0 100",!0),Right:this.creatingPart("M0 0 0 100",!0),LeftCenter:this.creatingPart("M0 0 0 100",!0),TopLeft:this.creatingPart("M0 0 0 100",!0),TopRight:this.creatingPart("M0 0 0 100",!0),RightCenter:this.creatingPart("M0 0 0 100",!0),BottomLeft:this.creatingPart("M0 0 0 100",!0),BottomRight:this.creatingPart("M0 0 0 100",!0)},CentralAxis:{Horizontal:this.creatingPart("M0 0 100 0",!1),Vertical:this.creatingPart("M0 0 0 100",!0)},Distance:{Vertical:[],Horizontal:[]}}}showMatches(t,e,n,i,a,o){if(this.diagram=t,this.hidingGuidelings(),!e||!e.isReal()||e.isEmpty())return{offsetX:i.x,offsetY:i.y,x:!1,y:!1};const r=this.guidelineSnapDistance,s=ue.a.getKeys(t),l=ue.a.getMap(t);Se.set(e),Se.offset(n.x,n.y);let c,h=!0;"Resizing"===this.diagram.currentTool.name&&(h=!1);const d=[{},{}],u=[!1,!1],f=[1/0,1/0],p={Horizontal:[],Vertical:[],HorizontalMap:{},VerticalMap:{}};c=this.snapLink(o,r,n),h&&this.setOffset(c,u,f);const g=s.length;for(let t=0;t<g;t+=1){if(a&&a.includes(s[t]))continue;const i=l[s[t]];c=this.snapOffset(Se,i,r),this.setTempMap(e,d,c,i,!1,r,n),h&&this.setOffset(c,u,f);const o=this.getDistance(Se,i);!Array.isArray(p.HorizontalMap[o[0]])&&(p.HorizontalMap[o[0]]=[]),!Array.isArray(p.VerticalMap[o[1]])&&(p.VerticalMap[o[1]]=[]),o[0]>0&&!this.equal(o[0],0)&&(p.HorizontalMap[o[0]].push(i),p.Horizontal.includes(o[0])||p.Horizontal.push(o[0])),o[1]>0&&!this.equal(o[1],0)&&(p.VerticalMap[o[1]].push(i),p.Vertical.includes(o[1])||p.Vertical.push(o[1]))}!1!==h&&(this.boardvisible&&this.boardinfo.size&&(c=this.snapBoards(Se,r,n),h&&this.setOffset(c,u,f)),this.sort(p.Horizontal),this.sort(p.Vertical),c=this.snapDistance(Se,r,p),h&&this.setOffset(c,u,f)),this.transformOffset(u,f,n,i),Se.offset(-n.x,-n.y),Se.offset(f[0]||0,f[1]||0),this.updateTempDistanceMap(p,Se,f,n),this.drawHorizontalDistance(Se,p),this.drawVerticalDistance(Se,p),this.boardvisible&&this.boardinfo.size&&(this.horizontalCentralAxis(Se),this.verticalCentralAxis(Se));const m=[];if(Array.isArray(d[0][f[0]])){const t=d[0][f[0]];for(let e=0;e<t.length;e+=1){const n=t[e];m.includes(n)||(m.push(n),this.showHorizontal(Se,n),this.showVertical(Se,n))}}if(Array.isArray(d[1][f[1]])){const t=d[1][f[1]];for(let e=0;e<t.length;e+=1){const n=t[e];m.includes(n)||(m.push(n),this.showHorizontal(Se,n),this.showVertical(Se,n))}}return this.renderGuidelines(),{offsetX:f[0],offsetY:f[1],x:u[0],y:u[1]}}setOffset(t,e,n){(t[0]||this.equal(t[0],0)||t[1]||this.equal(t[1],0))&&(e[0]=e[0]||t[0]||this.equal(t[0],0),e[1]=e[1]||t[1]||this.equal(t[1],0)),(t[0]||this.equal(t[0],0))&&Math.abs(t[0])<Math.abs(n[0])&&(n[0]=t[0]),(t[1]||this.equal(t[1],0))&&Math.abs(t[1])<Math.abs(n[1])&&(n[1]=t[1])}transformOffset(t,e,n,i){t[0]?(e[0]=e[0]!==1/0?e[0]+n.x:0,i.x&&Math.abs(e[0])>Math.abs(i.x)&&(e[0]=i.x,t[0]=!1)):e[0]=i.x,t[1]?(e[1]=e[1]!==1/0?e[1]+n.y:0,i.y&&Math.abs(e[1])>Math.abs(i.y)&&(e[1]=i.y,t[1]=!1)):e[1]=i.y}snapBoard(t,e,n,i){let a=1/0,o=e%t;o=o<0?o- -t:o;const r=o+.5*n;let s=o+n;return t-Math.abs(o)<=i&&(o-=t),Math.abs(o)<=i&&Math.abs(o)<Math.abs(a)&&(a=-o),Math.abs(Math.abs(r)-.5*t)<=i&&(a=.5*t-r),t-Math.abs(s)<=i&&(s-=t),Math.abs(s)<=i&&Math.abs(s)<Math.abs(a)&&(a=-s),a}snapBoards(t,e){let n,i;return this.boardinfo.size&&(n=this.snapBoard(this.boardinfo.size.width,t.x,t.width,e),i=this.snapBoard(this.boardinfo.size.height,t.y,t.height,e),n<this.boardinfo.pt.x-e&&(n=NaN),i<this.boardinfo.pt.y-e&&(i=NaN),n>this.boardinfo.pt.x+this.boardinfo.size.width+e&&(n=NaN),i>this.boardinfo.pt.y+this.boardinfo.size.height+e&&(i=NaN)),[n!==1/0?n:NaN,i!==1/0?i:NaN]}updateTempDistanceMap(t,e,n,i){const a={},o={},r=[],s=[];if(Array.isArray(t.Horizontal))for(let o=0;o<t.Horizontal.length;o++){const s=t.Horizontal[o],l=t.HorizontalMap[s];for(let t=0;t<l.length;t++){const o=l[t];let c;o.right<e.left?c=s-i.x+n[0]:o.left>e.right&&(c=s+i.x-n[0]),r.includes(c)||r.push(c),!Array.isArray(a[c])&&(a[c]=[]),a[c].push(o)}}if(Array.isArray(t.Vertical))for(let a=0;a<t.Vertical.length;a++){const r=t.Vertical[a],l=t.VerticalMap[r];for(let t=0;t<l.length;t++){const a=l[t];let c;a.bottom<e.top?c=r-i.y+n[1]:a.top>e.bottom&&(c=r+i.y-n[1]),s.includes(c)||s.push(c),!Array.isArray(o[c])&&(o[c]=[]),o[c].push(a)}}t.Horizontal=r,t.Vertical=s,t.HorizontalMap=a,t.VerticalMap=o}setTempMap(t,e,n,i,a,o){const r=[n[0]+o.x,n[1]+o.y];if(!Array.isArray(e[0][0])&&(e[0][0]=[]),!Array.isArray(e[1][0])&&(e[1][0]=[]),r[0]||this.equal(r[0],0)||r[1]||this.equal(r[1],0))(r[0]||this.equal(r[0],0))&&(!Array.isArray(e[0][r[0]])&&(e[0][r[0]]=[]),e[0][r[0]].push(i),this.equal(r[0],0)||e[0][0].push({bounds:i})),(r[1]||this.equal(r[1],0))&&(!Array.isArray(e[1][r[1]])&&(e[1][r[1]]=[]),e[1][r[1]].push(i),this.equal(r[1],0)||e[1][0].push(i));else{const n=this.snapOffset(t,i,a);this.equal(n[0],0)&&e[0][0].push(i),this.equal(n[1],0)&&e[1][0].push(i)}}snapLink(t,e,n){let i=1/0,o=1/0;if(t instanceof a.e.Node&&t.linksConnected){const r=t.linksConnected;r&&r.count&&r.each(r=>{if(r.curve===a.e.Link.Bezier)return;if(r.points.count<2)return;let s,l,c,h,d,u,f;if(s=r.points.get(0),l=r.points.get(1),c=r.points.get(r.points.count-1),h=r.points.get(r.points.count-2),!(s.y-l.y>0&&c.y-h.y>0||s.y-l.y<0&&c.y-h.y<0||s.x-l.x>0&&c.x-h.x>0||s.x-l.x<0&&c.x-h.x<0)){if(r.fromNode===t&&r.toNode!==t){let t=0;d=r.points.get(t++),u=r.points.get(t++),f=r.points.get(Math.min(t,r.points.count-1))}else if(r.toNode===t&&r.fromNode!==t){let t=r.points.count;d=r.points.get(--t),u=r.points.get(--t),f=r.points.get(Math.max(--t,0))}if(d&&u&&f)if(r.isOrthogonal){if(d&&u&&this.equal(d.y,u.y)){const t=f.y-(d.y+n.y);Math.abs(t)<e&&Math.abs(t)<Math.abs(o)&&(o=t)}else if(d&&u&&this.equal(d.x,u.x)){const t=f.x-(d.x+n.x);Math.abs(t)<e&&Math.abs(t)<Math.abs(i)&&(i=t)}}else if(r.routing===a.e.Link.Normal){const t=f.y-(d.y+n.y),a=f.x-(d.x+n.x);Math.abs(t)<e&&Math.abs(t)<Math.abs(o)&&(o=t),Math.abs(a)<e&&Math.abs(a)<Math.abs(i)&&(i=a)}}})}return[i!==1/0?i:NaN,o!==1/0?o:NaN]}snapOffset(t,e,n){var i=1/0,a=1/0;const o={p1:e.centerX-t.centerX,p2:e.left-t.left,p3:e.right-t.left,p4:e.left-t.right,p5:e.right-t.right},r={p1:e.centerY-t.centerY,p2:e.top-t.top,p3:e.bottom-t.top,p4:e.top-t.bottom,p5:e.bottom-t.bottom};return Math.abs(o.p1)<=n&&Math.abs(o.p1)<Math.abs(i)&&(i=o.p1),Math.abs(o.p2)<=n&&Math.abs(o.p2)<Math.abs(i)&&(i=o.p2),Math.abs(o.p3)<=n&&Math.abs(o.p3)<Math.abs(i)&&(i=o.p3),Math.abs(o.p4)<=n&&Math.abs(o.p4)<Math.abs(i)&&(i=o.p4),Math.abs(o.p5)<=n&&Math.abs(o.p5)<Math.abs(i)&&(i=o.p5),Math.abs(r.p1)<=n&&Math.abs(r.p1)<Math.abs(a)&&(a=r.p1),Math.abs(r.p2)<=n&&Math.abs(r.p2)<Math.abs(a)&&(a=r.p2),Math.abs(r.p3)<=n&&Math.abs(r.p3)<Math.abs(a)&&(a=r.p3),Math.abs(r.p4)<=n&&Math.abs(r.p4)<Math.abs(a)&&(a=r.p4),Math.abs(r.p5)<=n&&Math.abs(r.p5)<Math.abs(a)&&(a=r.p5),[i!==1/0?i:NaN,a!==1/0?a:NaN]}snapDistance(t,e,n){let i,a,o,r=1/0,s=1/0;if(Array.isArray(n.Horizontal)&&n.Horizontal.length){i=0,a=n.Horizontal[i];let s=!1;for(;i<n.Horizontal.length;){const e=n.HorizontalMap[a];for(let n=0;n<e.length;n++){const i=e[n];if(this.crossRect(0,i,t)){s=!0;break}}if(s)break;a=n.Horizontal[++i]}o=n.HorizontalMap[a]||[];for(let i=0;i<o.length;i+=1){const s=o[i];if(!this.crossRect(0,s,t))continue;const l=s.width+2*a;let c="";s.right<t.left?c="Right":s.left>t.right&&(c="Left");let h=this.findDistance(n.Horizontal,l,e);h||(h=this.findDistance(n.Horizontal,a,e));const d=[];for(;h;){const i=n.HorizontalMap[h];if(Math.abs(h-a)<=e){for(let e=0;e<i.length;e+=1){const n=i[e];n!==s&&("Right"===c&&n.left<=s.right||"Left"===c&&n.right>=s.left||this.crossRect(0,n,t)&&("Right"===c&&h-a<Math.abs(r)?r=.5*(h-a):"Left"===c&&h-a<Math.abs(r)&&(r=.5*-(h-a))))}if(r!==1/0&&(r||this.equal(r,0)))break;if(d.push(h),h=this.findDistance(n.Horizontal.filter(t=>!d.includes(t)),a,e),h)continue;if(!h)break}else{if(!(Math.abs(h-l)<=e))break;for(let t=0;t<i.length;t+=1){const e=i[t];e!==s&&("Right"===c&&e.right>=s.left||"Left"===c&&e.left<=s.right||this.crossRect(0,e,s)&&("Right"===c&&h-a-s.width-a<Math.abs(r)?r=h-a-s.width-a:"Left"===c&&h-a-s.width-a<Math.abs(r)&&(r=-(h-a-s.width-a))))}}h=this.findDistance(n.Horizontal,a,e)}}}if(Array.isArray(n.Vertical)&&n.Vertical.length){i=0,a=n.Vertical[i];let r=!1;for(;i<n.Vertical.length;){const e=n.VerticalMap[a];for(let n=0;n<e.length;n++){const i=e[n];if(this.crossRect(1,i,t)){r=!0;break}}if(r)break;a=n.Vertical[++i]}o=n.VerticalMap[a]||[];for(let i=0;i<o.length;i+=1){const r=o[i];if(!this.crossRect(1,r,t))continue;const l=r.height+2*a;let c="";r.bottom<t.top?c="Bottom":r.top>t.bottom&&(c="Top");let h=this.findDistance(n.Vertical,l,e);h||(h=this.findDistance(n.Vertical,a,e));const d=[];for(;h;){const i=n.VerticalMap[h];if(Math.abs(h-a)<=e){for(let e=0;e<i.length;e+=1){const n=i[e];n!==r&&("Bottom"===c&&n.top<r.bottom||"Top"===c&&n.bottom>r.top||this.crossRect(1,n,t)&&("Bottom"===c&&h-a<Math.abs(s)?s=.5*(h-a):"Top"===c&&h-a<Math.abs(s)&&(s=.5*-(h-a))))}if(s!==1/0&&(s||this.equal(s,0)))break;if(d.push(h),h=this.findDistance(n.Vertical.filter(t=>!d.includes(t)),a,e),h)continue;if(!h)break}else{if(!(Math.abs(h-l)<=e))break;for(let t=0;t<i.length;t+=1){const e=i[t];e!==r&&("Bottom"===c&&e.bottom>r.top||"Top"===c&&e.top<r.bottom||this.crossRect(1,e,r)&&("Bottom"===c&&h-a-r.height-a<Math.abs(s)?s=h-a-r.height-a:"Top"===c&&h-a-r.height-a<Math.abs(s)&&(s=-(h-a-r.height-a))))}}h=this.findDistance(n.Vertical,a,e)}}}return[r!==1/0?r:NaN,s!==1/0?s:NaN]}showHorizontal(t,e){var n,i=this.getDistance(t,e)[0];this.equal(e.centerY,t.centerY)&&(n=a.e.Spot.Center,this.drawHorizontal(i,t,e,n)),this.equal(e.top,t.top)?(n=a.e.Spot.Top,this.drawHorizontal(i,t,e,n)):this.equal(e.top,t.bottom)&&(n=a.e.Spot.Bottom,this.drawHorizontal(i,t,e,n)),this.equal(e.bottom,t.top)?(n=a.e.Spot.Top,this.drawHorizontal(i,t,e,n)):this.equal(e.bottom,t.bottom)&&(n=a.e.Spot.Bottom,this.drawHorizontal(i,t,e,n))}showVertical(t,e){var n,i=this.getDistance(t,e)[1];this.equal(e.centerX,t.centerX)&&(n=a.e.Spot.Center,this.drawVertical(i,t,e,n)),this.equal(e.left,t.left)?(n=a.e.Spot.Left,this.drawVertical(i,t,e,n)):this.equal(e.left,t.right)&&(n=a.e.Spot.Right,this.drawVertical(i,t,e,n)),this.equal(e.right,t.left)?(n=a.e.Spot.Left,this.drawVertical(i,t,e,n)):this.equal(e.right,t.right)&&(n=a.e.Spot.Right,this.drawVertical(i,t,e,n))}drawHorizontalDistance(t,e){const n=this._guideconfig;if(!n.horizontalDistanceMap&&(n.horizontalDistanceMap={}),Array.isArray(e.Horizontal)&&e.Horizontal.length){let i=0,a=e.Horizontal[i],o=!1;for(;i<e.Horizontal.length;){const n=e.HorizontalMap[a];for(let e=0;e<n.length;e++){const i=n[e];if(this.crossRect(0,i,t)){o=!0;break}}if(o)break;a=e.Horizontal[++i]}const r=e.HorizontalMap[a]||[];if(!Array.isArray(r))return;!n.horizontalDistanceMap.guidelineList&&(n.horizontalDistanceMap.guidelineList=[]);for(let i=0;i<r.length;i+=1){const o=r[i];if(!(o.y>=t.y&&o.y<=t.bottom||t.y>=o.y&&t.y<=o.bottom))continue;const s=o.width+2*a;let l="";o.right<t.left?l="Right":o.left>t.right&&(l="Left");let c=!1,h=this.findDistance(e.Horizontal,s);for(h&&!this.equal(h,0)||(h=this.findDistance(e.Horizontal,a));h&&!this.equal(h,0);){const i=e.HorizontalMap[h];if(!this.equal(h,s)){if(this.equal(h,a)){for(let e=0;e<i.length;e+=1){const n=i[e];this.crossRect(0,t,n)&&(("Right"===l&&n.left>o.right||"Left"===l&&n.right<o.left)&&(c=!0))}break}break}for(let e=0;e<i.length;e+=1){const a=i[e];if(this.crossRect(0,o,a))if("Right"===l&&a.right<o.left){const e=this.distancePart("M0 0 100 0",!1,!0,n.horizontalDistanceMap.guidelineList.length),i=Math.min(o.bottom,a.bottom)-Math.max(o.top,a.top);ke.setTo(a.right,.5*i+Math.max(a.top,o.top)),e.location=ke,e.elt(0).width=Math.abs(t.left-o.right),this.showingLine(e,!0),n.horizontalDistanceMap.guidelineList.push(e),c=!0}else if("Left"===l&&a.left>o.right){const t=this.distancePart("M0 0 100 0",!1,!0,n.horizontalDistanceMap.guidelineList.length),e=Math.min(o.bottom,a.bottom)-Math.max(o.top,a.top);ke.setTo(o.right,.5*e+Math.max(a.top,o.top)),t.location=ke,t.elt(0).width=Math.abs(a.left-o.right),this.showingLine(t,!0),n.horizontalDistanceMap.guidelineList.push(t),c=!0}}h=this.findDistance(e.Horizontal,a)}if(c){const e=this.distancePart("M0 0 100 0",!1,!0,n.horizontalDistanceMap.guidelineList.length),i=Math.min(t.bottom,o.bottom)-Math.max(t.top,o.top);"Right"===l?(ke.setTo(o.right,.5*i+Math.max(t.top,o.top)),e.elt(0).width=Math.abs(t.left-o.right)):(ke.setTo(t.right,.5*i+Math.max(t.top,o.top)),e.elt(0).width=Math.abs(o.left-t.right)),e.location=ke,this.showingLine(e,!0),n.horizontalDistanceMap.guidelineList.push(e)}}}}drawVerticalDistance(t,e){var n=this._guideconfig;if(!n.verticalDistanceMap&&(n.verticalDistanceMap={}),Array.isArray(e.Vertical)&&e.Vertical.length){let i=0,a=e.Vertical[i],o=!1;for(;i<e.Vertical.length;){const n=e.VerticalMap[a];for(let e=0;e<n.length;e++){const i=n[e];if(this.crossRect(1,t,i)){o=!0;break}}if(o)break;a=e.Vertical[++i]}const r=e.VerticalMap[a]||[];if(!Array.isArray(r))return;!n.verticalDistanceMap.guidelineList&&(n.verticalDistanceMap.guidelineList=[]);for(let i=0;i<r.length;i+=1){const o=r[i];if(!this.crossRect(1,t,o))continue;const s=o.height+2*a;let l="";o.bottom<t.top?l="Bottom":o.top>t.bottom&&(l="Top"),o.right<t.left?l="Right":o.left>t.right&&(l="Left");let c=!1,h=this.findDistance(e.Vertical,s);for(h&&!this.equal(h,0)||(h=this.findDistance(e.Vertical,a));h&&!this.equal(h,0);){const i=e.VerticalMap[h];if(!this.equal(h,s)){if(this.equal(h,a)){for(let e=0;e<i.length;e+=1){const n=i[e];this.crossRect(1,n,t)&&(("Bottom"===l&&n.top>o.bottom||"Top"===l&&n.bottom<o.top)&&(c=!0))}break}break}for(let e=0;e<i.length;e+=1){const a=i[e];if(this.crossRect(1,a,o))if("Bottom"===l&&a.bottom<o.top){const e=this.distancePart("M0 0 0 100",!0,!0,n.verticalDistanceMap.guidelineList.length),i=Math.min(o.right,a.right)-Math.max(o.left,a.left);ke.setTo(.5*i+Math.max(a.left,o.left),a.bottom),e.location=ke,e.elt(0).height=Math.abs(t.top-o.bottom),this.showingLine(e,!0),n.verticalDistanceMap.guidelineList.push(e),c=!0}else if("Top"===l&&a.top>o.bottom){const t=this.distancePart("M0 0 0 100",!0,!0,n.verticalDistanceMap.guidelineList.length),e=Math.min(o.right,a.right)-Math.max(o.left,a.left);ke.setTo(.5*e+Math.max(a.left,o.left),o.bottom),t.location=ke,t.elt(0).height=Math.abs(a.top-o.bottom),this.showingLine(t,!0),n.verticalDistanceMap.guidelineList.push(t),c=!0}}h=this.findDistance(e.Vertical,a)}if(c){const e=this.distancePart("M0 0 0 100",!0,!0,n.verticalDistanceMap.guidelineList.length),i=Math.min(t.right,o.right)-Math.max(t.left,o.left);"Bottom"===l?(ke.setTo(.5*i+Math.max(t.left,o.left),o.bottom),e.elt(0).height=Math.abs(t.top-o.bottom)):(ke.setTo(.5*i+Math.max(t.left,o.left),t.bottom),e.elt(0).height=Math.abs(o.top-t.bottom)),e.location=ke,this.showingLine(e,!0),n.verticalDistanceMap.guidelineList.push(e)}}}}drawHorizontal(t,e,n,i){var a,o,r=this._guideconfig;!r.horizontalMap&&(r.horizontalMap={});var s="";switch(i.y){case 0:o=e.top,s="Top";break;case.5:o=e.centerY,s="";break;case 1:o=e.bottom,s="Bottom"}if(e.left>n.right?(s+="Left",a=n.right):e.right<n.left?(s+="Right",a=e.right):!s&&this.equal(t,0)||(a=Math.min(e.left,n.left),s+="Center"),s&&(!r.horizontalMap[s]&&(r.horizontalMap[s]={}),"number"!=typeof r.horizontalMap[s].distance||r.horizontalMap[s].distance>0&&t>0&&t<r.horizontalMap[s].distance||r.horizontalMap[s].distance<0&&t<0&&t>r.horizontalMap[s].distance))if("Center"===s){!r.horizontalMap.guidelineMap&&(r.horizontalMap.guidelineMap={});var l=(10*Math.max(e.left,n.left)-10*Math.min(e.left,n.left))/10,c=(10*Math.max(e.right,n.right)-10*Math.min(e.right,n.right))/10;if(!this.equal(l,0)&&l&&e.left>n.left&&(!r.horizontalMap.Left||r.horizontalMap.Left.distance>0&&l>0&&l<r.horizontalMap.Left.distance||r.horizontalMap.Left.distance<0&&l<0&&l>r.horizontalMap.Left.distance)){s="Left",!r.horizontalMap[s]&&(r.horizontalMap[s]={});const t=this.guidelineTemplates.Horizontal[s];ke.setTo(Math.min(e.left,n.left),o),t.location=ke,t.elt(0).width=l,r.horizontalMap.guidelineMap[s]=t,r.horizontalMap[s].distance=l,t._tempbounds=n,this.showingLine(t,!0)}if(!this.equal(c,0)&&c&&e.right<n.right&&(!r.horizontalMap.Right||r.horizontalMap.Right.distance>0&&c>0&&c<r.horizontalMap.Right.distance||r.horizontalMap.Right.distance<0&&c<0&&c>r.horizontalMap.Right.distance)){s="Right",!r.horizontalMap[s]&&(r.horizontalMap[s]={});const t=this.guidelineTemplates.Horizontal[s];ke.setTo(Math.min(e.right,n.right),o),t.location=ke,t.elt(0).width=c,r.horizontalMap.guidelineMap[s]=t,r.horizontalMap[s].distance=c,t._tempbounds=n,this.showingLine(t,!0)}}else if(!this.equal(t,0)||"TopCenter"===s||"BottomCenter"===s){const i=this.guidelineTemplates.Horizontal[s];i&&(!r.horizontalMap.guidelineMap&&(r.horizontalMap.guidelineMap={}),r.horizontalMap.guidelineMap[s]=i,r.horizontalMap[s].distance=t,ke.setTo(a,o),i.location=ke,"TopCenter"===s||"BottomCenter"===s?(i.elt(0).width=Math.max(e.right,n.right)-a,i.elt(0).strokeWidth=2/this.diagram.scale):i.elt(0).width=Math.abs(t),i._tempbounds=n,"Left"===s||"Right"===s?this.showingLine(i,!0):"TopCenter"!==s&&"BottomCenter"!==s&&this.showingDasharray(i,!0))}}drawVertical(t,e,n,i){var a,o,r=this._guideconfig;!r.verticalMap&&(r.verticalMap={});var s="";switch(i.x){case 0:a=e.left,s="Left";break;case.5:a=e.centerX,s="";break;case 1:a=e.right,s="Right"}if(e.top>n.bottom?(s="Top"+s,o=n.bottom):e.bottom<n.top?(s="Bottom"+s,o=e.bottom):!s&&this.equal(t,0)||(o=Math.min(e.top,n.top),s+="Center"),s&&(!r.verticalMap[s]&&(r.verticalMap[s]={}),"number"!=typeof r.verticalMap[s].distance||r.verticalMap[s].distance>0&&t>0&&t<r.verticalMap[s].distance||r.verticalMap[s].distance<0&&t<0&&t>r.verticalMap[s].distance))if("Center"===s){!r.verticalMap.guidelineMap&&(r.verticalMap.guidelineMap={});var l=(10*Math.max(e.top,n.top)-10*Math.min(e.top,n.top))/10,c=(10*Math.max(e.bottom,n.bottom)-10*Math.min(e.bottom,n.bottom))/10;if(!this.equal(l,0)&&l&&e.top>n.top&&(!r.verticalMap.Top||r.verticalMap.Top.distance>0&&l>0&&l<r.verticalMap.Top.distance||r.verticalMap.Top.distance<0&&l<0&&l>r.verticalMap.Top.distance)){s="Top",!r.verticalMap[s]&&(r.verticalMap[s]={});const t=this.guidelineTemplates.Vertical[s];ke.setTo(a,Math.min(e.top,n.top)),t.location=ke,t.elt(0).height=l,r.verticalMap.guidelineMap[s]=t,r.verticalMap[s].distance=l,t._tempbounds=n,this.showingLine(t,!0)}if(!this.equal(c,0)&&c&&e.bottom<n.bottom&&(!r.verticalMap.Right||r.verticalMap.Right.distance>0&&c>0&&c<r.verticalMap.Right.distance||r.verticalMap.Right.distance<0&&c<0&&c>r.verticalMap.Right.distance)){s="Bottom",!r.verticalMap[s]&&(r.verticalMap[s]={});const t=this.guidelineTemplates.Vertical[s];ke.setTo(a,Math.min(e.bottom,n.bottom)),t.location=ke,t.elt(0).height=c,r.verticalMap.guidelineMap[s]=t,r.verticalMap[s].distance=c,t._tempbounds=n,this.showingLine(t,!0)}}else if(!this.equal(t,0)||"LeftCenter"===s||"RightCenter"===s){const i=this.guidelineTemplates.Vertical[s];!r.verticalMap.guidelineMap&&(r.verticalMap.guidelineMap={}),r.verticalMap.guidelineMap[s]=i,r.verticalMap[s].distance=t,ke.setTo(a,o),i.location=ke,"LeftCenter"===s||"RightCenter"===s?(i.elt(0).height=Math.max(e.bottom,n.bottom)-o,i.elt(0).strokeWidth=2/this.diagram.scale):i.elt(0).height=Math.abs(t),i._tempbounds=n,"Top"===s||"Bottom"===s?this.showingLine(i,!0):"LeftCenter"!==s&&"RightCenter"!==s&&this.showingDasharray(i,!0)}}horizontalCentralAxis(t){const e=this.diagram;var n=this._guideconfig;!n.horizontalCentralAxis&&(n.horizontalCentralAxis={});const i=this.boardinfo.size.height,a=t.y,o=t.height;let r=a%i;r=r<0&&!this.equal(r,0)?r- -i:r;const s=r+.5*o;let l=(r+o)%i;const c=this.boardinfo.pt.x,h=this.boardinfo.column*this.boardinfo.size.width;let d=NaN,u=this.guidelineTemplates.CentralAxis.Horizontal;this.equal(r,0)?(d=t.y,u.elt(0).strokeWidth=3/e.scale):this.equal(Math.abs(Math.abs(s)-.5*i),0)?(d=t.centerY,u.elt(0).strokeWidth=1/this.diagram.scale):this.equal(l,0)&&(d=t.bottom,u.elt(0).strokeWidth=3/e.scale),d<this.boardinfo.pt.y&&!this.equal(d,this.boardinfo.pt.y)||d>this.boardinfo.pt.y+this.boardinfo.size.height&&!this.equal(d,this.boardinfo.pt.y+this.boardinfo.size.height)||isNaN(d)||(ke.setTo(c,d),u.location=ke,u.elt(0).width=h,n.horizontalCentralAxis.guideline=u)}verticalCentralAxis(t){const e=this.diagram;var n=this._guideconfig;!n.verticalCentralAxis&&(n.verticalCentralAxis={});const i=this.boardinfo.size.width,a=t.x,o=t.width;let r=a%i;r=r<0&&!this.equal(r,0)?r- -i:r;const s=r+.5*o;let l=(r+o)%i;const c=this.boardinfo.pt.y,h=this.boardinfo.row*this.boardinfo.size.height;let d=NaN,u=this.guidelineTemplates.CentralAxis.Vertical;this.equal(r,0)?(d=t.x,u.elt(0).strokeWidth=3/e.scale):this.equal(Math.abs(Math.abs(s)-.5*i),0)?(d=t.centerX,u.elt(0).strokeWidth=1/this.diagram.scale):this.equal(l,0)&&(d=t.right,u.elt(0).strokeWidth=3/e.scale),d<this.boardinfo.pt.x&&!this.equal(d,this.boardinfo.pt.x)||d>this.boardinfo.pt.x+this.boardinfo.size.width&&!this.equal(d,this.boardinfo.pt.x+this.boardinfo.size.width)||isNaN(d)||(ke.setTo(d,c),u.location=ke,u.elt(0).height=h,n.verticalCentralAxis.guideline=u)}equal(t,e){return Math.abs(t-e)<.001}sort(t){let e;for(let n=0;n<t.length;n++)for(let i=n;i<t.length;i++)t[n]>t[i]&&(e=t[i],t[i]=t[n],t[n]=e)}crossRect(t,e,n){return 0===t?e.y>=n.y&&e.y<=n.bottom||n.y>=e.y&&n.y<=e.bottom:1===t?e.x>=n.x&&e.x<=n.right||n.x>=e.x&&n.x<=e.right:void 0}findDistance(t,e,n){if(!Array.isArray(t))return NaN;"number"!=typeof n&&(n=0);const i=t.length;if(t[0]>e+n||t[i-1]<e-n)return NaN;let a=0,o=i;for(;o>1;){const i=.5*o|0,r=Math.abs(t[a+i]-e),s=Math.abs(t[a+i-1]-e);if(this.equal(r,0))return t[a+i];if(this.equal(s,0))return t[a+i-1];if(t[a+i]<=e+n&&(!(t[a+i-1]>=e-n)||r<s))a+=i,o-=i;else{if(!(t[a+i-1]>=e-n)||t[a+i]<=e+n&&!(s<=r))return NaN;o=i}}return t[a+o-1]}getDistance(t,e){return[t.x>e.x?t.x-e.right:e.x-t.right,t.y>e.y?t.y-e.bottom:e.y-t.bottom]}showingText(t,e,n){t.elt(1).visible=!!n,t.elt(1).text=Math.round(e)+"px"}showingLine(t,e){t.elt(4).visible=!!e,t.elt(5).visible=!!e}showingDasharray(t,e){t.elt(0).strokeDashArray=e?[4,4]:null}creatingPart(t,e,n){const i=this.diagram;var o="#0097DE";return xe(a.e.Part,"Spot",{isInDocumentBounds:!1,locationSpot:e?a.e.Spot.TopCenter:a.e.Spot.LeftCenter,locationObjectName:"ToolShape",layerName:"Tool",zOrder:C.b.dragGuidedLine},xe(a.e.Shape,{geometryString:t,isGeometryPositioned:!0,name:"ToolShape",stroke:o,strokeWidth:1/(i?i.scale:1)}),xe(a.e.TextBlock,{alignment:e?a.e.Spot.Center:new a.e.Spot(.5,.5,0,-1),alignmentFocus:e?a.e.Spot.Center:a.e.Spot.Top,text:"",scale:.75,height:16,font:"15.937766792838001px Microsoft Yahei",margin:0,stroke:o,background:e?"#fff":"rgba(255, 255, 255, 0.7)",visible:!1}),xe(a.e.Shape,{toArrow:"OpenTriangle",stroke:o,angle:e?90:0,segmentIndex:-1/0,alignment:e?a.e.Spot.BottomCenter:a.e.Spot.RightCenter,alignmentFocus:e?a.e.Spot.BottomCenter:a.e.Spot.RightCenter,visible:!!n}),xe(a.e.Shape,{angle:e?270:180,fromArrow:"OpenTriangle",stroke:o,segmentIndex:-1/0,alignment:e?a.e.Spot.TopCenter:a.e.Spot.LeftCenter,alignmentFocus:e?a.e.Spot.TopCenter:a.e.Spot.LeftCenter,visible:!!n}),xe(a.e.Shape,{fromArrow:"Line",angle:e?90:0,stroke:o,segmentIndex:-1/0,alignment:e?new a.e.Spot(.5,0,0,0):new a.e.Spot(0,.5,0,0),alignmentFocus:e?a.e.Spot.Bottom:a.e.Spot.Right,visible:!1}),xe(a.e.Shape,{toArrow:"Line",stroke:o,angle:e?90:0,segmentIndex:-1/0,alignment:e?new a.e.Spot(.5,1,0,0):new a.e.Spot(1,.5,0,0),alignmentFocus:e?a.e.Spot.Top:a.e.Spot.Left,visible:!1}))}distancePart(t,e,n,i){const a=this.diagram,o=e?this.guidelineTemplates.Distance.Vertical:this.guidelineTemplates.Distance.Horizontal;if(!o[i]){o[i]=this.creatingPart(t,e,n);const r=a?a.scale:1,s=1/r,l=.75*s,c=[s,l,Math.min(l,r)];this.setingScale(o[i],c)}return o[i]}clearGuidelines(t){const e=this.guidelineTemplates;be.clear(),be.addAll(e.Distance.Vertical),be.addAll(e.Distance.Horizontal),be.addAll([e.Horizontal.Left,e.Horizontal.Center,e.Horizontal.Right,e.Horizontal.TopLeft,e.Horizontal.TopRight,e.Horizontal.BottomLeft,e.Horizontal.BottomRight,e.Horizontal.Top,e.Horizontal.TopCenter,e.Horizontal.Bottom,e.Horizontal.BottomCenter,e.Vertical.Top,e.Vertical.Center,e.Vertical.Bottom,e.Vertical.TopLeft,e.Vertical.TopRight,e.Vertical.BottomLeft,e.Vertical.BottomRight,e.Vertical.Left,e.Vertical.LeftCenter,e.Vertical.Right,e.Vertical.RightCenter,e.CentralAxis.Vertical,e.CentralAxis.Horizontal]),t.removeParts(be),this._guideconfig={}}hidingGuidelings(){const t=this.guidelineTemplates;t.Horizontal.Left.visible=!1,t.Horizontal.Center.visible=!1,t.Horizontal.Right.visible=!1,t.Horizontal.TopLeft.visible=!1,t.Horizontal.TopRight.visible=!1,t.Horizontal.BottomLeft.visible=!1,t.Horizontal.BottomRight.visible=!1,t.Horizontal.Top.visible=!1,t.Horizontal.TopCenter.visible=!1,t.Horizontal.Bottom.visible=!1,t.Horizontal.BottomCenter.visible=!1,t.Vertical.Top.visible=!1,t.Vertical.Center.visible=!1,t.Vertical.Bottom.visible=!1,t.Vertical.TopLeft.visible=!1,t.Vertical.TopRight.visible=!1,t.Vertical.BottomLeft.visible=!1,t.Vertical.BottomRight.visible=!1,t.Vertical.Left.visible=!1,t.Vertical.LeftCenter.visible=!1,t.Vertical.Right.visible=!1,t.Vertical.RightCenter.visible=!1,t.CentralAxis.Vertical.visible=!1,t.CentralAxis.Horizontal.visible=!1,t.Distance.Vertical.forEach(t=>{t.visible=!1}),t.Distance.Horizontal.forEach(t=>{t.visible=!1}),this._guideconfig={}}renderGuideline(t,e){const n=this.diagram;"boolean"==typeof e&&this.showingText(t,t.elt(0).width||t.elt(0).height,e),t.visible=!0,t.diagram||n.add(t)}renderGuidelines(){var t=this._guideconfig;if(t&&t.horizontalMap&&t.horizontalMap.guidelineMap){if(t.horizontalMap.guidelineMap.Left&&this.renderGuideline(t.horizontalMap.guidelineMap.Left,!0),t.horizontalMap.guidelineMap.TopLeft){let e=!0;(t.horizontalMap.guidelineMap.Left&&t.horizontalMap.guidelineMap.Left._tempbounds===t.horizontalMap.guidelineMap.TopLeft._tempbounds||t.horizontalMap.guidelineMap.BottomLeft&&t.horizontalMap.guidelineMap.BottomLeft._tempbounds===t.horizontalMap.guidelineMap.TopLeft._tempbounds)&&(e=!1),this.renderGuideline(t.horizontalMap.guidelineMap.TopLeft,e)}if(t.horizontalMap.guidelineMap.BottomLeft){let e=!0;t.horizontalMap.guidelineMap.Left&&t.horizontalMap.guidelineMap.Left._tempbounds===t.horizontalMap.guidelineMap.BottomLeft._tempbounds&&(e=!1),this.renderGuideline(t.horizontalMap.guidelineMap.BottomLeft,e)}if(t.horizontalMap.guidelineMap.Right&&this.renderGuideline(t.horizontalMap.guidelineMap.Right,!0),t.horizontalMap.guidelineMap.TopRight){let e=!0;(t.horizontalMap.guidelineMap.Right&&t.horizontalMap.guidelineMap.Right._tempbounds===t.horizontalMap.guidelineMap.TopRight._tempbounds||t.horizontalMap.guidelineMap.BottomRight&&t.horizontalMap.guidelineMap.BottomRight._tempbounds===t.horizontalMap.guidelineMap.TopRight._tempbounds)&&(e=!1),this.renderGuideline(t.horizontalMap.guidelineMap.TopRight,e)}if(t.horizontalMap.guidelineMap.BottomRight){let e=!0;t.horizontalMap.guidelineMap.Right&&t.horizontalMap.guidelineMap.Right._tempbounds===t.horizontalMap.guidelineMap.BottomRight._tempbounds&&(e=!1),this.renderGuideline(t.horizontalMap.guidelineMap.BottomRight,e)}t.horizontalMap.guidelineMap.TopCenter&&this.renderGuideline(t.horizontalMap.guidelineMap.TopCenter),t.horizontalMap.guidelineMap.BottomCenter&&this.renderGuideline(t.horizontalMap.guidelineMap.BottomCenter)}if(t&&t.verticalMap&&t.verticalMap.guidelineMap){if(t.verticalMap.guidelineMap.Top&&this.renderGuideline(t.verticalMap.guidelineMap.Top,!0),t.verticalMap.guidelineMap.TopLeft){let e=!0;(t.verticalMap.guidelineMap.Top&&t.verticalMap.guidelineMap.Top._tempbounds===t.verticalMap.guidelineMap.TopLeft._tempbounds||t.verticalMap.guidelineMap.TopRight&&t.verticalMap.guidelineMap.TopRight._tempbounds===t.verticalMap.guidelineMap.TopLeft._tempbounds)&&(e=!1),this.renderGuideline(t.verticalMap.guidelineMap.TopLeft,e)}if(t.verticalMap.guidelineMap.TopRight){let e=!0;t.verticalMap.guidelineMap.Top&&t.verticalMap.guidelineMap.Top._tempbounds===t.verticalMap.guidelineMap.TopRight._tempbounds&&(e=!1),this.renderGuideline(t.verticalMap.guidelineMap.TopRight,e)}if(t.verticalMap.guidelineMap.Bottom&&this.renderGuideline(t.verticalMap.guidelineMap.Bottom,!0),t.verticalMap.guidelineMap.BottomLeft){let e=!0;(t.verticalMap.guidelineMap.Bottom&&t.verticalMap.guidelineMap.Bottom._tempbounds===t.verticalMap.guidelineMap.BottomLeft._tempbounds||t.verticalMap.guidelineMap.BottomRight&&t.verticalMap.guidelineMap.BottomRight._tempbounds===t.verticalMap.guidelineMap.BottomLeft._tempbounds)&&(e=!1),this.renderGuideline(t.verticalMap.guidelineMap.BottomLeft,e)}if(t.verticalMap.guidelineMap.BottomRight){let e=!0;t.verticalMap.guidelineMap.Bottom&&t.verticalMap.guidelineMap.Bottom._tempbounds===t.verticalMap.guidelineMap.BottomRight._tempbounds&&(e=!1),this.renderGuideline(t.verticalMap.guidelineMap.BottomRight,e)}t.verticalMap.guidelineMap.LeftCenter&&this.renderGuideline(t.verticalMap.guidelineMap.LeftCenter),t.verticalMap.guidelineMap.RightCenter&&this.renderGuideline(t.verticalMap.guidelineMap.RightCenter)}t&&t.horizontalDistanceMap&&Array.isArray(t.horizontalDistanceMap.guidelineList)&&t.horizontalDistanceMap.guidelineList.forEach(t=>{this.renderGuideline(t)}),t&&t.verticalDistanceMap&&Array.isArray(t.verticalDistanceMap.guidelineList)&&t.verticalDistanceMap.guidelineList.forEach(t=>{this.renderGuideline(t)}),t&&t.horizontalCentralAxis&&t.horizontalCentralAxis.guideline&&this.renderGuideline(t.horizontalCentralAxis.guideline),t&&t.verticalCentralAxis&&t.verticalCentralAxis.guideline&&this.renderGuideline(t.verticalCentralAxis.guideline)}setingScale(t,e){t.elt(0).strokeWidth=e[0],t.elt(1).scale=e[1],t.elt(2).scale=e[2],t.elt(3).scale=e[2],t.elt(4).scale=e[2],t.elt(5).scale=e[2]}updatingScale(t){const e=t?t.scale:1,n=1/e,i=.75*n,a=[n,i,Math.min(i,e)],o=this.guidelineTemplates;this.setingScale(o.Horizontal.Left,a),this.setingScale(o.Horizontal.Center,a),this.setingScale(o.Horizontal.Right,a),this.setingScale(o.Horizontal.TopLeft,a),this.setingScale(o.Horizontal.TopRight,a),this.setingScale(o.Horizontal.BottomLeft,a),this.setingScale(o.Horizontal.BottomRight,a),this.setingScale(o.Horizontal.Top,a),this.setingScale(o.Horizontal.TopCenter,a),this.setingScale(o.Horizontal.Bottom,a),this.setingScale(o.Horizontal.BottomCenter,a),this.setingScale(o.Vertical.Top,a),this.setingScale(o.Vertical.Center,a),this.setingScale(o.Vertical.Bottom,a),this.setingScale(o.Vertical.TopLeft,a),this.setingScale(o.Vertical.TopRight,a),this.setingScale(o.Vertical.BottomLeft,a),this.setingScale(o.Vertical.BottomRight,a),this.setingScale(o.Vertical.Left,a),this.setingScale(o.Vertical.LeftCenter,a),this.setingScale(o.Vertical.Right,a),this.setingScale(o.Vertical.RightCenter,a),this.setingScale(o.CentralAxis.Vertical,a),this.setingScale(o.CentralAxis.Horizontal,a),o.Distance.Vertical.forEach(t=>{this.setingScale(t,a)}),o.Distance.Horizontal.forEach(t=>{this.setingScale(t,a)}),t.toolManager.draggingTool.isGridSnapEnabled?this.guidelineSnapDistance=.5*Math.max(t.grid.gridCellSize.width,t.grid.gridCellSize.height):this.guidelineSnapDistance=6}};function _e(){a.e.DraggingTool.call(this),this.guidedline=Me,this.dragsLink=!0,this.isMac=L.c,this.dragOutStatus=!1,this._selectInGroup=!1,this._isGuidelineEnabled=!0,this._dragOverStack=[],this.filterKeys=null,this.nodesBounds=null,this.draggingLinks=null,this.horizontalSum=0,this.verticalSum=0,this.copyParts=null,this.copying=!1}function Le(t,e){const n=t.filter(t=>t.data.group&&t.data.aroundPart);if(n.size){(new a.e.Set).addAll(n.map(t=>t.data.group)).each(n=>{const i=e.findNodeForKey(n);t.has(i)||i.isSelected&&i.editStatus||(t=t.filter(t=>t.data.group!==n))})}return t}function Te(t){if(!t.isLinkLabel)return t.isSelected;const e=t.labeledLink,n=e.fromNode,i=e.toNode;let a=!1;return n||i?n&&!i?a=e.isSelected&&Te(n):i&&!n?a=e.isSelected&&Te(i):n&&i&&(a=Te(n)&&Te(i)):a=e.isSelected,a}a.e.Diagram.inherit(_e,a.e.DraggingTool),_e.prototype.mouseMoveCallback=function(){const t=this.diagram;if((t.allowHorizontalScroll||t.allowVerticalScroll)&&Object(N.o)(t,t.lastInput.viewPoint),!this.draggedParts)return;let e=this.currentPart;const n=this.draggedParts.filter(t=>t.key instanceof a.e.Node);if(n.count>1&&e.data.group){const t=n.filter(t=>"around-group"===t.key.data.category).first();t&&(e=t.key)}this.diagram.inDraggingState=!0,(e instanceof a.e.Node||e instanceof a.e.Group)&&Object(O.createOrUpdateTip)(this.diagram,e,"dragging"),function(t){const e=document.getElementById("diagram-drag-image");if(!e)return;const n=t.lastInput.event,i=n.clientX-14,a=n.clientY-14;e.style.left=i+"px",e.style.top=a+"px"}(t)},_e.prototype.doKeyDown=function(){a.e.DraggingTool.prototype.doKeyDown.call(this),this.diagram.setGridSnapEnabled(!1)},_e.prototype.doKeyUp=function(){a.e.DraggingTool.prototype.doKeyUp.call(this),this.diagram.setGridSnapEnabled()},_e.prototype.clearGuidelines=function(){Me.clearGuidelines(this.diagram)},_e.prototype.updateGuidelingScale=function(){Me.updatingScale(this.diagram)},_e.prototype.moveParts=function(t,e,n){a.e.DraggingTool.prototype.moveParts.call(this,t,e,!1)},_e.prototype.isMoveLabel=function(){return this.diagram.findObjectsAt(this.diagram.lastInput.documentPoint,t=>"TEXT"===t.name&&t.part instanceof a.e.Link?t:null).count>0},_e.prototype.canStart=function(){return!this.diagram.holdDownSpace&&(!this.isMoveLabel()&&a.e.DraggingTool.prototype.canStart.call(this))},_e.prototype.doActivate=function(){const t=this.diagram.skipsUndoManager;if(this.diagram.skipsUndoManager=!0,this.diagram.startTransaction(),this.diagram.commitTransaction(),this.diagram.skipsUndoManager=t,this.diagram.routing)return delete this.diagram.routing,!1;const e=this.diagram.findObjectAt(this.diagram.lastInput.documentPoint);if(e&&"Adornment"===e.part.layerName&&("LOCK_ADORNMENT"===e.part.name||"REL_ADORNMENT"===e.part.name||"noteAdornment"===e.part.name||"CONFIG_ADORNMENT"===e.part.name||"COMMENT_ADORNMENT"===e.part.name||"ANIMATION_ADORNMENT"===e.part.name))return!1;this.diagram.getEditingSelection().each(t=>{t.removeAdornment("cooperateSelectionAdornment"),t.removeAdornment("cooperUserNameAdornment"),t.removeAdornment("LinkReshaping")});const n=this.diagram.findPartAt(this.diagram.lastInput.documentPoint);if(n&&n.name&&~n.name.indexOf("Handle")&&(this.diagram.skipsUndoManager=!0),a.e.DraggingTool.prototype.doActivate.call(this),1===this.diagram.selection.count&&this.diagram.selection.first()instanceof a.e.Link){const t=this.diagram.selection.first();t.updateAdornments();const e=t.findAdornment("LinkReshaping");e&&e.elements.each(t=>{"moveAlongLine"!==t.name&&(t.visible=!1)})}this.copying=this.mayCopy()},_e.prototype.computeEffectiveCollection=function(){const t=this.diagram,e=ue.a.getMap(t);let n=new a.e.List;this.aroundGroups=new a.e.Set,Object(N.n)(t),this.selection=t.getEditingSelection();let i=this.selection.iterator,o=(new a.e.List).addAll(t.nodes);for(o.addAll(t.links);i.next();){const r=i.value;if(r.data&&r.data.attatch){const t=e[r.key]||Object(G.b)([r]);o=o.filter(i=>{const a=e[i.key]||Object(G.b)([i],!0);return!t.containsRect(a)||(r.layerName===i.layerName&&n.add(i),!1)})}if(r instanceof a.e.Group&&"around-group"!==r.data.category){const t=Object(Y.g)(this.diagram,[r]);n.addAll(t)}n.contains(r)||n.add(r);const s=r.linksConnected;s&&s.each(e=>{if(e.data&&e.data.group){const n=t.findNodeForKey(e.data.group);n&&n.data.aroundLock&&this.aroundGroups.add(n)}}),"around-group"===r.data.category&&r.data.aroundLock&&this.aroundGroups.add(r)}n=n.filter(t=>!t.data.lock),n=n.filter(t=>!(t instanceof a.e.Link&&t.fromNode&&!t.fromNode.isSelected&&t.toNode&&!t.toNode.isSelected)),n=n.filter(t=>!("around-group"===t.data.category&&!n.any(e=>{const n=e.data.tempGroup?"tempGroup":"group";return e.data[n]===t.data.key}))),n=Le(n,this.diagram);let r=a.e.DraggingTool.prototype.computeEffectiveCollection.call(this,n,{groupsAlwaysMove:!0});const s=r.toArray().filter(t=>t.key instanceof a.e.Node&&t.key.data).map(t=>t.key);this.linkPartsMap=new a.e.Map,this.linkPointsMap=new a.e.Map,this.computeLinks=[],t.links.each(t=>{this.linkPointsMap.set(t,t.points?t.points.toArray():[])}),this.draggingLinks=r.filter(t=>t.key instanceof a.e.Link&&(!t.key.data.lock&&(!!(t.key.isSelected||~s.indexOf(t.key.fromNode)&&~s.indexOf(t.key.toNode)||n.contains(t.key))&&(!t.key.isSelected||!(t.key.fromNode&&!Te(t.key.fromNode)||t.key.toNode&&!Te(t.key.toNode)))))),n.each(t=>{t instanceof a.e.Link&&t.isSelected&&(t.fromNode&&!Te(t.fromNode)&&!t.toNode||t.toNode&&!Te(t.toNode)&&!t.fromNode)&&this.computeLinks.push(t)}),r=r.filter(t=>{if(t.key instanceof a.e.Link){const e=t.key.findObject("LINK_SHAPE").getDocumentBounds(),i=t.key.data.strokeWidth||0,o=new a.e.Point(e.x+.5*i,e.y+.5*i);if(t.key.data.lock||this.linkPartsMap.set(t.key,o),!t.key.isSelected&&~s.indexOf(t.key.fromNode)&&~s.indexOf(t.key.toNode)&&!n.contains(t.key))return!0;if(!(t.key.isSelected||~s.indexOf(t.key.fromNode)&&~s.indexOf(t.key.toNode)||n.contains(t.key)))return!1;if(t.key.isSelected&&(t.key.fromNode&&!Te(t.key.fromNode)||t.key.toNode&&!Te(t.key.toNode)))return!1}return!t.key.isLinkLabel&&!!t.key.canMove()});const l=[],c=[],h=[],d=[];if(r&&r.count){const t=r.iterator;for(;t.next();){const e=t.key;e.data&&"around-group"===e.data.category?d.push(e):(e instanceof a.e.Node&&l.push(e.key),e instanceof a.e.Link&&(h.push(e),1===r.count&&(this.draggedLink=e)),c.push(e))}}this.filterKeys=l,this.updateGuidelingScale(t);const u=new a.e.Rect(0,0,0,0),f=Object(G.b)(c),p=Object(G.b)(h,!0),g=Object(G.b)(d);f.isReal()&&u.set(f),p.isReal()&&(u.isEmpty()?u.set(p):u.unionRect(p));const m=t.grid.gridCellSize;let y=0,v=0;if(g.isReal()){const t=.5*g.width%m.width,e=.5*g.height%m.height;y=t-(u.x-g.x)%m.width,v=e-(u.y-g.y)%m.height}else f.isReal()&&(y=.5*f.width%m.width,v=.5*f.height%m.height);const w=new a.e.Spot;return w.setTo(0,0,y,v),this.dragOptions.gridSnapCellSpot=w,this.nodesBounds=u,n=null,r},_e.prototype.computeLinkOffset=function(t){const e=this.linkPartsMap.get(t).copy(),n=this.startPoint,i=a.e.Point.alloc();i.assign(diagram.lastInput.documentPoint);const o=i.subtract(n),r=a.e.Point.alloc();r.assign(e),r.add(o);const s=r.snapToGridPoint(this.diagram.grid.gridOrigin,this.diagram.grid.gridCellSize);return s.subtract(e),s},_e.prototype.moveComputeLinks=function(t,e){t.forEach(t=>{(!t.fromNode||!t.toNode||Te(t.fromNode)||t.toNode.isSelected||Te(t.toNode))&&(t.fromNode?t.toNode||t.defaultToPoint.add(e):t.defaultFromPoint.add(e)),this.diagram.updateLinkPoints(t)})},_e.prototype.doMouseMove=function(){if(!this.currentPart)return void this.doMouseUp();this.currentPart instanceof a.e.Link&&!this._selectInGroup&&this.draggedParts.each(t=>{t.key&&t.key.data&&"around-group"===t.key.data.category&&!t.key.data.group&&(this.currentPart=t.key)}),this.copying?this.addCopies(!1):this.mayCopy()&&this.addCopies(!0);const t=this.draggedParts,e=this.copyParts;if(!t||!t.count)return null;const n=this.diagram.lastInput.documentPoint,i=this.doMouseMoveBefore(n);let o=new a.e.Point;o.setTo(i.offsetX,i.offsetY),this.moveParts2(this.copying?e:t,o,{dragsLink:!0},!this.copying),this.moveComputeLinks(this.computeLinks,o),this.internalDragOver(diagram.lastInput.documentPoint),this.mouseMoveCallback()},_e.prototype.doMouseUp=function(){const t=this.diagram;if(this.dragOutStatus){this.doCancel(),this.dragOutStatus=!1;const e=t.pageSetting;e&&e.pageOptions.isAutoExpandCanvas&&e.expandCanvasObj.computeUpdateDiagram(),this.selection.each(t=>{t instanceof a.e.Link&&this.diagram.updateLinkPoints(t)});const n=Object(Y.k)(this.diagram.selection);Object(Y.n)(this.diagram,n)}else{if(this.copying&&null!==this.copyParts&&(t.raiseDiagramEvent("ChangingSelection",t.selection),t.clearSelection(!0),this.copyParts.iteratorKeys.each(t=>{t.isSelected=!0})),this.internalDropOnto(t.lastInput.documentPoint),this.isActive){const e=this.copying?this.copyParts.toKeySet():this.draggedParts.toKeySet();t.invalidateDocumentBounds(),this.transactionResult=this.copying?"Copy":"Move",t.raiseDiagramEvent(this.copying?"SelectionCopied":"SelectionMoved",e)}if(this.copying){const e=Object(Y.k)(t.selection);Object(Y.c)(t,[e],!1),t.raiseDiagramEvent("ChangedSelection",t.selection)}this.stopTool(),this.aroundGroups&&this.aroundGroups.each(e=>{e.data.angle=0,Object(Y.n)(t,e,!1)})}},_e.prototype.doMouseMoveBefore=function(t){const e=this.diagram,n=e.skipsUndoManager,i=this.draggedParts,o=this.copyParts,r=this.copying?this.copyedPart:this.currentPart;if(!r)return null;if(!i||!i.count)return null;e.skipsUndoManager=!0;const s=this.dragOptions,l=this.startPoint,c=a.e.Point.alloc(),h=a.e.Point.alloc(),d=a.e.Point.allocAt(0,0),u=a.e.Point.allocAt(0,0),f=e.lastInput.documentPoint;if(h.assign(f),h.subtract(l),e.lastInput.shift){const t=f.x-this.startPoint.x,e=f.y-this.startPoint.y;Math.abs(t)>Math.abs(e)?h.y=0:h.x=0}const p=this.copying?o.get(r):i.get(r),g=a.e.Rect.allocAt(0,0,0,0);if(this.draggedLink&&r instanceof a.e.Link){const t=p.point,n=a.e.Point.allocAt(0,0),i=r.getPoint(0);i&&i.isReal()&&n.assign(i),n.subtract(t),c.assign(n).add(h),e.computeMove(r,c,{},d),e.computeMove(r,c,s,u),u.add(t),u.subtract(i)}else if(p){const t=p.point;c.assign(t),e.computeMove(r,c.add(h),{},d),s.isGridSnapEnabled&&(s.isGridSnapRealtime||e.lastInput.up)?(c.assign(t),e.computeMove(r,c.add(h),s,u)):u.set(d);const n=this.nodesBounds;g.assign(n),g.offset(p.shifted.x,p.shifted.y),d.subtract(r.location),u.subtract(r.location)}a.e.Rect.free(g),a.e.Point.free(u),a.e.Point.free(d),a.e.Point.free(h),a.e.Point.free(c);let m=null;return d.isReal()&&u.isReal()&&(d.setTo(0|d.x,0|d.y),m=r instanceof a.e.Node?this.show(g,d,u,this.filterKeys,r):{offsetX:u.x,offsetY:u.y}),e.skipsUndoManager=n,m},_e.prototype.show=function(t,e,n,i,a){if(this.isGuidelineEnabled)return this.guidedline.showMatches(this.diagram,t,e,n,i,a)},_e.prototype.moveParts2=function(t,e,n,i){if(null===t)return;if(0===t.count)return;const o=a.e.Point.alloc(),r=a.e.Point.alloc();r.assign(e),isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0);const s=this._suspendedRouting;s||this._suspendRouting(t);const l=[],c=[],h=t.iterator;let d=a.e.Point.alloc();for(;h.next();){const n=h.key,r=h.value;if(n instanceof a.e.Link){h.key instanceof a.e.Link&&c.push({key:n,value:r})}else{n.removeAdornment("cooperateSelectionAdornment"),n.removeAdornment("cooperUserNameAdornment");const s=this._findContainingInfo(n,t);if(null!==s)l.push({node:n,info:r,groupInfo:s});else if(!i||n.canMove()){const t=r.point;o.assign(t),d.assign(n.location),d.add(e),n.location=d,void 0===r.shifted&&(r.shifted=new a.e.Point),r.shifted.assign(d.subtract(t))}}}a.e.Point.free(d);const u=l.length;for(let t=0;t<u;t++){const{node:e,info:n,groupInfo:i}=l[t],r=n.point;o.assign(r),void 0===i.shifted&&(i.shifted=new a.e.Point),e.location=o.add(i.shifted)}const f=a.e.Point.alloc(),p=a.e.Point.alloc(),g=c.length;for(let e=0;e<g;e++){const i=c[e],s=i.key;if(s instanceof a.e.Link)if(s.suspendsRouting){s._savedRoute=null;const e=s.fromNode,l=s.toNode;if(null!==this.draggedLink&&n.dragsLink){const e=i.value.point;if(null===s.dragComputation){t.add(s,this._newDraggingInfo(n,s,r));const i=r.x-e.x,a=r.y-e.y;s.moveTo(s.position.x+i,s.position.y+a)}else{const i=a.e.Point.allocAt(0,0),o=s.getPoint(0);o&&o.isReal()&&i.assign(o),d=a.e.Point.alloc().assign(i).add(r);let l=d;d.assign(s.dragComputation(s,d,l)).subtract(i),t.add(s,this._newDraggingInfo(n,s,d));const c=d.x-e.x,h=d.y-e.y;s.moveTo(s.position.x+c,s.position.y+h),a.e.Point.free(i),a.e.Point.free(d),l!==d&&a.e.Point.free(l)}}else{if(null!==e&&!e.isLinkLabel){f.assign(e.location);const n=t.getValue(e);null!==n&&f.subtract(n.point)}if(null!==l&&!l.isLinkLabel){p.assign(l.location);const e=t.getValue(l);null!==e&&p.subtract(e.point)}if(null===e||null===l||e.isLinkLabel||l.isLinkLabel){t.add(s,this._newDraggingInfo(n,s,r));const e=r.x,i=r.y;r.isReal()?s.moveTo(s.position.x+e,s.position.y+i):s.invalidateRoute()}else if(f.equalsApprox(p)){const e=i.value.point,a=o;a.assign(f),a.subtract(e),t.add(s,this._newDraggingInfo(n,s,f)),a.isReal()?s.moveTo(s.position.x+a.x,s.position.y+a.y):s.invalidateRoute()}else s.suspendsRouting=!1,s.invalidateRoute()}}else if(null===s.fromNode||null===s.toNode){const e=i.value.point;t.add(s,this._newDraggingInfo(n,s,r));const a=r.x-e.x,o=r.y-e.y;r.isReal()?s.moveTo(s.position.x+a,s.position.y+o):s.invalidateRoute()}}a.e.Point.free(o),a.e.Point.free(r),a.e.Point.free(f),a.e.Point.free(p),s||this._resumeRouting(t)},_e.prototype._newDraggingInfo=function(t,e,n){if(void 0===n)return new a.e.DraggingInfo(a.e.Point.Origin);let i=t.isGridSnapEnabled;return t.groupsSnapMembers||null===e.containingGroup||(i=!1),i?new a.e.DraggingInfo(new a.e.Point(Math.round(n.x),Math.round(n.y))):new a.e.DraggingInfo(n.copy())},_e.prototype._suspendRouting=function(t){if(null===t)return;this._suspendedRouting=!0;const e=t.iterator;for(;e.next();){const t=e.key;t instanceof a.e.Link&&(t.suspendsRouting=!0)}},_e.prototype._resumeRouting=function(t){if(null===t)return;const e=t.iterator;for(;e.next();){const t=e.key;t instanceof a.e.Link&&(t.suspendsRouting=!1)}this._suspendedRouting=!1},_e.prototype._findContainingInfo=function(t,e){const n=t.containingGroup;if(null!==n){let t=this._findContainingInfo(n,e);if(null!==t)return t;if(t=e.getValue(n),null!==t)return t}return null},_e.prototype.standardMouseSelect=function(){const t=this.diagram,e=t.skipsUndoManager;t.skipsUndoManager=!0;const n=t.firstInput;if(t.allowSelect){let e=this.diagram.toolManager.clickSelectingTool._getStandardPart();if(e||(this.diagram.currentTool.stopTool(),this.diagram.clearSelection()),e instanceof a.e.Adornment&&(e=e.adornedPart),e){let o;for(o=e;o&&!o.canSelect();)o=o.containingGroup;if(o){let r,s;for(s=o;s&&s.data&&s.data.group;){var i;s=this.diagram.findNodeForKey(s.data.group),"around-group"===(null===(i=s)||void 0===i?void 0:i.data.category)&&(r=s)}if(r)if(r.editStatus){if(this._selectInGroup=!0,o=e,!r.selection.has(e))if(Object(Y.c)(t),(this.isMac?n.meta:n.control)||n.shift){const n=r.selection.copy().add(e);r.updateSelection(n),Object(Y.d)(t,n)}else r.updateSelection((new a.e.Set).add(e));const i=t.findNodeForKey(r.selection.first().data.tempGroup);i&&(o=i)}else o=r}if(o&&!o.isSelected)if((this.isMac?n.meta:n.control)||n.shift){const e=t.selection.copy();e.add(o),t.toolManager.dragSelectingTool.selectAroundGroup(e)}else if("around-group"===o.data.category){const e=new a.e.List,n=Object(Y.g)(t,[o]);e.addAll(n),t.selectCollection(e),t.toolManager.dragSelectingTool.selectAroundGroup(e)}else t.select(o);if(o&&!this._selectInGroup){const t=this.diagram.findTopAroundGroup(o);t&&(o=t)}this.currentPart=o}}t.skipsUndoManager=e},_e.prototype.findDraggablePart=function(){const t=this.diagram,e=t.firstInput,n=Object(N.r)(t,e.documentPoint,t=>t.part&&t.part.data&&"uml-shape"===t.part.data.category&&(t instanceof a.e.Node||t instanceof a.e.Panel||t.part instanceof a.e.Adornment)?null:t.part instanceof a.e.Adornment?void 0:t);return null!==n&&n.canMove()?n:null},_e.prototype.doDeactivate=function(){Pe.includes(this.currentPart.name)&&(this.transactionResult=null),a.e.DraggingTool.prototype.doDeactivate.call(this),this.copyParts=null,this.copyedPart=null,this.copying=!1,Object(O.clearToolTip)(this.diagram);const t=Object(Y.k)(this.diagram.selection);if(Object(Y.n)(this.diagram,t),this.diagram.noAdornments=!1,this.clearGuidelines(),this.filterKeys=null,this.nodesBounds=null,this._selectInGroup=!1,1===this.diagram.selection.count&&this.diagram.selection.first()instanceof a.e.Link){const t=this.diagram.selection.first(),e=t.findAdornment("LinkReshaping");e&&e.elements.each(t=>{"moveAlongLine"!==t.name&&(t.visible=!0)}),this.diagram.clearSelection(),this.diagram.select(t)}let e=!1;this.diagram.parts.each(t=>{if(t&&t.name&&~t.name.indexOf("Handle")){e=!0;const n=t.findAdornment("topRightAdornment");n&&(n.elt(1).visible=!1,n.elt(2).visible=!1)}}),e&&this.diagram.raiseDiagramEvent("changedSelection",this.diagram.selection)},_e.prototype.doDropOnto=function(t,e){this.clearGuidelines(),this.filterKeys=null,this.nodesBounds=null},_e.prototype.findPanelOrGroup=function(t){const e=t.panel;if(null!==e)return e;if(t instanceof a.e.Part&&!(t instanceof a.e.Group)){const e=t.containingGroup;if(null!==e&&e.handlesDragDropForMembers)return e}return null},_e.prototype.enterDragOverStack=function(t,e){let n=!1,i=this._dragOverStack.length;const a=i>0?this._dragOverStack[0]:null;if(e===a)return!1;t.handled=!1;for(let a=0;a<i;a++){const i=this._dragOverStack[a],o=i.mouseDragLeave;if(null!==o&&(o(t,i,e),n=!0,t.handled))break}if(this._dragOverStack.length=0,null===e)return n;t.handled=!1;let o=e;for(;null!==o;)this._dragOverStack.push(o),o=this.findPanelOrGroup(o);i=this._dragOverStack.length;for(let e=0;e<i;e++){const i=this._dragOverStack[e],o=i.mouseDragEnter;if(null!==o&&(o(t,i,a),n=!0,t.handled))break}return n},_e.prototype.internalDragOver=function(t){const e=this.diagram,n=this.findDragOverObject(t),i=e.lastInput;i.targetObject=n,this.doUpdateCursor(n,!1);const o=e.skipsUndoManager;let r=!1;try{if(e.skipsUndoManager=!0,r=this.enterDragOverStack(i,n),!this.isActive&&null===a.e.DraggingTool._source)return;const s=null!==n?n.part:null;if(null===s||e.handlesDragDropForTopLevelParts&&s.isTopLevel&&!(s instanceof a.e.Group)){const t=e.mouseDragOver;null!==t&&(t(i),r=!0)}if(!this.isActive&&null===a.e.DraggingTool._source)return;if(this.doDragOver(t,n),!this.isActive&&null===a.e.DraggingTool._source)return}finally{e.skipsUndoManager=o,r&&e.maybeUpdate()}this._lastObject=n,e.isReadOnly||!e.allowMove&&!e.allowCopy||!e.allowHorizontalScroll&&!e.allowVerticalScroll||e.doAutoScroll(i.viewPoint)},_e.prototype.internalDropOnto=function(t){const e=this.diagram;this._stopEnterLeave();const n=this.findDragOverObject(t),i=e.lastInput;if(i.targetObject=n,null!==n){i.handled=!1;let t=n;for(;null!==t;){const e=t.mouseDrop;if(null!==e&&(e(i,t),i.handled))break;this.maybeDiagramMouseDrop(i,t),t=this.findPanelOrGroup(t)}}else{const t=e.mouseDrop;null!==t&&t(i)}if(!this.isActive&&!a.e.DraggingTool._source)return;const o=(this.copiedParts||this.draggedParts).iterator;for(;o.next();){const t=o.key;t instanceof Node&&t.linksConnected.each((function(t){t.suspendsRouting=!1}))}if(this.doDropOnto(t,n),!this.isActive&&null===a.e.DraggingTool._source)return;const r=a.e.Rect.alloc(),s=e.selection.iterator;for(;s.next();){const t=s.value;t instanceof Node&&this.invalidateAvoidsNodesLinks(e,t,r)}a.e.Rect.free(r)},_e.prototype._stopEnterLeave=function(){const t=this.diagram,e=t.skipsUndoManager;t.skipsUndoManager=!0;const n=t.lastInput;this.enterDragOverStack(n,null),t.skipsUndoManager=e,this._dragOverStack.length=0},_e.prototype.maybeDiagramMouseDrop=function(t,e){const n=this.diagram,i=e.part;if(n.handlesDragDropForTopLevelParts&&i.isTopLevel&&!(i instanceof a.e.Group)){const e=n.mouseDrop;null!==e&&e(t)}},_e.prototype.invalidateLinks=function(t){t instanceof a.e.Node&&t.invalidateConnectedLinks()},_e.prototype.addCopies=function(t){if(null!==this.copyParts)return;this.copying=!0;const e=this.diagram;this.startPoint=e.firstInput.documentPoint;const n=new a.e.List;this.selection.filter(t=>!t.data.lock).each(t=>{var e,i;(t.updateAdornments(),t instanceof a.e.Link)?(t.fromNode&&(t.fromNode.isSelected||null!==(e=t.fromNode.labeledLink)&&void 0!==e&&e.isSelected)||t.toNode&&(t.toNode.isSelected||null!==(i=t.toNode.labeledLink)&&void 0!==i&&i.isSelected)||!t.fromNode&&!t.toNode)&&n.add(t):n.add(t)});const i=Object(Y.k)(this.selection),o=e.copyParts(n,e,!0),r=o.iterator;for(;r.next();){const s=r.value,l=r.key;if(l.isSelected||l.isLinkLabel||(e.remove(s),o.remove(l)),l.data.group){const t=n.toArray().find(t=>t.key===l.data.group),e=o.getValue(t);s.data.group=e?e.key:void 0,s.data.aroundPart=!!e}if(l.data.tempGroup){const t=n.toArray().find(t=>t.key===l.data.tempGroup),e=o.getValue(t);s.data.tempGroup=e?e.key:void 0,s.data.tempAroundPart=!!e}if(l.data.attatch&&e.model.setDataProperty(s.data,"attatch",!1),s.data.layerName=e.currentLayerName||"",l.data.note&&Object(N.h)(s)){const t=Object(se.a)("NOTE");t.adornedObject=s.findObject("SHAPE"),s.addAdornment("noteAdornment",t)}if(l.data.badge&&Object(N.d)(this.diagram,(new a.e.List).add(s)),l.data.isInvalid&&Object(N.c)(this.diagram,(new a.e.List).add(s)),Object(N.N)(s),t){let t=this.draggedParts.getValue(l);if(l.location=t.point,i&&(t=this.draggedParts.getValue(i)),s instanceof a.e.Node){let e=s.location.copy().subtract(t.shifted);s.location=e}else if(s instanceof a.e.Link){s.points.each(e=>{e.subtract(t.shifted)})}}}const s=new a.e.Map,l=this.draggedParts.iterator;for(;l.next();){const t=l.key;if(t instanceof a.e.Node&&t.canCopy()){const e=o.getValue(t);if(null===e)continue;e.ensureBounds(),s.add(e,this._newDraggingInfo({},e,e.location)),t===this.currentPart&&(this.copyedPart=e)}}const c=o.iterator;for(;c.next();){const t=c.key,e=c.value;e instanceof a.e.Link&&e.canCopy()&&s.add(e,this._newDraggingInfo()),t===this.currentPart&&(this.copyedPart=e)}this.copyParts=s;const h=this.copyParts.toKeySet(),d=[];h.toArray().forEach(t=>{delete t.data.commentCount,delete t.data.commentUnreadCount,!Object(N.A)(t)&&d.push(t)}),d.sort((t,e)=>t.zOrder-e.zOrder);const u=e.model.modelData;u&&"number"==typeof u.maxCellZorder&&d.forEach((t,e)=>{t.zOrder=u.maxCellZorder+1+e}),d.length&&"number"==typeof d[d.length-1].zOrder&&(u.maxCellZorder=d[d.length-1].zOrder),this.nodesBounds=Object(G.b)(h);const f=[];h.each(t=>{f.push(t.key)}),this.filterKeys=f},_e.prototype.addOriginalCopies=function(){},_e.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;const t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy)return!1;if(!t.lastInput.alt)return!1;const e=t.selection.iterator;for(;e.next();){const t=e.value;if("slides-container"===(null==t?void 0:t.category))return!1;if(t instanceof a.e.Node){if(t.canCopy())return!0}}return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},Object.defineProperty(_e.prototype,"isGuidelineEnabled",{get:function(){return this._isGuidelineEnabled},set:function(t){if("boolean"!=typeof t)throw new Error("new value for GuidedDraggingTool.isGuidelineEnabled must be a boolean value.");this._isGuidelineEnabled!==t&&(this._isGuidelineEnabled=t)}});function Oe(){a.e.DragSelectingTool.call(this),this.increaseRaduis=20,this.isPartialInclusion=!0}function Ae(t){if(Object(Y.b)(t))return!1;let e=!1;const n=[];return t.each(t=>{t.data.group||"around-group"===t.data.category||(e=!0),t.data.group&&!t.data.tempAroundPart&&(e=!0),t.data.group||"around-group"!==t.data.category||n.push(t)}),e||n.length>1}a.e.Diagram.inherit(Oe,a.e.DragSelectingTool),Oe.prototype.doActivate=function(){this.diagram.clearSelection(),Object(Y.c)(this.diagram),a.e.DragSelectingTool.prototype.doActivate.call(this),this.lastSelection=null},Oe.prototype.canStart=function(){if(!this.isEnabled)return!1;const t=this.diagram;if(t.isReadOnly)return!1;const e=t.lastInput;if(t.holdDownSpace)return!1;if(!e.left)return!1;if(t.currentTool!==this){if(!this.isBeyondDragSize())return!1;if(e.timestamp-t.firstInput.timestamp<this.delay)return!1;const n=Object(N.r)(t,e.documentPoint,t=>t.part&&t.part.data&&"uml-shape"===t.part.data.category&&(t instanceof a.e.Node||t instanceof a.e.Panel||t.part instanceof a.e.Adornment)?null:t.part instanceof a.e.Node||t.part instanceof a.e.Group||t.part instanceof a.e.Link||t.part instanceof a.e.Part?t:void 0);if(!(null===n||n.data&&n.data.lock))return!1}return!0},Oe.prototype.findPartsInEmpty=function(t){return this.diagram.findObjectsIn(t,t=>t.part.isLinkLabel||"slides-container"===t.part.category?null:t.part instanceof a.e.Node||t.part instanceof a.e.Group?t.name===t.part.selectionObjectName?t.part:null:t.part instanceof a.e.Link&&"LINK_SHAPE"===t.name?t.part:null,e=>{if(e instanceof a.e.Node){const n=e.findObject("EMPTY");if(n){const e=n.getDocumentBounds();if(t.containsRect(e))return!0}const i=e?e.findObject("FIELDS"):null;if(i&&Array.isArray(e.data.items)){return e.data.items.every(e=>{const n=i.findItemPanelForData(e).findObject("EMPTY");if(n){const e=n.getDocumentBounds();if(t.containsRect(e))return!0}return!1})}}return!!e},!1)},Oe.prototype.selectInRect=function(t){const e=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,this.diagram.clearSelection();let n=this.findPartsInEmpty(t);n=Le(n,this.diagram),1===n.count?setTimeout(()=>{this.diagram.selectCollection(n)}):this.selectAroundGroup(n),this.diagram.skipsUndoManager=e},Oe.prototype.selectAroundGroup=function(t){Object(Y.c)(this.diagram);const e=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,this.diagram.startTransaction();const n=t;if(t.filter(t=>"around-group"===t.data.category&&t.data.aroundLock).each(t=>{t.data.angle=0,Object(Y.n)(this.diagram,t)}),(t=t.filter(e=>e instanceof a.e.Link?!e.data.lock||t.has(e.fromNode)&&!e.fromNode.data.lock&&e.fromNode&&t.has(e.toNode)&&!e.toNode.data.lock&&e.fromNode!==e.toNode:!e.data.lock)).count<=1)this.selectLockColl(n),this.addRelInfoAdornment(n),this.diagram.selectCollection(n);else{let e;if(Ae.call(this,t)){e=Object(Y.a)(this.diagram,t),Object(N.I)(this.diagram,e,t,!0);const n=Object(Y.f)([e]).filter(t=>"around-group"===t.category),i=Object(Y.g)(this.diagram,n);t=t.addAll(i).toArray()}else{e=Object(Y.k)(t);const n=Object(Y.f)([e]);t=Object(Y.g)(this.diagram,n)}e?(t.forEach(t=>{t.isSelected||(t.isSelected=!0)}),this.selectLockColl(n),this.addRelInfoAdornment(n)):(this.selectLockColl(n),this.addRelInfoAdornment(n))}this.diagram.commitTransaction(),this.diagram.skipsUndoManager=e,this.diagram.raiseDiagramEvent("ChangedSelection",this.diagram.selection),Object(l.h)(this.diagram,this.diagram.selection.filter(t=>t instanceof a.e.Link))},Oe.prototype.selectLockColl=function(t){if(this.diagram.isReadOnly)return!1;t.each(t=>{t.data.lock&&(t.isSelected=!0,!(t instanceof a.e.Node)||t.data&&t.data.aroundPart||(t instanceof a.e.Group?(t.data.aroundLock||["archi-group","archi-shape"].includes(t.data.category))&&me(t):me(t)),!(t instanceof a.e.Link)||t.data&&t.data.aroundPart||ve(t))})},Oe.prototype.addRelInfoAdornment=function(t){if(this.diagram.isReadOnly)return!1;if(t.count>1||t.count<=0)return;const e=t.first(),{shapeParentName:n,shapeName:i}=e.data||{};if(n&&i&&"Standard"===n&&"Hotspot"===i){if(e.findAdornment("relInfoAdornment"))return;const t=e.findObject("SHAPE"),n=Object(se.a)("HOTSPOT");n.adornedObject=t||e,e.addAdornment("relInfoAdornment",n)}};function Ee(){a.e.RotatingTool.call(this),this.name="RotateMultiple",this.handleAngle=225,this.handleDistance=10,this.snapAngleEpsilon=4,this.initialInfo=null,this.startingCenter=null,this.startingAngle=0,this.padding=new a.e.Margin(8),this.startDocumentPoint=null,this.handlePoint=null,this.snapAngleMultiple=90}function Ce(t,e,n,i,a){this.size=t,this.relativeLocation=e,this.centerLocationOffset=n,this.rotationAngle=i,this.points=a}function Ne(){a.e.Tool.call(this),this.name="LinkLabelDragging",this.label=null,this._offset=new a.e.Point,this._originalOffset=null}a.e.Diagram.inherit(Ee,a.e.RotatingTool),Ee.prototype.doActivate=function(){a.e.RotatingTool.prototype.doActivate.call(this);const t=this.diagram,e=this.handle.part.adornedPart.findObject("SHAPE")||this.handle.part.adornedPart,n=e.naturalBounds,i=e.getDocumentPoint(a.e.Spot.Center);if(this.startDocumentPoint=this.handle.part.location,this.handlePoint=new a.e.Point(i.x-n.centerX-10/this.diagram.scale,i.y-n.centerY-10/this.diagram.scale),null===t)return;const o=this.diagram.getEditingSelection().filter(t=>t&&t.data&&!t.data.lock);1===o.count?this.startingCenter=e.getDocumentPoint(a.e.Spot.Center).copy():this.startingCenter=t.computePartsBounds(o).center,this.startingAngle=0;const r=t.computePartsBounds(o);r.addMargin(this.padding),this.startingSize=r.size,this.originalSize=r.size,this.originalPos=r.position;const s=new a.e.Map,l=this;o.each((function(t){l.walkTree(t,s)})),this.initialInfo=s,this.showTip()},Ee.prototype.walkTree=function(t,e){if(null===t)return;const n=t.locationObject.getDocumentPoint(a.e.Spot.Center),i=n.copy().subtract(t.location),o=n.subtract(this.startingCenter),r=t.points&&t.points.toArray();e.add(t,new Ce(t.resizeObject.actualBounds.size,o,i,t.angle,r))},Ee.prototype.computeRotate=function(t){let e=this.startingCenter.directionPoint(t);const n=this.startingCenter.directionPoint(this.startDocumentPoint),i=this.startingCenter.directionPoint(this.handlePoint)%90;let a=e-i;const o=Math.min(Math.abs(this.snapAngleMultiple),180),r=Math.min(Math.abs(this.snapAngleEpsilon),o/2);a>=360?a-=360:a<0&&(a+=360),(null===this.diagram||!this.diagram.lastInput.shift)&&o>0&&r>0&&(a%o<r?e=Math.floor(a/o)*o+i:a%o>o-r&&(e=(Math.floor(a/o)+1)*o+i));let s=Math.round(e-n);{const t=45;if(this.diagram.lastInput.shift){e=Math.floor(e/t)*t;const n=this.initialInfo.get(this.handle.part.adornedPart);n&&(s=e-n.rotationAngle+180)}}return s>=360?s-=360:s<0&&(s+=360),s},Ee.prototype.updateAdornments=function(t){this.handleDistance=10/this.diagram.scale,a.e.RotatingTool.prototype.updateAdornments.call(this,t)},Ee.prototype.updatePartAdornment=function(t,e){t.adornments.each(t=>{t.angle=e})},Ee.prototype.rotate=function(t){if(null===this.diagram)return;const e=this.startingCenter,n=this.startingSize,i=this.originalSize,o=n.width/i.width,r=n.height/i.height,s=new a.e.Point(n.width/2,n.height/2);this.initialInfo.each(n=>{const l=n.key,c=n.value;if(l instanceof a.e.Link&&c.points&&c.points.length>1){const n=c.points;if(l.isOrthogonal){if(!l.fromNode){const i=n[0].copy();i.subtract(e).rotate(t).add(e),l.defaultFromPoint=i}if(!l.toNode){const i=n[n.length-1].copy();i.subtract(e).rotate(t).add(e),l.defaultToPoint=i}this.diagram.updateLinkPoints(l)}else{const i=[];n.forEach((n,a)=>{const o=n.copy();o.subtract(e).rotate(t).add(e),i[a]=o}),l.points=i}}else{const n=c.rotationAngle+t;l.angle=n;const h=new a.e.Point(o*(c.relativeLocation.x+i.width/2),r*(c.relativeLocation.y+i.height/2)),d=Math.sqrt(s.distanceSquaredPoint(h)),u=s.directionPoint(h),f=(t+u)*(Math.PI/180),p=c.centerLocationOffset.copy();p.x*=o,p.y*=r,p.rotate(t),l.location=new a.e.Point(e.x+d*Math.cos(f),e.y+d*Math.sin(f)).subtract(p)}})},Ee.prototype.doMouseUp=function(){const t=this.diagram;this.isActive&&(t.delaysLayout=!1,t.invalidateDocumentBounds(),this.transactionResult=this.name,t.raiseDiagramEvent("PartRotated",this.adornedObject,this.originalAngle)),this.stopTool(),this.initialInfo.each(t=>{t.key.updateAdornments()})},Ee.prototype.doDeactivate=function(){const t=this.handle.part.adornedPart.data,e=this.handle.part.adornedPart;e.memberParts&&e.memberParts.each(t=>{"around-group"===t.data.category&&(t.data.angle=0,t.angle=0,Object(Y.n)(this.diagram,t))}),"around-group"===t.category&&(t.angle=0,e.angle=0,Object(Y.n)(this.diagram,e)),a.e.RotatingTool.prototype.doDeactivate.call(this)},Ee.prototype.showTip=function(){if("Rotating"!==this.diagram.currentTool.name)return;const t=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0;const e=this.handle.part.adornedPart.data,n=this.handle.part.adornedPart,i=e.angle||0,o=this.diagram.model.findNodeDataForKey("toolTipRotate"),r=Math.round(n.actualBounds.centerX),s=Object(G.b)((new a.e.List).add(n)),l=Math.floor(n.location.y+(1-n.locationSpot.y)*s.height+Math.floor((1-n.locationSpot.y)*(27.5/this.diagram.scale))+5);if(o){let t;if(this.diagram.model.setDataProperty(o,"loc",r+" "+l),i>180){const e=360-Math.round(i);t="".concat(Math.round(i),"°(-").concat(e,"°)")}else t="".concat(Math.round(i),"°");this.diagram.model.setDataProperty(o,"label",t)}else{this.diagram.isRotating=!0;const t={category:"toolTip",key:"toolTipRotate",loc:r+" "+l,label:Math.round(i)+"°"};Object(le.a)(this.diagram,t),this.diagram.model.addNodeData(t)}this.diagram.skipsUndoManager=t},Ee.prototype.doMouseMove=function(){a.e.RotatingTool.prototype.doMouseMove.call(this),this.showTip()},a.e.Diagram.inherit(Ne,a.e.Tool),Ne.prototype.canStart=function(){if(!a.e.Tool.prototype.canStart.call(this))return!1;const t=this.diagram;if(!t)return;if(t.isReadOnly)return;if(t.undoManager.currentTransaction&&"freeDrawLine"===t.undoManager.currentTransaction.name)return!1;if(null===t)return!1;if(!t.lastInput.left)return!1;if(!this.isBeyondDragSize())return!1;const e=this.findLabel();return!(!(e&&"LABEL"===e.name&&e.part&&e.part.data)||e.part.data.lock)},Ne.prototype.findLabel=function(){const t=this.diagram,e=t.lastInput;let n=t.findObjectsAt(e.documentPoint,t=>"TEXT"===t.name?t:null,null).first();if(null===n||!(n.part instanceof a.e.Link))return null;for(;"LABEL"!==n.name&&n.panel;)n=n.panel;return 0===n.segmentIndex||-1===n.segmentIndex?null:n},Ne.prototype.doActivate=function(){this.OriginalLinkItems=null,this.label=this.findLabel(),null!==this.label&&(this._offset=this.diagram.firstInput.documentPoint.copy().subtract(this.label.getDocumentPoint(a.e.Spot.Center)),this._originalOffset=this.label.segmentOffset.copy(),this.OriginalLinkItems=this.label.part&&this.label.part.data&&this.label.part.data.linkItems),a.e.Tool.prototype.doActivate.call(this)},Ne.prototype.doDeactivate=function(){a.e.Tool.prototype.doDeactivate.call(this)},Ne.prototype.doStop=function(){this.label=null,a.e.Tool.prototype.doStop.call(this)},Ne.prototype.doCancel=function(){null!==this.label&&(this.label.segmentOffset=this._originalOffset),a.e.Tool.prototype.doCancel.call(this)},Ne.prototype.doMouseMove=function(){this.isActive&&this.updateSegmentOffset()},Ne.prototype.doMouseUp=function(){if(!this.isActive)return;this.updateSegmentOffset(),this.diagram.startTransaction("Shifted Label");const t=this.label&&this.label.part;if(t&&t.data){const e=new a.e.ChangedEvent;e.diagram=this.diagram,e.change=a.e.ChangedEvent.Property,e.propertyName="linkItems",e.object=t.data,e.oldValue=this.OriginalLinkItems,e.newValue=t.data.linkItems,e.oldParam=null,e.newParam=null,this.diagram.undoManager.handleChanged(e)}this.diagram.commitTransaction("Shifted Label"),this.stopTool()},Ne.prototype.setLinkLabelPosition=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(t instanceof a.e.Link))return;const o=n||this.diagram.lastInput.documentPoint,r=t.path.getDocumentNaturalBounds(),s=t.path.geometry.getFractionForPoint(new a.e.Point(o.x-r.x,o.y-r.y)),l=t.path.geometry.getPointAlongPath(s);l.x=l.x+r.x,l.y=l.y+r.y;const c=t.path.geometry.getAngleAlongPath(s)/45|0,h=e.actualBounds,d=10;!i&&(e.segmentFraction=s),e.segmentOffset=new a.e.Point(0,20),(o.x-l.x)*(o.x-l.x)+(o.y-l.y)*(o.y-l.y)<100?e.segmentOffset=new a.e.Point(0,0):0===c||8===c?o.y>l.y?e.segmentOffset=new a.e.Point(0,h.height/2+d):e.segmentOffset=new a.e.Point(0,-(h.height/2+d)):3===c||4===c?o.y>l.y?e.segmentOffset=new a.e.Point(0,-(h.height/2+d)):e.segmentOffset=new a.e.Point(0,h.height/2+d):1===c||2===c?o.x>l.x?e.segmentOffset=new a.e.Point(0,-(h.width/2+d)):e.segmentOffset=new a.e.Point(0,h.width/2+d):o.x>l.x?e.segmentOffset=new a.e.Point(0,h.width/2+d):e.segmentOffset=new a.e.Point(0,-(h.width/2+d))},Ne.prototype.updateSegmentOffset=function(){const t=this.label;if(null===t)return;const e=t.part;e instanceof a.e.Link&&this.setLinkLabelPosition(e,t)};function Be(){a.e.CommandHandler.call(this),this.StorageKey="go._clipboard",this.FormatKey="go._clipboardFormat",this.StorageKeyDupliacte="go._clipboardDupliacte",this.FormatKeyDupliacte="go._clipboardFormatDupliacte"}a.e.Diagram.inherit(Be,a.e.CommandHandler),Be.prototype.copyToClipboard=function(t,e){try{if(null===t)window.localStorage.setItem(this.StorageKey,""),window.localStorage.setItem(this.FormatKey,""),window.localStorage.setItem(this.StorageKeyDupliacte,""),window.localStorage.setItem(this.FormatKeyDupliacte,"");else{var n=t.toArray();n.sort((t,e)=>{var n=this.diagram.model.nodeDataArray.findIndex(e=>e==t.data);return this.diagram.model.nodeDataArray.findIndex(t=>t==e.data)>n}),t=new a.e.Set,n.some(e=>{t.add(e)});var i=new a.e.Diagram;i.isTreePathToChildren=this.diagram.isTreePathToChildren,i.toolManager.draggingTool.dragsLink=this.diagram.toolManager.draggingTool.dragsLink,i.model=this.diagram.model.copy();const o=this.diagram.div.id;i.model.modelData?i.model.modelData.diagramDivId=o:i.model.modelData={diagramDivId:o},this.diagram.copyParts(t,i,!0),e?(window.localStorage.setItem(this.StorageKeyDupliacte,i.model.toJson()),window.localStorage.setItem(this.FormatKeyDupliacte,i.model.dataFormat)):(window.localStorage.setItem(this.StorageKey,i.model.toJson()),window.localStorage.setItem(this.FormatKey,i.model.dataFormat)),this.diagram.raiseDiagramEvent("ClipboardChanged",t)}}catch(e){a.e.CommandHandler.prototype.copyToClipboard.call(this,t)}},Be.prototype.pasteFromClipboard=function(t){var e=new a.e.Set;try{var n=window.localStorage.getItem(this.StorageKey),i=window.localStorage.getItem(this.FormatKey);if(t&&(n=window.localStorage.getItem(this.StorageKeyDupliacte),i=window.localStorage.getItem(this.FormatKeyDupliacte)),null===n||""===n||i!==this.diagram.model.dataFormat)return e;{var o=new a.e.Diagram;o.model=a.e.Model.fromJson(n);const t=(new a.e.List).addAll(o.parts).addAll(o.nodes).addAll(o.links);var r=this.diagram.copyParts(t,this.diagram,!0);const e=(new a.e.Set).addAll(r.iteratorValues),i=t.toArray();return e.each(t=>{if(o.model.modelData&&(t.data.fromDiagramDivId=o.model.modelData.diagramDivId),t instanceof a.e.Link&&t.data.group){const e=t.data.group,n=i.find(t=>"around-group"===t.category&&t.data.key===e);t.data.group=n?r.getValue(n).data.key:void 0}t.data.aroundPart&&!t.data.group&&delete t.data.aroundPart,t.data&&t.data.attatch&&(t.data.attatch=!1),t.data&&Array.isArray(t.data.animationConfig)&&t.data.animationConfig.forEach(t=>{t.id=Object(g.f)()}),t.data&&Array.isArray(t.data.eventConfig)&&t.data.eventConfig.forEach(t=>{t.id=Object(g.f)()})}),e}}catch(t){return a.e.CommandHandler.prototype.pasteFromClipboard.call(this)}},Be.prototype.canPasteSelection=function(){var t=this.diagram;if(null===t||t.isReadOnly||t.isModelReadOnly)return!1;if(!t.allowInsert||!t.allowClipboard)return!1;try{var e=window.localStorage.getItem(this.StorageKey),n=window.localStorage.getItem(this.FormatKey);return null!==e&&""!==e&&n===t.model.dataFormat}catch(t){return a.e.CommandHandler.prototype.canPasteSelection()}};var je=Be,De=n(42);function Fe(){je.call(this),this.deletesConnectedLinks=!1,this._arrowKeyBehavior="move",this._pasteOffset=new a.e.Point(20,20),this._lastPasteOffset=new a.e.Point(0,0),this._pasteOffsetDupliacte=new a.e.Point(50,50),this._lastPasteOffsetDupliacte=new a.e.Point(0,0),this._pasteRectBounds=null,this._isDupliacte=!1,this._isCut=!1,this.zoomFactor=1.15,this.linkOffset=10}a.e.Diagram.inherit(Fe,je),Fe.prototype.canAlignSelection=function(){var t=this.diagram;return null!==t&&!t.isReadOnly&&!t.isModelReadOnly&&!(t.selection.count<2)},Fe.prototype._moveLinkHelper=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(Object(N.B)(e)){var o=De.a.filterCellsInGroup(t,e).filter(t=>t instanceof a.e.Link&&!t.fromNode&&!t.toNode);o.count&&o.each(t=>{t.move(new a.e.Point(t.position.x+n,t.position.y+i))})}},Fe.prototype._commandHelper=function(){const t=this.diagram;Object(Y.o)(t),t.selection.each(e=>{e instanceof a.e.Group&&e.editStatus&&Object(Y.n)(t,e,!1,!1)}),t.layerRect&&Object(le.h)(t)},Fe.prototype.alignLeft=function(t,e){var n=this.diagram,i=1/0,o=this,r=De.a.filterOperableCellList(n);const s=r.toArray();if(He(s,"alignLeft")&&r&&r.count){n.startTransaction("Align left");var l=r;if(t){const e=Object(G.b)([t],!0);i=e.x}else l.each((function(t){const e=Object(G.b)([t],!0);i=Math.min(e.x,i)}));l.each((function(t){const e=Object(G.b)([t],!0),r=t.actualBounds;let s=0;r.width>e.width&&(s=(r.width-e.width)/2);var l=i-e.x;if(t instanceof a.e.Link)t.move(new a.e.Point(i-o.linkOffset,t.position.y));else{const o=new a.e.Point(i-s,t.position.y);t.move(o),t.data&&t.data.attatch&&Ge(n,t,e,o)}t.ensureBounds(),o._moveLinkHelper(n,t,l,0)})),o._commandHelper(),!e&&n.commitTransaction("Align left");const c=n.undoManager.currentTransaction;c&&(c.callback=Ve.bind(null,Re,s,"alignLeft"))}},Fe.prototype.alignRight=function(t,e){var n=this.diagram,i=-1/0,o=this,r=De.a.filterOperableCellList(n);const s=r.toArray();if(He(s,"alignRight")&&r&&r.count){n.startTransaction("Align right");var l=r;if(t){var c=Object(G.b)([t],!0);i=c.x+c.width}else l.each((function(t){var e=Object(G.b)([t],!0),n=e.x+e.width;i=Math.max(n,i)}));l.each((function(t){var e=Object(G.b)([t],!0);const r=t.actualBounds;let s=0;r.width>e.width&&(s=(r.width-e.width)/2);var l=i-e.width-e.x;if(t instanceof a.e.Link)t.move(new a.e.Point(i-e.width-o.linkOffset,t.position.y));else{const o=new a.e.Point(i-s-e.width,t.position.y);t.move(o),t.data&&t.data.attatch&&Ge(n,t,e,o)}t.ensureBounds(),o._moveLinkHelper(n,t,l,0)})),o._commandHelper(),!e&&n.commitTransaction("Align right");const h=n.undoManager.currentTransaction;h&&(h.callback=Ve.bind(null,Re,s,"alignRight"))}},Fe.prototype.alignTop=function(t,e){var n=this.diagram,i=1/0,o=this,r=De.a.filterOperableCellList(n);const s=r.toArray();if(He(s,"alignTop")&&r&&r.count){n.startTransaction("Align top");var l=r;if(t){var c=Object(G.b)([t],!0);i=c.y}else l.each((function(t){var e=Object(G.b)([t],!0);i=Math.min(e.y,i)}));l.each((function(t){var e=Object(G.b)([t],!0),r=i-e.y;if(t instanceof a.e.Link)t.move(new a.e.Point(t.position.x,i-o.linkOffset));else{const o=new a.e.Point(t.position.x,i);t.move(o),t.data&&t.data.attatch&&Ge(n,t,e,o)}t.ensureBounds(),o._moveLinkHelper(n,t,0,r)})),o._commandHelper(),!e&&n.commitTransaction("Align top");const h=n.undoManager.currentTransaction;h&&(h.callback=Ve.bind(null,Re,s,"alignTop"))}},Fe.prototype.alignBottom=function(t,e){var n=this.diagram,i=-1/0,o=this,r=De.a.filterOperableCellList(n);const s=r.toArray();if(He(s,"alignBottom")&&r&&r.count){n.startTransaction("Align bottom");var l=r;if(t){var c=Object(G.b)([t],!0);i=c.y+c.height}else l.each((function(t){var e=Object(G.b)([t],!0),n=e.y+e.height;i=Math.max(n,i)}));l.each((function(t){var e=Object(G.b)([t],!0),r=i-e.height-e.y;if(t instanceof a.e.Link)t.move(new a.e.Point(t.position.x,i-e.height-o.linkOffset));else{const o=new a.e.Point(t.position.x,i-e.height);t.move(o),t.data&&t.data.attatch&&Ge(n,t,e,o)}t.ensureBounds(),o._moveLinkHelper(n,t,0,r)})),o._commandHelper(),!e&&n.commitTransaction("Align bottom");const h=n.undoManager.currentTransaction;h&&(h.callback=Ve.bind(null,Re,s,"alignBottom"))}},Fe.prototype.alignCenterX=function(t,e){var n=this.diagram,i=this,o=De.a.filterOperableCellList(n);const r=o.toArray();if(He(r,"alignCenterX")&&o&&o.count){n.startTransaction("Align center x");var s,l=o;if(t){var c=Object(G.b)([t],!0);s=c.x+c.width/2}else{var h=Object(Y.l)(n);h.ensureBounds(),h&&(s=h.actualBounds.x+h.actualBounds.width/2)}l.each((function(t){var e=Object(G.b)([t],!0);const o=t.actualBounds;let r=0;o.width>e.width&&(r=(o.width-e.width)/2);var l=s-e.width/2-e.x,c=e.y-e.y;if(t instanceof a.e.Link)t.move(new a.e.Point(s-e.width/2-i.linkOffset,t.position.y));else{const i=new a.e.Point(s-r-e.width/2,t.position.y);t.move(i),t.data&&t.data.attatch&&Ge(n,t,e,i)}t.ensureBounds(),i._moveLinkHelper(n,t,l,c)})),i._commandHelper(),!e&&n.commitTransaction("Align center x");const d=n.undoManager.currentTransaction;d&&(d.callback=Ve.bind(null,Re,r,"alignCenterX"))}},Fe.prototype.alignCenterY=function(t,e){var n=this.diagram,i=this,o=De.a.filterOperableCellList(n);const r=o.toArray();if(He(r,"alignCenterY")&&o&&o.count){n.startTransaction("Align center y");var s,l=o;if(t){var c=Object(G.b)([t],!0);s=c.y+c.height/2}else{var h=Object(Y.l)(n);h.ensureBounds(),h&&(s=h.actualBounds.y+h.actualBounds.height/2)}l.each((function(t){var e=Object(G.b)([t],!0),o=e.x-e.x,r=s-e.height/2-e.y;if(t instanceof a.e.Link)t.move(new a.e.Point(t.position.x,s-e.height/2-i.linkOffset));else{const i=new a.e.Point(t.position.x,s-e.height/2);t.move(i),t.data&&t.data.attatch&&Ge(n,t,e,i)}t.ensureBounds(),i._moveLinkHelper(n,t,o,r)})),i._commandHelper(),!e&&n.commitTransaction("Align center y");const d=n.undoManager.currentTransaction;d&&(d.callback=Ve.bind(null,Re,r,"alignCenterY"))}},Fe.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;t=e.scale*t,t=Math.floor(100*t)<=12?e.minScale:t,e.scale=t<=e.minScale?e.minScale:t>e.maxScale?e.maxScale:t},Fe.prototype.increaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;t=e.scale*t,t=Math.floor(t)>=170?e.maxScale:t,e.scale=t<=e.minScale?e.minScale:t>e.maxScale?e.maxScale:t},Fe.prototype.alignColumn=function(t){var e=this.diagram;e.startTransaction("align Column"),void 0===t&&(t=0),t=parseFloat(t);var n=new Array;e.selection.each((function(t){t instanceof a.e.Link||n.push(t)}));for(var i=0;i<n.length-1;i++){var o=n[i],r=o.actualBounds.y+o.actualBounds.height+t;n[i+1].move(new a.e.Point(o.actualBounds.x,r))}e.commitTransaction("align Column")},Fe.prototype.alignRow=function(t){void 0===t&&(t=0),t=parseFloat(t);var e=this.diagram;e.startTransaction("align Row");var n=new Array;e.selection.each((function(t){t instanceof a.e.Link||n.push(t)}));for(var i=0;i<n.length-1;i++){var o=n[i],r=o.actualBounds.x+o.actualBounds.width+t;n[i+1].move(new a.e.Point(r,o.actualBounds.y))}e.commitTransaction("align Row")},Fe.prototype.canRotate=function(t){var e=this.diagram;return null!==e&&!e.isReadOnly&&!e.isModelReadOnly&&!(e.selection.count<1)},Fe.prototype.rotate=function(t){var e;void 0===t&&(t=90),(e=this.diagram).startTransaction("rotate "+t.toString()),(e=this.diagram).selection.each((function(e){e instanceof a.e.Link||e instanceof a.e.Group||(e.angle+=t)})),e.commitTransaction("rotate "+t.toString())},Fe.prototype._updateZorderBound=function(){const t=this.diagram;let e=new a.e.List;if(e.addAll(t.nodes.filter(t=>Object(C.c)(t)&&"number"==typeof t.zOrder)),e.addAll(t.links.filter(t=>"number"==typeof t.zOrder)),e=e.toArray(),e.length){e.sort((t,e)=>t.zOrder-e.zOrder);const n=e[0],i=e[e.length-1];n&&t.model.setDataProperty(t.model.modelData,"minCellZorder",n.zOrder),i&&t.model.setDataProperty(t.model.modelData,"maxCellZorder",i.zOrder)}else t.model.setDataProperty(t.model.modelData,"minCellZorder",NaN),t.model.setDataProperty(t.model.modelData,"maxCellZorder",NaN)},Fe.prototype.pullToFront=function(t,e){const n=this.diagram,i=n.model.modelData.maxCellZorder||0,o=n.selection.toArray().find(t=>t instanceof a.e.Group&&t.editStatus);if(n.startTransaction("Pull to front"),o){const e=Object(Y.i)(o).removeAll(t).toArray();this._shiftZorders(t,e,!0)}else t.sort((t,e)=>t.zOrder-e.zOrder),t.length&&(t.forEach((t,e)=>{n.model.setDataProperty(t.data,"zOrder",i+1+e)}),this._updateZorderBound());!e&&n.commitTransaction("Pull to front"),Object(l.g)(n)},Fe.prototype.pushToBack=function(t,e){const n=this.diagram,i=n.model.modelData.minCellZorder||0,o=n.selection.toArray().find(t=>t instanceof a.e.Group&&t.editStatus);if(n.startTransaction("Push to back"),o){const e=Object(Y.i)(o).removeAll(t).toArray();this._shiftZorders(t,e,!1)}else t.sort((t,e)=>t.zOrder-e.zOrder),t.length&&(t.forEach((e,a)=>{n.model.setDataProperty(e.data,"zOrder",i-t.length+a)}),this._updateZorderBound());!e&&n.commitTransaction("Push to back"),Object(l.g)(n)},Fe.prototype._shiftZorders=function(t,e,n){const i=n?t:e,a=n?e:t;i.sort((t,e)=>t.zOrder-e.zOrder),a.sort((t,e)=>t.zOrder-e.zOrder);const o=[...i,...a].map(t=>t.data.zOrder),r=Math.max(...o),s=Math.min(...o);i.forEach((t,e)=>{diagram.model.setDataProperty(t.data,"zOrder",r-(i.length-1)+e)}),a.forEach((t,e)=>{diagram.model.setDataProperty(t.data,"zOrder",s+e)})},Fe._assignZOrder=function(t,e,n){void 0===n&&(n=t),t.layer===n.layer&&(t.zOrder=e),t instanceof a.e.Group&&t.memberParts.each((function(t){Fe._assignZOrder(t,e+1,n)}))},Fe._findGroupDepth=function(t){if(t instanceof a.e.Group){var e=0;return t.memberParts.each((function(t){e=Math.max(e,Fe._findGroupDepth(t))})),e+1}return 0},Fe.prototype.doKeyDown=function(){var t=this.diagram;if(null===t)return;var e=t.lastInput;const n=L.c&&e.meta||e.control,i=e.shift,a=e.alt,o=e.key;if(" "===e.key&&(t.holdDownSpace=!0,t.currentCursor="-webkit-grab"),"Up"===e.key||"Down"===e.key||"Left"===e.key||"Right"===e.key){var r=this.arrowKeyBehavior;if("none"===r)return;if("select"===r)return void this._arrowKeySelect();if("move"===r){if(this.diagram.isReadOnly)return;return this.diagram.undoManager.isInTransaction||(this.diagram.startTransaction("arrowKeyMove"),this.arrowKeyMove=!0),void this._arrowKeyMove()}if("tree"===r)return void this._arrowKeyTree()}(9===e.event.keyCode||n&&83===e.event.keyCode)&&(e.event.preventDefault?e.event.preventDefault():e.event.returnValue=!1),n&&"Y"===o||a&&i&&"Backspace"===o?this.canRedo()&&this.redo():n&&"Z"===o||a&&"Backspace"===o?this.canUndo()&&this.undo():"Del"===o||"Backspace"===o?this.canDeleteSelection()&&t.deleteParts():n&&"A"===o?this.canSelectAll()&&this.selectAll():"Esc"===o?this.canStopCommand()&&this.stopCommand():"Up"===o?t.allowVerticalScroll&&(n?t.scroll("pixel","up"):t.scroll("line","up")):"Down"===o?t.allowVerticalScroll&&(n?t.scroll("pixel","down"):t.scroll("line","down")):"Left"===o?t.allowHorizontalScroll&&(n?t.scroll("pixel","left"):t.scroll("line","left")):"Right"===o?t.allowHorizontalScroll&&(n?t.scroll("pixel","right"):t.scroll("line","right")):"PageUp"===o?i&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):"PageDown"===o?i&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):"Home"===o?n&&t.allowVerticalScroll?t.scroll("document","up"):!n&&t.allowHorizontalScroll&&t.scroll("document","left"):"End"===o?n&&t.allowVerticalScroll?t.scroll("document","down"):!n&&t.allowHorizontalScroll&&t.scroll("document","right"):n&&"Subtract"===o?this.canDecreaseZoom()&&this.decreaseZoom():n&&"Add"===o?this.canIncreaseZoom()&&this.increaseZoom():!n||"0"!==o&&"`"!==o?n&&!i&&"G"===o?this.canGroupSelection()&&this.groupSelection():n&&i&&"G"===o?this.canUngroupSelection()&&this.ungroupSelection():e.event&&113===e.event.keyCode?this.canEditTextBlock()&&this.editTextBlock():e.bubbles=!0:this.canResetZoom()&&this.resetZoom()},Fe.prototype.resetZoom=function(t,e){void 0===t&&(t=this.defaultScale);const n=this.diagram;if(t<n.minScale||t>n.maxScale)return;n.scale=t;const i=n.pageSetting&&n.pageSetting.pageOptions,o=n.documentBounds.x-(i&&i.isInfiniteCanvas?40:0),r=n.documentBounds.y-(i&&i.isInfiniteCanvas?40:0);n.position=e||new a.e.Point(o,r),n.nodes.each(t=>{t.updateAdornments()})},Fe.prototype.doKeyUp=function(){var t=this.diagram;null!==t&&(" "===t.lastInput.key&&(t.holdDownSpace=!1,t.currentCursor="auto"),this.arrowKeyMove&&(this.diagram.commitTransaction("arrowKeyMove"),this.arrowKeyMove=!1),a.e.CommandHandler.prototype.doKeyUp.call(this))},Fe.prototype._getAllParts=function(){var t=new Array;return this.diagram.nodes.each((function(e){t.push(e)})),this.diagram.parts.each((function(e){t.push(e)})),t},Fe.prototype._arrowKeyMove=function(){var t=this.diagram,e=t.lastInput,n=0,i=0,o=new a.e.List;if(e.control||e.meta)n=1,i=1;else if(null!==t.grid){var r=t.grid.gridCellSize;i=r.width,n=r.height}const s=t.getEditingSelection();let l=s.filter(t=>t.data&&"around-group"===t.data.category&&!t.data.group),c=l.copy(),h=s.toArray().filter(t=>t.data&&t instanceof a.e.Group);0===c.size?c=s.copy():s.each(t=>{t instanceof a.e.Link&&!t.data.from&&!t.data.to&&c.add(t),t.data.tempAroundPart&&c.add(t)}),h.length>0&&h.forEach(t=>{this.diagram.links.each(e=>{e&&e.data.group===t.key&&!e.isSelected&&c.add(e)})}),l.each(t=>{s.any(e=>e instanceof a.e.Node&&!(e instanceof a.e.Group)&&e.data.group===t.data.key)||s.each(t=>{t instanceof a.e.Link&&(t.data.from&&!t.data.to||!t.data.from&&t.data.to)&&c.add(t)})}),c.each(t=>{if(!(t instanceof a.e.Link)){const e=t.findLinksBetween(t);o.addAll(e)}}),c.addAll(o),c.addAll(this.diagram.Attatchments||new a.e.List),c.each((function(t){(!t.data.lock||t instanceof a.e.Link&&t.data.from&&t.data.to)&&(t instanceof a.e.Link&&!t.data.from&&t.data.to?Ue(t,!0,e.key,n,i):t instanceof a.e.Link&&t.data.from&&!t.data.to?Ue(t,!1,e.key,n,i):(!(t instanceof a.e.Link&&t.data.from&&t.data.to)||t.data.from===t.data.to&&t.fromNode.isSelected&&t.toNode.isSelected)&&("Up"===e.key?t.move(new a.e.Point(t.actualBounds.x,t.actualBounds.y-n)):"Down"===e.key?t.move(new a.e.Point(t.actualBounds.x,t.actualBounds.y+n)):"Left"===e.key?t.move(new a.e.Point(t.actualBounds.x-i,t.actualBounds.y)):"Right"===e.key&&t.move(new a.e.Point(t.actualBounds.x+i,t.actualBounds.y))),t.ensureBounds())})),this.diagram.links.each(e=>{if(e.isSelected)this.diagram.updateLinkPoints(e);else{const n=e.data.from&&t.findPartForKey(e.data.from),i=e.data.to&&t.findPartForKey(e.data.to);(n&&n.isSelected||i&&i.isSelected)&&this.diagram.updateLinkPoints(e)}}),l.each(e=>{Object(Y.n)(t,e)}),t.selection.each(e=>{e instanceof a.e.Group&&e.editStatus&&Object(Y.n)(t,e)});var d=t.lastInput;const u=t.findPartAt(d.documentPoint);u&&u.data.relationInfo?Object(O.createOrUpdateTip)(t,u,"jumpToLink"):Object(O.clearToolTip)(t)},Fe.prototype._arrowKeySelect=function(){var t=this.diagram,e=t.lastInput,n=null;"Up"===e.key?n=this._findNearestPartTowards(270):"Down"===e.key?n=this._findNearestPartTowards(90):"Left"===e.key?n=this._findNearestPartTowards(180):"Right"===e.key&&(n=this._findNearestPartTowards(0)),null!==n&&(e.shift?n.isSelected=!0:e.control||e.meta?n.isSelected=!n.isSelected:t.select(n))},Fe.prototype._findNearestPartTowards=function(t){var e=this.diagram.selection.first();if(null===e)return null;for(var n=e.actualBounds.center,i=this._getAllParts(),a=1/0,o=e,r=0;r<i.length;r++){var s=i[r];if(s!==e){var l=s.actualBounds.center,c=n.directionPoint(l),h=this._angleCloseness(c,t);if(h<=45){var d=n.distanceSquaredPoint(l);(d*=1+Math.sin(h*Math.PI/180))<a&&(a=d,o=s)}}}return o},Fe.prototype._angleCloseness=function(t,e){return Math.min(Math.abs(e-t),Math.min(Math.abs(e+360-t),Math.abs(e-360-t)))},Fe.prototype._arrowKeyTree=function(){var t=this.diagram,e=t.selection.first();if(e instanceof a.e.Node){var n=t.lastInput;if("Right"===n.key)if(e.isTreeLeaf);else if(e.isTreeExpanded){null!==(o=this._sortTreeChildrenByY(e).first())&&t.select(o)}else t.commandHandler.canExpandTree(e)&&t.commandHandler.expandTree(e);else if("Left"===n.key){if(!e.isTreeLeaf&&e.isTreeExpanded)t.commandHandler.canCollapseTree(e)&&t.commandHandler.collapseTree(e);else null!==(r=e.findTreeParentNode())&&t.select(r)}else if("Up"===n.key){if(null!==(r=e.findTreeParentNode()))if((l=(s=this._sortTreeChildrenByY(r)).indexOf(e))>0){for(var i=s.elt(l-1);null!==i&&i.isTreeExpanded&&!i.isTreeLeaf;){i=this._sortTreeChildrenByY(i).last()}null!==i&&t.select(i)}else t.select(r)}else if("Down"===n.key){var o;if(e.isTreeExpanded&&!e.isTreeLeaf)null!==(o=this._sortTreeChildrenByY(e).first())&&t.select(o);else for(;null!==e;){var r,s,l;if(null===(r=e.findTreeParentNode()))break;if((l=(s=this._sortTreeChildrenByY(r)).indexOf(e))<s.length-1){t.select(s.elt(l+1));break}e=r}}var c=t.selection.first();null!==c&&t.scrollToRect(c.actualBounds)}},Fe.prototype._sortTreeChildrenByY=function(t){var e=(new a.e.List).addAll(t.findTreeChildrenNodes());return e.sort((function(t,e){var n=t.location,i=e.location;return n.y<i.y?-1:n.y>i.y?1:n.x<i.x?-1:n.x>i.x?1:0})),e},Fe.prototype.cutSelection=function(){const t=this.diagram,e=t.selection;this.copySelection(!1,!0),t.deleteParts(e)},Fe.prototype.copyToClipboard=function(t){const e=this.diagram.getEditingSelection();if(e.each(t=>{if(t.copyable=!t.data.lock,t.data.tempAroundPart&&t.data.lock&&delete t.data.tempAroundPart,t instanceof a.e.Node){t.findLinksConnected().each(t=>{t.copyable=t.isSelected&&!t.data.lock})}}),e.count){this._isDupliacte?(this._lastPasteOffsetDupliacte=new a.e.Point(0,0),this._lastPasteOffsetDupliacte.set(this.pasteOffsetDupliacte)):(this._lastPasteOffset=new a.e.Point(0,0),this._lastPasteOffset.set(this.pasteOffset));const{x:t,y:n,width:i,height:o,left:r,right:s,top:l,bottom:c}=Object(G.b)(e,!0);this._pasteRectBounds={x:t,y:n,width:i,height:o,left:r,right:s,top:l,bottom:c},je.prototype.copyToClipboard.call(this,e,this._isDupliacte)}},Fe.prototype.canCopySelection=function(){try{const t=this.diagram.getEditingSelection();if(t.count){return!!t.filter(t=>t.data&&!t.data.lock).count&&a.e.CommandHandler.prototype.canCopySelection.call(this)}return!1}catch(t){return a.e.CommandHandler.prototype.canCopySelection.call(this)}},Fe.prototype.canCutSelection=function(){try{const t=this.diagram.getEditingSelection();if(t.count){return!!t.filter(t=>t.data&&!t.data.lock).count&&a.e.CommandHandler.prototype.canCutSelection.call(this)}return!1}catch(t){return a.e.CommandHandler.prototype.canCutSelection.call(this)}},Fe.prototype.copySelection=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.canCopySelection()&&(this._isDupliacte=t,this._isCut=e,this._isCut?this._pasteOffset=new a.e.Point(0,0):this._pasteOffset=new a.e.Point(20,20),this.diagram.toolManager.draggingTool.dragsLink=!0,a.e.CommandHandler.prototype.copySelection.call(this))},Fe.prototype.pasteSelection=function(t){this._isDupliacte=t,this.diagram.toolManager.draggingTool.dragsLink=!0,Object(Y.c)(this.diagram),a.e.CommandHandler.prototype.pasteSelection.call(this)},Fe.prototype.pasteFromClipboard=function(){var t,e,n=je.prototype.pasteFromClipboard.call(this,this._isDupliacte);n.each(t=>{t.data.layerName=this.diagram.currentLayerName||"",t.updateTargetBindings("layerName")});const{x:i,y:o,width:r,height:s}=Object(G.b)(n,!0),l=i,c=o,h=r,d=s,u=n.toArray().filter(t=>!Object(N.A)(t));u.sort((t,e)=>t.zOrder-e.zOrder);const f=this.diagram.model.modelData;f&&"number"==typeof f.maxCellZorder&&u.forEach((t,e)=>{t.zOrder=f.maxCellZorder+1+e}),u.length&&"number"==typeof u[u.length-1].zOrder&&(f.maxCellZorder=u[u.length-1].zOrder);const p=this.diagram.div.id;if((null===(t=n.first())||void 0===t||null===(e=t.data)||void 0===e?void 0:e.fromDiagramDivId)!==p&&!1===this.diagram.statePasted&&(this._pasteRectBounds=null,delete this.diagram.statePasted),this._pasteRectBounds){const t=this.diagram.viewportBounds,e=t.x,n=t.right,i=t.y,o=t.bottom,r=this._pasteRectBounds.left>n||this._pasteRectBounds.right<e,s=this._pasteRectBounds.top>o||this._pasteRectBounds.bottom<i;if(r||s){const e=t.centerX,n=t.centerY,i=new a.e.Point(e-l-h/2,n-c-d/2);this._lastPasteOffset=i,this._lastPasteOffsetDupliacte=i}}else{const t=this.diagram.viewportBounds,e=t.centerX,n=t.centerY,i=new a.e.Point(e-l-h/2,n-c-d/2);this._lastPasteOffset=i,this._lastPasteOffsetDupliacte=i}diagram.computePartsBounds(n);const g=Object(G.b)(n,!0),m=diagram.grid.gridCellSize;let y=0,v=0;g.isReal()&&(y=.5*g.width%m.width,v=.5*g.height%m.height);const w=new a.e.Spot;if(w.setTo(0,0,y,v),this.diagram.toolManager.draggingTool.dragOptions.gridSnapCellSpot=w,this._isDupliacte){this.diagram.moveParts(n,this._lastPasteOffsetDupliacte,!0,{dragsLink:!0}),this._lastPasteOffsetDupliacte.add(this.pasteOffsetDupliacte);const{x:t,y:e,width:i,height:a,left:o,right:r,top:s,bottom:l}=Object(G.b)(n,!0);this._pasteRectBounds={x:t,y:e,width:i,height:a,left:o,right:r,top:s,bottom:l}}else{this.diagram.moveParts(n,this._lastPasteOffset,!0,{dragsLink:!0}),this._lastPasteOffset.add(this._isCut?new a.e.Point(20,20):this.pasteOffset);const{x:t,y:e,width:i,height:o,left:r,right:s,top:l,bottom:c}=Object(G.b)(n,!0);this._pasteRectBounds={x:t,y:e,width:i,height:o,left:r,right:s,top:l,bottom:c}}return this._isCut&&(this._pasteOffset=new a.e.Point(20,20),this._isCut=!1),n.each(t=>{t.data&&delete t.data.fromDiagramDivId}),n},Fe.prototype.canExpandSubGraph=function(t){const e=this.diagram;if(t)return t instanceof a.e.Group&&!t.isSubGraphExpanded;for(let n=e.selection.iterator;n.next();)if((t=n.value)instanceof a.e.Group&&!t.isSubGraphExpanded)return!0;return!1},Fe.prototype.canSelectAll=function(){const t=this.diagram;return t.allowSelect&&!t.isReadOnly},Fe.prototype.selectAll=function(t){const e=new a.e.List;if(t&&t.count)e.addAll(t);else if(Object(le.g)(this.diagram)){const t=this.diagram.findLayer(this.diagram.currentLayerName);(null==t?void 0:t.visible)&&e.addAll(t.parts)}else{const t=[];this.diagram.layers.each(e=>{~e.name.indexOf("layer")&&!e.visible&&t.push(e.name)}),this.diagram.nodes.each(n=>{0!==t.length&&t.includes(n.data.layerName)||n.visible&&e.add(n)}),this.diagram.links.each(n=>{0!==t.length&&t.includes(n.data.layerName)||e.add(n)})}e.each(t=>{"function"==typeof t.clearSelection&&t.clearSelection()});let n=!0;const i=this.diagram.getEditingSelection(),o=e.toArray();if(i.length!==o.length)n=!1;else for(let t=0;t<o.length;t++)if(!i.includes(o[t])){n=!1;break}n||(this.diagram.toolManager.dragSelectingTool.selectAroundGroup(e),this.diagram.raiseDiagramEvent("ChangedSelection",this.diagram.selection),Object(l.h)(this.diagram,this.diagram.selection.filter(t=>t instanceof a.e.Link)))},Fe.prototype.canCollapseSubGraph=function(t){const e=this.diagram;if(t)return!!(t instanceof a.e.Group&&t.isSubGraphExpanded);for(let n=e.selection.iterator;n.next();)if((t=n.value)instanceof a.e.Group&&t.isSubGraphExpanded)return!0;return!1},Fe.prototype._matchSizeHelper=function(t,e){let n=null,i=null;if(e){const t=Object(G.b)([e],!0);n=t.width,i=t.height}else t.forEach(t=>{const e=Object(G.b)([t],!0);(e.width>n||!n)&&(n=e.width),(e.height>i||!i)&&(i=e.height)});return{maxWidth:n,maxHeight:i}},Fe.prototype.matchWidthAndHeight=function(t,e,n){if(!(e instanceof a.e.Link)){const i=this.diagram;i.startTransaction("Match width and height");let{maxWidth:o,maxHeight:r}=this._matchSizeHelper(t,e);t.forEach(t=>{Object(N.B)(t)&&i.computeAroundGroupNodeRatio(t);let n=e&&e.key;if(t.data&&t.key!==n){const e=Object(G.b)([t],!0);t.data.isLockNodeRatio&&(r=o*e.height/e.width);!t.angle||t.angle&&t.angle%180==0?(t.constraint&&this.diagram.resizeParameter(new a.e.Rect(NaN,NaN,o,r),t,new a.e.Rect(NaN,NaN,e.width,e.height)),"image"===t.data.category?i.model.setDataProperty(t.data,"size","".concat(o," ").concat(r)):t.data.width&&t.data.height&&(i.model.setDataProperty(t.data,"width",o),i.model.setDataProperty(t.data,"height",r))):(t.constraint&&this.diagram.resizeParameter(new a.e.Rect(NaN,NaN,r,o),t,new a.e.Rect(NaN,NaN,e.height,e.width)),"image"===t.data.category?i.model.setDataProperty(t.data,"size","".concat(r," ").concat(o)):t.data.width&&t.data.height&&(i.model.setDataProperty(t.data,"width",r),i.model.setDataProperty(t.data,"height",o)))}Object(N.B)(t)&&i.setAroundGroupMemberPartsSize(t)}),this._commandHelper(),!n&&i.commitTransaction("Match width and height")}},Fe.prototype.matchWidth=function(t,e,n){if(!(e instanceof a.e.Link)){const i=this.diagram;i.startTransaction("Match width");const{maxWidth:o}=this._matchSizeHelper(t,e);t.forEach(t=>{Object(N.B)(t)&&i.computeAroundGroupNodeRatio(t);let n=e&&e.key;if(t.data&&t.key!==n){const e=Object(G.b)([t],!0);let n=e.height;t.data.isLockNodeRatio&&(n=o*e.height/e.width);!t.angle||t.angle&&t.angle%180==0?(t.constraint&&this.diagram.resizeParameter(new a.e.Rect(NaN,NaN,o,n),t,new a.e.Rect(NaN,NaN,e.width,e.height)),"image"===t.data.category?i.model.setDataProperty(t.data,"size","".concat(o," ").concat(n)):t.data.width&&t.data.height&&(i.model.setDataProperty(t.data,"width",o),t.data.isLockNodeRatio&&i.model.setDataProperty(t.data,"height",n))):(t.constraint&&this.diagram.resizeParameter(new a.e.Rect(NaN,NaN,n,o),t,new a.e.Rect(NaN,NaN,e.height,e.width)),"image"===t.data.category?i.model.setDataProperty(t.data,"size","".concat(n," ").concat(o)):t.data.width&&t.data.height&&(i.model.setDataProperty(t.data,"height",o),t.data.isLockNodeRatio&&i.model.setDataProperty(t.data,"width",n)))}Object(N.B)(t)&&i.setAroundGroupMemberPartsSize(t)}),this._commandHelper(),!n&&i.commitTransaction("Match width")}},Fe.prototype.matchHeight=function(t,e,n){if(!(e instanceof a.e.Link)){const i=this.diagram;i.startTransaction("Match height");const{maxHeight:o}=this._matchSizeHelper(t,e);t.forEach(t=>{Object(N.B)(t)&&i.computeAroundGroupNodeRatio(t);let n=e&&e.key;if(t.data&&t.key!==n){const e=Object(G.b)([t],!0);let n=e.width;t.data.isLockNodeRatio&&(n=o*e.width/e.height);!t.angle||t.angle&&t.angle%180==0?(t.constraint&&this.diagram.resizeParameter(new a.e.Rect(NaN,NaN,n,o),t,new a.e.Rect(NaN,NaN,e.width,e.height)),"image"===t.data.category?i.model.setDataProperty(t.data,"size","".concat(n," ").concat(o)):t.data.width&&t.data.height&&(i.model.setDataProperty(t.data,"height",o),t.data.isLockNodeRatio&&i.model.setDataProperty(t.data,"width",n))):(t.constraint&&this.diagram.resizeParameter(new a.e.Rect(NaN,NaN,o,n),t,new a.e.Rect(NaN,NaN,e.height,e.width)),"image"===t.data.category?i.model.setDataProperty(t.data,"size","".concat(o," ").concat(n)):t.data.width&&t.data.height&&(i.model.setDataProperty(t.data,"width",o),t.data.isLockNodeRatio&&i.model.setDataProperty(t.data,"height",n)))}Object(N.B)(t)&&i.setAroundGroupMemberPartsSize(t)}),this._commandHelper(),!n&&i.commitTransaction("Match height")}};new Set(["Distribute objects horizontal","Distribute objects vertical","Align left","Align right","Align top","Align bottom","Align center x","Align center y"]);const Re={};function Ie(t,e){return![...t].every(t=>e.has(t))||![...e].every(e=>t.has(e))}function ze(t,e){return Ie(Re[e]||new Set,new Set(t.map(t=>t.data.key)))}function He(t,e){if(!Re.align)return!0;if(Re.align.operation===e){return Ie(Re.align.partArr||new Set,new Set(t.map(t=>t.data.key)))}return!0}function Ve(t,e,n){t.align={operation:n,partArr:new Set(e.map(t=>t.data.key))}}function Ge(t,e,n,i){t.findPartsIn(n,!1,!0).each(t=>{if(e!==t&&!t.isSelected&&!t.data.lock){const e=Object(G.b)([t],!0),{x:o,y:r}=n,{x:s,y:l}=e,c=s-o,h=l-r;t.move(i.add(new a.e.Point(c,h)))}})}function Ue(t,e,n,i,a){const o=e?t.defaultFromPoint:t.defaultToPoint;switch(n){case"Up":o.y-=i;break;case"Down":o.y+=i;break;case"Left":o.x-=a;break;case"Right":o.x+=a}t.startRoute(),t.computePoints(),t.commitRoute()}Fe.prototype.distributeObjectsHorizontal=function(t,e){if(ze(t,"horizontal")){if(this.diagram.startTransaction("Distribute objects horizontal"),t.length>2){const e=Object(G.b)(t,!0);let n=0,i=0;const o=this;t.forEach(t=>{const e=Object(G.b)([t],!0);n=e.height+n,i=e.width+i});const r=e.width;if(t.filter(t=>Object(G.b)([t]).width>=r).length<1){const n=(r-i)/(t.length-1);t.sort((t,e)=>{let n=t,i=e;return t instanceof a.e.Node&&(n=n.resizeObject||n,i=i.resizeObject||i),n.getDocumentBounds().x-i.getDocumentBounds().x});let s=e.x;t.forEach((e,i)=>{if(i>0&&i<t.length-1){const r=t[i-1],l=Object(G.b)([r],!0),c=Object(G.b)([e],!0);s=l.width+s;const h=s+n*i-c.x,d=0;if(e instanceof a.e.Link){const t=e.actualBounds,o=e.routeBounds,r=Math.abs(o.x-t.x);e.move(new a.e.Point(s+n*i-r,e.location.y),!0)}else e.move(new a.e.Point(s+n*i+c.width/2,e.location.y),!0);e.ensureBounds(),o._moveLinkHelper(o.diagram,e,h,d)}}),this._commandHelper()}}!e&&this.diagram.commitTransaction("Distribute objects horizontal")&&(Re.horizontal=new Set(t.map(t=>t.data.key)))}},Fe.prototype.distributeObjectsVertical=function(t,e){if(ze(t,"vertical")){if(this.diagram.startTransaction("Distribute objects vertical"),t.length>2){const e=Object(G.b)(t,!0);let n=0,i=0;const o=this;t.forEach(t=>{const e=Object(G.b)([t],!0);n=e.height+n,i=e.width+i});const r=e.height;if(t.filter(t=>Object(G.b)([t]).height>=r).length<1){const i=(r-n)/(t.length-1);t.sort((t,e)=>{let n=t,i=e;return t instanceof a.e.Node&&(n=n.resizeObject||n,i=i.resizeObject||i),n.getDocumentBounds().y-i.getDocumentBounds().y});let s=e.y;t.forEach((e,n)=>{if(n>0&&n<t.length-1){const r=t[n-1],l=Object(G.b)([r],!0),c=Object(G.b)([e],!0);s=l.height+s;const h=0,d=s+i*n-c.y;if(e instanceof a.e.Link){const t=e.actualBounds,o=e.routeBounds,r=Math.abs(o.y-t.y);e.move(new a.e.Point(e.location.x,s+i*n-r),!0)}else e.move(new a.e.Point(e.location.x,s+i*n+c.height/2),!0);e.ensureBounds(),o._moveLinkHelper(o.diagram,e,h,d)}}),this._commandHelper()}}!e&&this.diagram.commitTransaction("Distribute objects vertical")&&(Re.vertical=new Set(t.map(t=>t.data.key)))}},Fe.prototype.sendBackward=function(t,e,n){if(!Array.isArray(t)||!e)return;const i=this.diagram;i.startTransaction("Send item backward");const o=e.zOrder||e.data.zOrder;t.sort((t,e)=>t.data.zOrder-e.data.zOrder),t.forEach((e,n)=>{i.model.setDataProperty(e.data,"zOrder",o-t.length+n)});const r=new a.e.List;r.addAll(i.nodes.filter(t=>Object(C.c)(t))),r.addAll(i.links);if(r.filter(e=>e.zOrder>=o-t.length&&e.zOrder<=o-1).count>1){const e=r.filter(e=>e.zOrder<=o-1&&!t.find(t=>e.__gohashid===t.__gohashid)).toArray().sort((t,e)=>t.data.zOrder-e.data.zOrder);e.forEach((n,a)=>{i.model.setDataProperty(n.data,"zOrder",o-t.length-e.length+a)})}this._updateZorderBound(),!n&&i.commitTransaction("Send item backward"),Object(l.g)(i)},Fe.prototype.bringItemForward=function(t,e,n){if(!Array.isArray(t)||!e)return;const i=this.diagram;i.startTransaction("Bring item forward");const o=e.zOrder||e.data.zOrder;t.sort((t,e)=>t.data.zOrder-e.data.zOrder),t.forEach((t,e)=>{i.model.setDataProperty(t.data,"zOrder",o+e+1)});const r=new a.e.List;r.addAll(i.nodes.filter(t=>Object(C.c)(t))),r.addAll(i.links);if(r.filter(e=>e.zOrder>=o+1&&e.zOrder<=o+t.length).count>1){r.filter(e=>e.zOrder>=o+1&&!t.find(t=>e.__gohashid===t.__gohashid)).toArray().sort((t,e)=>t.data.zOrder-e.data.zOrder).forEach((e,n)=>{i.model.setDataProperty(e.data,"zOrder",o+t.length+n+1)})}this._updateZorderBound(),!n&&i.commitTransaction("Bring item forward"),Object(l.g)(i)},Object.defineProperty(Fe.prototype,"arrowKeyBehavior",{get:function(){return this._arrowKeyBehavior},set:function(t){if("move"!==t&&"select"!==t&&"scroll"!==t&&"tree"!==t&&"none"!==t)throw new Error('DrawCommandHandler.arrowKeyBehavior must be either "move", "select", "scroll", "tree", or "none", not: '+t);this._arrowKeyBehavior=t}}),Object.defineProperty(Fe.prototype,"pasteOffset",{get:function(){return this._pasteOffset},set:function(t){if(!(t instanceof a.e.Point))throw new Error("DrawCommandHandler.pasteOffset must be a Point, not: "+t);this._pasteOffset.set(t)}}),Object.defineProperty(Fe.prototype,"pasteOffsetDupliacte",{get:function(){return this._pasteOffsetDupliacte},set:function(t){if(!(t instanceof a.e.Point))throw new Error("DrawCommandHandler.pasteOffset must be a Point, not: "+t);this._pasteOffsetDupliacte.set(t)}});var We=document.createElement("textarea");We.id="myTextArea",We.setAttribute("spellcheck",!1),We.addEventListener("input",(function(t){var e=qe.tool;e&&null!==e.textBlock&&(qe.updateTempTextBlock(),qe.updatePartBounds(e.textBlock),qe.updateTextareaBounds(e.textBlock))}),!1),We.addEventListener("mousewheel",t=>{t.preventDefault();const e=qe.tool;"TextEditing"===diagram.currentTool.name&&e.diagram.currentTool.stopTool()}),We.addEventListener("contextmenu",t=>{t.preventDefault()}),We.addEventListener("keydown",(function(t){this.className="";var e=qe.tool;if(e&&null!==e.textBlock)switch(t.which){case 13:if(!1===e.textBlock.isMultiline&&t.preventDefault(),(t.ctrlKey||t.metaKey)&&e.textBlock.isMultiline){var n=this.value,i=We.selectionStart;n=this.value.slice(0,i)+"\n"+this.value.slice(i),t.preventDefault(),this.value=n,We.selectionStart=i+1,We.selectionEnd=i+1,qe.updateTempTextBlock(),qe.updatePartBounds(e.textBlock),qe.updateTextareaBounds(e.textBlock)}e.acceptText(a.e.TextEditingTool.Enter);break;case 9:e.acceptText(a.e.TextEditingTool.Tab),t.preventDefault();break;case 27:e.doCancel(),null!==e.diagram&&e.diagram.doFocus();break;case 48:case 96:this.className="mousetrap";break;case 187:case 61:case 107:this.className="mousetrap";break;case 189:case 173:case 109:this.className="mousetrap";break;default:if((t.ctrlKey||t.metaKey)&&(/^(z|y)$/i.test(t.key)||/^(89|90)$/i.test(t.keyCode))){t.preventDefault(),e.stopTool();const n=e.diagram.div.querySelector("canvas"),i=new KeyboardEvent("keydown",t);n.dispatchEvent(i)}}}),!1),We.addEventListener("blur",(function(t){const e=qe.tool;if("TextEditing"===e.diagram.currentTool.name){if(null===e.currentTextEditor||e.state===a.e.TextEditingTool.StateNone)return;e.diagram.currentTool.stopTool()}}),!1);var qe=new a.e.HTMLInfo;function Ye(t,e,n,i){if(t)if(["shape","uml-shape","archi-shape","uml-class","uml-interface","BPMN-Rectangle","BPMN-Conversation","BPMN-shape","flowcharNoteRight","flowcharNoteLeft","Standard-stickynote","flowchart-Annotation","uml-pageActivity","text"].includes(t.data.category)){var o=!1;if((r=e.height+n)<=qe.minHeight&&e.height!==qe.minHeight?(t.diagram.model.setDataProperty(e,"height",qe.minHeight),o=!0):qe.minHeight<r&&(t.diagram.model.setDataProperty(e,"height",r),o=!0),o){t.findLinksBetween(t).each(t=>t.data.reshaped=!1),t.updateTargetBindings("height"),"uml-interface"===t.data.category?(t.updateTargetBindings("headerHeight"),t.updateTargetBindings("contentHeight")):"uml-class"===t.data.category&&(t.updateTargetBindings("titleHeight"),t.updateTargetBindings("attrHeight"),t.updateTargetBindings("funcHeight")),qe.loc=i.getDocumentPoint(a.e.Spot.Center),qe.panelBounds=qe.getPanelBounds(i)}}else if(["BPMN-SwimLane","uml-SwimLane"].includes(t.data.category)){var r=e.height+n,s=(o=!1,e.height),l=e.headerHeight;if(r<=qe.minHeight&&e.height!==qe.minHeight?(t.diagram.model.setDataProperty(e,"height",qe.minHeight),o=!0,t.diagram.model.setDataProperty(e,"headerHeight",Math.max(e.headerHeight+e.height-s,40))):qe.minHeight<r&&(t.diagram.model.setDataProperty(e,"height",r),o=!0,t.diagram.model.setDataProperty(e,"headerHeight",Math.max(e.headerHeight+e.height-s,40))),t.updateTargetBindings("height"),t.updateTargetBindings("headerHeight"),t.data.textOrientation===t.data.orientation){let e=i.panel;for(;!e.data;)e=e.panel;if(e.data&&e!==t){o=!0;var c=qe.tempText();t.diagram.model.setDataProperty(e.data,"width",Math.max(qe.minHeight,c.naturalBounds.height+20)),t.updateTargetBindings()}}const h=t.findObject("FIELDS");t.data.items.forEach(t=>{h.findItemPanelForData(t).updateTargetBindings()});const d=e.height+e.headerHeight-(s+l);d&&(e.orientation?t.location=new a.e.Point(t.location.x+.5*d,t.location.y):t.location=new a.e.Point(t.location.x,t.location.y+.5*d)),o&&(i.part.ensureBounds(),qe.loc=i.getDocumentPoint(a.e.Spot.Center),qe.panelBounds=qe.getPanelBounds(i))}}qe.parseAlignment=function(t){const e=t.alignment,n=t.panel.findMainElement(),i=qe.nodeData;let o=n.geometry;if(!o){const t=a.e.Shape.getFigureGenerators().get(n.figure);o="function"==typeof t?t(n,n.width,n.height):null}const r=o?o.spot1:a.e.Spot.TopLeft,s=o?o.spot2:a.e.Spot.BottomRight;let l=e.x,c=e.y;const h=i.category||t.part.data.category||"";return h&&(h.indexOf("BPMN-")>-1||h.indexOf("uml-")>-1||h.indexOf("archi-")>-1)&&(l=qe.nodeData.textSpot?e.x:(e.x-r.x)/(s.x-r.x),c=qe.nodeData.textSpot?e.y:(e.y-r.y)/(s.y-r.y)),Math.abs(l-0)<1e-7&&(l=0),Math.abs(l-.5)<1e-7&&(l=.5),Math.abs(l-1)<1e-7&&(l=1),Math.abs(c-0)<1e-7&&(c=0),Math.abs(c-.5)<1e-7&&(c=.5),Math.abs(c-1)<1e-7&&(c=1),new a.e.Spot(l,c,0,0)},qe.getPanelBounds=function(t){const e=t.panel.findMainElement(),n=qe.nodeData;let i=e.geometry;if(!i){const t=a.e.Shape.getFigureGenerators().get(e.figure);i="function"==typeof t?t(e,e.width,e.height):null}if(!i)return e.getDocumentNaturalBounds();const o=i.spot1,r=i.spot2,s=e.getDocumentNaturalBounds();let l=0,c=0;const h=n.category||t.part.data.category||"";return(h.indexOf("BPMN-")>-1||h.indexOf("uml-")>-1||h.indexOf("archi-")>-1)&&(l=qe.nodeData.textSpot?0:s.width*o.x+o.offsetX,c=qe.nodeData.textSpot?0:s.height*o.y+o.offsetY),new a.e.Rect(s.x+l,s.y+c,Math.max(0,s.width*r.x+r.offsetX-l),Math.max(0,s.height*r.y+r.offsetY-c))},qe.valueFunction=function(){return We.value},qe.updateTempTextBlock=function(){if(qe.tool){var t=qe.tool;qe._tempText=t.measureTemporaryTextBlock(We.value)}},qe.tempText=function(){return qe._tempText},qe.mainElement=We,qe.tool=null,qe.show=function(t,e,n){if(t instanceof a.e.TextBlock){if(qe.tool=n,qe.originalString=t.text,n.state===a.e.TextEditingTool.StateInvalid)return We.style.border="3px solid red",void We.focus();for(var i=t.getDocumentAngle(),o=t.panel;o.panel&&!o.data;)o=o.panel;o&&o.data&&(o.data.height,o.data.textOriginalHeight||!o.data.height&&!o.data.width||(o.data.textOriginalHeight=o.data.height||o.data.width),o.data.textOriginalHeight&&(qe.minHeight=o.data.textOriginalHeight),qe.nodeData=o.data);var r=t.getDocumentPoint(a.e.Spot.Center),s=qe.getPanelBounds(t);qe.loc=r,qe.panelBounds=s;var l=e.scale;qe.sc=l;var c=t.getDocumentScale()*l,h=(t.naturalBounds.width,t.naturalBounds.height+2);We.value=t.text,e.div.style.font=t.font;qe.paddingsize=0;var d=(t.isUnderline?"underline":"")+" "+(t.isStrikethrough?"line-through":"");We.style.cssText="position: absolute;z-index: 100;font: inherit;font-size: 100%line-height: "+h/t.lineCount+"px;text-align: "+t.textAlign+";margin: 0;padding: 0px;border: 0;outline: none;resize: none;white-space: pre-wrap;overflow: hidden;transform: scale("+c+", "+c+") rotate("+i+"deg);transform-origin: center;background-color: transparent;color: "+t.stroke+";text-decoration: "+d+";word-break: break-all;",this.updateTempTextBlock(),this.updateTextareaBounds(t),qe.originalLineCount=t.lineCount,We.textScale=c,e.div.appendChild(We),We.focus(),n.selectsTextOnActivate&&(We.select(),We.setSelectionRange(0,9999))}},qe.hide=function(t,e){t.div.removeChild(We)},qe.updateTextareaBounds=function(t){if(!(t instanceof a.e.TextBlock))return;var e=qe.sc,n=qe.paddingsize,i=this.tempText(),o=qe.loc,r=diagram.position,s=qe.panelBounds,l=i.naturalBounds.width+6,c=i.naturalBounds.height+2;const{category:h,orient:d,fontSize:u}=qe.nodeData,f="circuit-orient"===h&&!d||"circuit-orient-side"===h&&d;if(null!=h&&h.startsWith("circuit-orient")&&(We.style.transformOrigin="center top",We.style.wordBreak="keep-all"),f){const t=/\s|\n/,e=We.value.split(t);let n=1;for(const t of e)t.length>n&&(n=t.length);l=(u||10)*n*1.2}var p=(o.x-r.x)*e,g=(o.y-r.y)*e,m=c/i.lineCount;m=Number(m.toFixed(4));const y=qe.parseAlignment(t),v=t.alignmentFocus;var w,x,b;0===y.y&&1!==v.y?w=c/i.lineCount*t.lineCount/2:.5===y.y?w=c/2:1===y.y&&0!==v.y||0===y.y&&1===v.y?w=c-c/i.lineCount*t.lineCount/2:(w=c/i.lineCount*t.lineCount/2*e,We.style.transformOrigin="center top"),null!=h&&h.startsWith("circuit-orient")&&(w=c/i.lineCount*t.lineCount*.5*e),x=0===y.x&&1!==v.x||1===y.x&&0===v.x?(t.naturalBounds.width+6)/2:.5===y.x?Math.max(l,s.width)/2:1===y.x&&0!==v.x?Math.max(l,s.width)-(t.naturalBounds.width+6)/2:0===y.x&&1===v.x?l-(t.naturalBounds.width+6)/2:Math.max(l,s.width)/2,f&&(x=Math.max(l,s.width)/2),b=1===y.x&&0===v.x||0===y.x&&1===v.x?l:Math.max(l,s.width),We.style.left=(p-x|0)-n+"px",We.style.top=(g-w|0)-n+"px",We.style.width=b+"px",We.style.height=Math.ceil(Math.max(c,m*i.lineCount))+"px",We.style.lineHeight=m+"px",setTimeout(()=>{const t=Object(Y.k)(diagram.getEditingSelection());t&&Object(Y.n)(diagram,t),diagram.selection.each(t=>{t instanceof a.e.Group&&t.editStatus&&Object(Y.n)(window.diagram,t,!1)})})},qe.updatePartBounds=function(t){if(t instanceof a.e.TextBlock){var e=t.part,n=qe.nodeData;if(e&&n&&!(0===t.alignment.y&&1===t.alignmentFocus.y||1===t.alignment.y&&0===t.alignmentFocus.y)){var i=qe.panelBounds,o=this.tempText();if(o.lineCount!==qe.originalLineCount){var r=o.naturalBounds.height/o.lineCount,s=qe.originalLineCount*r;qe.originalLineCount=o.lineCount;var l=o.naturalBounds.height-i.height;l=o.naturalBounds.height-s,["uml-class","uml-interface","BPMN-SwimLane","uml-SwimLane"].includes(e.data.category)?Ye(e,n,l,t):["shape","uml-shape","archi-shape","BPMN-Rectangle","BPMN-Conversation","BPMN-shape","flowcharNoteRight","flowcharNoteLeft","Standard-stickynote","flowchart-Annotation","uml-pageActivity","text"].includes(e.data.category)&&(l<0||l>0&&o.naturalBounds.height>i.height)&&(i.height>s&&(l-=i.height-s-(i.height-s)%r),Ye(e,n,l,t))}}}};n(8);var Xe=n(18);function Ke(){a.e.Tool.call(this),this.name="LaneResizing",this.laneShape=null,this.laneKey=null,this.originalWidth=null,this.originalHeight=null,this.part=null}a.e.Diagram.inherit(Ke,a.e.Tool),Ke.prototype.canStart=function(){if(!this.isEnabled)return!1;const t=this.diagram;if(!t||t.isReadOnly)return!1;if(!t.allowResize)return!1;if(!t.lastInput.left)return!1;if(!t.allowReshape)return!1;const e=t.lastInput;return!(t.currentTool!==this&&e.isTouchEvent&&e.timestamp-t.firstInput.timestamp<100)&&!!this.findLaneMap(!0)},Ke.prototype.doActivate=function(){const t=this.diagram;if(null===t)return;const e=this.findLaneMap(!0);this.laneData=e.data,this.laneKey=e.key,this.part=e.part,null!==this.laneData&&(Object(O.createOrUpdateTip)(t,this.part,"resizing",new a.e.Spot(.5,.5)),this.originalWidth=this.laneData.width,this.originalHeight=this.laneData["width"!==this.laneKey?this.laneKey:"height"],this.originalPoint=t.firstInput.documentPoint,this.startTransaction(this.name),a.e.Tool.prototype.doActivate.call(this),t.isMouseCaptured=!0)},Ke.prototype.doDeactivate=function(){a.e.Tool.prototype.doDeactivate.call(this);const t=this.diagram;this.stopTransaction(),t.isMouseCaptured=!1},Ke.prototype.doStop=function(){this.laneData=null,this.laneKey=null,this.part=null,a.e.Tool.prototype.doStop.call(this)},Ke.prototype.doCancel=function(){null!==this.laneData&&(this.laneData.width=this.originalWidth,this.laneData["width"!==this.laneKey?this.laneKey:"height"]=this.originalHeight),a.e.Tool.prototype.doCancel.call(this)},Ke.prototype.doMouseMove=function(){if(!this.isActive)return;const t=this.diagram;(t.allowHorizontalScroll||t.allowVerticalScroll)&&Object(N.o)(t,t.lastInput.viewPoint),this.updateLaneSize(),Object(O.createOrUpdateTip)(t,this.part,"resizing",new a.e.Spot(.5,.5))},Ke.prototype.doMouseUp=function(){this.isActive&&(this.updateLaneSize(),this.transactionResult=this.name,this.stopTool())},Ke.prototype.findLaneMap=function(t){const e=this.diagram;if(e.selection.copy().count>1)return null;const n=t?e.firstInput:e.lastInput;let i;try{i=e.findPartAt(n.documentPoint,!1)}catch(t){}if(i&&i.data&&(i.data.lock||i.data.group))return null;if(i&&i.data&&["uml-SwimLane","BPMN-SwimLane"].includes(i.data.category)){const t=i.findObject("HEADER"),e=!!i.data.orientation,o=t.getDocumentPoint(a.e.Spot.Bottom),r=i.findObject("SHAPE").getDocumentPoint(a.e.Spot.Bottom);if(e){if(Math.max(n.documentPoint.x,o.x)-Math.min(n.documentPoint.x,o.x)<=15)return{data:i.data,key:"headerHeight",part:i};if(Math.max(n.documentPoint.x,r.x)-Math.min(n.documentPoint.x,r.x)<=15)return{data:i.data,key:"height",part:i}}else{if(Math.max(n.documentPoint.y,o.y)-Math.min(n.documentPoint.y,o.y)<=15)return{data:i.data,key:"headerHeight",part:i};if(Math.max(n.documentPoint.y,r.y)-Math.min(n.documentPoint.y,r.y)<=15)return{data:i.data,key:"height",part:i}}const s=i.findObject("FIELDS");let l=null;if(i.data.items.some(t=>{if(e&&o.x>=n.documentPoint.x)return!1;if(!e&&o.y>=n.documentPoint.y)return!1;const r=s.findItemPanelForData(t).findObject("SHAPE").getDocumentPoint(e?a.e.Spot.Left:a.e.Spot.Right);if(e){if(Math.max(n.documentPoint.y,r.y)-Math.min(n.documentPoint.y,r.y)<=15)return l={data:t,key:"width",part:i},!0}else if(Math.max(n.documentPoint.x,r.x)-Math.min(n.documentPoint.x,r.x)<=15)return l={data:t,key:"width",part:i},!0;return!1}),l)return l}return null},Ke.prototype.computeGridSize=function(t,e){return this.diagram.toolManager.draggingTool.isGridSnapEnabled&&(t%e<=.5*e?t-=t%e:t=t+e-t%e),t},Ke.prototype.updateLaneSize=function(){const t=this.diagram,e=t.model,n=t.lastInput,i=!!this.part.data.orientation,a=t.grid.gridCellSize;let o,r,s,l=n.documentPoint.x-this.originalPoint.x,c=n.documentPoint.y-this.originalPoint.y;if(t.toolManager.draggingTool.isGridSnapEnabled){const t=(this.originalPoint.x+l)%a.width,e=(this.originalPoint.y+c)%a.height;t<=.5*a.width?l-=t:l+=a.width-t,e<=.5*a.height?c-=e:c+=a.height-e}const h=t.grid.gridCellSize;if("width"===this.laneKey){let t;i?(t=this.originalWidth+c,t=Math.max(t,40),t=this.computeGridSize(t,h.width),s=t-this.laneData[this.laneKey],o=this.part.location.copy(),o.y+=s*(1-this.part.locationSpot.y),this.part.move(o,!0),e.setDataProperty(this.laneData,this.laneKey,t)):(t=this.originalWidth+l,t=Math.max(t,40),t=this.computeGridSize(t,h.width),r=t-this.laneData[this.laneKey],o=this.part.location.copy(),o.x+=r*this.part.locationSpot.x,this.part.move(o,!0),e.setDataProperty(this.laneData,this.laneKey,t)),this.part.updateTargetBindings()}else{let t;i?(t=this.originalHeight+l,t=Math.max(t,40),t=this.computeGridSize(t,h.height),r=t-this.laneData[this.laneKey],o=this.part.location.copy(),o.x+=r*this.part.locationSpot.x,this.part.move(o,!0),e.setDataProperty(this.laneData,this.laneKey,t)):(t=this.originalHeight+c,t=Math.max(t,40),t=this.computeGridSize(t,h.height),s=t-this.laneData[this.laneKey],o=this.part.location.copy(),o.y+=s*this.part.locationSpot.y,this.part.move(o,!0),e.setDataProperty(this.laneData,this.laneKey,t)),this.part.updateTargetBindings()}};var Ze=n(12);const[$e]=Object(Ze.e)(),[Je]=Object(Ze.c)();function Qe(){a.e.Tool.call(this),this.name="RowResizing",this._tableName="TABLE",this._adornedTable=null,this._rowDef=null,this._minimum=20}a.e.Diagram.inherit(Qe,a.e.Tool),Object.defineProperty(Qe.prototype,"minimum",{get:function(){return this._minimum},set:function(t){this._minimum=t}}),Object.defineProperty(Qe.prototype,"tableName",{get:function(){return this._tableName},set:function(t){this._tableName=t}}),Object.defineProperty(Qe.prototype,"rowDef",{get:function(){return this._rowDef}}),Object.defineProperty(Qe.prototype,"adornedTable",{get:function(){return this._adornedTable}}),Qe.prototype.findRowDef=function(t,e){if(t.value&&"function"==typeof t.value.deref){const n=t.value.deref(),i=n.findObject(this.tableName);if(i instanceof a.e.Panel&&i.actualBounds.isReal()&&i.isVisibleObject()&&n.actualBounds.isReal()&&n.isVisible()&&i.type===a.e.Panel.Table){const t=i.getLocalPoint(e),a=n.resizeObject.width-(.5*n.resizeObject.strokeWidth||0)-(n.isSelected?4:5);if(t.x>a||t.x<0)return[null,null];let o=i.rowCount;for(;o--;){const e=i.getRowDefinition(o),a=e.position+e.total+i.padding.top;let r=e.separatorStrokeWidth;isNaN(r)&&(r=i.defaultRowSeparatorStrokeWidth);const s=a+.5*r,l=.5*r+(n.isSelected?4:8);if(!(t.y<s-l)&&!(t.y>s+l))return[e,i]}}}return[null,null]},Qe.prototype.canStart=function(){if(!this.isEnabled)return!1;const t=this.diagram;if(null===t||t.isReadOnly)return!1;if(!t.lastInput.left)return!1;if(t.currentTool!==this){var e,n,i,a;if(!$e.value||"function"!=typeof $e.value.deref)return!1;if("RowResizing"!==$e.value.deref().name)return!1;const o=t.firstInput,[r,s]=this.findRowDef(Je,o.documentPoint);return(!s||null===(e=s.part)||void 0===e||null===(n=e.data)||void 0===n||!n.lock)&&((!s||null===(i=s.part)||void 0===i||null===(a=i.data)||void 0===a||!a.aroundPart)&&null!==r)}return!1},Qe.prototype.doActivate=function(){const t=this.diagram;if(null===t)return;const e=t.firstInput,[n,i]=this.findRowDef(Je,e.documentPoint);this._rowDef=n,null!==n&&i&&i.type===a.e.Panel.Table&&(this._adornedTable=i,t.isMouseCaptured=!0,this.startTransaction(this.name),this.isActive=!0,i.part.isSelected||t.select(i.part),i.part.updateAdornments())},Qe.prototype.doDeactivate=function(){this.stopTransaction(),this._adornedTable=null,this._rowDef=null;const t=this.diagram;null!==t&&(t.isMouseCaptured=!1),this.isActive=!1},Qe.prototype.doMouseMove=function(){const t=this.diagram;if(this.isActive&&null!==t){const e=this.computeResize(t.lastInput.documentPoint);this.resize(e)}},Qe.prototype.doMouseUp=function(){const t=this.diagram,e=this.adornedTable;if(this.isActive&&null!==t){const n=this.computeResize(t.lastInput.documentPoint);this.resize(n),this.transactionResult=this.name;const i=this.rowDef,a=Object(Ze.a)(e);try{let n=i.separatorStrokeWidth;isNaN(n)&&(n=e.defaultRowSeparatorStrokeWidth);const o=i.actual+n-a.data.rowDefs[i.index].height;t.model.setDataProperty(a.data.rowDefs[i.index],"height",i.actual+n),t.model.setDataProperty(a.data,"height",a.data.height+o)}catch(t){}}this.stopTool(),e&&e.part.updateAdornments()},Qe.prototype.resize=function(t){const e=this.adornedTable,n=e.padding,i=e.rowCount,a=e.getLocalPoint(t),o=this.rowDef;let r=0,s=o.index+1;const l=e.part.position.copy();for(;s<i&&0===e.getRowDefinition(s).actual;)s++;s<i?(r=e.getRowDefinition(s).separatorStrokeWidth,isNaN(r)&&(r=e.defaultRowSeparatorStrokeWidth)):r=e.defaultRowSeparatorStrokeWidth;const c=isNaN(o.height)?o.actual:o.height,h=Math.max(o.minimum,this.minimum-r,a.y-n.top-o.position-(o.total-o.actual)-.5*r);o.height=h,e.part.resizeObject.height=e.part.resizeObject.height+o.height-c,e.part.move(l)},Qe.prototype.computeResize=function(t){return t.snapToGridPoint(new a.e.Point(0,0),new a.e.Size(2,2))},Qe.prototype.doKeyDown=function(){if(!this.isActive)return;const t=this.diagram.lastInput;if("Del"===t.key||"\t"===t.key){this.rowDef.height=NaN,this.transactionResult=this.name,this.stopTool()}else a.e.Tool.prototype.doKeyDown.call(this)};const[tn]=Object(Ze.e)(),[en]=Object(Ze.c)();function nn(){a.e.Tool.call(this),this.name="ColumnResizing",this._tableName="TABLE",this._colDef=null,this._adornedTable=null,this._minimum=30,this._cells=new a.e.List}a.e.Diagram.inherit(nn,a.e.Tool),Object.defineProperty(nn.prototype,"minimum",{get:function(){return this._minimum},set:function(t){this._minimum=t}}),Object.defineProperty(nn.prototype,"tableName",{get:function(){return this._tableName},set:function(t){this._tableName=t}}),Object.defineProperty(nn.prototype,"adornedTable",{get:function(){return this._adornedTable}}),Object.defineProperty(nn.prototype,"cells",{get:function(){return this._cells}}),Object.defineProperty(nn.prototype,"colDef",{get:function(){return this._colDef}}),nn.prototype.findColDef=function(t,e){if(t.value&&"function"==typeof t.value.deref){const n=t.value.deref(),i=n.findObject(this.tableName);if(i instanceof a.e.Panel&&i.actualBounds.isReal()&&i.isVisibleObject()&&n.actualBounds.isReal()&&n.isVisible()&&i.type===a.e.Panel.Table){const t=i.getLocalPoint(e),a=n.resizeObject.height-(n.resizeObject.strokeWidth||0)-(n.isSelected?4:5);if(t.y>a||t.y<0)return[null,null];let o=i.columnCount;for(;o--;){const e=i.getColumnDefinition(o),a=e.position+e.total+i.padding.left;let r=e.separatorStrokeWidth;isNaN(r)&&(r=i.defaultColumnSeparatorStrokeWidth);const s=a+.5*r,l=.5*r+(n.isSelected?4:8);if(!(t.x<s-l)&&!(t.x>s+l))return[e,i]}}}return[null,null]},nn.prototype.canStart=function(){if(!this.isEnabled)return!1;const t=this.diagram;if(null===t||t.isReadOnly)return!1;if(!t.lastInput.left)return!1;if(t.currentTool!==this){var e,n,i,a;if(!tn.value||"function"!=typeof tn.value.deref)return!1;if("ColumnResizing"!==tn.value.deref().name)return!1;const o=t.firstInput,[r,s]=this.findColDef(en,o.documentPoint);return(!s||null===(e=s.part)||void 0===e||null===(n=e.data)||void 0===n||!n.lock)&&((!s||null===(i=s.part)||void 0===i||null===(a=i.data)||void 0===a||!a.aroundPart)&&null!==r)}return!1},nn.prototype.doActivate=function(){const t=this.diagram;if(null===t)return;const e=t.firstInput,[n,i]=this.findColDef(en,e.documentPoint);if(null===n)return;if(!i||i.type!==a.e.Panel.Table)return;this._cells.clear(),this._colDef=n;const o=i.columnCount;let r=n.index+1;for(;r<o&&0===i.getColumnDefinition(r).actual;)r++;let s=i.rowCount;for(;s--;){const t=i.findCellForRowCol(s,n.index);if(r<o){const t=i.findCellForRowCol(s,r);this._cells.add(t)}this._cells.add(t)}this._adornedTable=i,t.isMouseCaptured=!0,this.startTransaction(this.name),this.isActive=!0,i.part.isSelected||t.select(i.part),i.part.updateAdornments()},nn.prototype.doDeactivate=function(){this.stopTransaction(),this._adornedTable=null,this._colDef=null,this._cells.clear();const t=this.diagram;null!==t&&(t.isMouseCaptured=!1),this.isActive=!1},nn.prototype.doMouseMove=function(){const t=this.diagram;if(this.isActive&&null!==t){const e=this.computeResize(t.lastInput.documentPoint);this.resize(e)}},nn.prototype.doMouseUp=function(){const t=this.diagram,e=this.adornedTable;if(this.isActive&&null!==t){const n=this.computeResize(t.lastInput.documentPoint);this.resize(n),this.transactionResult=this.name;const i=this.colDef,a=Object(Ze.a)(e),o=e.columnCount;let r=null,s=i.index+1;for(;s<o&&0===e.getColumnDefinition(s).actual;)s++;if(s<o){r=e.getColumnDefinition(s);let n=r.separatorStrokeWidth;isNaN(n)&&(n=e.defaultColumnSeparatorStrokeWidth),a.data.colDefs[r.index].width!==r.width&&t.model.setDataProperty(a.data.colDefs[r.index],"width",r.actual+n)}else{let n=i.separatorStrokeWidth;isNaN(n)&&(n=e.defaultColumnSeparatorStrokeWidth);const o=i.actual+n-a.data.colDefs[i.index].width;t.model.setDataProperty(a.data,"width",a.data.width+o)}try{let n=i.separatorStrokeWidth;isNaN(n)&&(n=e.defaultColumnSeparatorStrokeWidth),t.model.setDataProperty(a.data.colDefs[i.index],"width",i.actual+n)}catch(t){}}this.stopTool(),e&&e.part.updateAdornments()},nn.prototype.resize=function(t){const e=this.adornedTable,n=e.padding,i=e.columnCount,a=e.getLocalPoint(t),o=this.colDef;let r=0,s=o.index+1;const l=e.part.position.copy();for(;s<i&&0===e.getColumnDefinition(s).actual;)s++;let c=null;s<i?(c=e.getColumnDefinition(s),r=c.separatorStrokeWidth,isNaN(r)&&(r=e.defaultColumnSeparatorStrokeWidth)):r=e.defaultColumnSeparatorStrokeWidth;const h=isNaN(o.width)?o.actual:o.width,d=this.minimum;let u=1/0;null!==c&&(u=h+c.actual-(c.minimum||d-r)),o.width=Math.min(u,Math.max(o.minimum,d-r,a.x-n.left-o.position-(o.total-o.actual)-.5*r)),null!==c?isNaN(c.width)?c.width=c.actual-(o.width-h):c.width=c.width-(o.width-h):o.width!==h&&(e.part.resizeObject.width=e.part.resizeObject.width+o.width-h,e.part.move(l)),this._cells.each(t=>{t.raiseChanged("column",t.column,t.column),t.updateTargetBindings("width")})},nn.prototype.computeResize=function(t){return t.snapToGridPoint(new a.e.Point(0,0),new a.e.Size(2,2))},nn.prototype.doKeyDown=function(){if(!this.isActive)return;const t=this.diagram.lastInput;if("Del"===t.key||"\t"===t.key){this.colDef.width=NaN,this.transactionResult=this.name,this.stopTool()}else a.e.Tool.prototype.doKeyDown.call(this)};var an=n(95),on=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===rn}(t)}(t)},rn="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function sn(t,e){return!1!==e.clone&&e.isMergeableObject(t)?dn(Array.isArray(t)?[]:{},t,e):t}function ln(t,e,n){return t.concat(e).map((function(t){return sn(t,n)}))}function cn(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function hn(t,e){try{return e in t}catch(t){return!1}}function dn(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||ln,n.isMergeableObject=n.isMergeableObject||on,n.cloneUnlessOtherwiseSpecified=sn;var i=Array.isArray(e);return i===Array.isArray(t)?i?n.arrayMerge(t,e,n):function(t,e,n){var i={};return n.isMergeableObject(t)&&cn(t).forEach((function(e){i[e]=sn(t[e],n)})),cn(e).forEach((function(a){(function(t,e){return hn(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,a)||(i[a]=hn(t,a)&&n.isMergeableObject(e[a])?function(t,e){if(!e.customMerge)return dn;var n=e.customMerge(t);return"function"==typeof n?n:dn}(a,n)(t[a],e[a],n):sn(e[a],n))})),i}(t,e,n):sn(e,n)}dn.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return dn(t,n,e)}),{})};var un=dn;var fn=function(t){var e=(t=t||{}).storage||window&&window.localStorage,n=t.key||"vuex";function i(t,e){var n=e.getItem(t);try{return"string"==typeof n?JSON.parse(n):"object"==typeof n?n:void 0}catch(t){}}function a(){return!0}function o(t,e,n){return n.setItem(t,JSON.stringify(e))}function r(t,e){return Array.isArray(e)?e.reduce((function(e,n){return function(t,e,n,i){return!/^(__proto__|constructor|prototype)$/.test(e)&&((e=e.split?e.split("."):e.slice(0)).slice(0,-1).reduce((function(t,e){return t[e]=t[e]||{}}),t)[e.pop()]=n),t}(e,n,(i=t,void 0===(i=((a=n).split?a.split("."):a).reduce((function(t,e){return t&&t[e]}),i))?void 0:i));var i,a}),{}):t}function s(t){return function(e){return t.subscribe(e)}}(t.assertStorage||function(){e.setItem("@@",1),e.removeItem("@@")})(e);var l,c=function(){return(t.getState||i)(n,e)};return t.fetchBeforeUse&&(l=c()),function(i){t.fetchBeforeUse||(l=c()),"object"==typeof l&&null!==l&&(i.replaceState(t.overwrite?l:un(i.state,l,{arrayMerge:t.arrayMerger||function(t,e){return e},clone:!1})),(t.rehydrated||function(){})(i)),(t.subscriber||s)(i)((function(i,s){(t.filter||a)(i)&&(t.setState||o)(n,(t.reducer||r)(s,t.paths),e)}))}};const pn=t=>t.editor.loading,gn=t=>t.editor.currentItem,mn=t=>t.editor.sheetList,yn=t=>t.editor.colorHistory,vn=t=>t.editor.colorHistoryMap,wn=t=>t.editor.sheetSetting,xn=t=>t.diagramSetting,bn=t=>t.editor.cooperators,Sn=t=>t.editor.fontLibrary,kn=t=>t.editor.watermarkMap,Pn=t=>t.editor.markMap,Mn=t=>t.editor.rightPanelStatus,_n=t=>t.editor.rightPanelActiveRouter,Ln=t=>t.editor.showDeleteTip,Tn=t=>t.editor.isTogglePanel,On=t=>t.cmdb.ciClassList,An=t=>t.cmdb.rltClassList,En=t=>t.editor.creator,Cn=t=>{const e=t.editor.sheetList.find(t=>!0===t.active).sheetId,n=t.editor.sheetSetting[e].find(t=>"layer"===t.key);let i=[];return n.value&&(i=n.value),i},Nn=t=>t.layer.breadcrumbs,Bn=t=>t.editor.draggingShapeData,jn=t=>t.editor.circuitPanelStatus,Dn=t=>t.editor.layerModalStatus,Fn=t=>t.editor.animationModalStatus,Rn=t=>t.editor.eventsModalStatus,In=t=>t.editor.commentList,zn=t=>t.editor.commentUnreadCount,Hn=t=>t.editor.componentId,Vn=t=>t.editor.commentInfo,Gn=t=>t.editor.commentFilterValue,Un=t=>t.effectSetting.attrOptions,Wn=t=>t.slidesSetting.slideList,qn=t=>t.slidesSetting.defaultSetting,Yn=t=>t.slidesSetting.slidesPanelStatus;var Xn={editor:{loading:!1,creator:null,currentItem:[],sheetList:[],sheetSetting:{},colorHistory:["rgba(255,255,255,1)"],colorHistoryMap:{},fontLibrary:[],watermarkMap:null,markMap:new Map,rightPanelStatus:!1,rightPanelActiveRouter:"PageSetting",isTogglePanel:!1,showDeleteTip:!1,cooperators:[],draggingShapeData:{},circuitPanelStatus:!0,layerModalStatus:!1,animationModalStatus:!1,eventsModalStatus:!1,commentList:[],commentUnreadCount:0,componentId:"List",commentInfo:{nodeKey:"",commentId:"",sheetId:"",selectionSize:0},commentFilterValue:"all"},slidesSetting:{slidesPanelStatus:!1,slideList:[],defaultSetting:{proportion:"16:9",transition:1,alwaysShow:!1}},diagramSetting:{gridVisible:!0,gridSnap:!0,linkingAdornmentVisible:!0,showUserTrack:!0,zoomInOut:!1,panning:!1,bgFollow:!1},effectSetting:{attrOptions:[]},layer:{breadcrumbs:[{layerName:"",name:"页面"}]},cmdb:{ciClassList:[],rltClassList:[]},diagramName:"",bread:[{dirName:"我的文件",id:0}],socket:null};const Kn=[{key:"isAutoSave",value:!0},{key:"isInfiniteCanvas",value:!1},{key:"canvasWidth",value:1920},{key:"canvasHeight",value:1080},{key:"isAutoExpandCanvas",value:!1},{key:"isSplitLine",value:!1},{key:"isStandardCanvasSize",value:!0},{key:"canvasIsHorizontal",value:!0},{key:"canvasBackgroundColor",value:"#ffffff"},{key:"canvasBackgroundImage",value:""},{key:"canvasMargin",value:32},{key:"canvasMarginVisible",value:!1},{key:"gridWidth",value:20},{key:"linkJumpOver",value:!1},{key:"layer",value:[]},{key:"unit",value:"px"}];const Zn={};Kn.forEach(t=>{const{key:e,value:n}=t;Zn[e]=n});const $n={};[{key:"isAutoSave",value:!0},{key:"isInfiniteCanvas",value:!1},{key:"canvasWidth",value:1870},{key:"canvasHeight",value:1323},{key:"isAutoExpandCanvas",value:!0},{key:"isSplitLine",value:!0},{key:"isStandardCanvasSize",value:!0},{key:"canvasIsHorizontal",value:!0},{key:"canvasBackgroundColor",value:"#ffffff"},{key:"canvasBackgroundImage",value:""},{key:"canvasMargin",value:32},{key:"canvasMarginVisible",value:!1},{key:"gridWidth",value:20},{key:"linkJumpOver",value:!1},{key:"layer",value:[]},{key:"unit",value:"px"}].forEach(t=>{const{key:e,value:n}=t;$n[e]=n});const Jn={gridVisible:!0,gridSnap:!0,linkingAdornmentVisible:!0,zoomInOut:!1,panning:!1,bgFollow:!1};var Qn={"editor/loading/update":(t,e)=>{t.editor.loading=e},"editor/currentItem/update":(t,e)=>{t.editor.currentItem=e},"editor/creator":(t,e)=>{t.editor.creator=e},"editor/sheetList/update":(t,e)=>{const n=e.sync,i=e.isImport;let a;n&&(delete e.sync,delete e.isImport,a=t.editor.sheetList.filter,a=t.editor.sheetList.find(t=>t.active)||t.editor.sheetList[0]),Array.isArray(e)&&e.length&&e.forEach(t=>{n&&a&&!i&&(t.active=t.sheetId===a.sheetId),n&&(t.isEdited=!0)}),t.editor.sheetList=e},"editor/sheetList/add":(t,e)=>{const n=t.editor.sheetList,i=n[n.length-1].sheetOrder;if(void 0===e){const n=Object(g.g)();e={sheetId:"diagram-".concat(n),name:"页面 ".concat(t.editor.sheetList.length+1),active:!0,opened:!0,editing:!1,sheetOrder:i+1}}if(e.customName){const t=Object(g.g)();e={sheetId:"diagram-".concat(t),name:e.customName,active:!1,opened:!1,editing:!1,sheetOrder:i+1}}if(!n.find(t=>t.sheetId===e.sheetId)&&e.sheetId&&e.name){let n="";t.editor.sheetList.forEach(t=>{t.active&&(n=t.sheetId,e.active&&(t.active=!1))});const i=t.editor.sheetSetting;let a;n&&(a=i[n]);const o=a.find(t=>"gridWidth"===t.key),r=Kn.map(t=>t);r.find(t=>"gridWidth"===t.key).value=o.value,t.editor.sheetSetting=Object.assign({},i,{["".concat(e.sheetId)]:r});const s=e.sync;s&&delete e.sync,t.editor.sheetList.push(e),s&&v.a.$emit("syncSheetList","add"),!s&&v.a.$emit("editor/sheet/add",e)}},"editor/sheetList/switch":(t,e)=>{if(!e)return;const n=t.editor.sheetList.find(t=>t.sheetId===e.sheetId)||t.editor.sheetList[0];n&&(t.editor.sheetList.forEach(t=>{t.active=!1}),n.active=!0)},"editor/sheetList/delete":(t,e)=>{if(1===t.editor.sheetList.length)return;let n,i;const a=t.editor.sheetSetting;if(t.editor.sheetList=t.editor.sheetList.filter((t,a)=>(t.sheetId===e.sheetId&&(n=a,i=t),t.sheetId!==e.sheetId)),delete a[e.sheetId],t.editor.sheetSetting=a,i&&i.active){let e=n-1;e<0&&(e=0),t.editor.sheetList[e].active=!0}e.sync&&v.a.$emit("syncSheetList","delete")},"editor/sheetList/duplicate":(t,e)=>{let n;const i=t.editor.sheetList,a=e.sync?e.copyId:e.sheetId;t.editor.sheetList.forEach((t,e)=>{t.sheetId===a&&(n=e)}),t.editor.sheetList.forEach(t=>{!e.sync&&(t.active=!1)});const o=Object(g.g)(),r=e.sync?{...e,opened:!1}:{sheetId:"diagram-".concat(o),name:"".concat(e.name,"-副本"),active:!e.sync,opened:!0,sheetOrder:e.sheetOrder+1},s=t.editor.sheetSetting;t.editor.sheetSetting=Object.assign({},s,{["".concat(r.sheetId)]:JSON.parse(JSON.stringify(s[a]))}),e.sync&&(delete r.sync,delete r.copyId),i.splice(n+1,0,r),e.sync&&v.a.$emit("syncSheetList","copy")},"editor/sheetItem/update":(t,e)=>{if(e)if(e.sync&&delete e.sync,Array.isArray(e))e.forEach(e=>{const n=t.editor.sheetList.find(t=>t.sheetId===e.sheetId);Object.assign(n,e)});else{const n=t.editor.sheetList.find(t=>t.sheetId===e.sheetId);Object.assign(n,e)}},"editor/sheetList/clear":(t,e)=>{t.editor.sheetList=[],t.editor.sheetSetting={}},"editor/colorHistoryMap/update":(t,e)=>{let{id:n,mapping:i,isInit:a=!0}=e;if(n&&i){t.editor.colorHistoryMap[n]=i;const e=Object.values(t.editor.colorHistoryMap).reduce((t,e)=>(Object.keys(e).forEach(n=>{const i=t[n];t[n]=(i||0)+e[n]}),t),new Map),a=Object.entries(e).sort((t,e)=>e[1]-t[1]).map(t=>t[0]);a.length>=26&&(a.length=26),t.editor.colorHistory=[].concat(["rgba(255,255,255,1)",...a])}else t.editor.colorHistory=["rgba(255,255,255,1)"];!a&&v.a.$emit("editor/save/historyColor",t.editor.colorHistoryMap)},"editor/colorHistoryMap/allUpdate":(t,e)=>{if(e){t.editor.colorHistoryMap=e;const n=Object.values(t.editor.colorHistoryMap).reduce((t,e)=>(Object.keys(e).forEach(n=>{const i=t[n];t[n]=(i||0)+e[n]}),t),new Map),i=Object.entries(n).sort((t,e)=>t[1]-e[1]).map(t=>t[0]);i.length>=26&&(i.length=26),t.editor.colorHistory=[].concat(["rgba(255,255,255,1)",...i])}else t.editor.colorHistoryMap={},t.editor.colorHistory=["rgba(255,255,255,1)"]},"editor/diagramSetting/updateAll":(t,e)=>{t.diagramSetting=Object.assign(t.diagramSetting,e)},"editor/diagramSetting/updateItem":(t,e)=>{t.diagramSetting[e.key]=e.value},"editor/sheetSetting/updateItem":(t,e)=>{let{id:n,settingConfig:i}=e;const a=t.editor.sheetSetting;t.editor.sheetSetting=Object.assign({},a,{["".concat(n)]:i})},"editor/fontLibrary/update":(t,e)=>{t.editor.fontLibrary=e},"editor/watermark/addOrUpdate":(t,e)=>{t.editor.watermarkMap=e},"editor/markMap/showOrHideMark":(t,e)=>{t.editor.markMap.set(e.key,e.value)},"editor/rightPanelStatus/showOrHide":(t,e)=>{t.editor.rightPanelStatus=e},"editor/rightPanelStatus/isTogglePanel":(t,e)=>{t.editor.isTogglePanel=e},"editor/rightPanelStatus/clearIsTogglePanel":(t,e)=>{t.editor.isTogglePanel=null},"editor/rightPanelActiveRouter":(t,e)=>{t.editor.rightPanelActiveRouter=e},"editor/setShowDeleteTip":(t,e)=>{t.editor.showDeleteTip=e},"editor/setCooperators":(t,e)=>{t.editor.cooperators=e},"cmdb/ciClassList/update":(t,e)=>{t.cmdb.ciClassList=e},"cmdb/rltClassList/update":(t,e)=>{t.cmdb.rltClassList=e},"historyVersion/setDiagram":(t,e)=>{t[e.name]=e.value},"editor/draggingShapeData/update":(t,e)=>{t.editor.draggingShapeData=e},"editor/circuitPanelStatus/toggle":(t,e)=>{t.editor.circuitPanelStatus=!t.editor.circuitPanelStatus},"editor/layerModalStatus/update":(t,e)=>{t.editor.layerModalStatus=e},"editor/animationModalStatus/update":(t,e)=>{t.editor.animationModalStatus=e},"editor/eventsModalStatus/update":(t,e)=>{t.editor.eventsModalStatus=e},"editor/commentList/save":(t,e)=>{t.editor.commentList=e},"editor/comment/unreadCount":(t,e)=>{t.editor.commentUnreadCount=e},"editor/comment/componentId":(t,e)=>{t.editor.componentId=e},"editor/comment/commentInfo":(t,e)=>{Object.assign(t.editor.commentInfo,e)},"editor/comment/filterStatus":(t,e)=>{t.editor.commentFilterValue=e},"slides/save":(t,e)=>{t.slidesSetting.slideList=e},"slides/update":(t,e)=>{if(!e)return;const n=e.updateOrder;delete e.updateOrder;const i=t.slidesSetting.slideList,a=i.find(t=>t.key===e.key&&t.sheetId===e.sheetId);a&&Object.assign(a,e),n&&i.sort((t,e)=>t.order-e.order)},"slides/add":(t,e)=>{const n=e.sync;delete e.sync;const i=0===e.order?0:e.order-1;t.slidesSetting.slideList.splice(i,0,e),t.slidesSetting.slideList.forEach((t,i)=>{t.order=i+1,!n&&(t.isSelected=e.key===t.key)})},"slides/delete":(t,e)=>{const{key:n,sheetId:i}=e,a=t.slidesSetting.slideList.filter(t=>!(t.key===n&&t.sheetId===i));t.slidesSetting.slideList=a},"slides/defultSetting/save":(t,e)=>{t.slidesSetting.defaultSetting=e},"slides/panel/status":(t,e)=>{t.slidesSetting.slidesPanelStatus=e},"effectSetting/attrOptions/update":(t,e)=>{t.effectSetting.attrOptions=e},"layer/breadcrumbs/update":(t,e)=>{t.layer.breadcrumbs=e},setBread:(t,e)=>{e&&e.length&&(t.bread=JSON.parse(JSON.stringify(e)).reverse())},setSocket:(t,e)=>{t.socket=e}},ti=n(1),ei=n(15);const ni="".concat(ei.b,"/api/getStudioInfo");var ii={getLoginMethod:()=>ti.a.post("/login/getLoginMethod"),refreshToken2:()=>ti.a.post("/login/refreshToken"),getCurrentUser:()=>ti.a.post("/login/getCurrentUser"),refreshToken:t=>ti.a.post("/refreshToken",t),getModuleTree:t=>ti.a.post("/user/getModuleTree",t),getOrgTree:t=>ti.a.post("".concat("/permission/org","/getTree"),t),getUserInfoById:t=>ti.a.post("/user/getUserInfoById",t),getOlderUser:()=>ti.a.post("".concat("/eam/user","/getOlderUser")),setOlderUser:t=>ti.a.post("".concat("/eam/user","/setOlderUser"),t),logout:()=>ti.a.get("/thinggateway/logout"),getIdentify:t=>m.a.raiseRequest("GET",ni,t,!0,{"client-id":"thingStudio"})};const ai={1001:{id:"1001",name:"对象管理",link:"CI"},1002:{id:"1002",name:"关系管理",link:"Relation"},1003:{id:"1003",name:"标签管理",link:"Tag"},1004:{id:"1004",name:"图标管理",link:"IconManage"},1005:{id:"1005",name:"用户管理",link:"User"},1006:{id:"1006",name:"权限管理",link:"AuthorityManage"},1008:{id:"1008",name:"组织管理",link:"UserOrg"},1009:{id:"1009",name:"树状图管理",link:"TreeManage"},1010:{id:"1010",name:"系统设置",link:"System"},1011:{id:"1011",name:"个人设置",link:"Personal"},1012:{id:"1012",name:"更新日志",link:"SysUpdateLog"},1013:{id:"1013",name:"日志管理",link:"LogManage"},1014:{id:"1014",name:"LDAP集成",link:"Ladp"},1016:{id:"1016",name:"授权管理",link:"License"},2004:{id:"2004",name:"数据超市",link:"DataStore"}};var oi={state:()=>({userinfo:{},routerNavList:[],routerCommonList:[]}),mutations:{USER_INFO(t,e){t.userinfo=e},MODULE_TREE(t,e){t=Object.assign(t,e)}},actions:{loginOut(t){let{commit:e}=t;e("USER_INFO",{})},getUserInfo:async function(t){let{commit:e}=t;const{data:n}=await ii.getCurrentUser(),i=await ii.getUserInfoById(n.id);if(Array.isArray(i.data.roles)){const t=i.data.roles.map(t=>t.roleName);n.roles=t}localStorage.setItem("userInfo",JSON.stringify(n)),e("USER_INFO",n)},getModuleTree:async function(t){let{commit:e}=t;const n=this.state.User.userinfo.id,{data:i}=await ii.getModuleTree(n);let a=[],o=[];if(i.children)if(i.children.forEach(t=>{"QuickEA"===t.moduleName&&(a=t.children),"公共组件"===t.moduleName&&(o=t.children)}),a.length>0?e("MODULE_TREE",{routerNavList:a}):this.$Message&&this.$Message.error("请下系统设置添加 ".concat("QuickEA"," 系统模块")),o.length>0){const t=[];o.map(e=>(ai[e.id]&&(e.link=ai[e.id].link,t.push(e)),e)),e("MODULE_TREE",{routerCommonList:t})}else this.$Message&&this.$Message.error("系统管理员未给您配置任何权限")},initUser:async function(){await this.dispatch("getUserInfo"),window.location.hash.includes("#/workbench")&&this.dispatch("getModuleTree")}},getters:{userNano(t){const{icon:e,userName:n}=t.userinfo;return e?{type:"url",value:e}:n?-1!==escape(name).indexOf("%u")?{type:"text",value:n.slice(0,1)}:{type:"text",value:n.slice(0,2).toUpperCase()}:{type:"text",value:"new"}},userRoles:t=>t.userinfo.roles||[]}};const ri=ei.e?"/diagram/license":"/license";var si={getAuthInfo:t=>ti.a.get("".concat(ri,"/getAuthInfo"),t),createClientCode:()=>ti.a.get("".concat(ri,"/getClientCode")),registerLicense:t=>ti.a.post("".concat(ri,"/registerAuthCode"),t),judgeCount:()=>ti.a.get("".concat(ri,"/judgeCount")),judgeUserCount:()=>ti.a.get("".concat(ri,"/judgeUserCount"))},li={state:()=>({licenseInfo:null}),mutations:{SAVE_DIAGRAM_COUNT(t,e){t.licenseInfo=e}},actions:{queryLicenseInfo:async function(t){let{commit:e}=t;const n=await si.getAuthInfo();n.data&&e("SAVE_DIAGRAM_COUNT",n.data)},initLicense:async function(){await this.dispatch("queryLicenseInfo")}},getters:{licenseInfo:t=>t.licenseInfo}};var ci={state:()=>({currentModal:null,selectMenuItem:null}),mutations:{setCurrentModal(t,e){"ToolLabel"===e.$options.name&&t.currentModal&&"ContextMenu"===t.currentModal.$options.name&&this.commit("closeCurrentModal",{closeMoreTool:!1}),t.currentModal=e},closeCurrentModal(t,e){let{closeMoreTool:n,e:i}=e;const a=t.currentModal,o=i&&(i.srcElement||i.target);if(o&&o.getAttribute("data-cls"))return!1;a&&!a.$el.contains(o)&&("relationInfo"===a.name?v.a.$emit("broadcastToolItem",!1):a.closeModal(n,i))},setSelectMenuItem(t,e){t.selectMenuItem=e},clearSelectMenuItem(t){t.selectMenuItem=null}},actions:{setCurrentModal(t,e){let{commit:n}=t;n("setCurrentModal",e)},closeCurrentModal(t,e){let{commit:n}=t,{closeMoreTool:i,e:a}=e;n("closeCurrentModal",{closeMoreTool:i,e:a})}},getters:{getSelectMenuItem:t=>t.selectMenuItem}};var hi={state:()=>({dragStatus:!1,dragIds:{dirIds:[],diagramIds:[]},dragParentId:null,dragOrigin:null}),mutations:{setDragStatus(t,e){t.dragStatus=e},setDragIds(t,e){t.dragIds=e},setDragParentId(t,e){t.dragParentId=e},resetDragIds(t){t.dragIds={dirIds:[],diagramIds:[]}},setDragOrigin(t,e){t.dragOrigin=e}}};const di=(t,e)=>{t.push(e)},ui=(t,e)=>{const n=t.findIndex(t=>t.id===e);t.splice(n,1)},fi=(t,e)=>{const n=t.find(t=>t.id===e.id);n&&Object.assign(n,e)};var pi={state:()=>({allDataSourceList:[],dataSourceList:[],actualDataSourceList:[],rltSourceList:[]}),mutations:{setDataSource(t,e){t.allDataSourceList=e},updateDataSource(t,e){fi(t.allDataSourceList,e),fi(t.dataSourceList,e)},addDataSource(t,e){di(t.allDataSourceList,e)},delDataSource(t,e){ui(t.allDataSourceList,e)},setDiagramDataSource(t,e){t.dataSourceList=e},setActualDataSource(t,e){t.actualDataSourceList=e},addActualDataSource(t,e){di(t.actualDataSourceList,e)},delActualDataSource(t,e){ui(t.actualDataSourceList,e)},updateActualDataSource(t,e){fi(t.actualDataSourceList,e)},setRltSourceList(t,e){t.rltSourceList=e},addRltSource(t,e){di(t.rltSourceList,e)},delRltSource(t,e){ui(t.rltSourceList,e)},updateRltSource(t,e){fi(t.rltSourceList,e)}},getters:{allDataSourceList:t=>t.allDataSourceList,dataSourceList:t=>t.dataSourceList,actualDataSourceList:t=>t.actualDataSourceList,rltSourceList:t=>t.rltSourceList}};J.a.use(an.a);const gi=["User"];var mi=new an.a.Store({state:Xn,mutations:Qn,getters:i,modules:{User:oi,currentModal:ci,Workbench:hi,DataSource:pi,Offline:li},plugins:[fn({reducer(t){const e={};return gi.forEach(n=>{t[n]&&(e[n]=t[n])}),e}})]}),yi=n(81),vi=n(16);var wi={exportTpo:t=>ti.a.post("".concat("/eam/offline","/downLoad"),t),importTpo:t=>ti.a.post("".concat("/eam/offline","/import"),t),deploy:t=>ti.a.post("".concat("/topology","/deploy"),t),uploadPoints:t=>ti.a.post("".concat("/datasource","/uploadPoints"),t),exportDeployPkg:t=>ti.a.post("".concat("/eam/offline","/deploy"),t),getPackage:t=>ti.a.post("".concat("/eam/offline","/getPackage"),t)};window.location.origin;n(59);var xi=n(29);function bi(t){return"function"==typeof t?t:"string"==typeof t?a.e.Animation[t]:a.e.Animation.EaseInOutQuad}function Si(t,e,n,i){e={...e};const{keyframes:a,...o}=n;let{effectType:r,duration:s,loop:l,runCount:c,endStatus:h,easing:d,forCell:u}=e;c=Number(c),l=Array.isArray(l)?!!l.length:l;let f="start"===h;switch(r){case"rotate":if(l=o.rotateLoop,l){f=!0;const e=t.data.angle||0,n=o.rotateDirection;o.angle="anticlockwise"===n?e-360:e+360}break;case"flicker":isNaN(c)&&(c=1/0),o.color=o.color||o.flickerColor,delete o.flickerColor;break;case"flow":isNaN(c)&&(c=1/0),o.color=o.color||o.flowColor,o.width=o.width||o.flowWidth,o.direction=o.reverseFlow?"backward":"forward",delete o.flowColor,delete o.flowWidth,delete o.reverseFlow;break;case"badge":{const{badge:t,badgeColor:e,badgePosition:n}=o;let i={};try{i=JSON.parse(t)}catch{}e&&(i.color=e),n&&(i.alignment=n,i.alignmentFocus=Object(N.t)(n)),o.badge=JSON.stringify(i)}break;case"custom":o.keyframes=a?JSON.parse(a):[];break;case"text":"table"===t.data.category&&(o.forCell=u)}const p={duration:s,runCount:l?1/0:c||1,cosmetic:f,easing:d};i&&(p.runCount=1,p.cosmetic=!0);return{name:r,effectOptions:o,animOptions:p,status:"start"}}n(45);var ki=n(28);a.e.GraphObject.make;const[Pi,Mi]=Object(Ze.d)(),[_i,Li]=Object(Ze.c)(),[Ti,Oi]=Object(Ze.e)();o.a;new Map;const Ai="eam/esDiagram";var Ei={copyDiagram:t=>ti.a.post("".concat(Ai,"/copyDiagramById"),t),copyDiagramByIds:t=>ti.a.post("".concat(Ai,"/copyDiagramByIds"),t),updateDiagramBaseInfo:t=>ti.a.post("eam/diagram/updateDiagramBaseInfo",t),saveOrUpdateDir:t=>ti.a.post("".concat("dir","/saveOrUpdateDir"),t),queryMyDirInfoPageByParentId:t=>ti.a.post("".concat(Ai,"/queryMyDirInfoPageByParentId"),t),queryDirInfo:t=>ti.a.post("".concat(Ai,"/queryDirInfo"),t),findDirById:t=>ti.a.post("".concat("dir","/findDirById"),t),moveDirAndDiagram:t=>ti.a.post("".concat(Ai,"/moveDirAndDiagram"),t),copyDirById:t=>ti.a.post("".concat(Ai,"/copyDirById"),t),saveOrUpdateThumbnailAndUpdateTime:t=>ti.a.post("".concat(Ai,"/processBatchThumbnail"),t),getCountByDirId:t=>ti.a.post("".concat(Ai,"/getCountByDirId"),t),queryRecycleBinDirInfo:t=>ti.a.post("".concat("eam/recycleBin","/queryRecycleBinDirInfo"),t),queryRecycleBinDirInfoPageByParentId:t=>ti.a.post("".concat("eam/recycleBin","/queryRecycleBinDirInfoPageByParentId"),t),queryHistoryVersionById:t=>ti.a.post("".concat("eam/historyVersion","/queryDiagramVersionById"),t),queryAllHistoryVersion:t=>ti.a.post("".concat("eam/historyVersion","/queryDiagramVersionByDiagramId"),t),updateHistoryVersion:t=>ti.a.post("".concat("eam/diagramVersion","/updateDiagramVersionDesc"),t),newDiagramByHistoryVersion:t=>ti.a.post("".concat("eam/historyVersion","/createDiagramByCurrVersion"),t),restoreHistoryVersion:t=>ti.a.post("".concat("eam/historyVersion","/restoreDiagramByVersionId"),t),saveESDiagram:t=>ti.a.post("".concat(Ai,"/saveESDiagram"),t),queryDiagramInfoByIds:t=>ti.a.post("".concat(Ai,"/queryDiagramInfoByIds"),t),updateDiagramModel:t=>ti.a.post("".concat(Ai,"/saveOrUpdateDiagramComponent"),t),updateFullDiagram:t=>ti.a.post("".concat(Ai,"/updateFullDiagram"),t),importDiagramBatch:t=>ti.a.post("".concat(Ai,"/importDiagramBatch"),t),deleteDirOrDiagramBatch:t=>ti.a.post("".concat("eam/recycleBin","/deleteDirOrDiagramBatch"),t),restoreDirOrDiagramBatch:t=>ti.a.post("".concat("eam/recycleBin","/restoreDirOrDiagramBatch"),t),exportDiagram:t=>ti.a.post("".concat(Ai,"/exportDiagram"),t),getDiagramByExploreKey:t=>ti.a.post("/explore/getDiagramByExploreKey".concat(ei.f),t),queryAllDiagramList:t=>ti.a.post("".concat("management/diagram","/queryList"),t),queryTags:t=>ti.a.post("".concat("management/diagram","/queryTags"),t),batchCopyByIds:t=>ti.a.post("".concat("management/diagram","/batchCopyByIds"),t),delTags:t=>ti.a.post("".concat("management/diagram","/delTags"),t),batchTagsByIds:t=>ti.a.post("".concat("management/diagram","/batchTagsByIds"),t),queryAllMarkTags:t=>ti.a.post("".concat("management/diagram","/queryAllMarkTags"),t)};var Ci={convertDiagramAndTemplate:t=>ti.a.post("".concat("eam/template","/convertDiagramAndTemplate"),t),queryTemplateDirs:t=>ti.a.post("".concat("eam/template","/queryTemplateDirs?all=").concat(t)),saveOrUpdateTemplateDirs:t=>ti.a.post("".concat("eam/template","/saveOrUpdateTemplateDirs"),t),deleteTemplateDir:t=>ti.a.post("".concat("eam/template","/deleteTemplateDir?dirId=").concat(t)),queryDiagramByTemplateDirId:t=>ti.a.post("".concat("eam/template","/queryDiagramByTemplateDirId"),t),queryTemplateDiagrams:t=>ti.a.post("".concat("eam/template","/queryTemplateDiagrams"),t)};const Ni="eam/shareDiagram";var Bi={addCollaborators:t=>ti.a.post("".concat(Ni,"/addRecord"),t),removeCollaborators:t=>ti.a.post("".concat(Ni,"/removeRecord?id=").concat(t)),querySharedDiagramPage:t=>ti.a.post("".concat(Ni,"/querySharedDiagramPage"),t),queryDiagramShareRecords:t=>ti.a.post("".concat(Ni,"/queryDiagramShareRecords"),t),createSharePic:t=>ti.a.post("".concat(Ni,"/addSharePic"),t),querySharePics:t=>ti.a.post("".concat(Ni,"/querySharePic"),t),deleteSharePic:t=>ti.a.post("".concat(Ni,"/deleteSharePic?id=").concat(t)),addShareLink:t=>ti.a.post("".concat(Ni,"/addShareLink"),t),deleteShareLink:t=>ti.a.post("".concat(Ni,"/deleteShareLink?id=").concat(t)),getDiagramByLinkKey:t=>ti.a.post("".concat(Ni,"/getDiagramByLinkKey").concat(ei.f,"?id=").concat(t)),addUserByLink:t=>ti.a.post("".concat(Ni,"/addUserByLink?id=").concat(t)),updateShareLink:t=>ti.a.post("".concat(Ni,"/updateShareLink"),t)};var ji={queryLibraryList:t=>ti.a.post("".concat("eam/esShape","/queryImageDirList"),t),saveOrUpdateLibrary:t=>ti.a.post("".concat("eam/shapeDir","/saveOrUpdate"),t),deleteLibrary:t=>ti.a.post("".concat("eam/esShape","/deleteDirImage"),t),queryShapeList:t=>ti.a.post("".concat("eam/esShape","/queryImagePage"),t),sortShapeList:t=>ti.a.post("".concat("eam/esShape","/sort"),t),saveOrUpdateShape:t=>ti.a.post("".concat("eam/esShape","/saveOrUpdateShape"),t),saveShapes:t=>ti.a.post("".concat("eam/esShape","/saveShapes"),t),deleteShape:t=>ti.a.post("".concat("eam/esShape","/deleteImage"),t),queryAllShapeList:t=>ti.a.post("".concat("eam/esShape","/queryAllImage"),t),saveOrUpdateRel:t=>ti.a.post("".concat("eam/shapeDir","/saveOrUpdateRel"),t),sortMyLibrary:t=>ti.a.post("".concat("eam/shapeDir","/sortRel"),t),saveRecord:t=>ti.a.post("".concat("shapeShare","/saveRecord"),t),queryShareShapeUsers:t=>ti.a.post("".concat("shapeShare","/queryShareShapeUsers"),t),removeRecord:t=>ti.a.post("".concat("shapeShare","/removeRecord"),t)};var Di={queryCiInfoList:t=>ti.a.post("".concat("eam/ci","/queryCiInfoList"),t),queryCiById:t=>ti.a.post("".concat("eam/ci","/queryById"),t),queryCiList:t=>ti.a.post("".concat("eam/ci","/queryCiInfoListByCiCodes"),t),searchCiPage:t=>ti.a.post("".concat("eam/ci","/searchCiPage"),t),queryByCode:t=>ti.a.post("".concat("eam/ci","/queryByCode"),t),saveOrUpdate:t=>ti.a.post("".concat("eam/ci","/saveOrUpdate"),t),getLibTypes:t=>ti.a.get("".concat("eam/ci","/getLibTypes"),t),exportCi(t,e){const n=localStorage.getItem("tk");return e+="-",ti.a.downfile("POST","".concat("eam/ci","/exportCi?tk=").concat(n),t,e)},queryPageCiTableByCiCodes:t=>ti.a.post("".concat("eam/ci","/queryPageCiTableByCiCodes"),t),exportCiByDiagramId:(t,e)=>(e+="-",ti.a.downfile("GET","".concat("eam/ci","/exportCiByDiagramId?diagramId=").concat(t,"&libType=BASELINE"),null,e)),queryCiCountByClass:t=>ti.a.post("".concat("eam/ci","/queryCiCountByClass"),t),queryPageBySearchBean:t=>ti.a.post("".concat("eam/ci","/queryPageBySearchBean"),t),queryPageByAllIndex:t=>ti.a.post("".concat("eam/ci","/queryPageByAllIndex"),t)};var Fi={importImage:t=>ti.a.post("".concat("/eam/word","/uploadFile"),t),addNotice:t=>ti.a.post("/notice/addNotice",t),getAllNotices:t=>ti.a.post("/notice/getAllNotices",t),getUnreadCount:()=>ti.a.post("/notice/getUnreadCount"),allReadOrDel:t=>ti.a.post("/notice/allReadOrDel",t),readOrDel:t=>ti.a.post("/notice/readOrDel",t),addUpdateLog:t=>ti.a.post("/notice/addUpdateLog",t),getAllUpdateLog:t=>ti.a.post("/notice/getAllUpdateLog",t)};var Ri={query:t=>ti.a.post("".concat("cmdb/ciClass","/query"),t)};var Ii={queryAllClasses:t=>ti.a.post("".concat("cmdb/rltClass","/queryAllClasses"),t)};var zi={queryImageDirList:t=>ti.a.post("".concat("cmdb/image","/queryImageDirList"),t),queryImagePage:t=>ti.a.post("".concat("cmdb/image","/queryImagePage"),t),getImage:t=>ti.a.post("/explore/getImage",t)};var Hi={searchRltByBean:t=>ti.a.post("".concat("cmdb/ciRlt","/searchRltByBean"),t),queryUpAndDownRltBatch:t=>ti.a.post("".concat("cmdb/ciRlt","/queryUpAndDownRltBatch"),t),searchRltByIds:t=>ti.a.post("".concat("eam/ciRlt","/searchRltByIds"),t),queryUpAndDownRlt:t=>ti.a.post("".concat("eam/ciRlt","/queryUpAndDownRlt"),t),exportCiRlt:(t,e)=>(e+="-",ti.a.downfile("POST","".concat("eam/ciRlt","/exportCiRlt?exportData=true"),t,e)),exportRltByDiagramId:(t,e)=>(e+="-",ti.a.downfile("GET","".concat("eam/ciRlt","/exportRltByDiagramId?diagramId=").concat(t,"&libType=BASELINE"),null,e)),queryRltInfoPage:t=>ti.a.post("".concat("eam/ciRlt","/queryRltInfoPage"),t),queryCiBetweenRlt:t=>ti.a.post("".concat("eam/ciRlt","/queryCiBetweenRlt"),t),createCiRlt:t=>ti.a.post("".concat("eam/ciRlt","/bindCiRlt"),t),updateRlt:t=>ti.a.post("".concat("eam/ciRlt","/updateCiRltAttr"),t)};var Vi={uploadWord:t=>ti.a.post("".concat("eam/word","/uploadWord"),t),uploadFiles:t=>ti.a.post("".concat("eam/word","/uploadFiles"),t),getWordDocByCiCode:t=>ti.a.get("".concat("eam/word","/getWordDocByCiCode"),t),downloadWord:t=>ti.a.downfile("GET","".concat("eam/word","/downloadWord"),t),wordDocIsExist:t=>ti.a.get("".concat("eam/word","/wordDocIsExist"),t),deleteWord:t=>ti.a.post("".concat("eam/word","/deleteWord"),t)};var Gi={queryTechnologyStack:t=>ti.a.post("".concat("eam/ciDataSet","/queryTechnologyStack"),t),queryFriendInfo:t=>ti.a.post("".concat("eam/ciDataSet","/queryFriendInfo"),t),findDataSet:t=>ti.a.post("".concat("cmdb/dataSet","/findDataSet"),t),queryRelatedCIByDataSet:t=>ti.a.post("".concat("eam/ciDataSet","/queryRelatedCIByDataSet"),t),queryDataSetByName:t=>ti.a.post("".concat("eam/ciDataSet","/queryDataSetByName"),t),queryNonIndicatorsCIByDataSet:t=>ti.a.post("".concat("eam/ciDataSet","/queryNonIndicatorsCIByDataSet"),t)};var Ui={addAppendixWord:t=>ti.a.post("".concat("eam/resource","/uploadFile"),t),downFileByResId:(t,e)=>ti.a.downfile("GET","".concat("eam/resource","/downFileByResId/").concat(t,"/").concat(e))},Wi=n(79);var qi={getImageList:t=>ti.a.post("".concat("eam/word","/queryImages"),t),upload:t=>ti.a.post("".concat("eam/word","/upload"),t),batchUpload:t=>ti.a.post("".concat("eam/word","/batchUpload"),t),delete:t=>ti.a.post("".concat("eam/word","/deleteImage"),t)};var Yi={addCommentBatch:t=>ti.a.post("".concat("comment","/addCommentBatch"),t),delCommentBatch:t=>ti.a.post("".concat("comment","/delCommentBatch"),t),editCommentBatch:t=>ti.a.post("".concat("comment","/updateCommentBatch"),t),signCommentReadStatus:t=>ti.a.post("".concat("comment","/readComment"),t),getCommentList:t=>ti.a.get("".concat("comment","/getCommentList"),t),recoverCommentByKey:t=>ti.a.post("".concat("comment","/recoverCommentByKey"),t)},Xi=n(127);var Ki={create:t=>ti.a.post("".concat("datasource","/create"),t),update:t=>ti.a.post("".concat("datasource","/update"),t),del:t=>ti.a.post("".concat("datasource","/batch"),t),queryAllList:t=>ti.a.get("".concat("datasource","/getAll"),t),queryList:t=>ti.a.get("".concat("datasource","/getOpenDS").concat(ei.f),t),queryBaseList:t=>ti.a.get("".concat("datasource","/getBaseDS"),t),updateSwitch:t=>ti.a.post("".concat("datasource","/switchDS"),t),createByExcel:t=>ti.a.post("".concat("datasource","/createByExcel"),t),queryTwinList:t=>ti.a.get("".concat("datasource","/queryTwinList"),t),queryStaticDS:t=>ti.a.post("".concat("datasource","/queryStaticDS").concat(ei.f),t),addOrUpdateTwinData:t=>ti.a.post("".concat("dataTwin","/saveOrUpdate"),t),delExample:t=>ti.a.post("".concat("datasource","/deleteExample"),t),restoreExample:t=>ti.a.post("".concat("datasource","/restore"),t),createOrUpdateClass:t=>ti.a.post("".concat("datasource","/createOrUpdateClass"),t),queryClassList:t=>ti.a.get("".concat("datasource","/queryClassList"),t),queryRelationshipData:t=>ti.a.get("".concat("datasource","/getRelationList?id=").concat(t)),createRltByExcel:t=>ti.a.post("".concat("eam/relation","/createByExcel"),t),queryRltTwinList:t=>ti.a.get("".concat("eam/relation","/queryList"),t),addOrUpdateRltData:t=>ti.a.post("".concat("eam/relation","/saveOrUpdate"),t)};const Zi={"Content-Type":"application/json;charset=UTF-8","auth-type":"stb"};var $i={getMyChartList:t=>m.a.raiseRequest("POST","".concat(ei.g,"/studio-space/user-resource/queryPage"),t,Zi),addMyChartItem:t=>m.a.raiseRequest("POST","".concat(ei.a,"/spray/component/component/save"),t,Zi),delMyChartItem:t=>m.a.raiseRequest("POST","".concat(ei.a,"/spray/component/component/deleteById"),t,Zi),getListByTwinId:t=>m.a.raiseRequest("POST","".concat(ei.a,"/spray/scene/scene/getListByTwinId"),t,Zi),addBlankBigScreen:t=>m.a.raiseRequest("POST","".concat(ei.a,"/spray/scene/scene/save"),t,Zi)};var Ji={queryModelDirList:t=>ti.a.post("".concat("eam/model","/queryModelDirList"),t),addUpload:t=>ti.a.post("".concat("eam/shapeDir","/upload"),t),queryModelPage:t=>ti.a.post("".concat("eam/model","/queryModelPage"),t),updateModel:t=>ti.a.post("".concat("eam/model","/update"),t),delModel:t=>ti.a.post("".concat("eam/model","/del"),t),uploadFiles:t=>ti.a.post("".concat("eam/model","/upload"),t),saveOrUpdate:t=>ti.a.post("".concat("eam/model","/saveOrUpdate"),t),uploadSingleModel:t=>ti.a.post("".concat("eam/model","/save"),t),sortModelList:t=>ti.a.post("".concat("eam/model","/sort"),t)};Wi.a,Xi.a;n(62),n(53);Object(g.a)(Kn);var Qi=n(20),ta=n(37);a.e.GraphObject.make;var ea=n(23),na=n.n(ea);const ia={proportion:"16:9",transition:1,alwaysShow:!1};_.k;function aa(t,e,n){if(!t||!t.modelList)return t;const i=t.watermarkInfo,a=function(t,e){if(null==t||!t.length)return[];const n=m.a.getHashQueryString("relationPageId");let i=m.a.getHashQueryString("page");if(!i){const t=localStorage.getItem("".concat(e,"/diagramViewLoction")),n=t&&JSON.parse(t);for(const t in n){n[t].active&&(i=t.split("-")[1]);break}}return t.map(t=>{const e={...t,active:n===t.sheetId||"diagram-".concat(i)===t.sheetId};return delete e.createTime,delete e.diagramId,delete e.linkFromPortIdProperty,delete e.linkToPortIdProperty,delete e.modifyTime,delete e.modelData,e})}(t.sheetList,n),o=[],r=[],s=function(t){const e=window.localStorage.getItem("".concat(t,"/slidesSetting"));return e?JSON.parse(e):{...ia}}(n).alwaysShow,l=mi.state.slidesSetting.slidesPanelStatus;return t.modelList.forEach(t=>{t.modelData=Object(g.p)(t.modelData)?JSON.parse(t.modelData):t.modelData||{},i&&Object.assign(t.modelData,{watermarkInfo:i}),t.nodeDataArray=(t.nodeDataArray||[]).map(e=>{const n="string"==typeof e.nodeJson?JSON.parse(e.nodeJson):e.nodeJson||e;return y.a.includes(t.category)&&(n.angle=n.orientation?270:0),n.tempGroup&&n.tempAroundPart&&(delete n.tempGroup,delete n.tempAroundPart),void 0===n.shadowDistance&&(n.isShadowed=!1),Object.assign(n,{commentCount:e.commentCount||0,commentUnreadCount:e.commentUnreadCount||0}),"slides-container"===n.category&&(n.isSelected=!1,n.slidesVisible=Boolean(s||l),n.thumbnail="",delete n.visible),n.__gohashid&&delete n.__gohashid,n}),t.linkDataArray=(t.linkDataArray||[]).map(t=>{const e="string"==typeof t.linkJson?JSON.parse(t.linkJson):t.linkJson||t;return e.key=e.key||t.key,e.__gohashid&&delete e.__gohashid,e.fromSpot&&"string"!=typeof e.fromSpot&&(e.fromSpot=oa(e.fromSpot)),e.toSpot&&"string"!=typeof e.toSpot&&(e.toSpot=oa(e.toSpot)),Array.isArray(e.jointLabelKeys)&&(e.jointLabelKeys=e.jointLabelKeys.filter(t=>null!==t)),e}),!t.class&&(t.class="GraphLinksModel"),!t.linkFromPortIdProperty&&(t.linkFromPortIdProperty="fromPort"),!t.linkKeyProperty&&(t.linkKeyProperty="key"),!t.linkToPortIdProperty&&(t.linkToPortIdProperty="toPort"),o.push(t);const e=t.nodeDataArray.filter(t=>"slides-container"===t.category);r.push(...na()(e))}),t.sheetList=a,t.modelList=o,t.slideList=r.sort((t,e)=>t.order-e.order),t}function oa(t){if(!t)return"Default";if("string"==typeof t)return t;if(t instanceof a.e.Spot)return a.e.Spot.stringify(t);if("object"==typeof t){const{x:e,y:n,offsetX:i,offsetY:a}=t;return null===e&&null===n?"Default":"".concat(e," ").concat(n," ").concat(i," ").concat(a)}}var ra=n(43),sa=n.n(ra),la=n(128),ca=n.n(la),ha=n(129),da=n.n(ha),ua=n(130),fa=n.n(ua),pa=n(131),ga=n.n(pa),ma={AES:da.a,enc:{Utf8:ca.a},mode:{ECB:fa.a},pad:{Pkcs7:ga.a}};const ya={Flowchart:["Curly Brace Note","Connector","Merge","Process","Decision"],Shapes:["Right Arrow","Left Arrow","Up Arrow","Down Arrow","Double Arrow East-West","Double Arrow North-South","Circle","Rectangle","Diamond","Isosceles Triangle","Right Triangle"],Standard:["Block"]};function va(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",e=arguments.length>1?arguments[1]:void 0;const n={none:"horizontal",horizontal:"none",vertical:"both",both:"vertical"},i={none:"vertical",vertical:"none",horizontal:"both",both:"horizontal"},a={horizontal:n,vertical:i},o=a[e][t];return o}function wa(t,e){if(!(t instanceof a.e.Node))return;const n=t.data.flip||"none";if(e===n)return;const{shapeName:i,shapeParentName:o}=t.data;let r;if(r=e===va(n,"horizontal")?"horizontal":e===va(n,"vertical")?"vertical":"both",t.diagram.model.setDataProperty(t.data,"flip",e),"image"===t.category){const e=t.findObject("SHAPE").geometry;if(e){const n=e.copy();xa(r,n),t.geometryCatch=n.toString(),t.findObject("SHAPE").geometry=n}}else if(ya[o]&&ya[o].includes(i))ba(r,t);else{const e=t.findObject("SHAPE");if(null===e)return;const n=e.geometry.copy();xa(r,n),t.diagram.model.setDataProperty(t.data,"shapeGeo",a.e.Geometry.stringify(n))}}function xa(t,e){"horizontal"===t?e.scale(-1,1).normalize():"vertical"===t?e.scale(1,-1).normalize():"both"===t&&e.scale(-1,-1).normalize()}function ba(t,e){"horizontal"===t?"flowcharNoteRight"===e.data.figure?(e.diagram.model.setDataProperty(e.data,"category","flowcharNoteLeft"),e.diagram.model.setDataProperty(e.data,"figure","flowcharNoteLeft"),e.diagram.model.setDataProperty(e.data,"textSpot","Left")):"flowcharNoteLeft"===e.data.figure?(e.diagram.model.setDataProperty(e.data,"category","flowcharNoteRight"),e.diagram.model.setDataProperty(e.data,"figure","flowcharNoteRight"),e.diagram.model.setDataProperty(e.data,"textSpot","Right")):"Right Arrow"===e.data.figure?(e.diagram.model.setDataProperty(e.data,"category","shapes-left-arrow"),e.diagram.model.setDataProperty(e.data,"figure","Left Arrow"),e.diagram.model.setDataProperty(e.data,"VFlipReverse",!e.data.VFlipReverse)):"Left Arrow"===e.data.figure?(e.diagram.model.setDataProperty(e.data,"category","shapes-right-arrow"),e.diagram.model.setDataProperty(e.data,"figure","Right Arrow"),e.diagram.model.setDataProperty(e.data,"VFlipReverse",!e.data.VFlipReverse)):"Up Arrow"===e.data.figure||"Down Arrow"===e.data.figure||"Double Arrow East-West"===e.data.figure||"Double Arrow North-South"===e.data.figure?e.diagram.model.setDataProperty(e.data,"HFlipReverse",!e.data.HFlipReverse):"Right Triangle"===e.data.figure?e.diagram.model.setDataProperty(e.data,"figure","Left Triangle"):"Left Triangle"===e.data.figure?e.diagram.model.setDataProperty(e.data,"figure","Right Triangle"):"Right Triangle ReverseV"===e.data.figure?e.diagram.model.setDataProperty(e.data,"figure","Left Triangle ReverseV"):"Left Triangle ReverseV"===e.data.figure&&e.diagram.model.setDataProperty(e.data,"figure","Right Triangle ReverseV"):"vertical"===t&&("flowcharNoteRight"===e.data.figure||"flowcharNoteLeft"===e.data.figure||"Right Arrow"===e.data.figure||"Left Arrow"===e.data.figure?e.diagram.model.setDataProperty(e.data,"VFlipReverse",!e.data.VFlipReverse):"Up Arrow"===e.data.figure?(e.diagram.model.setDataProperty(e.data,"category","shapes-down-arrow"),e.diagram.model.setDataProperty(e.data,"figure","Down Arrow"),e.diagram.model.setDataProperty(e.data,"HFlipReverse",!e.data.HFlipReverse)):"Down Arrow"===e.data.figure?(e.diagram.model.setDataProperty(e.data,"category","shapes-up-arrow"),e.diagram.model.setDataProperty(e.data,"figure","Up Arrow"),e.diagram.model.setDataProperty(e.data,"HFlipReverse",!e.data.HFlipReverse)):"Double Arrow East-West"===e.data.figure||"Double Arrow North-South"===e.data.figure?e.diagram.model.setDataProperty(e.data,"VFlipReverse",!e.data.VFlipReverse):"TriangleUp"===e.data.figure?e.diagram.model.setDataProperty(e.data,"figure","TriangleDown"):"TriangleDown"===e.data.figure?e.diagram.model.setDataProperty(e.data,"figure","TriangleUp"):"Right Triangle"===e.data.figure?e.diagram.model.setDataProperty(e.data,"figure","Right Triangle ReverseV"):"Right Triangle ReverseV"===e.data.figure?e.diagram.model.setDataProperty(e.data,"figure","Right Triangle"):"Left Triangle"===e.data.figure?e.diagram.model.setDataProperty(e.data,"figure","Left Triangle ReverseV"):"Left Triangle ReverseV"===e.data.figure&&e.diagram.model.setDataProperty(e.data,"figure","Left Triangle"));const n=e.findAdornment("PartConstraint");n&&Object(Xe.c)(n,e)}class Sa{constructor(t,e,n){this.startTime=Date.now(),this.target=t,this.part=t._part,this.duration=n,this.changes=this._getChanges(e),this.transAttrs={},this.noTransAttrs={};const i="link"===t.type?h.b:h.a;Object.keys(this.changes).forEach(t=>{i.includes(t)?this.transAttrs[t]=this.changes[t]:this.noTransAttrs[t]=this.changes[t]}),this.finished=new Promise(t=>{this._resolve=t}),this.start()}addAnimation(){if(0===Object.keys(this.transAttrs).length)return null;const t=this.target._addAnimation(this.transAttrs,{duration:this.duration,easing:"EaseLinear"});return t.finished=()=>{this.updateData(this.transAttrs)},t}start(){this.updateData(this.noTransAttrs),this.animation=this.addAnimation(),this.animation&&this.animation.start()}stop(){this.animation&&this.animation.isAnimating&&this.animation.stop(),this._resolve()}_getChanges(t){const e=Object.keys(t).reduce((e,n)=>Object.assign(e,t[n]),{}),n=this.part.data,i=this.target._cfg,{pointX:a,pointY:o,rotationSpot:r,flipH:s,flipV:l,strokeStyle:c,linkType:h,...d}=e;if(void 0!==a||void 0!==o){const t=[];t[0]=null!=a?a:i.position[0],t[1]=null!=o?o:i.position[1],d.position=t}if(r&&(this.part.rotateCenterPoint=r),void 0!==s||void 0!==l){const t=n.flip,e=null!=s?s:"horizontal"===t||"both"===t,i=null!=l?l:"vertical"===t||"both"===t;d.flip=e?i?"both":"horizontal":i?"vertical":"none"}c&&(d.strokeDashArray=Object(N.v)(c)),d.progressValue&&(d.progressValue=Number(d.progressValue)/100);var u,f;(d.isShadowed||n.isShadowed)&&(d.shadowOffset=Object(g.i)(null!==(u=d.shadowAngle)&&void 0!==u?u:n.shadowAngle,null!==(f=d.shadowDistance)&&void 0!==f?f:n.shadowDistance));const p=["visible","isShadowed","isUnderline","deleteStroke","reverseFlow","isFlowing"];let m=JSON.parse(_.v);if(this.part.data.textOption)try{m=JSON.parse(this.part.data.textOption)}catch(t){}return Object.keys(d).forEach(t=>{"opacity"===t?d[t]=d[t]/100:"velocity"===t?d[t]=1e3*d[t]:m.hasOwnProperty(t)?(m[t]="deleteStroke"===t?!!d[t]:d[t],delete d[t]):p.includes(t)&&(d[t]=!!d[t])}),d.textOption=JSON.stringify(m),d}updateData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object.keys(t).length)return;const e=this.part.diagram,n=e.skipsUndoManager;if(e.skipsUndoManager=!0,t.image&&(Object(g.h)(t.image,this.part.data.size).then(t=>{Date.now()-this.startTime<this.duration&&Object(g.t)(this.part,t)}),delete t.image),t.flip&&wa(this.part,t.flip),t.isShadowed&&!this.part.data.isShadowed&&(this.part.data.shadowBlur=16),Object.assign(this.part.data,t),"link"!==this.target.type&&(this.part.data.loc=a.e.Point.stringify(this.part.location)),"image"===this.part.category&&(void 0!==t.width||void 0!==t.height)){var i,o;const e=a.e.Size.parse(this.part.data.size),n=null!==(i=t.width)&&void 0!==i?i:e.width,r=null!==(o=t.height)&&void 0!==o?o:e.height;this.part.data.size="".concat(n," ").concat(r),delete this.part.data.width,delete this.part.data.height}this.part.updateTargetBindings();const r=p(this.part.data);this.target.update(r),this.part.data.hide&&t.visible&&!this.part.diagram.isReadOnly&&Object(N.N)(this.part,!1),void 0===t.reverseFlow&&void 0===t.velocity||Object(xi.d)(this.part),e.skipsUndoManager=n}}class ka{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;var i,a,o;i=this,a="_defaultData",o={angle:0,opacity:1,scale:1,visible:!0,isShadowed:!1,flip:"none",strokeDashArray:null,fontColor:"#000",isUnderline:!1,textOption:_.v,progressValue:0,progressColor:null},a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,this.target=t;const{cosmetic:r=!1,runCount:s=1,finished:l}=n;this.cosmetic=r,this.runCount=s,this.finished=l,this.startKeyframe=Object.assign({},this._defaultData,t._part.data),this.keyframes=this._setKeyframes(e),this.isAnimating=!1,this.sequence=null,this._repeats=0,this._tempAnimation=null,this._startTime=0,this._currentDuration=0,this.addEventListener()}_setKeyframes(t){return t=t.map(t=>{let{speed:e,duration:n=600,...i}=t;return e&&(n=1e3*e),{duration:n,option:i}})}_tick(t){t=t||document.timeline.currentTime,this._startTime||(this._startTime=t);const e=t-this._startTime;e&&e>this._currentDuration&&this._tempAnimation&&this._tempAnimation.stop(),this.isAnimating&&(this.raf=requestAnimationFrame(this._tick.bind(this)))}resetState(){const t=this.target._part,e=t.diagram,n=e.skipsUndoManager;e.skipsUndoManager=!0,t.data.image&&Object(g.t)(t,{image:this.startKeyframe.image,size:this.startKeyframe.size}),wa(t,this.startKeyframe.flip),Object.assign(t.data,this.startKeyframe),Object.keys(t.data).forEach(e=>{this.startKeyframe.hasOwnProperty(e)||delete t.data[e]}),t.updateTargetBindings(),e.skipsUndoManager=n;const i=p(t.data);this.target.update(i),t.data.hide&&!t.diagram.isReadOnly&&Object(N.N)(t),"route-pipe"===t.category&&Object(xi.d)(t)}play(){return this.isAnimating||(this.sequence=this._initSquence()),this.sequence}async _initSquence(){this.isAnimating=!0;const t=async()=>{this._repeats>0&&this.resetState();for(const t of this.keyframes){const{duration:e=600,option:n}=t;this._currentDuration+=e;const i=new Sa(this.target,n,e);if(this._tempAnimation=i,await i.finished,!this.isAnimating)return Promise.resolve()}return this._repeats++,this._repeats<this.runCount&&await t(),Promise.resolve()};return this._tick(),await t(),this.doCompletion(),Promise.resolve()}doCompletion(){this.isAnimating&&(this.isAnimating=!1,this._repeats=0,this._currentDuration=0,this._tempAnimation&&(this._tempAnimation.stop(),this._tempAnimation=null),this.cosmetic&&this.resetState(),"function"==typeof this.finished&&this.finished())}stop(){this.doCompletion()}addEventListener(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&(cancelAnimationFrame(this.raf),this.isAnimating&&(this.isAnimating=!1,this._tempAnimation&&this._tempAnimation.stop(),this._startTime=0,this._currentDuration=0,this.resetState(),requestAnimationFrame(this.play.bind(this))))})}}const Pa=a.e.GraphObject.make;var Ma=class{constructor(t,e,n){this.oldStroke="",this.element=t,this.isLightDot=e,this.lightDot=null,this.speedDot=.01,this.start=0,this.end=1,this.frac=0,this.brushWidth=.6,this.startWidth=0,this.requestAnimation=null,this.options=n,this.runCount=0,this.reverse=1,this.isAnimating=!0,this.init()}init(){this.initOptions(),this.isLightDot?this.initLightDot():this.oldStroke=this.getInitialStroke(),this.joinQueue()}initOptions(){isNaN(this.options.duration)||(this.speedDot=16/this.options.duration),this.reverse=this.options.reverseFlow?-1:1,this.options.reverseFlow&&(this.start=1,this.end=0,this.frac=this.start),this.oldStroke=this.getInitialStroke()}joinQueue(){this.isLightDot?this.updatelightDot():this.updateFlywire()}initLightDot(){this.lightDot?this.lightDot.visible=!0:this.insertLightDot()}insertLightDot(){const t=this.element._part.diagram,e=t.skipsUndoManager;t.skipsUndoManager=!0;const n=this.element._part,{lightDotColor:i,lightDotSize:a}=this.options,o={category:"lightDot",at:n.data.from,key:Object(yi.a)(),size:+a,color:i,next:n.data.to,linkKey:n.key,visible:!0};t.model.addNodeData(o),this.lightDot=t.findNodeForKey(o.key),t.skipsUndoManager=e}getInitialStroke(){const t=this.element._part.findObject("LINK_SHAPE");return t&&t.stroke}updateFlywire(){const t=this.element._part.diagram,e=t.skipsUndoManager;t.skipsUndoManager=!0;const n=this.element._part,i=n.findObject("LINK_SHAPE"),o=n.findObject("FROM_ARROW"),r=n.findObject("TO_ARROW");if(!i)return;if(this.options.reverseFlow?this.frac<this.end:this.frac>=this.end){if(this.runCount++,!(this.runCount<this.options.runCount))return void this.stop();this.frac=this.start,this.startWidth=this.speedDot}const s=this.frac+this.startWidth*this.reverse,l=n.path.geometry.getPointAlongPath(this.frac),c=n.path.geometry.getPointAlongPath(s),h=n.naturalBounds.height,d=n.naturalBounds.width;let u=l.x/d,f=l.y/h,p=c.x/d,g=c.y/h;isNaN(u)&&(u=this.start),isNaN(f)&&(f=this.start),isNaN(p)&&(p=this.start),isNaN(g)&&(g=this.start);const m={start:new a.e.Spot(u,f),end:new a.e.Spot(p,g)},{flywireColor:y}=this.options;let v,w,x;if(y){const t=JSON.parse(y),e=a.e.Spot.stringify(m.start),n=a.e.Spot.stringify(m.end);t.start=e,t.end=n,v=Object(Qi.a)({color:JSON.stringify(t)});const i=Object.keys(t.colorStops),o=Math.min(...i),r=Math.max(...i);w=t.colorStops[o],x=t.colorStops[r]}else v=Pa(a.e.Brush,"Linear",{0:"#154D98",.5:"#04EBFE",1:"#154D98",...m}),w=v.colorStops.get(0),x=v.colorStops.get(1);if(i.stroke=v,o.stroke=this.options.reverseFlow?x:w,r.stroke=this.options.reverseFlow?w:x,o.fill=o.stroke,r.fill=r.stroke,this.startWidth<=this.brushWidth)this.startWidth+=this.speedDot;else if(this.options.reverseFlow?this.frac<this.end:this.frac>=this.end){if(this.runCount++,!(this.runCount<this.options.runCount))return void this.stop();this.frac=this.start,this.startWidth=this.speedDot}else this.frac=this.frac+this.speedDot*this.reverse;t.skipsUndoManager=e;const b=this.updateFlywire.bind(this);this.requestAnimation=window.requestAnimationFrame(b)}updatelightDot(){const t=this.element._part.diagram,e=t.skipsUndoManager;t.skipsUndoManager=!0;const n=new a.e.Point,i=this.lightDot;if(i){const a=i.data;if(!a)return;const o=this.element._part;i.angle=o.midAngle-90,null!==o&&!1!==a.visible&&o.path.geometry&&(i.location=o.path.getDocumentPoint(o.path.geometry.getPointAlongPath(this.frac,n))),(this.options.reverseFlow?this.frac<this.end:this.frac>=this.end)?(this.runCount++,this.runCount<this.options.runCount?this.frac=this.start:this.stop()):this.frac=this.frac+this.speedDot*this.reverse,t.skipsUndoManager=e;const r=this.updatelightDot.bind(this);this.requestAnimation=window.requestAnimationFrame(r)}}removeLightDot(){const t=this.element._part.diagram,e=t.skipsUndoManager;t.skipsUndoManager=!0,t.remove(this.lightDot),this.lightDot=null,t.skipsUndoManager=e}stop(){if(window.cancelAnimationFrame(this.requestAnimation),this.isAnimating=!1,this.isLightDot)this.lightDot&&this.removeLightDot();else{const t=this.element._part,e=t.findObject("LINK_SHAPE"),n=t.findObject("FROM_ARROW"),i=t.findObject("TO_ARROW");e.stroke=this.oldStroke,n.stroke=this.oldStroke,n.fill=this.oldStroke,i.stroke=this.oldStroke,i.fill=this.oldStroke}}};function _a(t,e){return void 0===e&&(e=15),+parseFloat(Number(t).toPrecision(e))}function La(t){const e=t.toString().split(/[eE]/),n=(e[0].split(".")[1]||"").length-+(e[1]||0);return n>0?n:0}function Ta(t){if(-1===t.toString().indexOf("e"))return Number(t.toString().replace(".",""));const e=La(t);return e>0?_a(Number(t)*Math.pow(10,e)):Number(t)}function Oa(t){Na&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&console.warn(t+" is beyond boundary when transfer to integer, the results may not be accurate")}function Aa(t,e){const n=t[0],i=t[1],a=t.slice(2);let o=e(n,i);return a.forEach((function(t){o=e(o,t)})),o}function Ea(){const t=[];for(let e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length>2)return Aa(t,Ea);const e=t[0],n=t[1],i=Ta(e),a=Ta(n),o=La(e)+La(n),r=i*a;return Oa(r),r/Math.pow(10,o)}function Ca(){const t=[];for(let e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length>2)return Aa(t,Ca);const e=t[0],n=t[1],i=Ta(e),a=Ta(n);return Oa(i),Oa(a),Ea(i/a,_a(Math.pow(10,La(n)-La(e))))}let Na=!0;var Ba={strip:_a,plus:function t(){const e=[];for(let t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>2)return Aa(e,t);const n=e[0],i=e[1],a=Math.pow(10,Math.max(La(n),La(i)));return(Ea(n,a)+Ea(i,a))/a},minus:function t(){const e=[];for(let t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>2)return Aa(e,t);const n=e[0],i=e[1],a=Math.pow(10,Math.max(La(n),La(i)));return(Ea(n,a)-Ea(i,a))/a},times:Ea,divide:Ca,round:function(t,e){const n=Math.pow(10,e);let i=Ca(Math.round(Math.abs(Ea(t,n))),n);return t<0&&0!==i&&(i=Ea(i,-1)),i},digitLength:La,float2Fixed:Ta,enableBoundaryChecking:function(t){void 0===t&&(t=!0),Na=t}},ja=n(52);n(56);function Da(t){return new Promise((e,n)=>{Ki.queryList({id:t,type:2}).then(t=>{var n;const i=Wa((null===(n=t.data)||void 0===n?void 0:n.base)||[]);e(i)}).catch(t=>{n(t)})})}function Fa(t){let e=!1;try{Array.isArray(JSON.parse(t))&&(e=!0)}catch(t){e=!1}return e}function Ra(t,e,n){const i=na()(t);let a=na()(e);if("object"!=typeof a)return" ";if(a)for(;i.length;){const t=i.shift();if(Array.isArray(t))a=Array.isArray(a)?a.find(e=>t.some(t=>t.every(t=>{const{attrName:i,operator:a}=t;let o=t.refValue;lo(o)&&(o=co(o,n));const r=e[i];return Object(g.b)(a,r,o)})))||{}:" ";else if("Array[0]"!==t||a["Array[0]"])try{a=JSON.parse(a[t])}catch(e){a=a&&a[t]||" "}else a=" "}return a}const Ia="".concat("/topo-static/js/mqtt/","mqtt.min.js");var za=class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;this.url=t,this.topic=n,this.options=Object.assign({reconnectPeriod:3e4,connectTimeout:3e4},e),this.onSubscribes={},this.client=null,this.connected=!1,this.handleClose=!1,this.addSubscribe(n,i),this._createConnection()}async _createConnection(){if(!this.url)return;let t=window.mqtt;t||(await Object(g.m)(Ia),t=window.mqtt),this.client=t.connect(this.url,this.options),this.client.on("connect",t=>{this.connected=!0,this.subscribe(this.topic)}),this.client.on("message",(t,e)=>{const n=Object(g.p)(e.toString())?JSON.parse(e.toString()):e.toString();n&&this._handleMessage(t,n,"message")}),this.client.on("error",()=>{this.connected=!1;Object.keys(this.onSubscribes).forEach(t=>{this._handleMessage(t,"连接出错","error")})}),this.client.on("close",()=>{if(this.connected=!1,this.handleClose)return;Object.keys(this.onSubscribes).forEach(t=>{this._handleMessage(t,"连接关闭","error")})})}_handleMessage(t,e,n){const i={topic:t,message:e,type:n};"function"==typeof this.onSubscribes[t]&&this.onSubscribes[t](i)}subscribe(t){this.client&&this.client.subscribe(t)}close(){this.client&&this.client.end(),this.handleClose=!0,this.connected=!1}addSubscribe(t,e){this.onSubscribes[t]=e}};const Ha=[{label:"HTTP接口",value:"Dynamic",type:"twinDataSource"},{label:"模拟数据",value:"Simulated",type:"twinDataSource"},{label:"静态数据",value:"Static",type:"twinDataSource"},{label:"HTTP接口",value:"RestInterface",type:"baseDataSource"},{label:"MQTT",value:"MqttInterface",type:"baseDataSource"},{label:"HTTP接口",value:"DynamicRelationship",type:"relationshipSource"},{label:"静态数据",value:"StaticRelationship",type:"relationshipSource"}];function Va(t){const e=Ha.find(e=>t===e.value);return(null==e?void 0:e.label)||""}function Ga(t){return t?Array.isArray(t)?t:("string"==typeof t&&(t=JSON.parse(t)),Object.keys(t).map(e=>({key:e,value:t[e]}))):[]}function Ua(t,e){if(!t||null==e||!e.length)return;t._uDiagram.on("destroy",()=>{e.forEach(t=>{t.stop()})})}function Wa(t){return t&&t.length?t.map(t=>{let e,n,i={};switch(t.type){case 0:case 1:e="Dynamic",n=t.url;break;case 2:e="Static",n="-";break;case 3:e="Simulated",n="-";break;case 4:switch(t.connectionType){case 1:e="RestInterface";break;case 2:e="MqttInterface",i=Object(g.p)(t.paramsList)?JSON.parse(t.paramsList):t.paramsList}n=t.url;break;case 5:e="DynamicRelationship",n=t.url;break;case 6:e="StaticRelationship",n="-"}return{...t,_type:e,url:n,...i,typeName:Va(e)}}):[]}function qa(t,e,n,i){Ya(t).forEach(a=>{const o=a.data;if(Array.isArray(o.baseDataSourceAttrs)&&o.baseDataSourceAttrs.length){const r=[],s=so(t,[a]);o.baseDataSourceAttrs.forEach(o=>{const l=JSON.parse(o.key);l.shift()===n&&(i?i===a.key&&(o.value=Ra(l,e,s),fo(a.key,o.key,t.effectMap,r)):(o.value=Ra(l,e,s),fo(a.key,o.key,t.effectMap,r)))}),po(o,r)}})}function Ya(t){const e=[];return t.nodes.each(t=>{Array.isArray(t.data.baseDataSourceAttrs)&&t.data.baseDataSourceAttrs.length&&e.push(t)}),t.links.each(t=>{Array.isArray(t.data.baseDataSourceAttrs)&&t.data.baseDataSourceAttrs.length&&e.push(t)}),e}async function Xa(t,e,n,i){var a;return Ka(i?e||[]:await(a=t,a?new Promise((t,e)=>{Ki.queryList({id:a,type:1}).then(e=>{var n;const i=Wa((null===(n=e.data)||void 0===n?void 0:n.twins)||[]);t(i)}).catch(t=>{e(t)})}):Promise.resolve([])),i?n||[]:await Da(t))}function Ka(t,e){const n=t.filter(t=>t.status);return{dynamicRequests:n.filter(t=>{const e=t.type;return[0,1].includes(e)}),staticRequests:n.filter(t=>2===t.type),baseRequests:e}}async function Za(t){let{diagram:e,diagramId:n,polling:i=!1,isOffline:a=!1,json:o={},callback:r,existingData:s}=t;const{dataSourceList:l,staticTwinDataList:c,baseDataSourceList:h}=o,d=function(t){const e=new Map;return t.nodes.filter(t=>t.data&&t.data.uid).each(t=>{const n=e.get(t.data.uid)||[];n.push(t),e.set(t.data.uid,n)}),e}(e),u=[...d.keys()];if(i&&!function(t){const e=t.nodes.filter(t=>!(!t.data||!t.data.uid)),n=t.nodes.filter(t=>!!t._object.effectHandler.attributeEffects.find(t=>!("attribute"!==t.triggerCondition.triggerType||"dataSource"===t.triggerCondition.triggerSource||!t.triggerCondition.attribute)));return!(!e.count||!n.count)}(e))return async function(t,e,n,i,a,o){const r=a?i||[]:await Da(e);$a(t),Ja(t,r,n,o)}(e,n,i,h,a,r),!1;if(!i&&!u.length)return!1;let f={};f=s&&Object.keys(s).length?function(t,e){return Ka(t||[],e||[])}(s.dataSourceList,s.baseDataSourceList):await Xa(n,l,h,a),c&&(f.staticTwinDataList=c.filter(t=>u.includes(t.twinId))),function(t,e,n,i,a,o){const{dynamicRequests:r,staticRequests:s,staticTwinDataList:l,baseRequests:c}=t;(function(t,e,n,i,a,o,r){e.forEach(async e=>{await async function(t,e,n,i,a,o){const r={twinIds:n,dsId:e.id,queryType:3};try{const e=a?{data:a}:await Ki.queryStaticDS(r);return function(t,e,n,i){n.forEach(n=>{const{className:a,attrs:o,twinId:r}=n,s=Ga(o);(e.get(r)||[]).forEach(e=>{const n=Qa(e.data.attrs,s),o=[];t.model.setDataProperty(e.data,"className",a),t.model.setDataProperty(e.data,"attrs",n),i&&(e.data.attrs.forEach(n=>{fo(e.key,n.key,t.effectMap,o)}),po(e.data,o))})})}(t,i,e.data||[],o),Promise.resolve()}catch(t){}}(t,e,n,i,a,r)})})(e,s,i,n,l,0,a),function(t,e,n,i,a,o){const r=[];e.forEach(e=>{let{runLoop:s,times:l,...c}=e;l=a&&s&&l;const h=new ja.a(()=>async function(t,e,n,i,a){const{paramsList:o="",reqHeaderList:r=[]}=t,s={twinIds:e,ids:e.join(",")},l=await ho(t,o,r,s);return function(t,e,n,i){Array.isArray(n)&&n.forEach(n=>{const{className:a,attrs:o,twinId:r}=n,s=Ga(o);(e.get(r)||[]).forEach(e=>{const n=Qa(e.data.attrs,s),o=[];t.model.setDataProperty(e.data,"className",a),t.model.setDataProperty(e.data,"attrs",n),i&&(e.data.attrs.forEach(n=>{fo(e.key,n.key,t.effectMap,o)}),po(e.data,o))})})}(n,i,l.data||[],a),Promise.resolve()}(c,n,t,i,a),l,o);r.push(h)}),Ua(t,r)}(e,r,i,n,a,o),a&&$a(e),a&&Ja(e,c,a,o)}(f,e,d,u,i,r)}function $a(t){const e=t.nodes,n=t.links,i=[];if(e.each(t=>i.push(t)),n.each(t=>i.push(t)),!i.length)return!1;i.forEach(t=>{if(Array.isArray(t.data.animationConfig)&&t.data.animationConfig.length){const e=[];t.data.animationConfig.forEach(t=>{Array.isArray(t.triggerCondition.attribute)?t.triggerCondition.attribute.forEach(t=>{t.forEach(t=>{Fa(t.attrName)&&e.push({key:t.attrName,value:""})})}):t.triggerCondition.attribute&&Fa(t.triggerCondition.attribute)&&e.push({key:t.triggerCondition.attribute,value:""})}),e.length&&(t.data.baseDataSourceAttrs=e)}})}function Ja(t,e,n,i){const a=Ya(t);if(!a.length)return!1;const o=[],r=[];e.forEach(t=>{1===t.connectionType&&o.push(t),2===t.connectionType&&r.push(t)}),function(t,e,n,i,a){const o=[],r=[];n.forEach(n=>{e.find(t=>t.data.baseDataSourceAttrs.find(t=>JSON.parse(t.key)[0]===String(n.id)))&&(lo(n.paramsList)?e.forEach(e=>{if(e.data.baseDataSourceAttrs.find(t=>JSON.parse(t.key)[0]===String(n.id))){const i=Object(g.c)(n),a=so(t,[e]);co(n.paramsList,a),i.oldParamsList=i.paramsList,i.sourceCellKey=e.key,i.paramsList=co(i.paramsList,a),r.push(i)}}):r.push(n))}),r.forEach(n=>{let{runLoop:r,times:s,...l}=n;s=i&&r&&s;const c=new ja.a(()=>async function(t,e,n){const{reqHeaderList:i=[],oldParamsList:a}=t;let o=t.paramsList;t.sourceCellKey&&n.forEach(n=>{if(n.key===t.sourceCellKey){const t=so(e,[n]);o=co(a,t)}});const r=await ho(t,o,i);return qa(e,r,String(t.id),t.sourceCellKey),Promise.resolve()}(l,t,e),s,a);o.push(c)}),Ua(t,o)}(t,a,o,n,i),function(t,e,n,i,a){if(!i)return;const o=n.filter(t=>e.some(e=>e.data.baseDataSourceAttrs.some(e=>JSON.parse(e.key)[0]===String(t.id))));if(null==o||!o.length)return;const r={},s=new Map;for(const e in o){const n=o[e],i=Object(g.p)(n.paramsList)?JSON.parse(n.paramsList):{};Object.assign(n,i);const{url:l,clientId:c,topic:h,username:d,password:u,msgTemplate:f,id:p}=n;if(s.has(l)){const t=s.get(l);t.find(t=>t===p)||(t.push(p),s.set(l,t))}else s.set(l,[p]);const m=e=>{if("error"===e.type)return;const n=s.get(l);Array.isArray(n)&&n.length&&n.forEach(n=>{qa(t,e.message,String(n))}),"function"==typeof a&&a()};if(r[l]){r[l].subscribe(h),r[l].addSubscribe(h,m);const t={message:Object(g.p)(f)?JSON.parse(f):f};m(t);continue}const y=new za(l,{clientId:c,username:d,password:u,will:{topic:h,msgTemplate:f}},h,m);r[l]=y}}(t,a,r,n,i)}function Qa(t,e){const n={};return e=e||[],(t=t||[]).forEach(t=>{const{key:e}=t;n[e]=t}),e.forEach(t=>{const{key:e}=t;n[e]=t}),Object.values(n)}function to(t,e){const n=function(t){const e=ro(t),n=[];return e.forEach(t=>{if(Array.isArray(t.data.customProperties)&&t.data.customProperties.length){const e=t.data.customProperties.filter(t=>"dynamic"===(null==t?void 0:t.attributeCategorys));e.length&&"0"!==String(e[0].updateTime)&&n.push(t)}}),n}(t),i=[];if(!n.length)return!1;if(n.forEach(n=>{const a=n.data.customProperties.filter(t=>"dynamic"===(null==t?void 0:t.attributeCategorys));let o=0;const r=a[0].updateTime||3,s=()=>new Promise((i,a)=>{const r=[];n.data.customProperties.forEach(i=>{"dynamic"===(null==i?void 0:i.attributeCategorys)&&(i.value=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;const{attributeTypes:i,generateRules:a}=t;let o;switch(i){case"number":"random"===a?o=io(t.maxValue,t.minValue,t.numericalAccuracy):"assign"===a?o=no(t.specifyNumber,t.specifyNumberType||"default",n,e):"self"===a&&(o=oo(t.initialValue,t.selfMaxValue,t.stepSize,t.changePattern,t.cycle,e));break;case"boolean":"random"===a?o=ao():"assign"===a&&(o=no(t.specifyBoolean,t.specifyBooleanType||"default",n,e));break;case"string":"assign"===a&&(o=no(t.specifyString,t.specifyStringType||"default",n,e))}return void 0!==o&&o.toString()}(i,o),e||fo(n.key,i.key,t.effectMap,r))}),!e&&po(n.data,r),i()});if(e)s();else{const t=new ja.a(s,r,()=>{o++});i.push(t)}}),i.length){t._uDiagram.on("destroy",()=>{i.forEach(t=>{t.stop()})})}}function eo(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e=n<t.length?t[n]:t[n%t.length],e}function no(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o=t.replace(/\s/g,"").split(",");switch(e){case"order":n=eo(o,a);break;case"random":n=o[Math.round(io(o.length-1),0,1)];break;default:n=eo(o,i)}return n}function io(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=Number(t),a=Number(e),o=Number(n),r=(Math.random()*(i-a)+a).toFixed(o);return r}function ao(){return 1===Math.round(Math.random())?"true":"false"}function oo(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"selfIncreasing",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const r=Number(t),s=Number(e),l=Number(n),c=Math.floor(Math.abs(s-r)/l)+1;let h;h=o<=c-1?o:a?o%c:c-1;const d="selfIncreasing"===i?r+Ba.times(l,h):r-Ba.times(l,h);return d}function ro(t){const e=[];return t.nodes.count&&t.nodes.each(t=>e.push(t)),t.links.count&&t.links.each(t=>e.push(t)),e}function so(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=t&&t.getEditingSelection();let i=e.length?e:n&&n.filter(t=>t.data.tempAroundPart).toArray();n&&1===n.count&&(i=[n.first()]);let a=[];if(Array.isArray(i)&&i.length){const t=i.reduce((t,e)=>{var n,i;const{attrs:a=[],customProperties:o=[]}=null==e?void 0:e.data,r=[];return r.push({key:"孪生体ID",value:null==e||null===(n=e.data)||void 0===n?void 0:n.uid}),r.push({key:"名称",value:null==e||null===(i=e.data)||void 0===i?void 0:i.name}),t.concat([...r,...a,...o])},[]);a=[...new Set(t)]}return a}function lo(t){let e=!1;if(t){const n=/\${[^\\${}]*}/g,i=t.match(n);e=!(!Array.isArray(i)||!i.length)}return e}function co(t,e){let n=t,i=[];if(t){const a=/\${[^\\${}]*}/g,o=t.match(a);if(o){if(Array.isArray(e))i=na()(e);else for(const t in e)i.push({key:t,value:e[t]});o.forEach(t=>{const e=t;let a="",o=t.replace(/\${/g,"");o=o.substring(0,o.length-1),i.forEach(t=>{t.key===o&&(a=t.value)}),n=n.replace(e,"".concat(a))})}}return n}function ho(t,e,n,i){const{methods:a,url:o}=t;if(!o)return;const r=function(t,e){let n;try{n=JSON.parse(t),"object"!=typeof n||Array.isArray(n)||(n=Object(g.r)(e)&&!Object(g.n)(e)?Object(n,e):n)}catch{n="string"==typeof t?t||e:t}return n}(e,i),s=Object(g.a)(n,!0),l=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s);return m.a.raiseRequest(a,o,r,l)}function uo(t){const{customProperties:e=[],attrs:n=[],baseDataSourceAttrs:i=[]}=t,a=[...[{key:"孪生体ID",value:t.uid},{key:"名称",value:t.name}],...e,...n,...i].map(t=>[t.key,t.value]);return Object.fromEntries(a)}function fo(t,e,n,i){const a={partKey:t,attrName:e};if(n.has(JSON.stringify(a))){n.get(JSON.stringify(a)).forEach(t=>{const e=t.element.effectHandler.effectsConfig.find(e=>e.id===t.effectId);i.find(t=>t.effectConfig.id===e.id)||i.push({effectConfig:e,element:t.element})})}}function po(t,e){if(e.length){const n=uo(t);e.forEach(t=>{t.element.effectHandler.handleEffectByAttribute(n,t.effectConfig)})}}const go="autoplay",mo="event",yo="attribute",vo="otherEffect";class wo{constructor(t,e){this.element=t,this._part=t._part,this._graph=t._graph,this.effectsConfig=e||this._part.data.animationConfig,this.autoplayEffects=[],this.eventEffects=[],this.attributeEffects=[],this.otherEffects=[],this.effectsMap=new Map,this.animationMap=new Map,this.setupEffect()}setupEffect(){Array.isArray(this.effectsConfig)&&this.effectsConfig.length&&(this.effectsConfig.forEach(t=>{var e;switch((null===(e=t.triggerCondition)||void 0===e?void 0:e.triggerType)||"autoplay"){case go:this.autoplayEffects.push(t);break;case mo:this.eventEffects.push(t);break;case yo:this.attributeEffects.push(t);break;case vo:this.otherEffects.push(t)}}),this.otherEffects.forEach(t=>{this._bindLinkedEffect(t)}),setTimeout(()=>{this.autoplayEffects.forEach(t=>{const{general:e,effect:n,next:i}=t,a=Si(this._part,e,n);this.executeEffect(a,!1,i)}),this.eventEffects.forEach(t=>{const{general:e,effect:n,triggerCondition:i,next:a}=t,o=Si(this._part,e,n),{id:r="",eventType:s,eventTarget:l,toggle:c}=i;if("other"===l||""!==r){if(""!==r){let t=[];if(r.includes(",")){let e=r.split(",");e=[...new Set(e)],e.forEach(e=>{const n=this._graph.query("#".concat(e));t.push(...n.toArray())})}else{const e=this._graph.query("#".concat(r));t=e.toArray()}t.forEach(t=>{this._bindEventEffect(s,o,c,a,t,l)})}}else this._bindEventEffect(s,o,c,a)})}))}async executeEffect(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,{id:i,name:a,effectOptions:o,animOptions:r,status:s,startEffectOptions:l}=t;if(!h.d[this.element.type].includes(a))return;const c=this.effectsMap.get(a);if(i&&i===(null==c?void 0:c.id)){const t=this.animationMap.get(a);if(t&&t.isAnimating)return}this.effectsMap.set(a,t);let d=o;switch("end"===s&&(d=l),a){case"text":{const{textContent:t,forCell:e}=d;if("table"===this.element.category){const n=JSON.parse(JSON.stringify(this.element.rowCols)),i=e.split("_"),a=i[1],o=i[3];n[a].cols[o].label=t,this.element.update({rowCols:n})}else this.element.update({label:t});break}case"image":{let{image:t,size:e}=d;if(t){if(!e){e=(await Object(g.h)(t,this._part.data.size)).size}Object(g.t)(this._part,{image:t,size:e})}break}case"hide":{const t={...d};"end"===s&&(d.animationMethod||(t.animationMethod=o.animationMethod),t.hideType=!0===this._part.data.hide?"hide":"show"),this._animate(t,r,a);break}case"pause":"end"===s?this.stopEffect(a):this.element.pause();break;case"flip":{if("start"===s&&!o.flipTo){const t=o.flip,e=this.element.flip||"none";o.flipTo=va(e,t)}const t=d.flipTo;wa(this._part,t);break}case"flicker":"end"===s?this.stopEffect(a):this._animate(d,r,a);break;case"flow":e&&this._part.data.isFlowing&&"start"===s&&(s="end"),"end"===s?this.stopEffect(a):this._animate(d,r,a);break;case"move":{const{pointX:t,pointY:e}=d,n=[t,e];this._animate({position:n},r,a);break}case"rotate":case"scale":case"size":case"color":this._animate(d,r,a);break;case"water":{const{waterVolume:t}=d;if(isNaN(t))throw new Error("The type of property waterVolume must be Number");this._animate({waterVolume:t},r,a);break}case"progress":this._animate(d,r,a);break;case"state":{this._initialState||(this._initialState=this._part.data.parameter1);const{state:t}=d,{diagram:e,data:n}=this._part;e.model.setDataProperty(n,"parameter1",t);break}case"switchState":{this._initialSwitchState||(this._initialSwitchState=String(this._part.data.switchState));const{switchState:t}=d,{diagram:e,data:n}=this._part;e.model.setDataProperty(n,"switchState","true"===t);break}case"badge":{this._initialBadge||(this._initialBadge=this._part.data.badge);const{badge:t}=d,{diagram:e,data:n}=this._part;e.model.set(n,"badge",t),Object(N.g)(e,[n]);break}case"flywire":case"lightDot":"start"===s?this._animate(d,r,a):"end"===s&&this.stopEffect(a);break;case"custom":"end"===s?this.stopEffect(a):this._animate(d,r,a)}return e&&(t.status="start"===s?"end":"start"),n&&Array.isArray(n)&&n.forEach(t=>{const{element:e,config:n,delay:i=0}=t,{general:a,effect:o,next:r}=n;setTimeout(()=>{const t=Si(e._part,a,o);e.effectHandler&&e.effectHandler.executeEffect(t,!1,r)},1e3*i)}),Promise.resolve()}_animate(t,e,n){this._stopAnimate(n);const i={...t,...e};let a;switch(n){case"flicker":this.element.flicker(i),a=this.element.flickerAnimation;break;case"flow":this.element.flow(i),a=this.element.flowAnimation;break;case"progress":this.element.progress(i),a=this.element.progressAnimation;break;case"hide":this.element._toggleShow(i),a=this.element.toggleAnimation;break;case"rotate":{const{angle:n,rotateCenterPoint:i}=t;i&&(this._part.rotateCenterPoint=i),a=this.element.animate({angle:n},e);break}case"flywire":case"lightDot":a=new Ma(this.element,"lightDot"===n,Object.assign({},t,e));break;case"custom":a=new ka(this.element,t.keyframes,e),a.play();break;default:a=this.element.animate(t,e)}this.animationMap.set(n,a)}_stopAnimate(t){const e=this.animationMap.get(t);return e&&(e.stop(),this.animationMap.delete(t)),e}stopEffect(t,e){const n=this.effectsMap.get(t);if(n){if(e&&n.id!==e)return;this._doStopEffect(t,n),this.effectsMap.delete(t)}}_doStopEffect(t,e){switch(t){case"pause":this.element.play();break;case"flip":wa(this._part,this.element.flip||"none");break;case"flicker":this.element.stopFlicker();break;case"flow":this._part.data.isFlowing&&Object(xi.e)(this._part),this.element.stopFlow();break;case"progress":this.element.stopProgress();break;case"state":{const{diagram:t,data:e}=this._part;t.model.setDataProperty(e,"parameter1",this._initialState);break}case"switchState":{const{diagram:t,data:e}=this._part;t.model.setDataProperty(e,"switchState","true"===this._initialSwitchState)}break;case"badge":{const{diagram:t,data:e}=this._part;t.model.set(e,"badge",this._initialBadge),Object(N.g)(t,[e]);break}case"hide":{const{effectOptions:t,animOptions:n}=e;t.hideType=!0===this._part.data.hide?"hide":"show";const i={...t,...n};this.element._toggleShow(i);break}case"rotate":case"move":case"scale":case"size":case"color":case"water":case"flywire":case"lightDot":this._stopAnimate(t);break;case"custom":{const e=this._stopAnimate(t);e&&e.resetState()}}}getStartEffectOptions(t){const e={};switch(t){case"text":{const t=this._part;"table"===t.data.category?e.textContent=na()(t.data.rowCols):e.textContent=this.element.label;break}case"image":e.image=this.element.image,e.size=this._part.data.size;break;case"flip":e.flipTo=this.element.flip||"none";break;case"rotate":e.angle=this.element.angle;break;case"move":e.pointX=this.element.position[0],e.pointY=this.element.position[1];break;case"scale":e.scale=this.element.scale;break;case"size":e.width=this.element.width,e.height=this.element.height;break;case"color":e.fill=this.element.style.fill,e.stroke=this.element.style.stroke,e.fontColor=this.element.style.fontColor;break;case"water":e.waterVolume=this._part.data.waterVolume;break;case"progress":e.progressValue=0;break;case"state":this._initialState||(this._initialState=this._part.data.parameter1),e.state=this._initialState;break;case"switchState":this._initialSwitchState||(this._initialSwitchState=String(this._part.data.switchState)),e.switchState=this._initialSwitchState;break;case"badge":e.badge=this._part.data.badge}return e}_bindLinkedEffect(t){const{effectId:e,delay:n}=t.triggerCondition;if(!e)return;const i=[...this._graph.nodes,...this._graph.links];for(const a of i){const i=(a._part.data.animationConfig||[]).find(t=>t.id.toString()===e);if(i){const e=i.next||[];e.push({element:this.element,config:t,delay:n}),i.next=e;break}}}_bindEventEffect(t,e,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.element;if(n){const t=this.getStartEffectOptions(e.name);e.startEffectOptions=t}a.on(t,()=>{this.executeEffect(e,n,i)})}handleEffectByAttribute(t,e){const{id:n,general:i,effect:a,triggerCondition:o}=e,{attribute:r,directFromAttr:s,formatAttrFn:l}=o;if("string"==typeof r&&s){const o=l&&Object(g.v)(l),s=t[r],c="function"==typeof o&&s?o(Object(g.w)(s)):s;if(void 0===c)return;switch(i.effectType){case"text":a.textContent=c;break;case"water":a.waterVolume=Math.min(Math.max(c,0),100);break;case"progress":a.progressValue=Math.min(Math.max(c,0),100)}const h=Si(this._part,i,a);h.id=n,setTimeout(()=>{this.executeEffect(h,!1,e.next)})}else if(Array.isArray(r)&&r.length){const o=r.some(e=>e.every(e=>{const{attrName:n,operator:i}=e;let a=e.refValue;lo(a)&&(a=co(a,t));const o=t[n];return Object(g.b)(i,o,a)})),s=Si(this._part,i,a);s.id=n,o?setTimeout(()=>{this.executeEffect(s,!1,e.next)}):this.stopEffect(s.name,n)}}}function xo(t){const e=[...t.nodes,...t.links],n=new Map;e.forEach(e=>{e.effectHandler=new wo(e),function(t,e,n){if(Array.isArray(e.effectHandler.effectsConfig)){let i=e.key,a=e;e.effectHandler.effectsConfig.forEach(o=>{const{triggerCondition:r,id:s}=o,{attribute:l,triggerType:c,triggerSource:h,sourceId:d}=r;if("other"===h&&d){const e=t.query("#".concat(d))[0];if(!e)return!1;i=e.key,a=e}if("attribute"===c){const t={element:e,effectId:s};if("string"==typeof l){const e={partKey:i,attrName:l};bo(n,JSON.stringify(e),t)}else Array.isArray(l)&&l.length&&l.forEach(e=>{e.forEach(e=>{if(e.attrName){const a={partKey:i,attrName:e.attrName};bo(n,JSON.stringify(a),t)}})});const r=uo(a._part.data);e.effectHandler.handleEffectByAttribute(r,o)}})}}(t,e,n)}),t.diagram.effectMap=n,function(t,e,n,i){Za({diagram:t,diagramId:e,polling:!0,isOffline:i,json:n}),setTimeout(()=>{to(t)},3e3)}(t.diagram,t.diagramId,t.diagramJson,t.isOffline)}function bo(t,e,n){t.has(e)?t.get(e).push(n):t.set(e,[n])}function So(t){const e=[s.a.Click,s.a.DBLClick,s.a.MouseEnter,s.a.MouseLeave];t.handleInteractEvent=Po.bind(t),e.forEach(e=>{t.on(e,t.handleInteractEvent)}),t.diagram.addDiagramListener("ViewportBoundsChanged",ko),Object(le.b)(t.diagram,t.diagram.scale)}function ko(t){const e=t.diagram;Object(le.b)(e,e.scale)}function Po(t){if(!t||!t.object)return;const e=t.object._part.data.eventConfig||[];if(!e.length&&!t.object.relationInfo)return;const n=t.type,i=na()(e.filter(t=>t.event?t.event===n:t.eventAction===n));if("click"===n&&t.object.relationInfo){const e=function(t){if(!t)return;const{type:e,value:n,isNewWindowOpen:i,page:a}=t,o={event:"click",openMethod:i?"_blank":"_self"};switch(e){case"page":Object.assign(o,{action:"relatedPage",linkPage:n});break;case"document":Object.assign(o,{action:"relatedView",viewLink:n,viewPage:a});break;case"web":Object.assign(o,{action:"openUrl",linkUrl:n})}return o}(t.object.relationInfo);i.unshift(e)}i.length&&i.forEach(e=>{switch(e.action||e.eventType){case"openUrl":{const{linkUrl:t}=e;if(!t)return;const n=/^(http:\/\/|https:\/\/)/.test(t)?t:"http://".concat(t);window.open(n,"_blank")}break;case"relatedPage":{const t=e.linkPage;if(window.location.href.includes("/thingtopo/"))this.trigger("switchpage",t);else{const e=t.split("-")[1];this.switchPage(e)}}break;case"relatedView":{if(!e.viewPage)return;const t=Object(g.k)(e),{openMethod:n}=e;t&&(window.open(t,n),"_self"===n&&window.location.reload())}break;case"sendMessage":{const{messageParams:t,windowTarget:n,iframeId:i}=e;let a=t;if(!a)return;try{a=JSON.parse(t)}catch{}if("children"===n){const t=document.getElementById(i);t&&t.contentWindow.postMessage(a,"*")}else window.parent.postMessage(a,"*")}break;case"sendRequest":{const{method:n,requestUrl:i,requestParams:a,requestHeaders:o}=e,r=so(null,[t.object._part]),s={methods:n,url:i};let l=a;if(lo(a)&&(l=so(null,[t.object._part])(a,r)),i){ho(s,l,Object(g.p)(o)?JSON.parse(o):{})}break}case"openModal":{let{modalUrl:n}=e;const i=so(null,[t.object._part]);lo(n)&&(n=co(n,i));const a={...e,modalUrl:n};this.trigger("openModal",a);break}}})}var Mo=n(132),_o=n.n(Mo);function Lo(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o=Object(G.a)(t,e,0);if(!o)return;if(Number.isNaN(o.x)||Number.isNaN(o.y)||Number.isNaN(o.width)||Number.isNaN(o.width))return;const r=n.canvasWidth,s=n.canvasHeight,l=o.x>0?Math.ceil(o.x/r)-1:Math.floor(o.x/r),c=o.y>0?Math.ceil(o.y/s)-1:Math.floor(o.y/s),h=l*r,d=c*s;let u=1;const f=h+r,p=o.x+o.width;f<=p&&(u+=Math.ceil(Math.abs((p-f)/r)));const g=n.isAutoExpandCanvas?u*r:r;let m=1;const y=d+s,v=o.y+o.height;y<=v&&(m+=Math.ceil(Math.abs((v-y)/s)));for(let t=0;t<m;t++)for(let e=0;e<u;e++)i.push(new a.e.Rect(e*r,t*s,r,s));const w=n.isAutoExpandCanvas?m*s:s;return{canvasX:h,canvasY:d,canvasWidth:g,canvaHeight:w,width:r,height:s,absWidthNum:u,absHeightNum:m}}class To{constructor(t){let{diagram:e,pageOptions:n,diagramId:i}=t;var a,o,r;r=t=>{const e=["Initial Layout","Layout","Preview","RenameDiagram"];_o()(t=>{var n,i,a,o;["normal","coop-readOnly"].includes(null===(n=window.diagram)||void 0===n?void 0:n.mode)&&(e.includes(null===(i=t.object)||void 0===i?void 0:i.name)||"timer"===(null==t||null===(a=t.object)||void 0===a?void 0:a.category)&&"label"===t.propertyName||(this.canvasLayer=this.diagram.parts.filter(t=>"LAYER"===t.name).first(),null!==(o=this.pageOptions)&&void 0!==o&&o.isAutoExpandCanvas&&this.canvasLayer&&setTimeout(()=>{this.updateDiagram(t)},20)))},100)(t)},(o="modelChangedHandle")in(a=this)?Object.defineProperty(a,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[o]=r,this.name="ExpandCanvas",this.diagram=e,this.diagramId=i,this.isExpandCanvas=!1,this.pageOptions=n,this.canvasRect="",this.currentDiagramBounds=null,this.addNodeDataStatus=!1,this.filterProertyNames=["tempAroundPart","group"],this.init()}init(){this.pageSetting=this.pageOptions,this.canvasLayer=this.diagram.parts.filter(t=>"LAYER"===t.name).first()}updateDiagram(t){if("Resizing"!==this.diagram.currentTool.name&&"Linking"!==this.diagram.currentTool.name&&"Relinking"!==this.diagram.currentTool.name&&!this.diagram.noExpandCanvas&&this.isExpandCanvas&&t.propertyName){if(this.filterProertyNames.includes(t.propertyName))return;this.diagram.pageSetting&&(this.pageSetting=this.diagram.pageSetting.pageOptions);const e=this.diagram.parts.filter(t=>"LAYER"===t.name).first(),n=e?e.actualBounds:null;this.currentDiagramBounds=n?{x:n.x,y:n.y,width:n.width,height:n.height}:null,this.computeUpdateDiagram()}}computeUpdateDiagram(){const t=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0;const e=[],n=[];if(this.diagram.nodes.count&&this.diagram.nodes.each(t=>{t.visible&&"around-group"!==t.data.category&&e.push(t)}),this.diagram.links.count&&this.diagram.links.each(t=>{n.push(t)}),this.addNodeDataStatus)return void(this.diagram.skipsUndoManager=t);const i=[];if(e.length||n.length){var o,r;const{canvasX:t,canvasY:s,canvasWidth:l,canvaHeight:c,width:h,height:d,absWidthNum:u,absHeightNum:f}=Lo(e,n,this.pageSetting,i);this.updateLayerData({x:t,y:s,width:l,height:c}),(null===(o=window)||void 0===o||null===(r=o.diagram)||void 0===r?void 0:r.__gohashid)===this.diagram.__gohashid&&(this.pageSetting.canvasWidth>=100&&this.pageSetting.canvasHeight>=100&&v.a.$emit("".concat(this.diagram.__gohashid,"/part/rect"),i),!this.diagram.isReadOnly&&v.a.$emit("part/rect/change",{size:new a.e.Size(h,d),point:new a.e.Point(t,s),column:this.pageSetting.isAutoExpandCanvas?u:1,row:this.pageSetting.isAutoExpandCanvas?f:1,visible:!0}))}else this.updateLayerData({x:this.pageSetting.canvasX,y:this.pageSetting.canvasY,width:this.pageSetting.canvasWidth,height:this.pageSetting.canvasHeight}),!this.diagram.isReadOnly&&v.a.$emit("part/rect/change",{size:new a.e.Size(this.pageSetting.canvasWidth,this.pageSetting.canvasHeight),point:new a.e.Point(this.pageSetting.canvasX,this.pageSetting.canvasY),column:1,row:1,visible:!0}),v.a.$emit("".concat(this.diagram.__gohashid,"part/rect/empty")),v.a.$emit("".concat(this.diagram.__gohashid,"/part/rect"),[]);JSON.stringify(i)!==this.canvasRect&&(this.canvasRect=JSON.stringify(i)),this.diagram.skipsUndoManager=t}updateLayerData(t){let{width:e,height:n,x:i,y:o}=t;this.canvasLayer||(this.canvasLayer=this.diagram.parts.filter(t=>"LAYER"===t.name).first()),this.canvasLayer&&(this.canvasLayer.width=e,this.canvasLayer.height=n,this.canvasLayer.position=new a.e.Point(i,o),this.optimizeGrid(this.canvasLayer,new a.e.Point(i,o)));const r={x:i,y:o,width:e,height:n};Object(g.y)(this.currentDiagramBounds,r)&&(setTimeout(()=>{const t=this.isTemp?{isThumbnail:!0}:null,e=mi.getters.watermarkMap;Object(ta.a)(this.diagram,t,this.diagramId,e)},100),Object(N.y)(this.diagram,"UpdateLayerData",{width:e,height:n}))}optimizeGrid(t,e){const n=t.findObject("GRID"),i=n.gridCellSize,o=-e.x%i.width,r=-e.y%i.height;isNaN(o)||isNaN(r)||(n.gridOrigin=new a.e.Point(o,r))}addEvent(){"viewMode"!==this.diagram.mode&&(this.diagram.addModelChangedListener(this.modelChangedHandle),v.a.$off("setAddnodeStatus",this.setAddnodeStatus.bind(this)),v.a.$on("setAddnodeStatus",this.setAddnodeStatus.bind(this)))}removeEvent(t){const e=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0;const n=this.diagram.parts.filter(t=>"LAYER"===t.name).first();n.desiredSize=new a.e.Size(this.pageOptions.canvasWidth,this.pageOptions.canvasHeight),n.position=new a.e.Point(0,0),this.diagram.parts.each(t=>{t&&t.name&&~t.name.indexOf("Handle")&&this.diagram.remove(t)}),this.diagram.skipsUndoManager=e,this.diagram.removeModelChangedListener(this.modelChangedHandle),v.a.$emit("part/rect/change",{size:new a.e.Size(this.pageOptions.canvasWidth,this.pageOptions.canvasHeight),point:new a.e.Point(0,0),column:1,row:1,visible:!0})}setExpandCanvas(t){this.isExpandCanvas=t;const e=this.diagram.parts.filter(t=>"CANVASTOOL"===t.name).first();if(t){if(e){const t=this.diagram.pageSetting;e.elt(0).visible=t?t.pageOptions.canvasMarginVisible:this.pageOptions.canvasMarginVisible}}else v.a.$emit("".concat(this.diagram.__gohashid,"/part/rect"),[]),e&&(e.elt(0).visible=!1)}setAddnodeStatus(t){this.addNodeDataStatus=t;const e=this.diagram.nodes.count,n=this.diagram.parts.count,i=this.diagram.links.count;t&&e+n+i>1?(v.a.$off("computeInLayer"),v.a.$on("computeInLayer",this.computeInLayer.bind(this))):v.a.$off("computeInLayer")}computeInLayer(t){if(this.canvasLayer=this.diagram.parts.filter(t=>"LAYER"===t.name).first(),!this.canvasLayer)return;new a.e.Rect(this.canvasLayer.position.x,this.canvasLayer.position.y,this.canvasLayer.width,this.canvasLayer.height).containsRect(t)?(this.addNodeDataStatus=!1,v.a.$off("computeInLayer")):this.addNodeDataStatus=!0}}var Oo=n(133);const Ao=a.e.GraphObject.make;var Eo=function(t,e){const n=Ao(a.e.Panel,"Grid",{name:"GRID",stretch:a.e.GraphObject.Fill,gridCellSize:new a.e.Size(20,20),gridOrigin:new a.e.Point(0,0)},Ao(a.e.Shape,"LineH",{stroke:"#efefef",strokeWidth:.5}),Ao(a.e.Shape,"LineV",{stroke:"#efefef",strokeWidth:.5}),Ao(a.e.Shape,"LineH",{stroke:"#e0e0e0",strokeWidth:.5,interval:4}),Ao(a.e.Shape,"LineV",{stroke:"#e0e0e0",strokeWidth:.5,interval:4})),i=Ao(a.e.Part,{name:"LAYER",desiredSize:e,layerName:"Background",position:new a.e.Point(0,0),selectable:!1,pickable:!1,isShadowed:!0,shadowOffset:new a.e.Point(0,0),shadowBlur:7,shadowColor:"rgba(0, 0, 0, 0.25)",background:"#ffffff",zOrder:0},Ao(a.e.Picture,{name:"BACKGROUNDIMAGE",imageStretch:a.e.GraphObject.None,sourceCrossOrigin:()=>"anonymous"}),n);return{on(e){var a;n.elements.each(e=>{e.strokeWidth=.5/t.scale});const o=Object(ki.d)(null==t||null===(a=t.pageSetting)||void 0===a?void 0:a.pageOptions),r=t.parts.filter(t=>"LAYER"===t.name).first(),s=Object(Qi.a)({color:e,width:i.actualBounds.width,height:i.actualBounds.height});return i.background=s,!r&&t.add(i),t.div.style.background="#F2F3F5",t.isInfiniteCanvas=!1,null!=o&&o.imageUrl&&Object(ki.e)(null==o?void 0:o.imageUrl,null==o?void 0:o.stretch).then(e=>{var n,i;const a={source:null==o?void 0:o.imageUrl,stretch:null==o?void 0:o.stretch};var r,s,l,c;(e&&(a.source=e.url,a.stretch=e.stretch),null!=t&&null!==(n=t.pageSetting)&&void 0!==n&&null!==(i=n.pageOptions)&&void 0!==i&&i.isAutoExpandCanvas)||(a.width=null==t||null===(r=t.pageSetting)||void 0===r||null===(s=r.pageOptions)||void 0===s?void 0:s.canvasWidth,a.height=null==t||null===(l=t.pageSetting)||void 0===l||null===(c=l.pageOptions)||void 0===c?void 0:c.canvasHeight);Object(N.y)(t,"InfiniteCanvasOn",a)}),v.a.$emit("editor/settings/infiniteCanvas/toggle",{isInfiniteCanvas:!1,diagram:t}),this},off(e){t.isInfiniteCanvas=!0;const n=t.parts.filter(t=>"LAYER"===t.name).first();let i=!1;var a,o;n&&("Solid"!==(null===(a=n.background)||void 0===a||null===(o=a.type)||void 0===o?void 0:o.name)&&(i=!0));if(n&&t.remove(n),t.parts.each(e=>{~e.name.indexOf("Handle")&&t.remove(e)}),i&&!t.isReadOnly)t.div.style.background="#fff",t.grid.background="#fff";else{const n=Object(Qi.a)({color:e,width:t.documentBounds.width,height:t.documentBounds.height});t.div.style.background="transpartent",t.grid.background=n}return v.a.$emit("editor/settings/infiniteCanvas/toggle",{isInfiniteCanvas:!0,diagram:t}),Object(N.y)(t,"InfiniteCanvasOff"),this}}},Co=n(55),No=n.n(Co);const Bo=a.e.GraphObject.make;class jo{constructor(t){let{diagram:e,pageOptions:n}=t;this.diagram=e,this.pageOptions=n,this.layerCanvasTool=null,this.mainLayer=null,this.marginNum=n.canvasMargin,this.init()}init(){this.addLayerForTool()}addLayerForTool(){const t=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0;const e=Bo(a.e.Panel,"Spot",{name:"CANVASTOOL"},Bo(a.e.Shape,{name:"CTSHAPER",fill:null,stroke:"#7FCCFF",strokeWidth:2}));this.layerCanvasTool=e;this.getMainPart();this.diagram.skipsUndoManager=t}setLayerBackground(t){const e=No.a.equals(t,"#ffffff");this.layerCanvasTool.background=e?null:t}getMainPart(){return this.mainLayer||(this.mainLayer=this.diagram.parts.filter(t=>"LAYER"===t.name).first()),this.mainLayer}}var Do=function(t){const e=["Initial Layout","Layout","Preview","RenameDiagram","UpdateDiagramFormSocket","sync open jumpOver","sync close jumpOver","handleLayer"];function n(t){if(t.isTransactionFinished&&t.object&&!e.includes(t.object.name)){const e=function(t,e){var n,i;const a=t.insertedNodeKeys||[],o=t.modifiedNodeData||[],r=[],s=[],l=o.filter(t=>"around-group"===t.category&&!t.aroundLock).map(t=>t.key);o.forEach(t=>{("around-group"!==t.category||"around-group"===t.category&&t.aroundLock)&&(l.includes(t.tempGroup)&&(delete t.tempGroup,t.tempAroundPart=!1),a.includes(t.key)?r.push({type:"InsertNode",data:t}):s.push({type:"UpdateNode",data:t}))});const c=t.insertedLinkKeys||[],h=t.modifiedLinkData||[],d=[],u=[];h.forEach(t=>{c.includes(t.key)?d.push({type:"InsertLink",data:t}):u.push({type:"UpdateLink",data:t})});const f=(null===(n=t.removedNodeKeys)||void 0===n?void 0:n.map(t=>({type:"DeleteNode",data:{key:t}})))||[],p=(null===(i=t.removedLinkKeys)||void 0===i?void 0:i.map(t=>({type:"DeleteLink",data:{key:t}})))||[];return[...r,...s,...d,...u,...f,...p]}(JSON.parse(t.model.toIncrementalJson(t)));let n;e&&(n={data:e,type:"modelChanged"}),v.a.$emit("editor/diagram/saving"),v.a.$emit("editor/diagram/save",n)}}return{on(){return t.addModelChangedListener(n),this},off(){return t.removeModelChangedListener(n),this}}};const Fo={isAutoSave:"toggleASave",isInfiniteCanvas:"toggleICanvas",isSplitLine:"toggleAutoSplitLine",isAutoExpandCanvas:"toggleAutoExpandCanvas",canvasWidth:"changeSize",canvasHeight:"changeSize",canvasMargin:"changeCanvasMargin",isStandardCanvasSize:"changeCustomCanvas",canvasMarginVisible:"changeCanvasMarginVisible",canvasIsHorizontal:"changeDirection",canvasBackgroundColor:"changeBackgroundColor",canvasBackgroundImage:"changeBackgroundImageNew",gridWidth:"setGridSize",gridVisible:"showGrid",gridSnap:"snapToGrid",linkJumpOver:"toggleLinkJumpOver",layer:"initLayer"};var Ro=class{constructor(t,e,n,i,a,o){this.diagram=t,this.id=e,this.diagramId=o,this.sheetSetting=n,this.diagramSetting=i,this.iCanvasObj=null,this.expandCanvasObj=null,this.aSaveObj=null,this.partLayer=null,this.initState=!1,this.isTemp=a,this.busEventNames=[],this.pageOptions=this.sheetSetting.reduce((t,e)=>(t[e.key]=e.value,t),{}),this.configOptions=Kn.reduce((t,e)=>(t[e.key]=e.value,t),{}),this.pageOptions=t.model.modelData.pageOptions||Object.assign({},this.configOptions,this.pageOptions),this.settingState=Kn.reduce((t,e)=>(t[e.key]=!0,t),{}),this.init()}init(){this.initState=!0,!this.pageOptions.canvasWidth&&(this.pageOptions.canvasWidth=this.configOptions.canvasWidth),!this.pageOptions.canvasHeight&&(this.pageOptions.canvasHeight=this.configOptions.canvasHeight),this.baseCanvasSizeList=["".concat(this.pageOptions.canvasWidth," ").concat(this.pageOptions.canvasHeight)],this.baseCanvasSizeIndex=0;const t=this.diagram._uDiagram.container,e="string"==typeof t&&t.startsWith("history_")?"".concat(this.diagram.__gohashid,"/diagram/grid/toggle"):"diagram/grid/toggle";v.a.$on(e,t=>{this.toggleGrid(t)}),this.busEventNames.push(e),v.a.$on("".concat(this.diagram.__gohashid,"/diagram/update/pageSetting"),t=>{this.getDiagramSetting(t)}),this.busEventNames.push("".concat(this.diagram.__gohashid,"/diagram/update/pageSetting"));const n=this.diagram.isReadOnly?"".concat(this.diagram.__gohashid,"/diagram/grid/toggleSnap"):"diagram/grid/toggleSnap";v.a.$on(n,t=>{this.toggleSnapToGrid(t)}),this.busEventNames.push(n),this.iCanvasObj=Eo(this.diagram,new a.e.Size(this.pageOptions.canvasWidth,this.pageOptions.canvasHeight)),this.aSaveObj=Do(this.diagram),this.expandCanvasObj=new To({diagram:this.diagram,pageOptions:this.pageOptions,diagramId:this.diagramId}),this.canvasToolLayerObj=new jo({diagram:this.diagram,pageOptions:this.pageOptions}),this.sheetSetting.forEach(t=>{"canvasHeight"===t.key?this[Fo[t.key]]&&this[Fo[t.key]](!1,t.value):this[Fo[t.key]]&&this[Fo[t.key]](t.value)}),this.initState=!1}changeGuideData(t,e){this.pageOptions.guideData=t,this.settingUpdate(e)}toggleGuide(t,e){this.diagram.parts.each(e=>{"GUIDE"===e.name&&(e.visible=t)}),this.pageOptions.guideVisible=t,this.settingState.guideVisible?this.settingState.guideVisible=!1:this.settingUpdate(e)}toggleSnapToGuide(t,e){this.pageOptions.isGuideSnapEnabled=t,this.settingState.isGuideSnapEnabled?this.settingState.isGuideSnapEnabled=!1:this.settingUpdate(e)}handleClearGuides(t){const e=this.diagram.parts.filter(t=>"GUIDE"===t.name);this.diagram.removeParts(e),this.pageOptions.guideData=[],this.settingUpdate(t)}toggleGrid(t){const e=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0;const n=this.getPart();this.pageOptions.isInfiniteCanvas?(this.diagram.grid.visible=!0,this.diagram.grid.elements.each(e=>{e.stroke=t&&"viewMode"!==this.diagram.mode?"#e0e0e0":"transparent"})):n&&(this.diagram.grid.visible=!1,"viewMode"===this.diagram.mode?n.findObject("GRID").visible=!1:n.findObject("GRID").visible=t),this.diagram.skipsUndoManager=e}toggleSnapToGrid(t){this.diagram.toolManager.draggingTool.isGridSnapEnabled=t,this.diagram.toolManager.resizingTool.isGridSnapEnabled=t,this.diagram.toolManager.linkingTool.isGridSnapEnabled=t,this.diagram.toolManager.relinkingTool.isGridSnapEnabled=t}toggleICanvas(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const i=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,this.isTemp?(t=!1,this.iCanvasObj.on(this.pageOptions.canvasBackgroundColor)):(this.iCanvasObj[t?"off":"on"](this.pageOptions.canvasBackgroundColor),this.pageOptions.isInfiniteCanvas=t),this.expandCanvasObj.setExpandCanvas(!t),this.toggleGrid(this.diagramSetting.gridVisible,!1),!this.settingState.isInfiniteCanvas&&e?(this.pageOptions.isAutoExpandCanvas&&this.expandCanvasObj.computeUpdateDiagram(),this.settingUpdate({isInfiniteCanvas:t},n)):this.settingState.isInfiniteCanvas=!1,this.toggleAutoSplitLine(this.pageOptions.isSplitLine,n),this.toggleAutoExpandCanvas(this.pageOptions.isAutoExpandCanvas,n),this.diagram.skipsUndoManager=i}toggleASave(t,e){this.aSaveObj[t?"on":"off"](),this.pageOptions.isAutoSave=t,this.settingState.isAutoSave?this.settingState.isAutoSave=!1:this.settingUpdate({isAutoSave:t},e)}toggleAutoExpandCanvas(t,e){this.pageOptions.isAutoExpandCanvas=t;const n=this.diagram.parts.filter(t=>"LAYER"===t.name).first();if(n){const i=n.findObject("SPLITLINE"),a=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,i&&(i.findObject("SPLITLINE").visible=t&&this.pageOptions.isSplitLine),this.diagram.skipsUndoManager=a,this.expandCanvasObj.removeEvent(t),t&&(this.expandCanvasObj.computeUpdateDiagram(),this.expandCanvasObj.addEvent()),Object(N.y)(this.diagram,"toggleAutoExpandCanvas"),this.settingUpdate({isAutoExpandCanvas:t},e)}}toggleLinkJumpOver(t,e){this.pageOptions.linkJumpOver=t,this.settingUpdate({linkJumpOver:t},e)}toggleAutoSplitLine(t,e){this.pageOptions.isSplitLine=t;const n=this.diagram.parts.filter(t=>"LAYER"===t.name).first();if(n){const i=n.findObject("SPLITLINE"),a=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,i&&(i.findObject("SPLITLINE").visible=t&&this.pageOptions.isAutoExpandCanvas),this.diagram.skipsUndoManager=a,t&&this.pageOptions.isAutoExpandCanvas&&this.expandCanvasObj.computeUpdateDiagram(),this.settingUpdate({isSplitLine:t},e)}}initLayer(t,e){Object(N.x)(this.diagram,t,e)}changeSize(t,e,n){let i=!1,o=!1;t||(i=!0,t=this.pageOptions.canvasWidth),e||(o=!0,e=this.pageOptions.canvasHeight);const r=new a.e.Size(t,e),s=this.getPart();if(s&&(s.desiredSize=r,Object(N.y)(this.diagram,"ChangeSize",{width:t,height:e})),this.pageOptions&&!this.pageOptions.isInfiniteCanvas&&!this.pageOptions.isAutoExpandCanvas){const n=this.diagram.parts.filter(t=>"LAYER"===t.name).first();this.diagram.parts.each(i=>{if(i&&i.name&&~i.name.indexOf("Handle"))switch(i.name){case"topRightHandle":this.diagram.model.setDataProperty(i.data,"loc","".concat(n.position.x+t," ").concat(n.position.y));break;case"bottomLeftHandle":this.diagram.model.setDataProperty(i.data,"loc","".concat(n.position.x," ").concat(n.position.y+e));break;case"bottomRightHandle":this.diagram.model.setDataProperty(i.data,"loc","".concat(n.position.x+t," ").concat(n.position.y+e))}this.diagram.model.setDataProperty(i.data,"textX","".concat(t," px")),this.diagram.model.setDataProperty(i.data,"textY","".concat(e," px")),this.diagram.model.setDataProperty(i.data,"scale",1/this.diagram.scale)}),!this.diagram.isReadOnly&&v.a.$emit("part/rect/change",{size:new a.e.Size(r.width,r.height),point:this.diagram.parts.filter(t=>"LAYER"===t.name).first().position,column:1,row:1,visible:!0})}if(this.pageOptions.canvasWidth=r.width,this.pageOptions.canvasHeight=r.height,this.pageOptions.canvasIsHorizontal=r.width>r.height,this.partLayer){const t=this.partLayer.findObject("SPLITLINE");!t||this.diagram.nodes.count||this.diagram.links.count||this.partLayer.remove(t)}this.settingState.canvasWidth||this.settingState.canvasHeight?(i&&(this.settingState.canvasWidth=!1),o&&(this.settingState.canvasHeight=!1)):(this.baseCanvasSizeList.push("".concat(this.pageOptions.canvasWidth," ").concat(this.pageOptions.canvasHeight)),this.baseCanvasSizeIndex++,this.settingUpdate({canvasWidth:r.width,canvasHeight:r.height},n)),!this.settingState.isInfiniteCanvas&&this.pageOptions.isAutoExpandCanvas&&this.expandCanvasObj.computeUpdateDiagram()}changeCustomCanvas(t,e){this.pageOptions.isStandardCanvasSize=t,this.settingState.isStandardCanvasSize?this.settingState.isStandardCanvasSize=!1:this.settingUpdate({isStandardCanvasSize:t},e)}changeCanvasMargin(t,e){this.pageOptions.canvasMargin=t,this.settingState.canvasMargin?this.settingState.canvasMargin=!1:this.settingUpdate({canvasMargin:t},e)}changeCanvasMarginVisible(t,e){this.pageOptions.canvasMarginVisible=t,this.settingState.canvasMarginVisible?this.settingState.canvasMarginVisible=!1:this.settingUpdate({canvasMarginVisible:t},e)}changeDirection(t){let e=arguments.length>2?arguments[2]:void 0;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||t===this.pageOptions.canvasIsHorizontal||this.changeSize(this.pageOptions.canvasHeight,this.pageOptions.canvasWidth,e),this.pageOptions.canvasIsHorizontal=t,this.settingState.canvasIsHorizontal?this.settingState.canvasIsHorizontal=!1:this.settingUpdate({canvasIsHorizontal:t},e),Object(N.y)(this.diagram,"changeDirection")}setGridSize(t,e){const n=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,this.diagram.grid.gridCellSize=new a.e.Size(t,t),this.diagram.parts.each(t=>{if("LAYER"===t.name){const e=t.findObject("GRID"),n=this.diagram.grid.gridCellSize.copy();this.diagram.scale<.16?e.gridCellSize=new a.e.Size(3*n.width,3*n.height):this.diagram.scale<.2?e.gridCellSize=new a.e.Size(2*n.width,2*n.height):e.gridCellSize=new a.e.Size(n.width,n.height)}}),this.diagram.skipsUndoManager=n,this.pageOptions.gridWidth=t,this.settingState.gridWidth?this.settingState.gridWidth=!1:this.settingUpdate({gridWidth:t},e)}changeBackgroundColor(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i="";try{var a;i=null===(a=JSON.parse(t))||void 0===a?void 0:a.type}catch(t){i=""}if("Image"===i)this.changeBackgroundImage(t,e,n);else{const i=this.getPart();let a,o;this.pageOptions.isInfiniteCanvas?(a=this.diagram.documentBounds.width,o=this.diagram.documentBounds.height):(a=i.actualBounds.width,o=i.actualBounds.height);const r=Object(Qi.a)({color:t,width:a,height:o}),s=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,this.pageOptions.isInfiniteCanvas?(this.diagram.grid.background=r,this.diagram.div.style.background="transpartent",this.diagramSetting.gridVisible||(this.diagram.grid.visible=!0,this.diagram.grid.elements.each(t=>{t.stroke="transparent"}))):i&&(i.background=r),e&&(this.pageOptions.canvasBackgroundColor=t,this.settingState.canvasBackgroundColor?this.settingState.canvasBackgroundColor=!1:this.settingUpdate({canvasBackgroundColor:t},n)),this.diagram.skipsUndoManager=s}Object(ki.f)(this.diagram)}changeBackgroundImage(t){var e,n;let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;const o=null===(e=JSON.parse(t))||void 0===e?void 0:e.color,r=null===(n=JSON.parse(t))||void 0===n?void 0:n.stretch,s=this.getPart(),l=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,s&&!this.pageOptions.isInfiniteCanvas&&Object(ki.h)(this.diagram,{source:o,stretch:r},s),i&&(this.pageOptions.canvasBackgroundColor=t,this.settingState.canvasBackgroundColor?this.settingState.canvasBackgroundColor=!1:this.settingUpdate({canvasBackgroundColor:t},a)),this.diagram.skipsUndoManager=l}changeBackgroundImageNew(t){var e,n;let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0,o=null;try{o=JSON.parse(t)}catch{}if(!o)return this.settingState.canvasBackgroundImage&&(this.settingState.canvasBackgroundImage=!1),!1;const r=null===(e=o)||void 0===e?void 0:e.url,s=null===(n=o)||void 0===n?void 0:n.stretch,l=this.getPart(),c=this.diagram.skipsUndoManager;this.diagram.skipsUndoManager=!0,l&&!this.pageOptions.isInfiniteCanvas&&(r?Object(ki.h)(this.diagram,{source:r,stretch:s},l):Object(ki.c)(l)),i&&(this.pageOptions.canvasBackgroundImage=t,this.settingState.canvasBackgroundImage?this.settingState.canvasBackgroundImage=!1:this.settingUpdate({canvasBackgroundImage:t},a)),this.diagram.skipsUndoManager=c}changeLayerData(t,e){this.pageOptions.layer=t,this.diagram.model.modelData.pageOptions?this.diagram.model.modelData.pageOptions.layer=t:this.diagram.model.modelData.pageOptions={layer:t},this.settingUpdate(e)}getPart(){return this.partLayer||(this.partLayer=this.diagram.parts.filter(t=>"LAYER"===t.name).first()),this.partLayer}settingUpdate(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&this.diagram){if(!this.id||this.id.indexOf("history_")>-1||this.id.indexOf("preview_")>-1)return;const t=[];if(Object.keys(this.pageOptions).forEach(e=>{t.push({key:e,value:this.pageOptions[e]})}),this.settingConfig=t,this.id.includes("print-temp")||mi.commit("editor/sheetSetting/updateItem",{id:this.id,settingConfig:this.settingConfig}),this.diagram.isReadOnly)return;if(this.initState)return;let n;if({...this.diagram.model.modelData}.pageOptions=this.pageOptions,e){const t=na()(this.pageOptions);Array.isArray(this.pageOptions.layer)&&this.pageOptions.layer.length&&t.layer.forEach(t=>{t.selected=!1}),n={type:"pageSetting",data:{pageOptions:t,sheetId:this.id}}}v.a.$emit("editor/diagram/saving"),setTimeout(()=>{v.a.$emit("editor/diagram/save",n,1)},4)}}updatePageOptions(t){Object.assign(this.pageOptions,t)}getDiagramSetting(t){let{change:e,isRedo:n}=t;const i=this.pageOptions.isInfiniteCanvas;if(!["background","parts","desiredSize","visible"].includes(e.propertyName))return;const o=this.diagram.parts.filter(t=>"LAYER"===t.name).first(),r={};switch(e.propertyName){case"background":r.canvasBackgroundColor=n?e.newValue:e.oldValue,this.changeBackgroundColor(r.canvasBackgroundColor,!1);break;case"parts":"Background"!==e.object.name||"Remove"!==e.change.name&&"Insert"!==e.change.name||(r.isInfiniteCanvas=!o,this.toggleICanvas(!o,!1));break;case"desiredSize":if(!i&&!r.isInfiniteCanvas){n?this.baseCanvasSizeIndex<this.baseCanvasSizeList.length-1&&this.baseCanvasSizeIndex++:this.baseCanvasSizeIndex&&this.baseCanvasSizeIndex--;const{width:t,height:e}=a.e.Size.parse(this.baseCanvasSizeList[this.baseCanvasSizeIndex]);r.canvasWidth=t,r.canvasHeight=e,r.canvasIsHorizontal=t>e}break;case"visible":if(!i&&o){const t=o.findObject("GRID").visible;r.gridVisible=t,this.toggleGrid(t,!1)}else{const t=this.diagram.grid.visible;this.toggleGrid(t,!1)}}this.pageOptions=Object.assign({},this.pageOptions,r),this.settingUpdate(!1)}removeBusEvents(){this.busEventNames.forEach(t=>{v.a.$off(t)}),this.busEventNames=[]}};const Io=["LAYER","WATERMARKLAYER"];class zo extends o.a{constructor(t){let{container:e,url:n,nodeStateStyles:i={},linkStateStyles:a={},isOffline:o=!1,padding:r=0}=t;super({container:e}),this.nodeStateStyles=Object(g.q)(i)?i:{},this.linkStateStyles=Object(g.q)(a)?a:{},this.diagramJson={},this.diagramId="",this.sheetId="",this.isOffline=o,this._initGraph(r),n&&this.loadUrl(n)}_initGraph(t){this.diagram.animationManager.isEnabled=!0,this.diagram.animationManager.isInitial=!1,this.diagram.mode||(this.diagram.hasVerticalScrollbar=!1,this.diagram.hasHorizontalScrollbar=!1,this.diagram.padding=t,this.diagram.scrollMargin=new a.e.Margin(1200,1800)),this.diagram.isOffline=!1,this._event=new s.b(this),this.selection=new c(this);var e;["normal","share","inset","viewMode"].includes(this.diagram.mode)||(this._initWindowEvent(),(e=this).on("load",()=>{xo(e)}),e.on("switchpage",()=>{xo(e)}),So(this))}_handlePagesetting(){const t=this.diagram,e=this.sheetId,n=t.sheetSetting,i=t.diagramSetting;t.pageSetting=new Ro(t,e,n,i,!1,this.diagramId),t.pageSetting.toggleGrid(!1),t.div.style.background="transparent"}_initWindowEvent(t){t=t||this,window.addEventListener("message",e=>this._handleMessageData(e,t))}_sendMessage(t,e){window.parent.postMessage({type:t,object:e},"*")}_resetBehavior(){var t;const{zoomInOut:e,panning:n,bgFollow:i}=this.diagram.diagramSetting,{isInfiniteCanvas:o}=this.diagram.pageOptions,r=this.diagram.toolManager;r.mouseWheelBehavior=e?a.e.ToolManager.WheelZoom:a.e.ToolManager.WheelNone,r.clickSelectingTool.doMouseUp=function(){this.standardMouseClick(),this.stopTool()},this.diagram.animationManager.canStart=t=>!1;const s=r.panningTool,l=s.canStart;s.canStart=function(){return n&&l.call(this)};const c=s.doMouseMove;s.doMouseMove=function(){c.call(this),Io.forEach(t=>{const a=this.diagram.parts.filter(e=>e.name===t).first();if(a){if(n&&(!i||o)){const{_viewPosition:t}=a;a.position=this.diagram.transformViewToDoc(t)}!e||i&&!o||(a._viewPosition=this.diagram.transformDocToView(a.position))}})},r.dragSelectingTool.canStart=()=>!1,r.contextMenuTool.canStart=()=>!1;const h=this.diagram.commandHandler;h.selectAll=()=>!1,h.doKeyDown=()=>!1;const d=h.increaseZoom;h.increaseZoom=function(){d.call(this),Io.forEach(t=>{const a=this.diagram.parts.filter(e=>e.name===t).first();if(a){if(e&&(!i||o)){const{_viewPosition:t,_scale:e}=a;a.position=this.diagram.transformViewToDoc(t),a.scale=e/this.diagram.scale}!n||i&&!o||(a._viewPosition=this.diagram.transformDocToView(a.position))}})};const u=h.decreaseZoom;h.decreaseZoom=function(){u.call(this),Io.forEach(t=>{const a=this.diagram.parts.filter(e=>e.name===t).first();if(a){if(e&&(!i||o)){const{_viewPosition:t,_scale:e}=a;a.position=this.diagram.transformViewToDoc(t),a.scale=e/this.diagram.scale}!n||i&&!o||(a._viewPosition=this.diagram.transformDocToView(a.position))}})},null!==(t=this.diagram)&&void 0!==t&&t.div&&this.diagram.div.addEventListener("wheel",t=>{t.preventDefault()},{passive:!1})}loadUrl(t){const{baseUrl:e,value:n}=Object(g.u)(t,"page");let i=e,a="GET";if(this.isOffline||(this.diagramId=e.split("/diagrams/")[1],i="/topo-api/explore/getDiagramByExploreKey".concat(ei.f),a="POST"),this.sheetId=n,!this.isOffline&&!this.diagramId)throw new Error("Unknown url parameter");sa()({method:a,url:i,data:this.diagramId,headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(t=>{try{var e,n;let i,a=this.isOffline;"string"==typeof t.data?(i=JSON.parse(this._decrypt(t.data)),a=!0):null!==(e=t.data)&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.diagram?(i=t.data.data.diagram,a=!1):(i=t.data,a=!0);const o=aa(i);this.isOffline=a,this.diagramJson=o||{},this._load(o,this.sheetId,"Load"),this.diagram.isOffline=a}catch(t){throw this.trigger(s.a.Load),new Error("The diagram data is incorrect")}}).catch(t=>{this.trigger(s.a.Load,"",t)})}switchPage(t){if(!t)throw new Error("Unknown pageId parameter");if(t===this.sheetId)return;const e=this.diagram;if(e.pageSetting){e.pageSetting.removeBusEvents(),e.pageSetting=null;const t=e.parts.filter(t=>"LAYER"===t.name).first();t&&Object(ki.c)(t)}this.observer&&(this.observer.disconnect(),this.observer=null),this.trigger("clear",this),this.sheetId=t,this._load(this.diagramJson,t,"SwitchPage")}async _offlineLoad(t){var e;const n=await sa.a.get("".concat(t,"/bundle.json"));if(null!==(e=n.data)&&void 0!==e&&e.main){const{data:e}=await sa.a.get("".concat(t,"/").concat(n.data.main));try{const t=aa(e);this.diagramJson=t,this.sheetId=n.data.page||"",this.isOffline=!0,this.diagram.isOffline=!0,this._load(t,this.sheetId,"Load")}catch(t){throw new Error("The diagram data is incorrect")}}return{config:n.data}}_decrypt(t){const e=ma.enc.Utf8.parse("dG9wb0J1aWxkZXJAMjAyMQ=="),n=ma.AES.decrypt(t,e,{mode:ma.mode.ECB,padding:ma.pad.Pkcs7});return ma.enc.Utf8.stringify(n).toString()}_load(t,e){var n,i;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Load";const o=e&&"undefined"!==e?"diagram-".concat(e):t.sheetList[0].sheetId;Object(g.n)(this.diagramJson)&&(this.diagramJson=t);const r=t.modelList.find(t=>t.sheetId===o)||t.modelList[0];this.sheetId||(this.sheetId=r.sheetId.split("-")[1]);const l=(null===(n=r.modelData)||void 0===n?void 0:n.pageOptions)||$n;l&&(this.diagram.pageOptions=l,this.diagram.sheetSetting=function(t){if(!t)return[];const e=[];return Kn.forEach(n=>{e.push({key:n.key,value:null===t[n.key]||void 0===t[n.key]?n.value:t[n.key]})}),e}(l));const c=t.diagramSetting?JSON.parse(t.diagramSetting):{...Jn};c&&(this.diagram.diagramSetting=c);const h=null===(i=r.modelData)||void 0===i?void 0:i.watermarkInfo;if(h&&(this.diagram.waterMarkInfo=h),this._handlePagesetting(),this._resetBehavior(),this._read(r),"SwitchPage"===a||"Load"===a){this.handleCallback();const t=this.diagram.div;this.observer=new Oo.a(this.handleCallback.bind(this)),this.observer.observe(t),this.resizeHandler=this.handleCallback.bind(this),window.addEventListener("resize",this.resizeHandler)}this.trigger(s.a[a],e),this._sendMessage(a.toLowerCase())}_initObjects(){this.diagram.nodes.each(t=>{const e=p(t.data),n=Object(N.A)(t)?new Wo(e):Object(N.D)(t)?new qo(e):new Go(e);n._graph=this,n._part=t,t._object=n}),this.diagram.links.each(t=>{const e=p(t.data),n=new Uo(e);n._graph=this,n._part=t,t._object=n})}_read(t){super.openDiagram(t,!0),this._initObjects(),!this.isOffline&&this._addSystemWatermark(this.diagram)}_handleMessageData(t,e){const n="string"==typeof t.data?Object(g.v)(t.data):t.data;if(!n)return;if(!n.type&&!Array.isArray(n)&&!n.length)return;(Array.isArray(n)?n:[n]).forEach(n=>{var i,a;const{type:o,object:r}=n;let s;if(null!=r&&r.id)s=e.query("#".concat(r.id));else if(null!=r&&r.name)s=e.query(r.name);else if(null!=r&&r.customprop){const t=r.customprop.key||"",n=r.customprop.value||"";s=e.query("[userData/".concat(t,"=").concat(n,"]"))}const l=s&&s[0];switch(o){case"switchpage":window.location.href.includes("/thingtopo/")?this.trigger("switchpage","diagram-".concat(r.sheetId)):(null==r?void 0:r.sheetId)&&this.switchPage(r.sheetId);break;case"select":case"deselect":s&&s.forEach(t=>{"function"==typeof e.selection[o]&&e.selection[o](t)});break;case"clearselection":e.selection.clear();break;case"zoomTo":e.zoomTo(r.scale,r.position);break;case"transformPosition":{const n=e.transformPosToViewport(r.position);t.source.postMessage({type:o,pos:n},"*")}break;case"style":case"attr":s&&s.forEach(t=>{const e="style"===o?{style:{...r}}:{...r};t.update(e)});break;case"flicker":s&&s.forEach(t=>{t.flicker({color:r.color||"red",blur:r.blur||20,duration:r.duration||600})});break;case"flow":s&&s.forEach(t=>{t.flow({color:r.color||"red",width:r.width||4,duration:r.duration||600})});break;case"progress":s&&s.forEach(t=>{const{duration:e=600,progressColor:n="#ff7d00",progressDirection:i="top",runCount:a=1/0,finished:o,easing:s,progressValue:l=0,cosmetic:c=!1,id:h}=r;t.progress({duration:e,progressColor:n,progressDirection:i,runCount:a,finished:"string"==typeof o?Object(g.v)(o):o,easing:s,progressValue:l,cosmetic:c,id:h})});break;case"animate":(null===(i=r.options)||void 0===i?void 0:i.finished)&&(r.options.finished=Object(g.v)(null===(a=r.options)||void 0===a?void 0:a.finished)),s&&s.forEach(t=>{t.animate(r.props,r.options)});break;case"stopflicker":s&&s.forEach(t=>t.stopFlicker());break;case"setIcon":s&&s.forEach(t=>t.setIcon(r.iconType,r.options));break;case"getRelationships":if(l&&"function"==typeof l.getRelationships){const e=l.getRelationships(r.params).map(t=>t.id),n={...r,result:e};t.source.postMessage({type:o,data:n},"*")}break;default:s&&s.forEach(t=>{"function"==typeof t[o]&&t[o]()})}})}_addSystemWatermark(t){t&&t.addSystemWatermark()}get nodes(){const t=[];return this.diagram.nodes.each(e=>{e._object&&t.push(e._object)}),t}get links(){const t=[];return this.diagram.links.each(e=>{t.push(e._object)}),t}add(t){t._graph=this;const e=d(t.getConfig());if(t instanceof Go){this.diagram.model.addNodeData(e);const n=this.diagram.findNodeForData(e);t._part=n,n._object=t}else{if(!(t instanceof Uo))throw new Error("Unknown object type");{this.diagram.model.addLinkData(e);const n=this.diagram.findLinkForData(e);t._part=n,n._object=t}}}addCollection(t){if(!Array.isArray(t))return;const e=t.map(t=>d(t.getConfig())),n=this.diagram.addNodeDataCollection(e);return t.forEach((t,e)=>{const i=n.get(e);t._part=i,i._object=t}),n}remove(t){t.remove()}query(t){return new r(this).select(t)}zoomTo(t,e){const n=this.diagram;if(null==t&&(t=n.scale),"number"!=typeof t)throw new Error("Invalid arguments");if(e&&!Array.isArray(e))throw new Error("Invalid arguments");if(t<n.minScale||t>n.maxScale)return;const i=new a.e.Animation;if(i.add(n,"scale",n.scale,t),e){const t=new a.e.Point(e[0],e[1]),o=n.position.copy();t.equals(o)&&o.offset(.1,.1),i.add(n,"position",o,t)}i.start()}transformPosToViewport(t){if(!Array.isArray(t)||"number"!=typeof t[0]||"number"!=typeof t[1])throw new Error("Invalid arguments");const e=this.diagram,n=e.go,i=e.transformDocToView(new n.Point(t[0],t[1]));return[i.x,i.y]}destroy(){const t=this.diagram;t.clear(),t.pageSetting&&(t.pageSetting.removeBusEvents(),t.pageSetting=null),this.observer&&(this.observer.disconnect(),this.observer=null),this.resizeHandler&&window.removeEventListener("resize",this.resizeHandler),t.div=null,this._events={},this._event=null,this.selection=null,this.container=null}resetZoom(){this.handleCallback()}handleCallback(){const t=this.diagram;this.diagram.requestUpdate();const e=t.pageOptions||$n;if(!e)return;const{isInfiniteCanvas:n,isAutoExpandCanvas:i,canvasBackgroundColor:o,canvasBackgroundImage:r}=e;let s={};if(n)this.nobg||(t.div.style.background=o),t.zoomToCenter();else{let n,l,c,h;if(i){const i=[],a=[];if(t.nodes.count&&t.nodes.each(t=>{t.visible&&"around-group"!==t.data.category&&i.push(t)}),t.links.count&&t.links.each(t=>{a.push(t)}),i.length||a.length){const{canvasX:t,canvasY:o,canvasWidth:r,canvaHeight:s}=Lo(i,a,e);n=t,l=o,c=r,h=s}else{const{canvasWidth:t,canvasHeight:i}=e;n=0,l=0,c=t,h=i}}else{const{canvasWidth:t,canvasHeight:i}=e;n=0,l=0,c=t,h=i}s=new a.e.Rect(n,l,c,h);const d=t.parts.filter(t=>"LAYER"===t.name).first();d&&(d.scale=1,d.desiredSize=new a.e.Size(s.width,s.height),d.position=new a.e.Point(s.x,s.y),d.isShadowed=!1,this.nobg||(t.pageSetting.changeBackgroundColor(o),t.pageSetting.changeBackgroundImageNew(r)));const u=t.div.offsetWidth,f=t.div.offsetHeight,p=Math.min(u/s.width,f/s.height);t.scale=Number(p.toFixed(3)),t.centerRect(new a.e.Rect(s.x,s.y,s.width,s.height)),t.nodes.each(t=>{t.updateAdornments()})}t.updateLinkPoints(),t.chartManager.chartsMap.forEach(t=>{t.resize&&"function"==typeof t.resize&&t.resize()});const l=this.diagram.waterMarkInfo;if(l){const e=Object.assign({runPage:!0,bounds:s},t.pageOptions);Object(ta.a)(t,e,null,l)}Io.forEach(e=>{const n=t.parts.filter(t=>t.name===e).first();n&&(n._viewPosition=t.transformDocToView(n.position),n._scale=t.scale)})}clearBackground(){this.nobg=!0;const t=this.diagram;t.grid.background="transparent",t.div.style.background="transparent",t.pageSetting.changeBackgroundColor("rgba(0, 0, 0, 0)")}}a.e.AnimationManager.defineAnimationEffect("shadowBlur",(t,e,n,i,a,o)=>{const r=i(a,e,n-e,o);t.shadowBlur=r}),a.e.AnimationManager.defineAnimationEffect("shadowOffset",(t,e,n,i,o,r)=>{t.shadowOffset=new a.e.Point(i(o,e.x,n.x-e.x,r),i(o,e.y,n.y-e.y,r))}),a.e.AnimationManager.defineAnimationEffect("waterVolume",(t,e,n,i,a,o)=>{const r=i(a,e,n-e,o),s=t.findObject("WaveShape"),l=t.data.height;t.findObject("CisternShape")?s.height=Math.max(l-12,0)*r*.01:s.height=l*r*.01,0===r&&(s.height=0)}),a.e.AnimationManager.defineAnimationEffect("partWidth",(t,e,n,i,o,r)=>{if(!(t instanceof a.e.Part))return;const s=i(o,e,n-e,r);Object(N.l)(t,"width",s)}),a.e.AnimationManager.defineAnimationEffect("partHeight",(t,e,n,i,o,r)=>{if(!(t instanceof a.e.Part))return;const s=i(o,e,n-e,r);Object(N.l)(t,"height",s)}),a.e.AnimationManager.defineAnimationEffect("partLocation",(t,e,n,i,o,r)=>{if(!(t instanceof a.e.Part))return;const s=t.location.copy();t.location=new a.e.Point(i(o,e.x,n.x-e.x,r),i(o,e.y,n.y-e.y,r)),Object(N.B)(t)&&(t.memberParts.each(e=>{if(e instanceof a.e.Node){const n=e.location.copy().copy().subtract(s);e.location=t.location.copy().add(n)}}),t.diagram.links.each(e=>{if(e.data.group===t.data.key){const n=e.location.copy().copy().subtract(s),i=t.location.copy().add(n);e.moveTo(i.x,i.y,!0)}}))}),a.e.AnimationManager.defineAnimationEffect("partAngle",(t,e,n,i,o,r)=>{if(!(t instanceof a.e.Part))return;const s=i(o,e,n-e,r);Object(N.j)(t,s)}),a.e.AnimationManager.defineAnimationEffect("partScale",(t,e,n,i,o,r)=>{if(!(t instanceof a.e.Part))return;const s=i(o,e,n-e,r);Object(N.k)(t,s)}),a.e.Animation.prototype.addGroupAnimation=function(t,e,n,i,o){if(!Object(N.B)(t))return;const r=t.memberParts,s=t.diagram.links.filter(e=>e.data.group===t.data.key),l=(new a.e.Set).addAll(r).addAll(s);switch(e){case"fill":r.each(t=>{if(t instanceof a.e.Node){const a=t.findObject("SHAPE");a&&this.add(a,e,n,i,o)}});break;case"stroke":case"strokeWidth":{const t="strokeWidth"===e?.5*n:n,r="strokeWidth"===e?.5*i:i;l.each(s=>{if(s instanceof a.e.Link&&""===s.category){const a=s.findObject("LINK_SHAPE"),l=s.findObject("TO_ARROW"),c=s.findObject("FROM_ARROW");a&&this.add(a,e,n,i,o),l&&this.add(a,e,t,r,o),c&&this.add(a,e,t,r,o)}else{const t=s.findObject("SHAPE");t&&this.add(t,e,n,i,o)}});break}case"location":this.add(t,"partLocation",n,i,o);break;case"width":this.add(t,"partWidth",n,i,o);break;case"height":this.add(t,"partHeight",n,i,o);break;case"scale":this.add(t,"partScale",n,i,o);break;case"angle":this.add(t,"partAngle",n,i,o);break;default:l.each(t=>{this.add(t,e,n,i,o)})}},a.e.AnimationManager.defineAnimationEffect("switchState",(function(t,e,n,i,o,r,s){t instanceof a.e.Shape&&(t.alignment=new a.e.Spot(i(o,e.x,n.x-e.x,r),i(o,e.y,n.y-e.y,r),i(o,e.offsetX,n.offsetX-e.offsetX,r),i(o,e.offsetY,n.offsetY-e.offsetY,r)))}));var Ho=n(76);class Vo extends Ho.a{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._graph=null,this._part=null,this._states=new Set,this.animation=null,this._initCfg(t)}_initCfg(t){t=na()(t),this._cfg={...h.h,...this instanceof Go?h.j:h.i,...t},this._cfg.style={...h.k,...t.style},Object.keys(this._cfg).forEach(t=>{Object.defineProperty(this,t,{get(){return this._cfg[t]},set(e){Object(g.r)(this._cfg[t])?this._cfg[t]=Object.assign(this._cfg[t],e):this._cfg[t]=e}})}),Object(g.s)(this._cfg,t=>{this._update(t)})}get key(){return this._part.key}getConfig(){return this._cfg}update(t){Object(g.r)(t)&&(Object.keys(t).forEach(e=>{Object(g.r)(this._cfg[e])&&(this._cfg[e]=Object.assign(this._cfg[e],t[e]),delete t[e])}),Object.assign(this._cfg,t))}_update(t){if(!this._checkShouldUpdate(t))return;const e=this._part,n=this._computeStateStyles(),i=p(e.data);switch(h.l.includes(t)?i.style[t]=this._cfg.style[t]:i[t]=this._cfg[t],t){case"width":case"height":Object(N.l)(e,t,this[t]),this.position=f(e.data);break;case"image":this instanceof Go&&(Object(vi.a)(e.data.image)&&Object(vi.b)(e),Object.assign(e.data,d(i,n)),e.updateTargetBindings(),Object(vi.a)(this._cfg.image)&&Object(vi.c)(e));break;case"visible":Object.assign(e.data,d(i,n)),e.updateTargetBindings(),e.dom&&(e.dom.visible=this._part.data.visible);break;default:Object.assign(e.data,d(i,n)),e.updateTargetBindings()}}_checkShouldUpdate(t){const e=this._part.data,n=d(this._cfg),i=function(t,e){let n=t;switch(t){case"id":n="uid";break;case"position":n="loc";break;case"width":case"height":e&&"image"===e.category&&e.size&&(n="size");break;case"source":n="from";break;case"target":n="to"}return n}(t,e);return n[i]!==e[i]}remove(){if(!this._part.diagram)throw new Error("This element is no longer on graph");this._part.diagram.removeParts([this._part])}show(){this._cfg.visible=!0}hide(){this._cfg.visible=!1}_stopToggle(){this.toggleAnimation&&this.toggleAnimation.stop()}fadeIn(t){const e={duration:t,animationMethod:"fadeInOrOut",hideType:"show"};this._toggleShow(e)}fadeOut(t){const e={duration:t,animationMethod:"fadeInOrOut",hideType:"hide"};this._toggleShow(e)}_toggleShow(t){const e=this._part;let{finished:n,duration:i=600,cosmetic:a=!1,hideType:o,animationMethod:r}=t;if(this._nodeOpacity||(this._nodeOpacity=void 0!==this._part.data.opacity?this._part.data.opacity:1),Object(N.A)(e)?e.memberParts.each(t=>{!0!==t.data.hide&&t.elements.each(t=>{t.opacity=1})}):e.elements.each(t=>{t.opacity=1}),this._graph.diagram&&!this._cfg.visible&&(this._cfg.style.opacity=0),"hide"===o&&this._graph.diagram&&void 0!==this._cfg.visible&&!this._cfg.visible||"show"===o&&this._cfg.visible&&this._graph.diagram)return;this._cfg.visible=!0,e.data.visible&&(Object(N.d)(e.diagram,[e]),Object(N.e)(e.diagram,[e]),he(e.diagram)),i="none"===r?1:i;const s={duration:i,cosmetic:a};s.finished=()=>{if(!a){const t="show"===o;this._cfg.visible=t,this._cfg.style.opacity=this._nodeOpacity}this._graph.diagram||Object(N.N)(e),"function"==typeof n&&n()};const l="show"===o?this._nodeOpacity:0;let c;e.data.hide&&(c="show"===o?0:this._nodeOpacity),this.toggleAnimation=this._addAnimation({opacity:l,startOpacity:c},s),this.toggleAnimation.start();const h=t=>{"show"===o?t.fadeIn({duration:i}):t.fadeOut({duration:i})};"group"===this.type?this._part.memberParts.each(t=>{t.dom&&h(t.dom)}):e.dom&&h(e.dom)}hasState(t){return this._states.has(t)}setState(t,e){if("string"!=typeof t)return;const n=this._states;e?n.add(t):(n.delete(t),this._resetData()),this.update()}getStates(){return Array.from(this._states)}clearStates(t){const e=this._states;e.size&&(void 0===t?e.clear():Array.isArray(t)?t.forEach(t=>{e.delete(t)}):"string"==typeof t&&e.delete(t))}_resetData(){const t=this._part.data,e=this._cfg.style||{};h.l.forEach(n=>{e.hasOwnProperty("attr")||delete t[n]})}_computeStateStyles(){const t=[...this._states],e="node"===(this.type||"node")?this._graph.nodeStateStyles:this._graph.linkStateStyles,n=this._cfg.stateStyles,i={};return t.forEach(t=>{e[t]&&Object.assign(i,e[t]),n&&n[t]&&Object.assign(i,n[t])}),i}flicker(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this._part;this.flickerAnimation&&this.flickerAnimation.stop();const{isShadowed:n,shadowOffset:i,shadowBlur:o,shadowColor:r="rgba(0,0,0,0.5)"}=e.data;this.flickerAnimation=new a.e.Animation;const{duration:s=800,color:l="red",blur:c=20,runCount:h=1/0,finished:d,easing:u="EaseInOutQuad"}=t;this.flickerAnimation.duration=s,this.flickerAnimation.reversible=!0,this.flickerAnimation.runCount=h,this.flickerAnimation.finished=()=>{const t={isShadowed:n,shadowOffset:i,shadowColor:r,shadowBlur:o};Object.assign(e.data,t),"function"==typeof d&&d()},this.flickerAnimation.easing=bi(u);const f=t=>{t.data.isShadowed=!0,t.data.shadowOffset=new a.e.Point(0,0),t.data.shadowColor=l,t.data.shadowBlur=0,t.updateTargetBindings(),this.flickerAnimation.add(t,"shadowBlur",0,c)};if(Object(N.B)(e)){const t=e.memberParts,n=e.diagram.links.filter(t=>t.data.group===e.data.key);(new a.e.Set).addAll(t).addAll(n).each(f)}else f(e);this.flickerAnimation.start()}stopFlicker(){this.flickerAnimation&&this.flickerAnimation.stop()}isFlickering(){var t;return Boolean(null===(t=this.flickerAnimation)||void 0===t?void 0:t.isAnimating)}progress(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this._part;this.progressAnimation&&this.progressAnimation.stop(),this.progressAnimation=new a.e.Animation;const{duration:n,progressColor:i,progressDirection:o,runCount:r=1/0,finished:s,easing:l,progressValue:c=0,cosmetic:h=!1}=t,d=isNaN(c)?0:Number(c)/100;this.progressAnimation.duration=n,this.progressAnimation.runCount=r,this.progressAnimation.finished=s,this.progressAnimation.easing=bi(l),e.data.progressColor=i,e.data.progressDirection=o,e.updateTargetBindings();const u=e.findObject("Progress");this.progressAnimation.add(u,"progressValue",e.data.progressValue||0,d,h),this.progressAnimation.finished=()=>{h||(e.data.progressValue=d),"function"==typeof s&&s()},this.progressAnimation.start()}stopProgress(){this.progressAnimation&&this.progressAnimation.stop()}get isAnimating(){var t;return Boolean(null===(t=this.animation)||void 0===t?void 0:t.isAnimating)}animate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(g.r)(t))throw new Error("Invalid first argument");if(e&&!Object(g.r)(e))throw new Error("Invalid second argument");const n="link"===this.type?h.b:h.a;t=Object.fromEntries(Object.entries(t).filter(t=>{let[e,i]=t;return n.includes(e)})),e=Object.fromEntries(Object.entries(e).filter(t=>{let[e,n]=t;return h.c.hasOwnProperty(e)}));const i=this._addAnimation(t,e);return this.animation=i,i.start(),i}_addAnimation(t,e){const n=this._part,i=n.data,{position:o,startOpacity:r,...s}={...t};if(o){const t=u({...this._cfg,position:o});s.location=a.e.Point.parse(t)}const{cosmetic:l=!1,finished:c,easing:d,reverse:p,...g}=e;g.easing=bi(d);const m=new a.e.Animation;for(const t in s){var y;let e=null!==(y=this[t])&&void 0!==y?y:i[t];h.e.includes(t)&&(e=this.style[t]),"location"===t&&(e=a.e.Point.parse(i.loc)),"shadowOffset"!==t||e||(e=s[t]),"opacity"===t&&void 0!==r&&(e=r);const o=s[t];if("group"===this.type)m.addGroupAnimation(n,t,e,o,l);else if("link"===this.type){const a=n.findObject("LINK_SHAPE"),r=n.findObject("FROM_ARROW"),s=n.findObject("TO_ARROW");switch(t){case"stroke":a&&m.add(a,t,e,o,l),r&&m.add(r,t,e,o,l),s&&m.add(s,t,e,o,l),r&&!i.fromArrowOutline&&m.add(r,"fill",e,o,l),s&&!i.toArrowOutline&&m.add(s,"fill",e,o,l);break;case"fontColor":n.elements.filter(t=>"LABEL"===t.name).each(t=>{const n=t.findObject("TEXT");m.add(n,"stroke",e,o,l)});break;case"strokeWidth":a&&m.add(a,t,e,o,l),s&&m.add(s,t,e/2,o/2,l),r&&m.add(r,t,e/2,o/2,l);break;case"strokeDashOffset:pipe":{const t=n.findObject("PIPE");m.add(t,"strokeDashOffset",p?0:o,p?o:0,l);break}default:m.add(n,t,e,o,l)}}else if("node"===this.type)switch(t){case"fill":case"stroke":case"strokeWidth":{const a=n.findObject("SHAPE");a&&("fill"===t&&(e=Object(Qi.a)({color:e,width:i.width,height:i.height}).color),m.add(a,t,e,o,l))}break;case"fontColor":{const t=n.findObject("TEXT");t&&m.add(t,"stroke",e,o,l);break}case"width":"image"===n.category&&n.data.size&&(e=a.e.Size.parse(n.data.size).width),m.add(n,"partWidth",e,o,l);break;case"height":"image"===n.category&&n.data.size&&(e=a.e.Size.parse(n.data.size).height),m.add(n,"partHeight",e,o,l);break;case"angle":m.add(n,"partAngle",e,o,l);break;case"progressValue":{const t=n.findObject("Progress");t&&m.add(t,"progressValue",e||0,o,l)}break;default:m.add(n,t,e,o,l)}}for(const t in g)m[t]=g[t];return m.finished=()=>{if(!l){const o={...t};if(void 0!==o.width||void 0!==o.height||void 0!==o.angle||o.position){var e;const t=i.width||a.e.Size.parse(i.size).width,r=i.height||a.e.Size.parse(i.size).height,s=null!==(e=o.angle)&&void 0!==e?e:n.data.angle||0,l={loc:a.e.Point.stringify(n.location),angle:s,width:t,height:r};o.position=f(l)}const r={};for(const t in o)h.e.includes(t)&&(r[t]=o[t],delete o[t]);o.style=r,this.update(o)}"function"==typeof c&&c()},m}stopAnimate(){this.isAnimating&&this.animation.stop()}}class Go extends Vo{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.type="node"}moveTo(t,e){if(!(Array.isArray(t)&&(t[0],1)&&(t[1],1)))throw new Error("The position parameter is incorrect");e?(this.movingAnimation=this._addAnimation({position:t},e),this.movingAnimation.start()):this._cfg.position=t}stopMoving(){this.movingAnimation&&(this.movingAnimation.stop(),this.movingAnimation=null)}rotateTo(t,e){if(isNaN(t))throw new Error("The angle parameter is incorrect");e?(this.rotatingAnimation=this._addAnimation({angle:t},e),this.rotatingAnimation.start()):this._cfg.angle=t}stopRotating(){this.rotatingAnimation&&(this.rotatingAnimation.stop(),this.rotatingAnimation=null)}getLinks(){const t=[];return this._part.findLinksConnected().each(e=>{t.push(e._object)}),t}getInLinks(){const t=[];return this._part.findLinksInto().each(e=>{t.push(e._object)}),t}getRelationships(t){let e=this._part.findLinksConnected();t&&(e=e.filter(e=>{const{attrs:n=[],customProperties:i=[]}=e.data,a=[...n,...i].map(t=>[t.key,t.value]);return Object.fromEntries(a).rltType===t}));const n=[];return e.each(t=>{const e=t.getOtherNode(this._part);e&&n.push(e._object)}),n}getOutLinks(){const t=[];return this._part.findLinksOutOf().each(e=>{t.push(e._object)}),t}setIcon(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(N.u)(t)||{};const{color:i,shape:o,align:r="TopRight"}=e;n.alignment=a.e.Spot.stringify(a.e.Spot[r]),n.alignmentFocus="Center",void 0!==i&&(n.color=i),void 0!==o&&(n.figure=o);try{n=JSON.stringify(n)}catch(t){}const s=this._part.diagram,l=this._part.data;s.model.set(l,"badge",n),Object(N.g)(s,[l])}pause(){const t=this._part;Object(vi.b)(t)}play(){const t=this._part;Object(vi.c)(t)}}class Uo extends Vo{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.type="link"}getSource(){var t;if(!this.source)return null;const e=null===(t=this._part.diagram)||void 0===t?void 0:t.findNodeForKey(this.source);return e?e._object:null}getTarget(){var t;if(!this.target)return null;const e=null===(t=this._part.diagram)||void 0===t?void 0:t.findNodeForKey(this.target);return e?e._object:null}flow(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stopFlow(),this._loop(t)}stopFlow(){this.flowAnimation&&(this.flowAnimation.stop(),this.flowAnimation=null)}isFlowing(){var t;return Boolean(null===(t=this.flowAnimation)||void 0===t?void 0:t.isAnimating)}_loop(t){const{color:e="#fff",width:n=3,runCount:i=1/0,easing:a="EaseLinear",direction:o="forward",finished:r,...s}=t,l=this._part.findObject("PIPE");l&&(l.visible=!0,l.stroke=e,l.strokeWidth=n,s.easing=a,s.cosmetic=!0,s.runCount=i,s.reverse="backward"===o,s.finished=()=>{const t=this._part.findObject("PIPE");t&&(t.visible=!1),"function"==typeof r&&r()},this.flowAnimation=this._addAnimation({"strokeDashOffset:pipe":60},s),this.flowAnimation.start())}}class Wo extends Go{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.type="group"}_update(t){const e=this._part;if("around-group"!==e.category)return void Go.prototype._update.call(this,t);const n=this._computeStateStyles(),i=p(e.data);h.l.includes(t)?i.style[t]=this._cfg.style[t]:i[t]=this._cfg[t];const o=this._part.diagram,r=this._part.memberParts,s=o.links.filter(t=>t.data.group===this._part.data.key),l=(new a.e.Set).addAll(r).addAll(s);switch(h.l.includes(t)&&l.each(e=>{e._object.style[t]=this.style[t]}),t){case"visible":l.each(t=>{t._object.visible=this.visible}),Object.assign(e.data,d(i,n)),this._part.updateTargetBindings();break;case"style":l.each(t=>{t._object.style=this.style});break;case"position":Object(N.G)(e,this.position),l.each(t=>{if(t instanceof a.e.Node){const e=t._object,n=t.data;e.position=f(n)}});break;case"width":case"height":Object(N.l)(e,t,this[t]),l.each(t=>{if(t instanceof a.e.Node){const e=t._object;e.width=t.resizeObject.width,e.height=t.resizeObject.height,e.position=f(t.data)}}),this.position=f(e.data);break;case"scale":Object(N.k)(e,this.scale),l.each(t=>{if(t instanceof a.e.Node){const e=t._object;e.scale=t.data.scale,e.position=f(t.data)}});break;case"angle":Object(N.j)(e,this.angle),l.each(t=>{if(t instanceof a.e.Node){const e=t._object;e.angle=t.data.angle,e.position=f(t.data)}});break;default:Object.assign(e.data,d(i,n)),this._part.updateTargetBindings()}}}class qo extends Go{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t={...h.g,...t},t.category="combo",t.isGroup=!0,super(t),this.type="combo"}}class Yo{constructor(t,e){let{container:n}=e;this.url=t,this.topo=new zo({container:n})}waitForComplete(){return new Promise((t,e)=>{this.topo._offlineLoad(this.url).then(e=>{t(Object.assign(this.topo,e))}).catch(t=>{throw Error("The bundle data is incorrect.")})})}}const Xo={version:"1.0.0",Graph:zo,Node:Go,Link:Uo,Group:Wo,Combo:qo,Utils:{loadBundle(t,e){let{container:n}=e;return new Yo(t,{container:n})}}};window.THING=window.THING||{},window.THING.DIAGRAM=Xo;e.default=Xo},function(t,e,n){"use strict";var i=n(0);class a extends i.e.GridLayout{doLayout(t){super.doLayout(t);let e=[];const n=this.spacing?this.spacing.width:0;let i=0;t.each(t=>{e.push(t)}),e=e.sort((t,e)=>t.position.x-e.position.x|0),e.length>0&&(i=e[0].position.x,e.forEach(t=>{t.moveTo(i,t.position.y,!0),i+=t.actualBounds.width+n}))}}i.e.CircularLayout;var o=n(6),r=n(5),s=n(2);const l=new WeakMap;const c=i.e.GraphObject.make;function h(t){const e=t.memberParts.filter(t=>t instanceof i.e.Node);let n=1/0,a=1/0,o=-1/0,r=-1/0;e.each(t=>{const e=t.actualBounds;e.x<n&&(n=e.x),e.y<a&&(a=e.y);const i=e.width,s=e.height;e.x+i>o&&(o=e.x+i),e.y+s>r&&(r=e.y+s)});const s=n,l=a,c=o-n,d=r-a;if(e.count){let e=c+20,n=d+20;const a=i.e.Size.parse(t.data.size).width||t.data.width,o=i.e.Size.parse(t.data.size).height||t.data.height;e<a&&(e=a),n<o&&(n=o),"group"===t.data.category?(t.location=i.e.Point.parse("".concat(s-(e-c)/2," ").concat(l-25-(n-d)/2)),t.resizeObject.desiredSize=i.e.Size.parse("".concat(e," ").concat(n+25))):t.data.readyUpdateGroupBounds=!0}t.containingGroup&&setTimeout(()=>{h.call(this,t.containingGroup)},50)}function d(t,e){const n=t.memberParts.filter(t=>t instanceof i.e.Node);let a=1/0,o=1/0,r=-1/0,s=-1/0;n.each(t=>{const e=t.resizeObject.desiredSize.width-0||t.actualBounds.width,n={x:t.position.x,y:t.position.y,width:e,height:t.actualBounds.height};n.x<a&&(a=n.x),n.y<o&&(o=n.y);const i=n.width,l=n.height;n.x+i>r&&(r=n.x+i),n.y+l>s&&(s=n.y+l)});const l=a,c=o,h=r-a,d=s-o;if(n.count){let n=t.data.leafGroup?h+60:h-10,a=d+0-10;if(n<i.e.Size.parse(t.data.size).width&&(n=i.e.Size.parse(t.data.size).width),a<i.e.Size.parse(t.data.size).height&&(a=i.e.Size.parse(t.data.size).height),1!==t.data.level||e&&"boolean"==typeof e)t.location=i.e.Point.parse("".concat(l-(n-h)/2," ").concat(c-0-(a-d)/2)),t.resizeObject.desiredSize=i.e.Size.parse("".concat(n," ").concat(a));else if(1===t.data.level){const o=e.additionalElements.padLeft,r=e.additionalElements.padRight,s=e.additionalElements.padUp,u=e.additionalElements.padDown;n+=o+r,a+=s+u,t.location=i.e.Point.parse("".concat(l-(n-h)+r," ").concat(c-0-(a-d)+u)),t.resizeObject.desiredSize=i.e.Size.parse("".concat(n," ").concat(a))}}}function u(t,e){t.containingGroup&&(e.push(t.containingGroup.key,e),u(t.containingGroup,e))}i.e.Diagram.prototype.zoomToCenter=function(t){this.alignDocument(i.e.Spot.Center,i.e.Spot.Center),this.zoomToFit()},i.e.Diagram.prototype.getDiagramCiCodes=function(t){const e=[];if(t)t.each(t=>{t.data&&t.data.ciCode&&e.push(t.data.ciCode)});else{this.model.nodeDataArray.forEach(t=>{t.ciCode&&e.push(t.ciCode)})}return[...new Set(e)]},i.e.Diagram.prototype.getNodeByCiCode=function(t){let e;return this.nodes.each(n=>{n.data.ciCode&&n.data.ciCode===t&&(e=n)}),e},i.e.Diagram.prototype.getDiagramLinkRltCodes=function(t){const e=[];let n=this.links;return t&&(n=t),n.each(t=>{t.data&&t.data.rltCode&&e.push(t.data.rltCode)}),[...new Set(e)]},i.e.Diagram.prototype.getLinkByRltId=function(t){let e;return this.links.each(n=>{n.data.rltId&&n.data.rltId===t&&(e=n)}),e},i.e.Diagram.prototype.getLinkByRltCode=function(t){let e;return this.links.each(n=>{n.data.rltCode&&n.data.rltCode===t&&(e=n)}),e},i.e.Diagram.prototype.getDiagramExpandGroups=function(){return this.nodes.filter(t=>t instanceof i.e.Group&&t.isSubGraphExpanded)},i.e.Diagram.prototype.layoutCellsInGroup=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,e=arguments.length>1?arguments[1]:void 0;const n=this.skipsUndoManager;this.skipsUndoManager=!0;const o=this.getDiagramExpandGroups().filter(t=>t.data.leafGroup);this.startTransaction("layoutCellsInGroup"),o.each(n=>{n.data.leafGroup&&(n.padding=new i.e.Margin(0,0,0,50));const o=n.actualBounds;n.data.originX=o.x,n.data.originY=o.y;const r=n.memberParts.filter(t=>t instanceof i.e.Node);c(a,{wrappingColumn:t+100,spacing:i.e.Size.parse("20 10"),cellSize:i.e.Size.parse("200 200"),sorting:i.e.GridLayout.Ascending,comparer:function(t,n){const i=e.ciSortRule;let a=t.data.ciCode,o=n.data.ciCode;return i&&(a=t.data.attrs?t.data.attrs.find(t=>t.key===i).value:"",o=n.data.attrs?n.data.attrs.find(t=>t.key===i).value:""),a&&o?a.localeCompare(o):0}}).doLayout(r)}),this.commitTransaction("layoutCellsInGroup"),this.updateGroupBounds(void 0,!1,!0),o.each(t=>{t.move(new i.e.Point(t.data.originX,t.data.originY))}),this.skipsUndoManager=n},i.e.Diagram.prototype.updateGroupBounds=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.startTransaction("updateGroupBounds");const a=new Set;let o=this.nodes.filter(t=>t instanceof i.e.Group);t&&(o=o.filter(e=>e===t));let r=[];const s=[];o.each(t=>{r.push(t.findSubGraphLevel())}),r=r.sort((t,e)=>e-t),r.forEach(t=>{o.each(e=>{e.findSubGraphLevel()===t&&-1===s.indexOf(e.key)&&(a.add(e),u(e,s))})}),a.forEach(t=>{n?d.call(this,t,n):h.call(this,t)}),e&&this.zoomToCenter(),this.updateLinkPoints(),this.commitTransaction("updateGroupBounds")},i.e.Diagram.prototype.updateLinkPoints=function(t){const e=t=>{try{t.startRoute(),t.computePoints(),t.commitRoute()}catch(t){}};t?e(t):this.links.each(t=>{e(t)})},i.e.Diagram.prototype.clearDiagram=function(){this.model.nodeDataArray=[],this.model.linkDataArray=[]},i.e.Diagram.prototype.setGridSnapEnabled=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(t){const t=this.pageSetting.diagramSetting.gridSnap;this.toolManager.draggingTool.isGridSnapEnabled=t,this.toolManager.resizingTool.isGridSnapEnabled=t,this.toolManager.linkingTool.isGridSnapEnabled=t,this.toolManager.relinkingTool.isGridSnapEnabled=t,this.toolManager.linkReshapingTool.isGridSnapEnabled=t}else{const e=this.lastInput;!(e.control||e.meta)||!e.left&&/\w+/.test(e.key)||(this.toolManager.draggingTool.isGridSnapEnabled=t,this.toolManager.resizingTool.isGridSnapEnabled=t,this.toolManager.linkingTool.isGridSnapEnabled=t,this.toolManager.relinkingTool.isGridSnapEnabled=t,this.toolManager.linkReshapingTool.isGridSnapEnabled=t)}},i.e.Diagram.prototype.deleteParts=function(t,e){let n=new i.e.Set,a=null;t?n.addAll(t||this.selection):n.addAll(this.selection);const r=n.iterator;for(;r.next();){const t=r.value;if(t.editStatus){a=t,n=t.selection;const e=n.first().data.tempGroup;e&&n.add(this.findNodeForKey(e));break}}if(n.count){this.startTransaction("deleteParts"),this.raiseDiagramEvent("SelectionDeleting",this.selection),n.each(t=>{if(t&&t instanceof i.e.Node&&!t.data.lock){const e=this.links;e.count&&e.each(e=>{e&&(e.data.from===t.key&&(e.data.rltId?n.add(e):(this.model.setDataProperty(e.data,"from",void 0),this.model.setDataProperty(e.data,"fromSpot","Default"),e.fromNode=null)),e.data.to===t.key&&(e.data.rltId?n.add(e):(this.model.setDataProperty(e.data,"to",void 0),this.model.setDataProperty(e.data,"toSpot","Default"),e.toNode=null)))})}else if(t instanceof i.e.Link&&!t.data.lock){const e=t.fromNode,i=t.toNode;e&&e.isLinkLabel&&n.add(e),i&&i.isLinkLabel&&n.add(i)}});const t=n.filter(t=>{if("around-group"===t.category){if(t.data.aroundLock){return!Object(o.g)(this,[t]).some(t=>!t.deletable)}return!0}return t.deletable});t.filter(t=>"around-group"===t.data.category).each(t=>{const e=t.data.key;n.filter(t=>t.data.group===e&&!t.deletable).each(t=>{this.model.setDataProperty(t.data,"group",void 0),this.model.setDataProperty(t.data,"aroundPart",!1),this.model.setDataProperty(t.data,"tempAroundPart",!1)})}),this.removeParts(t,!0),a&&(a.clearSelection(),Object(o.n)(this,a,!0,!1),Object(o.i)(a).count<=1&&this.remove(a)),this.nodes.each(t=>{t.updateAdornments()}),!e&&this.raiseDiagramEvent("SelectionDeleted",t),this.commitTransaction("deleteParts"),!e&&this.raiseDiagramEvent("ChangedSelection",this.selection)}},i.e.Diagram.prototype.findTopAroundGroup=function(t){let e;for(;t;)if(t.data&&t.data.group){t=this.findPartForKey(t.data.group)}else{if(!t.data||!t.data.tempGroup){e=t;break}t=this.findPartForKey(t.data.tempGroup)}return e},i.e.Diagram.prototype.addNodeDataCollection=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=new i.e.List,n=new i.e.Map;return t.forEach(t=>{const i=Object(r.c)(t);if(delete i.key,delete i.__gohashid,i.points||i.from||i.to){this.model.addLinkData(i);const a=this.findLinkForData(i);e.add(a),n.add(t,a)}else{this.model.addNodeData(i);const a=this.findNodeForData(i);e.add(a),n.add(t,a)}}),t.forEach(e=>{if(e.from){const i=t.find(t=>t.key===e.from),a=n.getValue(i);n.getValue(e).fromNode=a}if(e.to){const i=t.find(t=>t.key===e.to),a=n.getValue(i);n.getValue(e).toNode=a}const a=e.tempGroup?"tempGroup":"group";if(e[a]){const o=t.find(t=>t.key===e[a]),r=n.getValue(o),l=n.getValue(e);r&&(Object(s.C)(r)?(l.data.tempGroup=r.data.key,delete l.data.group):(l instanceof i.e.Node&&(l.containingGroup=r),l.data.group=r.data.key))}if(Array.isArray(e.jointLabelKeys)){const i=n.getValue(e),a=[];e.jointLabelKeys.forEach(e=>{const o=t.find(t=>t.key===e);if(o){const t=n.getValue(o);t.labeledLink=i,a.push(t.key)}}),i.data.jointLabelKeys=a}}),e},i.e.Diagram.prototype.makeWaterMark=function(){let{text:t="ThingJS by UINO",rowSpacing:e=350,columeSpacing:n=320,font:i="28px 黑体"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=!0;if(a){const a=document.createElement("canvas"),o=a.getContext("2d");a.width=4e3,a.height=4e3,o.font=i,o.fillStyle="rgba(225, 225, 225, 0.1)",o.shadowOffsetX=-1,o.shadowOffsetY=-1,o.shadowBlur=0,o.shadowColor="rgba(54, 55, 57, 0.3)";const r=-10,s=280,l=-30,c=10,h=10;for(let i=0;i<c;i++)for(let a=0;a<h;a++)o.save(),o.translate(e*i,n*a),o.rotate(l*Math.PI/180),o.fillText(t,r,s),o.restore();this.waterMark=a}},i.e.Diagram.prototype.drawWaterMark=function(){const t=this.div&&this.div.firstChild;if(!t||"CANVAS"!==t.tagName)throw new Error("canvas结构异常");const{width:e,height:n}=t;if(this.waterMark){t.getContext("2d").drawImage(this.waterMark,0,0,e,n,0,0,e,n)}},i.e.Diagram.prototype.addSystemWatermark=function(){!function(t){if(l.has(t)){const e=l.get(t);return void(e.diagram||t.add(e))}const e=new i.b(i.a.Position).set({layerName:"Adornment"}).attach({_viewPosition:new i.c(0,0)}).set({shadowOffset:new i.c(-1,-1),shadowColor:"rgba(54, 55, 57, 0.3)",shadowBlur:0,shadowVisible:!0,isShadowed:!0});l.set(t,e);const n=new i.c(120,130),a=new i.c(355,320),o=Math.ceil((t.div.clientWidth-n.x)/a.x),r=Math.ceil((t.div.clientHeight-n.y)/a.y);for(let t=0;t<o;t+=1)for(let o=0;o<r;o+=1)e.add(new i.d("ThingJS by UINO").set({font:"28px 黑体",stroke:"rgba(225, 225, 225, 0.1)",angle:-30,position:new i.c(n.x+a.x*t,n.y+a.y*o)}));t.addDiagramListener("ViewportBoundsChanged",(function(t){t.diagram.commit((function(t){e.position=t.transformViewToDoc(e._viewPosition),e.scale=1/t.scale}),null)})),t.add(e)}(this)};const f=i.e.Diagram.prototype.setScrollWidth;let p=null;i.e.Diagram.prototype.setScrollWidth=function(t){f.call(this,t);{const t=this.div,e=t.lastElementChild;if(!e.getAttribute("scroll")){const n=document.createElement("div"),i=document.createElement("div");if(n.setAttribute("scroll",!0),i.setAttribute("scroll",!0),n.style.cssText="position:absolute;right:0px;height:100%;width:11px;opacity:0;z-index:10",i.style.cssText="position:absolute;bottom:0px;width:100%;height:11px;opacity:0;z-index:10",n.onmouseenter=function(){e.style.zIndex=15,e.style.pointerEvents="auto"},i.onmouseenter=function(){e.style.zIndex=15,e.style.pointerEvents="auto"},e.onmousemove=Object(s.F)((function(t){const n=document.elementsFromPoint(t.clientX,t.clientY);let i=!1;for(let t=0;t<n.length;t++){const e=n[t];if(e&&"DIV"===e.tagName&&e.getAttribute("scroll")){i=!0;break}}i||(e.style.zIndex=5,e.style.pointerEvents="none")})),t.appendChild(n),t.appendChild(i),p)this[p]=0,e.style.zIndex=5,e.style.pointerEvents="none";else{const t=f.toString().slice(-71),n=/(.)\s?=\s?11/,i=t.match(n)[1],a=new RegExp("this\\.(.+)\\s?=\\s?".concat(i)),o=t.match(a)[1];if(!o)throw new Error("更新版本时检查setScrollWidth");p=o,this[o]=0,e.style.zIndex=5,e.style.pointerEvents="none"}}}},i.e.Diagram.prototype.getEditingSelection=function(){let t=this.selection;const e=this.selection.iterator;for(;e.next();){const n=e.value;if(n.editStatus){if(t=n.selection.copy(),t.count>1){const e=this.selection.toArray().find(t=>Object(s.C)(t));e&&t.add(e)}break}}return t}}]).default}));